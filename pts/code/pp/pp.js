(function(){var dn={};dn.atn=function(u,g){var K=b.md[b.Zw("%|xK")];if(K==null)return"XYP";var X=u.toString(16).slice(0,4),w=X+g+"aQYRDCB";
return K(w).slice(5,17)+X.split("").reverse().join("")};dn.tw=function(){var u=b.md[b.LB("3M"+(b.l2(26)?"]K":"fa"))];
u=u[b.LB("]["+(!b.l2(28)?",":"`"))];return Math.floor(u()/1e3)};dn.l2=function(u){var g=0;for(var P=0;
P<u;P++)g+=Math.random();return g/u<Math.PI/4};dn.LB=function(u){var g="";if(!dn.l2(28))u+="-3";for(var P=0;
P<u.length;P++){var K=u.charCodeAt(P);if(K<32||126<K)throw"e";g+=String.fromCharCode(32+(K-32+17+3*P)%95)}return g};
dn.Zw=function(u){var g="";if(!dn.l2(28))u+="-1";for(var P=0;P<u.length;P++){var K=u.charCodeAt(P);K-=32;
K+=95e4;K-=17+3*P;K=K%95;g+=String.fromCharCode(32+K)}return g};dn.HJ=dn.LB("XP");dn.Mm=dn.LB("XYP");
dn.w3=dn.LB("c[Y");dn.a1R=dn.LB("][`");dn.ael=dn.LB("SU_");dn.c5=dn.LB("b^L");dn.a6J=dn.LB("61=");dn.Og=dn.LB("Q[M_");
dn.KK=dn.LB("WQJJ");dn.Nr=dn.LB("W^NL");dn.Fo=dn.LB("[[JJ");dn.oO=dn.LB("^\\NT");dn.a3R=dn.LB("bQUL");
dn._i=dn.LB("bQWJ");dn.ya=dn.LB("3M]K");dn.ath=dn.LB("<M]N");dn.IO=dn.LB("][WK");dn.eX=dn.LB("RXRIN");
dn.nG=dn.LB("b`bRH");dn.Ux=dn.LB("fUMZK");dn.a2b=dn.LB("WQRMKT");dn.Eh=dn.LB("XR[GPE");dn.ajn=dn.LB("aMWJRM");
dn.auZ=dn.LB("bO[OST");dn.acC=dn.LB("cM[MHT");dn.ar1=dn.LB("^Z5OQE");dn.afh=dn.LB("SU\\VOAV");dn.jq=dn.LB("aQYRDCB");
dn.yD=dn.LB("[[LGWILH");dn.Ef=dn.LB("S[L[PEKN");dn.Rv=dn.LB("aQOKURBL");dn.px=dn.LB("aQ\\VRNP?");dn.a1m=dn.LB("XZWKU(1'#");
dn.ac2=dn.LB("SQLUGE2, ");dn.aoy=dn.LB("]M_OJAQII");dn.fL=dn.LB("bQ]:LMBILH");dn.ani=dn.LB("UU[YW#ECC8");
dn.Sb=dn.LB("cQaZ&OKN<BE");dn.U9=dn.LB("P\\YKQD B@@5");dn.oo=dn.LB("aQVUYE B@@5");dn.U0=dn.LB("bQ]'WTOC9IE3");
dn.ar4=dn.LB("XZ\\KUT~?=CC3");dn.TL=dn.LB("R^NGWE\"F<A6<?");dn.an$=dn.LB("VQ]+OEJ?EHrGs,");dn.Jt=dn.LB("G95.WTM,<EF3><");
dn.GP=dn.LB("PPM+YEKN#=DB06*4");function hW(u){this.pB={};this.sm=0;this.LG();if(u!=!0)window.__kb=this}hW.FD=null;
hW.prototype.LG=function(){var u=navigator.keyboard;if(u&&window.top==window.self)u.getLayoutMap().then(function(g){hW.FD=g})};
hW.prototype.a85=function(u){var g={shiftKey:hW.jl,altKey:hW.Dd,ctrlKey:hW.A5};for(var K in g){var X=u[K],w=g[K],D=this.a(w);
if(!X&&D){for(var P=0;P<w.jQ.length;P++)this.YN(w.jQ[P])}}};hW.prototype.YT=function(u){this.sm++;this.pB[u]=!0};
hW.prototype.YN=function(u){this.sm--;delete this.pB[u];if(this.sm<=0||hW.zN(u,hW.Uk))this.reset()};
hW.prototype.a=function(u){for(var P=0;P<u.jQ.length;P++)if(this.pB[u.jQ[P]])return!0;return!1};hW.prototype.reset=function(){this.pB={};
this.sm=0};hW.prototype.mj=function(){var u=this,g=u.a(hW.jl)?10:1,K=0,X=0;if(u.a(hW.jn))K=-g;if(u.a(hW.hU))K=g;
if(u.a(hW.t$))X=-g;if(u.a(hW.t_))X=g;return new j4(K,X)};hW.prototype.Oe=function(){var u=this,g=hW.j6;
for(var P=0;P<10;P++)if(u.a(g[P]))return P;return-1};hW.zN=function(u,g){return g.jQ.indexOf(u)!=-1};
hW.aap="ZoomToggle BrightnessDown BrightnessUp AudioVolumeMute AudioVolumeDown AudioVolumeUp LaunchApplication1 F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12 Enter Shift Escape KeyV".split(" ");
hW.C8=function(u){var g=u.code;if(g=="")return!1;var K=hW.zN;if(u.altKey&&!u.shiftKey&&!u.ctrlKey){var X=hW.j6.concat([hW.RD,hW.gZ,hW.iy,hW.JO]),w=!1;
for(var P=0;P<X.length;P++)if(K(g,X[P]))return!1}return hW.aap.indexOf(g)==-1||u.shiftKey&&(g=="F5"||g=="F6")};
hW.Fy=function(u){if(typeof u=="string")return u;var g=navigator.platform.toUpperCase().indexOf("MAC")>=0;
if(u==null)return"";var K=[];for(var P=0;P<u.length;P++){var X=u[P].K2?u[P].K2:u[P];if(g&&u[P].qR)X=u[P].qR;
K.push(X)}if(g||K.length==1)return K.join(" + ");else{var w=K.pop();return K.join("+")+" + "+w}};hW.Bj=function(u){window.__kb.LG();
var g=u.code,K=hW.FD;if(K&&K.get(g)){var X={"+":"NumpadAdd","-":"NumpadSubtract",".":"Period"},w=K.get(g).toLowerCase(),D=w.charCodeAt(0);
if(97<=D&&D<=122){var q="Key"+w.toUpperCase();g=q}else if(X[w])g=X[w];return g}var X={"+":"NumpadAdd","-":"NumpadSubtract",".":"Period"},w=u.key.toLowerCase(),D=w.charCodeAt(0);
if(w.length==1){if(97<=D&&D<=122){var q="Key"+w.toUpperCase();g=q}else if(X[w])g=X[w]}if(w=="control"&&g!="")g="ControlLeft";
return g};hW.Cy=0;hW.fV=function(u,g){var K=0;if(Date.now()-hW.Cy>1e3){K=g==0?100:g*10}else{if(u%10!=0)u*=10;
K=(u+g)%100}hW.Cy=Date.now();return K};hW.a3J={nm:"No Touch",jQ:["NoTouch"]};hW.R0={K2:"Enter",jQ:["Enter","NumpadEnter"]};
hW.jl={K2:"Shift",qR:"\u21E7",jQ:["ShiftLeft","ShiftRight"]};hW.Uk={K2:"Meta",jQ:["MetaLeft","MetaRight","OSLeft","OSRight"]};
hW.A5={K2:"Ctrl",qR:"\u2318",jQ:"ControlLeft ControlRight MetaLeft MetaRight OSLeft OSRight".split(" ")};
hW.Dd={K2:"Alt",qR:"\u2325",jQ:["AltLeft","AltRight"]};hW.apL={K2:"CtrlOrAlt",jQ:hW.A5.jQ.concat(hW.Dd.jQ)};
hW.m0={K2:"Escape",jQ:["Escape"]};hW.hE={K2:"Space",jQ:["Space"]};hW.zu={K2:"Tab",jQ:["Tab"]};hW.rD={K2:"Home",jQ:["Home"]};
hW.aff={K2:"End",jQ:["End"]};hW.jn={K2:"Left",jQ:["ArrowLeft"]};hW.t$={K2:"Up",jQ:["ArrowUp"]};hW.hU={K2:"Right",jQ:["ArrowRight"]};
hW.t_={K2:"Down",jQ:["ArrowDown"]};hW.RD={K2:"+",jQ:["NumpadAdd","Equal"]};hW.gZ={K2:"-",jQ:["NumpadSubtract","Minus"]};
hW.$U={K2:";",jQ:["Semicolon"]};hW.amP={K2:"Dead",jQ:["Dead"]};hW.a7G={K2:"=",jQ:["Equal"]};hW.jA={K2:"Backspace",jQ:["Backspace"]};
hW.cG={K2:"Delete",jQ:["Delete"]};hW.aoc={K2:"Backslash",jQ:["Backslash","IntlBackslash"]};hW.agr={K2:"Slash",jQ:["NumpadDivide","Slash"]};
hW.aph={K2:"Backquote",jQ:["Backquote"]};hW.iy={K2:"[",jQ:["BracketLeft"]};hW.JO={K2:"]",jQ:["BracketRight"]};
hW.mb={K2:".",jQ:["Period"]};hW.aM={K2:",",jQ:["Comma"]};hW.ev={K2:"'",jQ:["Quote"]};hW.s={K2:"A",jQ:["KeyA"]};
hW.G8={K2:"B",jQ:["KeyB"]};hW.JR={K2:"C",jQ:["KeyC"]};hW.iO={K2:"D",jQ:["KeyD"]};hW.E={K2:"E",jQ:["KeyE"]};
hW.m$={K2:"F",jQ:["KeyF"]};hW.u_={K2:"G",jQ:["KeyG"]};hW.y7={K2:"H",jQ:["KeyH"]};hW.ym={K2:"I",jQ:["KeyI"]};
hW.VQ={K2:"J",jQ:["KeyJ"]};hW.ex={K2:"K",jQ:["KeyK"]};hW.CU={K2:"L",jQ:["KeyL"]};hW.Qs={K2:"M",jQ:["KeyM"]};
hW.ny={K2:"N",jQ:["KeyN"]};hW.qk={K2:"O",jQ:["KeyO"]};hW.eo={K2:"P",jQ:["KeyP"]};hW.S3={K2:"Q",jQ:["KeyQ"]};
hW.vZ={K2:"R",jQ:["KeyR"]};hW.Fj={K2:"S",jQ:["KeyS"]};hW.gJ={K2:"T",jQ:["KeyT"]};hW.Pw={K2:"U",jQ:["KeyU"]};
hW.E6={K2:"V",jQ:["KeyV"]};hW.pD={K2:"W",jQ:["KeyW"]};hW.O3={K2:"X",jQ:["KeyX"]};hW.arN={K2:"Y",jQ:["KeyY"]};
hW.QN={K2:"Z",jQ:["KeyZ"]};hW.cj={K2:"0",jQ:["Numpad0","Digit0"]};hW.ih={K2:"1",jQ:["Numpad1","Digit1"]};
hW.apa={K2:"2",jQ:["Numpad2","Digit2"]};hW.aw2={K2:"3",jQ:["Numpad3","Digit3"]};hW.aoV={K2:"4",jQ:["Numpad4","Digit4"]};
hW.ae2={K2:"5",jQ:["Numpad5","Digit5"]};hW.a1x={K2:"6",jQ:["Numpad6","Digit6"]};hW.a4t={K2:"7",jQ:["Numpad7","Digit7"]};
hW.a62={K2:"8",jQ:["Numpad8","Digit8"]};hW.ah6={K2:"9",jQ:["Numpad9","Digit9"]};hW.j6=[hW.cj,hW.ih,hW.apa,hW.aw2,hW.aoV,hW.ae2,hW.a1x,hW.a4t,hW.a62,hW.ah6];
hW.ag9={K2:"F1",jQ:["F1"]};hW.a2l={K2:"F2",jQ:["F2"]};hW.aiT={K2:"F3",jQ:["F3"]};hW.apI={K2:"FF",jQ:["F4"]};
hW.Zj={K2:"F5",jQ:["F5"]};hW.a3z={K2:"F6",jQ:["F6"]};hW.ar2={K2:"F7",jQ:["F7"]};hW.a42={K2:"F8",jQ:["F8"]};
hW.a6e={K2:"F9",jQ:["F9"]};hW.a3V={K2:"F10",jQ:["F10"]};hW.axC={K2:"F11",jQ:["F11"]};hW.aqs={K2:"F12",jQ:["F12"]};
function i2(u){hL.call(this);this.rd={};this.YG={};this.aw1=0;this.a4F={};this.Dt=[];this.apJ=0;this.Fo=u;
i2.QJ=this}i2.asI=function(u,g){var P=0,K=i2.YF;while(P<K.length){if((g>>>P&1)==1)break;P++}if(P!=0&&i2.nr(u,[33,126])>.7)P=0;
if(g==0||K[P][1]==""){if((g&15)!=0&&i2.nr(u,[33,126])>.7)P=0;else if(g==0)P=0;else{P=0}}return K[P][1]};
i2.Vf=120;i2.xT=20;i2.cols=16;i2._5=function(u){var g=u.name.postScriptName;if(g==null)return null;return g.replace(/ /g,"-")};
i2.po=function(u){var g=u.name,K=g.typoFamilyName?g.typoFamilyName:g.fontFamily,X=g.typoSubfamilyName?g.typoSubfamilyName:g.fontSubfamily;
if(X==null)X="Regular";var w=i2.avA,D=K.toLowerCase();for(var P=0;P<w.length;P++){if(w[P]=="roman")continue;
if(D.endsWith(" "+w[P])||D.endsWith("-"+w[P])){var q=K.length-w[P].length,C=K.slice(q);K=K.slice(0,q-1);
if(C!=""){if(X=="Regular"||X==K+" Regular")X=C;else X=C+" "+X}break}}var a="BPdots,Baloo,Diner,EB Garamond Initials,Encode Sans Semi Condensed,Encode Sans Semi Expanded,Changa,HVD Poster,IM FELL DW,IM FELL Double,IM FELL English,IM FELL FLOWERS,IM FELL French Canon,IM FELL Great Primer,itsadzoke,JUICE,Lacuna,Latin Modern Mono,Latin Modern Sans,Latin Modern Roman,Latinia,Libre Barcode,Libre Caslon,Londrina,Panefresco,Qomolangma,UnifrakturMaguntia,WC Rhesus,WC Sold Out,WC Wunderbach,Walkway".split(",");
for(var P=0;P<a.length;P++)if(K.startsWith(a[P])){var C=K.slice(a[P].length);K=a[P];if(C.startsWith(" ")||C.startsWith("-"))C=C.slice(1);
if(C!=""){if(X=="Regular")X=C;else X=C+" "+X}break}var x={"Caudex-BoldItalic":"Bold Italic","Comfortaa-Light":"Light","Comfortaa-Medium":"Medium","Comfortaa-SemiBold":"SemiBold",DevroyeSCOSF:"Regular SCOSF",DevroyeUnicode:"Regular Unicode","LeagueScriptThin-Regular":"Regular","Monda-Bold":"Bold","Nobile-Bold":"Bold","Oswald-BoldItalic":"Bold Italic","Oswald-HeavyItalic":"Heavy Italic","Oswald-LightItalic":"Light Italic","Oswald-MediumItalic":"Medium Italic","Oswald-RegularItalic":"Regular Italic","PaloAlto-Italic":"Heavy Italic"},H=x[i2._5(u)];
if(H)X=H;return[K,X]};i2.prototype.au4=function(u){var g=this.Pe();for(var K in g)if(g[K][0]==u)this.VD(K)};
i2.prototype.VD=function(u,g){if(this.rd[u])return this.rd[u];if(this.YG[u])return null;var K=null,X=this.Pe();
if(X[u]!=null)K=X[u][5];if(K==null){var w=i2.jq[u];if(w==null){var D="DejaVuSans DejaVuSans-Bold DejaVuSans-Oblique DejaVuSans-BoldOblique DejaVuSerif DejaVuSerif-Bold DejaVuSerif-Italic DejaVuSerif-BoldItalic".split(" "),q=u.toLowerCase(),C=0;
if(q.indexOf("sans")!=-1)C=0;else if(q.indexOf("serif")!=-1)C=4;var a=q.indexOf("bold")!=-1||q.indexOf("-black")!=-1,x=q.indexOf("italic")!=-1||q.indexOf("oblique")!=-1||q.endsWith("-it");
if(a&&x)C+=3;else if(x)C+=2;else if(a)C+=1;w=D[C]}if(g!=null&&g>128)w=this.ed(g,w);if(this.a4F[u]==null){this.a4F[u]=1;
var H=Date.now()-this.aw1>2e3?2e3:0;this.aw1=Date.now();alert(u+" \u27A1 "+w,H)}return this.VD(w,g)}this.YG[u]="a";
this.Fo(K)};i2.prototype.ed=function(u,g,K){var X=this.rd[g];if(X&&Typr.U.codeToGlyph(X,u)!=0)return g;
var w=this.Pe(),D=i2.a54(u),q=D[0];if(w[g]&&(w[g][3]&q)==0){if(K)for(var P=0;P<K.length;P++){var C=K[P].Name,a=w[C];
if(a&&(a[3]&q)!=0)return C}var C=i2.YF[D[1]][4];if(w[C])return C}return g};i2.a54=function(u){var g=i2.YF,K=[0];
for(var P=0;P<g.length;P++){var X=g[P][2];for(var w=0;w<X.length;w+=2)if(X[w]<=u&&u<=X[w+1]){K[0]+=1<<P;
K.push(P)}}if(K.length==1)K.push(0);return K};i2.prototype.atd=function(){var u=this.Dt,g=u[0],K=u.length-1;
alert(fc.get([22,6,0])+" "+g+(K==0?"":", ... ("+K+")")+" "+fc.get([23,0])+".",1500);this.Dt=[]};i2.prototype.a2w=function(u,g){if(g!=!0){this.Dt.push(u.name.fullName);
clearTimeout(this.apJ);this.apJ=setTimeout(this.atd.bind(this),300)}var K=i2._5(u),X=this.Pe(),w=X[K],D=i2.a5l(u);
if(w==null){var q=document.createElement("canvas"),C=q.getContext("2d");q.width=i2.Vf;q.height=i2.xT;
var a=i2.xT*1.2/u.head.unitsPerEm;C.translate(4,i2.xT*.9);C.scale(a,-a);C.fillStyle="#000000";var x=Typr.U.shape(u,i2.asI(u,D[3]),!0);
Typr.U.pathToContext(Typr.U.shapeToPath(u,x),C);C.fill();D.ahz=q.toDataURL();this.af(D)}delete this.YG[K];
this.rd[K]=u};i2.akj=function(){var u=i2.YF,g=[];for(var P=0;P<u.length;P++)g.push(u[P][0]);return g};
i2.YF=[["Latin-1","Preview",[161,169,192,246,248,255],.7,"DejaVuSans"],["Latin Ext. A","",[256,383],.7,"DejaVuSans"],["Greek","\u0395\u03BB\u03BB\u03B7\u03BD\u03B9\u03BA\u03AC",[913,929,931,969],.7,"DejaVuSans"],["Cyrillic","\u041F\u0440\u0438\u0432\u0435\u0442",[1040,1119],.7,"DejaVuSans"],["Hebrew","\u05E2\u05D1\u05E8\u05D9\u05EA",[1473,1479,1488,1514,1520,1524],.7,"DejaVuSans"],["Arabic","\u0627\u064E\u0644\u0652\u0639\u064E\u0631\u064E\u0628\u0650\u064A\u064E\u0651\u0629\u064F",[1569,1594,1600,1749],.4,"DejaVuSans"],["Hangul","\uC608\uACE0\uD3B8",[4352,4607,44032,55203,12593,12686],.7,"NotoSansKR-Regular"],["Chi-Jap-Kor","\u9810\u7FD2",[12288,12351,12352,12447,12448,12543,19968,40895],.05,"DroidSansFallback"],["Tibetan","\u0F50\u0F74\u0F42\u0F66\u0F0B\u0F62\u0F97\u0F7A\u0F0B\u0F46\u0F7A\u0F0D",[3840,3948,3953,4044],.7,"NotoSansTibetan"],["Devanagari","\u092A\u0942\u0930\u094D\u0935\u093E\u0935\u0932\u094B\u0915\u0928",[2304,2431],.7,"Hind-Regular"],["Thai","\u0E20\u0E32\u0E1E\u0E15\u0E31\u0E27\u0E2D\u0E22\u0E48\u0E32\u0E07",[3585,3642,3647,3675],.7,"K2D-Regular"],["Khmer","\u1798\u17BE\u179B\u1787\u17B6\u1798\u17BB\u1793",[6016,6109,6112,6121,6128,6137],.7,"Battambang-Regular"],["Vietnamese","Xem tr\u01B0\u1EDBc",[192,195,200,202,204,205,210,213,217,218,221,221,224,227,232,234,236,237,242,245,249,250,253,253,258,259,272,273,296,297,360,361,416,417,431,432,7840,7929],.95,"DejaVuSans"],["Bengali","\u09B8\u09CD\u09AC\u09BE\u09A7\u09C0\u09A8\u09AD\u09BE\u09AC\u09C7",[2432,2559],.2,"FreeSans"],["Emoji","",[9728,10095,127744,129535],.01,"DejaVuSans"]];
i2.a5l=function(u,g,K){var X=u.name,a=0;if(i2._5(u)==null){console.log(u);throw"No postScriptName!"}var w=i2.YF,D=[];
for(var P=0;P<w.length;P++){var q=w[P][2],C=w[P][3];D[P]=i2.nr(u,q)>C?1:0}for(var P=0;P<D.length;P++)a+=D[P]<<P;
var x=i2.po(u);return[x[0],x[1],i2._5(u),a,K,g]};i2.nr=function(u,g){var K=0,X=0;for(var w=0;w<g.length;
w+=2){for(var D=g[w];D<=g[w+1];D++){var q=Typr.U.codeToGlyph(u,D);if(q==0)X++;else K++}}return K/(K+X)};
i2.ah7=function(u,g){if(u[2]<g[2])return-1;if(u[2]>g[2])return 1;return 0};i2.ap7=function(u,g){if(u[5]=="fs/"+u[2]+".otf")u[5]="";
else if(u[5]=="gf/"+u[2]+".otf")u[5]="a";if(u[2]==(u[0]+"-"+u[1]).replace(/\s/g,"")){u[2]=""}else if(u[2]==u[0].replace(/\s/g,"")){u[2]="a"}if(g){if(u[0]==g[0])u[0]="";
if(u[1]==g[1])u[1]="";if(u[3]==g[3])u[3]="";if(u[4]==g[4])u[4]=""}return u.join(",")};i2.a8p=function(u,g){u=u.split(",");
if(u[0]=="")u[0]=g[0];if(u[1]=="")u[1]=g[1];if(u[3]=="")u[3]=g[3];else u[3]=parseInt(u[3]);if(u[4]=="")u[4]=g[4];
else u[4]=parseInt(u[4]);if(u[2]=="")u[2]=(u[0]+"-"+u[1]).replace(/\s/g,"");else if(u[2]=="a")u[2]=u[0].replace(/\s/g,"");
if(u[5]=="")u[5]="fs/"+u[2]+".otf";else if(u[5]=="a")u[5]="gf/"+u[2]+".otf";return u};i2.jq={ArialMT:"LiberationSans","Arial-BoldMT":"LiberationSans-Bold","Arial-ItalicMT":"LiberationSans-Italic","Arial-BoldItalicMT":"LiberationSans-BoldItalic",TimesNewRomanPSMT:"LiberationSerif","TimesNewRomanPS-BoldMT":"LiberationSerif-Bold","TimesNewRomanPS-ItalicMT":"LiberationSerif-Italic","TimesNewRomanPS-BoldItalicMT":"LiberationSerif-BoldItalic",CourierNewPSMT:"LiberationMono","CourierNewPS-BoldMT":"LiberationMono-Bold","CourierNewPS-ItalicMT":"LiberationMono-Italic","CourierNewPS-BoldItalicMT":"LiberationMono-BoldItalic",Courier:"CourierPrime",TrebuchetMS:"SourceSansPro-Regular","TrebuchetMS-Bold":"SourceSansPro-Semibold","TrebuchetMS-Italic":"SourceSansPro-It","TrebuchetMS-BoldItalic":"SourceSansPro-SemiboldIt","Times-Roman":"LiberationSerif",Impact:"Anton-Regular",Calibri:"SourceSansPro-Regular","Calibri-Italic":"SourceSansPro-It","Calibri-Bold":"SourceSansPro-Bold",CalibriBold:"SourceSansPro-Bold","Times-Roman":"LiberationSerif","Times-Italic":"LiberationSerif-Italic","Times-Bold":"LiberationSerif-Bold","Helvetica-Bold":"LiberationSans-Bold","HelveticaNeue-Thin":"Roboto-Thin","HelveticaNeue-Light":"Roboto-Light",HelveticaNeue:"Roboto-Regular","HelveticaNeue-Roman":"Roboto-Regular","HelveticaNeue-Medium":"Roboto-Medium","HelveticaNeue-Bold":"Roboto-Bold","HelveticaNeue-BoldItalic":"Roboto-BoldItalic","HelveticaNeue-Black":"Roboto-Black","HelveticaNeue-Heavy":"Roboto-Black","BasisGrotesque-Regular":"Roboto-Regular","BasisGrotesque-Medium":"Roboto-Medium","BasisGrotesque-Bold":"Roboto-Bold",ElementaPro:"FreeMono","ElementaPro-Bold":"FreeMonoBold","SFProText-Light":"Roboto-Light","SFProText-Regular":"Roboto-Regular","SFProText-Roman":"Roboto-Regular","SFProText-Medium":"Roboto-Medium","SFProText-Semibold":"Roboto-Medium","SFProText-Bold":"Roboto-Bold","SFProText-BoldItalic":"Roboto-BoldItalic","SFProText-Black":"Roboto-Black","SFProText-Heavy":"Roboto-Black","SFProDisplay-Light":"Roboto-Light","SFProDisplay-Regular":"Roboto-Regular","SFProDisplay-Roman":"Roboto-Regular","SFProDisplay-Medium":"Roboto-Medium","SFProDisplay-Semibold":"Roboto-Medium","SFProDisplay-Bold":"Roboto-Bold","SFProDisplay-BoldItalic":"SFProDisplay-BoldItalic","SFProDisplay-Black":"Roboto-Black","SFProDisplay-Heavy":"Roboto-Black","SFUIText-Light":"Roboto-Light","SFUIText-Regular":"Roboto-Regular","SFUIText-Roman":"Roboto-Regular","SFUIText-Medium":"Roboto-Medium","SFUIText-Semibold":"Roboto-Medium","SFUIText-Bold":"Roboto-Bold","SFUIText-BoldItalic":"SFUIText-BoldItalic","SFUIText-Black":"Roboto-Black","SFUIText-Heavy":"Roboto-Black",Verdana:"DejaVuSans","Verdana-Bold":"DejaVuSans-Bold","Verdana-Italic":"DejaVuSans-Oblique","Verdana-BoldItalic":"DejaVuSans-BoldOblique","MyriadPro-Regular":"PTSans-Regular","MyriadPro-Bold":"PTSans-Bold","MyriadPro-LightIt":"PTSans-Italic","MyriadPro-Semibold":"PTSans-Bold","MyriadPro-BlackCond":"PTSans-NarrowBold",Cambria:"Oranienbaum-Regular",Georgia:"CharisSIL","Georgia-Bold":"CharisSIL-Bold","Georgia-Italic":"CharisSIL-Italic","Georgia-BoldItalic":"CharisSIL-BoldItalic","AGaramondPro-Regular":"EBGaramond08-Regular","AGaramondPro-Bold":"EBGaramond08-Bold","AGaramondPro-Italic":"EBGaramond08-Italic",Garamond:"EBGaramond08-Regular",FontAwesome:"FontAwesome5FreeSolid","ProximaNova-Regular":"Metropolis-Regular","ProximaNova-Semibold":"Metropolis-SemiBold","ProximaNova-Light":"Metropolis-Light",BellMT:"GalatiaSIL","MinionPro-Regular":"CrimsonText-Regular",PalatinoLinotype:"TeXGyrePagella-Regular","PalatinoLinotype-Bold":"TeXGyrePagella-Bold","PalatinoLinotype-Italic":"TeXGyrePagella-Italic","PalatinoLinotype-BoldItalic":"TeXGyrePagella-BoldItalic"};
i2.prototype.Pe=function(){if(FNTS.map==null){var u=FNTS.list,g=[];for(var P=0;P<u.length;P++){g[P]=i2.a8p(u[P],g[P-1]);
g[P].Mw=P;this.af(g[P])}}return FNTS.map};i2.prototype.af=function(u){var g=u[0],K=u[1],X=u[5];if(FNTS.map==null)FNTS.map={};
FNTS.map[u[2]]=u;if(FNTS.mapFS==null)FNTS.mapFS={};var w=FNTS.mapFS[g+"---"+K];FNTS.mapFS[g+"---"+K]=u;
if(FNTS.mapSub==null)FNTS.mapSub={};var D=FNTS.mapSub[g];if(D==null)D=FNTS.mapSub[g]=[];var q=D.indexOf(K);
if(q==-1)D.push(K);else D[q]=K};i2.ar9=function(u,g){return i2.Fq(u)-i2.Fq(g)};i2.Fq=function(u){u=u.toLowerCase();
var g=i2.arg(u)+(i2.ajS(u)<<1);if(u.indexOf("cond")==-1)g+=1<<25;return g};i2.arg=function(u){return u.indexOf("italic")!=-1||u.indexOf("oblique")!=-1?1:0};
i2.avA="two,four,eight,hair,thin,ultralight,extralight,exlight,light,regular,roman,book,medium,semi bold,semibold,demibold,extra bold,extrabold,bold,heavy,ultra,x black,black,extra".split(",");
i2.amS=["two","four","eight","hair","thin","ultralight","extralight","light",["regular","roman","book"],"medium",["semibold","demibold"],"bold","extrabold","heavy","ultra","black","x black"];
i2.ajS=function(u){var g=i2.amS,K=-1,X=-1;for(var P=0;P<g.length;P++){var w=g[P];if(w instanceof Array)for(var D=0;
D<w.length;D++){var q=w[D];if(u.indexOf(q)!=-1&&(K==-1||X<q.length)){K=P;X=q.length}}else if(u.indexOf(w)!=-1&&(K==-1||X<w.length)){K=P;
X=w.length}}if(K==-1)K=8;return K};i2.Pq=function(u,g){var K=1e9,X=null,w=i2.Fq(g);for(var P=0;P<u.length;
P++){var D=Math.abs(i2.Fq(u[P])-w);if(D<K){K=D;X=u[P]}}return X};i2.prototype.aa=function(u,g){this.Pe();
return FNTS.mapFS[u+"---"+g]};i2.prototype.Rx=function(u){this.Pe();return FNTS.mapSub[u]};i2.prototype.KW=function(){this.Pe();
return FNTS.mapSub};var cX={fu:0,PC:null,gV:null,EV:null,wF:null,mP:null,gF:!0,le:0,n6:!1};cX.event=function(u){var g=new XMLHttpRequest;
g.open("GET","/papi/event.php?id="+u+"&rnd="+Math.random());g.send()};cX.FS=function(){var u=cX.Ri();
if(u==null)return null;var g=b.l2(24)?" ":"",K=b.md[b.Zw("Uu,"+g)];K=K[b.Zw(g+"$/")];var X=cX.yG(1,999);
if(X&&cX.NE(X)*50>K()/20)return[0,X];var w=u.inTeams;if(w)for(var P=0;P<w.length;P++)if(w[P][1]*50>K()/20)return[1,w[P]];
return null};cX.cO=function(){return cX.alI()!=null};cX.S$=function(){return cX.NE(cX.yG(1e3,999999999))};
cX.NE=function(u){return u==null?0:u[0]+u[1]*24*60*60};cX.yG=function(u,g){var K=cX.Ri(),X=K.pmnts,w=0,D=null;
if(X==null||X.length==0)return 0;for(var P=0;P<X.length;P++){var q=X[P],C=cX.NE(q);if(u<=q[2]&&q[2]<=g)if(w<C){w=C;
D=q}}return D};cX.Ri=function(){return cX.mP};cX.Nf=function(u){window.addEventListener("message",cX.a4o,!1);
setInterval(cX.g4,5e3);if(cX.cO()&&navigator.onLine){cX.PC=u;cX.dD()}else setTimeout(u,1)};cX.g4=function(){if(cX.cO()&&cX.n6){cX.WH(cX.gK());
cX.n6=!1}};cX.MM=function(u){cX.PC=u;var g="https://www.photopea.com/papi/login.php?redirect="+encodeURIComponent(window.location.href);
cX.EV=window.open(g,"_blank")};cX.afk=function(){localStorage.removeItem(cX.fu+"_uid");localStorage.removeItem(cX.fu+"_provider");
localStorage.removeItem(cX.fu+"_token");cX.mP=null};cX.a4o=function(u){if(u.data instanceof ArrayBuffer||u.data instanceof Object)return;
if(u.data.charAt(0)!="{")return;var g=JSON.parse(u.data);if(g.prms==null)return;var K=g.prms.split(",");
if(K[0]=="papi_logged_in"){localStorage[cX.fu+"_uid"]=K[1];cX.HE(K[2]);localStorage[cX.fu+"_provider"]=K[3];
cX.EV.close();cX.dD()}if(K[0]=="payment_complete"){cX.wF.close();cX.dD()}};cX.alI=function(){var u=localStorage[cX.fu+"_token"];
if(u!=null&&Date.now()*.001+10<parseInt(u.split("-")[0]))return u;return null};cX.HE=function(u){var g=localStorage[cX.fu+"_token"];
if(g!=null&&parseInt(u.split("-")[0])<parseInt(g.split("-")[0]))return;localStorage[cX.fu+"_token"]=u;
clearTimeout(cX.le);cX.le=setTimeout(cX.an1,Math.min(1e9,parseInt(u.split("-")[0])*1e3-Date.now()-20*1e3))};
cX.an1=function(){if(!navigator.onLine)throw"a";var u=new XMLHttpRequest;u.open("POST","https://www.photopea.com/papi/record_new.php",!0);
u.onload=cX.arH;var g=cX.dJ(0)+"&read=2";u.setRequestHeader("Content-type","application/x-www-form-urlencoded");
u.send(g)};cX.dD=function(){if(!navigator.onLine)throw"b";var u=new XMLHttpRequest;u.open("POST","https://www.photopea.com/papi/record_new.php",!0);
u.onload=cX.avd;var g=cX.dJ(0)+"&read=1";u.setRequestHeader("Content-type","application/x-www-form-urlencoded");
u.send(g)};cX.WH=function(u){if(!navigator.onLine)throw"c";var g=new XMLHttpRequest;g.open("POST","https://www.photopea.com/papi/record_new.php",!0);
g.onload=cX.aj_;var K=cX.dJ(0)+"&read=0&score="+(u.tpl?1:0)+"&spublic="+cX.gF+"&record="+encodeURIComponent(JSON.stringify(u));
g.setRequestHeader("Content-type","application/x-www-form-urlencoded");g.send(K)};cX.avd=function(u){var g=JSON.parse(u.target.response);
if(g.error){}else{cX.mP=g.user;var K=cX.gK(),X=g.record;if(g.record){cX.gF=g.spublic;cX.w2(X)}else if(K)cX.WH(K)}cX.HE(g.token);
if(cX.PC){cX.PC();cX.PC=null}if(cX.gV){cX.gV();cX.gV=null}};cX.arH=function(u){var g=JSON.parse(u.target.response);
cX.HE(g.token)};cX.aj_=function(u){var g=JSON.parse(u.target.response);cX.HE(g.token);if(cX.gV)cX.dD()};
cX.dJ=function(u){return"app="+u+"&uid="+localStorage[cX.fu+"_uid"]+"&token="+localStorage[cX.fu+"_token"]};
cX.Dj=function(){return cX.gK()};cX.zj=function(u,g){cX.w2(u);cX.n6=!0;if(g){cX.gV=g;cX.g4()}};cX.gK=function(){var u=localStorage[cX.fu+"_stateLocal"],g;
if(u==null)return null;try{g=JSON.parse(u)}catch(fc){return null}return g};cX.w2=function(u){var g=JSON.stringify(u);
localStorage[cX.fu+"_stateLocal"]=g};cX.order=function(u,g,K){cX.PC=K;var X="https://www.photopea.com/papi/order.php?ptype="+g+"&param="+u+"&uid="+localStorage[cX.fu+"_uid"]+"&token="+localStorage[cX.fu+"_token"];
cX.wF=window.open(X,"_blank")};cX.a69=function(u,g){cX.PC=g;var K="https://www.photopea.com/papi/insertKey.php?key="+u+"&uid="+localStorage[cX.fu+"_uid"]+"&token="+localStorage[cX.fu+"_token"];
cX.wF=window.open(K,"_blank")};var fc={};fc.u2=0;fc.A4={};fc.WL=function(u){var g=LNG.tables,K=g[u];
if(K==null)K=g[0];if(typeof K=="string"){K=g[u]=fc.Lb(K)}return K};fc.Lb=function(u){var g=[],K=0,X=0,w=[],D=u.length;
while(X!=D){var q=u[X];if(q=="["){g.push(w);w=[];X=K=X+1}else if(q=="]"){w.push(K==X?null:u.substring(K,X));
var C=w;w=g.pop();w.push(C);X=K=X+1}else if(q==";"){if(u[X-1]!="]")w.push(K==X?null:u.substring(K,X));
X=K=X+1}else X++}return w};fc.get=function(u){if(typeof u=="string")return u;var g=typeof u[0];if(g=="number"){for(var P=1;
P<u.length;P++)if(typeof u[P]!="number"){console.log(u);throw"e"}return fc.ash(u)}var K=fc.get(u[0]);
for(var P=1;P<u.length;P++){var X=fc.get(u[P]),w=K.indexOf("VAR"+(P-1));K=K.slice(0,w)+X+K.slice(w+4)}return K};
fc.ash=function(u){var g=JSON.stringify(u);if(fc.A4[g]!=null)return fc.A4[g];var K=fc.WL(0),X=fc.WL(fc.u2),w=fc.uG(u,X);
if(w==null)w=fc.uG(u,K);return w};fc.uG=function(u,g){for(var P=0;P<u.length;P++){g=g[u[P]];if(g==null)return null;
else if(typeof g=="string")break}if(g instanceof Array)g=g[0];return g.split("::")[0]};fc.a8G=function(){var u=function(K,X){var w=K.code,D=X.code;
if(w=="en")return-1;if(D=="en")return 1;var q=navigator.languages,C=q.indexOf(w)!=-1,a=q.indexOf(D)!=-1;
if(C&&a)return w>D?1:-1;if(C)return-1;if(a)return 1;return w>D?1:-1},g=LNG.langs.slice(0);g.sort(u);
return g};fc.RL=function(u,g){fc.u2=u;if(LNG.tables[u])g();else{var K=new XMLHttpRequest;K.open("GET","code/lang/"+u+".js");
K.onreadystatechange=function(){LNG.tables[u]=K.responseText;g()};K.send()}};fc.AZ=function(u,g){for(var K=0;
K<2;K++){var X=!1;for(var P=0;P<LNG.langs.length;P++)if(LNG.langs[P].code==u){fc.RL(P,g);X=!0}if(X)break;
u=u.split("-")[0]}};fc.GN=function(){return LNG.langs[fc.u2].code};fc.alv=function(u){for(var P=0;P<u.length;
P+=2)if(u[P+1].indexOf(">")==-1)fc.A4[JSON.stringify(u[P])]=u[P+1]};fc.a66=function(u){var g=-1,K=LNG.langs;
for(var P=0;P<K.length;P++)if(K[P].code==u)g=P;return g};var a6={xP:!1,u$:!1,U5:!1};a6.MT=function(){return b.md[dn.w3]!=b.md[dn.a3R]};
a6.KX=function(){var u=b.md[dn.Ef],g=u[dn.Og],K=0,X=dn.U0,w=b.LB("PP\\KQSB"),D=b.LB("Y_5UDDB>idge"),q=u[dn.TL](dn.ael);
q[X](dn.HJ,w);q[X](dn.nG,b.LB("fUMZKyqifDIhJ0*+&$-OG?<y~>"));g[dn.U9](q);q=u[dn.an$](w);if(q==null){K=2}else{if(!g[b.LB("R[WZDIKM")](q)){K=3}else if(Math.round(q[b.LB("VQ](RUK>@B8p71*03m}x'")]()[dn.Ux]-500)>5){K=4}g[dn.oo](q)}if(a6.u$)K=5;
if(a6.U5)K=6;return K};a6.adq=function(u){var g=b.Zw("y),+1ZRU:.787=mlITWRZVgphaifg}u~!C{+,P5)2328eDPnDJ\\NhYdgbjf2q}"),K={method:"HEAD",mode:"no-cors"},X=new Request(g,K);
fetch(X).then(function(w){return w}).then(function(w){var D=b.Zw("y),+1ZRU-:@`KGEBQS[P\\e\"Zij/y88DDvHzTSWW-Y1>DdDP"),X=new Request(D,K);
fetch(X).then(function(w){return w}).then(function(w){u(!1)}).catch(function(q){a6.u$=!0;console.clear();
u(!0)})}).catch(function(w){a6.u$=!0;console.clear();u(!0)})};a6.a4l=function(){var u=b.LB("UU[YW#ECC8"),g=b.LB("VQ](RUK>@B8p71*03m}x'"),K=b.LB("WQRMKT"),X=this.a7k[u][g]();
if(X[K]<4){a6.U5=!0;this.ac_(!0)}};a6.at5=function(){var u=b.md._cwY,g=b.md[dn.fL],K="FQh[VE\\;;J6@?18',!'*2${)mht|gfbVgjNTT^KNHR42@,00.(|#&<+atwq{][iYPOfWFCHKTF>K++B\"))y~y{q'eeq)wE^TM\\Kn_I?KSFAJ;-16;2%(/mmy/ llvVfgjId2QAF?H=L+*'03),49Onktwmpx#r<\\Qf-O]gWvGHTVEc&1~)3&{lssdidf\\qPP\\qbRBFF55Mz046.,}v@",X=String.fromCharCode(32);
u(b.LB(K)+X+X+a6.KX());if(!cX.FS())g(a6.at5,Math.round(Math.PI*1e4))};a6.v3=function(u){var g=b.md[dn.Ef],K=g[dn.TL](u[0]);
for(var X in u[1]){if(X=="txt")K[dn.Sb]=u[1][X];else K[dn.U0](X,u[1][X])}return K};a6.abL=function(u,g,K,X,w){b.Lh(K);
var D=b.md[dn.Ef],q=b.Zw(" u.$%\"86<"),C=b.Zw("!#c$,&"),a=b.md[q][C],x=!1;if(!a6.MT()&&!a6.KX()&&a&&u*g>300*300){var H=D[b.LB("VQ]+OEJ?EHDoD{&)l|&z")](dn.KK)[0],$=JSON.parse(b.Zw("lo9.!3-7>N[NWLNBc~iSbedj4,/fsy:%!~{+-5*6?[4CDhSqqY]aQ bai,kw)6/ \"#)}$D_JC8@9GRk@CFQT_z~zy\\.`*~q$}(/?L?H=?3ToZDSVU[%| Wdj+uqol{}&z'0L%45YDbbnnArE~}\"\"W$[hn/nz,92t*3+#D_=>D7R5f9bWJ\\V`gw%w!v}|-H3,!)\"0;T1<?:B>P@Id%jeZb[it.juxs{w*y#>>AGFKkSVQFNGU`yVad_gcuen8p}w6V<7,4-;F_<GJEMI[KT}Vc]{{~%chI14/$,%3>W4?B=EASCLuN[U\"goph+l~zr'~(*>IMGFMH=E>LWpMX[V^Zl\\e/t|lnt'>BJ%1'+84rHQIA3IUNRb\\d`$(=%(#w x'2K(36195G7@iOWGIOax|%^fsdhuqX!~-% .p7,2X\\qY\\]k!hsPVhZtepsnvr0P61&.'5@Y06H:TEPSNVRoorxW\\+3xl$%yX~o&5</@DFUu[o|feHK"));
for(var P=0;P<$.length;P++){var r=a6.v3($[$.length-1-P]);H[dn.ar4](r,H[dn.afD])}var c=b.Zw("p}&$2a(:"),U=b.Zw("'#!}i0%+"),O=b.Zw("ps,}$\"40");
b.md.___ggo=function(){b.md[O](dn.GP,2,function(m,i){if(!b.md[c]){b.md[c]=!0;var e=a6.amA.bind({Mx:K,atH:w,head:H,xQ:g});
e()}})}}else{var A=a6.are.bind({a7k:K,an2:X,ajI:w,xQ:g});A();setInterval(A,3e4)}};a6.are=function(){var u=b.md[dn.Ef],g=this.a7k,K=this.an2,X=this.ajI,w=this.xQ;
b.Lh(g);var D=[["XYPtSP<N8@=[;6,","XYPtSP<Q@86[;6,"],["XYPt]R<N8@=[58,","XYPt]R<Q@86[58,","W`]VVykhNKH[E73'1|&v@r{vExtjYjcf`NM\"RGKMEC5.O<8.|(|xz$xEgcmj^hxeaWFGBKK9>9=h"," \"x^xol","\"{x^ttl"]],q=X==1?1:a6.Il(w);
for(var P=0;P<q;P++){var C=Math.random()<.8?0:1;if(Date.now()>1642332480933)C=0;var a=D[C],x=u[dn.TL](dn.Mm);
x[dn.U0](dn.nG,b.LB("Ra[YRRvJF=?B0:_"));x[dn.U0](dn.c5,dn.LB(a[X-1]));if(a.length>2){var H=dn.LB(a[2])+dn.LB(a[2+X-1]),$=u[dn.TL]("a");
$[dn.U0](dn.Nr,H);$[dn.U0](dn.acC,b.Zw("pv${,,"));$[dn.U9](x);g[dn.U9]($);x[dn.GP](dn.eX,function(){cX.event(dn.LB("i^HIOI@E"))},!1)}else{x[dn.GP](dn.eX,K,!1);
g[dn.U9](x)}}};a6.Il=function(u){var g=2;if(u>=3*270+30)g=3;if(u>=4*270+30)g=4;return g};a6.amA=function(){var u=dn.U9,g=dn.U0,K=dn.GP,X=dn.jq,w=dn.nG,D=dn.c5,q=b.LB("P_bTF"),C=dn.Sb,a=dn.Eh,x=b.md[dn.Ef],H=dn.TL,$=dn.auZ,r=JSON.parse(b.Zw("lo9|35868N[NW<H@UXi%oSVkh~,%om.I4+'%\"N,,;@R_XIKCOOLWp,vodles~8lo(y }0,M%M>B:FPLJGCku+e[mqqp%nlz%yR<IB8?>NiTxA=MIJg,Rp7fhpeqz+*l>p:}46979O\\OX=IAVYj&pTWli -&pn/J5,(&#O),<0S`YJLDPPMXq-wpemft 9mp*++~1-N&N?C;GQMKHDlv,f\\nrrq&om{&zS=JC9@?OjUzI\\NRZh_T^awhw!hh~n21sv")),c=b.md,U=-1,O=c[b.Zw("f#!}f")],A=b.Zw("xy'"),m=b.Zw("TU"),i=b.Zw("Vi"),t=0;
if(O&&O[A]){var e=O[A];if(e==i)U=0;if(e==m)U=1}var S=U==-1?null:a6.v3(r[U]),E=this.Mx,Z=this.atH,N=this.head,J=this.xQ,y=b.Zw("~u*\"'/P)9ADBCrlnR]"),o=[.1,0,.9],B=Math.random();
while(o[t]<B&&t<o.length-1){B-=o[t];t++}if(t==0){console.log(0);if(!a6.xP){a6.xP=!0;var W=dn.Zw("w'x(##39.2B^edOBTTTWW_[#hl,pg{sx!}}%&*9SZY>5IAFNZOM`W}%$omqqh|ty\"BIH,(,=90D<AIipo^SQd[\"*(ggnos#=E"),F=dn.Zw("\"|'/-1)(W0?@5iqnZzwzM5:G&mhrzx|tsC{+,!WWZFbhf9!&3qy\"~j+(+*447#?EC"),G=W.split(","),L=F.split(","),Q=L[Z==1?0:1],T=L[Z==1?2:3],j=Z==1?1:a6.Il(J);
for(var p=0;p<j;p++){var M=x[H](a);for(var P=0;P<G.length;P+=2)M[g](G[P+0],G[P+1]);M[g](dn.LB("SM]GoIA"),Q);
M[g](w,y);E[u](M)}var n=dn.Zw("9z-)!5-68LW[UT[UCWg^WkY4!\\_*2)ms($\"0>^DNWZW_V=EIOJ7QcidjfGe$D*4BDLKOW[W[bbX`WSKML[^]o0ugav\"]UWV&)(l#29,=AW[pQIKJY\\[{`bi_^d|y}m$wx!|-)*GgM7IE=QIRTptj[[ skml{~}>&{z!9u:*@4nqkZcfc_WYXgji*rvf|!\"NQIJMI?=+?O8IXx^FTK`[Vbk(nuhx#_t~z{0.4e47UR/;;QAoOM)us Y_som{5/7p8BW6$8H1NnTxMPB]tP__`}^o(0kqw#v'?!3/';3<>Z;a[ZTJ\\``_sw_+hdyJ!$%~z13'LI//E5cLBNGK[QSs}u$9jj/o;|x%!1(BcH[WM:eAMS)HMUwYkg_sktv3s}=31~3C00?1@;Xx^GQuN]_h\\hqWltm{'@y(~4/*6?h::I;JEpUYQ]y}3ddseto;(& .\"G;354CFEeMCTTVX`UG[qp(=nn}o~yE}*07,QUj8BfODV&\\_`ZVlnb(*jj!p?(}*#'7-/T\\SKLREkcqilo0n\\p!gosytPy\"&,'s.@FAGC$BnXYSZw{5 (&-hptzub|/5062r1]GHBIfj~nq)iacbqts4x|t!=:bcuFSJT9HKJPyqtYaQSYk)e/hv o|xy&&#.S71C`<9HNBHuKQh2_n9.39?=BGEOSDK'/394]\\gbiCI]YWe~} pz@-4q}u%|!ssmO>7K9_dceW#9XPUZe`luc{$}u8I]0%5<2:6W[b~?UItX\\gz~%{stzm4I*\"$#254T=2>7]av\\jlp&");
n=n.replace("__",T);n=n.replace("--",Q);var d=x[H]($);d[C]=n;E[u](d)}}else if(t==1){console.log(1);if(Z==1){var V=x[H](b.Zw("u}."));
V[g](w,y);var z=x[H](b.Zw("u}."));V[u](z);z[g](b.Zw("zx"),b.Zw("AK}|~T()V`1i9eoEGwtL##V$`0e4>@rtvMOL"));
z[g](b.Zw("t!x.1"),b.Zw("pu(y~1)?).4"));var n=b.Zw("(u*:~%4<=5ECUu[VKSLZe~U[jrsk{y,/O50%-&4?X/5DLMEUSeehnmfm`8\\a%E-0tz*23+;9Y@G:eKSTLnPb^Vjbkm*.('.rx(01)97WAB<=@AQ#Iol}(ZY[1de3=mFuBL\"$TQ)__3`=lBpz|OQS*,)|'<$'(6K"),d=x[H]($);
d[C]=n;z[u](d);E[u](V)}else if(Z==2){var I=a6.Il(J);for(var P=0;P<I;P++){var V=x[H](b.Zw("u}."));V[g](w,y);
var z=x[H](b.Zw("u}."));V[u](z);z[g](b.Zw("zx"),b.Zw("rKI!#X%WV/ac9eoqDyt#~(($]_dg>A@suI|T"));z[g](b.Zw("t!x.1"),b.Zw("pu(y~1)?).4"));
var n=b.Zw("(u*:~%4<=5ECUu[VKSLZe~U[jrsk{y,/O50%-&4?X/5DLMEUSeehnmfm`8\\a%E-0tz*23+;9Y@G:eKSTLnPb^Vjbkm*.('.rx(01)97WAB<=@AQ#IolO(&]_5a43k>@uBLN!VQ_[dd`:<ADz}|PR&Y1|'<$'(6K"),d=x[H]($);
d[C]=n;z[u](d);E[u](V)}}if(!a6.xP){a6.xP=!0;var n=b.Zw("9z-)!5-68TG^U=d^]dgaOcsjy: g4l~ts*}`+'2-9BXZJ=OISZot*qh&npd$D*4?By}+M$*9AB:JHhAPQu}}'%&(]crz{s$\"B\".D[CF=ZDLF>[{ak\\Pfe#a[savi{u '<S;2O&;D<4SsYQRXK$kvV#_`rFplwr~(*[6s$-v-<7\\^CCBHmrH Puux~f3op#V!|(#/8:kF$4='=LGlnM]Um}#X0`/7m #z' a*.4/UD\\qY\\]km`U]Vdo'}esj zu\"+BW"),d=x[H]($);
d[g](b.Zw("uu,{J$*(=F>6"),b.Zw("wu$.#"));d[C]=n;N[u](d)}}else{console.log(2);var v=x[H]($);v.setAttribute(D,b.Zw("y),+1ZRU.@8iARrqq|S~P~Wcirdixxz$@$}0M2:*77D<<LPnSNX`^bZY^mnrl\";}|%G'3"));
N[u](v);var gj=JSON.parse(b.Zw("l6{$4M+7>Y17bIDNVTXPOTcd-245=+81v~/H&29T,2]D?IQOSKJO^_(-138&3,qy*C!-4O'-X?:DLJNFEJYZ#(,/4!.'lt%>{(/J\"(S:5?GEIA@ETU}'\"%+{)\"go 9v#*E|#N50:B@D<;@OPx}# $vU")),jA=[gj[0]];
if(Z==2)jA=gj.slice(1,1+a6.Il(J));for(var P=0;P<jA.length;P++){var z=x[H](b.LB("SU_"));z[g](b.LB("XP"),jA[P]);
z[g](w,y);E[u](z)}}if(S)E[u](S)};var gA={k1:-2,_f:{expires_at:0},$g:[]};gA.h4=function(u){if(u)gA.$g.splice(0,0,u);
if(gA.k1==-2){gA.k1=-1;var g=document.createElement("script");g.src="//apis.google.com/js/client.js";
document.body.appendChild(g);g.onload=function(K){setTimeout(function(){gA.k1=0;gA.h4()},100)}}if(gA.k1==-1)return;
if(gA.k1==1)return;if(gA._f.expires_at>Date.now()*.001+30){while(gA.$g.length>0)gA.$g.pop()()}else{if(gA.k1==0)gA.k1=1;
gapi.auth.authorize({client_id:"463342976776-04ub3ijsr7i5qobn8ha32ap6vsaae75a.apps.googleusercontent.com",scope:["https://www.googleapis.com/auth/drive.install","https://www.googleapis.com/auth/drive.file"].join(" "),immediate:gA.k1==2?!1:!0},gA.a7R)}};
gA.a7R=function(u){if(u&&!u.error){gA._f=u;gA.k1=!1;gA.h4()}else if(gA.k1==1){gA.k1=2;gA.h4()}else alert("Error: "+u.error)};
gA.tn=function(){return"access_token="+gA._f.access_token+"&token_type="+gA._f.token_type};gA.Mu=function(){return gA._f.token_type+" "+gA._f.access_token};
function j4(u,g){if(!u)u=0;if(!g)g=0;this.x=u;this.y=g}j4.prototype.add=function(u){return new j4(this.x+u.x,this.y+u.y)};
j4.prototype.clone=function(){return new j4(this.x,this.y)};j4.prototype.fQ=function(u){this.x=u.x;this.y=u.y};
j4.prototype.$z=function(u){return this.x==u.x&&this.y==u.y};j4.prototype.normalize=function(u){var g=Math.sqrt(this.x*this.x+this.y*this.y);
this.x*=u/g;this.y*=u/g};j4.prototype.offset=function(u,g){this.x+=u;this.y+=g};j4.prototype.fP=function(u,g){this.x=u;
this.y=g};j4.prototype.tm=function(u){return new j4(this.x-u.x,this.y-u.y)};j4.uh=function(u,g){return j4.avN(u.x,u.y,g.x,g.y)};
j4.B9=function(u,g,K){return new j4(u.x+K*(g.x-u.x),u.y+K*(g.y-u.y))};j4.a0d=function(u,g){return new j4(u*Math.cos(g),u*Math.sin(g))};
j4.avN=function(u,g,K,X){return Math.sqrt((K-u)*(K-u)+(X-g)*(X-g))};j4.E_={};j4.Xu={};j4.E_.create=function(){var u=new Float32Array(4);
return u};j4.Xu.create=function(u){var g=new Float32Array(16);g[0]=g[5]=g[10]=g[15]=1;if(u)j4.Xu.set(u,g);
return g};j4.E_.add=function(u,g,K){K[0]=u[0]+g[0];K[1]=u[1]+g[1];K[2]=u[2]+g[2];K[3]=u[3]+g[3]};j4.E_.set=function(u,g){g[0]=u[0];
g[1]=u[1];g[2]=u[2];g[3]=u[3]};j4.Xu.set=function(u,g){g[0]=u[0];g[1]=u[1];g[2]=u[2];g[3]=u[3];g[4]=u[4];
g[5]=u[5];g[6]=u[6];g[7]=u[7];g[8]=u[8];g[9]=u[9];g[10]=u[10];g[11]=u[11];g[12]=u[12];g[13]=u[13];g[14]=u[14];
g[15]=u[15]};j4.Xu.multiply=function(u,g,K){var X=u[0],w=u[1],D=u[2],q=u[3],C=u[4],a=u[5],x=u[6],H=u[7],$=u[8],r=u[9],c=u[10],U=u[11],O=u[12],A=u[13],m=u[14],i=u[15],e=g[0],S=g[1],E=g[2],Z=g[3];
K[0]=e*X+S*C+E*$+Z*O;K[1]=e*w+S*a+E*r+Z*A;K[2]=e*D+S*x+E*c+Z*m;K[3]=e*q+S*H+E*U+Z*i;e=g[4];S=g[5];E=g[6];
Z=g[7];K[4]=e*X+S*C+E*$+Z*O;K[5]=e*w+S*a+E*r+Z*A;K[6]=e*D+S*x+E*c+Z*m;K[7]=e*q+S*H+E*U+Z*i;e=g[8];S=g[9];
E=g[10];Z=g[11];K[8]=e*X+S*C+E*$+Z*O;K[9]=e*w+S*a+E*r+Z*A;K[10]=e*D+S*x+E*c+Z*m;K[11]=e*q+S*H+E*U+Z*i;
e=g[12];S=g[13];E=g[14];Z=g[15];K[12]=e*X+S*C+E*$+Z*O;K[13]=e*w+S*a+E*r+Z*A;K[14]=e*D+S*x+E*c+Z*m;K[15]=e*q+S*H+E*U+Z*i;
return K};j4.Xu.inverse=function(u,g){var K=u[0],X=u[1],w=u[2],D=u[3],q=u[4],C=u[5],a=u[6],x=u[7],H=u[8],$=u[9],r=u[10],c=u[11],U=u[12],O=u[13],A=u[14],m=u[15],i=K*C-X*q,e=K*a-w*q,S=K*x-D*q,E=X*a-w*C,Z=X*x-D*C,N=w*x-D*a,J=H*O-$*U,y=H*A-r*U,o=H*m-c*U,B=$*A-r*O,t=$*m-c*O,W=r*m-c*A,F=i*W-e*t+S*B+E*o-Z*y+N*J;
if(!F){return null}F=1/F;g[0]=(C*W-a*t+x*B)*F;g[1]=(w*t-X*W-D*B)*F;g[2]=(O*N-A*Z+m*E)*F;g[3]=(r*Z-$*N-c*E)*F;
g[4]=(a*o-q*W-x*y)*F;g[5]=(K*W-w*o+D*y)*F;g[6]=(A*S-U*N-m*e)*F;g[7]=(H*N-r*S+c*e)*F;g[8]=(q*t-C*o+x*J)*F;
g[9]=(X*o-K*t-D*J)*F;g[10]=(U*Z-O*S+m*i)*F;g[11]=($*S-H*Z-c*i)*F;g[12]=(C*y-q*B-a*J)*F;g[13]=(K*B-X*y+w*J)*F;
g[14]=(O*e-U*E-A*i)*F;g[15]=(H*E-$*e+r*i)*F;return g};j4.Xu.a4O=function(u,g,K){var X=g[0],w=g[1];K[0]=X*u[0]+w*u[4]+u[12];
K[1]=X*u[1]+w*u[5]+u[13]};j4.Xu.ax5=function(u,g,K){var X=g[0],w=g[1],D=g[2],q=g[3];K[0]=u[0]*X+u[4]*w+u[8]*D+u[12]*q;
K[1]=u[1]*X+u[5]*w+u[9]*D+u[13]*q;K[2]=u[2]*X+u[6]*w+u[10]*D+u[14]*q;K[3]=u[3]*X+u[7]*w+u[11]*D+u[15]*q};
function dS(u,g,K,X){if(!u)u=0;if(!g)g=0;if(!K)K=0;if(!X)X=0;this.x=u;this.y=g;this.m=K;this.n=X}dS.prototype.$=function(){return this.m*this.n};
dS.prototype.clone=function(){return new dS(this.x,this.y,this.m,this.n)};dS.prototype.contains=function(u,g){return u>=this.x&&u<=this.x+this.m&&(g>=this.y&&g<=this.y+this.n)};
dS.prototype.TB=function(u){return this.contains(u.x,u.y)};dS.prototype.kB=function(u){return this.x<=u.x&&this.y<=u.y&&u.x+u.m<=this.x+this.m&&u.y+u.n<=this.y+this.n};
dS.prototype.fQ=function(u){this.x=u.x;this.y=u.y;this.m=u.m;this.n=u.n};dS.prototype.$z=function(u){return this.x==u.x&&this.y==u.y&&this.m==u.m&&this.n==u.n};
dS.prototype.wu=function(u,g){this.x-=u;this.y-=g;this.m+=2*u;this.n+=2*g};dS.prototype.axh=function(u){this.wu(u.x,u.y)};
dS.prototype.I3=function(u){var g=Math.max(this.x,u.x),K=Math.max(this.y,u.y),X=Math.min(this.x+this.m,u.x+u.m),w=Math.min(this.y+this.n,u.y+u.n);
if(X<g||w<K)return new dS;else return new dS(g,K,X-g,w-K)};dS.prototype.Vg=function(u){if(u.y+u.n<this.y||u.x>this.x+this.m||u.y>this.y+this.n||u.x+u.m<this.x)return!1;
return!0};dS.prototype.fg=function(){return this.m<=0||this.n<=0};dS.prototype.offset=function(u,g){this.x+=u;
this.y+=g};dS.prototype.gk=function(u){this.offset(u.x,u.y)};dS.prototype.abn=function(){this.x=this.y=this.m=this.n=0};
dS.prototype.fP=function(u,g,K,X){this.x=u;this.y=g;this.m=K;this.n=X};dS.prototype.RN=function(u){if(this.fg())return u.clone();
if(u.fg())return this.clone();var g=this.clone();g.aht(u);return g};dS.qO=new Float32Array(2);dS.prototype.aht=function(u){if(u.fg())return;
if(this.fg()){this.fQ(u);return}this.LV(u.x,u.y);this.LV(u.x+u.m,u.y+u.n)};dS.prototype.LV=function(u,g){var K=Math.min(this.x,u),X=Math.min(this.y,g);
this.m=Math.max(this.x+this.m,u)-K;this.n=Math.max(this.y+this.n,g)-X;this.x=K;this.y=X};dS.prototype.ace=function(u,g){this.x=u;
this.y=g;this.m=this.n=0};function eV(u,g,K,X,w,D){if(typeof u==="undefined"){u=1;g=0;K=0;X=1;w=0;D=0}this._x=u;
this.U=g;this.nA=K;this.kR=X;this.OR=w;this.ic=D}eV.prototype.CJ=function(){return Math.sqrt(Math.abs(this._x*this.kR-this.U*this.nA))};
eV.prototype.auY=function(){var u=this,g=function(K){return Math.abs(K)<1e-9?0:K};u._x=g(u._x);u.U=g(u.U);
u.nA=g(u.nA);u.kR=g(u.kR);u.OR=g(u.OR);u.ic=g(u.ic)};eV.prototype.HB=function(u){return new j4(u.x*this._x+u.y*this.nA+this.OR,u.x*this.U+u.y*this.kR+this.ic)};
eV.prototype.translate=function(u,g){this.OR+=u;this.ic+=g};eV.prototype.rotate=function(u){var g=new eV(Math.cos(u),-Math.sin(u),Math.sin(u),Math.cos(u),0,0);
this.concat(g)};eV.prototype.scale=function(u,g){var K=new eV(u,0,0,g,0,0);this.concat(K)};eV.prototype.concat=function(u){this.fQ(new eV(this._x*u._x+this.U*u.nA,this._x*u.U+this.U*u.kR,this.nA*u._x+this.kR*u.nA,this.nA*u.U+this.kR*u.kR,this.OR*u._x+this.ic*u.nA+u.OR,this.OR*u.U+this.ic*u.kR+u.ic))};
eV.prototype.CD=function(){var u=this._x*this.kR-this.U*this.nA;this.fQ(new eV(this.kR/u,-this.U/u,-this.nA/u,this._x/u,(this.nA*this.ic-this.kR*this.OR)/u,(this.U*this.OR-this._x*this.ic)/u))};
eV.prototype.clone=function(){return new eV(this._x,this.U,this.nA,this.kR,this.OR,this.ic)};eV.prototype.fQ=function(u){this._x=u._x;
this.U=u.U;this.nA=u.nA;this.kR=u.kR;this.OR=u.OR;this.ic=u.ic};function eH(){}eH.os={aka:["PNG","JPG","SVG","GIF","PDF"],alP:"WEBP BMP TIFF ICO DDS TGA PPM RAW EMF DXF".split(" ")};
eH.Aw=function(u,g){var K=u.memory.buffer.byteLength;if(K<g)u.memory.grow((g-K>>>16)+1)};eH.bW={eV:function(u,g){fetch(u).then(function(K){return K.arrayBuffer()}).then(function(K){var X=new Uint8Array(K),w=0,a="";
if(g){w=X.length;var D={level:9},q=pako.deflateRaw(X,D),C=UZIP.deflateRaw(X,D);console.log(w,q.length,C.length);
X=q.length<C.length?q:C}for(var P=0;P<X.length;P++)a+=String.fromCharCode(X[P]);var x=btoa(a);console.log(JSON.stringify([w,x]))})},get:function(u,g){var K=BINDB[u],X=Date.now(),w=atob(K[1]),D=w.length,q=new Uint8Array(D);
for(var P=0;P<D;P++)q[P]=w.charCodeAt(P);if(K[0]!=0){var C=new Uint8Array(K[0]);UZIP.inflateRaw(q,C);
q=C}if(g){var a=eH.jN(q.buffer);q=eH.IB(a).Tu(q.buffer)}return q}};eH.jN=function(u){if(!(u instanceof ArrayBuffer)){console.log("Input is not ArrayBuffer")}var g=new Uint8Array(u),K=eH.UF,X,w=0,D=g.length-1;
if(K(g,[239,187,191]))w=3;while(w<g.length&&(g[w]==9||g[w]==10||g[w]==13||g[w]==32))w++;while(D!=0&&(g[D]==9||g[D]==10||g[D]==13||g[D]==32))D--;
if(K(g,[56,66,80,83]))X="psd";if(K(g,[6,6,237,245]))X="indd";if(K(g,[68,73,67,77],128))X="dcm";if(K(g,[102,116,121,112,109,105,102,49],4)||K(g,[102,116,121,112,97,118,105,102],4))X="avif";
if(K(g,[102,116,121,112,105,115,111,109],4))X="mp4";if(K(g,[102,116,121,112,109,112,52,50],4))X="mp4";
if(K(g,[0,255,75,65]))X="afphoto";if(K(g,[120]))X="pxd";if(K(g,[80,68,78,51]))X="pdn";if(K(g,[103,105,109,112,32,120,99,102,32]))X="xcf";
if(K(g,[102,105,103,45,107,105,119,105]))X="fig";if(K(g,[137,80,78,71,13,10,26,10])){X="png";var q=8;
while(q<g.length){var C=k.r(g,q);q+=4;var a=k.u6(g,q,4);q+=4;if(a=="mkTS")X="fpng";q+=C+4}}if(K(g,[87,76]))X="cdr";
if(K(g,[82,73,70,70])){var x=k9.h7(g),H=x.lv;if(H=="WEBP")X="webp";else if(H.slice(0,3)=="CDR")X="cdr";
else X=H}if(K(g,[70,79,82,77])||K(g,[76,73,83,84])||K(g,[67,65,84,32])){var x=fs.h7(g),H=x.lv;if(H=="ILBM")X="ilbm";
else X=H}if(K(g,[255,216,255]))X="jpg";if(K(g,[0,0,0,12,106,80,32,32]))X="jpg";if(K(g,[48,0,1,0],4))X="jb2";
if(K(g,[71,73,70,56]))X="gif";if(K(g,[0,0,0,2,121,102,113,76]))X="msh";if(K(g,[0,0,0,3,121,102,113,76]))X="msh";
if(K(g,[0,0,0,16]))X="atn";if(K(g,[0,1]))X="aco";if(K(g,[0,2]))X="aco";if([0,1].indexOf(g[1])!=-1&&[1,2,3,9,10,11].indexOf(g[2])!=-1&&[0,16,24,32].indexOf(g[7])!=-1)X="tga";
if(K(g,[0,2,56,66,83,76]))X="asl";if(K(g,[0,1,0,-1,0,2,0]))X="abr";if(K(g,[0,2,0,-1,0,2,0]))X="abr";
if(K(g,[0,6,0,1]))X="abr";if(K(g,[0,6,0,2]))X="abr";if(K(g,[0,7,0,2]))X="abr";if(K(g,[0,9,0,2]))X="abr";
if(K(g,[0,10,0,2]))X="abr";if(K(g,[56,66,70,83]))X="shc";if(K(g,[56,66,80,84]))X="pat";if(K(g,[56,66,71,82]))X="grd";
if(K(g,[71,73,77,80,32,71,114,97]))X="grd";if(K(g,[56,66,84,80]))X="tpl";if(K(g,[0,4,0,5]))X="acv";if(K(g,[99,117,115,104]))X="csh";
if(K(g,[0,1,0,0,0]))X="otf";if(K(g,[79,84,84,79]))X="otf";if(K(g,[116,116,99,102]))X="otf";if(K(g,[68,68,83,32]))X="dds";
if(K(g,[80,86,82,3]))X="pvr";if(K(g,[86,84,70,0]))X="vtf";if(K(g,[83,73,77,80]))X="fits";if(K(g,[0,0,1,0]))X="ico";
if(K(g,[66,77]))X="bmp";if(K(g,[40,0,0,0]))X="bmp";if(K(g,[80,49]))X="ppm";if(K(g,[80,50]))X="ppm";if(K(g,[80,51]))X="ppm";
if(K(g,[80,52]))X="ppm";if(K(g,[80,53]))X="ppm";if(K(g,[80,54]))X="ppm";if(K(g,[73,73,42,0]))X="tiff";
if(K(g,[77,77,0,42]))X="tiff";if(K(g,[70,85,74,73,70,73,76,77]))X="raf";if(K(g,[112]))X="lif";if(K(g,[73,73,26,0]))X="ciff";
if(K(g,[83,81,76,105]))X="sketch";if(K(g,[80,75])){var $=UZIP.parse(u,!0);if($["document.json"])X="sketch";
else if($.manifest)X="xd";else X="zip"}if(K(g,[123]))X="json";if(k.r(g,0)==g.length)X="icc";if(K(g,[35]))X="icc";
if(K(g,[84,73,84,76],w))X="icc";if(K(g,[76,85,84,95],w))X="icc";if(K(g,[60,63,120,109],w)){if(k.BK(g,"<look>")!=-1)X="icc";
else X="svg"}if(K(g,[60,115,118,103],w))X="svg";if(K(g,[60,33,100,111],w)||K(g,[60,33,68,79],w)||K(g,[60,33,45,45],w)){if(k.BK(g,"<svg")!=-1)X="svg";
else X="html"}if(K(g,[37,33])||K(g,[197,208,211,198])){if(k.BK(g,"%AI9_PrivateDataBegin")!=-1||k.BK(g,"%AI5_BeginLayer")!=-1)X="ai";
else X="eps"}if(K(g,[37,80,68,70],w)){if(k.BK(g,"/AIMetaData ")!=-1)X="ai";else X="pdf"}else if(K(g,[10,69,79,70],D-3))X="dxf";
if(K(g,[1,0,9,0]))X="wmf";if(K(g,[215,205,198,154]))X="wmf";if(K(g,[1,0,0,0]))X="emf";if(K(g,[118,47,49,1]))X="exr";
if(K(g,[10,10,10,10]))X="jsx";if(K(g,[77,90]))X="exe";if(X==null&&f.raw.Mo(g.length)!=null)return"tiff";
return X};eH.UF=function(u,g,K){if(K==null)K=0;for(var P=0;P<g.length;P++)if(g[P]!=-1&&u[K+P]!=g[P])return!1;
return!0};eH.IB=function(u){var g={BMP:eH.auo,CDR:eH.J1,DDS:eH.Yh,EMF:eH.oZ,DXF:eH.Qn,EPS:eH.Si,FIG:eH.xC,FPNG:eH.B6,INDD:eH.zx,GIF:eH._4,ICO:eH.JL,ILBM:eH.K3,FITS:eH.zD,EXR:eH.mH,JPG:eH.hz,LIF:eH.Wz,DCM:eH.amh,PDF:eH.Nj,PDN:eH.Rn,PNG:eH.Yb,PPM:eH.Ns,PSD:eH.VX,PXD:eH.oW,RAF:eH.b_,RAW:eH.PB,SKETCH:eH.To,SVG:eH.wT,TGA:eH.Kc,AVIF:eH.a0o,TIFF:eH.Qq,VTF:eH.PW,WEBP:eH.Q5,WMF:eH.xF,XCF:eH.gX,XD:eH.t0,EXE:eH.Ip,AI:eH.SH,AFPHOTO:eH.EH,MP4:eH.aey};
return g[u.toUpperCase()]};eH._O=function(P){var u=eH.os.aka,g=eH.os.alP,K,X=[];if(P==null)K=u.concat(g);
else K=P==0?u:g;for(var P=0;P<K.length;P++)if(eH.IB(K[P]).si)X.push(K[P]);return X};eH.a3u=function(){var u;
function g(X){var w=X.target,D=w.width,q=w.height,C=document.createElement("canvas");C.width=D;C.height=q;
var a=C.getContext("2d");a.drawImage(w,0,0);u({ZE:new dS(0,0,D,q),data:a.getImageData(0,0,D,q).data.buffer})}function K(X,w,D){u=D;
var q=document.createElement("img");q.onload=g;q.src="data:"+w+";base64,"+eH.Gt(X)}return K}();eH.Wj=function(u,g,K,X,w){var D=eH.sk(u,g,K,X,w),q=eH.M9(D);
return q.buffer};eH.M9=function(u){var g=atob(u.split(",").pop()),K=new Uint8Array(g.length);for(var P=0;
P<g.length;P++)K[P]=g.charCodeAt(P);return K};eH.sk=function(u,g,K,X,w,D){if(!(u instanceof ArrayBuffer))throw"e";
if(X==null)X="png";if(X=="png"&&D==!0){var q=eH.IB("PNG").si([[u,0]],g,K);return"data:image/png;base64,"+eH.Gt(q)}var C=eH.pK;
if(C==null)C=eH.pK=document.createElement("canvas");if(C.width!=g||C.height!=K){C.width=g;C.height=K}var a=C.getContext("2d"),x=new ImageData(new Uint8ClampedArray(u,0,g*K*4),g,K);
a.putImageData(x,0,0);return C.toDataURL("image/"+X,w)};eH.a89=function(u,g,K,X,w){if(w==null)w=0;var D="<defs> \t<filter id=\"sofGlow\" height=\"300%\" width=\"300%\" x=\"-75%\" y=\"-75%\"> \t\t<!-- Thicken out the original shape --> \t<feMorphology operator=\"dilate\" radius=\"3\" in=\"SourceAlpha\" result=\"thicken\" /> \t\t<!-- Use a gaussian blur to create the soft blurriness of the glow -->\t\t<feGaussianBlur in=\"thicken\" stdDeviation=\"4\" result=\"blurred\" />\t\t<!-- Change the colour -->\t\t<feFlood flood-color=\"rgb(255,255,255)\" result=\"glowColor\" />\t\t<!-- Color in the glows -->\t\t<feComposite in=\"glowColor\" in2=\"blurred\" operator=\"in\" result=\"softGlow_colored\" />\t\t<!--\tLayer the effects together -->\t\t<feMerge>\t\t\t<feMergeNode in=\"softGlow_colored\"/>\t\t\t<feMergeNode in=\"SourceGraphic\"/>\t\t</feMerge>\t</filter></defs>",q="<svg  xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"  width=\"128\"  height=\"128\"> "+D+"<g transform=\"translate(64 64) scale("+.25+")\">";
if(u==1)q+="<g transform=\"scale(0.07 0.07) translate(-550 -112)\"  style=\"fill:#ffffff; stroke:#000000; stroke-width:60px;\">"+"<path d=\"m 555.1899,112.08836 0,120.71094 0,920.7109 232.42188,-232.42184 111.90429,270.44924 169.76363,-84.8828 -114.09371,-273.8555 320.71481,0 z\"/>"+"</g>";
q+="<g filter=\"url(#sofGlow)\"><image transform=\"rotate("+w+")\" xlink:href=\""+g+"\" x=\""+80*K+"\" y=\""+80*X+"\" height=\"80\" width=\"80\"/></g>"+"</g>"+"</svg>";
var C=new Uint8Array(q.length);k.i5(q,C,0);var a="data:image/svg+xml;base64,"+eH.Gt(C.buffer);return{Wf:a,mf:new dS(0,0,128,128),ze:new j4(64,64)}};
eH.Gt=function(u){var g=new Uint8Array(u),K="";for(var P=0;P<g.length;P++)K+=String.fromCharCode(g[P]);
return btoa(K)};eH.acx=function(u){var g=atob(u),K=g.length,X=new Uint8Array(K);for(var P=0;P<K;P++)X[P]=g.charCodeAt(P);
return X.buffer};eH.H_=function(u){var g=[],K=[];for(var P=0;P<u.g.length;P++){var X=u.g[P];if(X.getName().slice(0,3)=="_a_"){g.push(P);
K.push(X.AG())}}return[g,K]};eH.rs=function(u,g,K,X,w,D){if(K==null)K=u.m;if(X==null)X=u.n;var q=new dS(0,0,u.m,u.n),C=new eV(K/(u.m+.001),0,0,X/(u.n+.001),0,0),x;
g=g.toUpperCase();var a=eH.IB(g);if(a.eE){u.KS();x=a.si(u,K,X,w,D)}else{if(w)w=w.slice(0);var H=eH.H_(u),$=H[0],r=H[1],c=u.j0(),U=c&&w?w.pop():!1,O=c&&!U?c[0]:null,A=null;
if(u.g1.length!=0){A=[];for(var P=0;P<u.g1.length;P++)A.push(u.g1[P].WC(q))}if($.length<2){var m=eH.a_(u.KS(),c,U),i;
if(K==u.m&&X==u.n)i=m.buffer;else{var e=R.S.qp([m,q],C);i=e.buffer.buffer;if(A){var S=f.L(q.$()*4);for(var P=0;
P<A.length;P++){f.K1(A[P],S,3);var e=R.S.qp([S,q],C),E=A[P]=f.L(e.rect.$());f.hk(e.buffer,E,3)}}}x=a.si([[i,0,u.wY,u.jv,A,O]],K,X,w)}else{var Z=[];
for(var P=0;P<$.length;P++){var N=$[P],i;for(var J=0;J<$.length;J++)u.g[$[J]].H4($[J]==N);u.Y0();u.O();
u.Z9();if(K==u.m&&X==u.n)i=u.KS().buffer.slice(0);else{var e=R.S.qp([u.KS(),q],C);i=e.buffer.buffer}i=eH.a_(new Uint8Array(i),c,U).buffer;
var y=u.g[N].getName().split(",");Z.push([i,y[1]?parseInt(y[1]):100,u.wY,u.jv,A,O])}for(var P=0;P<$.length;
P++)u.g[$[P]].H4(r[P]);u.O();u.Z9();if(w){var o=w.length,B=w[o-2],t=w[o-1],W=w[o-4]/100;if(W!=1)for(var P=0;
P<Z.length;P++)Z[P][1]=Math.round((Z[P][1]==0?16:Z[P][1])/W);if(B)Z.reverse();if(t){var F=Z.slice(1,Z.length-1);
F.reverse();Z=Z.concat(F)}}x=a.si(Z,K,X,w)}}return x};eH.a_=function(u,g,K){if(K){u=u.slice(0);ICC.U.applyLUT(g[3],g[2],u,u)}return u};
eH.hq=function(u,g){var K=g[0].MC&&g[0].MC.startsWith("_a_"),X,w=new f0(u+".psd"),D=new dS(0,0,1,1);
if(K){X=w.Wk();X.add.lsct=g4.DM;X.Q9(u);X.wS="pass";X.R3=24;X.H4(!0);w.g.push(w.z1())}for(var P=0;P<g.length;
P++){var q=g[P];D=D.RN(q.ZE);var C=w.Wk();C.H4(P==0);C.Q9(g.length==1?"Background":"Layer "+P);if(P==0&&q.wY)w.wY=q.wY;
if(P==0&&q.jv)w.jv=q.jv;if(q.MC)C.Q9(q.MC);if(q.w6)for(var P=0;P<q.w6.length;P++){var a=q.w6[P],x=f0.ox(a[0]);
x.add.vmsk._=a[1];f.J.Cg(a[1],new eV(D.m,0,0,D.n,0,0));w.Ml.push(x)}if(q.m_)w.m_=q.m_;C.rect=q.ZE.clone();
C.buffer=new Uint8Array(q.data);if(P==0&&q.nx)w.VA(q.nx);f.Dk(C);w.g.push(C)}if(K)w.g.push(X);if(g[0].g1){for(var P=0;
P<g[0].g1.length;P++){var H=new l.I2;w.g1.push(H);H.rect=g[0].ZE.clone();H.channel=g[0].g1[P]}}w.z=[K?w.g.length-1:0];
w.m=D.m;w.n=D.n;w.buffer=f.L(D.$()*4);w.O();return w};eH.atX=function(u,g,K,X,w,D){var q=new eG(h.E.l,!0);
q.b=R.QV;q.data={d:"h_stepbck"};var C={};for(var a=1;a<K.length;a++){var x=u.z.slice(0),H=eH.yu(u,D,g,K,X,a);
C["img"+a+"."+w.toLowerCase()]=new Uint8Array(eH.rs(u,w));for(var P=0;P<H;P++)D.c(q)}return UZIP.encode(C)};
eH.yu=function(u,g,K,X,w,D){var q=new eG(h.E.Y,!0),x=0;q.data={d:h.s.Tw};var C=new eG(h.E.l,!0);C.b=R.QA;
C.data={d:l.Em,xl:{buffer:null,rect:null}};var a=C.data.xl;for(var H=0;H<K.length;H++){var $=K[H],r=$.trait,c=parseInt($.docRef.slice(4,-2)),U=-1;
for(var P=0;P<u.g.length;P++)if(u.g[P].add.lyid==c)U=P;if(U==-1)continue;var O=X[0].indexOf($.varName);
if(O==-1){alert("Column "+$.varName+" is missing");return}var A=X[D][O],m=u.g[U];u.z=[U];if(r=="textcontent"){q.data.h1="app.activeDocument.activeLayer.textItem.contents = "+JSON.stringify(A)+";";
g.c(q);x++}if(r=="visibility"&&m.AG()+""!=A.toLowerCase()){q.data.h1="app.activeDocument.activeLayer.visible = "+A.toLowerCase()+";";
g.c(q);x++}if(r=="fileref"){var i=A.split("/").pop(),e=null;for(var eJ in w)if(eJ.split("/").pop()==i)e=w[eJ];
if(e==null){alert("Image "+i+" is missing.")}else{var S=eH.IB(eH.jN(e.buffer)).Tu(e.buffer)[0],E=S.ZE,Z=m.rect.m/m.rect.n,N=E.m/E.n,J=0,y=0;
if(Z>N){y=m.rect.n;J=~~(y*N)}else{J=m.rect.m;y=~~(J/N)}q.data.h1="app.activeDocument.activeLayer.visible = false;";
g.c(q);x++;var B=R.S.qp([new Uint8Array(S.data),E],new eV(J/E.m,0,0,y/E.n,0,0));a.rect=B.rect;a.buffer=B.buffer;
B.rect.x=m.rect.x+(m.rect.m-J>>>1);B.rect.y=m.rect.y+(m.rect.n-y>>>1);g.c(C);x++}}}return x};eH.Yb={};
eH.Yb.si=function(u,g,K,X){if(X==null)X=[100,!1,0,0,0];var w={sRGB:1,loop:X[3]};if(u[0][5]!=null){delete w.sRGB;
w.iCCP=u[0][5]}if(u[0][2]!=null){var D=Math.round(u[0][2]*(1e4/254));w.pHYs=[D,D,1]}var q=X[0],C=q==100?0:Math.max(2,Math.floor(q*5));
if(C==5)C=4;var a=[],x=[];for(var P=0;P<u.length;P++){a.push(u[P][0]);x.push(u[P][1])}var H=UPNG.encode(a,g,K,C,x,w,X[1]);
return H};eH.Yb.aiO=function(u,g,K){return UPNG.encodeLL([u],g,K,3,1,8)};eH.Yb.Tu=function(u){var g=Date.now(),K=UPNG.decode(u),X=UPNG.toRGBA8(K),w=K.width,D=K.height,q=0,C=K.tabs.iCCP;
if(K.tabs.pHYs)q=Math.round(K.tabs.pHYs[0]*254/1e4);if(X.length==1)return[{ZE:new dS(0,0,w,D),data:X[0],wY:q,nx:C}];
var a=[];for(var P=0;P<X.length;P++){a.push({MC:"_a_frm"+P+","+K.frames[P].delay,ZE:new dS(0,0,w,D),data:X[P],wY:q,nx:C})}return a};
eH.Ns={};eH.Ns.si=function(u,g,K,X){var w=new Uint8Array(u[0][0]),D=g*K,q=D*3,C="P6\n"+g+" "+K+"\n255\n",a=C.length,x=f.L(a+q,!0);
for(var P=0;P<a;P++)x[P]=C.charCodeAt(P);for(var P=0;P<D;P++){var H=P*4,$=P*3+a;x[$]=w[H];x[$+1]=w[H+1];
x[$+2]=w[H+2]}return x.buffer};eH.Ns.Tu=function(u){u=new Uint8Array(u);var g=[" ".charCodeAt(0),"\n".charCodeAt(0),"\t".charCodeAt(0),"\r".charCodeAt(0)],K=0,X=String.fromCharCode(u[0])+String.fromCharCode(u[1]),w=[],D=0,q=X=="P1"||X=="P4"?2:3;
for(K=2;K<u.length;K++){var C=u[K],a=String.fromCharCode(C);if(C=="#".charCodeAt(0)){while(u[K]!="\n".charCodeAt(0))K++;
continue}var x=g.indexOf(C)!=-1;if(D==0&&!x){w.push(a);D=1;continue}if(D==1&&!x){w[w.length-1]+=a;continue}if(D==1&&x){D=0;
if(w.length==q)break;continue}}var H=parseInt(w[0]),$=parseInt(w[1]),r=H*$*4,c=X=="P1"||X=="P4"?1:255/parseInt(w[2]),U=f.L(r);
if(X=="P1"||X=="P2"||X=="P3"){var O="",A=0,D=0,m="#".charCodeAt(0);for(var P=K;P<u.length;P++){var C=u[P],a=String.fromCharCode(C),x=g.indexOf(C)!=-1;
if(C==m){while(u[P]!="\n".charCodeAt(0))P++}else if(D==0&&!x){O=a;D=1}else if(D==1){if(x){D=0;var i=parseInt(O);
O="";if(X=="P1"){U[A]=U[A+1]=U[A+2]=(1-i)*255;U[A+3]=255;A+=4}if(X=="P2"){U[A]=U[A+1]=U[A+2]=Math.round(i*c);
U[A+3]=255;A+=4}if(X=="P3"){U[A]=Math.round(i*c);A++;if((A&3)==3){U[A]=255;A++}}}else O+=a}}}var e=H*$;
if(X=="P4")for(var S=0;S<$;S++){var E=S*8*Math.ceil(H/8);for(var Z=0;Z<H;Z++){var P=E+Z,N=u[K+1+(P>>3)];
N=N>>7-(P&7)&1;var J=S*H+Z<<2;U[J]=U[J+1]=U[J+2]=(1-N)*255;U[J+3]=255}}if(X=="P5")for(var P=0;P<e;P++){var J=4*P;
U[J]=U[J+1]=U[J+2]=Math.round(u[K+1+P]*c);U[J+3]=255}if(X=="P6")for(var P=0;P<e;P++){var J=4*P,y=K+1+3*P;
U[J]=Math.round(u[y]*c);U[J+1]=Math.round(u[y+1]*c);U[J+2]=Math.round(u[y+2]*c);U[J+3]=255}return[{ZE:new dS(0,0,H,$),data:U.buffer}]};
eH.Yh={};eH.Yh.si=function(u,g,K,X){if(X==null)X=[!0,!0];var w=new Uint8Array(u[0][0]),D=g&3,q=K&3;if(D!=0||q!=0){var C=g+(D==0?0:4-D),a=K+(q==0?0:4-q),x=new Uint8Array(C*a*4);
f.D4(x,4278190080);f.bV(w,new dS(0,0,g,K),x,new dS(0,0,C,a));w=x;g=C;K=a}var H=UTEX.DDS.encode(w.buffer,g,K,X);
if(!1){var $=UTEX.DDS.decode(H)[0],x=new Uint8Array($.Z4),c=0;for(var P=0;P<w.length;P++){var U=w[P]-x[P];
c+=U*U}console.log(c)}return H};eH.Yh.Tu=function(u){var g=UTEX.DDS.decode(u)[0];return[{ZE:new dS(0,0,g.width,g.height),data:g.image}]};
eH.PW={};eH.PW.Tu=function(u){var g=UTEX.VTF.decode(u).pop();return[{ZE:new dS(0,0,g.width,g.height),data:g.image}]};
eH.hz={};eH.hz.qY=null;eH.hz.awt=function(u,g){var K=eH.hz.qY,X=u.byteLength,w=g.width,D=g.height,q=w*D,C=5e6+2*X+q*(g.progressive?Math.max(2,g.numComponents)*4+1:8),a=K.instance.exports;
eH.Aw(a,C);var x=new Uint8Array(a.memory.buffer),H=a.malloc(X);x.set(new Uint8Array(u),H);var $=a.malloc(4),r=a.malloc(4),eJ=a.malloc(4),c=a.stbi_load_from_memory(H,X,$,r,eJ,4);
a.free(H);a.free($,r,eJ);a.free(c);var U=x.slice(c,c+q*4);return U};(function(){var u=eH.bW.get("wasm/jpg").buffer;
if(window.WebAssembly==null)window.alert("Your browser is too old (no WebAssembly). Please, update it.");
WebAssembly.instantiate(u).then(function(g){eH.hz.qY=g})}());eH.hz.si=function(u,g,K,X){if(X==null)X=[70];
var w=u[0],D=new Uint8Array(w[0]);if(f.b6(D)){var q=new Uint8Array(D.length),C=new dS(0,0,g,K);f.D4(q,4294967295);
f.i.L_("norm",D,C,q,C,C,1);D=q}var a=new Uint8Array(eH.Wj(D.buffer,g,K,"jpeg",X[0]/100));if(w[5]!=null){var x=eH.hz.uH(a)[226][0]+2,H=k.Z_(a,x),$=w[5].length+16,r=$-H,c=new Uint8Array(a.length+r);
for(var P=0;P<x+H;P++)c[P]=a[P];for(var P=x+H;P<a.length;P++)c[P+r]=a[P];k.Q$(c,x,$);c.set(w[5],x+16);
a=c}if(w[2]!=null){var U=eH.hz.uH(a)[224][0]+2;U+=9;a[U]=1;k.Q$(a,U+1,w[2]);k.Q$(a,U+3,w[2])}if(w[3]!=null&&X[1]==!0&&Object.keys(w[3]).length!=0){var O=0,A=0,m=0,i=kf.bl(w[3]),e=new Uint8Array(UTIF.encode([i])),S="http://ns.adobe.com/xap/1.0/",x=20;
O=4+6+e.length;var E=kf.anv(w[3]),Z=k.o0(E);A=4+S.length+1+Z.length;var N=kf.anl(w[3]);if(N.length!=0){var J=0,B=0;
for(var P=0;P<N.length;P++)J+=5+N[P][1].length;var y=J+(J&1),o=f.L(14+4+2+4+y);k.Gs(o,B,"Photoshop 3.0");
B+=14;k.Gs(o,B,"8BIM");B+=4;o[B++]=4;o[B++]=4;B+=2;k.eB(o,B,J);B+=4;for(var P=0;P<N.length;P++){var t=N[P],W=t[1];
o[B++]=28;o[B++]=2;o[B++]=t[0];k.Q$(o,B,W.length);B+=2;k.Gs(o,B,W);B+=W.length}m=4+o.length}var F=O+A+m,G=new Uint8Array(a.length+F);
for(var P=0;P<20;P++)G[P]=a[P];for(var P=20;P<a.length;P++)G[P+F]=a[P];G[x]=255;G[x+1]=225;k.Q$(G,x+2,O-2);
k.Gs(G,x+4,"Exif");for(var P=0;P<e.length;P++)G[x+10+P]=e[P];x+=O;G[x]=255;G[x+1]=225;k.Q$(G,x+2,A-2);
k.Gs(G,x+4,S);for(var P=0;P<Z.length;P++)G[x+4+S.length+1+P]=Z[P];x+=A;if(m!=0){G[x]=255;G[x+1]=237;
k.Q$(G,x+2,m-2);for(var P=0;P<o.length;P++)G[x+4+P]=o[P];x+=m}a=G}return a.buffer};eH.hz.uH=function(u){var g=0,K=[],X=u.length;
while(g<X){while(u[g]!=255&&g<X)g++;while(u[g]==255)g++;var w=u[g];g++;if(K[w]==null)K[w]=[];K[w].push(g-2);
if(w==216)continue;if(w==217)break;if(224<=w&&w<=239||w==218||w==219||w==192||w==193||w==194||w==196||w==221||w==254){var D=k.Z_(u,g);
g+=D;if(w==218)while(g<X&&(u[g]!=255||(u[g+1]==0||208<=u[g+1]&&u[g+1]<=215)))g++;continue}console.log("unknown marker ",w.toString(16),g);
break}if(K[217]==null){console.log("EOI marker missing");var q=u.length-2;u[q]=255;u[q+1]=217;K[217]=[q]}return K};
eH.hz.a8$=function(u){u=new Uint8Array(u);if(u[0]!=255)return u.buffer;var g=eH.hz.uH(u),K=eH.hz.kY(u,g);
if(K.numComponents!=4)return u.buffer;var X=K.width,w=K.height,D=eH.hz.Ew(u,g,!0);return eH.hz.si([[D[0].data]],X,w,[85])};
eH.hz.kY=function(u,g){var K=(g[192]?g[192]:g[193]?g[193]:g[194])[0]+4,X={};X.progressive=g[194]!=null;
X.precision=u[K];K++;X.height=k.Z_(u,K);K+=2;X.width=k.Z_(u,K);K+=2;X.numComponents=u[K];K++;if(g[224]){var w=X.jfif={};
K=g[224][0]+2+2+5+2;w.densityUnits=u[K];K++;w.xDensity=k.Z_(u,K);K+=2;w.yDensity=k.Z_(u,K);K+=2}if(g[238]){var w=X.adobe={};
K=g[238][0]+2+2+6;w.version=u[K];K++;w.flags0=k.Z_(u,K);K+=2;w.flags1=k.Z_(u,K);K+=2;w.transform=u[K];
K++}return X};eH.hz.a4h=function(u,g,K){var X=g,w=k.Z_(u,X);X+=2;var D=k.u6(u,X,4);if(D=="Exif"){X+=6;
var q=u.slice(X,X+w-8),C;try{C=UTIF.decode(q.buffer,{parseMN:!1,debug:!1})}catch(fc){}if(C)K.exif=C}else if(D=="http"){var a=0;
while(u[X+a]!=0)a++;var x=k.u6(u,X,a);X+=a+1;if(x=="http://ns.adobe.com/xmp/extension/"){var H=k.u6(u,X,32);
X+=32;X+=8;var $=g+w-X;while(u[X+$-1]==0)$--;if(K.xmp_extn==null)K.xmp_extn="";try{K.xmp_extn+=k.KO(u,X,$)}catch(fc){}}else if(x=="http://ns.adobe.com/xap/1.0/"){var r=k.KO(u.slice(X,X+w-a-3));
if(r[0]=="?")r="<"+r;K.xmp=r}}else console.log(D)};eH.hz.Ew=function(u,g,K){var X=eH.hz.kY(u,g),w=X.width,D=X.height,q=w*D,C,a=-1,S=72,E,N,J=null;
if(X.adobe)a=X.adobe.transform;if(K||w*D>15e7||a==0||a==2){var x=new PDFJS.JpegImage;x.parse(u);var H=x.getData({width:w,height:D,forceRGB:!0,isSourcePDF:K}),C=f.L(q*4);
for(var P=0;P<q;P++){var $=P<<2,r=$-P;C[$]=H[r];C[$+1]=H[r+1];C[$+2]=H[r+2];C[$+3]=255}}else{C=eH.hz.awt(u.buffer,X)}var c=g[225];
if(c)for(var P=0;P<c.length;P++)eH.hz.a4h(u,c[P]+2,X);var U=g[226];if(U){var O=U[0],A=k.Z_(u,O+2),m=k.u6(u,O+4,11);
if(m=="ICC_PROFILE"){var i=k.r(u,O+18);X.icc=u.slice(O+18,O+18+i)}}var e=g[217][0]+2;if(e!=u.length)X.suffix=u.slice(e);
var Z=[w,D,1,0,0,0,1,0];if(X.jfif&&X.jfif.densityUnits!=0){S=Math.round([72,1,2.54][X.jfif.densityUnits]*X.jfif.xDensity)}else if(X.exif&&X.exif[0].t282!=null){var y=X.exif[0].t282[0];
S=y[0]/y[1]}if(X.exif){var o=X.exif;E=kf.nK(o[0]);var B=o[0].t274;if(B)B=B[0];if(B!=null&&B>1&&B<20)Z=f.raw.cL(B,w,D)}if(X.xmp){E=kf.aaB(X.xmp,E)}if(X.icc)N=X.icc;
var t=g[237],W=[],F=[];if(t){var G=new Uint8Array(65536),L=0,O=0;for(var P=0;P<t.length;P++){O=t[P]+2;
var Q=O+k.Z_(u,O);O+=2;var T=O;while(u[O]!=0)O++;O++;var j=k.u6(u,T,O-T-1),p=Q-O;if(p<0)break;while(L+p>G.length){var M=new Uint8Array(G.length*2);
M.set(G);G=M}var n=new Uint8Array(u.buffer,O,p);G.set(n,L);L+=p}O=0;u=G;while(O<L){var d=k.u6(u,O,4);
O+=4;var V=k.Z_(u,O);O+=2;var z=u[O++],I=k.u6(u,O,z);O+=z;if((z&1)==0)O++;var A=k.r(u,O);O+=4;var e=O+A+(A&1);
if(V==1028){while(O+4<e){var v=u[O++],gj=u[O++],jA=u[O++],Y=k.Z_(u,O);O+=2;if(v==28&&gj==2)W.push([jA,k.u6(u,O,Y)]);
O+=Y}}else if(V==1032)J=gr.zz(u,O);else if((V&2e3)==2e3){var jv=jr.Jh(u,O,A);F.push([I,jv])}else{}O=e}if(W.length!=0)E=kf.afN(W,E)}var iR=[{ZE:new dS(0,0,w,D),data:C.buffer,wY:S,jv:E,nx:N,w6:F.length==0?null:F,m_:J}],E=X.xmp_extn;
if(E){var cj=new DOMParser,j8=cj.parseFromString(E,"image/svg+xml"),j8=j8.children[0].children[0].children[0],as=[j8.getAttribute("GImage:Data"),j8.getAttribute("GDepth:Data")];
for(var P=0;P<as.length;P++)if(as[P]){var gW=atob(as[P]),af=new Uint8Array(gW.length);k.Gs(af,0,gW);
af=af.buffer;var at=eH.jN(af),jd=eH.IB(at).Tu(af);iR.push(jd[0])}}if(X.suffix){var fM=X.suffix,hS=k.u6(fM,4,4),dr=k.BK(fM,String.fromCharCode(255)+String.fromCharCode(216)+String.fromCharCode(255));
if(eH.UF(fM,[0,0,1,10,14,0,0,0])){var O=0;while(O!=fM.length){var cB=k.bh(fM,O+2);O+=4;var b1={2272:12,2320:21,2561:13,2625:21,2721:3,2608:0}[cB];
if(b1!=null){var ic=k.yY(fM,O);O+=4;var dV=k.u6(fM,O,ic);O+=ic;var eS=k.u6(fM,O,b1);O+=b1;if(cB==2608){var a2=k.r(fM,O+24);
O+=a2+24;var d3=k.r(fM,O);O+=d3;alert("Photopea found a "+bF.pc(a2)+" MP4 video inside your image.",4e3)}}else if(cB==18502){while(k.u6(fM,O,4)!="SEFT")O+=4;
O+=4}else{break;console.log(k.fD(fM,O,128));console.log(fM.slice(O));throw cB.toString(16)}}}else if(hS=="ftyp"){alert("Photopea found a "+bF.pc(fM.length)+" MP4 video inside your image.",4e3)}else if(k.u6(fM,0,4)=="fixe"){alert("Unknown data - "+fM.length+" B - at the end of the file",3e3);
var O=4,A=k.yY(fM,O);O+=4;var cE=k.yY(fM,O);O+=4;var eP=k.yY(fM,O);O+=4;console.log(A,cE,eP,fM.slice(O,O+84));
O+=84;var jm=k.u6(fM,O,32);O+=32;O+=8;var jm=k.u6(fM,O,32);O+=32}else if(k.u6(fM,8,13)=="FocusShot_Map"){var bD=k.r(fM,0),Y=k.yY(fM,4),af=f.L(q*4),f1=f.L(q*4);
for(var ft=0;ft<D;ft++)for(var ie=0;ie<w;ie++){var P=ft*w+ie,$=P<<2,b2=8+13+((ft>>>1)*w+ie>>>1),dh=fM[b2],aY=fM[b2+(q>>>2)];
af[$]=af[$+1]=af[$+2]=dh;af[$+3]=255;f1[$]=f1[$+1]=f1[$+2]=aY;f1[$+3]=255}iR.push({ZE:new dS(0,0,w,D),data:af.buffer},{ZE:new dS(0,0,w,D),data:f1.buffer})}else if(hS=="edof"){var B=fM[8+7];
console.log(B.toString(16));var O=8+16,eF=k.bh(fM,O),de=k.bh(fM,O+2),q=eF*de;O+=4;O+=32+16;var i5=f.L(q*4);
for(var P=0;P<q;P++){var $=P<<2;i5[$]=i5[$+1]=i5[$+2]=fM[O+P];i5[$+3]=255}if(B==16){}else if(B==19){var eA=i5.slice(0);
f.Q.ur(i5,eA,eF,de);var c4=eF;eF=de;de=c4;f.Q.GM(eA,i5,eF,de)}else throw"Unknown orientation of a depth map";
iR.push({ZE:new dS(0,0,eF,de),data:i5.buffer})}else if(dr!=-1&&!(fM[0]==255&&fM[1]==129)){try{if(dr!=0)fM=fM.slice(dr);
var jd=eH.IB("jpg").Tu(fM.buffer);for(var P=0;P<jd.length;P++)iR.push(jd[P])}catch(fc){}}else if(k.u6(fM,0,4)=="PMPD"){var O=4,jC=k.yY(fM,12),hd=k.yY(fM,16),eF=k.yY(fM,1060),de=k.yY(fM,1064),iG=eF>de,cC=iR[0].ZE.m>iR[0].ZE.n,cL=fM.slice(fM.length-eF*de-4),dw=f.L(eF*de);
for(var ft=0;ft<de;ft++)for(var ie=0;ie<eF;ie++)dw[ft*eF+ie]=cL[(de-ft-1)*eF+ie];var eY=f.L(eF*de*4);
eY.fill(255);f.qM(dw,eY);if(iG!=cC){var eA=eY.slice(0);f.Q.ur(eY,eA,eF,de);var c4=eF;eF=de;de=c4;f.Q.GM(eA,eY,eF,de)}iR.push({ZE:new dS(0,0,eF,de),data:eY.buffer})}else console.log(k.u6(fM,0,4),fM)}if(iR.length>1){var cf=iR[0].ZE;
iR[0].MC="Main";for(var P=1;P<iR.length;P++){iR[P].MC=eH.hz.anR(new Uint8Array(iR[P].data))?"Depth Map":null;
var d7=iR[P].ZE;if(!d7.$z(cf)){var hs=cf.m/d7.m,hz=cf.n/d7.n,bx=new eV;bx.scale(hs,hz);var dO=R.S.rY([new Uint8Array(iR[P].data),d7],1,f.Q.$D(bx));
iR[P].ZE=dO.rect;iR[P].data=dO.buffer}}}if(eH.hz.r9==1)if(Z[2]!=1||Z[6]!=1)for(var P=0;P<iR.length;P++){var hN=iR[P],jn=new Uint8Array(hN.data),w=hN.ZE.m,D=hN.ZE.n,eF=Z[0],de=Z[1],C=f.L(eF*de*4);
f.Q.Zm(jn,w,D,C,Z);hN.ZE=new dS(0,0,eF,de);hN.data=C.buffer}return iR};eH.hz.anR=function(u){var g=!0;
for(var P=0;P<u.length;P+=4){g=g&&u[P]==u[P+1]&&u[P+1]==u[P+2]}return g};eH.hz.r9=0;eH.hz.Tu=function(u,g,K){u=new Uint8Array(u);
if(u[0]==255){var X=eH.hz.uH(u);if(X[195]==null){eH.hz.r9++;var w=eH.hz.Ew(u,X,!1);eH.hz.r9--;return w}var D=k.Z_(u,X[195][0]+5),q=k.Z_(u,X[195][0]+7),C=UTIF.LosslessJpegDecode(u),a=q*D,x=f.L(a*4);
for(var P=0;P<a;P++){var H=P<<2,$=H-P;x[H]=C[$];x[H+1]=C[$+1];x[H+2]=C[$+2];x[H+3]=255}return[{ZE:new dS(0,0,q,D),data:x.buffer}]}else if(u[0]==0&&u[4]==48&&u[6]==1){var r=u,c=new PDFJS.Jbig2Image,U=[];
if(g)U.push({data:g,start:0,end:g.length});U.push({data:r,start:0,end:r.length});var C=c.parseChunks(U);
if(!K)for(var P=0;P<C.length;P++)C[P]=~C[P];var q=k.r(u,11),D=k.r(u,15),O=Math.ceil(q/8),A=f.L(q*D*4);
for(var m=0;m<D;m++){var i=m*O;for(var e=0;e<q;e++){var H=(m*q+e)*4,S=C[i+(e>>>3)]>>>7-(e&7)&1,E=S*255;
A[H]=E;A[H+1]=E;A[H+2]=E;A[H+3]=255}}return[{ZE:new dS(0,0,q,D),data:A.buffer}]}else{var c=new PDFJS.JpxImage;
c.parse(u);var q=c.width,D=c.height,Z=c.tiles,N=c.componentsCount,J=new Uint8Array(q*D*4),y=new dS(0,0,q,D);
for(var c=0;c<Z.length;c++){var o=Z[c],B=o.width,t=o.height,W=B*t,F=o.items,G=new dS(o.left,o.top,B,t),L=new Uint8Array(W*4);
if(N==1)for(var P=0;P<W;P++){var Q=F[P],H=P*4;L[H]=Q;L[H+1]=Q;L[H+2]=Q;L[H+3]=255}else if(N==3)for(var P=0;
P<W;P++){var $=P*3,H=P*4;L[H]=F[$];L[H+1]=F[$+1];L[H+2]=F[$+2];L[H+3]=255}else console.log("Unknown number of components: "+N);
f.bV(L,G,J,y)}return[{ZE:y,data:J.buffer}]}};eH.Q5={};eH.Q5.si=function(u,g,K,X){if(X==null)X=[70,0,0,0];
var w=X[0]/100,a=0;if(u.length==1)return eH.Wj(u[0][0],g,K,"webp",w);var D=k.Xp,q=k.o3,C=new jx;D(C,a,"RIFF    WEBPVP8X");
a+=16;q(C,a,10);a+=4;q(C,a,18);a+=4;q(C,a,g-1);a+=3;q(C,a,K-1);a+=3;D(C,a,"ANIM");a+=4;q(C,a,6);a+=4;
C._s(a,4);C.data[a+3]=255;k.rQ(C,a+4,X[2]);a+=6;var x=[];for(var P=0;P<u.length;P++){x.push(u[P][0])}var H=UPNG.encode.compress(x,g,K,w==1?0:Math.max(2,Math.floor(w*500)),[!1,!0,!0,0,!0]).frames;
function $(J,y,o,B){var e=J.u-8,S=J.size+8;o._s(B,S);for(var P=0;P<S;P++)o.data[B+P]=y[e+P];return B+S}for(var P=0;
P<u.length;P++){D(C,a,"ANMF");a+=4;var r=a,e=0,S=0;a+=4;var c=H[P],U=c.rect,O=[U.x>>>1,U.y>>>1,U.width-1,U.height-1,u[P][1]];
for(var A=0;A<5;A++)q(C,a+3*A,O[A]);a+=15;C._s(a,1);C.data[a]=1-c.blend<<1|c.dispose;a++;var m=new Uint8Array(eH.Wj(c.img.buffer,U.width,U.height,"webp",1)),i=k9.h7(m.buffer).sub,E={};
for(var Z=0;Z<i.length;Z++)E[i[Z].z0]=i[Z];if(E.VP8L)a=$(E.VP8L,m,C,a);else throw"e";var N=a-r-4;q(C,r,N);
if((N&1)==1){C._s(a,1);a++}}q(C,4,a-8);return C.data.slice(0,a).buffer};(function(){var u=eH.bW.get("wasm/webp").buffer;
WebAssembly.instantiate(u).then(function(g){var K=g.instance.exports;eH.Q5.exp=K})}());eH.Q5.Tu=function(u){var g=new Uint8Array(u),K=eH.Q5.asq,X=null,w=k9.h7(u).sub,D={};
for(var P=0;P<w.length;P++)D[w[P].z0]=w[P];var q=D.ANIM,C=D.VP8L,a=D["VP8 "],x=D.VP8X;if(q==null){var H,$;
if(a){H=k.bh(g,a.u+6);$=k.bh(g,a.u+8)}else if(C){var r=k.yY(g,C.u+1);H=(r&(1<<14)-1)+1;$=(r>>>14&(1<<14)-1)+1}else throw"e";
var c=[K(X,u,{u:0,size:g.length},H,$)];return c}var U=x.u,H=1+(k.yY(g,U+4)&16777215),$=1+(k.yY(g,U+7)&16777215),O=[],A=new dS(0,0,H,$),m=f.L(H*$*4);
for(var P=0;P<w.length;P++){var i=w[P];if(i.z0!="ANMF")continue;var e=[];for(var S=0;S<5;S++)e.push(k.yY(g,i.u+S*3)&16777215);
var E=new dS(e[0]*2,e[1]*2,e[2]+1,e[3]+1),Z=e[4],N=K(X,u,{u:i.u+16,size:i.size-16},H,$),J=new Uint8Array(N.data),y=g[i.u+15];
if(y>>>1==0)f.i.L_("norm",J,E,m,A,E,1);else f.bV(J,E,m,A);O.push({MC:"_a_"+O.length+","+Z,ZE:A.clone(),data:m.buffer.slice(0)});
if((y&1)==1){f.D4(J,0);f.bV(J,E,m,A)}}return O};eH.Q5.asq=function(u,g,K,X,w){var D=eH.Q5.exp,q=D.memory,C=5e6+2*K.size+X*w*10;
eH.Aw(D,C);var a=new Uint8Array(q.buffer),x=D.malloc(K.size);a.set(new Uint8Array(g,K.u,K.size),x);var H=D.malloc(8),$=D.WebPDecodeARGB(x,K.size,H,H+4),r=k.yY(a,H),c=k.yY(a,H+4),U=r*c*4,O=f.L(U);
for(var P=0;P<U;P+=4){O[P]=a[$+P+1];O[P+1]=a[$+P+2];O[P+2]=a[$+P+3];O[P+3]=a[$+P]}D.WebPFree($);D.free(H);
D.free(x);return{ZE:new dS(0,0,r,c),data:O.buffer}};eH.auo=function(){function u(C,a,x,H){var $=new Uint8Array(C[0][0]),r=new Uint32Array($.buffer),c=[],U={},A=24,m=0,Z=0;
for(var P=0;P<r.length;P++){var O=r[P]&16777215;if(U[O]==null){U[O]=c.length;c.push(O);if(c.length>256){c=null;
break}}}if(c){A=1;while(1<<A<c.length)A*=2;if(A==2)A=4}var i={QM:a,xQ:x,sz:1,rr:A,IE:0,abm:m},e=4*Math.floor((i.rr*i.QM+31)/32);
i.size=e*i.xQ+2;var S=new jx,E=c?(1<<A)*4:0;k.Xp(S,Z,"BM");Z+=2;k.o3(S,Z,e*x+16+40+E);Z+=4;k.o3(S,Z,0);
Z+=4;k.o3(S,Z,54+E);Z+=4;S._s(Z,40);k.o3(S,Z,40);Z+=4;q(S.data,Z,i,e);Z+=36;if(c){S._s(Z,E);var N=S.data;
for(var P=0;P<c.length;P++){var J=Z+P*4,y=c[P]>>>16,o=c[P]>>>8&255,B=c[P]&255;N[J]=y;N[J+1]=o;N[J+2]=B}Z+=E}S._s(Z,e*x);
if(A==24)for(var t=0;t<x;t++){var W=Z+(x-1-t)*e;for(var F=0;F<a;F++){var G=(t*a+F)*4;S.data[W+F*3+2]=$[G];
S.data[W+F*3+1]=$[G+1];S.data[W+F*3+0]=$[G+2]}}else if(A==8)for(var t=0;t<x;t++){var W=Z+(x-1-t)*e;for(var F=0;
F<a;F++){var G=t*a+F,L=U[r[G]&16777215];S.data[W+F]|=L}}else if(A==4)for(var t=0;t<x;t++){var W=Z+(x-1-t)*e;
for(var F=0;F<a;F++){var G=t*a+F,L=U[r[G]&16777215];S.data[W+(F>>>1)]|=L<<4-(F&1)*4}}else if(A==1)for(var t=0;
t<x;t++){var W=Z+(x-1-t)*e;for(var F=0;F<a;F++){var G=t*a+F,L=U[r[G]&16777215];S.data[W+(F>>>3)]|=L<<7-(F&7)}}Z+=e*x+2;
return S.data.slice(0,Z).buffer}function g(C){C=new Uint8Array(C);if(k.yY(C,0)==40)return[K(C.buffer,0)];
var a=0,x=k.u6(C,a,2);a+=2;if(x!="BM"){alert("Unsupported BMP format: "+x);return}var H=k.yY(C,a);a+=4;
a+=4;var $=k.yY(C,a);a+=4;return[K(C.buffer,a,$)]}function K(C,a,x){C=new Uint8Array(C);var H=k.yY(C,a),$=D(C,a+4);
if($.sz!=1)alert("unsupported number of color planes: "+$.sz);if($.IE!=0&&$.IE!=1&&$.IE!=2&&$.IE!=3){alert("Unsupported BMP compression: "+$.IE);
return}a+=H;var r=a,c=C;if(x==null)x=a;if($.IE==1||$.IE==2){var U=w(C,x,$);$.rr=8;C=U;x=0}var O=4*Math.floor(($.rr*$.QM+31)/32),A=$.QM,m=Math.abs($.xQ),i=new Uint8Array(A*m*4);
i.fill(255);if($.rr==32)for(var e=0;e<m;e++){var S=x+(m-1-e)*O;for(var E=0;E<A;E++){var Z=(e*A+E)*4;
i[Z]=C[S+E*4+2];i[Z+1]=C[S+E*4+1];i[Z+2]=C[S+E*4+0];i[Z+3]=C[S+E*4+3]}}else if($.rr==24)for(var e=0;
e<m;e++){var S=x+(m-1-e)*O;for(var E=0;E<A;E++){var Z=(e*A+E)*4;i[Z]=C[S+E*3+2];i[Z+1]=C[S+E*3+1];i[Z+2]=C[S+E*3+0]}}else if($.rr==16)for(var e=0;
e<m;e++){var S=x+(m-1-e)*O;for(var E=0;E<A;E++){var Z=(e*A+E)*4,N=C[S+E*2+1]<<8|C[S+E*2];i[Z]=(N>>>11)*(255/31);
i[Z+1]=(N>>>5&63)*(255/63);i[Z+2]=(N&31)*(255/31)}}else if($.rr==8)for(var e=0;e<m;e++){var S=x+(m-1-e)*O;
for(var E=0;E<A;E++){var Z=(e*A+E)*4,J=C[S+E];i[Z]=c[r+4*J+2];i[Z+1]=c[r+4*J+1];i[Z+2]=c[r+4*J+0]}}else if($.rr==4)for(var e=0;
e<m;e++){var S=x+(m-1-e)*O;for(var E=0;E<A;E++){var Z=(e*A+E)*4,J=C[S+(E>>1)];J=J>>4-4*(E&1);J=J&15;
i[Z]=c[r+4*J+2];i[Z+1]=c[r+4*J+1];i[Z+2]=c[r+4*J+0]}}else if($.rr==1)for(var e=0;e<m;e++){var S=x+(m-1-e)*O;
for(var E=0;E<A;E++){var Z=(e*A+E)*4,y=C[S+(E>>3)];y=y>>7-(E&7);y=y&1;i[Z]=c[r+4*y+2];i[Z+1]=c[r+4*y+1];
i[Z+2]=c[r+4*y+0]}}else throw"Unknown bit depth "+$.rr;if($.xQ<0){var o=new Uint32Array(i.buffer),B=m>>>1;
for(var e=0;e<B;e++){var t=e*A,W=(m-e-1)*A;for(var E=0;E<A;E++){var F=o[t+E];o[t+E]=o[W+E];o[W+E]=F}}}return{ZE:new dS(0,0,A,m),data:i.buffer}}function X(C,P){return C>>>4-((P&1)<<2)&15}function w(C,a,x){var H=x.QM,$=Math.abs(x.xQ),r=new Uint8Array(H*$),c=0,U=0,P=0;
while(U<$){var O=C[a++],A=C[a++],m=U*H+c;if(O>0){if(x.rr==4)for(P=0;P<O;P++){r[m+P]=X(A,P)}else for(P=0;
P<O;P++){r[m+P]=A}c+=O}else if(O==0&&A==0){U++;c=0}else if(O==0&&A==1){break}else if(O==0&&A==2){c+=C[a++];
U+=C[a++]}else{var i=A;if(x.rr==4){for(P=0;P<A;P++){r[m+P]=X(C[a+(P>>>1)],P)}i=Math.ceil(A/2)}else{for(P=0;
P<A;P++){r[m+P]=C[a+P]}}if((i&1)!=0)i++;a+=i;c+=A}}return r}function D(C,a){var x=k.q$,H=k.yY,$=k.bh,r={};
r.QM=x(C,a);a+=4;r.xQ=x(C,a);a+=4;r.sz=$(C,a);a+=2;r.rr=$(C,a);a+=2;r.IE=H(C,a);a+=4;r.size=H(C,a);a+=4;
var c=x(C,a);a+=4;var U=x(C,a);a+=4;r.abm=H(C,a);a+=4;a+=4;return r}function q(C,a,x,H){k.fX(C,a,x.QM);
a+=4;k.fX(C,a,x.xQ);a+=4;k.bv(C,a,x.sz);a+=2;k.bv(C,a,x.rr);a+=2;k.fX(C,a,x.IE);a+=4;k.fX(C,a,x.size);
a+=4;k.fX(C,a,2834);a+=4;k.fX(C,a,2834);a+=4;k.fX(C,a,x.abm);a+=4;a+=4}return{Tu:g,si:u,a4P:K}}();eH._4={};
eH._4.si=function(u,g,K,X){if(X==null)X=[100,!1,0,0,0,0];var w=[],D=[],q=g*K*4,O=null;for(var C=0;C<u.length;
C++){var a=new Uint8Array(u[C][0].slice(0));for(var P=0;P<q;P+=4){var x=a[P+3]=a[P+3]>127?255:0;if(x==0)a[P]=a[P+1]=a[P+2]=0}w.push(a.buffer);
D.push(u[C][1])}var H=Math.round(2+254*X[0]/100),$=UPNG.encode.compress(w,g,K,H,[!0,!1,!1,8,!1,X[1]]),r=$.plte,c=new Uint8Array(4),U=new Uint32Array(c.buffer);
for(var P=0;P<r.length;P++){U[0]=r[P];var A=c[0];c[0]=c[2];c[2]=A;r[P]=U[0];if(U[0]==0)O=P}while(r.length<256)r.push(0);
var m=new Uint8Array(2e3+g*K*u.length),i=X[3],e={palette:r};if(i!=1)e.loop=i==0?0:i-1;var S=new GifWriter(m,g,K,e);
for(var P=0;P<u.length;P++){var E=$.frames[P],Z=E.rect,N=E.blend,J=E.dispose,y=Math.round(D[P]/10);if(y<2)y=2;
S.addFrame(Z.x,Z.y,Z.width,Z.height,E.img,{transparent:O,disposal:J+1,delay:y})}return m.slice(0,S.end()).buffer};
eH._4.Tu=function(u){var g=Date.now(),K=[],X=UGIF.decode(u),w=UGIF.toRGBA8(X),D=new dS(0,0,X.width,X.height);
for(var P=0;P<w.length;P++){var q=X.frames[P];K.push({ZE:D.clone(),MC:"_a_frm"+P+","+q.delay*10,data:w[P]})}return K};
eH.JL={};eH.JL.si=function(u,g,K,X){console.log(u);if(g>256||K>256){alert("Maximum ICO size is 256x256 px. Will be cropped.",4e3);
var w=Math.min(g,256),D=Math.min(K,256),q=new dS(0,0,w,D),C=f.L(q.$()*4),a=new dS(0,0,g,K),x=new Uint8Array(u[0][0]);
f.bV(x,a,C,q);u[0][0]=C.buffer;g=w;K=D}var H=new jx,$=0,r=X&&X[0]==!0;k.rQ(H,$,0);$+=2;k.rQ(H,$,r?2:1);
$+=2;k.rQ(H,$,1);$+=2;var c=new Uint8Array(eH.IB("png").si(u,g,K));H._s($,16);H.data[$]=g==256?0:g;$++;
H.data[$]=K==256?0:K;$++;$+=2;k.rQ(H,$,r?Math.round(g/2):1);$+=2;k.rQ(H,$,r?Math.round(K/2):32);$+=2;
k.o3(H,$,c.length);$+=4;k.o3(H,$,6+16);$+=4;H._s($,c.length);for(var P=0;P<c.length;P++)H.data[$+P]=c[P];
$+=c.length;var U=new Uint8Array($);for(var P=0;P<$;P++)U[P]=H.data[P];return U.buffer};eH.JL.Tu=function(u){u=new Uint8Array(u);
var g=4,K=k.bh(u,g);g+=2;var X=[];for(var P=0;P<K;P++){var w=eH.JL.alL(u,g+P*16),D=u.buffer.slice(w.offset,w.offset+w.size),q=eH.jN(D);
q=q?q:"bmp";if(q=="png"){var C=eH.IB(q),a=C.Tu(D);w.HA=a[0]}else{var x=eH.IB("BMP").a4P(D,0),D=f.L(w.QM*w.xQ*4);
f.bV(new Uint8Array(x.data),new dS(0,0,x.ZE.m,x.ZE.n),D,new dS(0,w.xQ,w.QM,w.xQ));x.data=D.buffer;x.ZE.n=w.xQ;
w.HA=x}X.push(w)}X.sort(function(H,$){if(H.QM!=$.QM)return H.QM-$.QM;return H.awV-$.awV});return[X.pop().HA]};
eH.JL.alL=function(u,g){var K={};K.QM=u[g];g++;if(K.QM==0)K.QM=256;K.xQ=u[g];g++;if(K.xQ==0)K.xQ=256;
K.a0F=u[g];g++;g++;K.amr=k.bh(u,g);g+=2;K.awV=k.bh(u,g);g+=2;K.size=k.yY(u,g);g+=4;K.offset=k.yY(u,g);
g+=4;return K};eH.Qq={};eH.Qq.Tu=function(u){var g=Date.now(),X,$=!0;if(f.raw.Mo(u.byteLength))return[f.raw.a3t(u)];
var K=UTIF.decode(u);if(K[0].t33421)X=K[0];else if(K[0].subIFD&&K[0].t271&&K[0].t271[0]=="Hasselblad"){X=K[0].subIFD[0];
X.t33421=[2,2]}else if(K[0].subIFD&&K[0].subIFD[0].t33421){X=K[0].subIFD[0];if(X.t50706==null){if(X.t258[0]==8)X.t258[0]=12}}else if(K[0].subIFD&&K[0].subIFD[0]&&K[0].subIFD[0].t262&&K[0].subIFD[0].t262[0]==34892)X=K[0].subIFD[0];
else if(K[0].subIFD&&K[0].subIFD[1]&&K[0].subIFD[1].t33421)X=K[0].subIFD[1];else if(K[0].subIFD&&K[0].subIFD[2]&&K[0].subIFD[2].t33421)X=K[0].subIFD[2];
else if(K[3]&&K[3].t50648){var w=K[0].exifIFD,D=w.makerNote;X=K[3];var q=D.t224[1],C=D.t224[2];X.t256=[q];
X.t257=[C];X.t258=[16];X.t259=[7];X.t262=[32803];X.t277=[1];X.t33421=[2,2];var a=X.t50656[0],x=f.raw.Jq[a];
if(x==null)throw"e";X.t33422=x}if(X){UTIF.decodeImage(u,X,K);for(var H in K[0])if((H[0]=="t"||H[0]=="e"||H[0]=="d")&&X[H]==null)X[H]=K[0][H];
X.dP=K[0].t274?K[0].t274[0]:1;return[X]}var r=1/256;for(var P=0;P<K.length;P++)if(K[P].t258&&K[P].t258[0]==16&&K[P].t277&&K[P].t277[0]==1){}else $=!1;
if($){var c=0,U=0,O=0;for(var P=0;P<K.length;P++){UTIF.decodeImage(u,K[P],K);var A=K[P].data;for(var m=0;
m<A.length;m+=2){var i=A[m+1]<<8|A[m];if(i>c)c=i;U+=i;O++}}r=1/256*65535/(.5*c+.5*(2*U/O))}var e=[];
for(var P=0;P<K.length;P++){var S=K[P],E=72;UTIF.decodeImage(u,S,K);var Z=S.t282,N=S.t296;if(Z!=null&&N!=null){E=Z[0][0]/Z[0][1];
if(N[0]==3)E=Math.round(E/2.54)}if(S.width==null)continue;var J=UTIF.toRGBA8(S,r).buffer,y=kf.nK(S);
console.log(S);e.push({ZE:new dS(0,0,S.width,S.height),data:J,wY:E,jv:y,nx:S.t34675?S.t34675.slice(0):null})}return e};
eH.Qq.si=function(u,g,K,X){if(X==null)X=[!1];var w={},D=u[0];if(D[3]!=null&&X[0])w=kf.bl(D[3]);if(D[2]!=null){w.t282=w.t283=[[Math.round(D[2]),1]];
w.t296=[2]}return UTIF.encodeImage(D[0],g,K,w)};eH.VX={};eH.VX.eE=!0;eH.VX.Tu=function(u,g){gr.h7(u,g)};
eH.VX.a0u=function(u,g,K,X){if(X==null)X=[!1,!1,!1,!1];if(!X[0])u.KS();var w=new jx,D=gr.hA(u,w,X);return[w.data.buffer,D]};
eH.VX.si=function(u,g,K,X){var w=eH.VX.a0u(u,g,K,X),D=w[0],q=w[1];return D.byteLength==q?D:D.slice(0,q)};
eH.oW={};eH.oW.eE=!0;eH.oW.Tu=function(u,g){var K=pako.inflate(new Uint8Array(u)),X=k.Z_(K,0),w=k.Z_(K,2),D=4;
g.m=k.r(K,D);D+=4;g.n=k.r(K,D);D+=4;g.buffer=f.L(g.m*g.n*4);var q=k.Z_(K,D);D+=2;D+=4;for(var C=0;C<q;
C++){var a=g.Wk(),U=0,L=1,Q=2,T=3,j=0;g.g.push(a);var x=k.r(K,D);D+=4;var H=D,$=k.Z_(K,H);H+=2;var r=k.KO(K,H,$);
H+=$;a.Q9(r);var c=K[H];H++;if(c!=0&&c!=1)throw c;a.rect.x=k.vr(K,H);H+=4;a.rect.y=k.vr(K,H);H+=4;a.rect.m=k.r(K,H);
H+=4;a.rect.n=k.r(K,H);H+=4;if(X>3){U=k.vr(K,H);H+=4}a.opacity=Math.round(255*K[H]/100);H++;var O=K[H];
H++;a.H4(O!=0);a.wS="norm,lddg,norm,dark,diff,norm,hLit,norm,norm,lite,mul ,over,scrn,fsub".split(",")[K[H]];
H++;var A=K[H];H++;if(A)a.add.lspf=1<<31;if(X>3){var m=k.Z_(K,H);H+=2;if(m!=0){var i=JSON.parse(k.KO(K,H,m));
H+=m;var e=i.text,S=i.textSettings,E=S.font,Z=S.size,N=S.padding,J=parseInt(S.color.slice(1),16);a.add.lnsr="rend";
a.add.TySh=fS.t5(0,0);a.add.TySh.kI=new dS(0,0,100,100);var y=a.add.TySh.D=new eV,o=a.rect.m/2,B=a.rect.n/2;
y.translate(-o,-B);y.rotate(-U*Math.PI/180);y.translate(o,B);y.translate(a.rect.x+N,a.rect.y+N);var t=a.add.TySh.Fd;
fS.YM(t,1);fS.N2(t,[0,0,a.rect.m-N*2,a.rect.n]);fS.G4(t,0,e);var W=fS.pP(t,0,1);W.QX.FontSize=Z;W.QX.FillColor={Type:1,Values:[1,(J>>>16&255)/255,(J>>>8&255)/255,(J>>>0&255)/255]};
if(S.bold)E+="-Bold";fS.rt(W,E);W.Sh.Justification=["left","right","center"].indexOf(S.align);fS.xm(t,0,e.length,W)}}var F=k.r(K,H);
H+=4;if(F!=a.rect.$()*4){for(var P=a.rect.m;P>a.rect.m/2;P--){var G=F/(P*4);if(G==Math.round(G)){a.rect.m=P;
a.rect.n=G;break}}}a.buffer=f.L(a.rect.$()*4);if(X>3){L=0;Q=1;T=2;j=3}for(var P=0;P<F;P+=4){a.buffer[P]=K[H+P+L];
a.buffer[P+1]=K[H+P+Q];a.buffer[P+2]=K[H+P+T];a.buffer[P+3]=K[H+P+j]}H+=F;var p=k.r(K,H);H+=4;if(p==0&&X>3){D+=x;
continue}var M=K[H];H++;var n=k.Z_(K,H);H+=2;if(p!=0){a.B=new l.I2;a.B.rect=a.rect.clone();a.B.channel=f.L(a.rect.$());
for(var P=0;P<p;P+=4)a.B.channel[P>>>2]=K[H+P+1];H+=p}if(M!=0){var d=JSON.parse(k8.default);a.add.lmfx=d;
for(var P=0;P<k8.order.length;P++)d[k8.pg[P]]={t:"VlLs",v:[]};var V={"102":9,"101":2,"103":0,"104":3,"105":8};
for(var P=0;P<M;P++){var z=k.Z_(K,H),I=H+z+4,v=K.slice(H,I),gj=K[H+2];H+=3;var jA=V[gj+""],Y=JSON.parse(k8.QO[jA]);
d[k8.pg[jA]].v.push({t:"Objc",v:Y});if(jA!=0){Y.Md.v.BlnM=b0.HF("norm");Y.Opct.v.val=K[H];H++;if(jA==9||jA==2){Y.Dstn.v.val=K[H+1];
H+=2}else H+=2;Y.blur.v.val=Math.round(K[H]*1.2);H++;if(jA==9||jA==2){Y.uglg.v=!1;Y.lagl.v.val=180-k.Z_(K,H);
H+=2}Y.Clr.v=f.X.Gp({w:K[H+1],A:K[H+2],U:K[H+3]})}else{Y.hglM.v.BlnM=Y.sdwM.v.BlnM=b0.HF("norm");H+=2;
var jv=K[H++],iR=K[H++];Y.blur.v.val=Math.round(Math.sqrt(iR*jv)*1.3);Y.srgR.v.val=Math.round(100*jv/iR);
Y.uglg.v=!1;Y.lagl.v.val=180-k.Z_(K,H);H+=2;Y.hglO.v.val=K[H++];Y.hglC.v=f.X.Gp({w:K[H+1],A:K[H+2],U:K[H+3]});
H+=4;Y.sdwO.v.val=K[H++];Y.sdwC.v=f.X.Gp({w:K[H+1],A:K[H+2],U:K[H+3]});H+=4}H=I}}if(H-D<x){var cj=k.r(K,H),gW=0;
H+=4;H++;var $=k.Z_(K,H);H+=2;var e=k.KO(K,H,$);H+=$;e=e.replace(/\r/g,"\n");var $=k.Z_(K,H);H+=2;var E=k.KO(K,H,$);
H+=$;var Z=k.Z_(K,H);H+=2;var j8=a.rect.x,as=a.rect.m;if(cj&4)gW=1;if(cj&2)gW=2;var af=Math.round(Z*.4);
if(gW==0||gW==2)as+=af;if(gW==1||gW==2){as+=af;j8-=af}a.add.lnsr="rend";a.add.TySh=fS.t5(0,0);a.add.TySh.kI=new dS(0,0,100,100);
a.add.TySh.D=new eV(1,0,0,1,j8,a.rect.y+Z*.25);var t=a.add.TySh.Fd;fS.YM(t,1);fS.N2(t,[0,0,as,a.rect.n]);
fS.G4(t,0,e);var W=fS.pP(t,0,1);W.QX.FontSize=Z;W.QX.FillColor={Type:1,Values:[1,K[H+1]/255,K[H+2]/255,K[H+3]/255]};
H+=4;if(K[H+5])E+="-Bold";if(K[H+6])E+="-Italic";fS.rt(W,E);W.Sh.Justification=gW;H+=8;fS.xm(t,0,e.length,W)}D+=x}};
eH.To={};eH.To.eE=!0;eH.To.Tu=function(u,g){ge.h7(u,g)};eH.t0={};eH.t0.eE=!0;eH.t0.Tu=function(u,g){az.h7(u,g)};
eH.xC={};eH.xC.eE=!0;eH.xC.Tu=function(u,g){fa.h7(u,g)};eH.gX={};eH.gX.eE=!0;eH.gX.Tu=function(u,g){fp.h7(u,g)};
eH.B6={};eH.B6.eE=!0;eH.B6.Tu=function(u,g){h2.h7(u,g)};eH.EH={};eH.EH.eE=!0;eH.EH.Tu=function(u,g){dC.h7(u,g)};
eH.wT={};eH.wT.eE=!0;eH.wT.si=function(u,g,K,X,w){if(X==null)X=[!0,!1,!1,!1,!0];var D=hQ.P8(u,{_9:X[0],hidden:X[1],ahV:X[2],adG:X[3],F$:X[4],aa0:g,a6C:K},w.aX);
return D};eH.wT.Tu=function(u,g,K){hQ.h7(u,g,K)};eH.Si={};eH.Si.eE=!0;eH.Si.Tu=function(u,g){var K=150,X=new eV(1,0,0,-1,0,0);
X.scale(K/72,K/72);g.wY=K;var w=new dq(g,X,!0);FromPS.Parse(u,w)};eH.Nj={};eH.Nj.eE=!0;eH.Nj.si=function(u,g,K,X,w){if(X==null)X=["",100,!1,!1,!1,0];
X[6]=["jpg"];var D=new ToPDF;ik.P8(u,X,D,w.aX,g,K);return D.buffer};eH.Nj.Tu=function(u,g,K){var X=2;
while(!0){var w=X*72,D=new eV(1,0,0,-1,0,0);D.scale(w/72,w/72);g.wY=w;var q=new dq(g,D,!0);FromPDF.Parse(u,q);
var C=Math.max(g.m,g.n);if(K&&C<Math.max(K[0],K[1])){g.g=[];var a=X;while(C*(X/a)<Math.max(K[0],K[1]))X++}else break}};
eH.xF={};eH.xF.eE=!0;eH.xF.Tu=function(u,g){var K=72,X=new eV(1,0,0,1,0,0);X.scale(K/72,K/72);g.wY=K;
var w=new dq(g,X,!1);FromWMF.Parse(u,w)};eH.oZ={};eH.oZ.J3=!0;eH.oZ.eE=!0;eH.oZ.si=function(u,g,K,X,w){if(X==null)X=["",100,!1,!1,!1,0];
X[6]=[];var D=new ToEMF;ik.P8(u,X,D,w.aX);return D.buffer};eH.oZ.Tu=function(u,g){var K=72,X=new eV(1,0,0,1,0,0);
X.scale(K/72,K/72);g.wY=K;var w=new dq(g,X,!1);FromEMF.Parse(u,w)};eH.J1={};eH.J1.eE=!0;eH.J1.Tu=function(u,g){return cY.h7(u,g)};
eH.K3={};eH.K3.Tu=function(u,g){var K=fs.h7(u),X=new Uint8Array(u),w=0,D,q,C,a,x,H,$,r,c=0,U=0,O=0,A=0,m=0;
for(var i=0;i<K.sub.length;i++){var e=K.sub[i],w=e.u;if(e.z0=="BMHD"){var S=[];for(var P=0;P<4;P++)S[P]=k.Z_(X,w+2*P);
w+=8;a=S[2];x=S[3];q=S[0];C=S[1];D=f.L(q*C*4);H=X[w++];$=X[w++];r=X[w++]}else if(e.z0=="CMAP")c=w;else if(e.z0=="CAMG"){var E=k.r(X,w);
U=E&32768,O=E&4,A=E&2048;m=E&128}else if(e.z0=="BODY"){var Z=q+15>>>4<<1,N=H+$,J=f.L(Z*C*N),t,W,F;i$.fW(X,w,e.size,J,0,J.length);
var y=H-2,o=(1<<y)-1,B=Math.round(255/o);for(var x=0;x<C;x++)for(var a=0;a<q;a++){var G=0;for(var L=0;
L<N;L++){var Q=(x*N+L)*Z*8+a,T=J[Q>>>3]>>>7-(Q&7)&1;G|=T<<L}var j=G>>>H,G=G&(1<<H)-1,P=x*q+a,p=P<<2;
if(c!=0){if(A!=0&&G>>>y!=0){var M=G>>>y,n=(G&o)*B;if(M==1)F=n;else if(M==2)t=n;else if(M==3)W=n}else{var n=c+G*3;
t=X[n+0];W=X[n+1];F=X[n+2]}}else{t=G>>>0&255;W=G>>>8&255;F=G>>>16&255}D[p+0]=t;D[p+1]=W;D[p+2]=F;D[p+3]=255}}}return[{ZE:new dS(0,0,q,C),data:D.buffer}]};
eH.Kc={};eH.Kc.eE=!1;eH.Kc.si=function(u,g,K,X){var w=u[0][4],D=new Uint8Array(u[0][0]),q=2,C=w?!0:!1,a=C?4:3,x=new Uint8Array(g*K*a);
for(var H=0;H<K;H++)for(var $=0;$<g;$++){var r=H*g+$<<2,c=((K-H-1)*g+$)*a;x[c]=D[r+2];x[c+1]=D[r+1];
x[c+2]=D[r+0];if(C)x[c+3]=w[0][H*g+$]}if(!0){var U=x.length,O=0,A=new Uint8Array(U*2),m=0,i=0,e=g*a;
while(i<U){var S=i,E=0,Z=e*(Math.floor(i/e)+1);while(S<Z&&E<128){var N=!0;for(var P=0;P<a;P++)N=N&x[i+P]==x[S+P];
if(!N)break;S+=a;E++}if(E==1){var J=1;while(J<128&&i+(J+1)*a<Z){var N=!0,y=i+J*a;for(var P=0;P<a;P++)N=N&x[y+P]==x[y+a+P];
if(N)break;J++}A[m++]=J-1;for(var o=0;o<J;o++)for(var P=0;P<a;P++)A[m++]=x[i++]}else{A[m++]=127+E;for(var P=0;
P<a;P++)A[m+P]=x[i+P];m+=a;i+=a*E;O+=E}}x=A.slice(0,m);q+=8}var B=new Uint8Array(18+x.length+26);B[2]=q;
k.bv(B,12,g);k.bv(B,14,K);B[16]=a*8;B[17]=a==4?8:0;B.set(x,18);k.Gs(B,18+x.length+8,"TRUEVISION-XFILE.");
return B.buffer};eH.Kc.Tu=function(u){var g=new Uint8Array(u),K=0,X=g[0],w=g[1],D=g[2],q=g[4]*256+g[3],C=g[6]*256+g[5],a=g[7],x=g[9]*256+g[8],H=g[11]*256+g[10],$=g[13]*256+g[12],r=g[15]*256+g[14],c=g[16],U=g[17],O=U>>>4,A=k.u6(g,18,X),m=f.L($*r*4),K=18+X+(C*a>>>3),i=new Uint8Array(g.buffer,K);
if(D>3){var e=0,S=g,E=new Uint8Array($*r*c>>>3),Z=K,N=0,J=g.length,y=c>>>3;while(N<E.length){var eJ=S[Z];
Z++;if(eJ<128)for(var P=0;P<eJ+1;P++){for(var o=0;o<y;o++){E[N]=S[Z];N++;Z++}}else{for(var P=0;P<eJ-127;
P++){for(var o=0;o<y;o++){E[N]=S[Z+o];N++}}Z+=y}}D-=8;i=E;K=Z}else K+=$*r*c>>>3;var B=new Uint8Array(4),t=eH.Kc.aiA;
for(var W=0;W<r;W++)for(var F=0;F<$;F++){var G=(O&2)==0?(r-W-1)*$+F:W*$+F,L=W*$+F,Q,T,j,p=255,M=G*c>>>3;
if(D==1){var n=0;if(c==8)n=i[M];else throw"e";t(g,18+X+q+(n*a>>>3),a,B);Q=B[0];T=B[1];j=B[2];p=B[3]}else if(D==2){t(i,M,c,B);
Q=B[0];T=B[1];j=B[2];p=B[3]}else if(D==3){if(c==8)Q=T=j=i[M];else throw"e"}var d=L*4;m[d]=Q;m[d+1]=T;
m[d+2]=j;m[d+3]=p}var B={ZE:new dS(0,0,$,r),data:m.buffer,MC:A};if(f.b6(m)){var V=f.L($*r);f.hk(m,V,3);
f.D4(m,4278190080,16777215);B.g1=[V]}return[B]};eH.Kc.aiA=function(u,g,K,X){var w,D,q,C=255;if(K==24||K==32){q=u[g];
D=u[g+1];w=u[g+2];if(K==32)C=u[g+3]}else if(K==16){var a=u[g+1]<<8|u[g+0];w=a>>>10&31;D=a>>>5&31;q=a>>>0&31;
w=Math.round(w*(255/31));D=Math.round(D*(255/31));q=Math.round(q*(255/31))}else throw"e";X[0]=w;X[1]=D;
X[2]=q;X[3]=C};eH.a0o=function(){var u,g=[],K=!1;function X(q,C,a,x){u=a;g.push(q,x);w()}function w(){if(K||g.length==0)return;
K=!0;eH.a3u(g.shift(),"image/avif",D)}function D(q){u(null,[q],g.shift());K=!1;w()}return{eE:!1,cv:!0,Tu:X}}();
eH.aey=function(){var u,g=[],K=!1,X,w,D,q,C,a,x=10,H=0;function $(A,m,i,e,S){u=i;g.push(A,e);var E=new eG(h.E.Y,!0);
E.data={d:h.s.KP,Pu:"setFPS",gY:x,r5:r};S.c(E)}function r(A){x=Math.max(1,Math.min(60,A));c()}function c(){if(K||g.length==0)return;
K=!0;X=document.createElement("canvas");w=X.getContext("2d");D=document.createElement("video");var A="data:"+"video/mp4"+";base64,"+eH.Gt(g.shift());
D.src=A;D.muted=!0;D.currentTime=0;D.addEventListener("canplay",U,!1);D.addEventListener("timeupdate",O,!1)}function U(A){D.removeEventListener("canplay",U);
q=X.width=D.videoWidth;C=X.height=D.videoHeight;a=[];D.play()}function O(A){clearTimeout(H);w.drawImage(D,0,0);
a.push({MC:"_a_"+a.length+","+Math.round(1e3/x),ZE:new dS(0,0,q,C),data:w.getImageData(0,0,q,C).data.buffer});
var m=D.currentTime+1/x;if(m<D.duration&&A){D.currentTime=m;H=setTimeout(O,1e3)}else{u(null,a,g.shift());
D.removeEventListener("timeupdate",O);K=!1;c();a=null}}return{eE:!1,cv:!0,Tu:$}}();eH.Wz={};eH.Wz.Tu=function(u){var g=new Uint8Array(u),K=0,X=112,w=42,D=k.yY,H;
K+=8;var q=g[K];K++;if(q!=w)throw"e";var C=D(g,K);K+=4;var a=k.MS(g,K,C);K+=C*2;var x=[];while(K<g.length){H=D(g,K);
K+=4;if(H!=X)throw H;K+=4;H=g[K];K++;if(H!=w)throw H;var $=D(g,K);K+=4;var r=g[K];K++;if(r!=w){K-=5;
$=D(g,K);K+=8;H=g[K];K++;if(H!=w)throw H}var c=D(g,K)*2;K+=4;if($>0)x.push(K+c);K+=c+$}var U=new DOMParser,O=U.parseFromString(a,"image/svg+xml").firstChild.firstChild,A=[];
eH.Wz.jU(O,g,x,A);return A};eH.Wz.jU=function(u,g,K,X){var w=u.firstChild.firstChild;if(w.tagName=="Image"){var D=w.getElementsByTagName("ImageDescription")[0],q=D.children[0].children,C=D.children[1].children,a=K.shift(),x=[];
for(var P=0;P<C.length;P++)x.push(parseInt(C[P].getAttribute("NumberOfElements")));while(x.length>3)x[2]*=x.pop();
var H=q.length,$=x[0],r=x[1],c=x[2],U=parseInt(C[0].getAttribute("BytesInc"));for(var O=0;O<c;O++){var A=f.L($*r*4);
f.D4(A,4278190080);for(var m=0;m<H;m++){var i=f.L($*r);if(U==1)for(var e=0;e<i.length;e++)i[e]=g[a+e];
else if(U==2)for(var e=0;e<i.length;e++)i[e]=Math.min(255,(g[a+e*2+1]<<8|g[a+e*2])>>>2);else throw U;
if(m!=3)f.K1(i,A,m);if(H==1){f.K1(i,A,1);f.K1(i,A,2)}a+=$*r*U}X.push({ZE:new dS(0,0,$,r),data:A.buffer})}}else{var S=u.children,E=0;
while(E<S.length&&S[E].tagName!="Children")E++;if(E==S.length)throw"e";S=S[E].children;for(var Z=0;Z<S.length;
Z++)eH.Wz.jU(S[Z],g,K,X)}};eH.amh=function(){function u(q,C,a,x,H){var $=new Int8Array(q.buffer),r=new Int8Array(x.buffer),c=C+a;
while(C<c){var eJ=$[C];C++;if(eJ>=0&&eJ<128)for(var P=0;P<eJ+1;P++){r[H]=$[C];H++;C++}if(eJ>=-127&&eJ<0){for(var P=0;
P<-eJ+1;P++){r[H]=$[C];H++}C++}}return H}function g(q,C,a,x,H,$){var r=C*a*x>>>3,c=f.L(r*H),U=X(q,0,0)[0];
for(var O=0;O<H;O++){var A=U[O+1];if($){var m=eH.IB("jpg").Tu(A.buffer),i=f.L(r);f.uT(new Uint8Array(m[0].data),i);
c.set(i,r*O)}else if(A[0]==255&&A[1]==216&&A[2]==255){var e=UTIF.LosslessJpegDecode(A);c.set(new Uint8Array(e.buffer),r*O)}else u(A,64,A.length,c,r*O)}return c}function K(q){var C=new Uint8Array(q),a=0,x=k.u6(C,0,128);
a+=128;var H=k.u6(C,a,4);a+=4;var $=w(C,a,0)[0],r=$.g28;if(r==null){alert("No image.");return[]}var c=r.cols,U=r.rows,O=c*U,A=r.photoInterpret,m=r.bitsAlloc,i=r.bitsStored,e=r.lossyCompr;
if(e==null)e=$.g8.lossyCompr;var S=$.g7fe0.pixelData,E=r.numOfFrames;E=E?parseInt(E):1;var Z=new Uint8Array(S.buffer),N=O*m>>>3;
if(Z.length!=N*E){S=g(S,c,U,m,E,e)}else{}if(m==16)S=new Uint16Array(S.buffer);console.log(r);console.log($);
var J=[];for(var y=0;y<E;y++){var o=y*N,q=f.L(c*U*4);q.fill(255);if(A=="MONOCHROME2"){var B=0,t=255,W=r.largestValue,F=r.smallestValue;
if(W!=null){t=W;B=F}else if(i!=8){t=0;B=1e9;for(var P=0;P<O;P++){var G=S[o+P];if(G>1<<i-8){if(G>t)t=G;
if(G<B)B=G}}}var L=255/(t-B);for(var P=0;P<O;P++){var G=Math.max(0,Math.min(255,(S[o+P]-B)*L)),Q=P*4;
q[Q]=q[Q+1]=q[Q+2]=G}}else if(A=="PALETTE COLOR"){var T=r.pltRed,j=r.pltGreen,p=r.pltBlue;for(var P=0;
P<O;P++){var M=S[o+P],Q=P*4;q[Q]=T[M]>>>8;q[Q+1]=j[M]>>>8;q[Q+2]=p[M]>>>8}}else throw A;J.push({ZE:new dS(0,0,c,U),data:q.buffer})}return J}function X(q,C,a){var x=k.bh,H=k.rL,$=k.yY,r=[],c=C;
while(C<q.length){var U=x(q,C);C+=2;var O=x(q,C);C+=2;var A=$(q,C);C+=4;if(U==65534&&O==57344){if(A==4294967295){var m=w(q,C,a+1);
r.push(m[0]);C=m[1]}else{r.push(q.slice(C,C+A));C+=A}}else if(U==65534&&O==57357){}else if(U==65534&&O==57565)break;
else throw"e"}return[r,C]}function w(q,C,a){var x=k.bh,H=k.rL,$=k.yY,r={},c="\t".repeat(a);while(C<q.length){var U=x(q,C),i="",e=0,E=null;
C+=2;var O=x(q,C);C+=2;var A=U.toString(16),m=O.toString(16);if(U==65532)break;if(U==65534&&O==57357){C-=4;
break}if(U==65534&&O==57565)throw"e";if(O==0){C+=8;continue}if(65<=q[C+1]){i=k.u6(q,C,2);C+=2;if(i=="OB"||i=="SQ"||i=="OW"){e=$(q,C+2);
C+=6}else{e=x(q,C);C+=2}}else{i=D[A][m].split(",")[1];e=$(q,C);C+=4}var S=D[A][m];if(S)S=S.split(",")[0];
if(S==null){S="t"+m}if(i=="SQ"){var Z=X(q,C,a);E=Z[0];C=Z[1];e=0}else if(i=="US")E=x(q,C);else if(i=="SS")E=H(q,C);
else if(i=="UL")E=$(q,C);else if(i=="FL")E=k.zV(q,C);else if(i=="AT")E=[x(q,C),x(q,C+2)];else if(i=="OB")E=q.slice(C,C+e);
else if(i=="OW")E=new Uint16Array(q.slice(C,C+e).buffer);else if("UI CS DA TM DT SH LO ST LT PN AE AS DS IS".split(" ").indexOf(i)!=-1){var N=C+e;
while(q[N-1]==0)N--;E=k.u6(q,C,N-C).trim()}else{console.log(c,JSON.stringify(k.u6(q,C,Math.min(e,32))));
throw i}if(r["g"+A]==null)r["g"+A]={};r["g"+A][S]=E;C+=e}return[r,C]}var D={"2":{"1":"fmiVersion","2":"classUID","3":"instanceUID","10":"syntaxUID","12":"icUID","13":"implVerName","16":"appTitle"},"4":{"1130":"fileSetID"},"8":{"5":"charSet","8":"imageType,CS","16":"classUID,UI","18":"instanceUID,UI","20":"studyDate","21":"seriesDate","22":"acqDate","23":"contentDate","2a":"acqDateTime","30":"studyTime","32":"acqTime","33":"contentTime","50":"accNumber","60":"modality,CS","64":"convType,CS","70":"manufacturer","80":"institutionName","81":"institutionAddress","90":"rpName","1010":"stationName","1030":"studyDescription","103e":"seriesDesc","1050":"ppName","1090":"modelName","1150":"rclassUID","1155":"rinstanceUID","2110":"lossyCompr","2112":"imageSequence"},"9":{},"10":{"10":"patientName,PN","20":"patientID,LO","30":"patientBirthDate","40":"patientSex","1010":"patientAge"},"18":{"60":"KVP","1020":"swVersion","1063":"frameTime","1150":"expTime","1151":"xrayTubeCurrent","1152":"exposure","1155":"radiation","1500":"posMotion","1510":"posAngle0","1511":"posAngle1"},"19":{},"20":{d:"studyUID,UI",e:"seriesUID,UI","10":"studyID","11":"seriesNumber","12":"acqNumber,IS","13":"instanceNumber,IS","20":"patientOrientation"},"21":{},"28":{"2":"spp,US","4":"photoInterpret,CS","8":"numOfFrames","9":"frameIncPointer","10":"rows,US","11":"cols,US","30":"pixelSpacing","100":"bitsAlloc,US","101":"bitsStored,US","102":"highBit,US","103":"pixRepresentation,US","106":"smallestValue","107":"largestValue","120":"pixPaddingValue","1040":"pixIntensityRelation","1050":"windCenter","1051":"windWidth","1090":"viewMode","1101":"pdRed","1102":"pdGreen","1103":"pdBlue","1199":"paletteUID","1201":"pltRed","1202":"pltGreen","1203":"pltBlue","2110":"lossyCompr","6010":"repFrameNum","6020":"foi","6022":"foiDescription","6040":"rWavePointer","6100":"maskSubtraction","6101":"maskOp","6110":"maskFrameNum"},"29":{},"37":{},"50":{"4":"calibImage"},"5000":{"5":"curveDim","10":"numOfPoints","20":"typeOfData","30":"axisUnits","103":"dataValRepr","104":"minCrdValue","105":"maxCrdValue","106":"curveRange","110":"curveDataDesc","112":"crdStartValue","114":"crdStepValue","3000":"curveData"},"7fe0":{"10":"pixelData,OB"}};
return{Tu:K}}();eH.zD={};eH.zD.Tu=function(u){var g=new Uint8Array(u),K=0,X={},H=1e9;for(var P=0;P<306;
P++){var w=k.u6(g,K,8).trim(),D=k.u6(g,K+9,71).split("/")[0].trim();X[w]=D;K+=80;if(w=="END"){K=Math.ceil(K/2880)*2880;
break}}var q=parseInt(X.NAXIS1),C=parseInt(X.NAXIS2),a=q*C,x=parseInt(X.BITPIX),$=-1e9,r=new Float32Array(a),c=new Float32Array(u,K,u.byteLength-K>>>2);
for(var P=0;P<a;P++){var U=P<<2,O=P<<1;if(x==-32){var A=g[K+U+0];g[K+U+0]=g[K+U+3];g[K+U+3]=A;var A=g[K+U+1];
g[K+U+1]=g[K+U+2];g[K+U+2]=A;r[P]=c[P]}else if(x==16){r[P]=k.bh(g,K+O)}else throw x;var m=r[P];if(m<H)H=m;
if(m>$)$=m}var i=f.L(a*4),e=1/$;for(var S=0;S<C;S++)for(var E=0;E<q;E++){var P=S*q+E,Z=(C-S-1)*q+E,U=Z<<2,m=r[P]*e;
i[U]=i[U+1]=i[U+2]=255*m;i[U+3]=255}return[{ZE:new dS(0,0,q,C),data:i,MC:X.OBJECT}]};eH.b_={};eH.b_.Tu=function(u){var g=new Uint8Array(u),K=16,X=k.u6(g,K,4),D=32,m=0,i=0,e=!1,T;
K+=4;var w=k.u6(g,K,8);K+=8;while(g[K+D-1]==0)D--;var q=k.u6(g,K,D);K+=32;var C=k.u6(g,K,4);K+=4;K+=20;
var a=k.r(g,K);K+=4;var x=k.r(g,K);K+=4;var H=k.r(g,K);K+=4;var $=k.r(g,K);K+=4;var r=k.r(g,K);K+=4;
var c=k.r(g,K);K+=4;var U="FujiFilm "+q,O=[0,1,1,2];if(U=="FujiFilm X10"){U="FujiFilm FinePix X10";O=[2,1,1,0]}var A={t271:["FujiFilm"],t272:[U],t277:[1],t33421:[2,2],t33422:O,dP:1};
K=H;var S=[],E=k.Z_,Z=k.r(g,K);K+=4;for(var P=0;P<Z;P++){var N=E(g,K);K+=2;var J=E(g,K);K+=2;if(N==256){i=E(g,K);
m=E(g,K+2)}else if(N==272){S=[E(g,K),E(g,K+2)]}else if(N==273){S.push(E(g,K),E(g,K+2))}else if(N==304){e=!(g[K]>>>7)}else if(N==305){var y=Math.round(Math.sqrt(J)),o=[];
for(var B=0;B<J;B++)o.push(g[K+B]);o.reverse();A.t33421=[y,y];A.t33422=o}else if(N==12272){var t=E(g,K),W=E(g,K+2),F=E(g,K+6);
A.t50728=[t/W,1,t/F]}K+=J}var G=m<i,L=g.slice(r,r+c),Q=Math.round(c*8/(m*i));if(L[0]==73&&L[1]==73&&L[2]==42){T=UTIF.decode(L.buffer)[0].fujiIFD;
Q=T.t61443[0];var j=T.t61454,p=T.t61450;if(p)A.t50714=p;if(j)A.t50728=[j[0]/j[1],1,j[0]/j[2]];var M=T.t61447[0];
L=L.slice(M,M+T.t61448[0])}var c=L.length,n=c*8<m*i*Q;if(n){console.log("compressed");var d=A.t33422,V=~~Math.sqrt(d.length),z=[];
for(var P=0;P<V;P++)z[P]=d.slice(P*V,P*V+V);L=new Uint8Array(UTIF._decompressRAF(L,z).buffer);c=L.length}function I(jv,iR,cj){cj=cj<<8-(iR&7);
var j8=iR>>>3;jv[j8]|=cj>>>16;jv[j8+1]|=cj>>>8;jv[j8+2]|=cj}var v=c*8/(m*i);if(v==16)for(var P=0;P<c;
P+=2){var gj=L[P];L[P]=L[P+1];L[P+1]=gj}else if(v==14){for(var P=0;P<c;P+=4){var gj=L[P];L[P]=L[P+3];
L[P+3]=gj;gj=L[P+1];L[P+1]=L[P+2];L[P+2]=gj}}else if(v==12)for(var P=0;P<c;P+=3){var jA=L[P+2]<<16|L[P+1]<<8|L[P+0];
jA=jA>>>12|(jA&4095)<<12;L[P]=jA>>>16&255;L[P+1]=jA>>>8&255;L[P+2]=jA&255}if(G)L=eH.b_.am1(L,m,i);var Y=G?2:1;
m*=Y;A.t256=[m];A.t257=[i];A.t258=[Q];A.t50719=[S[1],S[0]*Y];A.t50720=[S[3],S[2]*Y];A.width=m;A.height=i;
A.data=new Uint8Array(L.buffer);return[A]};eH.b_.am1=function(u,g,K){u=new Uint16Array(u.buffer);var X=new Uint16Array(g*K*2);
for(var w=0;w<K;w+=2)for(var D=0;D<g;D++){var q=w*g+D,C=q*2,a=u[q],x=u[q+g];X[C+1]=X[C+2*g]=x;if(((w>>>1)+D&1)==0){X[C]=a;
X[C+2*g+1]=u[q+1]}else{X[C]=u[q-1];X[C+2*g+1]=a}}return X};eH.PB={};eH.PB.J3=!0;eH.PB.si=function(u,g,K,X){var w=new Uint8Array(u[0][0]),D=g*K,q=[1,3,4][X[0]],C=8+8*X[1],a=X[2];
if(q==1){var x=new Uint8Array(g*K);f.hk(w,x,0);w=x}if(q==3){var x=new Uint8Array(g*K*3);for(var P=0;
P<D;P++){var H=P*4,$=P*3;x[$]=w[H];x[$+1]=w[H+1];x[$+2]=w[H+2]}w=x}if(C==16){var r=w.length,x=new Uint8Array(r*2);
for(var P=0;P<r;P++){var c=Math.round(w[P]*(65535/255));x[P*2+a]=c>>>8;x[P*2+1-a]=c&255}w=x}return w.buffer};
eH.mH={};eH.mH.Tu=function(u,g){function K(a){return~~(.5+f.lG(Math.max(0,Math.min(1,a)))*255)}var X=EXRLoader.parse(u),w=X.width,D=X.height,q=f.L(w*D*4);
for(var C=0;C<D;C++)for(var a=0;a<w;a++){var P=(C*w+a)*4,x=((D-C-1)*w+a)*4;q[P]=K(X.data[x+0]);q[P+1]=K(X.data[x+1]);
q[P+2]=K(X.data[x+2]);q[P+3]=K(X.data[x+3])}return[{ZE:new dS(0,0,w,D),data:q.buffer}]};eH.Qn={};eH.Qn.J3=!0;
eH.Qn.eE=!0;eH.Qn.si=function(u,g,K,X,w){X=["",100,!1,!1,!1,0];X[6]=["jpg"];var D=new ToDXF;ik.P8(u,X,D,w.aX);
return D.buffer};eH.Qn.Tu=function(u,g){var K=72,X=new eV(1,0,0,1,0,0);X.scale(K/72,K/72);g.wY=K;var w=new dq(g,X,!1);
FromDXF.Parse(u,w)};eH.Ip={};eH.Ip.Tu=function(){var u=k.bh,g=k.yY,K=k.u6,X;function w(q,C,a,x,H){var $=g(q,a),r=g(q,a+4),c=g(q,a+8),U=u(q,a+12),O=u(q,a+14);
a+=16;var A={};for(var P=0;P<U+O;P++){var m=g(q,a),i=g(q,a+4),e,S;if(m>>>31==1){m=m&16777215}if(P<U)e=k.MS(q,C+m+2,u(q,C+m));
else e="id"+m;var E=x.slice(0);E.push(e);if(i>>>31==1){i=i&268435455;S=w(q,C,C+i,E,H)}else{var Z=g(q,C+i),N=g(q,C+i+4),J=g(q,C+i+8),y=g(q,C+i+12);
if(y!=0)throw"e";if(Z<H[0]||Z>H[0]+H[1])throw"e";var o=H[2]+Z-H[0];S=q.slice(o,o+N);var B=eH.jN(S.buffer);
if(B&&["bmp","png","ico"].indexOf(B)!=-1){var t=eH.IB(B);if(!t.eE){var W=null;try{W=t.Tu(S.buffer)}catch(fc){}if(W){W[0].MC=E[1];
X.push(W[0])}}}else if(B)console.log(B)}A[e]=S;a+=8}return A}function D(q){X=[];var C=new Uint8Array(q),a=0,x=u(C,a);
a+=2;a+=58;var H=g(C,a);a+=4;a=H;var $=K(C,a,4);a+=4;var r=u(C,a);a+=2;var c=u(C,a);a+=2;var U=g(C,a);
a+=4;var O=g(C,a);a+=4;var A=g(C,a);a+=4;var m=u(C,a);a+=2;var i=u(C,a);a+=2;a+=m;var e={};for(var P=0;
P<c;P++){var S=a;while(C[S]!=0)S++;var E=K(C,a,S-a),Z=g(C,a+8),N=g(C,a+12),J=g(C,a+16),y=g(C,a+20),o=g(C,a+24),B=g(C,a+28),t=u(C,a+32),W=u(C,a+34),i=g(C,a+36);
e[E]=[N,Z,y,J,i];if(o+B!=0)throw"e";a+=40}for(var F in e){var G=e[F];a=G[2];if(F==".rsrc"){var L=w(C,a,a,[],G),Q="id134"}}return X}return D}();
eH.SH={};eH.SH.eE=!0;eH.SH.Tu=function(u,g){hI.h7(u,g)};(function(){var u=eH.bW.get("wasm/zstd").buffer;
WebAssembly.instantiate(u).then(function(g){var K=g.instance.exports;eH.SH.aqh=K})}());eH.SH.OO=function(u,g){var K=eH.SH.aqh,X=u.length,w=K.memory,D=2*X+1e6,a=8;
eH.Aw(K,D);var q=new Uint8Array(w.buffer),C=K.malloc(X);q.set(u,C);while(!0){var x=g==null?X*a:g;eH.Aw(K,D+x);
var H=K.malloc(x),$=K.ZSTD_decompress(H,x,C,X);if($==-70){K.free(H);a+=a>>>1;if(g!=null)throw"error"}else{q=new Uint8Array(w.buffer);
u=q.slice(H,H+$);K.free(H);break}}K.free(C);return u};eH.Rn={};eH.Rn.eE=!0;eH.Rn.Tu=function(){var u=0,g=1,K=2,X=3,w=4,D=5,q=6,C=7,a=1,x=2,H=7,$=8,r=9,c,U,O,A,m;
function i(){var eJ=k.q$(c,U);U+=4;return eJ}function e(){var T=0,j=0;for(var P=0;P<5;P++){var p=c[U++];
T+=(p&127)<<j;j+=7;if((p&128)==0)break}return T}function S(){var T=e(),j=k.KO(c,U,T);U+=T;return j}function E(){return{typeName:S(),ar8:i()}}function Z(){var T=i(),j=S(),p=[],M=i();
for(var P=0;P<M;P++)p.push([S()]);return{id:T,r_:j,aw6:p}}function N(T){var j=T.aw6,p=[];for(var P=0;
P<j.length;P++)j[P].push(c[U++]);for(var P=0;P<j.length;P++){var M=j[P][1],n;j[P].push(J(M))}}function J(T){var j;
if(T==u)j=c[U++];else if(T==X)j=S();else if(T==w)j=E();else if(T==g||T==K||T==q||T==D){}else throw T;
return j}function y(T,j,p){var M;if(T==u){if(j==a)M=c[U++]==1;else if(j==x){M=c[U++]}else if(j==$)M=i();
else if(j==r){M=i();i()}else throw j}else if(T==X){M=W(p+1)}else if(T==w){M=W(p+1)}else if(T==D){M=W(p+1)}else if(T==g){M=W(p+1)}else if(T==q){M=W(p+1)}else throw T;
return M}function o(T,j){var p=O["c"+T],M=p.aw6,n={_class:p.r_};for(var P=0;P<M.length;P++){var d=M[P],V=d[1],z=d[2],I=y(V,z,j),v=d[0];
n[v]=I}return n}function B(T,j,p,M){var n=[];for(var P=0;P<T;P++){var d=y(j,p,M);if(d.m7&&d.m7=="null_count"){var V=d.jp;
for(var z=0;z<V;z++)n.push(null);P+=V-1}else n.push(d)}return n}function t(){return[i(),i()]}function W(T){if(T==null)throw"e";
var j=null,p=c[U],M=null;U++;if(p==0){var n=i(),d=i(),V=i(),z=i();j=[n,d,V,z]}else if(p==1){M=i();var I=i();
j=o(I,T)}else if(p==4){var v=Z();M=v.id;N(v);O["c"+v.id]=v;j=o(v.id,T)}else if(p==5){var v=Z();M=v.id;
N(v);var gj=i();O["c"+v.id]=v;j=o(v.id,T)}else if(p==6){M=i();var jA=S();j=jA}else if(p==7){M=i();var Y=c[U++];
if(Y!=0)throw Y;var jv=i();if(jv!=1)throw jv;var iR=i(),cj=c[U++],j8=J(cj);j=B(iR,cj,j8,T)}else if(p==9){var as=i();
j={m7:"ref",jp:as};m["o"+as]=!0}else if(p==10){j={m7:"null_count",jp:1}}else if(p==11){j={m7:"end"}}else if(p==12){var gj=i(),gW=S()}else if(p==13){var af=c[U++];
j={m7:"null_count",jp:af}}else if(p==16){var at=t();M=at[0];j=B(at[1],w,null,T)}else if(p==17){var at=t();
M=at[0];j=B(at[1],g,null,T)}else throw"e";if(M!=null&&M>0){if(A["o"+M]!=null)throw"e";A["o"+M]=j}return j}function F(T,A){if(T instanceof Array){for(var P=0;
P<T.length;P++)T[P]=G(T[P],A)}else if(T instanceof Object){for(var j in T)T[j]=G(T[j],A)}}function G(T,A){if(T&&T.m7&&T.m7=="ref")return A["o"+T.jp];
else return T}function L(T,j,p){c=new Uint8Array(T);U=0;O={};A={};m={};var M=k.u6(c,0,4);if(M!="PDN3")throw M;
U+=4;var n=k.bh(c,U)+c[U+2]*256*256;U+=3;var d=k.u6(c,U,n);U+=n;U+=2;while(!0){var V=W(0);if(V&&V.m7&&V.m7=="end")break}for(var z in m)if(A[z]==null)throw z;
for(var z in A)F(A[z],A);var I=A.o1;console.log(I);j.m=I.width;j.n=I.height;j.buffer=f.L(j.m*j.n*4);
var v=I.layers["ArrayList+_items"];for(var P=0;P<v.length;P++){var gj=v[P];if(gj==null)continue;console.log(gj);
var jA=gj["Layer+width"],Y=gj["Layer+height"],jv=gj["Layer+properties"],iR=gj.properties,cj=iR.blendOp._class.split("+").pop();
cj=cj.slice(0,cj.length-7);var j8={Normal:"norm",Multiply:"mul ",Additive:"lddg",ColorBurn:"idiv",ColorDodge:"div ",Reflect:"lddg",Glow:"hMix",Overlay:"over",Difference:"diff",Negation:"smud",Lighten:"lite",Darken:"dark",Screen:"scrn",Xor:"smud"}[cj],as=j.Wk();
as.Q9(jv.name);as.opacity=jv.opacity;as.H4(jv.visible);as.wS=j8;var gW=1<<16,af=Math.ceil(jA*Y/gW);as.rect=new dS(0,0,jA,Y);
as.buffer=f.L(jA*Y*4);var at=as.buffer;U+=5;for(var jd=0;jd<af;jd++){var fM=Q();at.set(fM[1],fM[0]*gW*4)}for(var hS=0;
hS<at.length;hS+=4){var dr=at[hS+0];at[hS+0]=at[hS+2];at[hS+2]=dr}j.g.push(as)}}function Q(){var T=k.r(c,U);
U+=4;var j=k.r(c,U);U+=4;var p=pako.inflateRaw(c.slice(U+10));U+=j;return[T,p]}return L}();eH.zx={};
eH.zx.eE=!0;eH.zx.Tu=function(u,g){hC.h7(u,g)};var s={};s.xA=!1;s.lE=!1;s.CS=!1;s.I=document.createElement("canvas");
s.CG=null;s.gO=null;s.Yk=0;(function(){var u={alpha:!0,antialias:!1,depth:!1,premultipliedAlpha:!1},g;
if(!g)g=s.I.getContext("webgl",u);if(!g)g=s.I.getContext("experimental-webgl",u);if(g){s.xA=!0;s.lE=!0;
s.CG=g;s.gO=g.createFramebuffer();g.bindFramebuffer(g.FRAMEBUFFER,s.gO);g.disable(g.BLEND);g.disable(g.DEPTH_TEST);
var K=g.createBuffer();g.bindBuffer(g.ARRAY_BUFFER,K);g.bufferData(g.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),g.STATIC_DRAW);
g.enableVertexAttribArray(0);g.vertexAttribPointer(0,2,g.FLOAT,!1,0,0)}}());s.a7P=function(u){u=u.replace(/\s\s+/g," ");
u=u.replace(/; /g,";");u=u.replace(/} /g,"}");u=u.replace(/ }/g,"}");u=u.replace(/{ /g,"{");u=u.replace(/ {/g,"{");
u=u.replace(/= /g,"=");u=u.replace(/ =/g,"=");u=u.replace(/\| /g,"|");u=u.replace(/ \|/g,"|");return u};
s.dq=function(u){var g=s.CG;if(u>g.getParameter(g.MAX_TEXTURE_SIZE)){s.xA=!1;alert("Disabling WebGL")}};
s.j3=function(u,g){return new Float32Array([(u.x-g.x)/g.m,(u.y-g.y)/g.n,u.m/g.m,u.n/g.n])};s.jW=function(){return this.I};
s.c9=function(u,g){var K=s.CG;K.bindFramebuffer(K.FRAMEBUFFER,s.gO);K.framebufferTexture2D(K.FRAMEBUFFER,K.COLOR_ATTACHMENT0,K.TEXTURE_2D,u.nI,0);
K.viewport(0,0,u.m,u.n);if(g){K.enable(K.SCISSOR_TEST);K.scissor(g.x,g.y,g.m,g.n)}else K.disable(K.SCISSOR_TEST)};
s.by=function(u,g,K){if(K)throw"error";var X=s.CG;X.disable(X.SCISSOR_TEST);X.bindFramebuffer(X.FRAMEBUFFER,null);
X.viewport(0,0,u,g);if(K){X.enable(X.SCISSOR_TEST);X.scissor(K.x,K.y,Math.round(K.m),Math.round(K.n))}else X.disable(X.SCISSOR_TEST)};
s.clear=function(){var u=s.CG;u.clearColor(0,0,0,0);u.clear(u.COLOR_BUFFER_BIT)};s.nW=function(u,g){if(g==null)g=0;
var K=(g>>>0&255)==0,X=(g>>>8&255)==0,w=(g>>>16&255)==0,D=(g>>>24&255)==0,q=(u>>>0&255)*(1/255),C=(u>>>8&255)*(1/255),a=(u>>>16&255)*(1/255),x=(u>>>24&255)*(1/255),H=s.CG;
H.colorMask(K,X,w,D);H.clearColor(q,C,a,x);H.clear(H.COLOR_BUFFER_BIT);H.colorMask(!0,!0,!0,!0)};s.X0=function(u,g,K,X,w){var D=g.I3(X);
if(w)D=D.I3(w);if(D.fg())return;var q=s.CG;s.c9(u);q.bindTexture(q.TEXTURE_2D,K.nI);q.copyTexSubImage2D(q.TEXTURE_2D,0,D.x-X.x,D.y-X.y,D.x-g.x,D.y-g.y,D.m,D.n)};
s.iS=function(P,u,g){var K=s.Ng[P];if(K==null||K.m!=u||K.n!=g){if(K)K.delete();K=new s.bs(u,g)}s.Ng[P]=K;
return K};s.Ng=[];s.yS=function(){this.zW=null;this.Pw=null};s.yS.pn=null;s.yS.prototype.cf=function(u){if(this.Pw)return;
this.Pw={};var g=s.CG,K=this.zW,X=this.Pw;for(var P=0;P<u.length;P++){var w=u[P];X[w]=g.getUniformLocation(K,w)}};
s.yS.prototype.un=function(){};s.yS.prototype.j8=function(u){var g=s.CG;for(var P=0;P<u.length;P+=2){g.uniform1i(u[P],P>>>1);
g.activeTexture(g["TEXTURE"+(P>>>1)]);g.bindTexture(g.TEXTURE_2D,u[P+1])}g.activeTexture(g.TEXTURE0)};
s.yS.prototype.Nf=function(u,g){var K=s.CG,X=K.createShader(K.FRAGMENT_SHADER);K.shaderSource(X,u);K.compileShader(X);
if(!K.getShaderParameter(X,K.COMPILE_STATUS))console.log(K.getShaderInfoLog(X));var w=K.createShader(K.VERTEX_SHADER);
K.shaderSource(w,g);K.compileShader(w);if(!K.getShaderParameter(w,K.COMPILE_STATUS))console.log(K.getShaderInfoLog(w));
var D=K.createProgram();K.attachShader(D,w);K.attachShader(D,X);K.linkProgram(D);if(!K.getProgramParameter(D,K.LINK_STATUS))console.log("Could not initialise shaders");
this.zW=D};s.yS.prototype.$M=function(){if(s.yS.pn!=this){s.CG.useProgram(this.zW);s.yS.pn=this}};s.Gr=function(u,g){s.rg++;
s.Yk+=u*g;if(s.CS)console.log("GL.Channels instances: "+s.rg+", memory: "+s.Yk);var K=s.CG;this.m=u;
this.n=g;this.nI=K.createTexture();this.Gd=null;this.Ps(this.nI,u,g)};s.Gr.prototype.Ps=function(u,g,K){var X=s.CG;
X.bindTexture(X.TEXTURE_2D,u);X.texParameteri(X.TEXTURE_2D,X.TEXTURE_MIN_FILTER,X.NEAREST);X.texParameteri(X.TEXTURE_2D,X.TEXTURE_MAG_FILTER,X.NEAREST);
X.texParameteri(X.TEXTURE_2D,X.TEXTURE_WRAP_S,X.CLAMP_TO_EDGE);X.texParameteri(X.TEXTURE_2D,X.TEXTURE_WRAP_T,X.CLAMP_TO_EDGE);
X.texImage2D(X.TEXTURE_2D,0,X.ALPHA,g,K,0,X.ALPHA,X.UNSIGNED_BYTE,null)};s.Gr.prototype.set=function(u,g){var K=s.CG;
K.bindTexture(K.TEXTURE_2D,this.nI);K.pixelStorei(K.UNPACK_ALIGNMENT,1);var X=this.m*this.n;if(g==null||g.$()*10>X)K.texImage2D(K.TEXTURE_2D,0,K.ALPHA,this.m,this.n,0,K.ALPHA,K.UNSIGNED_BYTE,u);
else{var w=new dS(0,0,this.m,this.n),D=f.L(g.$());f.x5(u,w,D,g);K.texSubImage2D(K.TEXTURE_2D,0,g.x,g.y,g.m,g.n,K.ALPHA,K.UNSIGNED_BYTE,D)}K.pixelStorei(K.UNPACK_ALIGNMENT,4)};
s.Gr.prototype.delete=function(){var u=s.CG;if(this.nI){u.deleteTexture(this.nI);s.rg--;s.Yk-=this.m*this.n}if(s.CS)if(s.CS)console.log("GL.Channels instances: "+s.rg+", memory: "+s.Yk*4)};
s.rg=0;s.bs=function(u,g,K){if(K==null)K=!1;s.rg++;s.Yk+=u*g*4;if(s.CS)console.log("GL.Channels instances: "+s.rg+", memory: "+s.Yk);
var X=s.CG;this.aaj=K;this.m=u;this.n=g;this.nI=X.createTexture();this.Gd=null;this.Ps(this.nI,u,g)};
s.bs.prototype.set=function(u,g){var K=s.CG;K.disable(K.SCISSOR_TEST);K.bindTexture(K.TEXTURE_2D,this.nI);
if(u==null||u instanceof Uint8Array){var X=this.m*this.n;if(g==null||g.$()*10>X)K.texImage2D(K.TEXTURE_2D,0,K.RGBA,this.m,this.n,0,K.RGBA,K.UNSIGNED_BYTE,u);
else{var w=f.L(g.$()*4);f.bV(u,new dS(0,0,this.m,this.n),w,g);K.texSubImage2D(K.TEXTURE_2D,0,g.x,g.y,g.m,g.n,K.RGBA,K.UNSIGNED_BYTE,w)}}else K.texImage2D(K.TEXTURE_2D,0,K.RGBA,K.RGBA,K.UNSIGNED_BYTE,u)};
s.bs.prototype.get=function(u){var g=s.CG;s.c9(this);g.readPixels(0,0,this.m,this.n,g.RGBA,g.UNSIGNED_BYTE,u)};
s.bs.prototype.xH=function(u){if(u.fg())return;var g=s.CG;if(this.Gd==null){this.Gd=g.createTexture();
this.Ps(this.Gd,this.m,this.n);s.rg++;s.Yk+=this.m*this.n*4}g.bindFramebuffer(g.FRAMEBUFFER,s.gO);g.bindTexture(g.TEXTURE_2D,this.Gd);
if(u){var K=Math.max(u.x,0),X=Math.max(u.y,0);g.copyTexSubImage2D(g.TEXTURE_2D,0,K,X,K,X,u.m,u.n)}else g.copyTexImage2D(g.TEXTURE_2D,0,g.RGBA,0,0,this.m,this.n,0)};
s.bs.prototype.Ps=function(u,g,K){var X=s.CG;X.bindTexture(X.TEXTURE_2D,u);X.texParameteri(X.TEXTURE_2D,X.TEXTURE_MIN_FILTER,this.aaj?X.LINEAR:X.NEAREST);
X.texParameteri(X.TEXTURE_2D,X.TEXTURE_MAG_FILTER,X.NEAREST);X.texParameteri(X.TEXTURE_2D,X.TEXTURE_WRAP_S,X.CLAMP_TO_EDGE);
X.texParameteri(X.TEXTURE_2D,X.TEXTURE_WRAP_T,X.CLAMP_TO_EDGE);X.texImage2D(X.TEXTURE_2D,0,X.RGBA,g,K,0,X.RGBA,X.UNSIGNED_BYTE,null)};
s.bs.prototype.delete=function(){var u=s.CG;if(this.nI){u.deleteTexture(this.nI);s.rg--;s.Yk-=this.m*this.n*4}if(this.Gd){u.deleteTexture(this.Gd);
s.rg--;s.Yk-=this.m*this.n*4}if(s.CS)if(s.CS)console.log("GL.Channels instances: "+s.rg+", memory: "+s.Yk)};
s.bs.prototype.clone=function(){var u=s.CG,g=new s.bs(this.m,this.n);s.c9(this);u.bindTexture(u.TEXTURE_2D,g.nI);
u.copyTexImage2D(u.TEXTURE_2D,0,u.RGBA,0,0,this.m,this.n,0);return g};s.yl={a78:"  vec3 ocbrn(vec3 a, vec3 b, float f) {  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(ONE3 - min(ONE3,(ONE3-b)/d), ZERO3, vec3(vec3(greaterThan(vec3(0.001),d))) );  }  ",a9L:"  vec3 ocddg(vec3 a, vec3 b, float f) {  return mix(        min(ONE3,       b/(ONE3 - a*f))    ,   ONE3   , vec3(equal(a*f,ONE3 )) );  }  ",lH:"const vec3 ZERO3 = vec3(0.0,0.0,0.0) ;\t\t\tconst vec3 QUAR3 = vec3(0.25,0.25,0.25) ;\t\t\tconst vec3 HALF3 = vec3(0.5,0.5,0.5) ;\t\t\tconst vec3 ONE3  = vec3(1.0,1.0,1.0) ;",XG:" float hueDiff(float shue, float hue) { \t\t\t\tfloat df = hue-shue, adf=abs(df), df0 = df-1.0, df1 = df+1.0; \t\t\t\tif(abs(df0) < adf)  df = df0; \t\t\t\telse if(abs(df1) < adf)  df = df1; \t\t\t\treturn df; \t\t\t}",$J:" float hueCF(float hueS, float hue0) { \t\t\t\tfloat df = hueDiff(hue0, hueS)*6.0; \t\t\t\treturn   max(0.0, min(1.0,  (df<0.0) ? 1.0+df : 1.0-df  ));  } ",k7:"float sat(vec3 c) { return max(c.x,max(c.y,c.z)) - min(c.x,min(c.y,c.z)); }",qC:"float lum(vec3 c) { return dot(c, vec3(0.3,0.59,0.11)); } ",iO:"vec3  D  (vec3 x) { return mix( sqrt(x), ((16.0*x-12.0)*x+4.0)*x  , vec3(lessThanEqual(x,QUAR3))  ); }",afq:"float midSat (vec3 v, float s) { return ((v.y-v.z)*s)/(v.x-v.z); }",hw:"vec3 setSat (vec3 c, float s) \t\t\t{\t\t\t\tvec3 o;\t\t\t\tif(c.r==c.g && c.g==c.b) o = ZERO3;\t\t\t\telse if(c.r>c.g)  {\t\t\t\t\tif(c.r>c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(s, midSat(c.rgb,s), 0.0); \t\t\t\t\t\telse\to = vec3(s, 0.0, midSat(c.rbg,s)); \t\t\t\t\t}\t\t\t\t\telse\t\to = vec3(midSat(c.brg,s), 0.0, s); \t\t\t\t} else  {\t\t\t\t\tif(c.r<c.b) {\t\t\t\t\t\tif(c.g>c.b)\to = vec3(0.0, s, midSat(c.gbr,s)); \t\t\t\t\t\telse\t    o = vec3(0.0, midSat(c.bgr,s), s); \t\t\t\t\t}\t\t\t\t\telse\t\t    o = vec3(midSat(c.grb,s), s, 0.0);\t\t\t\t}\t\t\t\treturn o;\t\t\t}",a4E:"vec3 clipCol(vec3 c) \t\t\t{ \t\t\t\tvec3 o = c;  float l = lum(c); \t\t\t\tfloat n = min(c.r,min(c.g,c.b)); \t\t\t\tfloat x = max(c.r,max(c.g,c.b)); \t\t\t\tif(n<0.0) o = l + (o-l)*(l/(l-n));\t\t\t\tif(x>1.0) o = l + (o-l)*(1.0-l)/(x-l);\t\t\t\treturn o;\t\t\t}",vd:"vec3 setLum (vec3 c, float l) { return clipCol(c+l-lum(c)); } ",q0:"bool in01(vec2 c) { return (0.0<=c.x) && (c.x<=1.0) && (0.0<=c.y) && (c.y<=1.0); }",hash:"float hash(vec2 v) { return fract(sin(dot(v ,vec2(12.9898,78.233))) * 43758.5453); }",TT:"vec3 rgbToHsl (vec3 rgb) {\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, l = (mx + mn) * 0.5;\t\t\t\t\t\t\t\tif(mx == mn) h = s = 0.0; \t\t\t\telse{ \t\t\t\t\tfloat d = mx - mn; \t\t\t\t\ts = l > 0.5 ? d / (2.0 - mx - mn) : d / (mx + mn);  \t\t\t\t\t\t\t\t\t\tif(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\t\t\th /= 6.0; \t\t\t\t}  \t\t\t\treturn vec3(h,s,l); }",zm:"vec3 hslToRgb (float h, float s, float l){\t\t\t\tfloat r, g, b;\t\t\t\t\t\t\t\tif(s == 0.0)  r = g = b = l; \t\t\t\telse{ \t\t\t\t\tfloat q = l < 0.5 ? l * (1.0 + s) : l + s - l * s; \t\t\t\t\tfloat p = 2.0 * l - q; \t\t\t\t\tr = hue2rgb(p, q, h + 1.0/3.0); \t\t\t\t\tg = hue2rgb(p, q, h); \t\t\t\t\tb = hue2rgb(p, q, h - 1.0/3.0); \t\t\t\t} \t\t\t\treturn vec3(r,g,b); } ",qo:"float hue2rgb(float p, float q, float t){ \t\t\t\tif(t < 0.0) t += 1.0;\t\t\t\tif(t > 1.0) t -= 1.0;\t\t\t\tif(t < 1.0/6.0) return p + (q - p) * 6.0 * t; \t\t\t\tif(t < 1.0/2.0) return q; \t\t\t\tif(t < 2.0/3.0) return p + (q - p) * (2.0/3.0 - t) * 6.0; \t\t\t\treturn p;\t}",UD:"vec3 rgbToHsv(vec3 rgb){\t\t\t\t\tfloat r = rgb.r, g = rgb.g, b = rgb.b; \t\t\t\tfloat mx = max(r, max(g, b)), mn = min(r, min(g, b)); \t\t\t\tfloat h, s, v = mx; \t\t\t\t\t\t\t\tfloat d = mx - mn; \t\t\t\ts = mx == 0.0 ? 0.0 : d / mx; \t\t\t\t\t\t\t\tif(mx == mn) h = 0.0;  \t\t\t\telse if(mx==r) h = (g - b) / d + (g < b ? 6.0 : 0.0);  \t\t\t\telse if(mx==g) h = (b - r) / d + 2.0; \t\t\t\telse if(mx==b) h = (r - g) / d + 4.0; \t\t\t\t\t\t\t\th /= 6.0; \t\t\t\treturn vec3(h,s,v);  }",iF:"vec3 hsvToRgb(float h, float s, float v)  { \t\t\t\tfloat r, g, b, f, p, q, t, i; \t\t\t\ti = floor(h * 6.0); \t\t\t\tf = h * 6.0 - i; \t\t\t\tp = v * (1.0 - s); \t\t\t\tq = v * (1.0 - f * s); \t\t\t\tt = v * (1.0 - (1.0 - f) * s); \t\t\t\t\t\t\t\tif     (i==0.0) { r = v, g = t, b = p; }\t\t\t\telse if(i==1.0) { r = q, g = v, b = p; }\t\t\t\telse if(i==2.0) { r = p, g = v, b = t; }\t\t\t\telse if(i==3.0) { r = p, g = q, b = v; }\t\t\t\telse if(i==4.0) { r = t, g = p, b = v; }\t\t\t\telse if(i==5.0) { r = v, g = p, b = q; }\t\t\t\t\t\t\t\treturn vec3(r,g,b); }",iu:"\t\tfloat srgbUngamma(float x) {\t\t\treturn (x<0.04045) ? (x / 12.92) : pow( ( x + 0.055 ) / 1.055,  2.4);\t\t}\t\tfloat xyzScale(float x) {\t\t\treturn (x>0.008856) ? pow(x,1.0/3.0) : (903.3*x+16.0)*(1.0/116.0); \t\t}\t\tvec3 rgbToLab(vec3 rgb) {\t\t\tbool ok = true;\t\t\trgb.r = srgbUngamma(rgb.r); \t\t\trgb.g = srgbUngamma(rgb.g); \t\t\trgb.b = srgbUngamma(rgb.b); \t\t\tok = ok && 0.0318<=rgb.r && rgb.r<=0.0319; \t\t\tok = ok && 0.127 <=rgb.g && rgb.g<=0.128 ; \t\t\tok = ok && 0.3047<=rgb.b && rgb.b<=0.305; \t\t\t\t\t\tmat3 srgb2xyz = mat3(0.4360747164307918, 0.222504478679176, 0.013932173981751634,    0.3850649153329662, 0.7168786002139355, 0.09710452396580642,    0.14308038098632878, 0.06061692340677909, 0.7141732835334675); \t\t\t\t\t\tvec3 xyz = srgb2xyz*rgb; \t\t\tok = ok && 0.106<=xyz[0] && xyz[0]<=0.107;  \t\t\t\t\t\txyz=xyz*vec3(100.0/96.72, 100.0/100.0, 100.0/81.427);  \t\t\txyz.x = xyzScale(xyz.x); \t\t\txyz.y = xyzScale(xyz.y); \t\t\txyz.z = xyzScale(xyz.z); \t\t\t\t\t\treturn vec3(116.0*xyz.y-16.0, 500.0*(xyz.x-xyz.y), 200.0*(xyz.y-xyz.z));  \t\t} \t\tfloat labSimilar(vec3 lab, vec3 mnm, vec3 mxm, float lim)  {\t\t\tfloat L=lab.x, a=lab.y, b=lab.z; \t\t\tfloat dl = ((L<mnm.x) ? (mnm.x-L) : ((mxm.x<L) ? (mxm.x-L) : 0.0))*(1.0/100.0); \t\t\tfloat da = ((a<mnm.y) ? (mnm.y-a) : ((mxm.y<a) ? (mxm.y-a) : 0.0))*(1.0/116.0); \t\t\tfloat db = ((b<mnm.z) ? (mnm.z-b) : ((mxm.z<b) ? (mxm.z-b) : 0.0))*(1.0/116.0); \t\t\t/*float dl  = (slab.x-lab.x)*(1.0/100.0), da=(slab.y-lab.y)*(1.0/116.0), db=(slab.z-lab.z)*(1.0/116.0);*/ \t\t\tfloat dst = sqrt(dl*dl+da*da+db*db)*1.35; \t\t\treturn (dst<=lim) ? min(1.0,1.17*(1.0 - (dst/lim))) : 0.0; \t\t}",asW:"  mat3 rgbToYuv = mat3(0.299, -0.147, 0.615,    0.587,  -0.289,  -0.515,   0.114, 0.436, -0.100 );  ",awE:"  mat3 yuvToRgb = mat3(1.0, 1.0, 1.0,   0.0, -0.3946, 2.03199,    1.1398, -0.5805, -0.00048  ); ",Qh:"\t\tfloat _blendIf(float c, vec4 br) {  return min((c-br.x)*br.y,  (c-br.w)*br.z);  }  \t\tfloat blendIf(vec4 sc, vec4 tc, vec4 br[10]) {  \t\t\tfloat sg = lum(sc.rgb); \t\t\tfloat tg = lum(tc.rgb); \t\t\tfloat ms = _blendIf(sg,br[0]); \t\t\tms = min(ms, _blendIf(sc.r,br[2])); \t\t\tms = min(ms, _blendIf(sc.g,br[4])); \t\t\tms = min(ms, _blendIf(sc.b,br[6])); \t\t\t\t\t\tfloat mt = _blendIf(tg,br[1]); \t\t\tmt = min(mt, _blendIf(tc.r,br[3])); \t\t\tmt = min(mt, _blendIf(tc.g,br[5])); \t\t\tmt = min(mt, _blendIf(tc.b,br[7])); \t\t\tmt=max(mt,1.0-tc.w);\t\t\t\t\t\tfloat mi=min(ms,mt);\t\t\treturn clamp(mi,0.0,1.0);\t\t}",XF:"\t\t\tvec4 mapLut(vec4 src, sampler2D lut, float N) {\t\t\t\tfloat iN = 1.0/N; \t\t\t\tfloat fb = 0.5*iN + src.b*(1.0-iN); \t\t\t\tfloat fg = 0.5*iN + src.g*(1.0-iN); \t\t\t\tfloat R  = src.r*(N-1.0)*0.999999; \t\t\t\tfloat ir = floor(R)*iN;  \t\t\t\t\t\t\t\tvec4 c0 = texture2D(lut, vec2(fb, ir   +( fg   )*iN)); \t\t\t\tvec4 c1 = texture2D(lut, vec2(fb, ir+iN+( fg   )*iN)); \t\t\t\tvec4 rs = mix(c0,c1,R-floor(R));  \t\t\t\treturn rs;  \t\t\t}"};
s.i={};s.i.AK={};s.i.aG=null;s.i._e=null;s.i.sq=null;s.i.ga=function(u,g,K,X,w,D,q,C){if(C==null)C=bW.Gv();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(u)==-1){q=q*C.fill;C.fill=1;C.style=!1}var a=u+(C.bx?"1":"");
if(s.i.AK[a]==null)s.i.AK[a]=new s.i.yo(u,C.bx!=null);var x=s.i.AK[a],H=K.I3(w).I3(D);H.offset(-w.x,-w.y);
if(H.fg())return;var $=s.CG;s.c9(X,H);X.xH(H);x.$M();x.un(g.nI,X.Gd,s.j3(K,w),q,C.fill,C.style?1:0,C.Ak?1:0,C.bx?new Float32Array(C.bx):null);
$.drawArrays($.TRIANGLES,0,6)};s.i.G5=function(u,g,K,X,w,D,q,C,a,x,H){if(s.i.aG==null)s.i.aG=new s.i.RK(!0,!0);
if(s.i._e==null)s.i._e=new s.i.RK(!0,!1);if(s.i.sq==null)s.i.sq=new s.i.RK(!1,!0);var $=x?1:0,r=u?w?s.i.aG:s.i._e:s.i.sq,c=new Float32Array(H?[H[0],H[1],H[2],1]:[1,1,1,1]),U=g?g.I3(X).I3(C):X.I3(C);
if(U.fg())return;U.offset(-X.x,-X.y);var O=s.CG;s.c9(K,U);K.xH(U);r.$M();if(u==null)r.un(null,K.Gd,w.nI,s.j3(X,X),s.j3(D,X),q/255,a,$,c);
else if(w)r.un(u.nI,K.Gd,w.nI,s.j3(g,X),s.j3(D,X),q/255,a,$,c);else r.un(u.nI,K.Gd,null,s.j3(g,X),null,q/255,a,$,c);
O.drawArrays(O.TRIANGLES,0,6)};s.i.a99=function(u,g,K){if(s.i.a9R==null)s.i.a9R=new s.i.uz;var X=s.i.a9R,w=new dS(0,0,u.m,u.n),D=s.CG;
s.c9(g);g.xH(w);X.$M();X.un(w,u.nI,g.Gd,K.nI);D.drawArrays(D.TRIANGLES,0,6)};s.i.m$={norm:"return a;",diss:"return a;",dark:"return min(a,b);","mul ":"return a*b;",idiv:"  vec3 d = (a*vec3(f)+ONE3-vec3(f));  return mix(mix(ONE3-((ONE3-b)/max(d,vec3(1e-6))), ZERO3, vec3(greaterThanEqual(ONE3-b,d)) ), ONE3   ,   vec3(equal(b,ONE3) ));   ",lbrn:"return max(ZERO3, a*f+b-f);",dkCl:"return ( lum(a)<lum(b) ? a : b );",lite:"return max(a,b);",scrn:"return b+a-b*a;","div ":"a*=f;  return mix(    mix(  min(ONE3,b/(1.0-a)), ONE3,  step(1.0-a, b))     , ZERO3, vec3(equal(b,ZERO3)) );",lddg:"a*=f;  return min(ONE3,a+b);",lgCl:"return ( lum(a)>lum(b) ? a : b );",over:"return mix( a+(2.0*b -1.0)-a*(2.0*b-1.0) ,  2.0*b*a , step(-HALF3,-b) );",sLit:"return mix( b+(2.0*a -1.0)*(D(b)-b)  , b-(1.0-2.0*a)*b*(1.0-b) , step(-HALF3,-a) );",hLit:"return mix( b+(2.0*a -1.0)-b*(2.0*a-1.0) ,  2.0*a*b , step(-HALF3,-a) );",vLit:" return mix( ocddg(2.0*a-1.0,b,f)  ,  ocbrn(2.0*a,b,f)  ,  vec3(greaterThanEqual(HALF3,a))); ",lLit:"return mix( min(ONE3, (2.0*a-1.0)*f+b) , max(ZERO3, 2.0*a*f+b-f)  , step(-HALF3,-a));",pLit:"return mix( max(2.0*a-1.0,b) , min(2.0*a, b) , step(-HALF3,-a)  );",hMix:"if(f>0.99) return vec3(greaterThanEqual(a+b,ONE3));   return  min( ONE3, max(ZERO3,  (b+a*f-f)/(1.0-f+1e-6)  ))  ;  ",diff:"return abs(a*f-b);",smud:"return a+b-2.0*a*b;",fsub:"return max(b-a, ZERO3);",fdiv:"return min(b/a, ONE3);","hue ":"return  setLum( setSat(a, sat(b)) , lum(b) ); ","sat ":"return  setLum( setSat(b, sat(a)) , lum(b) ); ",colr:"return  setLum( a, lum(b) ); ","lum ":"return  setLum( b, lum(a) ); "};
s.i.yo=function(u,g){s.yS.call(this);var K="\t\t\tprecision highp float;\t\t\t"+s.yl.lH+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform float alpha;\t\t\tuniform float fill;\t\t\tuniform float style;\t\t\tuniform float keepBGA;\t\t\t"+(g?"uniform vec4 blIf[10];":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\t\t"+s.yl.k7+"\t\t\t"+s.yl.qC+"\t\t\t"+s.yl.iO+"\t\t\t"+s.yl.a78+"\t\t\t"+s.yl.a9L+"\t\t\t"+s.yl.afq+"\t\t\t"+s.yl.hw+"\t\t\t"+s.yl.a4E+"\t\t\t"+s.yl.vd+"\t\t\t"+s.yl.hash+"\t\t\t"+(g?s.yl.Qh:"")+"\t\t\t\t\t\tvec3  BB(vec3  a, vec3  b, float f) { "+s.i.m$[u]+" } \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = texture2D(source, sCoord);",X="\t\t\tattribute vec2 verPos;\t\t\tuniform vec4 srct;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
if(u=="diss")K+="\t\t\t\t\tgl_FragColor = (hash(tCoord) >= (keepBGA + (1.0-keepBGA)*src.w)*alpha ? tgt : vec4(src.xyz, keepBGA*tgt.w + (1.0-keepBGA)));  }";
else K+="  \t\t\t\t\tfloat as = (keepBGA + (1.0-keepBGA)*src.w) * alpha, at = keepBGA + (1.0-keepBGA)*tgt.w; \t\t\t\t\t"+(g?"  as*=blendIf(src,tgt,blIf);  ":"")+"\t\t\t\t\tfloat ats = at * (1.0-as), ao = as + ats, iao = (ao==0.0) ? 0.0 : (1.0/ao); \t\t\t\t\tfloat ccf = (style==1.0) ? 1.0 : as; \t\t\t\t\tvec3 ncl = ( (1.0-at)*as*src.xyz + (1.0-ccf)*at*tgt.xyz + ccf*at*BB(src.xyz, tgt.xyz, (1.0+as-ccf)*fill)  ) * iao;\t\t\t\t\tgl_FragColor = vec4(ncl, keepBGA*tgt.w + (1.0-keepBGA)*(as*fill + at*(1.0-as*fill)));\t\t\t\t\t\t\t}";
this.Nf(K,X)};s.i.yo.prototype=new s.yS;s.i.yo.prototype.un=function(u,g,K,X,w,D,q,C){this.cf("srct alpha source target fill style keepBGA blIf".split(" "));
var a=s.CG,x=this.Pw;a.uniform4fv(x.srct,K);a.uniform1f(x.alpha,X);a.uniform1f(x.fill,w);a.uniform1f(x.style,D);
a.uniform1f(x.keepBGA,q);if(C)a.uniform4fv(x.blIf,C);this.j8([x.source,u,x.target,g])};s.i.RK=function(u,g){s.yS.call(this);
this.awR=u;this.WU=g;var K="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\tuniform sampler2D weight;\t\t\tuniform vec4 cswitch;\t\t\tuniform float wcolor;\t\t\tuniform float awg; /* additional weight */\t\t\tuniform float dissv;\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\t"+s.yl.q0+"\t\t\t"+s.yl.hash+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 tgt = texture2D(target, tCoord);\t\t\t\tvec4 src = "+(u?"texture2D(source, sCoord)":"vec4(0.0)")+"; \t\t\t\tfloat wg = awg "+(g?"* (in01(wCoord) ? texture2D(weight, wCoord).w : wcolor)":"")+";\t\t\t\t"+(u?"":"wg = 1.0-wg;")+"\t\t\t\tfloat hwg = hash(tCoord)>=wg ? 0.0 : 1.0;  wg = dissv*hwg + (1.0-dissv)*wg; \t\t\t\tfloat as = wg*src.w, at = (1.0-wg)*tgt.w, ao = as+at;\t\t\t\t\t\t\t\tvec4 nc = vec4( (as*src.xyz + at*tgt.xyz)/ao, ao );  \t\t\t\tgl_FragColor =  "+(g?"nc":"cswitch*nc + (1.0- cswitch)*tgt")+";    \t\t\t}",X="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 wCoord;\t\t\t\t\t\tuniform vec4 srct;\t\t\tuniform vec4 wrct;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (verPos-srct.xy)/srct.zw;\t\t\t\twCoord = (verPos-wrct.xy)/wrct.zw;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.Nf(K,X)};s.i.RK.prototype=new s.yS;s.i.RK.prototype.un=function(u,g,K,X,w,D,q,C,a){if(this.WU)this.cf("srct wrct wcolor awg dissv source target weight cswitch".split(" "));
else this.cf("srct awg dissv source target cswitch".split(" "));var x=s.CG,H=this.Pw;x.uniform4fv(H.srct,X);
if(this.WU){x.uniform4fv(H.wrct,w);x.uniform1f(H.wcolor,D)}else{x.uniform4fv(H.cswitch,a)}x.uniform1f(H.awg,q);
x.uniform1f(H.dissv,C);var $=[H.source,u,H.target,g];if(this.WU)$.push(H.weight,K);this.j8($)};s.i.uz=function(){s.yS.call(this);
var u="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D prev;\t\t\tuniform sampler2D next;\t\t\tuniform sampler2D alpha;\t\t\t\t\t\tvarying vec2 coord;\t\t\t\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec3 or = texture2D(prev , coord).rgb;\t\t\t\tvec3 ir = texture2D(next , coord).rgb; \t\t\t\tfloat al = texture2D(alpha, coord).w; \t\t\t\tgl_FragColor =  vec4(  (ir-(1.0-al)*or)*(1.0/al)   ,1.0 );  \t\t\t}",g="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 coord;\t\t\t\t\t\tuniform vec4 rct;\t\t\tvoid main(void) {\t\t\t\tcoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}";
this.Nf(u,g)};s.i.uz.prototype=new s.yS;s.i.uz.prototype.un=function(u,g,K,X){this.cf(["rct","prev","next","alpha"]);
var w=s.CG,D=this.Pw;w.uniform4fv(D.rct,[0,0,1,1]);this.j8([D.prev,g,D.next,K,D.alpha,X])};s.W1={Q3:{},bG:"\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 sCoord;\t\t\tvoid main(void) {\t\t\t\tsCoord = verPos;\t\t\t\tgl_Position = vec4(vec2(-1.0,-1.0) + 2.0*verPos, 0.0, 1.0);\t\t\t}"};
s.W1.vG=function(u,g){var K=jO.sH,X=[K.zc,K.Zp,K.dT,K.fU,K.ua,K.ba,K.rz,K._6].indexOf(u.type),w=s.W1.Q3[u.type];
if(w==null)w=s.W1.Q3[u.type]=new s.Q3[X];w.$M();w.un(g,u);s.CG.drawArrays(s.CG.TRIANGLES,0,6)};s.Q3=[];
s.Q3[0]=function(){s.yS.call(this);this.pp={};var u="\t\t\tprecision mediump float;\t\t\t"+s.yl.qC+"\t\t\t"+s.yl.lH+"\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D map;\t\t\tuniform float toGray;\t\t\tuniform float presLum;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tfloat olum = lum(src.rgb); \t\t\t\tsrc.rgb = toGray * vec3(olum) + (1.0-toGray)*src.rgb; \t\t\t\tfloat r = texture2D(map, vec2(src.r, 0)).r;\t\t\t\tfloat g = texture2D(map, vec2(src.g, 0)).g;\t\t\t\tfloat b = texture2D(map, vec2(src.b, 0)).b;\t\t\t\tvec3 col = vec3(r,g,b); \t\t\t\tif(presLum==1.0) { \t\t\t\t\tfloat nlum = lum(col); \t\t\t\t\tif(olum>nlum) col += (olum-nlum)/(1.0-nlum)*(ONE3-col); \t\t\t\t\telse if(nlum==0.0) col = ZERO3; \t\t\t\t\telse col = (olum/nlum) * col; \t\t\t\t}\t\t\t\tgl_FragColor = vec4(col,src.w);\t\t\t\t\t\t\t}";
this.Nf(u,s.W1.bG)};s.Q3[0].prototype=new s.yS;s.Q3[0].prototype.un=function(u,g){var K={w:g.ko,A:g.FT,U:g.$X,_x:f.L(g.ko.length)},X=K.w.length;
if(this.pp["m"+X]==null){this.pp["m"+X]={a7g:new s.bs(X,1),Fg:f.L(X*4)}}var w=this.pp["m"+X];f.UP(K,w.Fg,0);
var D=w.a7g;D.set(w.Fg);this.cf(["source","map","toGray","presLum"]);var q=s.CG,C=this.Pw;q.uniform1f(C.toGray,g.mh?1:0);
q.uniform1f(C.presLum,g.sZ?1:0);this.j8([C.source,u,C.map,D.nI])};s.Q3[1]=function(){s.yS.call(this);
this.a73=new s.bs(256,1);this.a9S=f.L(256*4);var u="\t\t\t\tprecision mediump float;\t\t\t\t"+s.yl.qo+"\t\t\t\t"+s.yl.TT+"\t\t\t\t"+s.yl.zm+"\t\t\t\t\t\t\t\tuniform sampler2D source;\t\t\t\tuniform sampler2D map;\t\t\t\tuniform float cfa; \t\t\t\tuniform float cfb; \t\t\t\tuniform int colorize; \t\t\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\t\t\tvoid main(void) { \t\t\t\t\tvec4 src = texture2D(source, sCoord);\t\t\t\t\tvec3 rgb = src.rgb;\t\t\t\t\tfloat mn=min(rgb.r,min(rgb.g,rgb.b)), mx = max(rgb.r,max(rgb.g,rgb.b));\t\t\t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\tfloat h = hsl.r, s = hsl.g, l = hsl.b; \t\t\t\t\t\t\t\t\t\tvec4 mapv = texture2D(map, vec2(h, 0));\t\t\t\t\tfloat nh = mapv.r; \t\t\t\t\tfloat sc = mapv.g*2.0-1.0; \t\t\t\t\tfloat lc = mapv.b*2.0-1.0; \t\t\t\t\t\t\t\t\t\tfloat cf = -lc, tv=mn;\t\t\t\t\tif(0.0<lc) {  cf=lc;  tv=mx;  }\t\t\t\t\t\t\t\t\t\tfloat a0 = cfa + cfb*cf*tv, a1 = cfb*(1.0-cf);\t\t\t\t\trgb = a0 + a1 * rgb;\t\t\t\t\t\t\t\t\t\thsl = rgbToHsl(rgb);  s = hsl.g;  l = hsl.b; \t\t\t\t\tfloat ns = sc; \t\t\t\t\tif(colorize==0) {\t\t\t\t\t\tif(sc>0.0) sc = pow(tan((3.14159265359/2.0)*sc),1.3);\t\t\t\t\t\tns = min(s * (1.0 + sc), 1.0); \t\t\t\t\t} \t\t\t\t\t\t\t\t\t\tgl_FragColor = vec4(hslToRgb(nh,ns,l),src.w); \t\t\t\t\t\t\t\t\t}";
this.Nf(u,s.W1.bG)};s.Q3[1].prototype=new s.yS;s.Q3[1].prototype.un=function(u,g){f.UP({w:g.afB,A:g.DI,U:g.anH,_x:f.L(256)},this.a9S);
this.a73.set(this.a9S);this.cf(["source","map","cfa","cfb","colorize"]);var K=s.CG,X=this.Pw;K.uniform1f(X.cfa,g.alY);
K.uniform1f(X.cfb,g.y3);K.uniform1i(X.colorize,g.a6p);this.j8([X.source,u,X.map,this.a73.nI])};s.Q3[2]=function(){s.yS.call(this);
var u="\t\t\tprecision mediump float;\t\t\t"+s.yl.qo+"\t\t\t"+s.yl.UD+"\t\t\t"+s.yl.iF+"\t\t\t"+s.yl.TT+"\t\t\t"+s.yl.zm+"\t\t\t"+s.yl.asW+"\t\t\t"+s.yl.awE+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float vib; \t\t\tuniform float sat; \t\t\tuniform vec3  yF; \t\t\tconst float PI = 3.141592653; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\tvec3 vibrate(vec3 rgb) {  \t\t\t\tvec3 yuv = rgbToYuv * rgb; \t\t\t\treturn yuvToRgb * (yuv * yF); \t\t\t} \t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\trgb = pow(rgb,vec3(2.4)); \t\t\t\t\t\t\t\trgb = clamp(vibrate(rgb), 0.0, 1.0); \t\t\t\t\t\t\t\trgb = pow(rgb,vec3(1.0/2.4)); \t\t\t\t\t\t\t\tvec3 hsl = rgbToHsl(rgb);  \t\t\t\tfloat nsat = max(0.0, min(1.0, hsl.y*(1.0+sat)));  \t\t\t\trgb = hslToRgb(hsl.x, nsat, hsl.z);  \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t}";
this.Nf(u,s.W1.bG)};s.Q3[2].prototype=new s.yS;s.Q3[2].prototype.un=function(u,g){this.cf(["source","vib","sat","yF"]);
var K=s.CG,X=this.Pw;K.uniform1f(X.vib,g.M3[0]);K.uniform1f(X.sat,g.M3[1]);K.uniform3fv(X.yF,new Float32Array([g.M3[2],g.M3[3],g.M3[3]]));
this.j8([X.source,u])};s.Q3[3]=function(){s.yS.call(this);var u="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform mat4  trf; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 nsr = vec4(src.rgb,1.0); \t\t\t\tgl_FragColor = vec4((trf*nsr).rgb,src.w); \t\t\t\t\t\t\t}";
this.Nf(u,s.W1.bG)};s.Q3[3].prototype=new s.yS;s.Q3[3].prototype.un=function(u,g){this.cf(["source","trf"]);
var K=s.CG,X=this.Pw;K.uniformMatrix4fv(X.trf,!1,new Float32Array(f.R$.ur(g.Oi)));this.j8([X.source,u])};
s.Q3[4]=function(){s.yS.call(this);var u="\t\t\tprecision mediump float; \t\t\t"+s.yl.iu+"\t\t\t"+s.yl.qo+"\t\t\t"+s.yl.zm+"\t\t\t"+s.yl.TT+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 mnm;\t  \t\t\tuniform vec3 mxm;\t  \t\t\tuniform vec3 shift;   \t\t\tuniform float lim;    \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\t\t\t\t\tvec3 lab = rgbToLab(src.rgb);\t\t\t\tfloat scl = labSimilar(lab, mnm,mxm, lim);\t\t\t\t\t\t\t\tvec3 hsv = rgbToHsl(src.rgb); \t\t\t\tfloat nh = 2.0 + hsv[0]+shift[0]; \t\t\t\thsv[0] = fract(nh); \t\t\t\thsv[1] = max(0.0, min(1.0, hsv[1] + shift[1])); \t\t\t\thsv[2] = max(0.0, min(1.0, hsv[2] + shift[2])); \t\t\t\t\t\t\t\tvec3 rgb = hslToRgb(hsv[0], hsv[1], hsv[2]); \t\t\t\t\t\t\t\tgl_FragColor = vec4(mix(src.rgb,rgb,scl),src.w); \t\t\t\t\t\t\t}";
this.Nf(u,s.W1.bG)};s.Q3[4].prototype=new s.yS;s.Q3[4].prototype.un=function(u,g){this.cf(["source","mnm","mxm","shift","lim"]);
var K=s.CG,X=this.Pw;K.uniform3fv(X.mnm,new Float32Array(g.PS));K.uniform3fv(X.mxm,new Float32Array(g.n4));
K.uniform3fv(X.shift,new Float32Array(g.shift));K.uniform1f(X.lim,g.tY);this.j8([X.source,u])};s.Q3[5]=function(){s.yS.call(this);
var u="\t\t\tprecision mediump float;\t\t\t"+s.yl.lH+"\t\t\t"+s.yl.XG+"\t\t\t"+s.yl.$J+"\t\t\t"+s.yl.TT+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform vec3 cfs[18]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\tfloat mx = max(rgb.r, max(rgb.g, rgb.b)); \t\t\t\tfloat mn = min(rgb.r, min(rgb.g, rgb.b)); \t\t\t\t\t\t\t\tvec3 CMY = ONE3 - rgb; \t\t\t\tvec3 d = ZERO3; \t\t\t\t\t\t\t\tfor(int j=0; j<9; j++) \t\t\t\t{ \t\t\t\t    vec3 NCMY = CMY * cfs[j+j] + cfs[j+j+1]; \t\t\t\t\t\t\t\t\t\tfloat cfK = 0.0;\t\t\t\t\tif     (j< 6) { \t\t\t\t\t\tcfK = hueCF(float(j)*(1.0/6.0), hsl.x); \t\t\t\t\t\tcfK = cfK * hsl.y * 2.0*min(hsl.z, 1.0-hsl.z); \t\t\t\t\t} \t\t\t\t\telse if(j==6) cfK = max(0.0,mn-0.5)*2.0;\t\t\t\t\telse if(j==7) cfK = 1.0-(abs(mx-0.5)+abs(mn-0.5));\t\t\t\t\telse          cfK = max(0.0,0.5-mx)*2.0;\t\t\t\t\t\t\t\t\t\td += (max(ZERO3, min(ONE3, NCMY))-CMY)*cfK; \t\t\t\t} \t\t\t\t\t\t\t\tCMY = max(ZERO3, min(ONE3, CMY+d)); \t\t\t\trgb = ONE3 - CMY; \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.Nf(u,s.W1.bG)};s.Q3[5].prototype=new s.yS;s.Q3[5].prototype.un=function(u,g){this.cf(["source","cfs"]);
var K=s.CG,X=this.Pw;K.uniform3fv(X.cfs,g.a1l);this.j8([X.source,u])};s.Q3[6]=function(){s.yS.call(this);
var u="\t\t\tprecision mediump float;\t\t\t"+s.yl.qo+"\t\t\t"+s.yl.XG+"\t\t\t"+s.yl.$J+"\t\t\t"+s.yl.TT+"\t\t\t"+s.yl.zm+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform float wght[6]; \t\t\tuniform float prms[6]; \t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec3 rgb = src.rgb; \t\t\t\t\t\t\t\tfloat tint=prms[0], hue=prms[1], lum=prms[2], mcf=prms[3], x0=prms[4], x1=prms[5]; \t\t\t\tvec3 hsl = rgbToHsl(rgb); \t\t\t\t\t\t\t\tfloat cf = 0.0;\t\t\t\tfor(int j=0; j<6; j++) cf += min(1.0, 1.7*(1.0-hsl.z)) * hsl.y *  wght[j] * hueCF(hsl.x, float(j)*(1.0/6.0));\t\t\t\t\t\t\t\tfloat lig = max(0.0, min(1.0, hsl.z*(1.0+cf)));\t\t\t\tif(tint==1.0) {  \t\t\t\t\tfloat totl = 0.0;\t\t\t\t\tif     (lig<x0) totl = lig*(0.5/lum); \t\t\t\t\telse if(lig<x1) totl = lig + (mcf)*(0.5 - lum); \t\t\t\t\telse            totl = 1.0 - (1.0-lig)*0.5/(1.0-lum); \t\t\t\t\t\t\t\t\t\thsl.x = hue;  \t\t\t\t\thsl.y = min(1.0, mcf + 3.0*mcf*abs(lig-0.5*(x0+x1))); \t\t\t\t\thsl.z = totl; \t\t\t\t} \t\t\t\telse {  hsl.x=0.0;  hsl.y=0.0;  hsl.z=lig;  } \t\t\t\t\t\t\t\trgb = hslToRgb(hsl.x, hsl.y, hsl.z); \t\t\t\t\t\t\t\tgl_FragColor = vec4(rgb,src.w); \t\t\t\t\t\t\t}";
this.Nf(u,s.W1.bG)};s.Q3[6].prototype=new s.yS;s.Q3[6].prototype.un=function(u,g){this.cf(["source","wght","prms"]);
var K=s.CG,X=this.Pw,w=[g._w,g.a0p,g.qC,g.a5c,g.sa,g.a1I];K.uniform1fv(X.wght,new Float32Array(g.a95));
K.uniform1fv(X.prms,new Float32Array(w));this.j8([X.source,u])};s.Q3[7]=function(){s.yS.call(this);this.$A={};
var u="\t\t\tprecision mediump float;\t\t\t"+s.yl.XF+"\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D lut;\t\t\tuniform float N;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\t\t\t\tvoid main(void) { \t\t\t\tvec4 src = texture2D(source, sCoord); \t\t\t\tvec4 rs = mapLut(src, lut, N); \t\t\t\tgl_FragColor = vec4(rs.rgb,src.w); \t\t\t\t\t\t\t}";
this.Nf(u,s.W1.bG)};s.Q3[7].prototype=new s.yS;s.Q3[7].prototype.un=function(u,g){this.cf(["source","lut","N"]);
var K=s.CG,X=this.Pw,w=g.ny,D=g.ee;if(this.$A["m"+w]==null)this.$A["m"+w]=new s.bs(w,w*w);var q=this.$A["m"+w];
q.set(D);K.uniform1f(X.N,w);this.j8([X.source,u,X.lut,q.nI]);K.activeTexture(K.TEXTURE1);var C=K.LINEAR;
K.texParameteri(K.TEXTURE_2D,K.TEXTURE_MIN_FILTER,C);K.texParameteri(K.TEXTURE_2D,K.TEXTURE_MAG_FILTER,C);
K.activeTexture(K.TEXTURE0)};s.filter={ZV:{},bG:"1u,/0*&<>2OI;<m^XJZ;]d/vp^r|ows/)z{M>5g7:@5nVPLIGeVMX`|njge-'&-$V&)/$BbHB4D%GNx`KSI=_f_menp%E+%vwKB4&'XQY``edhootpjxp&%*'vhxY{#>5HINMDXX]YnVW",a1H:0,ax6:1,Kg:2,auK:3,a2A:4,aqn:5,s0:6,alg:7};
s.filter.vG=function(u,g){var K=s.filter,X,w=u.type+":"+(u.YW?u.YW.join(","):""),X=s.filter.ZV[w];if(X==null)X=s.filter.ZV[w]=new s.ZV[u.type](u.YW);
X.$M();X.un(g,u);s.CG.drawArrays(s.CG.TRIANGLES,0,6)};s.ZV=[0,0,0,0,0,0,0,0,0,0,0,0];s.ZV[7]=function(){s.yS.call(this);
var u="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwqcd6's%xN,(&&286K5>D9O]LIYXH)P1o]q{nvr.(yzL=4f69?4mLHECaRIT\\xjfca)~|noC2).)[8*+^U`_felkrn$R[aVlzaoxD:;@N|)/G)28-CQNtjkp~`&*#!&4u*-.(q}$<}'-\"8FBi_`esTz~wuz)i~\"#xvhi=,r~(U0$:9==3bw^MLUUINwne8gjpe/}opB;/FMMRQBX__d`dGXLo%P\\e$kca,Bkw!?uR.3.CQf0<E_DAQP@QYbxm!-+0.~2iJ0).)L4,*YjDIDg>zJRH2aS\\;jjpvD}#}N4";
this.Nf(dn.Zw(u),dn.Zw(s.filter.bG))};s.ZV[7].prototype=new s.yS;s.ZV[7].prototype.un=function(u,g){this.cf(["source","iwh","kern"]);
var K=s.CG,X=this.Pw;K.uniform2fv(X.iwh,g.aY);K.uniform1fv(X.kern,g.amV);this.j8([X.source,u])};s.ZV[6]=function(u){s.yS.call(this);
var g=u[0],K=u[1],X=u[2],w="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwqcd6's%xN,(&&286K5>D9O]SEK%cQeobjf\"{mn@1(Z*-3(a@<97UF=HPl^ZWU|rpbc7&|\"|O,}~RITSZY`_fbwFOUJ`nUcl8./4Bp|#;|&,!7EAh[\"'zuV|!7<0+k!$%zkk0$J>'x~:=<d<.4[U<KMVNV`S,j\\]1 fr{I$w.-11'VkRA@II=BkbY,[^dY#qcd6/NVb<@#4(K`,8A_G?=g}GS\\zQ.ini~-Bkw!Lw&/HK^D=B=ar<JS|X]X{c[Y):sxs7mJy\"wa1#,j::@FsMRM}c",D=dn.Zw(w);
D=D.replaceAll("PRC",X+".0");D=D.replaceAll("DIR",["x,0","0,x"][K]);this.Nf(D,s.W1.bG)};s.ZV[6].prototype=new s.yS;
s.ZV[6].prototype.un=function(u,g){this.cf(["source","iwh","rad"]);var K=s.CG,X=this.Pw;K.uniform2fv(X.iwh,g.aY);
K.uniform1f(X.rad,g.D$);this.j8([X.source,u])};s.ZV[4]=function(u){s.yS.call(this);var g=u[0],K=u[1],X="\t\t\tprecision highp float;\t\t\tuniform sampler2D source;\t\t\tuniform vec2 iwh;\t\t\tuniform float rrad;\t\t\tuniform float tr;\t\t\t\t\t\tvarying vec2 sCoord;\t\t\tconst float PRC="+u[2]+".0; \t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 sclr = texture2D(source, sCoord);\t\t\t\tfloat rad = rrad; \t\t\t\tif(rad!=0.0) {\t\t\t\t\tvec4 sum=vec4("+["1.0,1.0,1.0,0.0","0.0,0.0,0.0,1.0","0.0"][K]+"); vec4 cnt = vec4(0.0);\t\t\t\t\tfor(float y=-PRC; y<=PRC; y++) {\t\t\t\t\t\tif(y<-rad || y>rad) continue; \t\t\t\t\t\tfor(float x=-PRC; x<=PRC; x++) { \t\t\t\t\t\t\tif("+["x<-rad || x>rad","(x*x+y*y)>rad*rad"][g]+") continue; \t\t\t\t\t\t\tvec4 clr = texture2D(source, sCoord+vec2(x,y)*iwh);  \t\t\t\t\t\t\t"+["if(clr.w!=0.0) sum.rgb=min(sum.rgb,clr.rgb);  sum.w=max(sum.w,clr.w)","sum.rgb=max(sum.rgb,clr.rgb);  sum.w=min(sum.w,clr.w)","if(abs(sclr.r-clr.r)<tr) {  sum.r+=clr.r;  cnt.r+=1.0;  };"+"if(abs(sclr.g-clr.g)<tr) {  sum.g+=clr.g;  cnt.g+=1.0;  };"+"if(abs(sclr.b-clr.b)<tr) {  sum.b+=clr.b;  cnt.b+=1.0;  };"][K]+"; \t\t\t\t\t\t\t\t\t\t\t\t\t}\t\t\t\t\t}\t\t\t\t\t\t\t\t\t\tsclr = "+(K==2?"vec4(sum.rgb/cnt.rgb, sclr.w)":"sum")+";\t\t\t\t}\t\t\t\tgl_FragColor=sclr; \t\t\t}";
this.Nf(X,s.W1.bG)};s.ZV[4].prototype=new s.yS;s.ZV[4].prototype.un=function(u,g){this.cf(["source","iwh","rrad","tr"]);
var K=s.CG,X=this.Pw;K.uniform2fv(X.iwh,g.aY);K.uniform1f(X.rrad,g.iw);K.uniform1f(X.tr,g.aog);this.j8([X.source,u]);
var w=K.LINEAR;w=K.NEAREST;K.activeTexture(K.TEXTURE0);K.texParameteri(K.TEXTURE_2D,K.TEXTURE_MIN_FILTER,w);
K.texParameteri(K.TEXTURE_2D,K.TEXTURE_MAG_FILTER,w);K.activeTexture(K.TEXTURE0)};s.ZV[5]=function(){s.yS.call(this);
var u="1%* !*709;O;?@DOaKTZOe/lhffrxv,#s#)($4VkJA@II=BzXTRR^dbwn_ntso BW6-050`>:88DJH]WIJ{lYj^4qmkkw}{1z$*~5C(7;DmKGEEQWUjT]cXn|egmoG&s(2%-)D>01bSJ|LOUJ$O^`hlzdmsh~-bPKGLZ9520N?6AIeWSPNuki[\\0~qht}K(yzNEPQVRg6?E:P^YX]X+!\"'5sef:)xQO*}4377-\\qXGJOJkbY,[^dY!6dpv/py t+96\\OwcEjn'rThklbP\\bz\\ek`v%!H;cO0VZr^?TWXNL>?paSK(a4cfla+ykl>7+A2DH+<0eD67jYAS ZNdcgg]-B)wz z<3%|EL/gc2;A6LZ#}HV^tTf ]o+\"{mnB9DEKOUOVW^d^efpjrrwsv,Zci^t#}pIt+&@HcKLXZ]^cVd\\gssxxP_cl$()55::q!%.EISUX[^_d`cxXW\\Wlz0m`7neqz+9N,~D2&<;??5dy`ONWWKPypbZ#8}!mukU%v ^..4:g;:L^I@LUt`_d_!wocyx||rBW>-,55).WNEwGJPElriRTZ\\\"7|";
this.Nf(dn.Zw(u),dn.Zw(s.filter.bG))};s.ZV[5].prototype=new s.yS;s.ZV[5].prototype.un=function(u,g){this.cf(["source","ssum","iwh","amnt","edgf"]);
var K=s.CG,X=this.Pw;K.uniform2fv(X.iwh,g.aY);K.uniform1f(X.amnt,g.axd);K.uniform1f(X.edgf,g.adJ);this.j8([X.source,u,X.ssum,g.a2j])};
s.ZV[3]=function(){s.yS.call(this);var u="1%* !*709;O@;=ETOUgQZ`Uk5rnllx~|2)y)/.*:\\qPGFOOCH!^ZXXdjh}wij<-y+~T2.,,8><Q;DJ?Uc[NR`.kgeeqwu+t}$x/=36(.gEA??KQOd^PQ#sjjbc>{wuu\"(&;5'(ZJ<@=JtRNLLX^\\qbYo2!tvv'@N,(&&286K<3IkZNPP`z(fThremi%~pqC4+]-06+d/?BBXEM2TTdugYZ.|v,\" qrF5)X,#=OAWACCSlkYoY[[k&!6pfx||{0!w2D-$>P<\\J`HhWioTKewc$s(o0|14JNDEJX>:,-_OE7G@qi[MN!pdo&|vhi<, ,>42$%WG=/H*8FySLTp\\g{&))4:;7CC;$0CSRPXZ_cg]Wd]quw~$}'-/50=wm $$#7-~8y(6L\\R<EKNTlZLeGUc#8}ykl?/yv./QI;-.`PDOe\\VHI{k_k}smcuyyx-8&w(!RJ6AW?K]bM?OHyq}}%'#lw.66B8\".@E0\"2+\\Tb`fbLXmxu\"wal %oaqj<4?@KOE/;PWXea]GRe_owv{nz~))3<\"}opC3,(&&UM?12dTHSi`ZLM oco\"wqgy}}|1'x)\"SK7BX@L^bmlqqxx},qZiksw&ox~s*8kpda^Z[`nMIFDbSJU]ykgdb* }opD3*|)2_:.DCGG=l\"hWV__SX\"xoBqtzo7Lz$*~5C+/=D;r:>RiYLP^}gZfo.z/Dr{\"v-;1#)d/3AH?cORDJ$UUygY_~>45:6,*{|O?6;6f5>D9O]T[$yz ~ubjb?66;Iw$*B$-3(>LIob).\"|^$(>C72s(+,\"rzrOFFKK+3+e77[PuiRDJehh0gY_'!gvx\"y\",~W&28P2;A6LZV}p7<0+k26LQE@!6KCBGC9'06+AO6NuTiKSK&WW{o6*rdj&)(P(y GA(79B:BL?wIImiU]Bddt&wij>5s,B3H2$*T[\\a]`c]DSU^V^h[4rde9(nz$Q, 6599/^sZIHQQEJsja4cfla+ykl>7u.D5GK.?3Vk:CI>TbIM)PTh obft4my#A.BW&/5*@N3K?wmnvpMYb!h$,-7>2nz$B~EMNTWS0<Ec;vENTI_mWfZ7pphi7%9uyB~#\\..R/G;tMMEFsbtnUaj)phfD2>>CC /#KO,8A_G?=]kcM\\Pyi[\\/'9384Iw!'{2@49>iW6:t@DRYPj-p{~^bpwn6os;D|!/6-PJgP[:>y|rsx+~ %2#ae1ko}%{?H $KNc2;A6LZAX!ww||chm7ry0En&L(-(H]'>S0<EcKCA|beywX`V@oajIxx~%R\"*n11ARD67jaippus_2adj_,y.98=<@GGLJ6h8;A6bQdonsrzx {~8rde90<:B@HFNI]=/0cZedkjqpxs)z#vm`luC qrF=,1,P8?V^^c_tZVHI{k_S2n`a4,zM| &zG5K6h8;A6bQfontp]0_bh]*w+@~pqD4(|Z7)*\\TCuEHNCo^s}{#',$pCru{p=+AJIQK8j:=C8dSezYKL~n`dk`;osp};*PSIJOBdHA=;;jbNBoWLuo-u`]tu80{o=%yCX**N8<9FcSx{rrwsm_cj_+x@tx t@/U*.5*UEhD7CLjRJHhv,yY]kri.uyv$A/BF.29.f6>4}M?H'VV\\b0i\\hq=#";
this.Nf(dn.Zw(u),dn.Zw(s.filter.bG))};s.ZV[3].prototype=new s.yS;s.ZV[3].prototype.un=function(u,g){this.cf("source iwh tdep rrad spec nois poly0 poly1".split(" "));
var K=s.CG,X=this.Pw;K.uniform2fv(X.iwh,g.aY);K.uniform1f(X.tdep,g.a6H);K.uniform1f(X.rrad,g.iw);K.uniform2fv(X.spec,g.af9);
K.uniform3fv(X.nois,g.a4x);K.uniformMatrix4fv(X.poly0,!1,g.aqt);K.uniformMatrix4fv(X.poly1,!1,g.a3q);
this.j8([X.source,u]);var w=K.LINEAR;K.activeTexture(K.TEXTURE0);K.texParameteri(K.TEXTURE_2D,K.TEXTURE_MIN_FILTER,w);
K.texParameteri(K.TEXTURE_2D,K.TEXTURE_MAG_FILTER,w);K.activeTexture(K.TEXTURE0)};s.ZV[0]=function(){s.yS.call(this);
var u="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZTFGyiYT.unjhhtzx.w!'{2@7/3;5mUO=Q[NVRmgYZ,|sFux~sM5~(.#9G23E'?;AOZm_QR$th$}|$mv|q(62M?_E=1GFJJ@o%kZYbbV[%{o-{mn@9AHHMLCVW\\X\\?PDgo\\#jT]cXn|x5&F,$w.-11'VkRA@II=BkbVsbTU' z//43*=>C?C&7+NVCiQ;DJ?Uc`zl-rj^tswwm=R9('00$)RI=ZI;<mfatuzy}%%*&*l}q5=*P8\"+1&<JGbSsYQE[Z^^T$9 nmvvjo90$A0\"#TMH[\\a`WkkplpSdX{$p7~hqwl#1x0J=]CVWc[R:Qm^~doc }l(#8 irxm$2y2L>^DWXd\\S;Sn_ epe!~n)$9!zlm@0\"6V<.286-;;O=bTFGyqyTk(#`x31(8r*DA~7ROF.E_\\:Rlgj g]Seiih|drz1xs>$AV>?D>:75SD;FNj\\XUSztszdmsh~-({6V<PPUHVN9:L.FBHVatc6ehnc+/{sw yR:%-#l<.7uEEKQa\"g_Sihllb2G.|{%%x}G>5g7:@5\\`QEzbc";
this.Nf(dn.Zw(u),dn.Zw(s.filter.bG))};s.ZV[0].prototype=new s.yS;s.ZV[0].prototype.un=function(u,g){this.cf(["source","iwh","ld","shine"]);
var K=s.CG,X=this.Pw;K.uniform2fv(X.iwh,g.aY);K.uniform3fv(X.ld,g.abN);K.uniform1f(X.shine,g.a6y);this.j8([X.source,u,X.tang,g.YP])};
s.ZV[1]=function(){s.yS.call(this);var u="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$}opB3 1%ZB;755AGEZDMSH^lYfY4{tpnnz!~4}'-\"8F,?9FJEAya[I]gZb^ysef8) R\"%+ YA+4:/ES?;PHjLU[Pfths*!jsyn%3'3E?>E/8>3IWM?X:HVl-ribj'r}2<??JPQMYYQ:FYihfnpuy}smzs(,.5:4=CEKFS;1'9==<PF8Q3AOeukU^dgm&se~`n|<Q9:?)28-CQ<=O,PMZOtfXY+{n+%$+%vwI:.@`FQ<ZI;<mfwuzx}|%(1+0,/3u#uP82$%VG9>PpV@IORXp\\w-tn`a3$u|]0P6*I.3`H2;A6LZQqt$]V^z'**/+@(\"stF7}M@`F-<CZDIdhUux&mgYZ,|c4&F,r\")@*/L;-._Xddihppuqtxe&)6}gpvk\"0\"6V<($91S2abPfApq`r(oYbh]s\"sz+K1|x.&H'WWE[6efUg|dNW]Rhvha @&qm#z={KL:P+[[J\\qYCLRG]k]dYw8}iezr5sDD2H#SSBTiQ;DJ?UcOzl-rcbt'p%4+|$@&-mN<OdL6?E:P^Jvg(m^]o\"kd/t{p;!(hI7J_G1:@5KYS_ eVUgy])'}i63x `A0BW?9EeKVHTsZmnxoi,o#$)6005C+t}$x/=373>LlRLXf^DWQ^b]Yv$|hdyq4r\")@,L:MQ>^a_:IPgSsbtxe&)$9!vl~##\"6,0,7OP\\\\acjhmi~fglfb_]{lcnv3%!}{C=<C=/0aRNR[{aX+Z]cX&cth>& qrF5{++AaG?3IHLLBq'm\\[ddX]'}tGvy t<Q9 //S*KkQ<=O,PMZOthl~4{fndN}oxW''-3CcI0??pXY";
this.Nf(dn.Zw(u),dn.Zw(s.filter.bG))};s.ZV[1].prototype=new s.yS;s.ZV[1].prototype.un=function(u,g){this.cf(["source","iwh","isc","bristle"]);
var K=s.CG,X=this.Pw;K.uniform2fv(X.iwh,g.aY);K.uniform1f(X.isc,g.a8O);K.uniform1f(X.bristle,g.aq5);
this.j8([X.source,u])};s.ZV[2]=function(){s.yS.call(this);var u="1%* !*709;O@;=ETOUgQZ`Uk5|uqoo{\" 5,|,21-=_tSJIRRFK$kd`^^jpn$zkz! {,NcB:*:6lTMIGGSYWlfXY+{hymC+$ }}*0.C-6<1GULEFOF#jc_]]iom#lu{p'5}4/1_GA/CM@HD_YKL}ne8gjpe?'py t+94%,-1@NY;DJ?Uc_rlkrh^ptts(p'\"<7G.0;NBX5KFHdmivuzwd]^g^*vopyp;5AV>?D>:75SD;FNj\\XUSztszdmsh~-x+S-&'0'S?89B9u]GPVKaofmx9~338F.(yzN=494IiOG;QPTTJy/udcll`e/&|O~\"(|DYA;-._P:GYy_tsxuvfZpossi9N5%t%!H?6h8;A6]eSWmZLM~w#$.(/0:14I1+|}O@(FfL6CpXBNTlQYbp]4*8 lB;G/{@CD>=D>01bSGYy_V)X[aV0wams,mv|q(6,YOPUcKAmfgjmns\"i_z}~xw~xjk=.~x7W=RQVSTD8NMQQGv,rbRb^&|p,4\"&<)z{MFQR\\V]^h_bw_LLpP^f|e_*e-C:;@<65<-'bU93lTUZB`!fWQ+rfx'<\"rl5w)|R:$-3(>LGRrXSDKLP_uc|2ypup&4I/*?-!76::0_t[JIRRFKtk_z0wnu,A~E-yy>,Z\\+=QK1D:9Fx`afN*|Yf4{|\"ltjT$u~]--39IiOFKFefrrwyah|2yz";
this.Nf(dn.Zw(u),dn.Zw(s.filter.bG))};s.ZV[2].prototype=new s.yS;s.ZV[2].prototype.un=function(u,g){this.cf(["source","tang","iwh","sigma","expo"]);
var K=s.CG,X=this.Pw;K.uniform2fv(X.iwh,g.aY);K.uniform1f(X.sigma,g.ai_);K.uniform1f(X.expo,g.aku);this.j8([X.source,u,X.tang,g.YP]);
var w=K.LINEAR;K.activeTexture(K.TEXTURE0);K.texParameteri(K.TEXTURE_2D,K.TEXTURE_MIN_FILTER,w);K.texParameteri(K.TEXTURE_2D,K.TEXTURE_MAG_FILTER,w);
K.activeTexture(K.TEXTURE0)};function f(){}f.R={};f.a1w={};f.ac7=function(){var u=[64,64,128,256,512,1024,2048],g=[];
for(var P=0;P<u.length;P++){var K=u[P],X=document.createElement("canvas");X.width=K;X.height=K;g.push(X.getContext("2d"))}return g}();
f.jW=function(u,g){var K,X=f.ac7,P=1,w=Math.max(u,g);while(P<X.length&&w>X[P].canvas.width)P++;if(P==X.length){K=X[0];
var D=K.canvas;D.width=u;D.height=g}else{K=X[P];K.clearRect(0,0,u,g)}return K};f.ld=function(u,g,K){var X=new Uint32Array(g*K);
X[0]=u[0];for(var w=1;w<g;w++)X[w]=X[w-1]+u[w];for(var D=1;D<K;D++){var P=D*g;X[P]=X[P-g]+u[P];for(var w=1;
w<g;w++)X[P+w]=u[P+w]+X[P+w-1]+X[P+w-g]-X[P+w-g-1]}return X};f.F_=function(u,g,K,X,w,D){var q=(w-1)*g,C=D*g;
return u[C+X]-u[C+K-1]-u[q+X]+u[q+K-1]};f.AE=function(u,g,K){var X={},w=0,D=0,q=new Uint32Array(u.buffer),C=q.length,a=Date.now();
for(var x=1;x<K-1;x++)for(var H=1;H<g-1;H++){var $=x*g+H,r=q[$];if(r>>>24<230)D++;if(X[r]==null){X[r]=!0;
w++}}if(D!=0||w<20)return!1;return!0};f.er=function(u,g,K,X,w,D){if(w==null)w=D=0;X=Math.log(X)/Math.log(2);
X=Math.round(X);for(var P=0;P<K;P++)for(var q=0;q<g;q++){var C=P*g+q<<2,a=f.Bn(P+D,q+w,X);u[C]=u[C+1]=u[C+2]=a;
u[C+3]=255}};f.Bn=function(P,u,g){return 255-((P>>>g)+(u>>>g)&1)*51};f.ae=function(u){var g=u.toString(16);
while(g.length<6)g="0"+g;return g};f.JK=function(u){return parseInt(u,16)};f.qC=function(u){return.3*u.w+.59*u.A+.11*u.U};
f.k7=function(u){return Math.max(u.w,u.A,u.U)-Math.min(u.w,u.A,u.U)};f.Yi=function(u,g,K){return.3*u+.59*g+.11*K};
f.a3d=function(u,g,K){return Math.max(u,g,K)-Math.min(u,g,K)};f.XG=function(u,g){var K=g-u,X=Math.abs(K),w=K-1,D=K+1;
if(Math.abs(w)<X)K=w;else if(Math.abs(D)<X)K=D;return K};f.lG=function(u){return u<.0031308?12.92*u:1.055*Math.pow(u,1/2.4)-.055};
f.sV=function(u){return u<.04045?u/12.92:Math.pow((u+.055)/1.055,2.4)};f.anS=function(u,g){var K=Math.min(u.length,g.length);
for(var P=0;P<K;P+=4){var X=u[P],w=u[P+1],D=u[P+2];g[P]=16+Math.floor(65.481/255*X+128.553/255*w+24.966/255*D+.5);
g[P+1]=128-Math.floor(37.797/255*X-74.203/255*w+112/255*D+.5);g[P+2]=128+Math.floor(112/255*X-93.786/255*w-18.214/255*D+.5);
g[P+3]=u[P+3]}};f.a1S=function(u,g,K){var X,w,D,q=Math.max(u,g,K),C=Math.min(u,g,K);D=q;if(q!=0)w=(q-C)/q;
else w=0;if(w==0)X=0;else{var a=q-C,x=(q-u)/a,H=(q-g)/a,$=(q-K)/a;if(u==q)X=$-H;else if(g==q)X=2+x-$;
else X=4+H-x;X*=1/6;if(X<0)X=X+1}return{xQ:X,C9:w,U:D}};f.ar5=function(u,g,K){var X=0,w=0,D=0;if(g==0)X=w=D=K;
else{var q=(u-Math.floor(u))*6,C=Math.floor(q),a=q-Math.floor(q),x=K*(1-g),H=K*(1-g*a),$=K*(1-g*(1-a));
switch(C){case 0:X=K;w=$;D=x;break;case 1:X=H;w=K;D=x;break;case 2:X=x;w=K;D=$;break;case 3:X=x;w=H;
D=K;break;case 4:X=$;w=x;D=K;break;case 5:X=K;w=x;D=H;break}}return{w:X,A:w,U:D}};f.TT=function(u,g,K){var X=Math.max(u,g,K),w=Math.min(u,g,K),D=0,q=0,C=(X+w)*.5;
if(X!=w){var a=X-w;q=C>.5?a/(2-(X+w)):a/(X+w);switch(X){case u:D=(g-K)/a+(g<K?6:0);break;case g:D=(K-u)/a+2;
break;case K:D=(u-g)/a+4;break}D*=1/6}return{xQ:D,C9:q,I4:C}};f.zm=function(u,g,K){var X,w,D;if(g==0)X=w=D=K;
else{var q=K<.5?K*(1+g):K+g-K*g,C=2*K-q;X=f.qo(C,q,u+1/3);w=f.qo(C,q,u);D=f.qo(C,q,u-1/3)}return{w:X,A:w,U:D}};
f.qo=function(u,g,K){if(K<0)K+=1;if(K>1)K-=1;if(K<1/6)return u+(g-u)*6*K;if(K<1/2)return g;if(K<2/3)return u+(g-u)*(2/3-K)*6;
return u};f.UD=function(u,g,K){var X=Math.max(u,g,K),w=Math.min(u,g,K),D,q,C=X,a=X-w;q=X==0?0:a/X;if(X==w)D=0;
else{switch(X){case u:D=(g-K)/a+(g<K?6:0);break;case g:D=(K-u)/a+2;break;case K:D=(u-g)/a+4;break}D*=1/6}return{xQ:D,C9:q,jp:C}};
f.iF=function(u,g,K){var X,w,D,P,q,C,a,x;P=Math.floor(u*6);q=u*6-P;C=K*(1-g);a=K*(1-q*g);x=K*(1-(1-q)*g);
switch(P%6){case 0:X=K,w=x,D=C;break;case 1:X=a,w=K,D=C;break;case 2:X=C,w=K,D=x;break;case 3:X=C,w=a,D=K;
break;case 4:X=x,w=C,D=K;break;case 5:X=K,w=C,D=a;break}return{w:X,A:w,U:D}};f.bt=function(){var u=[],g=[];
for(var P=0;P<2e3;P++){var K=P/1e3;u[P]=f.sV(K);g[P]=K>.008856?Math.pow(K,1/3):(903.3*K+16)*(1/116)}return[u,g]}();
f.iu=function(u,g,K){var X=f.bt[0],w=f.bt[1];u=X[~~(u*(1e3/255))];g=X[~~(g*(1e3/255))];K=X[~~(K*(1e3/255))];
var D=f.R$.akU,q=D[0]*u+D[1]*g+D[2]*K,C=D[4]*u+D[5]*g+D[6]*K,a=D[8]*u+D[9]*g+D[10]*K;q=q*(100/96.72);
C=C*(100/100);a=a*(100/81.427);return f.Mi(q,C,a)};f.Mi=function(u,g,K){var X=f.bt[1],w=X[~~(u*1e3)],D=X[~~(g*1e3)],q=X[~~(K*1e3)];
return{CU:116*D-16,_x:500*(w-D),U:200*(D-q)}};f.PH=function(u,g,K){var X=903.3,w=.008856,D=(u+16)/116,q=D*D*D,C=D-K/200,a=C*C*C,x=g/500+D,H=x*x*x,$=a>w?a:(116*C-16)/X,r=q>w?q:(116*D-16)/X,c=H>w?H:(116*x-16)/X,U=c*96.72,O=r*100,A=$*81.427,m=f.R$.EM(f.R$.hG,[U/100,O/100,A/100,0]);
for(var P=0;P<4;P++)m[P]=Math.max(0,Math.min(255,f.lG(m[P])*255));return{w:m[0],A:m[1],U:m[2]}};f.Wh=function(u,g,K,X,w){var D=u.CU,q=u._x,C=u.U,a=(D<g.CU?g.CU-D:K.CU<D?K.CU-D:0)*(1/100),x=(q<g._x?g._x-q:K._x<q?K._x-q:0)*(1/116),H=(C<g.U?g.U-C:K.U<C?K.U-C:0)*(1/116),$=Math.sqrt(a*a+x*x+H*H)*1.35;
return $<=X?Math.min(1,1.17*(1-$*w)):0};f.uT=function(u,g,K){var X=u.length,w=.3,D=.59,q=.11;if(K){w=K[0];
D=K[1];q=K[2]}for(var P=0;P<X;P+=4)g[P>>2]=~~(u[P+0]*w+u[P+1]*D+u[P+2]*q+.5)};f.qM=function(u,g){var K=g.length;
for(var P=0;P<K;P+=4){var X=u[P>>>2];g[P]=X;g[P+1]=X;g[P+2]=X}};f.UP=function(u,g){var K=u._x,X=u.w,w=u.A,D=u.U,q=Math.min(u._x.length,g.buffer.byteLength>>>2),C=4*Math.floor(q/4),a=new Uint32Array(g.buffer),x=new Uint32Array(K.buffer),H=new Uint32Array(X.buffer),$=new Uint32Array(w.buffer),r=new Uint32Array(D.buffer);
for(var P=0;P<C;P+=4){var c=x[P>>2],U=r[P>>2],O=$[P>>2],A=H[P>>2];a[P]=c<<24|(U&255)<<16|(O&255)<<8|A&255;
a[P+1]=(c&65280)<<16|(U&65280)<<8|O&65280|(A&65280)>>>8;a[P+2]=(c&16711680)<<8|U&16711680|(O&16711680)>>>8|(A&16711680)>>>16;
a[P+3]=c&4278190080|(U&4278190080)>>>8|(O&4278190080)>>>16|(A&4278190080)>>>24}for(var P=C;P<q;P++)a[P]=K[P]<<24|D[P]<<16|w[P]<<8|X[P]};
f.Jw=function(u,g){var K=g._x,X=g.w,w=g.A,D=g.U,q=Math.min(g._x.length,u.buffer.byteLength>>>2),C=4*Math.floor(q/4),a=new Uint32Array(u.buffer),x=new Uint32Array(K.buffer),H=new Uint32Array(X.buffer),$=new Uint32Array(w.buffer),r=new Uint32Array(D.buffer);
for(var P=0;P<C;P+=4){var c=a[P],U=a[P+1],O=a[P+2],A=a[P+3];H[P>>2]=c&255|(U&255)<<8|(O&255)<<16|A<<24;
$[P>>2]=(c&65280)>>8|U&65280|(O&65280)<<8|(A&65280)<<16;r[P>>2]=(c&16711680)>>16|(U&16711680)>>8|O&16711680|(A&16711680)<<8;
x[P>>2]=c>>>24|U>>>24<<8|O>>>24<<16|A&4278190080}for(var P=C;P<q;P++){var m=a[P];X[P]=m>>0&255;w[P]=m>>8&255;
D[P]=m>>16&255;K[P]=m>>24&255}};f.hk=function(u,g,K){var X=new Uint8Array(u.buffer),w=Math.min(X.length/4,g.length);
for(var P=0;P<w;P++){g[P]=X[(P<<2)+K]}};f.K1=function(u,g,K){var X=new Uint8Array(g.buffer),w=new Uint32Array(u.buffer),D=Math.min(X.length/4,u.length),P=0;
while(P+4<D){var q=w[P>>>2];X[(P<<2)+K]=q&255;X[(P<<2)+K+4]=q>>>8&255;X[(P<<2)+K+8]=q>>>16&255;X[(P<<2)+K+12]=q>>>24;
P+=4}while(P<D){X[(P<<2)+K]=u[P];P++}};f.D4=function(u,g,K){if(K==null)K=0;var X=new Uint32Array(u.buffer),w=X.length;
for(var P=0;P<w;P++)X[P]=X[P]&K|g};f.ab2=function(u,g,K,X,w){if(w==null)w=0;var D=new Uint32Array(u.buffer);
K=K.I3(g);var q=K.x-g.x,C=K.y-g.y,a=K.m,x=K.n,H=g.m;for(var $=0;$<x;$++){var P=(C+$)*H+q;for(var r=0;
r<a;r++){D[P]=D[P]&w|X;P++}}};f.me=function(u,g){var K=Math.min(u.buffer.byteLength,g.buffer.byteLength),X=K>>>2,u=new Uint32Array(u.buffer,0,X),g=new Uint32Array(g.buffer,0,X);
g.set(u)};f.$z=function(u,g){var K=u.buffer.byteLength,X=g.buffer.byteLength,w=new Uint32Array(u.buffer,0,K>>2),D=new Uint32Array(g.buffer,0,X>>2);
if(K!=X)return!1;var q=w.length;for(var P=0;P<q;P++)if(D[P]!=w[P])return!1;return!0};f.CD=function(u){var g=new Uint32Array(u.buffer),K=g.length;
for(var P=0;P<K;P++)g[P]=~g[P]};f.a6G=function(u){var g=u.length;for(var P=0;P<g;P+=4){u[P]=~u[P];u[P+1]=~u[P+1];
u[P+2]=~u[P+2]}};f.au$=function(u){var g=u.length;for(var P=3;P<g;P+=4)u[P]=~u[P]};f.awZ=function(u){return u+(u%4==0?0:4-u%4)};
f.L=function(u,g){if(g==null)g=!1;if(!g)u=f.awZ(u);try{var K=new Uint8Array(u)}catch(fc){alert("Not enough RAM! (need "+Math.round(u/(1<<20))+" MB)",7e3);
throw"low_ram"}return K};f.mm=function(u){var g=u.length,K=u[g-2],X=u[g-1];while(X.m>=2&&X.n>=2){var w=f.So(K,X);
u.push(w.Fg,w.rect);K=w.Fg;X=w.rect}};f.EY=function(u){var g=u.length,K=u[g-2],X=u[g-1];while(X.m>=2&&X.n>=2){var w=f.OV(K,X);
u.push(w.Fg,w.rect);K=w.Fg;X=w.rect}};f.So=function(u,g,K){var X=g.m,w=g.n,D=X>>1,q=w>>1,C=new dS(g.x,g.y,D,q),a=K&&K.length==D*q*4?K:f.L(D*q*4),x=new Uint32Array(u.buffer),H=new Uint32Array(a.buffer);
for(var $=0;$<q;$++)for(var r=0;r<D;r++){var c=$*D+r,U=($<<1)*X+(r<<1),O=x[U],A=x[U+1],m=x[U+X],i=x[U+X+1],e=O>>>24,S=A>>>24,E=m>>>24,Z=i>>>24,N=e+S+E+Z;
if(N==1020){var J=(O>>>0&255)+(A>>>0&255)+(m>>>0&255)+(i>>>0&255)+2>>>2,y=(O>>>8&255)+(A>>>8&255)+(m>>>8&255)+(i>>>8&255)+2>>>2,o=(O>>>16&255)+(A>>>16&255)+(m>>>16&255)+(i>>>16&255)+2>>>2;
H[c]=255<<24|o<<16|y<<8|J}else if(N==0)H[c]=0;else{var J=(O>>>0&255)*e+(A>>>0&255)*S+(m>>>0&255)*E+(i>>>0&255)*Z,y=(O>>>8&255)*e+(A>>>8&255)*S+(m>>>8&255)*E+(i>>>8&255)*Z,o=(O>>>16&255)*e+(A>>>16&255)*S+(m>>>16&255)*E+(i>>>16&255)*Z,B=1/N;
J=~~(J*B+.5);y=~~(y*B+.5);o=~~(o*B+.5);H[c]=N+2>>>2<<24|o<<16|y<<8|J}}return{rect:C,Fg:a}};f.Mh=function(u,g,K){var X=g.m,w=g.n,D=X>>1,q=w>>1,C=new dS(g.x,g.y,D,q),a=K&&K.length==D*q*4?K:f.L(D*q*4),x=new Uint32Array(u.buffer),H=new Uint32Array(a.buffer);
for(var $=0;$<q;$++)for(var r=0;r<D;r++){var c=$*D+r,U=($<<1)*X+(r<<1),O=x[U],A=x[U+1],m=x[U+X],i=x[U+X+1],e=2+(O>>>0&255)+(A>>>0&255)+(m>>>0&255)+(i>>>0&255)>>>2,S=2+(O>>>8&255)+(A>>>8&255)+(m>>>8&255)+(i>>>8&255)>>>2,E=2+(O>>>16&255)+(A>>>16&255)+(m>>>16&255)+(i>>>16&255)>>>2,Z=2+(O>>>24&255)+(A>>>24&255)+(m>>>24&255)+(i>>>24&255)>>>2;
H[c]=Z<<24|E<<16|S<<8|e}return{rect:C,Fg:a}};f.acD=function(u,g,K){var X=g.m,w=g.n,D=2*Math.floor(X/3),q=2*Math.floor(w/3),C=new dS(g.x,g.y,D,q),a=K&&K.length==D*q*4?K:f.L(D*q*4),x=new Uint32Array(u.buffer),H=new Uint32Array(a.buffer);
for(var $=0;$<q;$+=2)for(var r=0;r<D;r+=2){var c=$*D+r,U=($*3>>>1)*X+(r*3>>>1),O=x[U],A=x[U+1],m=x[U+2],i=x[U+X],e=x[U+1+X],S=x[U+2+X],E=x[U+X+X],Z=x[U+1+X+X],N=x[U+2+X+X],J=O>>>24<<2,y=(O>>>16&255)*J,o=(O>>>8&255)*J,B=(O&255)*J,t=A>>>24<<1,W=(A>>>16&255)*t,F=(A>>>8&255)*t,G=(A&255)*t,L=m>>>24<<2,Q=(m>>>16&255)*L,T=(m>>>8&255)*L,j=(m&255)*L,p=i>>>24<<1,M=(i>>>16&255)*p,n=(i>>>8&255)*p,d=(i&255)*p,V=e>>>24,z=(e>>>16&255)*V,I=(e>>>8&255)*V,v=(e&255)*V,gj=S>>>24<<1,jA=(S>>>16&255)*gj,Y=(S>>>8&255)*gj,jv=(S&255)*gj,iR=E>>>24<<2,cj=(E>>>16&255)*iR,j8=(E>>>8&255)*iR,as=(E&255)*iR,gW=Z>>>24<<1,af=(Z>>>16&255)*gW,at=(Z>>>8&255)*gW,jd=(Z&255)*gW,fM=N>>>24<<2,hS=(N>>>16&255)*fM,dr=(N>>>8&255)*fM,cB=(N&255)*fM,b1=J+t+p+V,ic=L+t+gj+V,dV=iR+gW+p+V,eS=fM+gW+gj+V,a2=b1==0?0:1/b1,d3=ic==0?0:1/ic,cE=dV==0?0:1/dV,eP=eS==0?0:1/eS,jm=0,bD=0,f1=0,ft=0;
jm=~~(.5+(B+G+d+v)*a2);bD=~~(.5+(o+F+n+I)*a2);f1=~~(.5+(y+W+M+z)*a2);ft=~~(.5+b1*(1/9));H[c]=ft<<24|f1<<16|bD<<8|jm;
jm=~~(.5+(j+G+jv+v)*d3);bD=~~(.5+(T+F+Y+I)*d3);f1=~~(.5+(Q+W+jA+z)*d3);ft=~~(.5+ic*(1/9));H[c+1]=ft<<24|f1<<16|bD<<8|jm;
jm=~~(.5+(as+jd+d+v)*cE);bD=~~(.5+(j8+at+n+I)*cE);f1=~~(.5+(cj+af+M+z)*cE);ft=~~(.5+dV*(1/9));H[c+D]=ft<<24|f1<<16|bD<<8|jm;
jm=~~(.5+(cB+jd+jv+v)*eP);bD=~~(.5+(dr+at+Y+I)*eP);f1=~~(.5+(hS+af+jA+z)*eP);ft=~~(.5+eS*(1/9));H[c+D+1]=ft<<24|f1<<16|bD<<8|jm}return{rect:C,Fg:a}};
f.a8r=function(u,g,K){var X=g.m,w=g.n,D=2*Math.floor(X/3),q=2*Math.floor(w/3),C=new dS(g.x,g.y,D,q),a=K&&K.length==D*q*4?K:f.L(D*q*4),x=new Uint32Array(u.buffer),H=new Uint32Array(a.buffer);
for(var $=0;$<q;$+=2)for(var r=0;r<D;r+=2){var c=$*D+r,U=($*3>>>1)*X+(r*3>>>1),O=x[U],A=x[U+1],m=x[U+2],i=x[U+X],e=x[U+1+X],S=x[U+2+X],E=x[U+X+X],Z=x[U+1+X+X],N=x[U+2+X+X],J=(O>>>16&255)<<2,y=(O>>>8&255)<<2,o=(O&255)<<2,B=(A>>>16&255)<<1,t=(A>>>8&255)<<1,W=(A&255)<<1,F=(m>>>16&255)<<2,G=(m>>>8&255)<<2,L=(m&255)<<2,Q=(i>>>16&255)<<1,T=(i>>>8&255)<<1,j=(i&255)<<1,p=e>>>16&255,M=e>>>8&255,n=e&255,d=(S>>>16&255)<<1,V=(S>>>8&255)<<1,z=(S&255)<<1,I=(E>>>16&255)<<2,v=(E>>>8&255)<<2,gj=(E&255)<<2,jA=(Z>>>16&255)<<1,Y=(Z>>>8&255)<<1,jv=(Z&255)<<1,iR=(N>>>16&255)<<2,cj=(N>>>8&255)<<2,j8=(N&255)<<2,as=0,gW=0,af=0;
as=~~(.5+(o+W+j+n)*(1/9));gW=~~(.5+(y+t+T+M)*(1/9));af=~~(.5+(J+B+Q+p)*(1/9));H[c]=255<<24|af<<16|gW<<8|as;
as=~~(.5+(L+W+z+n)*(1/9));gW=~~(.5+(G+t+V+M)*(1/9));af=~~(.5+(F+B+d+p)*(1/9));H[c+1]=255<<24|af<<16|gW<<8|as;
as=~~(.5+(gj+jv+j+n)*(1/9));gW=~~(.5+(v+Y+T+M)*(1/9));af=~~(.5+(I+jA+Q+p)*(1/9));H[c+D]=255<<24|af<<16|gW<<8|as;
as=~~(.5+(j8+jv+z+n)*(1/9));gW=~~(.5+(cj+Y+V+M)*(1/9));af=~~(.5+(iR+jA+d+p)*(1/9));H[c+D+1]=255<<24|af<<16|gW<<8|as}return{rect:C,Fg:a}};
f.b6=function(u){var g=255,K=u.length;K-=K&31;for(var P=3;P<K;P+=32)g=g&u[P]&u[P+4]&u[P+8]&u[P+12]&u[P+16]&u[P+20]&u[P+24]&u[P+28];
return g!=255};f.a2g=function(u,g,K,X){var w=f.So,D=f.acD,C=0;if(!f.b6(u)){w=f.Mh;D=f.a8r}var q={Fg:u,rect:g},a=K;
while(a<.499){C++;a*=2}for(var P=0;P<C;P++)q=w(q.Fg,q.rect,X);if(a<.5001)q=w(q.Fg,q.rect,X);else q=D(q.Fg,q.rect,X);
return q};f.a3s=function(u,g,K,X){var w=f.OV,D=f.rj,q={Fg:u,rect:g},C=0,a=K;while(a<.499){C++;a*=2}for(var P=0;
P<C;P++)q=w(q.Fg,q.rect,X);if(a<.5001)q=w(q.Fg,q.rect,X);else q=D(q.Fg,q.rect,X);return q};f.OV=function(u,g,K){var X=g.m,w=g.n,D=X>>1,q=w>>1,C=new dS(g.x,g.y,D,q);
if(u==null)return{rect:C};var a=K&&K.length>=D*q?K:f.L(D*q);for(var x=0;x<q;x++){var H=x*D;for(var $=0;
$<D;$++){var r=(x<<1)*X+($<<1);a[H+$]=2+u[r]+u[r+1]+u[r+X]+u[r+X+1]>>>2}}return{rect:C,Fg:a}};f.rj=function(u,g,K){var X=g.m,w=g.n,D=2*Math.floor(X/3),q=2*Math.floor(w/3),C=new dS(g.x,g.y,D,q);
if(u==null)return{rect:C};var a=K&&K.length>=D*q?K:f.L(D*q);for(var x=0;x<q;x+=2)for(var H=0;H<D;H+=2){var $=x*D+H,r=(x*3>>>1)*X+(H*3>>>1),c=u[r]<<2,U=u[r+1]<<1,O=u[r+2]<<2,A=u[r+X]<<1,m=u[r+1+X],i=u[r+2+X]<<1,e=u[r+X+X]<<2,S=u[r+1+X+X]<<1,E=u[r+2+X+X]<<2;
a[$]=~~(.5+(c+U+A+m)*(1/9));a[$+1]=~~(.5+(O+U+i+m)*(1/9));a[$+D]=~~(.5+(e+S+A+m)*(1/9));a[$+D+1]=~~(.5+(E+S+i+m)*(1/9))}return{rect:C,Fg:a}};
f.x5=function(u,g,K,X,w){var D=g.I3(X);if(w)D=D.I3(w);var q=Math.max(0,D.x-g.x),C=Math.max(0,D.x-X.x),a=Math.max(0,D.y-g.y),x=Math.max(0,D.y-X.y),H=D.m,$=D.n;
for(var P=0;P<$;P++){var r=(a+P)*g.m+q,c=(x+P)*X.m+C;K.set(new Uint8Array(u.buffer,r,H),c)}};f.x6=function(u,g,K,X){if(g.$z(X)){f.K1(u,K,3);
return}var w=g.I3(X),D=Math.max(0,w.x-g.x),q=Math.max(0,w.x-X.x),C=Math.max(0,w.y-g.y),a=Math.max(0,w.y-X.y),x=w.m,H=w.n;
for(var P=0;P<H;P++){var $=(C+P)*g.m+D,r=(a+P)*X.m+q;for(var c=0;c<x;c++)K[(r+c<<2)+3]=u[$+c]}};f.DZ=function(u,g,K,X){var w=g.I3(X),D=Math.max(0,w.x-g.x),q=Math.max(0,w.x-X.x),C=Math.max(0,w.y-g.y),a=Math.max(0,w.y-X.y),x=w.m,H=w.n;
for(var P=0;P<H;P++){var $=(C+P)*g.m+D,r=(a+P)*X.m+q;for(var c=0;c<x;c++)K[r+c]=u[($+c<<2)+3]}};f.bV=function(u,g,K,X,w){if(g.$z(X)&&(w==null||w.$z(X))){f.me(u,K);
return}u=new Uint32Array(u.buffer),K=new Uint32Array(K.buffer);var D=g.I3(X);if(w)D=D.I3(w);var q=Math.max(0,D.x-g.x),C=Math.max(0,D.x-X.x),a=Math.max(0,D.y-g.y),x=Math.max(0,D.y-X.y),H=D.m,$=D.n,r=H&3,c=r==0?H:H-r;
for(var P=0;P<$;P++){var U=(a+P)*g.m+q,O=(x+P)*X.m+C;K.set(new Uint32Array(u.buffer,U*4,H),O)}};f.X0=function(u,g,K,X){var w=g.I3(X),D=Math.max(0,w.x-g.x),q=Math.max(0,w.x-X.x),C=Math.max(0,w.y-g.y),a=Math.max(0,w.y-X.y),x=w.m,H=w.n,$=u._x,r=u.w,c=u.A,U=u.U,O=K._x,A=K.w,m=K.A,i=K.U;
for(var P=0;P<H;P++){var e=(C+P)*g.m+D,S=(a+P)*X.m+q;for(var E=0;E<x;E++){O[S+E]=$[e+E];A[S+E]=r[e+E];
m[S+E]=c[e+E];i[S+E]=U[e+E]}}};f.xa=function(u){var g=u.length;for(var P=0;P<g;P+=4){var K=u[P+3];if(K==255)continue;
u[P]=~~(u[P]*K*(1/255)+.5);u[P+1]=~~(u[P+1]*K*(1/255)+.5);u[P+2]=~~(u[P+2]*K*(1/255)+.5)}};f.X$=function(u){var g=u.length;
for(var P=0;P<g;P+=4){var K=u[P+3];if(K==0||K==255)continue;var X=255/K;u[P]=~~(u[P]*X+.5);u[P+1]=~~(u[P+1]*X+.5);
u[P+2]=~~(u[P+2]*X+.5)}};f.yh=function(u,g){for(var P=0;P<u.length;P++)if(u[P]!=g)return!1;return!0};
f.s5=function(u){return u+1+(u>>>8)>>>8};f.round=function(u,g){if(g==null)g=128;var K=u.length;for(var P=0;
P<K;P++)u[P]=u[P]<g?0:255};f.MG=function(u,g){var K=u.length;for(var P=0;P<K;P++)u[P]=Math.round(u[P]*g)};
f.PD=function(u,g){var K=new Uint32Array(u.buffer),X=new Uint32Array(g.buffer),w=K.length;for(var P=0;
P<w;P++){var D=K[P],q=X[P];X[P]=f.s5((D>>>24)*(q>>>24))<<24|f.s5((D>>>16&255)*(q>>>16&255))<<16|f.s5((D>>>8&255)*(q>>>8&255))<<8|f.s5((D&255)*(q&255))}};
f.CY=function(u,g){var K=u.length;for(var P=0;P<K;P++)g[(P<<2)+3]=f.s5(g[(P<<2)+3]*u[P])};f.awj=function(u,g,K,X){var w=Math.max(0,X.x-g.x),D=Math.max(0,g.x-X.x),q=Math.max(0,X.y-g.y),C=Math.max(0,g.y-X.y),a=Math.min(g.x+g.m,X.x+X.m)-Math.max(g.x,X.x),x=Math.min(g.y+g.n,X.y+X.n)-Math.max(g.y,X.y);
for(var P=0;P<x;P++){var H=(q+P)*g.m+w,$=(C+P)*X.m+D;for(var r=0;r<a;r++){K[$]=f.s5(K[$]*u[H]);H++;$++}}};
f.ea=function(u,g,K,X){var w=Math.max(0,X.x-g.x),D=Math.max(0,g.x-X.x),q=Math.max(0,X.y-g.y),C=Math.max(0,g.y-X.y),a=Math.min(g.x+g.m,X.x+X.m)-Math.max(g.x,X.x),x=Math.min(g.y+g.n,X.y+X.n)-Math.max(g.y,X.y);
for(var P=0;P<x;P++){var H=(q+P)*g.m+w,$=((C+P)*X.m+D<<2)+3;for(var r=0;r<a;r++){K[$]=f.s5(K[$]*u[H]);
H++;$+=4}}};f.rl=function(u,g,K,X){var w=Math.max(0,X.x-g.x),D=Math.max(0,g.x-X.x),q=Math.max(0,X.y-g.y),C=Math.max(0,g.y-X.y),a=Math.min(g.x+g.m,X.x+X.m)-Math.max(g.x,X.x),x=Math.min(g.y+g.n,X.y+X.n)-Math.max(g.y,X.y);
for(var P=0;P<x;P++){var H=((q+P)*g.m+w<<2)+3,$=((C+P)*X.m+D<<2)+3;for(var r=0;r<a;r++){K[$]=f.s5(K[$]*u[H]);
H+=4;$+=4}}};f.wB=function(u){var g=new Float64Array(256),K=new Float64Array(256),X=new Float64Array(256),w=new Float64Array(256),D=u.length,q=0;
for(var P=0;P<D;P+=4){var C=u[P+0],a=u[P+1],x=u[P+2],H=u[P+3],$=H*(1/255);K[C]+=$;X[a]+=$;w[x]+=$;q+=H}for(var P=0;
P<256;P++)g[P]=K[P]+X[P]+w[P];return[g,K,X,w,D>>>2,q/255]};f.wK=function(u,g){function K(Z,N){var J=-1,y=0;
while(y<=N){J++;y+=Z[J]}return J}function X(Z,N){var J=256,y=0;while(y<=N){J--;y+=Z[J]}return J}function w(Z){var N=0,J=0;
for(var P=0;P<256;P++){J+=Z[P];N+=Z[P]*P*(1/255)}return N/J}var D=u[0],q=u[1]/100,C=u[2]/100,a=[],x=[];
for(var P=0;P<4;P++){var H=P==0?3:1;a[P]=K(g[P],H*q*g[5]);x[P]=X(g[P],H*C*g[5])}var $=[w(g[1]),w(g[2]),w(g[3])],r=$.slice(0);
r.sort(function(Z,N){return Z-N});var c=$.indexOf(r[1]),U=($[0]+$[1]+$[2])/3,O=[];for(var P=0;P<4;P++){var A=0,m=255,i=a[P],e=x[P];
if(D==0&&P==0){A=i;m=e}if(D==1&&P!=0){A=i;m=e}if(D==2&&P!=0){var H=$[P-1]/U;m=Math.max(0,Math.min(255,x[c]*H))}var S=[A,m];
O.push(S);if(D==3&&P==0){var E=255*(1-U);S.push(E)}}return O};f.ao=function(u,g){var K=new Uint32Array(u.buffer),X=K.length;
for(var P=0;P<X;P++){var w=K[P],D=w&255,q=w>>8&255,C=w>>16&255,a=w>>24&255;K[P]=g[D]|g[q]<<8|g[C]<<16|g[a]<<24}};
f.aua=function(u,g,K,X,w,D,q){var C=new Uint32Array(u.buffer),a=new Uint32Array(g.buffer),x=C.length,H=0;
while(256<<H<K.length)H++;if(!q&&!D){for(var P=0;P!=x;P++){var $=C[P],r=($&255)<<H,c=($>>>8&255)<<H,U=($>>>16&255)<<H,O=K[r],A=X[c],m=w[U];
a[P]=O|A<<8|m<<16|$&4278190080}return}for(var P=0;P<x;P++){var $=C[P],r=($&255)<<H,c=($>>>8&255)<<H,U=($>>>16&255)<<H;
if(D)r=c=U=Math.round(r*.3+c*.59+U*.11);var O=K[r],A=X[c],m=w[U];if(q){var i=f.Yi(r,c,U),e=f.Yi(O,A,m);
if(i>e){var S=(i-e)/(255-e);O+=S*(255-O);A+=S*(255-A);m+=S*(255-m)}else if(e==0)O=A=m=0;else{var S=i/e;
O=S*O;A=S*A;m=S*m}}a[P]=O|A<<8|m<<16|$&4278190080}};f.LE=function(u,g){var K=g.m,X=g.n,top=0,w=0,D=0,q=0,C=0;
C=0;for(var a=0;a<X;a++){var x=a*K;for(var P=0;P<K;P++)C|=u[x+P];if(C!=0)break;top++}if(top==X)return new dS(0,0,0,0);
C=0;for(var a=X-1;a>=0;a--){var x=a*K;for(var P=0;P<K;P++)C|=u[x+P];if(C!=0)break;D++}var H=X-D;C=0;
for(var P=0;P<K;P++){for(var a=top;a<H;a++)C|=u[a*K+P];if(C!=0)break;w++}C=0;for(var P=K-1;P>=0;P--){for(var a=top;
a<H;a++)C|=u[a*K+P];if(C!=0)break;q++}var $=new dS(g.x+w,g.y+top,K-w-q,X-top-D);return $};f.Yg=function(u,g,K,X){if(X==null)X=[!0,!0,!0,!0];
if(K==null)K=0;var w=new Uint32Array(u.buffer),D=g.m,q=g.n,top=0,C=0,a=0,x=0,H=!1,$=[w[0],w[w.length-1],0][K];
H=!1;if(X[0])for(var r=0;r<q;r++){var c=r*D;for(var P=0;P<D;P++)if(w[c+P]!=$)H=!0;if(H)break;top++}H=!1;
if(X[2])for(var r=q-1;r>=0;r--){var c=r*D;for(var P=0;P<D;P++)if(w[c+P]!=$)H=!0;if(H)break;a++}H=!1;
if(X[1])for(var P=0;P<D;P++){for(var r=0;r<q;r++)if(w[r*D+P]!=$)H=!0;if(H)break;C++}H=!1;if(X[3])for(var P=D-1;
P>=0;P--){for(var r=0;r<q;r++)if(w[r*D+P]!=$)H=!0;if(H)break;x++}var U=new dS(g.x+C,g.y+top,D-C-x,q-top-a);
return U.fg()?new dS(0,0,0,0):U};f.b3=function(u){var g=f.LE(u.channel,u.rect);if(g.$z(u.rect))return;
var K=f.L(g.$());f.x5(u.channel,u.rect,K,g);u.channel=K;u.rect=g};f.Dk=function(u){var g=f.L(u.buffer.length>>2);
f.hk(u.buffer,g,3);var K=f.LE(g,u.rect);if(K.$z(u.rect))return;var X=new f.L(K.$()*4);f.bV(u.buffer,u.rect,X,K);
u.buffer=X;u.rect=K};f.extend=function(u,g,K){if(u.rect.kB(g))return;var X=u.rect.RN(g),w=f.L(X.$());
if(K!=null)w.fill(K);f.x5(u.channel,u.rect,w,X);u.rect=X;u.channel=w};f.acZ=function(u,g){if(g.fg()||u.rect.kB(g))return;
var K=u.rect.RN(g),X=f.L(K.$()*4);f.bV(u.buffer,u.rect,X,K);u.rect=K;u.buffer=X};f.mZ=function(u,g,K){if(!K.TB(u))return!1;
var X=Math.floor(u.x)-K.x,w=Math.floor(u.y)-K.y,P=w*K.m+X;return g[P]>128};f.a6Q=function(u,g,K){if(!K.TB(u))return!1;
var X=Math.floor(u.x)-K.x,w=Math.floor(u.y)-K.y,P=w*K.m+X;return g[4*P+3]>128};f.Bx=function(u){if(f.jF.length<u){f.jF=f.L(u);
f.jF.fill(255)}return f.jF};f.jF=f.L(0);f.Ph=function(u){if(f.Ev.length<u)f.Ev=f.L(u);return f.Ev};f.Ev=f.L(0);
f.bs=function(u){this._x=f.L(u);this.w=f.L(u);this.A=f.L(u);this.U=f.L(u)};f.bs.prototype.clone=function(){var u=this._x.length,g=new f.bs(1);
g._x=this._x.slice(0);g.w=this.w.slice(0);g.A=this.A.slice(0);g.U=this.U.slice(0);return g};f.R.acl=function(u,g,K,X,w){var D=w[0]+1,q=w[1],C=Math.abs(q-25)/4,a=w[2],x=a%2+a*a>>1,H=f.R.W;
H.Nf(g,K);var $=H.hu(1),r=H.hu(1),c=H.hu(1);H.UK(u,X,a,a,x);H.Ls(X);H.WJ(X,$);H.bL($,r,D,D,1);H.bL($,c,D,D,D*D);
H.sub(c,r);H.PD(r,C);(q<25?H.sub:H.add)($,r);H.Hc(r,X);H.NO(X)};f.R.a3w=function(u,g,K,X,w){var D=f.R.W;
D.Nf(g,K);var q=w[0]*2.55,C=w[1],a=C>>1,x=w[2]*.25,H=D.hu(4),$=D.hu(1),r=D.hu(1);D.ug(u,H,C,1,!0,a);
D.ug(u,X,C,1,!1,a);D.qr(u,$);D.s6($,q);D.PV($,r,3);D.i1(X,r,H);D.mU(H,X,x)};f.R.a2z=function(u,g,K,X,w){var D=f.R.W;
D.Nf(g,K);D.pw(w[3]);var q=w[0]*-3+80,C=w[1]*-3+80,a=w[2]/2+.5,x=w[4],H=w[5],$=D.hu(1),r=D.hu(1),c=D.hu(1),U=D.hu(1),O=D.hu(4),A=D.hu(4);
D.qr(u,$);D.me($,r);D.gq($,C,5);D.O7($,.4,0);D.PV($,c,3);D.AL(c,$,9,3,!0,27);D.me(r,c);D.CD(c);var m=D.Ia(q,5,c);
for(var P=0;P<D.he;P++){r[P]=m[255-r[P]]}D.O7(r,.4,0);D.me(r,c);D.PV(c,U,2);D.AL(U,c,5,3,!1,15);D.PD($,a);
D.PD(c,a);D.hF(X,2155905279);D.hF(A,x);D.hF(O,H);D.i1(A,$,X);D.i1(O,c,X)};f.R.ak2=function(u,g,K,X,w){var D=f.R.W;
D.Nf(g,K);var q=new Uint8Array(256),C=5+10*w[1];C+=w[1]>3?(w[1]-3)*10:0;var a=~~(w[2]*.73)+50,x=Math.min(a+C,128),H=x-a,$=-255*a;
for(var P=0;P<256;P++){var r=P*65;q[P]=D.Bk($/H);$+=255}var c=D.hu(1),U=D.hu(1),O=D.hu(1);D.qr(u,c);
D.me(c,O);D.PV(c,U,2*w[0]+1);D.sub(U,c);D.PD(c,65);D.AL(c,U,9,3,!0,20);for(var P=0;P<D.he;P++){var A=O[P],m=U[P];
c[P]=m>0?~~((m*A+(255-m)*128)/255):128}D.PV(c,U,3);D.AL(U,c,15,2,!0,16);D.AL(U,O,15,2,!1,15);D.jd(c,O);
D.B7(O,U,2);D.Me(U,q);D.PV(U,c,2);D.Ff(c,X)};f.R.a47=function(u,g,K,X,w){var D=f.R.W;D.Nf(g,K);var q=2*w[0]+1,C=D.BN[w[1]],a=w[2]*5.1,x=w[3],H=D.hu(1),$=D.hu(1),r=D.hu(4),c=D.hu(4);
D.hF(r,x);D.Ls(r,X);D.zy(H,a);D.Hc(H,X);D.NO(X,r);D.qr(u,$);D.PV($,H,q);D.sub(H,$);D.PD($,C);D.AL($,H,9,3,!0,20);
D.i1(u,H,r);D.yq(r,X,3);D.ug(X,r,15,2,!0,16);D.ug(X,c,15,2,!1,16);D.jd(r,c);D.mU(c,X,2)};f.R.anB=function(u,g,K,X,w){var D=f.R.W;
D.Nf(g,K);var q=(15-w[0])/4+1,C=(15-w[1])/4+1,a=w[2],x=w[3],H=D.Ga(w[4]),$=w[5]+1,r=w[6],c=w[7],U=w[8],O=D.hu(1),A=D.hu(1),m=D.hu(1),i=D.hu(1),e=D.hu(4),S=D.hu(4);
D.Ql(m,a,x,r);D.qr(u,A);D.PV(A,O,5);D.LM(m,O,i,$,H);D.PD(i,q);D.n$(i,2);D.CD(O);D.LM(m,O,A,$,H);D.PD(A,C);
D.n$(A,2);D.hF(e,2155905279);D.hF(S,c);D.hF(X,U);D.i1(e,A,S);D.i1(S,i,X)};f.R.a2I=function(u,g,K,X,w){var D=f.R.W;
D.Nf(g,K);D.pw(w[3]);var q=w[0],C=w[1]/10,a=w[2]/10,x=D.hu(1),H=D.hu(1),$=D.hu(1),r=D.tI(),c=D.tI(),U=D.tI();
D.s_(x);D.PV(x,H,11);D.PV(H,x,11);D.eU(x,r);D.C4(u,x);D.me(x,$);D.PV(x,H,9);D.PV(H,x,9);D.eU(x,c);D.ok(c,U,5);
D.ok(U,c,5);D.Sk(r,.8);D.a0j(r,c,.8,.9);D.om(c,x,q);D.bL(x,H,2,2,1);D.bL(H,x,2,2,3);D.bL(x,H,2,2,3);
D.bL($,x,5,5,13);D.io(H,x,H,C);D.Sx(x,H,H,a);D.LM(H,H,x,5,1);D.Ls(u,X);D.Hc(x,X);D.NO(X)};f.R.acV=function(u,g,K,X,w){var D=f.R.W;
D.Nf(g,K);var q=w[0],C=w[1]/2,a=w[2],x=q/2,H=D.hu(4),$=D.hu(4);D.me(u,X);for(var r=0;r<a;r++){D.ug(X,H,q,1,!0,x);
D.ug(X,$,q,1,!1,x);D.jd($,H);D.yq(H,$,2);D.mU($,X,C)}};f.R.aoP=function(u,g,K,X,w){var D=f.R.W;D.Nf(g,K);
var q=w[0]*10,C=w[1]*4.9,a=w[2]*4.9,x=D.hu(1),H=D.hu(1),$=D.hu(4),r=D.hu(4);D.qr(u,x);D.s6(x,D.a5r(x,q));
D.PV(x,H,3);D.ug(u,$,5,1,!1,1);D.ug(u,X,15,2,!0,16);D.i1(X,H,$);D.Ls($,X);D.WJ(X,x);D.gq(x,C,a);D.Hc(x,X);
D.NO(X)};f.R.akW=function(u,g,K,X,w){var D=f.R.W;D.Nf(g,K);D.pw(w[4]);var q=w[0]/20,C=[0,.75,1,1.05,1.1,1.15,1.2,1.25,1.3,1.35,1.4,1.45,1.5,1.6,1.7,1.8,2,2.5,3,3.5,4][w[1]],a=[0,.25,.5,.75,.9,1,1.1,1.2,1.3,1.4,1.5,1.6,1.7,1.8,1.9,2,2.25,2.5,3,3.5,4][w[2]],x=w[3],H=new Int16Array(256);
for(var P=0;P<256;P++){H[P]=~~((P-128)*q)}var $=D.hu(1),r=D.hu(1),c=D.hu(4);D.qr(u,$);D.PV($,r,25);D.PD(r,C);
D.n$(r,a);D.PV(r,$,25);D.s_(r);D.gj($,r,H);D.me(u,X);D.hF(c,x);D.i1(c,$,X)};f.R.a3k=function(u,g,K,X,w){var D=f.R.W;
D.Nf(g,K);var q=w[0]+5,C=15-w[1],a=q*q/2,x=1-(3-w[2])/10,H=~~(C*C*x-1),$=~~(C*C*(1-x));if($==0)$=1;var r=D.hu(1),c=D.hu(1),U=D.hu(1),O=D.hu(4);
D.qr(u,U);D.bL(U,r,q,q,a);D.PV(U,c,q);D.sub(r,c);D.s6(c,1);D.UK(u,O,C,C,H);D.UK(u,X,C,C,$);D.i1(O,c,X)};
f.R.ax1=function(u,g,K,X,w){var D=f.R.W;D.Nf(g,K);D.pw(w[3]);var q=(20-w[0])*.05,C=w[1]*-2.75+60,a=65-C,x=w[2]/10,H=D.hu(1),$=D.hu(1);
D.C4(u,$);var r=D.Ia(C,a,$);D.Ls(u,X);D.WJ(X,$);D.s_(H);D._2($,H,q);D.Me($,r);D.PD($,w[2]/10);D.add(H,$);
D.Hc($,X);D.NO(X)};f.R.a9Z=function(u,g,K,X,w){var D=f.R.W;D.Nf(g,K);var q=5+w[0],C=15-w[1],a=w[2],x=q*q/2+q*q%2*1,H=1-(3-w[2])/10,$=~~(C*C*H-1),r=~~(C*C*(1-H));
if(r==0)r=1;var c=D.hu(1),U=D.hu(1),O=D.hu(1),A=D.hu(1),m=D.hu(1);D.C4(u,U);D.B7(U,c,3);D.bL(c,U,2,2,1);
var i=D.Ia(20,20,U);D.Me(U,i);D.PV(U,m,5);D.bL(m,c,q,q,x);D.bL(m,U,C,C,$);D.bL(m,O,C,C,r);D.PV(m,A,q);
D.sub(c,A);D.s6(A,1);D.Mq(U,A,O);D.Ls(u,X);D.Hc(O,X);D.NO(X)};f.R.atI=function(u,g,K,X,w){var D=f.R.W;
D.Nf(g,K);D.pw(w[5]);var q=D.he,C=D.rk,a=w[0],x=w[1],H=w[2],$=w[3],r=w[4],c=.05*a+1,U=a/100,O=a>>1,A=2*a-100,m=+(x==9),i=+(x==7),e=[4,1][m],S=[3,2][m],E=[1,2][i],Z=[2,1][i],N=[50,75][m],J=x<4?H:(H>>1)+50,y=D.zC(N,J),o=D.K_($),B=D.K_(r),t=D.hu(4),W=D.hu(4),F=D.hu(1),G=D.hu(1);
function L(X,y){if(J!=50){D.Xj(X,y)}}function Q(u,jA){for(var P=0;P<q;P++){u[P]=D.Bk(u[P]+(jA[P]-128)*U)}}function T(u,jA){for(var P=0,Y=0;
P<q;P++){u[Y]=D.Bk(u[Y]+(jA[Y]-128)*U);u[Y+1]=D.Bk(u[Y+1]+(jA[Y+1]-128)*U);u[Y+2]=D.Bk(u[Y+2]+(jA[Y+2]-128)*U);
Y+=4}}function j(u,X){D.s_(W);D.me(u,X);T(X,W);L(X,y)}function p(jA){var Y=0;for(var jv=0;jv<12;jv++)Y+=D.random();
return D.Bk(O*(Y-6)+jA)}function M(u,X){D.me(u,X);for(var P=0;P<C;P+=4){X[P]=p(X[P]);X[P+1]=p(X[P+1]);
X[P+2]=p(X[P+2])}L(X,y)}function n(u,X){D.me(u,X);for(var P=0;P<C;P+=4){if(D.random()<U){X[P]=o[0];X[P+1]=o[1];
X[P+2]=o[2]}}L(X,y)}function d(u,X){D.s_(t);D.UK(t,W,S,S,e);D.me(u,t);T(t,W);D.UK(t,X,5,5,13);L(X,y)}function V(u,X){D.s_(W);
D.me(u,t);T(t,W);L(X,y);D.UK(t,X,S,S,e)}function z(u,X){D.me(u,t);L(X,y);D.qr(t,F);for(var P=0,jA=0;
P<q;P++){var Y=((A-F[P]+255)*128.5+.5)/32767;if(D.random()<=Y){X[jA++]=B[0];X[jA++]=B[1];X[jA++]=B[2]}else{X[jA++]=o[0];
X[jA++]=o[1];X[jA++]=o[2]}X[jA]=u[jA];jA++}}function I(u,X){D.Ls(u,X);D.WJ(X,F);D.B7(F,G,c);D.bL(G,F,S,S,e);
D.Me(F,y);D.Hc(F,X);D.NO(X)}function v(u){var jA=0;if(x==8){for(var Y=0;Y<g;Y++){u[jA++]=~~(D.random()*255)}for(var P=1;
P<K;P++){for(var Y=0;Y<g;Y++){u[jA++]=u[Y]}}}else{for(var P=0;P<K;P++){var jv=~~(D.random()*255);for(var Y=0;
Y<g;Y++){u[jA++]=jv}}}}function gj(u,X){D.qr(u,F);D.s_(G);Q(F,G);v(G);Q(F,G);D.yq(u,t,9);D.yq(t,W,9);
D.PV(F,G,2);D.Me(G,y);D.PV(G,F,2);D.Ls(W,X);D.Hc(F,X);D.NO(X)}[j,M,n,d,d,V,z,gj,gj,I][x](u,X)};f.R.a51=function(u,g,K,X,w){var D=[-1e3,34,51,61,71,80,87,95,101,108,113,119,124,129,134,139,143,148,153,157,161,165,168,172,175,180,183,186,190,194,197,200,203,207,210,213,216,218,222,225,228,230,233,236,239,241,244,247,250,252,255],q=f.R.W,O=0,A,P,E,Z,N,J=0,y=1,o=255;
q.Nf(g,K);q.pw(w[3]);var C=q.hu(1),a=q.hu(1);q.qr(u,C);var x=w[0],H=w[1],$=H<=50?D[H]/255:1+(255-D[101-H])/255,r=w[2],c=C.length,U=new Float32Array(c),m=1+1/10*x,i=(1-1/m)/2,e=16/256,S=g-1;
for(P=0;P<q.he;P++){U[P]=C[P]/255;a[P]=x==1?q.random()<1/255?o:y:y}function B(t,W){var F=t*g+W;if(a[F]!=y||t>=K||W>=g){return}var Z=U[F],G=$-Z,L=q.random(),Q=L/m+i;
if(O==0||Math.abs(N-Z)>e){A=Q<=G?J:o;O=~~(q.random()*x)}else if(.1<L){O--}else{O=0}a[F]=A;N=Z}if(r==0){for(P=0;
P<g;P++){for(E=0;E<g;E++){Z=P+E;if(Z>=g)break;B(E,S-Z)}O=0}for(P=1;P<K;P++){for(E=0;E<K;E++){Z=P+E;if(Z>=K||E>=g)break;
B(Z,S-E)}O=0}}else if(r==1){for(P=0;P<K;P++){for(E=0;E<g;E++){B(P,E)}O=0}}else if(r==2){for(P=0;P<g;
P++){for(E=0;E<g;E++){Z=P+E;if(Z>=g)break;B(E,Z)}O=0}for(P=1;P<K;P++){for(E=0;E<K;E++){Z=P+E;if(Z>=K||E>=g)break;
B(Z,E)}O=0}}else{for(P=0;P<g;P++){for(E=0;E<K;E++){B(E,P)}O=0}}q.Ff(a,X)};f.R.atE=function(u,g,K,X,w){var D=f.R.W;
D.Nf(g,K);var q=w[0],C=w[1],a=w[2],x=D.hu(1),H=D.hu(1),$=D.hu(1),r=D.hu(4),c=D.hu(4);D.qr(u,x);D.bL(x,H,3,3,1);
D.bL(x,$,3,3,9);D.sub($,H);D.PV(H,x,3);D.gq(x,40,10);D.ug(u,X,q,2,!1,q);D.ug(u,r,q,2,!0,q);D.hF(c,255);
D.i1(X,x,c);D.i1(c,x,r);D.mU(r,X,1);D.Ls(X);D.WJ(X,x);D.gq(x,C,a);D.Hc(x,X);D.NO(X)};f.R.a7e=function(u,g,K,X,w){var D=f.R.W;
D.Nf(g,K);D.pw(w[3]);var q=w[0],C=w[1],a=w[2]/10;q=q+C;var x=D.hu(1),H=D.hu(1),$=D.tI(),r=D.tI();D.s_(x);
D.PV(x,H,11);D.PV(H,x,11);D.eU(x,$);D.ok($,r,5);D.ok(r,$,5);D.Sk(r,.97);D.om(r,x,q);D.bL(x,H,C,C,1);
D.C4(u,x);D.io(H,x,H,.6);D.Sx(x,H,H,a);D.LM(H,H,x,5,1);D.Ls(u,X);D.Hc(x,X);D.NO(X)};f.R.ap6=function(u,g,K,X,w){var D=f.R.W;
D.Nf(g,K);var q=Math.abs(w[0]),C=q+[1,0,1,2,1,2,1,2,3,2,3,2,3,2,3,2,3,4,3,4,5,4,5,4,5][q],a=2*q+1,x=w[1]/10,H=x*13/15,$=D.hu(1),r=D.hu(1),c=D.hu(1),U=D.hu(1),O=D.hu(4),A=D.hu(4),m=D.hu(4),i=D.hu(4),e=D.hu(4);
D.qr(u,$);if(w[0]>=0){D.CD($)}D.me($,c);D.PV($,U,C);D.PV(U,$,C);D.PD($,x);D.me($,r);D.PV($,U,a);D.PV(U,$,a);
D.PD($,H);D.hF(m,w[2]);D.hF(i,w[3]);D.hF(e,w[4]);D.i1(m,$,i,O);D.i1(e,r,O,A);D.i1(i,c,A,X);D.WJ(u,c,3);
D.Hc(c,X,3)};f.R.ah1=function(u,g,K,X,w){var D=f.R.W;D.Nf(g,K);D.pw(w[5]);var q=w[0]*5.1,C=w[1]/100,a=D.Xn[w[2]],x=D.hu(1),H=D.hu(1),$=D.hu(1);
D.qr(u,x);D.zy(H,255);D.s_($);D.s6(x,q);D._2(H,x,.7);D._2($,x,C);D.LM(x,x,H,5,a);D.me(u,X);D.a93(X,q,w[4],w[3]);
D.Ls(X);D.Hc(H,X);D.NO(X)};f.R.agb=function(u,g,K,X,w){var D=f.R.W;D.Nf(g,K);var q=w[0],C=4-w[1],a=11-w[2],x=D.hu(1),H=D.hu(1),$=D.hu(4);
D.C4(u,H);for(var P=0;P<C;P++){D.me(H,x);D.K4(x,H,q,q)}D.yq(u,$,q);D.Ls($,$);D.Hc(H,$);D.NO($,$);(a<11?D.aqj:D.me)($,X,a)};
f.R.a1$=function(u,g,K,X,w){var D=f.R.W;D.Nf(g,K);D.pw(w[2]);var q=w[0]+5,C=~~(q/5+1),a=~~(q/2)+1,x=a*a,H=~~(q/3),$=D.Xn[w[1]],r=new Array(256);
for(var P=0;P<256;P++){r[P]=~~(.2*(P-128))}var c=D.hu(1),U=D.hu(1);D.a0$(u,X,q);D.Ls(X);D.WJ(X,c);D.s_(U);
D.gj(c,U,r);D.a4i(U,q,q,C,C);D.io(c,U,c,1);D.PV(c,U,H);D.PV(U,c,H);D.bL(c,U,a,a,x);D.LM(U,U,c,5,$);D.Hc(c,X);
D.NO(X)};f.R.a9W=function(u,g,K,X,w){var D=f.R.W;D.Nf(g,K);var q=D.hu(1),C=D.hu(1),a=D.hu(1),x=D.tI(),H=D.tI();
D.qr(u,q);D.PV(q,C,w[2]);D.s6(C,w[0]*5.1);D.bL(C,q,2,2,4);D.PV(q,C,3);D.PV(C,q,3);D.me(q,a);D.PV(q,C,5);
D.PV(C,q,5);D.eU(q,x);D.ok(x,H,5);D.ok(H,x,5);D.a21(x,C,w[1]);D.CD(C);D.io(a,C,a,1);D.Ff(a,X)};f.R.aiZ=function(u,g,K,X,w){var D=f.R.W;
D.Nf(g,K);var q=1<<7-w[2],C=D.hu(1),a=D.hu(1),x=D.hu(1);D.C4(u,a);D.PV(a,C,3);D.me(C,a);D.PV(C,x,w[0]+5);
D.sub(x,a);D.gq(a,1,w[1]);D.PD(C,1/q);D.PD(C,q);D.sub(C,a);D.Ls(u,X);D.Hc(a,X);D.NO(X)};f.R.ajm=function(u,g,K,X,w){var D=f.R.W;
D.Nf(g,K);D.pw(w[3]);var q=D.hu(1),C=D.hu(1),a=D.hu(1);D.qr(u,q);D.agc(C,w[0]/50);D.PV(C,a,3);D.bL(q,C,9,9,41);
D.gq(C,w[1],w[2]);D.io(C,a,a,.75);D.Sx(C,a,C,.5);D.me(C,q);D.bL(q,a,3,3,8);D.io(a,C,a,.75);D.PD(a,1.2);
D.B7(a,q,1);D.PV(q,a,2);D.B7(a,q,2);D.PD(q,1.2);D.PV(q,a,2);D.Ff(a,X)};f.R.axi=function(u,g,K,X,w){var D=f.R.W;
D.Nf(g,K);var q=w[0]+9,C=w[1]/2,a=w[2],x=w[3],H=D.Ga(w[4]),$=w[5]+1,r=w[6],c=D.hu(1),U=D.hu(1),O=D.hu(4),A=D.hu(4);
D.Ql(U,a,x,r);D.Jd(u,X,q,1,1);D.Jd(X,O,q,1,1);D.aw_(O,O,A,7,C);D.PD(A,1.2);D.n$(A,1.2);D.LM(U,c,c,$,H);
D.PD(c,3);D.me(u,X);D.i1(A,c,X)};f.R.akO=function(u,g,K,X,w){var D=f.R.W;D.Nf(g,K);D.pw(w[3]);var q=w[0]+4,C=q*2/5+(q%5|0);
q--;var a=w[1]*-2.75+60,x=65-a,H=w[2]/10,$=D.hu(1),r=D.hu(1);D.s_($);D.C4(u,r);var c=D.Ia(a,x,r);D.Ls(u,X);
D.WJ(X,r);D._2(r,$,.8);D.Me(r,c);D.PD(r,H);D.add($,r);D.AL(r,$,q,3,!1,C);D.Hc($,X);D.NO(X)};f.R.anj=function(u,g,K,X,w){var D=f.R.W;
D.Nf(g,K);D.pw(w[3]);var q=w[0]+5,C=(q*q>>1)+q%2,a=w[1]/10,x=w[2],H=(x*x>>1)+x%2,$=D.hu(1),r=D.hu(1),c=D.hu(1),U=D.hu(4),O=D.hu(4),A=D.hu(4);
D.s_(c);D.Ls(u,A);D.WJ(A,$);D._2($,c,.8);D.PV(c,$,3);D.B7($,c,a);D.Hc(c,A);D.NO(A,A);D.qr(A,c);D.bL(c,$,q,q,C);
D.PV(c,r,q);D.sub($,r);D.s6(r,1);D.UK(A,U,7,7,40);D.UK(A,O,7,7,10);D.i1(U,r,O);D.UK(O,X,x,x,H)};f.R.alb=function(u,g,K,X,w){var D=f.R.W,C=255,P,x;
D.Nf(g,K);var q=w[0];if(q<2)C=q;else if(q<12)C=5*q-5;else if(q<47)C=2*q+28;else if(q<50){P=q-47;C=125+12.5*P+12.5*P*P}var a=new Uint8Array(256);
for(P=75,x=15;P<256;P++,x+=24)a[P]=Math.min(255,x);var H=D.hu(1),$=D.hu(1),r=D.hu(1);D.qr(u,H);D.PV(H,$,11);
D.PV($,r,11);D.sub(r,H);D.PD(H,8);D.sub(r,H);D.s6(H,C);D.CD(H);D.PV(H,$,5);D.s6($,51);D.PV($,H,w[1]);
D.PV(H,$,w[1]);D.CD($);D.Me($,a);D.Ff($,X)};f.R.a7X=function(u,g,K,X,w){var D=f.R.W;D.Nf(g,K);var q=D.BN[w[1]],C=w[2],a=C*1.5,x=D.hu(1),H=D.hu(1),$=D.hu(1);
D.C4(u,x);D.AL(x,H,15,2,!0,15);D.me(H,$);D.gq($,C,a);D.PV($,x,3);D.PV(H,$,w[0]);D.sub($,H);D.PD(H,q);
D.sub(x,H);D.PV(H,x,3);D.AL(x,H,3,1,!1,1);D.yq(u,X,15);D.Ls(X);D.Hc(H,X);D.NO(X)};f.R.a7t=function(u,g,K,X,w){var D=f.R.W;
D.Nf(g,K);D.pw(w[3]);var q=w[0]*5.1,C=16-w[1],a=[1,1,1.05,1.1,1.15,1.2,1.25,1.3,1.35,1.4,1.45,1.5,1.6,1.7,1.8,2,2.25,2.5,2.75,3,3.5,4,5,6,8,10][w[2]],x=D.hu(1),H=D.hu(1),$=D.hu(1);
D.qr(u,x);D.s6(x,q);D.PV(x,H,C);D.PV(H,x,C);D.s_($);D.Sx(x,$,$,1);D.io(x,$,x,.75);D.PD(x,a);D.n$(x,a);
D.bL(x,H,2,2,2);D.Ff(H,X)};f.R.acA=function(u,g,K,X,w){var D=f.R.W;D.Nf(g,K);var q=w[0]+9,C=w[1]+9,a=w[2],x=w[3],H=D.Ga(w[4]),$=w[5]+1,r=w[6],c=D.hu(1),U=D.hu(1),O=D.hu(1),A=D.hu(1),m=D.hu(1),i=D.hu(4);
D.C4(u,c);D.K4(c,O,q,q);D.PV(O,c,C);D.me(O,m);D.me(c,A);D.sub(m,A);D.sub(c,m);D.add(m,A);D.PD(A,10);
D.Ql(U,a,x,r);D.LM(U,c,m,$,H);D.Mq(m,A,O,.8);D.yq(u,i,9);D.yq(i,X,9);D.Ls(X);D.Hc(O,X);D.NO(X)};f.R.alm=function(u,g,K,X,w){var D=f.R.W;
D.Nf(g,K);var q=16-w[0],C=w[1]*8,a=1-(3-w[2])/10,x=~~(q*q*a-1),H=~~(q*q*(1-a));if(H==0)H=1;var $=D.hu(1),r=D.hu(1),c=D.hu(1),U=D.hu(4);
D.qr(u,c);D.bL(c,$,7,7,25);D.PV(c,r,7);D.sub($,r);D.s6(r,1);D.UK(u,U,q,q,x);D.UK(u,X,q,q,H);D.i1(U,r,X);
D.Ls(X);D.WJ(X,$);D.bL($,c,3,3,1);D.bL($,r,3,3,9);D.sub(r,c);D.me(c,r);D.sub($,c);D.sub(c,r);D.bL(r,$,3,3,8);
D.gq($,C,1);D.Hc($,X);D.NO(X)};f.R.aau=function(u,g,K,X,w){var D=f.R.W;D.Nf(g,K);D.pw(w[3]);var q=w[0],C=w[1],a=w[2],x=q>>1,H=Math.max(~~(q/5),1),$=Math.max(~~(q*2/3),1),r=D.zC(C,a),c=D.hu(1),U=D.hu(1),O=D.hu(1),A=D.hu(1),m=D.hu(4);
D.C4(u,c);D.y0(2147483647,4,2,2,0,255,U);D.y0(4,2147483647,2,2,0,255,A);D.s_(O);D.Sx(U,O,U,1);D.Sx(A,O,A,1);
D.Sx(U,c,U,1);D.Sx(A,c,A,1);D.yq(u,m,x);D.yq(m,X,x);D.bL(U,c,1,q,H);D.bL(c,U,3,q,$);D.bL(A,c,q,1,H);
D.bL(c,A,q,3,$);D.jd(U,A);D.Ls(X);D.Hc(A,X);D.NO(X);D.Xj(X,r)};f.R.W={};f.R.W.QM=0;f.R.W.xQ=0;f.R.W.he=0;
f.R.W.Wm=0;f.R.W.rk=0;f.R.W.Nf=function(u,g){var K=u*g,self=f.R.W;self.QM=u;self.xQ=g;self.he=K;self.Wm=K<<1;
self.rk=K<<2};f.R.W.pw=function(u){f.R.W.random=function(){var g=u+=1831565813;g=Math.imul(g^g>>>15,g|1);
g^=g+Math.imul(g^g>>>7,g|61);return((g^g>>>14)>>>0)/4294967296}};f.R.W.hu=function(u){var g=f.R.W;return new Uint8Array([-1,g.he,g.Wm,-1,g.rk][u])};
f.R.W.tI=function(){return new Int32Array(f.R.W.Wm)};f.R.W.PV=function(u,g,K,X){if(X==null)X=K;var self=f.R.W,w=self.QM,D=self.xQ;
f.zg.zR(u,g,new dS(0,0,w,D),K>>>1);return};f.R.W.ok=function(u,g,K,X){var self=f.R.W,w=new Int32Array(self.he),D=new Int32Array(self.he);
for(var P=0;P<2;P++){self.WJ(u,w,P,2);self.PV(w,D,K,X);self.Hc(D,g,P,2)}};f.R.W.yq=function(u,g,K,X){var self=f.R.W,w=self.hu(1),D=self.hu(1);
for(var P=0;P<4;P++){self.WJ(u,w,P);if(P<3)self.PV(w,D,K,X);else D=w;self.Hc(D,g,P)}};f.R.W.Jd=function(u,g,K,X,w){var self=f.R.W,D=self.QM,q=self.xQ,C=K+X-1,a=K>>1,x=C>>1,H=0,$=K*X,r=new Int32Array(K);
for(var P=0;P<q;P++){var c=0,U=0,O=0;for(var A=0;A<K;A++){var m=w?C-A-X:A;for(var i=m,e=X+m;i<e;i++){var S=0-x+i,E=P-a+A;
if(i==m){r[A]=S}if(S<0)S=0;else if(S>=D)S=D-1;if(E<0)E=0;else if(E>=q)E=q-1;var Z=D*E+S<<2;c+=u[Z];U+=u[Z+1];
O+=u[Z+2]}}g[H++]=~~(c/$);g[H++]=~~(U/$);g[H++]=~~(O/$);g[H]=u[H];H++;for(var N=1;N<D;N++){for(var A=0;
A<K;A++){var E=P-a+A,m=r[A]+1;r[A]=m;var J=m-1,y=m+X-1;if(E<0)E=0;else if(E>=q)E=q-1;if(J<0)J=0;else if(J>=D)J=D-1;
if(y<0)y=0;else if(y>=D)y=D-1;var o=E*D+J<<2,B=E*D+y<<2;c=c+u[B]-u[o];U=U+u[B+1]-u[o+1];O=O+u[B+2]-u[o+2]}g[H++]=~~(c/$);
g[H++]=~~(U/$);g[H++]=~~(O/$);g[H]=u[H];H++}}};f.R.W.AL=function(u,g,K,X,w,D){var self=f.R.W,q=self.QM,C=self.xQ,a=K+X-1,x=K>>1,H=a>>1,$=0,r=new Int32Array(K),c=new Int32Array(256),U=new Int32Array(16);
for(var P=0;P<C;P++){c.fill(0);U.fill(0);for(var O=0;O<K;O++){var A=w?a-O-X:O;for(var m=A,i=X+A;m<i;
m++){var e=0-H+m,S=P-x+O;if(m==A){r[O]=e}if(e<0)e=0;else if(e>=q)e=q-1;if(S<0)S=0;else if(S>=C)S=C-1;
c[u[S*q+e]]++;U[u[S*q+e]>>>4]++}}g[$++]=f.R.W.Kr(U,c,D);for(var E=1;E<q;E++){for(var O=0;O<K;O++){var S=P-x+O,A=r[O]+1;
r[O]=A;var Z=A-1,N=A+X-1;if(S<0)S=0;else if(S>=C)S=C-1;if(Z<0)Z=0;else if(Z>=q)Z=q-1;if(N<0)N=0;else if(N>=q)N=q-1;
var J=u[S*q+Z],y=u[S*q+N];c[J]--;c[y]++;U[J>>>4]--;U[y>>>4]++}g[$++]=f.R.W.Kr(U,c,D)}}};f.R.W.ug=function(u,g,K,X,w,D){var self=f.R.W,q=self.hu(1),C=self.hu(1);
for(var P=0;P<4;P++){self.WJ(u,q,P);if(P<3)self.AL(q,C,K,X,w,D);else C=q;self.Hc(C,g,P)}};f.R.W.bL=function(u,g,K,X,w){w=Math.min(X*K,w);
var self=f.R.W,D=self.QM,q=self.xQ,C=X>>1,a=K>>1,x=0,H=new Int32Array(X),$=new Int32Array(256),r=new Int32Array(16);
for(var P=0;P<q;P++){$.fill(0);r.fill(0);for(var c=0;c<X;c++){for(var U=0,O=K;U<O;U++){var A=0-a+U,m=P-C+c;
if(U==0){H[c]=A}if(A<0)A=0;else if(A>=D)A=D-1;if(m<0)m=0;else if(m>=q)m=q-1;$[u[m*D+A]]++;r[u[m*D+A]>>>4]++}}g[x++]=f.R.W.Kr(r,$,w);
for(var i=1;i<D;i++){for(var c=0;c<X;c++){var m=P-C+c,e=H[c]+1;H[c]=e;var S=e-1,E=e+K-1;if(m<0)m=0;else if(m>=q)m=q-1;
if(S<0)S=0;else if(S>=D)S=D-1;if(E<0)E=0;else if(E>=D)E=D-1;var Z=u[m*D+S],N=u[m*D+E];$[Z]--;$[N]++;
r[Z>>>4]--;r[N>>>4]++}g[x++]=f.R.W.Kr(r,$,w)}}};f.R.W.Kr=function(u,g,K){var X=0,w=0;while(X+u[w>>>4]<K){X+=u[w>>>4];
w+=16}for(;w<256;w++){X+=g[w];if(X>=K)break}return w};f.R.W.UK=function(u,g,K,X,w){var self=f.R.W,D=self.hu(1),q=self.hu(1);
for(var P=0;P<4;P++){self.WJ(u,D,P);if(P<3)self.bL(D,q,K,X,w);else q=D;self.Hc(q,g,P)}};f.R.W.B7=function(u,g,K){var self=f.R.W,X=self.QM,w=self.xQ,D=0;
for(var P=0;P<w;P++){var q=P*X,C=(P-1)*X,a=(P+1)*X;if(C<0)C=q;if(a>=w)a=q;for(var x=0;x<X;x++){var H=x-1,$=x+1;
if(H<0)H=x;if($>=X)$=x;var r=q+H,c=q+$,U=C+x,O=a+x,A=q+x,m=u[r],i=u[c],e=u[U],S=u[O],E=u[A],Z=E+(E*4*K+.5);
Z=Z-((m+i+S+e)*K+.5);g[D++]=self.Bk(Z)}}};f.R.W.mU=function(u,g,K){var self=f.R.W,X=self.hu(1),w=self.hu(1);
for(var P=0;P<4;P++){self.WJ(u,X,P);if(P<3)self.B7(X,w,K);else w=X;self.Hc(w,g,P)}};f.R.W.aqj=function(u,g,K){var self=f.R.W,X=self.QM,w=self.xQ,D=0,q=K+4;
for(var P=0;P<w;P++){var C=P*X,a=(P-1)*X,x=(P+1)*X;if(a<0)a=C;if(x>=w)x=C;for(var H=0;H<X;H++){var $=H-1,r=H+1;
if($<0)$=H;if(r>=X)r=H;var c=C+$<<2,U=C+r<<2,O=a+H<<2,A=x+H<<2,m=C+H<<2;for(var i=0;i<3;i++){var e=u[c+i],S=u[U+i],E=u[O+i],Z=u[A+i],N=u[m+i];
g[D++]=(N*K+e+S+Z+E)/q}g[D]=u[D];D++}}};f.R.W.K4=function(u,g,K,X){var self=f.R.W,w=self.QM,D=self.xQ,q=K>>1,C=X>>1,a=0,x=new Int32Array(K),H=new Int32Array(256);
for(var P=0;P<D;P++){H.fill(0);for(var $=0;$<K;$++){for(var r=0,c=X;r<c;r++){var U=0-C+r,O=P-q+$;if(r==0){x[$]=U}if(U<0)U=0;
else if(U>=w)U=w-1;if(O<0)O=0;else if(O>=D)O=D-1;H[u[O*w+U]]++}}var A=0,m=0;for(var i=0;i<256;i++){if(A<H[i]){m=i;
A=H[i]}}g[a++]=m;for(var e=1;e<w;e++){for(var $=0;$<K;$++){var O=P-q+$,S=x[$]+1;x[$]=S;var E=S-1,Z=S+X-1;
if(O<0)O=0;else if(O>=D)O=D-1;if(E<0)E=0;else if(E>=w)E=w-1;if(Z<0)Z=0;else if(Z>=w)Z=w-1;H[u[O*w+E]]--;
H[u[O*w+Z]]++}A=0;m=0;for(var i=0;i<256;i++){if(A<H[i]){m=i;A=H[i]}}g[a++]=m}}};f.R.W.a5p=[function(u,g,K,X,w,D,q,C,a,x){return w+(u+g+K)*x-(a+C+q)*x},function(u,g,K,X,w,D,q,C,a,x){return w+(g+K+D)*x-(C+q+X)*x},function(u,g,K,X,w,D,q,C,a,x){return w+(K+D+a)*x-(q+X+u)*x},function(u,g,K,X,w,D,q,C,a,x){return w+(D+a+C)*x-(X+u+g)*x},function(u,g,K,X,w,D,q,C,a,x){return w+(a+C+q)*x-(u+g+K)*x},function(u,g,K,X,w,D,q,C,a,x){return w+(C+q+X)*x-(g+K+D)*x},function(u,g,K,X,w,D,q,C,a,x){return w+(q+X+u)*x-(K+D+a)*x},function(u,g,K,X,w,D,q,C,a,x){return w+(X+u+g)*x-(D+a+C)*x}];
f.R.W.LM=function(u,g,K,X,w){var self=f.R.W,D=self.QM,q=self.xQ,C=D,a=self.a5p[X-1];for(var P=0;P<q;
P++){var x=(P>0?P-1:0)*C,H=P*C,$=(P<q?P+1:P)*C;for(var r=0;r<D;r++){var c=r>0?r-1:0,U=r<D?r+1:r,O=H+r,A=u[x+c],m=u[x+r],i=u[x+U],e=u[H+c],S=g[O],E=u[H+U],Z=u[$+c],N=u[$+r],J=u[$+U];
K[O]=self.Bk(a(A,m,i,e,S,E,Z,N,J,w))}}};f.R.W.aw_=function(u,g,K,X,w){var self=f.R.W,D=self.hu(1),q=self.hu(1),C=self.hu(1);
for(var P=0;P<3;P++){self.WJ(u,D,P);self.WJ(g,q,P);self.LM(D,q,C,X,w);self.Hc(C,K,P)}self.WJ(g,D,3);
self.Hc(D,K,3)};f.R.W.qr=function(u,g){var K=u.length,X=0;for(var P=0;P<K;P++){g[X++]=~~((u[P++]+u[P++]+u[P++]+2)/3)}};
f.R.W.Ff=function(u,g){var K=g.length,X=0;for(var P=0;P<K;P++){var w=u[P];g[X++]=w;g[X++]=w;g[X++]=w;
g[X++]=255}if(g[0]==255)g[0]--;else g[0]++};f.R.W.C4=function(u,g){var K=g.length,X=0;for(var P=0;P<K;
P++){var w=u[X++],D=u[X++],q=u[X++];X++;if(D>w)w=D;if(q>w)w=q;g[P]=w}};f.R.W.Ls=function(u,g){if(g==null)g=u;
var K=u.length;for(var X=0;X<K;X+=4){var w=u[X],D=u[X+1],q=u[X+2],C=w,a=0,x=w,$;if(D<=w){w=D}else{a=1;
x=D}if(q<=x){if(w>q){w=q}}else{a=2;x=q}var H=x-w;if(H!=0){if(a==0){$=~~(43*(D-q)/H)}else if(a==1){$=~~(43*(q+2*H-C)/H)}else{$=43*(C+4*H-D)/H}if($<0){$=255&$-1}g[X]=$;
g[X+1]=~~(255*H/x)}else{g[X]=H;g[X+1]=H}g[X+2]=x;g[X+3]=u[X+3]}};f.R.W.NO=function(u,g){if(g==null)g=u;
var K=u.length;for(var X=0;X<K;X+=4){var w=u[X],D=u[X+1],q=u[X+2];if(D){if(w==255)w=0;var C=~~(6*w/255),a=~~(-255*C+6*w);
if(C==0){g[X]=q;g[X+1]=~~(q*(255-D*(255-a)/255)/255);g[X+2]=~~(q*(255-D)/255)}else if(C==1){g[X]=~~(q*(255-D*a/255)/255);
g[X+1]=q;g[X+2]=~~(q*(255-D)/255)}else if(C==2){g[X]=~~(q*(255-D)/255);g[X+1]=q;g[X+2]=~~(q*(255-D*(255-a)/255)/255)}else if(C==3){g[X]=~~(q*(255-D)/255);
g[X+1]=~~(q*(255-D*a/255)/255);g[X+2]=q}else if(C==4){g[X]=~~(q*(255-D*(255-a)/255)/255);g[X+1]=~~(q*(255-D)/255);
g[X+2]=q}else{g[X]=q;g[X+1]=~~(q*(255-D)/255);g[X+2]=~~(q*(255-D*a/255)/255)}}else{g[X]=q;g[X+1]=q;g[X+2]=q}g[X+3]=u[X+3]}};
f.R.W.Hc=function(u,g,K,X){if(K==null)K=2;if(X==null)X=4;var w=u.length;for(var P=0;P<w;P++){g[K]=u[P];
K+=X}};f.R.W.WJ=function(u,g,K,X){if(K==null)K=2;if(X==null)X=4;var w=g.length;for(var P=0;P<w;P++){g[P]=u[K];
K+=X}};f.R.W.Mq=function(u,g,K,X){if(X==null)X=1;var w=g.length,D=0,q;for(var D=0;D<w;D++){q=g[D];if(q){q*=X;
K[D]=~~((q*u[D]+(255-q)*K[D])/255)}}};f.R.W.i1=function(u,g,K,X){if(X==null)X=K;var w=g.length,D=0,q,C;
for(var P=0;P<w;P++){q=g[P];if(q){C=255-q;X[D]=~~((q*u[D]+C*K[D])/255);X[D+1]=~~((q*u[D+1]+C*K[D+1])/255);
X[D+2]=~~((q*u[D+2]+C*K[D+2])/255)}X[D+3]=u[D+3];D+=4}};f.R.W.io=function(u,g,K,X){var w=~~(X*255),D=K.length;
for(var P=0;P<D;P++){K[P]=((255-w*(255-u[P])/255)*g[P]+u[P]*(w*(255-u[P])/255))/255}};f.R.W.Sx=function(u,g,K,X){var w=~~(X*255),D=K.length;
for(var P=0;P<D;P++){K[P]=((255-w*u[P]/255)*g[P]+u[P]*(w*u[P]/255))/255}};f.R.W._2=function(u,g,K){var X=g.length;
for(var P=0;P<X;P++){g[P]=~~(u[P]*K+.5)+(g[P]-~~(g[P]*K+.5))}};f.R.W.sub=function(u,g){var K=u.length;
for(var P=0;P<K;P++){g[P]=Math.max(u[P]-g[P],0)}};f.R.W.add=function(u,g){var K=u.length;for(var P=0;
P<K;P++){g[P]=Math.min(u[P]+g[P],255)}};f.R.W.jd=function(u,g){var K=u.length;for(var P=0;P<K;P++){g[P]=u[P]+g[P]>>1}};
f.R.W.me=function(u,g){var K=u.length;for(var P=0;P<K;P++){g[P]=u[P]}};f.R.W.Me=function(u,g){var K=u.length;
for(var P=0;P<K;P++){u[P]=g[u[P]]}};f.R.W.Xj=function(u,g){var K=f.R.W.rk;for(var P=0;P<K;P+=4){var X=u[P],w=u[P+1],D=u[P+2],q=X;
if(w>X)q=w;if(D>X)q=D;var C=g[q];if(C){u[P]=~~(C*X/q);u[P+1]=~~(C*w/q);u[P+2]=~~(C*D/q)}else{u[P]=C;
u[P+1]=C;u[P+2]=C}}};f.R.W.PD=function(u,g){for(var P=0,K=u.length;P<K;P++){u[P]=Math.min(255,~~(.5+u[P]*g))}};
f.R.W.n$=function(u,g){for(var P=0,K=u.length;P<K;P++){u[P]=255-Math.min(255,~~(.5+(255-u[P])*g))}};
f.R.W.CD=function(u){var g=u.length;for(var P=0;P<g;P++){u[P]=255-u[P]}};f.R.W.s6=function(u,g,K,X){if(K==null)K=0;
if(X==null)X=255;for(var P=0,w=u.length;P<w;P++){u[P]=u[P]>=g?X:K}};f.R.W.K_=function(u){return[u>>24&255,u>>16&255,u>>8&255,u&255]};
f.R.W.a93=function(u,g,K,X){if(K==null)K=255;if(X==null)X=4278190335;var w=f.R.W,D=w.rk,q=w.K_(K),C=w.K_(X);
for(var P=0;P<D;P+=4){var a=~~((u[P]+u[P+1]+u[P+2]+2)/3);if(a>=g){u[P]=q[0];u[P+1]=q[1];u[P+2]=q[2]}else{u[P]=C[0];
u[P+1]=C[1];u[P+2]=C[2]}}};f.R.W.hF=function(u,g){var K=f.R.W,X=K.rk,w=K.K_(g);for(var P=0;P<X;){u[P++]=w[0];
u[P++]=w[1];u[P++]=w[2];u[P++]=w[3]}};f.R.W.zy=function(u,g){var K=u.length;for(var P=0;P<K;){u[P++]=g}};
f.R.W.zC=function(u,g){u=u>5?(100-Math.max(4,u))/100:.95;g=g!=100?Math.max(4,g)/100:.9995;var K=new Uint8Array(256),X=g>.5?.5/(1-g):g*2,w=~~(X*256),D=~~((.5-u*X)*256)<<8;
for(var P=0;P<256;P++){K[P]=f.R.W.Bk(D>>8);D+=w}return K};f.R.W.s_=function(u){for(var P=0,g=f.R.W,K=u.length;
P<K;P++){u[P]=~~(g.random()*256)}};f.R.W.agc=function(u,g){for(var P=0,K=f.R.W,X=u.length;P<X;P++){u[P]=K.random()<g?255:0}};
f.R.W.O7=function(u,g,K){for(var P=0,X=f.R.W,w=u.length;P<w;P++){if(X.random()<g)u[P]=K}};f.R.W.gj=function(u,g,K){var X=u.length;
for(var P=0;P<X;P++){u[P]=f.R.W.Bk(u[P]+K[g[P]])}};f.R.W.I0=function(u){var g=new Uint32Array(256);for(var P=0,K=u.length;
P<K;P++){g[u[P]]++}return g};f.R.W.Ia=function(u,g,K){var self=f.R.W,X=self.I0(K),w=self.he/100,D=new Uint8Array(256),q=w*u,C=w*g,a=0,x=-1,H=256;
do{a+=X[++x]}while(a<=q);a=0;do{a+=X[--H]}while(a<=C);if(H-x<=0)H=x+1;if(H>255){H=255;x=254}var $=255/(H-x),r=-x;
for(var P=0;P<256;P++){D[P]=self.Bk($*r+.5);r++}return D};f.R.W.gq=function(u,g,K){var X=f.R.W;X.Me(u,X.Ia(g,K,u))};
f.R.W.a5r=function(u,g){var self=f.R.W,K=self.I0(u),X=self.he*g/100,w=0,D=-1;do{w+=K[++D]}while(w<=X);
return D};f.R.W.eU=function(u,g){var K=0,self=f.R.W,X=self.QM,w=self.xQ,D=1/Math.PI,q=D*255;for(var P=0;
P<w;P++){var C=P+1;if(C==w)C--;var a=P*X,x=~~((1-(P+1)/w)*255);for(var H=0;H<X;H++){var $=H+1;if($==X)$--;
var r=u[a+H],c=u[a+$],U=u[C*X+H];if(r-U==0){g[K++]=x}else{var O=r-U+255;if(O==255){O=0}else{O=~~(Math.atan2(1/(255-O),1)*q+.5);
if(O<0)O+=255}g[K++]=O}if(r-c==0){g[K++]=~~((1-(H+1)/X)*255)}else{var O=r-c+255;if(O==255){O=0}else{O=~~(Math.atan2(1/(255-O),1)*q+.5);
if(O<0)O+=255}g[K++]=O}}}};f.R.W.Sk=function(u,g){var self=f.R.W,K=self.QM,X=self.xQ,w=0;for(var P=0;
P<X;P++){for(var D=0;D<K;D++){u[w]=~~(P*g+.5)+~~(u[w]*(1-g)+.5);w++;u[w]=~~(D*g+.5)+~~(u[w]*(1-g)+.5);
w++}}};f.R.W.a0j=function(u,g,K,X){var self=f.R.W,w=self.QM,D=self.xQ,q=0;for(var P=0;P<D;P++){for(var C=0;
C<w;C++){g[q]=~~(g[q]*(1-K)+.5)+~~(u[q]*X+.5);q++;g[q]=~~(g[q]*(1-K)+.5)+~~(u[q]*X+.5);q++}}};f.R.W.om=function(u,g,K){var self=f.R.W,X=self.QM,w=self.xQ,D=0,q=0;
for(var P=0;P<w;P++){for(var C=0;C<X;C++){var a=u[D++],x=u[D++];g[q++]=x%K>=2&&a%K>=2?255:0}}};f.R.W.y0=function(u,g,K,X,w,D,q){var self=f.R.W,C=self.QM,a=self.xQ,x=0,H=0,$=0;
for(var P=0;P<a;P++){var r=P%u<K||a-K<=P;for(var c=0;c<C;c++){q[x++]=r||c%g<X||C-X<=c?w:D}}};f.R.W.Ql=function(u,g,K,X){var self=f.R.W,w=self.QM,D=self.xQ,q=hq.Ql(g),C=q[0],a=q[1],x=f.L(C.$()*4);
x.fill(4294967295);f.qM(a,x);var H=f.scale.n5(x,C.m,C.n),$=f.scale.AR(H,null,w,D,K/100,K/100,0,0);f.hk($,u,0);
if(X)f.CD(u)};f.R.W.Bk=function(u){return~~Math.min(255,Math.max(0,u))};f.R.W.BN=[0,5,10,15,20,25,35,45,65,85,105,125,145,165,185,205];
f.R.W.Xn=[0,.2,.4,.5,.6,.7,.8,.9,1,1.1,1.2,1.3,1.4,1.5,1.7,2,2.5,3,3.5,4,5,6,7,8,9,10];f.R.W.Ga=function(u){return u>40?[1.25,1.5,1.75,2,2.5,3,4,5,7.5,10][u-41]:u/40};
f.R.W.a0$=function(u,g,K){var self=f.R.W,X=self.QM,w=self.xQ,D=K,q=K>>1,C=q-1,a=D*D,x=0;for(var P=0;
P<w;P++){var H=0,$=0,r=0,c=~~(P/K)*K,U=0;for(var O=0;O<D;O++){for(var A=0;A<D;A++){var m=U+A,i=c+O;if(m>=X)m=X-1;
if(i>=w)i=w-1;H+=u[i*X+m<<2];$+=u[(i*X+m<<2)+1];r+=u[(i*X+m<<2)+2]}}var e=~~(H/a),S=~~($/a),E=~~(r/a);
g[x]=e;g[x+1]=S;g[x+2]=E;g[x+3]=u[x+3];x+=4;for(var Z=1;Z<X;Z++){for(var O=0;O<D;O++){var N=Z-1,J=N+D,i=c+O;
if(J>=X)J=X-1;if(i>=w)i=w-1;var y=i*X,o=y+J<<2,B=y+N<<2;H+=u[o]-u[B];$+=u[o+1]-u[B+1];r+=u[o+2]-u[B+2]}if(Z%K==0){e=~~(H/a);
S=~~($/a);E=~~(r/a)}g[x]=e;g[x+1]=S;g[x+2]=E;g[x+3]=u[x+3];x+=4}}};f.R.W.a4i=function(u,g,K,X,w){var self=f.R.W,D=self.QM,q=self.xQ,C=0,a=0,x=0,H=0;
for(var P=H;P<q+H;P++){var $=P%g>=X||P<X||q+H-X<=P;for(var r=0;r<D;r++){u[C++]=$&&(r%K>=w||r<w||D-w<=r)?255:0}}};
f.R.W.a21=function(u,g,K){var X=function(x,H){return H<=x?x/H&1?H-x%H:x%H:x},w=[function(C,a){return X(C,255)/255},function(C,a){return(255+X(C,255)-X(a,255))/510},function(C,a){return(255-X(a,255))/255},function(C,a){return(510-X(C,255)-X(a,255))/510},function(C,a){return(255-X(C,255))/255},function(C,a){return(255-X(C,255)+X(a,255))/510},function(C,a){return X(a,255)/255},function(C,a){return(X(C,255)+X(a,255))/510}][K],D=0,q=0;
for(var P=0;P<f.R.W.he;P++){var C=u[D++],a=u[D++];g[q++]=~~(255*w(C,a))}};f.R.a7L=function(){var u=[],g=new Uint8Array(512),K=new Float32Array(512),X=new Float32Array(512),w=[1,-1,1,-1,1,-1,0,0],D=[1,1,-1,-1,0,0,1,-1],q=0,C,U=0;
for(;q<256;q++)u[q]=q;while(q!=0){q--;C=Math.floor(Math.random()*q);u[C]^=u[q]^(u[q]=u[C])}function a(a){a=Math.floor(a*65536);
if(a<256){a|=a<<8}for(var P=0;P<256;P++){var m=P+256,i=u[P]^(P&1?a:a>>8)&255;g[P]=g[m]=i;i=i%8;K[P]=K[m]=w[i];
X[P]=X[m]=D[i]}}function x(m){return m*m*m*(m*(m*6-15)+10)}function H(m,i,e){return(1-e)*m+e*i}function $(m,i){return m&i}function r(m,i){return m%i}function c(m,i,e,S,E){var Z=Math.floor(m),N=Math.floor(i),q,J,y,o,B,t;
m=m-Z;i=i-N;Z=Z&255;N=N&255;q=Z+g[N];o=K[q]*m+X[q]*i;q=Z+g[E(N+1,S)];y=K[q]*m+X[q]*(i-1);q=E(Z+1,e)+g[N];
B=K[q]*(m-1)+X[q]*i;q=E(Z+1,e)+g[E(N+1,S)];t=K[q]*(m-1)+X[q]*(i-1);J=x(m);return H(H(o,B,J),H(y,t,J),x(i))}function O(m,q,i){m[q]=i}function A(m,i,e,S,E){var Z=Math.min(Math.min(i,256),Math.min(256,e)),N=Z==256||Z<8,J=8,y=new Uint32Array(J),o=new Uint32Array(J),B=new Float32Array(J),t=new Float32Array(J),W=1,F=1,G=N?$:r,L=O,Q;
for(var P=0;P<J;P++){Q=F*1/Z;if(N){o[P]=(1<<Math.ceil(Math.log2(e*Q)))-1;y[P]=(1<<Math.ceil(Math.log2(i*Q)))-1}else{o[P]=Q*e;
y[P]=Q*i}B[P]=W;t[P]=Q;W*=.5;F=F<<1}a(Math.random());for(var T=0,q=0;T<e;T++){for(var j=0;j<i;j++){var p=0;
for(var M=0;M<J;M++){Q=t[M];p+=c(j*Q,T*Q,y[M],o[M],G)*B[M]}L(S,q++,Math.round(Math.max(0,255*Math.min(1,.5+p*.5))))}}}return A}();
f.R.a86=function(){function u(g,K,X,w){var D=new Uint8Array(g.length>>>2),q=new Uint8Array(g.length>>>2),C=new Uint8Array(g.length);
for(var P=0;P<g.length;P+=4){var a=g[P+0]*.3+g[P+1]*.59+g[P+2]*.11;q[P>>>2]=a;C[P]=g[P];C[P+1]=g[P+1];
C[P+2]=g[P+2]}f.Xg.sc(q,D,K,X);f.Xg.L4(g,w,K,X,f.Xg.Ve[1],0,!0);for(var P=0;P<g.length;P+=4){C[P+3]=255-D[P>>>2]}for(var P=0,x=g.length;
P<x;P+=4){var H=C[P+3]/255;w[P]=C[P]*H+w[P]*(1-H);w[P+1]=C[P+1]*H+w[P+1]*(1-H);w[P+2]=C[P+2]*H+w[P+2]*(1-H)}}return u}();
f.R.a8t=function(){function u(D,q,C,a,x){var H=new Uint32Array(D.buffer),$=0;for(var P=0;P<C;P++){for(var r=0;
r<q;r++,$+=4){var c=H[P*q+r],U=c&255,O=c>>>8&255,A=c>>>16&255,m=c>>>24&255,i=~~(Math.random()*8),e=i%3,S=0,E=0;
if(i<3){E--}else if(i>4){E++}if(e==0){S--}else if(e==2){S++}var Z=r+S,N=P+E;if(Z<0)Z=0;else if(Z>q-1)Z=q-1;
if(N<0)N=0;else if(N>C-1)N=C-1;var c=H[N*q+Z],J=c&255,y=c>>>8&255,o=c>>>16&255,B=c>>>24&255;a[$]=x(U,J);
a[$+1]=x(O,y);a[$+2]=x(A,o);a[$+3]=x(m,B)}}}function g(D,q){return q}function K(D,q){return D>q?q:D}function X(D,q){return D<q?q:D}function w(D,q,C,a,x){var H=x[0];
if(H==0)u(D,q,C,a,g);else if(H==1)u(D,q,C,a,K);else if(H==2)u(D,q,C,a,X);else if(H==3){console.error("Not implemented")}else console.error("Mew mew")}return w}();
f.R.a7C=function(){function u(g,K,X,w,D){var q=D&&D[0]?D[0]:4,C,a,x,H,$,r,c;for(var P=0;P<X;P++){var U=Math.max(P-q,0),O=Math.min(P+q,X-1);
for(var A=0;A<K;A++){var m=Math.max(A-q,0),i=Math.min(A+q,K-1);C=U*K+m<<2;H=g[C];$=g[C+1];r=g[C+2];c=g[C+3];
C=U*K+i<<2;H+=g[C];$+=g[C+1];r+=g[C+2];c+=g[C+3];C=O*K+m<<2;H+=g[C];$+=g[C+1];r+=g[C+2];c+=g[C+3];C=O*K+i<<2;
H+=g[C];$+=g[C+1];r+=g[C+2];c+=g[C+3];C=P*K+A<<2;w[C]=H+2>>>2;w[C+1]=$+2>>>2;w[C+2]=r+2>>>2;w[C+3]=c+2>>>2}}}return u}();
f.R.adO=function(){function u(g,K,X,w){var D=new Uint8Array(g.length),q=new Uint8Array(g.length>>>2),C=new Uint8Array(g.length>>>2);
f.Xg.L4(g,D,K,X,f.Xg.Ve[2],0,!0);for(var P=0;P<g.length;P+=4){var a=D[P+0]*.3+D[P+1]*.59+D[P+2]*.11;
q[P>>>2]=a;w[P+0]=g[P+0];w[P+1]=g[P+1];w[P+2]=g[P+2];w[P+3]=g[P+3]}f.Xg.sc(q,C,K,X);for(var P=0;P<g.length;
P+=4){D[P+3]=~~(Math.max(0,255-C[P>>>2]-50)*(255/205))}for(var P=0,x=g.length;P<x;P+=4){var H=D[P+3]/255;
w[P]=D[P]*H+w[P]*(1-H);w[P+1]=D[P+1]*H+w[P+1]*(1-H);w[P+2]=D[P+2]*H+w[P+2]*(1-H)}}return u}();f.R.Pu=function(){function u(i,e){return i[e]+i[e+1]+i[e+2]+i[e+3]}function g(i,e){return i[e]+i[e+1]+i[e+2]+2*i[e+3]}function K(i,e,S,E){i[e]=S[E];
i[e+1]=S[E+1];i[e+2]=S[E+2];i[e+3]=S[E+3]}function X(i,e,S){i[e]=i[S];i[e+1]=i[S+1];i[e+2]=i[S+2];i[e+3]=i[S+3]}function w(i,e,S){i[S]=e[S];
i[S+1]=e[S+1];i[S+2]=e[S+2];i[S+3]=255-e[S+3]}function D(i){for(var P=0,e=i.length;P<e;P+=4){i[P+3]=255-i[P+3]}}function q(){var i=Math.random();
if(i>.5)return 0;if(i>.25)return 1;if(i>.1)return 2;if(i>.02143)return 3;if(i>.00445)return 4;if(i>65e-5)return 5;
if(i>415e-6)return 6;if(i>55e-6)return 7;return 8}function C(i,e,S,E,Z,N){i[e]=S[E]+(Z[N]-S[E]>>1);i[e+1]=S[E+1]+(Z[N+1]-S[E+1]>>1);
i[e+2]=S[E+2]+(Z[N+2]-S[E+2]>>1);i[e+3]=S[E+3]+(Z[N+3]-S[E+3]>>1)}function a(i,e,S,E,Z,N){i[e]=Z[N]+S[E]>>1;
i[e+1]=Z[N+1]+S[E+1]>>1;i[e+2]=Z[N+2]+S[E+2]>>1;i[e+3]=Z[N+3]+S[E+3]>>1}function x(i,e,S,E,Z,N,J,y,o){var B=0,t=0,W=0,P,F=Z[N],G;
C(y,0,i,e,i,S);for(P=0;P<F;P++){C(y,(P+1)*4,y,P*4,i,S)}t=(F+1)*4;W+=F;N--;K(i,e,y,t-4);E[N]=u(i,e);e-=o;
while(N>0&&E[N-1]<E[N]){G=y;y=J;J=G;B=t;a(y,0,i,e-o,J,0);for(P=4;P<B;P+=4){a(y,P,y,P-4,J,P)}F=Z[N];for(P=W;
P<F;P++){C(y,t,y,t-4,J,B-4);t+=4;W++}N--;K(i,e,y,t-4);E[N]=u(i,e);e-=o}}function H(i,e,S,E,Z){var N=e*4,J=0,y,o,B=new Uint8Array(e+1),t=new Uint8Array(10*4),W=new Uint8Array(10*4);
for(var P=0;P<S;P++){w(E,i,J);Z[0]=u(E,J);B[0]=q();y=J;J+=4;for(var F=1;F<e;F++){w(E,i,J);Z[F]=u(E,J);
o=q();B[F]=o;if(Z[F-1]<Z[F]&&o>0){x(E,J-4,J,Z,B,F,t,W,4)}J+=4}Z[e]=Z[0];B[e]=B[0];if(Z[e-1]<Z[e]&&o>0){x(E,J,y,Z,B,e,t,W,4)}}D(E)}function $(){var i=Math.random();
if(i>.659755)return 0;if(i>.1625)return 10;if(i>.06)return 20;if(i>.01)return 30;if(i>.0035)return 40;
if(i>65e-5)return 50;if(i>415e-6)return 60;if(i>55e-6)return 70;return 80}function r(i,e,S,E,Z,N){var J=$()+1,y=E[Z];
for(var P=1;P<J;P++){if(0>Z)break;if(E[Z-P]<y){X(i,e,S)}else{break}e+=N}}function c(i,e,S,E,Z){var N=e*4,J=0;
for(var P=0;P<S;P++){w(E,i,J);Z[0]=u(E,J);J+=4;for(var y=1;y<e;y++){w(E,i,J);Z[y]=u(i,J);if(Z[y-1]<Z[y]){r(E,J-4,J,Z,y,-4)}J+=4}Z[e]=Z[0];
if(Z[y-1]<Z[y]){r(E,J-4,J-N,Z,y,-4)}}D(E)}function U(i,e,S,E,Z,N){var J=1,y,o,B=new Uint8Array(4),t,W=e;
while(Math.random()<1/J){W=e;if(E<=1)break;y=S[E];o=S[E-1];if(y<=o)break;K(B,0,i,W-N);t=!0;for(var P=E;
P<Z;P++){if(o>S[P]){K(i,W-N,B,0);S[P-1]=o;t=!1;break}K(i,W-N,i,W);S[P-1]=S[P];W+=N}if(t){K(i,W-N,B,0);
S[Z-1]=o}J++;E--;e-=N}}function O(i,e,S,E,Z){var N=0,J=0,y=e*4;for(var P=0;P<S;P++){J=N;for(var o=0;
o<e;o++){w(E,i,N);Z[o]=g(E,N);N+=4}N=J;for(var o=1;o<e;o++){if(Z[o-1]<Z[o]&&Math.random()<.66){U(E,N+4,Z,o,e,4)}N+=4}N+=4}D(E)}function A(i,e,S,E,Z){var N=Z[0],J=Z[1],y=new Uint16Array(e+1),o=i,B=E,t;
if(J){t=E.slice(0);m(i,E,e,S);o=E;B=t}if(N==0)H(o,e,S,B,y);else if(N==1)c(o,e,S,B,y);else if(N==2)O(o,e,S,B,y);
if(J){m(t,E,e,S)}}function m(i,e,S,E){for(var Z=0;Z<E;Z++)for(var N=0;N<S;N++){var J=Z*S+N<<2,y=Z*S+(S-1-N)<<2;
e[y]=i[J];e[y+1]=i[J+1];e[y+2]=i[J+2];e[y+3]=i[J+3]}}return A}();f.R.aI=function(u,g,K,X,w){var D=f.R.W,q=1,A=0,e=0;
D.Nf(g,K);D.pw(w[2]);var C=3<<13,a=Math.PI/2.43,x=a/256,H=Math.PI*2/256;function $(){var N=D.random()*256,J=D.random()*256;
return q*~~(Math.tan(a-N*x)*325*Math.cos(J*H)*256)+C>>16}q=w[0];var r=w[1],c=(r+2)/2,U=D.random()*255,O=D.hu(1);
for(var P=0;P<K;P++){var m=D.Bk($()+U);for(var i=0;i<g;i++){m=D.Bk($()+m);O[A++]=m}}A=g;for(var P=1;
P<K;P++){var S=D.Bk($()+O[e++]);O[A++]=S;for(var i=1;i<g;i++){var E=e+1;if(i+1==g){E--}var Z=(c+S+O[E]+O[e]*r)/(r+2);
S=D.Bk($()+Z);O[A++]=S;e++}}D.Ff(O,X)};var aZ=function(){function u(V){V=V^61^V>>>16;V=V+(V<<3);V=V^V>>>4;
V=V*668265261;V=V^V>>>15;return V}var g=function(){var g=function(V){if(V){this._x=V}this._x=u(this._x);
return(this._x&16777215)*(1/16777215)};return g};function K(V,z){if(z==null){z=[0,0]}return Math.sqrt((z[0]-V[0])*(z[0]-V[0])+(z[1]-V[1])*(z[1]-V[1]))}function X(V,z){if(z==null){z=[0,0]}return[-(z[1]-V[1])/K(V,z),(z[0]-V[0])/K(V,z)]}function w(V){return[Math.cos(V),Math.sin(V)]}function D(V){var z=K(V,[0,0]),I=[V[0]/z,V[1]/z],v=Math.atan(I[1]/I[0]);
if(I[0]>0&&I[1]<0){v+=2*Math.PI}else if(I[0]<0&&I[1]<0){v+=Math.PI}else if(I[0]<0&&I[1]>0){v+=Math.PI}return v}function q(V){var q=0;
for(var P=1;P<V.length/2;++P){q+=K([V[2*P],V[2*P+1]],[V[2*(P-1)],V[2*(P-1)+1]])}return q}function C(V,z,I){var v=new Float32Array(V.length),gj=1/(V.length/2),jA=E(I);
for(var P=0;P<V.length/2;++P){var Y=P*gj,jv=Y/2+.5,iR=1,cj=0;if(I.shape==2){iR=1/(2*jv)}if(I.shape==3){jv=(1-Y)/2+.5;
iR=1/(2*jv)+.5}if(I.shape==4){jv=Y;iR=Math.sin(3/2*Math.PI*jv)/4+1}if(I.shape==5){jv=(Y-.5)*6;iR=(-Math.atan(jv)/1.25+1)/5+.6-.2*Y}var j8=[null,null];
if(P==0){j8=X([V[2*P],V[2*P+1]],[V[2*(P+1)],V[2*(P+1)+1]])}else if(P==V.length/2-1){j8=X([V[2*(P-1)],V[2*(P-1)+1]],[V[2*P],V[2*P+1]])}else{j8=X([V[2*(P-1)],V[2*(P-1)+1]],[V[2*(P+1)],V[2*(P+1)+1]])}v[2*P]=V[2*P]+(iR*z+cj)*j8[0];
v[2*P+1]=V[2*P+1]+(iR*z+cj)*j8[1];if(I.style==2){v[2*P]+=Z(2*P/v.length,jA,I)}}return v}function a(V,z,I){var v=new Float32Array(V.length),gj=1/(V.length/2);
for(var P=0;P<V.length/2;++P){var jA=P*gj,Y=[null,null],jv=.6*I.VN*y(jA,z.a7O)*I.jk/100,iR=.6*I.VN*y(jA,z.arv)*I.jk/100,cj=z.a1b*jv+(1-z.a1b)*iR;
if(P==0){Y=X([V[2*P],V[2*P+1]],[V[2*(P+1)],V[2*(P+1)+1]])}else if(P==V.length/2-1){Y=X([V[2*(P-1)],V[2*(P-1)+1]],[V[2*P],V[2*P+1]])}else{Y=X([V[2*(P-1)],V[2*(P-1)+1]],[V[2*(P+1)],V[2*(P+1)+1]])}v[2*P]=V[2*P]+cj*Y[0];
v[2*P+1]=V[2*P+1]+cj*Y[1]}return v}function x(V){if(V.lA==1){return[.150684932,.205479452,.465753425,.178082192]}else if(V.lA==2){return[.126829268,.131707317,.156097561,.317073171,.141463415,.126829268]}else{var z=[],I=1/(W(V)-1);
for(var P=0;P<W(V)-1;++P){z.push(I)}return z}}function H(V,z,I){var v=[],gj=z-V,jA=V;for(var P=0;P<I.length-1;
++P){v.push(jA+I[P]*gj);jA=v[P]}return v}function $(V,z,I,v){var gj=new Float32Array(I.length),jA=0,Y={shape:Math.floor(v.random()*2.99),aaq:v.random()*.1+.15};
for(var P=0;P<I.length-1;++P){var jv=jA+I[P];gj[P]=((1-jv)*V+jv*z)*m(v,jv,Y);jA=jv}return gj}function r(V,z,I,v){var gj=B(v),jA=v.random(),Y=jA*20+(1-jA)*26,jv=new Float32Array(I.length),iR=0;
for(var P=0;P<I.length-1;++P){var cj=iR+I[P];jv[P]=(1-cj)*V+cj*z+gj/Y*(2/3*Math.sin(Math.PI*cj)+1/3*Math.sqrt(Math.sin(Math.PI*cj)));
iR=cj}return jv}function c(V,z,I){var v=[];for(var P=0;P<z.length-1;++P){v.push(z[P].slice());var gj=P*(W(I)-1),jA=(P+1)*(W(I)-1),Y=V[jA]-V[gj];
for(var jv=gj+1;jv<jA;++jv){var iR=E(I),cj=new Float32Array(z[0].length),j8=(V[jv]-V[gj])/Y;for(var as=0;
as<z[0].length/2;++as){cj[2*as]=(1-j8)*z[P][2*as]+j8*z[P+1][2*as];cj[2*as+1]=(1-j8)*z[P][2*as+1]+j8*z[P+1][2*as+1];
if(I.style==2){cj[2*as]+=Z(2*as/z[0].length,iR,I)}}v.push(cj)}}v.push(z[z.length-1]);return v}function U(V,z,I){var v=new Array(z.length),gj=p(V),Y=null;
for(var P=0;P<z.length;++P){v[P]=C(gj,(z[P]-.5)*I.jk,I)}var jA=1+.05*I.a7r*B(I)/B({lA:1});for(var P=0;
P<z.length;++P){if(z[P]==0){Y=P}}for(var P=0;P<z.length;++P){var jv=(I.random()-.5)*2,iR=Math.round(I.random()*9+1),cj=new Float32Array(iR*2+2);
for(var j8=0;j8<=iR;++j8){cj[2*j8]=v[P][0]-(v[P][2*j8]-v[P][0]);cj[2*j8+1]=v[P][1]-(v[P][2*j8+1]-v[P][1])}if(P==Y){jv*=.1}for(var j8=(v[P].length-1)/2;
j8>iR;--j8){v[P][2*j8]=(1-jv)*v[P][2*j8]+jv*(v[P][2*(j8-iR)]+jA*(v[P][2*j8]-v[P][2*(j8-iR)]));v[P][2*j8+1]=(1-jv)*v[P][2*j8+1]+jv*(v[P][2*(j8-iR)+1]+jA*(v[P][2*j8+1]-v[P][2*(j8-iR)+1]))}for(var j8=iR-1;
j8>=0;--j8){v[P][2*j8]=(1-jv)*v[P][2*j8]+jv*(cj[2*(iR-j8)]+jA*(v[P][2*j8]-cj[2*(iR-j8)]));v[P][2*j8+1]=(1-jv)*v[P][2*j8+1]+jv*(cj[2*(iR-j8)+1]+jA*(v[P][2*j8+1]-cj[2*(iR-j8)+1]))}}var as=J(z,I);
if(I.VN>0){var gW=0;for(var P=0;P<z.length;++P){if(P==0){gW+=z[P]}else{gW+=Math.abs(z[P]-z[P-1])}var af=gW-Math.floor(gW),at=1;
if(af==0){at=0}v[P]=a(v[P],{a7O:as[Math.floor(gW)],arv:as[Math.floor(gW)+at],a1b:af},I)}}return v}function O(V,z){var I=L(z,V),v=Q(z,V),gj=[],jA=[],Y=[],jv=x(V);
for(var P=0;P<z.length-1;++P){gj.push(z[P]);jA.push(I[P]);Y.push(v[P]);var iR=H(z[P],z[P+1],jv),cj=$(I[P],I[P+1],jv,V),j8=r(v[P],v[P+1],jv,V);
for(var as=0;as<iR.length;++as){gj.push(iR[as]);jA.push(cj[as]);Y.push(j8[as])}}gj.push(z[z.length-1]);
jA.push(I[I.length-1]);Y.push(v[v.length-1]);return{aux:gj,akT:jA,vK:Y}}function A(V,z,I,v){var gj=new Float32Array(2*v),jA=V.length/2,Y=jA-z,jv=I*Y,iR=jv/v;
for(var P=0;P<v;++P){var cj=Math.floor(z+P*iR),j8=Math.ceil(z+P*iR),I=z+P*iR,as=j8-cj,gW=1,af=0;if(as!=0){gW=(j8-I)/as;
af=(I-cj)/as}gj[2*P]=gW*V[2*cj]+af*V[2*j8];gj[2*P+1]=gW*V[2*cj+1]+af*V[2*j8+1]}return gj}function m(V,z,I){var v=I.aaq,gj=z*2*Math.PI,jA=gj,Y=0;
if(I.shape==0){Y=(Math.sin(2*jA+Math.PI/2)+1)/2}else if(I.shape==1){Y=(Math.sin(jA+Math.PI/2)+1)/2}else{Y=(4*Math.sin(3/4*jA+Math.PI)+Math.sin(Math.PI/2+2*jA)-2*jA/Math.PI+6)/7}return Math.min(1,1-v+v*Y)}function i(V,z,I,v){var gj=[];
for(var P=0;P<V.length;++P){gj.push(A(V[P],z[P],I[P],v))}return gj}function e(V,z,I){var v=[];for(var P=0;
P<V.length;++P){var gj=w(2*Math.PI*I.random()),jA=w(2*Math.PI*I.random()),Y=I.TG*.5*F({lA:1})/F(I),jv=Y*I.jk/200,iR=Y*z/500,cj=new Float32Array(V[0].length);
for(var j8=0;j8<V[0].length/2;++j8){var as=w(2*Math.PI*I.random()),gW=2*j8/V[0].length;cj[2*j8]=V[P][2*j8]+jv*(as[0]+((1-gW)*gj[0]+gW*jA[0]));
cj[2*j8+1]=V[P][2*j8+1]+iR*(as[1]+((1-gW)*gj[1]+gW*jA[1]))}v.push(cj)}return v}function S(V,z,I){var v=I.m2,gj=2/v,jA=[1/10,1/30,1/40,1/45,1/100],Y=jA[I.lA-1],jv=4*(I.opacity/25*gj*Y)*(1-I.TG/150),as=0,af=0;
if(I.style==3){return jv*.09}var iR=2.2*(V-.5),cj=iR*iR*iR*iR+.27+Math.max(0,(I.opacity-50)/15),j8=2*(Math.sin(3*Math.PI*z)/(Math.PI*z+2)+1.1)-z/2;
z=2*z;if(z<.41){var gW=2*Math.PI*z/.41;as=(Math.sin(gW-Math.PI/2)+1)/4+.5}else if(z<.77){var gW=2*Math.PI*(z-.41)/.36;
as=(Math.sin(gW-Math.PI/2)+1)/4+.5-gW/2/Math.PI*.5}else{var gW=2*Math.PI*(z-.77)/.23;as=(Math.sin(gW-Math.PI/2)+1)/2*.12}as*=3;
as+=Math.max(0,(I.opacity-50)/15);if(I.type==6){af=j8}else{af=as}return jv*cj*af}function E(V){return{s:V.random()*7/2+.5,G8:V.random()*2*Math.PI}}function Z(V,z,I){return I.jk/300*W({lA:1})/W(I)*10*(Math.sin(z.s*2*Math.PI*V+z.G8)+10*(I.random()-.5))}function N(V){var z=Math.exp(-V.VN/25);
return{s:V.random()*3/2+.5,G8:V.random()*2*Math.PI,JR:(V.random()-.5)*10*z}}function J(V,z){var I=Math.ceil(T(V)),v=[];
for(var P=0;P<=I;++P){v.push(N(z))}return v}function y(V,z){var I=z.s*4*Math.PI*V+z.G8;return Math.exp(-1/2*Math.PI*V)*Math.cos(I)*Math.cos(I)*Math.cos(I)*Math.cos(I)*Math.cos(I)+V*z.JR-z.JR/4}function o(V,z,I,v,gj){var jA=0,Y=F(z)-1;
for(var P=0;P<Y;++P){for(var jv=0;jv<V.length-1;jv+=W(z)-1){for(var iR=P;iR<V[0].length/2-Y;iR+=Y){for(var cj=jv;
cj<jv+(W(z)-1);++cj){I[gj+jA]=S(cj*(z.m2-1)/(V.length-1)%1,iR/V[0].length,z);var j8=0,as=0;if(z.type==6&&cj!=0&&cj!=V.length-1){as=(V[cj][2*(iR+1)+1]-V[cj][2*iR+1])/2;
j8=(V[cj][2*(iR+1)]-V[cj][2*iR])/2}v[8*gj+8*jA]=V[cj][2*iR]+j8;v[8*gj+8*jA+1]=V[cj][2*iR+1]+as;v[8*gj+8*jA+2]=V[cj][2*(iR+Y)]+j8;
v[8*gj+8*jA+3]=V[cj][2*(iR+Y)+1]+as;v[8*gj+8*jA+4]=V[cj+1][2*(iR+Y)];v[8*gj+8*jA+5]=V[cj+1][2*(iR+Y)+1];
v[8*gj+8*jA+6]=V[cj+1][2*iR];v[8*gj+8*jA+7]=V[cj+1][2*iR+1];++jA}}}}}function B(V){var z=[100,300,500,700,1e3];
return z[V.lA-1]}function t(V){var z=[30,70,100,140,300];return z[V.lA-1]}function W(V){var z=[5,7,26,40,100];
return z[V.lA-1]}function F(V){if(V.lA==1){return 4}else if(V.lA==2){return 8}else{return Math.floor(t(V)/9)}}function G(V){var z=V.m2,I=new Float32Array(z),v=null;
for(var P=0;P<z;++P){I[P]=V.random()}if(V.m2<=3){I[0]=0;I[V.m2-1]=1}else{for(var P=0;P<2;++P){var gj=Math.floor(V.random()*z);
if(v==null||v!=gj){I[gj]=P;v=gj}else{I[gj+1]=P}}}return I}function L(V,z){var I=[],v=.2,jA=0;for(var P=0;
P<V.length;++P){var gj=z.random()*(1-v)+v;I.push(gj)}var Y=Math.min(3,z.m2);for(var P=0;P<V.length;++P){if(I[P]>.9){++jA}}while(jA<Y){var jv=Math.floor(z.random()*V.length);
if(I[jv]<=.9){I[jv]=.9+.1*z.random();++jA}}return I}function Q(V,z){var I=B(z),v=B({lA:1}),gj=[];for(var P=0;
P<V.length;++P){gj.push(Math.max(1,(z.random()*10+2)*I/v))}return gj}function T(V){var z=0;for(var P=0;
P<V.length;++P){if(P==0){z+=V[P]}else{z+=Math.abs(V[P]-V[P-1])}}return z}function j(V,z){if(V.length/2-1==B(z)){return V}var I=new Float32Array(2*(B(z)+1)),v=(V.length-2)/(I.length-2);
for(var P=0;P<I.length/2;++P){var gj=P*v,jA=Math.floor(gj),Y=Math.ceil(gj),jv=Y-jA,iR=1,cj=0;if(jv!=0){iR=(Y-gj)/jv;
cj=(gj-jA)/jv}I[2*P]=iR*V[2*jA]+cj*V[2*Y];I[2*P+1]=iR*V[2*jA+1]+cj*V[2*Y+1]}return I}function p(V,z){var I=V.length/2,v=q(V),gj=v/I,jA=!1,iR=0,cj=0,j8=1;
if(z){var Y=Math.floor(v/z.a7u),jv=z.a7u;if(z.aj7&&V[0]==V[V.length-2]&&V[1]==V[V.length-1]){jA=!0;jv=v/(Y+1)}if(z.type==2&&!jA&&jv*Y+z.length>v){I=Y+1}else{I=Y+2}gj=jv}var as=new Float32Array(I*2);
as[0]=V[0];as[1]=V[1];for(var P=1;P<I;++P){while(iR<=P*gj){cj=iR;iR+=K([V[2*j8],V[2*j8+1]],[V[2*(j8-1)],V[2*(j8-1)+1]]);
++j8}var gW=1-(P*gj-cj)/(iR-cj);as[2*P]=(1-gW)*V[2*j8]+gW*V[2*(j8-1)];as[2*P+1]=(1-gW)*V[2*j8+1]+gW*V[2*(j8-1)+1]}as[as.length-2]=V[V.length-2];
as[as.length-1]=V[V.length-1];return as}function M(V,z){var I=p(V,z),v=[];for(var P=0;P<(I.length-2)/2;
++P){var gj=[];gj.push(I[2*P]);gj.push(I[2*P+1]);var jA=K([I[2*(P+1)],I[2*(P+1)+1]],[I[2*P],I[2*P+1]]),Y=[(I[2*(P+1)]-I[2*P])/jA,(I[2*(P+1)+1]-I[2*P+1])/jA],jv=w((z.a08-90)/360*2*Math.PI),iR=Y;
if(z.type==3){iR=jv}else if(z.type==4){iR=w(D(Y)+D(jv))}else if(z.type==5){iR=w(((z.random()-.5)*z.a08-90)/360*2*Math.PI)}var cj=z.length;
if(z.asr){cj=2*z.random()*z.length}gj.push(I[2*P]+iR[0]*cj);gj.push(I[2*P+1]+iR[1]*cj);v.push(gj)}return v}function n(V){if(V.a88){V.m3=100*Math.random()}else{V.m3=V.ahp}V.random=new g;
V.random(V.m3);if(V.type==6){V.m2=2;V.shape=5;V.a7r=0}}function d(V,z){V=j(V,z);var I=[V],cj=0;if(z.type>=2&&z.type<6){I=M(V,z)}var v=F(z)-1,gj=t(z)-v,jA=(z.m2-1)*(W(z)-1),Y=I.length*gj*jA,jv=new Float32Array(Y),iR=new Float32Array(8*Y);
for(var P=0;P<I.length;++P){for(var j8=0;j8<1e4;++j8){z.m3=u(z.m3)}z.random(z.m3);var V=j(I[P],z),as=G(z),gW=T(as),af=U(V,as,z),at=O(z,as),jd=c(at.aux,af,z);
jd=i(jd,at.vK,at.akT,t(z));if(z.TG>0){jd=e(jd,q(I[P]),z)}o(jd,z,jv,iR,cj);cj+=gj*jA}return[jv,iR]}var aZ=function(V){var z=performance.now(),I=V[0],v=V[1];
n(v);var gj=[new Float32Array(0),new Float32Array(0)];for(var P=0;P<I.length;++P){v.m3=u(v.m3);var jA=d(I[P],v),Y=new Float32Array(gj[0].length+jA[0].length),jv=new Float32Array(gj[1].length+jA[1].length);
Y.set(gj[0]);Y.set(jA[0],gj[0].length);gj[0]=Y;jv.set(gj[1]);jv.set(jA[1],gj[1].length);gj[1]=jv}var iR=performance.now();
if(v.aqA){console.f0("Geometry: "+String(iR-z)+"ms")}return gj};return aZ}(),kk=function(){function u(w,D){var q=[],C=0,a=D.length,x=0,H=0,$=new dS,r=0,c=1e9;
for(H=0;H<a;H++){var U=H*8,O=D[H];if(O<c)c=O;var A=w[U+0],m=w[U+1],i=w[U+2],e=w[U+3],S=w[U+4],E=w[U+5],Z=w[U+6],N=w[U+7],J=Math.min(A,i,S,Z),y=Math.max(A,i,S,Z),o=Math.min(m,e,E,N),B=Math.max(m,e,E,N),t=new dS(J,o,y-J,B-o),W=t.RN($),F=r+O;
if(H-x<10&&(H==x||W.$()*.8<t.$()+$.$())){$=W;r=F}else{q.push(H-x);x=H;$=t;r=O;c=O}}if(H!=x)q.push(H-x);
return q}function g(w,D,q,C,a,x){var H=document.createElement("canvas"),m=0,Y=.8;H.width=D;H.height=q;
var $=H.getContext("2d"),r=a[0],c=a[1],U=new Float64Array(D*q),O=Date.now(),A=u(c,r);for(var i=0;i<A.length;
i++){var e=m,S=m+A[i],N=1e9,y=1e9,L=0;m=S;var E=e*8,Z=S*8,J=-N,o=-y;for(var B=E;B<Z;B+=2){var t=c[B],W=c[B+1];
if(t<N)N=t;if(t>J)J=t;if(W<y)y=W;if(W>o)o=W}N=Math.floor(N);J=Math.ceil(J);y=Math.floor(y);o=Math.ceil(o);
var F=J-N,G=o-y;for(var Q=e;Q<S;Q++)L+=r[Q];for(var B=E;B<Z;B+=8){var T=r[B>>>3],j=c[B+0],p=c[B+1],M=c[B+2],n=c[B+3],d=c[B+4],V=c[B+5],z=c[B+6],I=c[B+7];
$.fillStyle="rgba(0,0,0,"+T/L+")";$.beginPath();$.moveTo(j,p);$.lineTo(M,n);$.lineTo(d,V);$.lineTo(z,I);
$.closePath();$.fill()}var v=$.getImageData(N,y,F,G).data;for(var W=0;W<G;W++)for(var t=0;t<F;t++){var P=W*F+t,gj=v[P*4+3],jA=(y+W)*D+N+t;
if(gj!=0)U[jA]+=gj*L}$.clearRect(N,y,F,G)}var jv=x[1].color,iR=Math.pow(jv.w/255,Y),cj=Math.pow(jv.A/255,Y),j8=Math.pow(jv.U/255,Y),as=new dS(0,0,D,q),gW=f.L(D*q*4);
for(var W=0;W<q;W++)for(var t=0;t<D;t++){var P=W*D+t,Q=P*4,r=U[P]*(1/255);gW[Q]=X(iR,r);gW[Q+1]=X(cj,r);
gW[Q+2]=X(j8,r);gW[Q+3]=Math.min(255,r*255)}f.i.L_("norm",gW,as,C,as,as,1)}var K=new Uint8Array(2e3);
for(var P=0;P<2e3;P++)K[P]=255*Math.min(1,Math.log(P/700+1));function X(w,D){return K[Math.min(1500,~~(w*D*1e3))]}return g}(),cz=function(){var u=new Float32Array(3e3),g=new Float32Array(3e3),K=new Float32Array(256),X=new Float32Array(3e3);
function w(){var c=u.length;u[0]=Math.log10(157647e-9);for(var P=1;P<c;++P)u[P]=Math.log10(P/c)}function D(){var c=g.length;
for(var P=0;P<c;++P)g[P]=Math.pow(10,20*(P-c/2)/c)}function q(){var c=K.length;for(var P=0;P<c;++P)K[P]=f.sV(P/255)}function C(){var c=X.length;
for(var P=0;P<c;++P)X[P]=255*f.lG(P/(c-1))}function a(c,U){var O=c.length>>>2;for(var P=0;P<O;++P){var A=K[c[4*P]],m=K[c[4*P+1]],i=K[c[4*P+2]],e=.3811*A+.5783*m+.0402*i,S=.1967*A+.7244*m+.0782*i,E=.0241*A+.1288*m+.8444*i;
e=u[~~(e*u.length)];S=u[~~(S*u.length)];E=u[~~(E*u.length)];U[3*P]=(e+S+E)*.5773502692;U[3*P+1]=(e+S-2*E)*.4082482905;
U[3*P+2]=(e-S)*.7071067812}}function x(c,U){var O=U.length>>>2,A=X.length-1;for(var P=0;P<O;++P){var m=.5773502692*c[3*P],i=.4082482905*c[3*P+1],e=.7071067812*c[3*P+2],S=g[~~((m+i+e+10)*(3e3/20))],E=g[~~((m+i-e+10)*(3e3/20))],Z=g[~~((m-2*i+10)*(3e3/20))],N=4.4679*S-3.5873*E+.1193*Z,J=-1.2186*S+2.3809*E-.1624*Z,y=.0497*S-.2439*E+1.2045*Z;
U[4*P]=X[~~(A*Math.max(0,Math.min(1,N)))];U[4*P+1]=X[~~(A*Math.max(0,Math.min(1,J)))];U[4*P+2]=X[~~(A*Math.max(0,Math.min(1,y)))]}}function H(c){var U=0,O=0,A=0;
for(var P=0;P<c.length;P+=3){U+=c[P];O+=c[P+1];A+=c[P+2]}return[U/(c.length/3),O/(c.length/3),A/(c.length/3)]}function $(c,H){var U=0,O=0,A=0;
for(var P=0;P<c.length;P+=3){var m=c[P]-H[0],i=c[P+1]-H[1],e=c[P+2]-H[2];U+=m*m;O+=i*i;A+=e*e}return[Math.sqrt(U/(c.length/3)),Math.sqrt(O/(c.length/3)),Math.sqrt(A/(c.length/3))]}function r(c,U,O,A,m,i){w();
D();q();C();var e=0,p,M;if(i[0]>100)e=-(i[0]-100)/100*.13;else if(i[0]>=75)e=(100-i[0])/25*.04;else if(i[0]>=50)e=.04+(75-i[0])/25*.04;
else if(i[0]>=25)e=.08+(50-i[0])/25*.08;else e=.16+(25-i[0])/25*.24;var S=(i[1]-100+100)/100,E=i[2]/100,Z=i[3],N=new Float32Array(c.length*3/4),J=new Float32Array(A.length*3/4),y=Date.now();
a(c,N);a(A,J);var o=Date.now(),B=H(N),t=H(J),W=Date.now(),F=$(N,B),G=$(J,t),L=Date.now();t[0]*=Math.pow(10,e);
var Q=[G[0]/F[0],G[1]/F[1],G[2]/F[2]],T=N.length,j=1/-1.1546978950500488;for(var P=0;P<T;P+=3){if(Z){var n=Math.max(0,Math.min(1,N[P]*j));
n=1-Math.sqrt(n);p=n*t[1];M=n*t[2]}else{p=t[1];M=t[2]}N[P]=(N[P]-B[0])*Q[0]+t[0];N[P+1]=(N[P+1]-B[1])*Q[1]*S+p;
N[P+2]=(N[P+2]-B[2])*Q[2]*S+M}var d=Date.now();x(N,m);var V=m.length>>>2;for(var P=0;P<V;++P){m[4*P]=(1-E)*m[4*P]+E*c[4*P];
m[4*P+1]=(1-E)*m[4*P+1]+E*c[4*P+1];m[4*P+2]=(1-E)*m[4*P+2]+E*c[4*P+2];m[4*P+3]=255}}return r}(),fD=function(){function u(g,K,X,w,D){var q=[-1,-1,-1,-1],C=255,a=160,x,H=!1,$=new Array(4);
$[0]=new Array(K);$[1]=new Array(X);$[2]=new Array(K);$[3]=new Array(X);var r=new Array(2);r[0]=new Array(X);
r[1]=new Array(X);function c(G,L,Q,T,j){this.start=T;this.axis=j;this.dir=G;this.end=-1;this.source=L;
this.$=Q}function U(G,L,Q,T,j){if(Q%2==0){if(!$[Q][G])$[Q][G]=new Array;$[Q][G].push(new c(Q,T,j,L,G))}else{if(!$[Q][L])$[Q][L]=new Array;
$[Q][L].push(new c(Q,T,j,G,L))}var p=Date.now()}function O(P){var G=!1,L=0;if(g[4*P+3]<C)return G;var Q=P%K,T=Math.floor(P/K);
A(Q,T);if(P+K<K*X&&g[4*(P+K)+3]<C&&g[4*(P-K)+3]>=C&&g[4*(P-2*K)+3]>=C){var j=2;if(g[4*(P+K)+3]<=a)L=-1;
if(g[4*(P+2*K-1)+3]<C&&g[4*(P+2*K+1)+3]<C)G=!0;else if(g[4*(P+2*K-1)+3]>=C&&g[4*(P+1)+3]>=C)G=!0;else if(g[4*(P+2*K+1)+3]>=C&&g[4*(P-1)+3]>=C)G=!0;
U(Q,T,j,L,G)}else if(P-K>=0&&g[4*(P-K)+3]<C&&g[4*(P+K)+3]>=C&&g[4*(P+2*K)+3]>=C){var j=0;if(g[4*(P-K)+3]<=a)L=-1;
if(g[4*(P-2*K-1)+3]<C&&g[4*(P-2*K+1)+3]<C)G=!0;else if(g[4*(P-2*K-1)+3]>=C&&g[4*(P+1)+3]>=C)G=!0;else if(g[4*(P-2*K+1)+3]>=C&&g[4*(P-1)+3]>=C)G=!0;
U(Q,T,j,L,G)}L=0;if(P+1<K*X&&g[4*(P+1)+3]<C&&g[4*(P-1)+3]>=C&&g[4*(P-2)+3]>=C){var j=3;if(g[4*(P+1)+3]<=a)L=-1;
if(!G&&g[4*(P+K+2)+3]<C&&g[4*(P-K+2)+3]<C){G=!0;U(Q,T,j,L,!0)}else U(Q,T,j,L,!1)}else if(P>=1&&g[4*(P-1)+3]<C&&g[4*(P+1)+3]>=C&&g[4*(P+2)+3]>=C){var j=1;
if(g[4*(P-1)+3]<=a)L=-1;if(!G&&g[4*(P+K-2)+3]<C&&g[4*(P-K-2)+3]<C){G=!0;U(Q,T,j,L,!0)}else U(Q,T,j,L,!1)}return G}function A(P,G){if(q[0]==-1){q[0]=P;
q[1]=G;q[2]=1;q[3]=1}if(P<q[0]){q[2]+=q[0]-P;q[0]=P}if(P>q[0]+q[2])q[2]=P-q[0];if(G<q[1]){q[3]+=q[1]-G;
q[1]=G}if(G>q[1]+q[3])q[3]=G-q[1]}function m(G,P,L,Q){if(!L.$)return;var T=(G+2)%4,j=L.start,p=q[1];
if(G==2)p+=q[3];else if(G==1)p=q[0];else if(G==3)p=q[0]+q[2];var M=L.source;if($[T][P])for(var n=0;n<$[T][P].length;
++n){if(G>1){var d=j+Math.floor(($[T][P][n].start-j)/2);if($[T][P][n].start>j&&d<p)p=d}else{var d=j-Math.floor((j-$[T][P][n].start)/2);
if($[T][P][n].start<j&&d>p)p=d}}for(var V=1;V<Math.abs(p-j);++V){var n=j+V;if(G==1||G==0)n=j-V;for(var z=0;
z<2;++z){var I=2*z,v=!1;if(G%2==0)I+=1;if($[I][n]){for(var gj=0;gj<$[I][n].length;++gj){if($[I][n][gj].$){var jA=$[I][n][gj].start,Y=P-jA,jv=n-j;
if(I==0||I==1)Y=-Y;if(Y<=0)continue;if(G==0||G==1)jv=-jv;if(jv>Y){p=n;v=!0;break}}}if(v)break}}}L.end=p;
S(G,P,j,p,M)}function i(G){for(var P=0;P<$[G].length;++P){if($[G][P])for(var L=0;L<$[G][P].length;++L){m(G,P,$[G][P][L])}}}function e(){var G=[2,0,3,1];
for(var P=0;P<G.length;++P)i(G[P])}function S(G,P,L,Q,T){if(G==2)for(var j=L;j<=Q;++j){if(!E(j*K+P,(L+T)*K+P))return!1}else if(G==0)for(var j=L;
j>=Q;--j){if(!E(j*K+P,(L-T)*K+P))return!1}else if(G==1)for(var j=L;j>=Q;--j){if(!E(P*K+j,P*K+L-T))return!1}else if(G==3)for(var j=L;
j<=Q;++j){if(!E(P*K+j,P*K+L+T))return!1}}function E(G,L){if(!x[G]){w[4*G]=w[4*L];w[4*G+1]=w[4*L+1];w[4*G+2]=w[4*L+2];
if(H)w[4*G+3]=255;x[G]=!0;return!0}return!1}function Z(){for(var P=0;P<4;P+=1){for(var G=0;G<$[P].length;
++G){if($[P][G])for(var L=0;L<$[P][G].length;++L){var Q=$[P][G][L];for(var T=1;T<3;T+=2){var j=(P+T)%4;
if($[j][Q.start])for(var p=0;p<$[j][Q.start].length;++p){if($[j][Q.start][p].start==Q.axis){var eJ=K*Q.start+Q.axis;
if(P%2==1){eJ=Q.start+K*Q.axis;N($[j][Q.start][p])}else N(Q)}}}}}}}function N(G){if(G.dir%2==0){var eJ=K*G.start+G.axis,L=G.start,Q=1;
if(!x[eJ+1])Q=3;else if(x[eJ-1])return;var T=w[4*eJ],j=w[4*eJ+1],p=w[4*eJ+2];while(w[4*eJ]==T&&w[4*eJ+1]==j&&w[4*eJ+2]==p){if(Q==1){if(!r[0][L])r[0][L]=new Array;
r[0][L].push(new c(Q,0,!1,G.axis,L))}else{if(!r[1][L])r[1][L]=new Array;r[1][L].push(new c(Q,0,!1,G.axis,L))}if(G.dir==2){eJ+=K;
L++}else{eJ-=K;L--}}}}function J(){for(var G=0;G<2;++G){var L=(G+1)%2;for(var P=0;P<r[G].length;++P){if(r[G][P])for(var Q=0;
Q<r[G][P].length;++Q){var T=q[0];if(G==1)T+=q[2];var j=r[G][P][Q].start;if(r[L][P])for(var p=0;p<r[L][P].length;
++p){var M=r[L][P][p].C9;if(G==0){if(M>T&&M<j){T=j-Math.floor((j-M)/2)}}else{if(M<T&&M>j){T=j+Math.ceil((M-j)/2)}}}if(G==0)S(r[G][P][Q].dir,P,j-1,T,-1);
else S(r[G][P][Q].dir,P,j+1,T,-1)}}}for(var P=0;P<x.length;++P){if(!x[P]&&P%K>=q[0]&&P%K<=q[0]+q[2]&&Math.floor(P/K)>=q[1]&&Math.floor(P/K)<=q[1]+q[3]){var j=K;
if(P<j||!x[P-j])j=1;w[4*P]=w[4*(P-j)];w[4*P+1]=w[4*(P-j)+1];w[4*P+2]=w[4*(P-j)+2];x[P]=!0;if(H)w[4*P+3]=255}}}function y(){x=new Array(g.length/4);
for(var P=0;P<w.length/4;++P){x[P]=!1;w[4*P]=g[4*P];w[4*P+1]=g[4*P+1];w[4*P+2]=g[4*P+2];w[4*P+3]=g[4*P+3];
if(w[4*P+3]==255)x[P]=!0;if(O(P))x[P]=!1}if(q[0]>0){q[0]--;q[2]++}if(q[1]>0){q[1]--;q[3]++}if(q[0]+q[2]<K){q[2]++}if(q[1]+q[3]<X){q[3]++}}var o=Date.now();
y();var B=Date.now();e();var t=Date.now();Z();var W=Date.now();J();var F=Date.now();console.log("Init: "+String(B-o));
console.log("Filling: "+String(t-B));console.log("Check areas: "+String(W-t));console.log("Fill areas: "+String(F-W))}return u}();
f.Lt={cS:function(u,g){var P=u.length;u.push(g);var K=P>>>1;while(K!=0&&u[P][0]<u[K][0]){var X=u[P];
u[P]=u[K];u[K]=X;P=K;K=P>>>1}},e6:function(u){if(u.length==2)return u.pop();var top=u[1],P=1;u[1]=u.pop();
var g=u.length;while(!0){var K=P<<1,X=K+1,w=P;if(K<g&&u[K][0]<u[w][0])w=K;if(X<g&&u[X][0]<u[w][0])w=X;
if(w==P)break;var D=u[P];u[P]=u[w];u[w]=D;P=w}return top},anD:function(u){for(var P=1;P<u.length;P++){var g=P,K=1e9;
while(g!=0){var X=u[g][0];if(X>K){console.log(P);throw"e"}K=X;g=g>>>1}}}};f.i={};f.i.gS=new Float64Array(256);
f.i.TV=new Uint8Array(256*256);f.i.YA=new Uint8Array(256*256);(function(){for(var P=0;P<256;P++)f.i.gS[P]=255/P;
for(var P=0;P<256;P++)for(var u=0;u<256;u++)f.i.TV[P*256+u]=P==0?0:Math.round(u*255/P);for(var P=0;P<256;
P++)for(var u=0;u<256;u++)f.i.YA[P*256+u]=Math.round(P*(255-u)/255)}());f.i.L_=function(u,g,K,X,w,D,q,C){if(C==null)C=bW.Gv();
if("idiv,lbrn,div ,lddg,vLit,lLit,hMix,diff".split(",").indexOf(u)==-1){q=q*C.fill;C.fill=1;C.style=!1}var a="norm,dark,mul ,idiv,lbrn,lite,scrn,div ,lddg,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv".split(","),x="dkCl,lgCl,hue ,sat ,colr,lum ".split(","),H=f.i[u+"F"];
if(C.bx==null&&u=="norm")f.i.adt(g,K,X,w,D,q,H,C.Ak?1:0);else if(u=="diss")f.i.adZ(g,K,X,w,D,q,H,C.Ak?1:0);
else if(a.indexOf(u)!=-1)f.i.aty(g,K,X,w,D,q,H,C);else if(x.indexOf(u)!=-1)f.i.a8X(g,K,X,w,D,q,H,C)};
f.i.a3e=function(u,g,K){var X=u*K+1-K;return X<.001?0:1-Math.min(1,(1-g)/X)};f.i.afO=function(u,g,K){return u*K==1?1:Math.min(1,g/(1-u*K))};
f.i.iO=function(u){return u<=.25?((16*u-12)*u+4)*u:Math.sqrt(u)};f.i.normF=function(u,g,K){return u};
f.i.darkF=function(u,g,K){return Math.min(u,g)};f.i["mul F"]=function(u,g,K){return u*g};f.i.idivF=function(u,g,K){var X=u*K+1-K;
return g==1?1:1-g>=X?0:1-(1-g)/X};f.i.lbrnF=function(u,g,K){return Math.max(0,u*K+g-K)};f.i.dkClF=function(u,g,K){var X=f.qC(u)<f.qC(g)?u:g;
K.w=X.w;K.A=X.A;K.U=X.U;return K};f.i.liteF=function(u,g,K){return Math.max(u,g)};f.i.scrnF=function(u,g,K){return g+u-g*u};
f.i["div F"]=function(u,g,K){u*=K;return g==0?0:g>=1-u?1:g/(1-u)};f.i.lddgF=function(u,g,K){u*=K;return Math.min(1,u+g)};
f.i.lgClF=function(u,g,K){var X=f.qC(u)>f.qC(g)?u:g;K.w=X.w;K.A=X.A;K.U=X.U;return K};f.i.overF=function(u,g,K){return f.i.hLitF(g,u,K)};
f.i.sLitF=function(u,g,K){return u<=.5?g-(1-2*u)*g*(1-g):g+(2*u-1)*(f.i.iO(g)-g)};f.i.hLitF=function(u,g,K){return u<=.5?f.i["mul F"](2*u,g,K):f.i.scrnF(2*u-1,g,K)};
f.i.vLitF=function(u,g,K){return u<=.5?f.i.a3e(2*u,g,K):f.i.afO(2*u-1,g,K)};f.i.lLitF=function(u,g,K){return u<=.5?f.i.lbrnF(2*u,g,K):f.i.lddgF(2*u-1,g,K)};
f.i.pLitF=function(u,g,K){return u<=.5?f.i.darkF(2*u,g,K):f.i.liteF(2*u-1,g,K)};f.i.hMixF=function(u,g,K){if(K>.99)return u+g<1?0:1;
return Math.min(1,Math.max(0,(g+u*K-K)/(1-K+1e-6)))};f.i.diffF=function(u,g,K){u*=K;return Math.abs(u-g)};
f.i.smudF=function(u,g,K){return u+g-2*u*g};f.i.fsubF=function(u,g,K){return Math.max(g-u,0)};f.i.fdivF=function(u,g,K){return Math.min(g/u,1)};
f.i["hue F"]=function(u,g,K){f.i.hw(u,f.k7(g),K);f.i.vd(K,f.qC(g),K)};f.i["sat F"]=function(u,g,K){f.i.hw(g,f.k7(u),K);
f.i.vd(K,f.qC(g),K)};f.i.colrF=function(u,g,K){f.i.vd(u,f.qC(g),K)};f.i["lum F"]=function(u,g,K){f.i.vd(g,f.qC(u),K)};
f.i.vd=function(u,g,K){var X=g-f.qC(u);K.w=u.w+X;K.A=u.A+X;K.U=u.U+X;f.i.agf(K)};f.i.agf=function(u){var g=u.w,K=u.A,X=u.U,w=f.Yi(g,K,X),eJ=Math.min(g,K,X),D=Math.max(g,K,X);
if(eJ<0){var q=w/(w-eJ);g=w+(g-w)*q;K=w+(K-w)*q;X=w+(X-w)*q}if(D>1){var q=(1-w)/(D-w);g=w+(g-w)*q;K=w+(K-w)*q;
X=w+(X-w)*q}u.w=g;u.A=K;u.U=X};f.i.hw=function(u,g,K){var X=f.i.a9C,w=u.w,D=u.A,q=u.U;if(w==D&&D==q){K.w=K.A=K.U=0}else if(w>D){if(w>q){if(D>q){K.w=g;
K.A=X(w,D,q,g);K.U=0}else{K.w=g;K.U=X(w,q,D,g);K.A=0}}else{K.U=g;K.w=X(q,w,D,g);K.A=0}}else{if(w<q){if(D>q){K.A=g;
K.U=X(D,q,w,g);K.w=0}else{K.U=g;K.A=X(q,D,w,g);K.w=0}}else{K.A=g;K.w=X(D,w,q,g);K.U=0}}};f.i.a9C=function(u,g,K,X){return(g-K)*X/(u-K)};
f.i.adt=function(u,g,K,X,w,D,q,C){var a=g.I3(X).I3(w),x=Math.max(0,a.x-g.x),H=Math.max(0,a.x-X.x),$=Math.max(0,a.y-g.y),r=Math.max(0,a.y-X.y),c=a.m,U=a.n,O=g.m,A=X.m,m=f.i.TV,i=f.i.YA,e=new Uint32Array(u.buffer),S=new Uint32Array(K.buffer);
for(var P=0;P<U;P++){var E=($+P)*O+x,Z=(r+P)*A+H;for(var N=0;N<c;N++){var J=e[E+N],Q=1;if(J>>>24==0)continue;
if(J>>>24==255&&D==1&&C==0){S[Z+N]=e[E+N];continue}var y=S[Z+N],o=J&255,B=J>>>8&255,t=J>>>16&255,W=y&255,F=y>>>8&255,G=y>>>16&255,L=D,T=(y>>>24)*(1/255);
if(C==0){L=(J>>>24)*D*(1/255);Q=T}var j=Q*(1-L),p=L+j,M=1/p;S[Z+N]=~~(.5+(C*T+(1-C)*p)*255)<<24|~~(.5+(t*L+G*j)*M)<<16|~~(.5+(B*L+F*j)*M)<<8|~~(.5+(o*L+W*j)*M)}}};
f.i.afy=function(u,g,K,X,w,D){var q=g.I3(X).I3(w),C=Math.max(0,q.x-g.x),a=Math.max(0,q.x-X.x),x=Math.max(0,q.y-g.y),H=Math.max(0,q.y-X.y),$=q.m,r=q.n,c=g.m,U=X.m,O=f.i.TV,A=f.i.YA,m=new Uint32Array(u.buffer),i=new Uint32Array(K.buffer),e=Math.floor(Math.random()*16777215),S=0;
for(var P=0;P<r;P++){var E=(x+P)*c+C,Z=(H+P)*U+a;for(var N=0;N<$;N++){var J=m[E+N];if(J>>>24==0)continue;
if(J>>24==255&&D==1){i[Z+N]=J;continue}var y=i[Z+N],o=(J>>>24)*D*(1/255),B=(y>>>24)*(1/255),t=B*(1-o),W=o+t,F=J&255,G=J>>>8&255,L=J>>>16&255,Q=y&255,T=y>>>8&255,j=y>>>16&255;
S>>>=8;if((N&3)==0)S=f.i.SP(Z+N+e);var p=W==0?0:1/W,M=Math.floor(W*(256*255))+(S&255)>>>8,n=Math.floor((L*o+j*t)*p+.5),d=Math.floor((G*o+T*t)*p+.5),V=Math.floor((F*o+Q*t)*p+.5);
i[Z+N]=M<<24|n<<16|d<<8|V}}};f.i.Qh=function(u,g,K,X,w,D,q,C){var a=f.Yi(u,g,K),x=f.Yi(X,w,D),H=Math.min,$=f.i.abK,r=$(a,C,0);
r=H(r,$(u,C,8));r=H(r,$(g,C,16));r=H(r,$(K,C,24));var c=$(x,C,4);c=H(c,$(X,C,12));c=H(c,$(w,C,20));c=H(c,$(D,C,28));
c=Math.max(c,1-q);var U=Math.min(r,c);return U<0?0:U>1?1:U};f.i.abK=function(u,g,P){return Math.min((u-g[P])*g[P+1],(u-g[P+3])*g[P+2])};
f.i.aty=function(u,g,K,X,w,D,q,C){var a=1/255,x=a*D,H=C.Ak?1:0,$=C.fill,r=C.style,c=g.I3(X).I3(w),U=Math.max(0,c.x-g.x),O=Math.max(0,c.x-X.x),A=Math.max(0,c.y-g.y),m=Math.max(0,c.y-X.y),i=c.m,e=c.n,S=g.m,E=X.m,Z=new Uint32Array(u.buffer),N=new Uint32Array(K.buffer);
for(var P=0;P<e;P++){var J=(A+P)*S+U,y=(m+P)*E+O;for(var o=0;o<i;o++,J++,y++){var B=Z[J],p=1;if(B>>>24==0)continue;
var t=N[y],W=(B&255)*a,F=(B>>>8&255)*a,G=(B>>>16&255)*a,L=(t&255)*a,Q=(t>>>8&255)*a,T=(t>>>16&255)*a,j=D;
if(H==0){j=(B>>>24)*x;p=(t>>>24)*a}if(C.bx)j*=f.i.Qh(W,F,G,L,Q,T,p,C.bx);var M=p*(1-j),n=j+M,d=n==0?0:255/n,V=r?1:j,z=((1-p)*j*W+(1-V)*p*L+V*p*q(W,L,(1+j-V)*$))*d,I=((1-p)*j*F+(1-V)*p*Q+V*p*q(F,Q,(1+j-V)*$))*d,v=((1-p)*j*G+(1-V)*p*T+V*p*q(G,T,(1+j-V)*$))*d;
n=j*$+p*(1-j*$);var gj=~~(n*255+.5);N[y]=H*(t>>>24)+(1-H)*gj<<24|v<<16|I<<8|z}}};f.i.a8X=function(u,g,K,X,w,D,q,C){var a=1/255,x=a*D,H=C.Ak?1:0,$=g.I3(X).I3(w),r=Math.max(0,$.x-g.x),c=Math.max(0,$.x-X.x),U=Math.max(0,$.y-g.y),O=Math.max(0,$.y-X.y),A=$.m,m=$.n,i=new Uint32Array(u.buffer),e=new Uint32Array(K.buffer),S={w:0,A:0,U:0},E={w:0,A:0,U:0},Z={w:0,A:0,U:0};
for(var P=0;P<m;P++){var N=(U+P)*g.m+r,J=(O+P)*X.m+c;for(var y=0;y<A;y++,N++,J++){var o=i[N],B=e[J],t=(o&255)*a,W=(o>>>8&255)*a,F=(o>>>16&255)*a,G=(B&255)*a,L=(B>>>8&255)*a,Q=(B>>>16&255)*a,T=D,j=1;
if(H==0){T=(o>>>24)*x;j=(B>>>24)*a}if(C.bx)T*=f.i.Qh(t,W,F,G,L,Q,j,C.bx);var p=j*(1-T),M=T+p,n=255/M;
S.w=t;S.A=W;S.U=F;E.w=G;E.A=L;E.U=Q;q(S,E,Z);var d=(((1-j)*t+j*Z.w)*T+G*p)*n,V=(((1-j)*W+j*Z.A)*T+L*p)*n,z=(((1-j)*F+j*Z.U)*T+Q*p)*n,I=H*(B>>>24)+(1-H)*Math.round(M*255);
e[J]=I<<24|z<<16|V<<8|d}}};f.i.wq=function(u){u=u^61^u>>>16;u=u+(u<<3);u=u^u>>>4;u=u*668265261;u=u^u>>15;
return(u&16777215)*(1/16777215)};f.i.SP=function(u){u=u^61^u>>>16;u=u+(u<<3);u=u^u>>>4;u=u*668265261;
u=u^u>>>15;return u};f.i.TP=function(u){this.pw=u};f.i.TP.prototype.get=function(){var u=this.pw=f.i.SP(this.pw);
return(u&16777215)*(1/16777215)};f.i.adZ=function(u,g,K,X,w,D,q,C){var a=1/255,x=a*D,H=Math.round(D*(256*256*256/255)),$=g.I3(X).I3(w),r=Math.max(0,$.x-g.x),c=Math.max(0,$.x-X.x),U=Math.max(0,$.y-g.y),O=Math.max(0,$.y-X.y),A=$.m,m=$.n,i=new Uint32Array(u.buffer),e=new Uint32Array(K.buffer);
for(var P=0;P<m;P++){var S=(U+P)*g.m+r,E=(O+P)*X.m+c;for(var Z=0;Z<A;Z++,S++,E++){var N=i[S],J=e[E],y=C*255+(1-C)*(N>>>24);
if((f.i.SP(S)&16777215)>=y*H)continue;e[E]=N&16777215|C*(J>>>24)+(1-C)*255<<24}}};f.i.adS=function(u,g,K){for(var P=0;
P<u.length;P+=4){var X=K[P>>>2];if(X==0)continue;var w=X*(1/255),D=1/w,q=g[P],C=g[P+1],a=g[P+2],x=u[P],H=u[P+1],$=u[P+2];
g[P]=Math.min(255,Math.max(0,Math.round((q-(1-w)*x)*D)));g[P+1]=Math.min(255,Math.max(0,Math.round((C-(1-w)*H)*D)));
g[P+2]=Math.min(255,Math.max(0,Math.round((a-(1-w)*$)*D)));g[P+3]=255}};f.i.$c=function(u,g,K,X,w,D,q,C,a,x,H){if(x==null)x=!1;
if(H==null)H=[1,1,1];var $=255<<24|H[2]*16711680|H[1]*65280|H[0]*255,r=~$;if(w&&!g.$z(D)){var c=f.L(g.$()*4);
c.fill(q);f.x5(w,D,c,g);w=c;D=g}if(x){if(w==null)f.i.a4f(u,g,K,X,w,C,a,$,r);else f.i.aed(u,g,K,X,w,C,a)}else{if(w==null)f.i.ag6(u,g,K,X,w,C,a,$,r);
else f.i.ae6(u,g,K,X,w,C,a)}};f.i.ag6=function(u,g,K,X,w,D,q,C,a){var x=1/255,H=g.I3(X).I3(D),$=Math.max(0,H.x-g.x),r=Math.max(0,H.x-X.x),c=Math.max(0,H.y-g.y),U=Math.max(0,H.y-X.y),O=H.m,A=H.n,m=new Uint32Array(u.buffer),i=new Uint32Array(K.buffer),e=f.i.TV,S=q*255&255;
for(var P=0;P<A;P++){var E=(c+P)*g.m+$,Z=(U+P)*X.m+r;for(var N=0;N<O;N++,E++,Z++){var J=m[E],y=i[Z],o=J>>>24,B=y>>>24,t=f.s5(S*o+(255-S)*B),W=f.s5(o*S),F=f.s5(B*(255-S)),G=J&255,L=J>>>8&255,Q=J>>>16&255,T=y&255,j=y>>>8&255,p=y>>>16&255,M=W*G+T*F,n=W*L+j*F,d=W*Q+p*F;
M=e[t<<8|f.s5(M)];n=e[t<<8|f.s5(n)];d=e[t<<8|f.s5(d)];var V=t<<24|d<<16|n<<8|M;i[Z]=a&y|C&V}}};f.i.a4f=function(u,g,K,X,w,D,q,C,a){var x=1/255,H=g.I3(X).I3(D),$=Math.max(0,H.x-g.x),r=Math.max(0,H.x-X.x),c=Math.max(0,H.y-g.y),U=Math.max(0,H.y-X.y),O=H.m,A=H.n,m=new Uint32Array(u.buffer),i=new Uint32Array(K.buffer),e=f.i.TV,S=q*16777215&16777215;
for(var P=0;P<A;P++){var E=(c+P)*g.m+$,Z=(U+P)*X.m+r;for(var N=0;N<O;N++,E++,Z++){if((f.i.SP(E)&16777215)<S){i[Z]=a&i[Z]|C&m[E]}}}};
f.i.ae6=function(u,g,K,X,w,D,q){var C=1/255,a=g.I3(X).I3(D),x=Math.max(0,a.x-g.x),H=Math.max(0,a.x-X.x),$=Math.max(0,a.y-g.y),r=Math.max(0,a.y-X.y),c=a.m,U=a.n,O=new Uint32Array(u.buffer),A=new Uint32Array(K.buffer),m=f.i.TV;
for(var P=0;P<U;P++){var i=($+P)*g.m+x,e=(r+P)*X.m+H;for(var S=0;S<c;S++,i++,e++){var E=w[i]*q&255;if(E==0)continue;
if(E==255){A[e]=O[i];continue}var Z=O[i],N=A[e],J=Z>>>24,y=N>>>24,o=f.s5(E*J+(255-E)*y),B=f.s5(J*E),t=f.s5(y*(255-E)),W=Z&255,F=Z>>>8&255,G=Z>>>16&255,L=N&255,Q=N>>>8&255,T=N>>>16&255,j=m[o<<8|f.s5(B*W+L*t)],p=m[o<<8|f.s5(B*F+Q*t)],M=m[o<<8|f.s5(B*G+T*t)];
A[e]=o<<24|M<<16|p<<8|j}}};f.i.aed=function(u,g,K,X,w,D,q){var C=1/255,a=g.I3(X).I3(D),x=Math.max(0,a.x-g.x),H=Math.max(0,a.x-X.x),$=Math.max(0,a.y-g.y),r=Math.max(0,a.y-X.y),c=a.m,U=a.n,O=new Uint32Array(u.buffer),A=new Uint32Array(K.buffer),m=f.i.TV,i=Math.round(q*257);
for(var P=0;P<U;P++){var e=($+P)*g.m+x,S=(r+P)*X.m+H;for(var E=0;E<c;E++,e++,S++){var Z=w[e]*i;if((f.i.SP(e)&65535)<Z)A[S]=O[e]}}};
f.i.g2=function(u,g,K,X,w,D,q){var C=1/255,a=g.I3(X).I3(D),x=Math.max(0,a.x-g.x),H=Math.max(0,a.x-X.x),$=Math.max(0,a.y-g.y),r=Math.max(0,a.y-X.y),c=a.m,U=a.n,O=new Uint32Array(u.buffer),A=new Uint32Array(K.buffer),m=Math.floor(Math.random()*X.$()),i=f.i.afH;
for(var P=0;P<U;P++){var e=($+P)*g.m+x,S=(r+P)*X.m+H;for(var E=0;E<c;E++){var Z=w[e+E]*q;if(Z==0)continue;
if(Z==255){A[S+E]=O[e+E];continue}var N=O[e+E],J=A[S+E],y=N>>>24,o=J>>>24,B=y*Z*(1/255),t=o*(255-Z)*(1/255),W=N&255,F=N>>>8&255,G=N>>>16&255,L=J&255,Q=J>>>8&255,T=J>>>16&255,j=f.i.SP(S+E+m),p=Math.floor((B+t)*256+.5)+(j>>>0&255)>>>8,M=p==0?0:256/(B+t),n=W*B+L*t,d=F*B+Q*t,V=G*B+T*t,z=Math.floor(n*M+.5)+(j>>>8&255)>>>8,I=Math.floor(d*M+.5)+(j>>>16&255)>>>8,v=Math.floor(V*M+.5)+(j>>>24&255)>>>8;
A[S+E]=p<<24|v<<16|I<<8|z}}};f.i.afH=function(u){return Math.floor(u+Math.random())};f.i.XE=function(u,g,K,X,w,D,q){var C=1/255,a=g.I3(X).I3(D),x=Math.max(0,a.x-g.x),H=Math.max(0,a.x-X.x),$=Math.max(0,a.y-g.y),r=Math.max(0,a.y-X.y),c=a.m,U=a.n;
for(var P=0;P<U;P++){var O=($+P)*g.m+x,A=(r+P)*X.m+H;for(var m=0;m<c;m++,O++,A++){var i=q*w[O]*C;if(i==0)continue;
if(i==1){K[A]=u[O];continue}K[A]=u[O]*i+K[A]*(1-i)}}};f.a0e=function(){function u(D){var q=D*.85;return Math.exp(-(q*q)*(1/(2*.4*.4)))*(1/(.4*Math.sqrt(2*Math.PI)))}function g(D,q){var C=D<q?1:u((D-q)/Math.pow(1.001-q,.86));
return C}var K=[];function X(D){if(K[D])return K[D];var q=Math.pow(D,.55),C=new Float64Array(8e3),a=0,x=8e3;
for(var P=0;P<8e3;P++){var H=g(P*(1.55/4e3),q);if(H>=1)a=P;else if(H<=0&&x==8e3)x=P;C[P]=H}var $=[C,a,x];
K[D]=$;return $}function w(D,q,C){var a=1+.55*(1-q),x=Math.round(C*D*a)+2,H=new dS(0,0,x,x),$=f.L(x*x*4),r=new Uint32Array($.buffer),c=[$,H],U=x/2,O=a/(U-1),A=Date.now(),m=X(q),i=Math.round(8e3/U),e=m[0],S=m[1]-i,E=m[2]+i,Z=Math.min(x,x+1>>>1),N=O*.4*(4e3/1.55),J=f.L(8e3);
for(var P=0;P<8e3;P++){var y=P,o=P,B=~~Math.max(0,y-N-N),t=~~Math.max(0,y-N),W=~~(y+N),F=~~(y+N+N),G=~~(.5+255*(1/5)*(e[o]+e[B]+e[t]+e[W]+e[F]));
J[P]=G;if(G==0)break}for(var P=0;P<Z;P++){var L=O*(P-U+.5),Q=L*L,T=P*x,j=(x-1-P)*x;for(var p=0;p<Z;p++){var M=O*(p-U+.5),o=~~(Math.sqrt(M*M+Q)*(4e3/1.55));
if(E<o)continue;else if(o<S){var G=4278190080;while(p<Z){var n=x-1-p;r[T+p]=G;r[T+n]=G;r[j+p]=G;r[j+n]=G;
p++}break}else{var G=J[o]<<24,n=x-1-p;r[T+p]=G;r[T+n]=G;r[j+p]=G;r[j+n]=G}}}return c}return{aaQ:w}}();
f.fa={};f.fa.aoz=function(u,g,K,X,w,D){f.fa.tR(u,g,K,X,w,D,null,0)};f.fa.afz=function(u,g,K,X,w){f.fa.tR(u,g,K,X,w,null,null,0)};
f.fa.a1G=function(u,g,K,X,w,D,q){f.fa.tR(u,g,K,X,w,null,D,q*.5)};f.fa.tR=function(u,g,K,X,w,D,q,C){var a=0,t=0,W=1e9,F=0,G=1e9,L=0,Q=1e9,T=0,j=0,p=0,M=0;
if(D){a=w*.5;w=3+Math.round((w-3)*.75)}if(q){w=Math.round(w*2.2)}var x=1/w,H=Math.floor(g*x)+1,$=Math.floor(K*x)+1,r=[],c=new Uint8Array(H*$*4),U=q?.5:1,O=D?64:0;
for(var A=0;A<$;A++){var m=q?.5*(A&1):0;for(var i=0;i<H;i++){var e=(i+Math.random()*U+m)*w,S=(A+Math.random()*U)*w;
r.push(e,S);var E=Math.min(g-1,Math.floor(e)),Z=Math.min(K-1,Math.floor(S)),N=(Z*g+E)*4,J=(A*H+i)*4;
for(var P=0;P<4;P++)c[J+P]=Math.max(0,Math.min(255,Math.floor(u[N+P]+(Math.random()-.5)*O)))}}var y=D?D:q?q:[0,0,0],o=H*$*2,B=[-H-1,-H,-H+1,-1,0,1,H-1,H,H+1];
for(var A=0;A<K;A++){p=0;for(var i=0;i<g;i++){var n=i+.5,d=A+.5,V=Math.floor(d*x),z=Math.floor(n*x),I=V*H+z,jA=0,Y=0;
if(p>1+C){W=f.fa.Nx(r,t,n,d);T=Math.sqrt(W);p--;M++}else{W=G=Q=1e9;for(var P=0;P<B.length;P++){var v=(I+B[P])*2;
if(v<0||v>=o)continue;var gj=f.fa.Nx(r,v,n,d);if(gj<Q){if(gj<G){if(gj<W){L=F;Q=G;F=t;G=W;t=v;W=gj}else{L=F;
Q=G;F=v;G=gj}}else{L=v;Q=gj}}}T=Math.sqrt(W);j=Math.sqrt(G);p=j-(T+j)*.5}if(q==null){var jv=(T+j)*.5,iR=D?Math.max(0,jv-a):0;
jA=Math.max(0,Math.min(1,.5+jv-T-iR));Y=Math.max(0,Math.min(1,1-(.5+jv-T)-iR))}else{var cj=Math.min(f.fa.Vz(r,t,F,n,d),f.fa.Vz(r,t,L,n,d));
jA=Math.max(0,Math.min(1,cj-C*.5));if(n<C||g-C<n||d<C||K-C<d)jA=0;Y=0}var j8=1-Y-jA,J=A*g+i<<2,as=t<<1,gW=F<<1;
X[J+0]=Math.floor(.5+jA*c[as+0]+Y*c[gW+0]+j8*y[0]);X[J+1]=Math.floor(.5+jA*c[as+1]+Y*c[gW+1]+j8*y[1]);
X[J+2]=Math.floor(.5+jA*c[as+2]+Y*c[gW+2]+j8*y[2]);X[J+3]=u[J+3]}}};f.fa.Nx=function(u,g,K,X){var w=K-u[g],D=X-u[g+1];
return w*w+D*D};f.fa.Vz=function(u,g,K,X,w){var D=u[g],q=u[g+1],C=u[K],a=u[K+1],x=(D+C)*.5,H=(q+a)*.5,$=x+(a-q),r=H-(C-D),c=r-H,U=$-x;
return Math.abs(c*X-U*w+$*H-r*x)/Math.sqrt(U*U+c*c)};f.zg={};f.zg.be=function(u){if(f.zg.qO.length<u)f.zg.qO=f.L(u);
return f.zg.qO};f.zg.qO=f.L(0);f.zg.jC=function(u){if(f.zg.ZJ.length<u)f.zg.ZJ=new Float32Array(u);return f.zg.ZJ};
f.zg.ZJ=new Float32Array(0);f.zg.td=function(u,g,K,X){var w=K.m,D=K.n;f.zg.a6T(u,g,w,D,X)};f.zg.ni=function(u,g,K,X){var w=K.m,D=K.n;
f.zg.a8F(u,g,w,D,X)};f.zg.SX=function(u,g,K){var X=g.m,w=g.n;f.zg.atl(u,X,w,K)};f.zg.JE=function(u,g,K,X,w){var D=K.m,q=K.n;
f.zg.atx(u,g,D,q,X,w)};f.zg.zR=function(u,g,K,X){var w=K.m,D=K.n;X=Math.round(X);var q=f.zg.be(w*D);
f.me(u,g);f.zg.i8(g,q,w,D,X)};f.zg.tx=function(u,g,K){var X=g.m,w=g.n;K=Math.round(K);var D=f.zg.be(X*w*4);
f.zg.Nl(u,D,X,w,K)};f.zg.w9=function(u,g,K,X){var w=K.m,D=K.n;X=Math.round(X);var q=f.zg.jC(w*D);f.me(u,g);
f.zg.Eo(g,q,w,D,X)};f.zg.ca=function(u,g,K){var X=g.m,w=g.n;K=Math.round(K);var D=f.zg.be(X*w*4);f.zg.a$(u,D,X,w,K);
f.me(D,u)};f.zg.mT=function(u,eJ){var g=Math.sqrt(12*u*u/eJ+1),K=Math.floor(g);if(K%2==0)K--;var X=K+2,w=(12*u*u-eJ*K*K-4*eJ*K-3*eJ)/(-4*K-4),D=Math.round(w),q=[];
for(var P=0;P<eJ;P++)q.push(P<D?K:X);return q};f.zg.a6T=function(u,g,K,X,w){var D=f.zg.mT(w,3),q=f.zg.be(K*X);
f.me(u,g);f.zg.i8(g,q,K,X,D[0]-1>>1);f.zg.i8(g,q,K,X,D[1]-1>>1);f.zg.i8(g,q,K,X,D[2]-1>>1)};f.zg.a8F=function(u,g,K,X,w){var D=f.zg.mT(w,2),q=f.zg.be(K*X);
f.me(u,g);f.zg.i8(g,q,K,X,D[0]-1>>1);f.zg.i8(g,q,K,X,D[1]-1>>1)};f.zg.atl=function(u,g,K,X){var w=f.zg.mT(X,3),D=f.zg.be(g*K*4);
f.zg.Nl(u,D,g,K,w[0]-1>>1);f.zg.Nl(u,D,g,K,w[1]-1>>1);f.zg.Nl(u,D,g,K,w[2]-1>>1)};f.zg.atx=function(u,g,K,X,w,D){if(D==null)D=3;
var q=f.zg.mT(w,D),C=f.zg.jC(K*X);f.me(u,g);for(var P=0;P<D;P++)f.zg.Eo(g,C,K,X,(q[P]-1)/2)};f.zg.i8=function(u,g,K,X,w){f.zg.aa3(u,g,K,X,w);
f.zg.a87(g,u,K,X,w)};f.zg.Nl=function(u,g,K,X,w){f.zg.a$(u,g,K,X,w);f.zg.a9B(g,u,K,X,w)};f.zg.Eo=function(u,g,K,X,w){f.zg.afQ(u,g,K,X,w);
f.zg.avG(g,u,K,X,w)};f.zg.ax=[];f.zg.NL=function(u){if(f.zg.ax[u])return f.zg.ax[u];var g=1/(u+u+1),K=(u+u+1)*256,X=f.L(K);
for(var P=0;P<K;P++)X[P]=Math.round(P*g);f.zg.ax[u]=X;return X};f.zg.aa3=function(u,g,K,X,w){var D=1/(w+w+1),q=K-w-w-1,C=f.zg.NL(w);
for(var P=0;P<X;P++){var a=P*K,x=a,H=a+w,$=u[a],r=u[a+K-1],c=(w+1)*$;for(var U=0;U<w;U++)c+=u[a+U];for(var U=0;
U<=w;U++){c+=u[H+U]-$;g[a+U]=C[c]}H+=w+1;a+=w+1;for(var U=0;U<q;U++){c+=u[H+U]-u[x+U];g[a+U]=C[c]}H+=q;
x+=q;a+=q;for(var U=K-w;U<K;U++){c+=r-u[x++];g[a++]=C[c]}}};f.zg.a$=function(u,g,K,X,w){var D=K<<2,q=w<<2,C=1/(w+w+1),a=K-w-w-1,x=a<<2,H=f.zg.NL(w);
for(var P=0;P<X;P++){var $=P*D,r=$,c=$+q,U=$+D,O=u[$],A=u[$+1],m=u[$+2],i=u[$+3],e=(w+1)*O,S=(w+1)*A,E=(w+1)*m,Z=(w+1)*i;
for(var N=0;N<q;N+=4){e+=u[$+N];S+=u[$+N+1];E+=u[$+N+2];Z+=u[$+N+3]}for(var N=0;N<=q;N+=4){e+=u[c]-O;
g[$]=H[e];S+=u[c+1]-A;g[$+1]=H[S];E+=u[c+2]-m;g[$+2]=H[E];Z+=u[c+3]-i;g[$+3]=H[Z];c+=4;$+=4}for(var N=0;
N<x;N+=4){e+=u[c+N]-u[r+N];g[$+N]=H[e];S+=u[c+N+1]-u[r+N+1];g[$+N+1]=H[S];E+=u[c+N+2]-u[r+N+2];g[$+N+2]=H[E];
Z+=u[c+N+3]-u[r+N+3];g[$+N+3]=H[Z]}c+=x;r+=x;$+=x;O=u[U-4];A=u[U-3];m=u[U-2];i=u[U-1];for(var N=K-w;
N<K;N++){e+=O-u[r];g[$]=H[e];S+=A-u[r+1];g[$+1]=H[S];E+=m-u[r+2];g[$+2]=H[E];Z+=i-u[r+3];g[$+3]=H[Z];
r+=4;$+=4}}};f.zg.afQ=function(u,g,K,X,w){var D=1/(w+w+1),q=K-w-w-1;for(var P=0;P<X;P++){var C=P*K,a=C,x=C+w,H=u[C],$=u[C+K-1],r=(w+1)*H;
for(var c=0;c<w;c++)r+=u[C+c];for(var c=0;c<=w;c++){r+=u[x+c]-H;g[C+c]=r*D}x+=w+1;C+=w+1;for(var c=0;
c<q;c++){r+=u[x+c]-u[a+c];g[C+c]=r*D}x+=q;a+=q;C+=q;for(var c=K-w;c<K;c++){r+=$-u[a++];g[C++]=r*D}}};
f.zg.a87=function(u,g,K,X,w){var D=1/(w+w+1),q=X-w-w-1,C=f.zg.NL(w);for(var P=0;P<K;P++){var a=P,x=a,H=a+w*K,$=u[a],r=u[a+K*(X-1)],c=(w+1)*$;
for(var U=0;U<w;U++)c+=u[a+U*K];for(var U=0;U<=w;U++){c+=u[H]-$;g[a]=C[c];H+=K;a+=K}for(var U=0;U<q;
U++){var O=U*K;c+=u[H+O]-u[x+O];g[a+O]=C[c]}x+=q*K;H+=q*K;a+=q*K;for(var U=X-w;U<X;U++){c+=r-u[x];g[a]=C[c];
x+=K;a+=K}}};f.zg.a9B=function(u,g,K,X,w){var D=K<<2,q=w<<2,C=1/(w+w+1),a=X-w-w-1,x=a<<2,H=f.zg.NL(w);
for(var P=0;P<K;P++){var $=P<<2,r=$,c=$+w*D,U=$+D*(X-1),O=u[$],A=u[$+1],m=u[$+2],i=u[$+3],e=(w+1)*O,S=(w+1)*A,E=(w+1)*m,Z=(w+1)*i;
for(var N=0;N<w;N++){var J=$+N*D;e+=u[J];S+=u[J+1];E+=u[J+2];Z+=u[J+3]}for(var N=0;N<=w;N++){e+=u[c]-O;
g[$]=H[e];S+=u[c+1]-A;g[$+1]=H[S];E+=u[c+2]-m;g[$+2]=H[E];Z+=u[c+3]-i;g[$+3]=H[Z];c+=D;$+=D}for(var N=0;
N<a;N++){var y=N*D;e+=u[c+y]-u[r+y];g[$+y]=H[e];S+=u[c+y+1]-u[r+y+1];g[$+y+1]=H[S];E+=u[c+y+2]-u[r+y+2];
g[$+y+2]=H[E];Z+=u[c+y+3]-u[r+y+3];g[$+y+3]=H[Z]}r+=a*D;c+=a*D;$+=a*D;O=u[U];A=u[U+1];m=u[U+2];i=u[U+3];
for(var N=X-w;N<X;N++){e+=O-u[r];g[$]=H[e];S+=A-u[r+1];g[$+1]=H[S];E+=m-u[r+2];g[$+2]=H[E];Z+=i-u[r+3];
g[$+3]=H[Z];r+=D;$+=D}}};f.zg.avG=function(u,g,K,X,w){var D=1/(w+w+1),q=X-w-w-1;for(var P=0;P<K;P++){var C=P,a=C,x=C+w*K,H=u[C],$=u[C+K*(X-1)],r=(w+1)*H;
for(var c=0;c<w;c++)r+=u[C+c*K];for(var c=0;c<=w;c++){r+=u[x]-H;g[C]=r*D;x+=K;C+=K}for(var c=0;c<q;c++){var U=c*K;
r+=u[x+U]-u[a+U];g[C+U]=r*D}a+=q*K;x+=q*K;C+=q*K;for(var c=X-w;c<X;c++){r+=$-u[a];g[C]=r*D;a+=K;C+=K}}};
f.uc={};f.uc.L=function(u,g,K,X){var w=[];for(var D=0;D<4;D++)for(var q=0;q<4;q++)w.push(u+K*q/3,g+X*D/3);
return w};f.uc.i$=function(u,g){var K=u.slice(0);for(var P=0;P<4;P++)for(var X=0;X<4;X++){var w=2*(P*4+X),D=2*(X*4+(3-P));
if(g){var q=w;w=D;D=q}K[D]=u[w];K[D+1]=u[w+1]}return K};f.uc.Ht=f.L(0);f.uc.drawImage=function(u,g,K,X,w,D,q){var C=!1,a=Date.now(),x=2,H=K+2*x,$=X+2*x,r=new dS(x,x,K,X),c=r.clone(),i=50;
c.wu(x,x);var U=f.uc.Ht;if(U.length!=c.$()*4)U=f.uc.Ht=f.L(c.$()*4);else U.fill(0);f.bV(g,r,U,c);if(C)console.log(Date.now()-a,"copy rect");
a=Date.now();f.xa(U);if(C)console.log(Date.now()-a,"multiply alpha");a=Date.now();var O=[],A=[],m=[];
for(var e=0;e<i+1;e++)for(var S=0;S<i+1;S++){var E=S/i,Z=e/i;O.push(H*E,$*Z);if(S<i&&e<i){var N=e*(i+1)+S,J=N+1,y=N+i+1,o=y+1;
A.push(N,J,y);A.push(y,J,o)}var B=f.uc.a3C(u,E,Z);m.push(-B)}var t=O.slice(0);f.uc.D(u,t,new dS(x,x,K,X));
f.p.D(t,new eV(1,0,0,1,-D.x,-D.y),t);if(C)console.log(Date.now()-a,"mesh built");a=Date.now();var W=D.m,F=D.n;
f.qZ.tr(U,H,$,w,W,F,O,t,m,A);if(C)console.log(Date.now()-a,"rendered");a=Date.now();f.X$(w);if(C)console.log(Date.now()-a,"divided");
a=Date.now()};f.uc.tg=new Array(10);f.uc.amv=function(u,g){var K=200,X=0,w=0,D=1e9,q=f.uc.tg;for(var C=0;
C<K+1;C++)for(var a=0;a<K+1;a++){var x=a/K,H=C/K;f.uc.Di(u,x,H,q);var $=q[8]-g.x,r=q[9]-g.y,c=$*$+r*r;
if(c<D){D=c;X=x;w=H}}return[X,w]};f.uc.D=function(u,g,K){var X=K.x,w=K.y,D=1/K.m,q=1/K.n,C=f.uc.tg;for(var a=0;
a<g.length;a+=2){var x=(g[a]-X)*D,H=(g[a+1]-w)*q;f.uc.Di(u,x,H,C);g[a]=C[8];g[a+1]=C[9]}};f.uc.a3C=function(u,g,K){var X,w,D,q,C=f.uc.tg;
f.uc.a8Q(u,g,K,C);X=C[8];w=C[9];f.uc.atJ(u,g,K,C);D=C[8];q=C[9];return X*q-w*D};f.uc.Di=function(u,g,K,X){f.uc.GK(X,0,K);
f.uc.GK(X,4,g);f.uc.ty(u,X)};f.uc.a8Q=function(u,g,K,X){f.uc.GK(X,0,K);f.uc.fz(X,4,g);f.uc.ty(u,X)};
f.uc.atJ=function(u,g,K,X){f.uc.fz(X,0,K);f.uc.GK(X,4,g);f.uc.ty(u,X)};f.uc.fz=function(u,P,g){var K=1-g;
u[P]=-3*(K*K);u[P+1]=3*(K*K)-6*(g*K);u[P+2]=6*(g*K)-3*(g*g);u[P+3]=3*(g*g)};f.uc.GK=function(u,P,g){var K=1-g;
u[P]=K*(K*K);u[P+1]=3*g*(K*K);u[P+2]=3*(g*g)*K;u[P+3]=g*g*g};f.uc.ty=function(u,g){var K=0,X=0,w=0,D=g[0],q=g[1],C=g[2],a=g[3],x=g[4],H=g[5],$=g[6],r=g[7];
w=D*x;K+=u[0]*w;X+=u[1]*w;w=D*H;K+=u[2]*w;X+=u[3]*w;w=D*$;K+=u[4]*w;X+=u[5]*w;w=D*r;K+=u[6]*w;X+=u[7]*w;
w=q*x;K+=u[8]*w;X+=u[9]*w;w=q*H;K+=u[10]*w;X+=u[11]*w;w=q*$;K+=u[12]*w;X+=u[13]*w;w=q*r;K+=u[14]*w;X+=u[15]*w;
w=C*x;K+=u[16]*w;X+=u[17]*w;w=C*H;K+=u[18]*w;X+=u[19]*w;w=C*$;K+=u[20]*w;X+=u[21]*w;w=C*r;K+=u[22]*w;
X+=u[23]*w;w=a*x;K+=u[24]*w;X+=u[25]*w;w=a*H;K+=u[26]*w;X+=u[27]*w;w=a*$;K+=u[28]*w;X+=u[29]*w;w=a*r;
K+=u[30]*w;X+=u[31]*w;g[8]=K;g[9]=X};f.wD={};f.wD.aon=function(u,g,K){var X=Date.now(),w=new ArrayBuffer(g*K*16),D=f.wD.aiy(u,g,K,w),q=f.wD.ahj(g,K,w);
return{ny:q,I4:D}};f.wD.ag4=function(u,g,K){var X=Math.round(u.length/8),w=new Uint32Array(X),D=new Uint8Array(X),q=new Uint32Array(X);
f.D4(w,4294967295,0);w[K]=0;var C=new j_(X);C.push(K,w[K]);var a={ny:u,I4:g,ir:w,Ww:D,P_:q,CU:C,afC:K};
return a};f.wD.tZ=function(u,g){var K=u.ny,X=u.I4,w=u.ir,D=u.Ww,q=u.P_,C=u.CU;while(!C.fg()&&(g==null||D[g]==0)){var a=C.pop();
D[a]=1;for(var P=0;P<8;P++){var x=K[8*a+P],H=a+x;if(x==0||D[H])continue;var $=w[a]+X[8*a+P];if(C.contains(H)&&$<w[H])C.remove(H,w[H]);
if(!C.contains(H)){w[H]=$;q[H]=a;C.push(H,w[H])}}}};function j_(u){this.Y6=new Uint32Array(u);this.list=[];
this.qb=0;this.l8=4294967295}j_.prototype.fg=function(){return this.qb==0};j_.prototype.push=function(u,g){var K=this.list;
if(K[g]==null)K[g]=[];K[g].push(u);this.qb++;this.Y6[u]=K[g].length-1+1;this.l8=Math.min(this.l8,g)};
j_.prototype.pop=function(){this.qb--;var u=this.list,g=this.l8,K=u[g].pop();if(u[g].length==0)u[g]=null;
this.G_();this.Y6[K]=0;return K};j_.prototype.contains=function(u){return this.Y6[u]!=0};j_.prototype.remove=function(u,g){this.qb--;
var K=this.list,P=this.Y6[u]-1;if(P==K[g].length-1)K[g].pop();else{var X=K[g].pop();K[g][P]=X;this.Y6[X]=P+1}if(K[g].length==0)K[g]=null;
this.Y6[u]=0;this.G_()};j_.prototype.G_=function(){if(this.qb==0){this.l8=4294967295;return}var u=this.l8,g=this.list;
while(g[u]==null)u++;this.l8=u};f.wD.abh=function(u,g,K,X){var w=new Int16Array(X);for(var D=0;D<K;D++)for(var q=0;
q<g;q++){var P=D*g+q,C=0;if(1<q&&q<g-2&&1<D&&D<K-2){C+=u[P-g-g];C+=u[P-g-1]+2*u[P-g]+u[P-g+1];C+=u[P-2]+2*u[P-1]-16*u[P]+2*u[P+1]+u[P+2];
C+=u[P+g-1]+2*u[P+g]+u[P+g+1];C+=u[P+g+g]}else C=-16*u[P];w[P]=C}return w};f.wD.acR=function(u,g,K,X){if(X==null)X=128;
var w=new Uint8Array(g*K);for(var D=1;D<K-1;D++)for(var q=1;q<g-1;q++){var P=D*g+q;w[P]=f.wD.apB(u[P],u[P-1],u[P+1],u[P-g],u[P+g],X)}return w};
f.wD.apB=function(u,g,K,X,w,D){var q=Math.abs(u);return u*g<0&&q<Math.abs(g)&&Math.abs(g-u)>D||u*K<0&&q<Math.abs(K)&&Math.abs(K-u)>D||u*X<0&&q<Math.abs(X)&&Math.abs(X-u)>D||u*w<0&&q<Math.abs(w)&&Math.abs(w-u)>D?1:0};
f.wD.ajK=function(u,g,K,X){var w=new Float32Array(X),D=0;new Uint32Array(X).fill(0);for(var q=0;q<K;
q++)for(var C=0;C<g;C++){var a=0,x=0,P=q*g+C,H=P*3;if(0<C&&C<g-1)a=u[P+1]-u[P-1];if(0<q&&q<K-1)x=u[P+g]-u[P-g];
var $=w[H+2]=Math.sqrt(a*a+x*x);if($!=0){var r=1/$;w[H]=a*r;w[H+1]=x*r}if($>D)D=$}var c=g*K,U=D==0?0:1/D;
for(var P=0;P<c;P++)w[P*3+2]=1-w[P*3+2]*U;return w};f.wD.aaA=function(u,g,K){return K[~~((.5+.5*u)*255)]+K[~~((.5+.5*g)*255)]};
f.wD.aiy=function(u,g,K,X){var w=Date.now(),D=f.wD.abh(u,g,K,X),q=f.wD.acR(D,g,K),C=f.wD.ajK(u,g,K,X),a=new Float32Array(256);
for(var P=0;P<256;P++)a[P]=Math.acos(-1+2*P/255)*(.95/Math.PI);var x=[-1,0,1,1,1,0,-1,-1],H=[-1,-1,-1,0,1,1,1,0];
for(var P=0;P<8;P++){var $=1/Math.sqrt(x[P]*x[P]+H[P]*H[P]);x[P]*=$;H[P]*=$}var r=[x[0],H[0],x[1],H[1],x[2],H[2],x[3],H[3]],c=[-g-1,-g,-g+1,1],U=new Uint8Array(g*K*8);
new Uint32Array(U.buffer).fill(4294967295);var O=g*K;for(var A=1;A<K-1;A++)for(var m=1;m<g-1;m++){var i=A*g+m,e=1-q[i],S=C[i*3+2],E=C[3*i+1],Z=-C[3*i];
for(var N=0;N<4;N++){var J=i+c[N];f.wD.ajP(i,J,N,U,q,C,e,S,E,Z,r,a)}}return U};f.wD.ajP=function(u,g,K,X,w,D,q,C,a,x,H,$){var r=1-w[g],c=(K&1)==0?1:Math.SQRT1_2,U=D[g*3+2]*c,O=D[3*g+1],A=-D[3*g],m=C*c,i=H[K+K],e=H[K+K+1],S=a*i+x*e,E=O*i+A*e;
if(S+E<0){S=-S;E=-E}var Z=f.wD.aaA(S,E,$);X[(u<<3)+K]=f.wD.aW(r,Z,U);X[(g<<3)+K+4]=f.wD.aW(q,Z,m)};f.wD.aW=function(u,g,K){return 1+~~(.5+20*(.43*u+.43*g+.14*K))};
f.wD.ahj=function(u,g,K){var X=new Int16Array(K),w=X,P=0,D=0;new Uint32Array(K).fill(0);for(var q=0;
q<g;q++)for(var C=0;C<u;C++){if(q>0&&C>0)w[D+0]=-u-1;if(q>0)w[D+1]=-u;if(q>0&&C<u-1)w[D+2]=-u+1;if(C<u-1)w[D+3]=1;
if(q<g-1&&C<u-1)w[D+4]=u+1;if(q<g-1)w[D+5]=u;if(q<g-1&&C>0)w[D+6]=u-1;if(C>0)w[D+7]=-1;P++;D+=8}return X};
f.Xg={};f.Xg.eW=function(u){var g=u.slice(0),K=0;for(var P=0;P<u.length;P++)K+=u[P];for(var P=0;P<u.length;
P++)g[P]/=K;return g};f.Xg.Ve=[f.Xg.eW([1,2,1,2,16,2,1,2,1]),f.Xg.eW([1,2,1,2,4,2,1,2,1]),f.Xg.eW([0,-1,0,-1,8,-1,0,-1,0]),f.Xg.eW([-.7,-1,-.7,-1,10,-1,-.7,-1,-.7]),[-1,0,1,-2,0,2,-1,0,1],[1,2,1,0,0,0,-1,-2,-1]];
f.Xg.L4=function(u,g,K,X,w,D,q,C){if(q==null)q=!1;if(C==null)C=!1;var a=Math.floor(Math.sqrt(w.length)),x=a-1>>>1,H=new Uint32Array(u.buffer),g=new Uint8ClampedArray(g.buffer);
for(var P=0;P<X;P++)for(var $=0;$<K;$++){var r=0,c=0,U=0,O=0;for(var A=0;A<a;A++)for(var m=0;m<a;m++){var i=w[A*a+m];
if(i==0)continue;var e=$-x+m,S=P-x+A;if(e<0)e=0;else if(e>K-1)e=K-1;if(S<0)S=0;else if(S>X-1)S=X-1;if(C&&H[S*K+e]>>>24==0){S=P;
e=$}var E=H[S*K+e];r+=(E&255)*i;c+=(E>>>8&255)*i;U+=(E>>>16&255)*i;O+=(E>>>24&255)*i}if(q){if(r<0)r=-r;
if(c<0)c=-c;if(U<0)U=-U;if(O<0)O=-O}if(C){r=Math.max(0,Math.min(255,r));c=Math.max(0,Math.min(255,c));
U=Math.max(0,Math.min(255,U));O=Math.max(0,Math.min(255,O))}var Z=P*K+$<<2;g[Z]=~~(.5+r);g[Z+1]=~~(.5+c);
g[Z+2]=~~(.5+U);g[Z+3]=255-D&g[Z+3]|D&~~(.5+O)}};f.Xg.Kb=function(u,g,K,X){var w=u.length,D=new Uint8Array(w);
f.Xg.L4(u,g,K,X,f.Xg.Ve[4],0,!0);f.Xg.L4(u,D,K,X,f.Xg.Ve[5],0,!0);for(var P=0;P<w;P+=4){var q=g[P],C=g[P+1],a=g[P+2],x=g[P+3],H=D[P],$=D[P+1],r=D[P+2],c=D[P+3];
g[P]=255-Math.max(0,Math.min(255,Math.sqrt(q*q+H*H)));g[P+1]=255-Math.max(0,Math.min(255,Math.sqrt(C*C+$*$)));
g[P+2]=255-Math.max(0,Math.min(255,Math.sqrt(a*a+r*r)))}};f.Xg.sc=function(u,g,K,X){var w=u.length,D=new Uint8Array(w);
f.Xg.BV(u,g,K,X,f.Xg.Ve[4],!0);f.Xg.BV(u,D,K,X,f.Xg.Ve[5],!0);for(var P=0;P<w;P++){var q=g[P],C=D[P];
g[P]=255-Math.max(0,Math.min(255,Math.sqrt(q*q+C*C)))}};f.Xg.BV=function(u,g,K,X,w,D){g=new Uint8ClampedArray(g.buffer);
var q=[-K-1,-K,-K+1,-1,0,1,K-1,K,K+1],C=X-1,a=K-1;for(var P=1;P<C;P++)for(var x=1;x<a;x++){var H=P*K+x,$=f.Xg.eq(u,H,K,w);
if(D){if($<0)$=-$}g[H]=~~($+.5)}};f.Xg.eq=function(u,g,K,X){return u[g-K-1]*X[0]+u[g-K]*X[1]+u[g-K+1]*X[2]+u[g-1]*X[3]+u[g]*X[4]+u[g+1]*X[5]+u[g+K-1]*X[6]+u[g+K]*X[7]+u[g+K+1]*X[8]};
f.Xg.S0=function(u,g,K,X,w){var D=[-K-1,-K,-K+1,-1,0,1,K-1,K,K+1],q=X-1,C=K-1;for(var P=1;P<q;P++)for(var a=1;
a<C;a++){var x=P*K+a;g[x]=f.Xg.afl(u,x,K,w)}};f.Xg.afl=function(u,g,K,X){return u[g-K-1]*X[0]+u[g-K]*X[1]+u[g-K+1]*X[2]+u[g-1]*X[3]+u[g]*X[4]+u[g+1]*X[5]+u[g+K-1]*X[6]+u[g+K]*X[7]+u[g+K+1]*X[8]};
f.yv={};f.yv.Sl=function(){function u(q,C,a,x,H,$,r){if(H==0){C.set(q);return}var c=f.L(a*x),U=f.L(a*x);
if(f.b6(q)){g(q,C,a,x,H,$,r);var O=[f.yv.Pg,f.yv.Gq],A=O.indexOf($),m=A!=-1?O[1-A]:$;f.hk(q,c,3);f.yv.y6(c,U,a,x,H,m,r);
f.K1(U,C,3)}else{for(var P=0;P<3;P++){f.hk(q,c,P);f.yv.y6(c,U,a,x,H,$,r);f.K1(U,C,P)}}}function g(q,C,a,x,H,$,r){var c=0,U=new ArrayBuffer(512*4*3),O=[new Int32Array(U,0),new Int32Array(U,2048),new Int32Array(U,2*2048)],A=1+2*Math.round(Math.sqrt(H)),m=A>>>1,i=new Array(A),e=new Array(A);
for(var P=0;P<A;P++){var U=new ArrayBuffer(512*4*3);i[P]=[new Int32Array(U,0),new Int32Array(U,2048),new Int32Array(U,2*2048)];
e[P]=i[P][0]}var S=$[0],E=$[1],Z=O[0];for(var N=0;N<a;N++)if(N<H||N>a-H-A-1){Z.fill(0);var J=Math.max(N-H,0),y=Math.min(a,N+H+1),o=y-J;
for(var B=0;B<H;B++)X(Z,q,B*a+J,B*a+y,1);for(var B=0;B<x;B++){var t=B-H-1,W=B+H;if(W<x)X(Z,q,W*a+J,W*a+y,1);
if(t>=0)X(Z,q,t*a+J,t*a+y,-1);var F=B*a+N<<2;c=Z[300];if(c!=0)for(var P=0;P<3;P++)C[F+P]=S(O[P],q[F+P],c,r)}}else{for(var P=0;
P<A;P++)e[P].fill(0);var J=N-H+m,y=N+H+1+m;for(var B=0;B<H;B++)K(e,q,B*a+J,B*a+y,1,m);for(var B=0;B<x;
B++){var t=B-H-1,W=B+H;if(t>=0)K(e,q,t*a+J,t*a+y,-1,m);if(W<x)K(e,q,W*a+J,W*a+y,1,m);var G=i[m];c=G[0][300];
for(var P=0;P<m;P++){var L=m-1-P,Q=m+1+P,T=i[L],j=i[Q],p=c+T[0][300],M=c+j[0][300],n=B*a+N+L<<2,d=B*a+N+Q<<2;
if(p!=0)for(var V=0;V<3;V++)C[n+V]=E(G[V],T[V],q[n+V],p,r);if(M!=0)for(var V=0;V<3;V++)C[d+V]=E(G[V],j[V],q[d+V],M,r)}var F=B*a+N+m<<2;
if(c!=0)for(var V=0;V<3;V++)C[F+V]=S(G[V],q[F+V],c,r)}N+=A-1}}function K(q,C,a,x,H,$){var r=w,c=a<<2,U=x<<2;
r(q[$-1],C,a-1<<2,H);r(q[$-1],C,x-1<<2,-H);r(q[$+1],C,x<<2,H);r(q[$+1],C,a<<2,-H);for(var P=1;P<$;P++){var O=q[$-P-1],A=q[$+P+1];
for(var m=0;m<=P;m++){var i=m<<2;r(O,C,a-1-m<<2,H);r(O,C,x-1-m<<2,-H);r(A,C,x+m<<2,H);r(A,C,a+m<<2,-H)}}X(q[$],C,a,x,H)}function X(q,C,P,a,x){var H=P<<2,$=a<<2;
while(H<$){w(q,C,H,x);H+=4}}function w(q,C,a,x){var H=x*C[a+3];q[300]+=H;D(q,C[a],0,H);D(q,C[a+1],512,H);
D(q,C[a+2],1024,H)}function D(q,C,a,x){q[a|C]+=x;q[a|256|C>>>4]+=x}return u}();f.yv.y6=function(){function u($,r,c,U,O,A,m){if(O==0){r.set($);
return}if(O<=80)g($,r,c,U,O,A,m);else D($,r,c,U,O,A,m)}function g($,r,c,U,O,A,m){var i=0,e=new Int32Array(512),S=1+2*Math.round(Math.sqrt(O)),E=S>>>1,Z=new Array(S);
for(var P=0;P<S;P++)Z[P]=new Int32Array(512);var N=A[0],J=A[1];for(var y=0;y<c;y++)if(y<O||y>c-O-S-1){e.fill(0);
i=0;var o=Math.max(y-O,0),B=Math.min(c,y+O+1),t=B-o;for(var W=0;W<O;W++){i+=t;X(e,$,W*c+o,W*c+B,1)}for(var W=0;
W<U;W++){var F=W-O-1,G=W+O;if(F>=0){i-=t;X(e,$,F*c+o,F*c+B,-1)}if(G<U){i+=t;X(e,$,G*c+o,G*c+B,1)}var L=N(e,$[W*c+y],i,m);
r[W*c+y]=L}}else{for(var P=0;P<S;P++)Z[P].fill(0);i=0;var o=y-O+E,B=y+O+1+E,t=B-o;for(var W=0;W<O;W++){i+=t;
K(Z,$,W*c+o,W*c+B,1,E)}for(var W=0;W<U;W++){var F=W-O-1,G=W+O;if(F>=0){i-=t;K(Z,$,F*c+o,F*c+B,-1,E)}if(G<U){i+=t;
K(Z,$,G*c+o,G*c+B,1,E)}for(var P=0;P<E;P++){var Q=E-1-P,T=E+1+P;r[W*c+y+Q]=J(Z[E],Z[Q],$[W*c+y+Q],i,m);
r[W*c+y+T]=J(Z[E],Z[T],$[W*c+y+T],i,m)}r[W*c+y+E]=N(Z[E],$[W*c+y+E],i,m)}y+=S-1}}function K($,r,c,U,O,A){var m=w;
m($[A-1],r[c-1],0,O);m($[A-1],r[U-1],0,-O);m($[A+1],r[U],0,O);m($[A+1],r[c],0,-O);for(var P=1;P<A;P++){var i=$[A-P-1],e=$[A+P+1];
for(var S=0;S<=P;S++){m(i,r[c-1-S],0,O);m(i,r[U-1-S],0,-O);m(e,r[U+S],0,O);m(e,r[c+S],0,-O)}}X($[A],r,c,U,O)}function X($,r,P,c,U){while(P<c)w($,r[P++],0,U)}function w($,r,c,U){$[c|r]+=U;
$[c|256|r>>>4]+=U}function D($,r,c,U,O,A,m){var i=0,e=new Int32Array(512),S=new Int32Array(1*c),E=new Int32Array(512*c),Z=Math.min(O,c),N=Math.min(O,U),J=A[0];
for(var y=0;y<N;y++)q(E,S,$,c,y,1);for(var y=0;y<U;y++){if(y+O<U)q(E,S,$,c,y+O,1);if(y-O-1>=0)q(E,S,$,c,y-O-1,-1);
e.fill(0);i=0;for(var o=0;o<Z;o++){i+=S[o];C(e,E,o)}for(var o=0;o<c;o++){var B=o-O-1,t=o+O;if(B>=0&&S[B]!=0){i-=S[B];
a(e,E,B)}if(t<c&&S[t]!=0){i+=S[t];C(e,E,t)}var W=i==0?0:J(e,$[y*c+o],i,m);r[y*c+o]=W}}}function q($,r,c,U,O,A){var P=O*U;
for(var m=0;m<U;m++){w($,c[P+m],m<<9,A);r[m]+=A}}function C($,r,c){for(var P=0;P<16;P++){var U=r[c<<9|256|P];
if(U==0)continue;$[256|P]+=U;var O=P<<4,A=c<<9|O;x($,r,O,A);x($,r,O+4,A+4);x($,r,O+8,A+8);x($,r,O+12,A+12)}}function a($,r,c){for(var P=0;
P<16;P++){var U=r[c<<9|256|P];if(U==0)continue;$[256|P]-=U;var O=P<<4,A=c<<9|O;H($,r,O,A);H($,r,O+4,A+4);
H($,r,O+8,A+8);H($,r,O+12,A+12)}}function x($,r,c,U){$[c]+=r[U];$[c+1]+=r[U+1];$[c+2]+=r[U+2];$[c+3]+=r[U+3]}function H($,r,c,U){$[c]-=r[U];
$[c+1]-=r[U+1];$[c+2]-=r[U+2];$[c+3]-=r[U+3]}return u}();f.yv.Gq=[function(u,g,K,X){var P=15;while(u[256|P]==0&&P>0)P--;
P=(P<<4)+15;while(u[P]==0&&P>0)P--;return P},function(u,g,K,X,w){var P=15;while(u[256|P]+g[256|P]==0&&P>0)P--;
P=(P<<4)+15;while(u[P]+g[P]==0&&P>0)P--;return P}];f.yv.Pg=[function(u,g,K,X){var P=0;while(u[256|P]==0&&P<15)P++;
P=P<<4;while(u[P]==0&&P<255)P++;return P},function(u,g,K,X,w){var P=0;while(u[256|P]+g[256|P]==0&&P<15)P++;
P=P<<4;while(u[P]+g[P]==0&&P<255)P++;return P}];f.yv.NT=.5;f.yv.kT=[function(u,g,K,X){var w=~~(.5+f.yv.NT*K),D=0,P=256;
while(D+u[P]<w)D+=u[P++];P=P-256<<4;while(D<w)D+=u[P++];return P-1},function(u,g,K,X,w){var D=~~(.5+f.yv.NT*X),q=0,P=256;
while(q+u[P]+g[P]<D){q+=u[P]+g[P];P++}P=P-256<<4;while(q<D){q+=u[P]+g[P];P++}return P-1}];f.yv.h_=[function(u,g,K,X){var w=X[0],D=0,q=0,P=Math.max(0,g-w),C=Math.min(256,g+w+1);
while(P<C){var a=u[P];D+=P*a;q+=a;P++}return q==0?0:D/q},function(u,g,K,X,w){var D=w[0],q=0,C=0,P=Math.max(0,K-D),a=Math.min(256,K+D+1);
while(P<a){var x=u[P]+g[P];q+=P*x;C+=x;P++}return C==0?0:q/C}];f.Q={};f.Q.Rm=function(u){var g=R.S.TU(u.Trnf),K=u.Sz.v,X=f.Q.xZ(g,new dS(0,0,K.Wdth.v,K.Hght.v));
return f.Q.Y$(X)};f.Q.xZ=function(u,g){var K=u[0],X=u[1],w=u[2],D=u[3],q=u[6],C=u[7],a=u[4],x=u[5],H=0,$=0,r=1,c=0,U=0,O=1,A=1,m=1;
if(g){H=g.x;$=g.y;r=g.x+g.m;c=g.y;U=g.x;O=g.y+g.n;A=g.x+g.m;m=g.y+g.n}return f.Q.am(u,[H,$,r,c,A,m,U,O])};
f.Q.HU=function(u){function g(w,D){for(var P=0;P<D.length;P+=2)if(!K(w,D[P],D[P+1]))return!1;return!0}function K(w,D,q){return w[2*D]==w[2*q]&&w[2*D+1]==w[2*q+1]}var X=0;
if(g(u,[0,1,2,3]))X+=1;if(g(u,[0,3,1,2]))X+=2;return X};f.Q.am=function(u,g){function K(L,P,Q){var W=L[P*2]-L[Q*2],F=L[P*2+1]-L[Q*2+1];
return Math.sqrt(W*W+F*F)}var X=u[0],w=u[1],D=u[2],q=u[3],C=u[6],a=u[7],x=u[4],H=u[5],$=g[0],r=g[1],c=g[2],U=g[3],O=g[6],A=g[7],m=g[4],i=g[5],e=[[$,r,1,0,0,0,-$*X,-r*X,X],[0,0,0,$,r,1,-$*w,-r*w,w],[c,U,1,0,0,0,-c*D,-U*D,D],[0,0,0,c,U,1,-c*q,-U*q,q],[O,A,1,0,0,0,-O*C,-A*C,C],[0,0,0,O,A,1,-O*a,-A*a,a],[m,i,1,0,0,0,-m*x,-i*x,x],[0,0,0,m,i,1,-m*H,-i*H,H]],S=[0,0,0,0,0,0,0,0],E=f.Oi.a3(e,S);
if(E!=0){S=[0,0,0,0,0,0,0,0];var Z=f.Q.HU(u),N=f.Q.HU(g);if(Z==N&&Z!=0){var J=Z==1,y=J?3:1,o=K(u,0,y),B=K(g,0,y),t=B/o,W=u[2*y]-u[0],F=u[2*y+1]-u[1],G=new eV;
G.translate(-X,-w);G.rotate(Math.atan2(F,W)-(J?Math.PI/2:0));if(J)G.scale(1,t);else G.scale(t,1);G.translate($,r);
G.CD();S=f.Q.$D(G)}}return S};f.Q.gr=function(u){return Math.abs(u[6])<1e-10&&Math.abs(u[7])<1e-10};
f.Q.Y$=function(u){return new eV(u[0],u[3],u[1],u[4],u[2],u[5])};f.Q.$D=function(u){return[u._x,u.nA,u.OR,u.U,u.kR,u.ic,0,0]};
f.Q.D=function(u,g){var K=new Float64Array(2);for(var X=0;X<g.length;X+=2){var w=g[X],D=g[X+1];f.Q.oT(w,D,u,K);
g[X]=K[0];g[X+1]=K[1]}};f.Q.oT=function(u,g,K,X){var w=1/(K[6]*u+K[7]*g+1);X[0]=(K[0]*u+K[1]*g+K[2])*w;
X[1]=(K[3]*u+K[4]*g+K[5])*w};f.Q.a4u=function(u,g){var K=new Float64Array(2);f.Q.oT(g.x,g.y,u,K);return new j4(K[0],K[1])};
f.Q.ur=function(u,g,K,X){u=new Uint32Array(u.buffer);g=new Uint32Array(g.buffer);for(var w=0;w<X;w++){for(var D=0;
D<K;D++){g[D*X+w]=u[w*K+D]}}};f.Q.GM=function(u,g,K,X){u=new Uint32Array(u.buffer);g=new Uint32Array(g.buffer);
for(var w=0;w<X;w++){for(var D=0;D<K;D++){g[w*K+D]=u[w*K+K-1-D]}}};f.Q.apn=function(u,g,K,X){u=new Uint32Array(u.buffer);
g=new Uint32Array(g.buffer);for(var w=0;w<X;w++){for(var D=0;D<K;D++){g[w*K+D]=u[(X-1-w)*K+D]}}};f.Q.DD=function(u){return Math.abs(u[6])<1e-9&&Math.abs(u[7])<1e-9};
f.Q.ES=function(u){return Math.abs(u[0])<1e-9&&Math.abs(u[4])<1e-9||Math.abs(u[1])<1e-9&&Math.abs(u[3])<1e-9};
f.Q.drawImage=function(u,g,K,X,w,D,q,C,a){if(q==null)q=!1;if(C==null)C=!1;var x=f.Q.CD(u),H=!0,$=0;for(var P=0;
P<8;P++){var r=Math.round(u[P]);if(P!=2&&P!=5)$+=Math.abs(r);if(Math.abs(r-u[P])>1e-9)H=!1}var c=f.Q.DD(u),U=f.Q.ES(u)&&c,O=U?1:0;
if(q||H&&$==K+X&&c){f.Q.aor(x,g,K,X,w,D,C,c,a);return}var A=D.m,m=D.n,i=new Float64Array(2);w=new Uint32Array(w.buffer);
g=new Uint32Array(g.buffer);for(var e=0;e<m;e++)for(var S=0;S<A;S++){var E=e*A+S,Z,N,J,y,p=0,M=0,n=0,d=0;
w[E]=0;var o=S+D.x+.5,B=e+D.y+.5;Z=o;N=B;J=x;var t=J[0]*Z+J[1]*N+J[2],W=J[3]*Z+J[4]*N+J[5];if(!c){y=1/(J[6]*Z+J[7]*N+1);
t*=y;W*=y}var F=t*K,G=W*X,L=F<-1||F>K+1||G<-1||G>X+1;if(C){F=Math.max(.001,Math.min(K-1,F));G=Math.max(.001,Math.min(X-1,G))}else if(L)continue;
var Q=f.Q.a1c(u,K,X,o,B,t,W),T=Math.round(Q*2.3);if(Q<1.1){f.Q.$o(F,G,g,K,X,w,E,O);continue}if(!C&&(F<.6||F>K-.6||G<.6||G>X-.6)){T=Math.max(T,5)}if(C&&L)T=1;
var j=1/T,V=D.x+S,z=D.y+e;J=x;for(var P=0;P<T;P++)for(var I=0;I<T;I++){Z=V+(P+.5)*j;N=z+(I+.5)*j;var F=J[0]*Z+J[1]*N+J[2],G=J[3]*Z+J[4]*N+J[5];
if(!c){y=1/(J[6]*Z+J[7]*N+1);F*=y;G*=y}if(C){F=Math.max(.001,Math.min(.999,F));G=Math.max(.001,Math.min(.999,G))}else if(F<0||F>=1||G<0||G>=1)continue;
F=Math.floor(F*K);G=Math.floor(G*X);var v=G*K+F,gj=g[v],jA=gj>>>24;p+=(gj&255)*jA;M+=(gj>>>8&255)*jA;
n+=(gj>>>16&255)*jA;d+=jA}if(d!=0){var Y=1/d;p=~~(p*Y+.5);M=~~(M*Y+.5);n=~~(n*Y+.5);d=~~(d*j*j+.5);w[E]=d<<24|n<<16|M<<8|p}}};
f.Q.a1c=function(u,g,K,X,w,D,q){var C=f.Q.H0(u,X,w,D+1/g,q),a=f.Q.H0(u,X,w,D,q+1/K);return 1/Math.sqrt(Math.max(C,a))};
f.Q.H0=function(u,g,K,X,w){var D=1/(u[6]*X+u[7]*w+1),q=(u[0]*X+u[1]*w+u[2])*D-g,C=(u[3]*X+u[4]*w+u[5])*D-K;
return q*q+C*C};f.Q.aor=function(u,g,K,X,w,D,q,C,a){if(C&&!q&&D.$()>4e6&&a){f.Q.ari(u,g,K,X,w,D,q,C,a);
return}var x=D.x+D.m,H=D.y+D.n,$=0,r=new Uint32Array(w.buffer),c=new Uint32Array(g.buffer),U=u[0]*K,O=u[1]*K,A=u[2]*K,m=u[3]*X,i=u[4]*X,e=u[5]*X,S=u[6],E=u[7];
if(C&&!q)for(var Z=D.y+.5;Z<H;Z++)for(var N=D.x+.5;N<x;N++){var J=U*N+O*Z+A,y=m*N+i*Z+e;if(0<J&&J<K&&0<y&&y<X){var o=~~y*K+~~J;
r[$]=c[o]}else r[$]=0;$++}else for(var Z=D.y+.5;Z<H;Z++)for(var N=D.x+.5;N<x;N++){var B=1/(S*N+E*Z+1),J=(U*N+O*Z+A)*B,y=(m*N+i*Z+e)*B;
if(q){J=Math.max(.001,Math.min(K-1,J));y=Math.max(.001,Math.min(X-1,y))}if(0<J&&J<K&&0<y&&y<X){var o=Math.floor(y)*K+Math.floor(J);
r[$]=c[o]}else r[$]=0;$++}};f.Q.ari=function(u,g,K,X,w,D,q,C,a){var x=new Uint32Array(w.buffer),H=new Uint32Array(g.buffer),E=0;
if(a&&(D.m&3)!=0)throw"e";var $=u[0]*K,r=u[1]*K,c=u[2]*K,U=u[3]*X,O=u[4]*X,A=u[5]*X,m=u[6],i=u[7],e=D.m,S=D.n,Z=D.x+.5,N=D.y+.5,J=(e>>>2<<2)-1e-9,y=-.1+(S>>>1<<1)-1e-9,o=~~K,B=$==0?0:1/$,t=U==0?0:1/U;
for(var W=0;W<S;W++){var F=Z*$+r*(W+N)+c,G=Z*U+O*(W+N)+A,L=0,Q=e;if($==0){}else if(B>0){L=Math.max(L,-F*B);
Q=Math.min(Q,(K-F)*B)}else{Q=Math.min(Q,-F*B);L=Math.max(L,(K-F)*B)}if(U==0){}else if(t>0){L=Math.max(L,-G*t);
Q=Math.min(Q,(X-G)*t)}else{Q=Math.min(Q,-G*t);L=Math.max(L,(X-G)*t)}if(Q<0)Q=0;if(L>Q)L=Q;L=Math.ceil(L);
Q=~~Q;E=~~(W*e);for(var T=0;T<L;T++)x[E++]=0;for(var T=L;T<Q;T+=4){var j=$*T+F,p=U*T+G,M=~~p*o+~~j;x[E++]=x[E++]=x[E++]=x[E++]=H[M]}for(var T=Q;
T<e;T++)x[E++]=0}};f.Q.CD=function(u){var g=u[4]-u[5]*u[7],K=u[2]*u[7]-u[1],X=u[1]*u[5]-u[2]*u[4],w=u[5]*u[6]-u[3],D=u[0]-u[2]*u[6],q=u[3]*u[2]-u[0]*u[5],C=u[3]*u[7]-u[4]*u[6],a=u[1]*u[6]-u[0]*u[7],x=1/(u[0]*u[4]-u[1]*u[3]);
return[g*x,K*x,X*x,w*x,D*x,q*x,C*x,a*x]};f.Q.X7=function(u,g){var K=u[0],X=u[1],w=u[2],D=u[3],q=u[4],C=u[5],a=u[6],x=u[7],H=g[0],$=g[1],r=g[2],c=g[3],U=g[4],O=g[5],A=g[6],m=g[7],i=[K*H+X*c+w*A,K*$+X*U+w*m,K*r+X*O+w,D*H+q*c+C*A,D*$+q*U+C*m,D*r+q*O+C,a*H+x*c+A,a*$+x*U+m],e=1/(a*r+x*O+1);
for(var P=0;P<8;P++)i[P]*=e;return i};f.Q.$o=function(u,g,K,X,w,D,q,C){var a=u,x=g,r=0,c=0,U=0,O=0;u-=.499999;
g-=.499999;var H=Math.floor(u),$=Math.floor(g);if(C==0){var P=$*X+H,A=H>=0&&H<X,m=H+1>=0&&H+1<X,i=$>=0&&$<w,e=$+1>=0&&$+1<w;
if(A&&i)r=K[P];if(m&&i)c=K[P+1];if(A&&e)U=K[P+X];if(m&&e)O=K[P+X+1]}else if(C==1){var S=H<0?0:H>X-1?X-1:H,E=H<-1?0:H>X-2?X-1:H+1,Z=$<0?0:$>w-1?w-1:$,N=$<-1?0:$>w-2?w-1:$+1;
r=K[Z*X+S];c=K[Z*X+E];U=K[N*X+S];O=K[N*X+E]}else{var S=(H+50*X)%X,E=(H+50*X)%X,Z=($+50*w)%w,N=($+50*w)%w;
r=K[Z*X+S];c=K[Z*X+E];U=K[N*X+S];O=K[N*X+E]}var J=u-H,y=g-$,o=(1-y)*(1-J)*(r>>>24),B=(1-y)*J*(c>>>24),t=y*(1-J)*(U>>>24),W=y*J*(O>>>24),F=o+B+t+W,G=o*(r&255)+B*(c&255)+t*(U&255)+W*(O&255),L=o*(r>>>8&255)+B*(c>>>8&255)+t*(U>>>8&255)+W*(O>>>8&255),Q=o*(r>>>16&255)+B*(c>>>16&255)+t*(U>>>16&255)+W*(O>>>16&255);
if(F==0)D[q]=0;else{var T=1/F;G=~~(G*T+.5);L=~~(L*T+.5);Q=~~(Q*T+.5);F=~~(F+.5);D[q]=F<<24|Q<<16|L<<8|G}};
f.Q.sL=function(u,g,K,X,w,D){var q=u-.499999,C=g-.499999,a=~~q,x=~~C,H=q-a,$=C-x,r=(1-$)*(1-H),c=(1-$)*H,U=$*(1-H),O=$*H,A=x*X+a<<2,m=(x+1)*X+a<<2,i=r*K[A]+c*K[A+4]+U*K[m]+O*K[m+4],e=r*K[A+1]+c*K[A+5]+U*K[m+1]+O*K[m+5],S=r*K[A+2]+c*K[A+6]+U*K[m+2]+O*K[m+6],E=r*K[A+3]+c*K[A+7]+U*K[m+3]+O*K[m+7];
D[0]=i;D[1]=e;D[2]=S;D[3]=E};f.Q.lN=function(u,g,K,X,w){u-=.499999;g-=.499999;var D=Math.floor(u),q=Math.floor(g),C=u-D,a=g-q,x=(1-a)*(1-C),H=(1-a)*C,$=a*(1-C),r=a*C,c=(D+50*X)%X,U=(D+1+50*X)%X,O=(q+50*w)%w,A=(q+1+50*w)%w,m=K[O*X+c],i=K[O*X+U],e=K[A*X+c],S=K[A*X+U];
if(m==null||S==null)throw"e";return x*m+H*i+$*e+r*S};f.Q.$e=function(u,g,K,X,w,D,q,C,a,x,H,$){var r=new Uint32Array(u.buffer),c=new Uint32Array(X.buffer),U=(1+2*x)/w,O=[],A=[];
for(var m=0;m<w;m++){var i=-.25+x-m*U;O.push(Math.cos(2*Math.PI*i)*$/H);O.push(Math.sin(2*Math.PI*i)/H)}q*=g;
C*=K;for(var e=0;e<D;e++){var S=Math.pow(e/D,a)*D;for(var m=0;m<w;m++){var E=q+O[m<<1]*S,Z=C+O[(m<<1)+1]*S,J=~~(.5+(E<0?0:E>g-1?g-1:E)),y=~~(.5+(Z<0?0:Z>K-1?K-1:Z));
c[e*w+m]=r[y*g+J]}}};f.Q.bT=function(u,g,K,X,w,D,q,C,a,x,H,$){var r=new Uint32Array(u.buffer),c=new Uint32Array(X.buffer),U=1/$,O=[],A=K*4,m=1/A;
for(var i=0;i<A+10;i++)O.push(Math.pow(i*m,1/a)*K*H);q*=w;C*=D;for(var i=0;i<D;i++)for(var e=0;e<w;e++){var S=U*(e-q),E=i-C,Z=1.75-Math.atan2(E,S)*(1/(2*Math.PI));
Z=Z-~~Z;Z=(Z+x)*(1/(1+2*x));var N=Math.sqrt(S*S+E*E);N=O[~~(N*4)];f.Q.$o(Z*g+.5,N+.5,r,g,K,c,i*w+e,1)}};
f.Q.Zm=function(u,g,K,X,w){var D=w[0],q=w[1];for(var C=0;C<q;C++)for(var a=0;a<D;a++){var x=w[2]*a+w[3]*C+w[4],H=w[5]*a+w[6]*C+w[7],$=C*D+a<<2,r=H*g+x<<2;
X[$]=u[r+0];X[$+1]=u[r+1];X[$+2]=u[r+2];X[$+3]=u[r+3]}};f.X={VT:function(u,g){var K=~~(.499+u*g);return K<0?0:K>g?g:K},ame:function(u,g,K,X,w,D,q,C){var a=K[0],x=K[1],H=K[2],$=K[3],r=X.m,c=X.n,U=new Float64Array(r*4+8),O=new Float64Array(r*4+8);
for(var A=0,P=0;A<c;A++){var m=U;U=O;O=m;O.fill(0);for(var i=0;i<r;i++,P++){var e=i+w,S=A+D,E=a*e+x*S,Z=H*e+$*S,N=0,o=0;
if(C==0)N=E+.5;else if(C==1)N=2*Math.sqrt(E*E+Z*Z);else if(C==2)N=(Math.PI+Math.atan2(-Z,-E))/(2*Math.PI);
else if(C==3)N=Math.abs(E*2);else if(C==4)N=2*(Math.abs(E)+Math.abs(Z));var J=f.X.VT(N,q)*4,y=i*4;for(var B=0;
B<4;B++){var t=Math.max(0,Math.min(254.999,g[J+B]+U[y+4+B])),W=Math.floor(t);if(Math.random()<t-W)W++;
var F=t-W;U[y+8+B]=F*(7/16);O[y+0+B]=F*(3/16);O[y+4+B]=F*(5/16);O[y+8+B]=F*(1/16);o|=W<<B*8}u[P]=o}}},gJ:[function(u,g,K,X,w,D,q){var C=K[0],a=K[1],x=K[2],H=K[3],$=X.m,r=X.n;
for(var c=0,P=0;c<r;c++)for(var U=0;U<$;U++,P++){var O=U+w,A=c+D,m=C*O+a*A,i=x*O+H*A,e=m+.5;u[P]=g[f.X.VT(e,q)]}},function(u,g,K,X,w,D,q){var C=K[0],a=K[1],x=K[2],H=K[3],$=X.m,r=X.n;
for(var c=0,P=0;c<r;c++)for(var U=0;U<$;U++,P++){var O=U+w,A=c+D,m=C*O+a*A,i=x*O+H*A,e=2*Math.sqrt(m*m+i*i);
u[P]=g[f.X.VT(e,q)]}},function(u,g,K,X,w,D,q){var C=K[0],a=K[1],x=K[2],H=K[3],$=X.m,r=X.n;for(var c=0,P=0;
c<r;c++)for(var U=0;U<$;U++,P++){var O=U+w,A=c+D,m=C*O+a*A,i=x*O+H*A,e=(Math.PI+Math.atan2(-i,-m))/(2*Math.PI);
u[P]=g[f.X.VT(e,q)]}},function(u,g,K,X,w,D,q){var C=K[0],a=K[1],x=K[2],H=K[3],$=X.m,r=X.n;for(var c=0,P=0;
c<r;c++)for(var U=0;U<$;U++,P++){var O=U+w,A=c+D,m=C*O+a*A,i=x*O+H*A,e=Math.abs(m*2);u[P]=g[f.X.VT(e,q)]}},function(u,g,K,X,w,D,q){var C=K[0],a=K[1],x=K[2],H=K[3],$=X.m,r=X.n;
for(var c=0,P=0;c<r;c++)for(var U=0;U<$;U++,P++){var O=U+w,A=c+D,m=C*O+a*A,i=x*O+H*A,e=2*(Math.abs(m)+Math.abs(i));
u[P]=g[f.X.VT(e,q)]}}]};f.X.asB=function(u,g){return u+.5};f.X.a0q=function(u,g){return 2*Math.sqrt(u*u+g*g)};
f.X.ad8=function(u,g){return(Math.PI+Math.atan2(-g,-u))/(2*Math.PI)};f.X.afu=function(u,g){return Math.abs(u*2)};
f.X.akH=function(u,g){return 2*(Math.abs(u)+Math.abs(g))};f.X.oi=function(u,g,K,X,w,D,q,C,a,x,H,$){var r=u.Clrs,c=new Uint32Array(g.buffer),U=1023,O=r?f.X.QB(r.v,a,x):null;
if($&&r){var A=f.X.aoS(u,O,U+1,q);f.X.ame(c,A,X,K,K.x-w,K.y-D,U,C)}else{var m=r?f.X.cg(u,O,U+1,q):f.X.Hw(u,U+1,q);
if(C<5){f.X.gJ[C](c,m,X,K,K.x-w,K.y-D,U)}else{var i=new Uint8Array(m.buffer),e=K.m,S=K.n,E=H.qj-H.kv,Z=1/E,N=H.vJ.m-K.m>>1,J=H.vJ.n-K.n>>1,y=H.vJ.m,o=-.6*Z,B=(-.6+.4)*Z,t=(-.6+2*.4)*Z,W=(-.6+3*.4)*Z;
for(var F=0,P=0;F<S;F++)for(var G=0;G<e;G++,P+=4){var L=0,Q=0,T=0,j=0,p=(F+J)*y+G+N,M=(H.y1[p]-H.kv)*Z,n=0;
if(M<=0||M>=1){n=(M<=0?0:U)<<2;g[P]=i[n];g[P+1]=i[n+1];g[P+2]=i[n+2];g[P+3]=i[n+3];continue}n=Math.max(0,Math.min(U-1,Math.round((M+o)*U)))<<2;
Q+=i[n];T+=i[n+1];j+=i[n+2];L+=i[n+3];n=Math.max(0,Math.min(U-1,Math.round((M+B)*U)))<<2;Q+=i[n];T+=i[n+1];
j+=i[n+2];L+=i[n+3];n=Math.max(0,Math.min(U-1,Math.round((M+t)*U)))<<2;Q+=i[n];T+=i[n+1];j+=i[n+2];L+=i[n+3];
n=Math.max(0,Math.min(U-1,Math.round((M+W)*U)))<<2;Q+=i[n];T+=i[n+1];j+=i[n+2];L+=i[n+3];g[P]=Q>>>2;
g[P+1]=T>>>2;g[P+2]=j>>>2;g[P+3]=L>>>2}}}};f.X.QB=function(u,g,K){var X=[];for(var P=0;P<u.length;P++){var w,D=u[P].v,q=D.Type.v.Clry;
if(q=="FrgC")w={w:g>>16&255,A:g>>8&255,U:g&255};else if(q=="BckC")w={w:K>>16&255,A:K>>8&255,U:K&255};
else w=f.X.Ld(D.Clr.v);X.push(w)}return X};f.X.Ld=function(u){var g,K=u.classID;if(K=="RGBC"){if(u.Rd)g={w:u.Rd.v,A:u.Grn.v,U:u.Bl.v};
else g={w:u.redFloat.v*255,A:u.greenFloat.v*255,U:u.blueFloat.v*255}}else if(K=="HSBC"){g=f.iF(u.H.v.val/360,u.Strt.v/100,u.Brgh.v/100);
g.w*=255;g.A*=255;g.U*=255}else if(K=="CMYC"){var X=100-u.Cyn.v,w=100-u.Mgnt.v,D=100-u.Ylw.v,q=100-u.Blck.v,C=255*X*q*1e-4,a=255*(.2*X+.8*w)*q*1e-4,x=255*(.2*w+.8*D)*q*1e-4;
g={w:C,A:a,U:x}}else if(K=="Grsc")g={w:255-u.Gry.v,A:255-u.Gry.v,U:255-u.Gry.v};else if(K=="LbCl"){g=f.PH(u.Lmnc.v,u.A.v,u.B.v)}else console.log(u);
if(isNaN(g.w))g.w=g.A=g.U=0;return g};f.X.Hw=function(u,g,K){var X=new Uint32Array(g),w=new Uint8Array(X.buffer);
X.fill(4278190080);var D=[],q=[],C=u.RndS.v,a=u.Smth.v/4096;for(var P=0;P<4;P++){D[P]=~~(u.Mnm.v[P].v*255/100);
q[P]=~~(u.Mxm.v[P].v*255/100)}var x=f.L(g*4),H=f.L(g);for(var $=0;$<3;$++){f.R.aI(null,g,1,x,[1+Math.round(a*a*a*60),22,C*(2+$)]);
f.hk(x,H,0);f.K1(H,w,$);var r=D[$],c=q[$];for(var P=0;P<g;P++)w[4*P+$]=Math.max(r,Math.min(c,w[4*P+$]))}if(K)for(var P=0;
P<g/2;P++){var U=X[P];X[P]=X[g-1-P];X[g-1-P]=U}return X};f.X.Gp=function(u){return{classID:"RGBC",Rd:{t:"doub",v:u.w},Grn:{t:"doub",v:u.A},Bl:{t:"doub",v:u.U}}};
f.X.aoS=function(u,g,K,X){var w=[],D=1/(K-0);for(var P=0;P<K;P++){var q=P*4,C=f.X.aK(u,g,(X?K-1-P:P)*D);
w[q]=C[0];w[q+1]=C[1];w[q+2]=C[2];w[q+3]=C[3]}return w};f.X.cg=function(u,g,K,X){var w=new Uint32Array(K),D=1/(K-0);
for(var P=0;P<K;P++)w[P]=f.X.kk(u,g,(X?K-1-P:P)*D);return w};f.X.aK=function(u,g,K){var X=4096,w=1/4096,D=u.Intr.v*w,q=u.Clrs.v,C=u.Trns.v,a=q.length-1,x=C.length-1,P=-1,H=0,$=0,r=0,c=0;
while(P<x&&C[P+1].v.Lctn.v<=K*X)P++;if(P==-1){H=C[0].v.Opct.v.val*(255/100)}else if(P==x){H=C[P].v.Opct.v.val*(255/100)}else{var U=f.X.Q1(C,w,P,K,D);
H=(U*C[P].v.Opct.v.val+(1-U)*C[P+1].v.Opct.v.val)*(255/100)}P=-1;while(P<a&&q[P+1].v.Lctn.v<=K*X)P++;
if(P==-1){var O=g[0];$=O.w;r=O.A;c=O.U}else if(P==a){var O=g[P];$=O.w;r=O.A;c=O.U}else{var A=g[P],m=g[P+1],i=f.X.Q1(q,w,P,K,D);
$=i*A.w+(1-i)*m.w;r=i*A.A+(1-i)*m.A;c=i*A.U+(1-i)*m.U}return[$,r,c,H]};f.X.kk=function(u,g,K){var X=f.X.aK(u,g,K),w=~~(.5+X[0]),D=~~(.5+X[1]),q=~~(.5+X[2]),C=~~(.5+X[3]);
return C<<24|q<<16|D<<8|w};f.X.Q1=function(u,g,P,K,X){if(u.length==2)X*=.5;var w=u[P].v.Lctn.v*g,D=u[P+1].v.Lctn.v*g,q=w+u[P+1].v.Mdpn.v*.01*(D-w),C;
if(K<q)C=.5*(K-w)/(q-w);else C=.5+.5*(K-q)/(D-q);C=.5+.5*(X*Math.cos(Math.PI*C)+(1-X)*(1-2*C));return C};
f.X.pE=function(u,g){var K=Math.PI*u.Angl.v.val/180,X=u.Scl.v.val/100,w=u.Ofst.v,D=w.Hrzn.v.val/100,q=w.Vrtc.v.val/100,C=Math.cos(K),a=-Math.sin(K),x=.5*g.n,H=x*(C/a),$=Math.sqrt(x*x+H*H),r=.5*g.m,c=r*(a/C),U=Math.sqrt(r*r+c*c),O=Math.min($,U)*X,A=g.x+g.m/2+D*g.m,m=g.y+g.n/2+q*g.n;
return[new j4(A,m),new j4(A+C*O,m+a*O)]};f.X.N5=function(u,g,K,X){var w=g.x-u.x,D=-(g.y-u.y),q=Math.sqrt(w*w+D*D),C=Math.atan2(D,w),a=Math.cos(C),x=-Math.sin(C),H=.5*K.n,$=H*(a/x),r=Math.sqrt(H*H+$*$),c=.5*K.m,U=c*(x/a),O=Math.sqrt(c*c+U*U),A=q/Math.min(r,O),m=(u.x-K.x-K.m/2)/K.m,i=(u.y-K.y-K.n/2)/K.n;
X.Angl.v.val=180*C/Math.PI;X.Scl.v.val=A*100;var e=X.Ofst.v;e.Hrzn.v.val=m*100;e.Vrtc.v.val=i*100};f.X.Ah=function(u,g){for(var P=0;
P<u.length;P++){var K=u[P],X=Math.round(K[0]*4096),w=K[1],D=K[2],q=K[3];if(D==null)D=1;if(q==null)q=.5;
var C=f.X.Gp({w:w[0]*255,A:w[1]*255,U:w[2]*255});g.Clrs.v[P]={t:"Objc",v:{classID:"Clrt",Lctn:{t:"long",v:X},Mdpn:{t:"long",v:Math.round(q*100)},Clr:{t:"Objc",v:C},Type:{t:"enum",v:{Clry:"UsrS"}}}};
g.Trns.v[P]={t:"Objc",v:{classID:"TrnS",Lctn:{t:"long",v:X},Mdpn:{t:"long",v:Math.round(q*100)},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(D*100)}}}}}};
f.ED={};f.ED.a1V=function(u,g,K,X,w,D,q,C,a,x,H,$){var r,c,U,O=Date.now(),A=!1,m=q,i=x,e,S,E,Z,N=D*255,J=255-a*255,y=1+w*6,o=1+C*6,B=1+$*4,t=(B-1)/7,W=0,F=255-0,G,L,Q,T,j,p,M,n,d,V,z,I,v,gj=0,jA=1,Y,jv,iR,cj,j8,as,gW,af,at,jd,fM=1+H,hS,dr=f.L(K*X),cB=f.L(K*X),b1=f.L(K*X),ic=f.L(K*X),dV=255/N,eS=255/(255-J);
for(c=0;c<X;c++){for(r=0;r<K;r++){var P=c*K+r,a2=P<<2;Y=f.Yi(u[a2],u[a2+1],u[a2+2]);ic[P]=Y;if(Y<N)dr[P]=255-Y*dV;
if(Y>J)cB[P]=255-(255-Y)*eS}}if(A)console.log("init",Date.now()-O);O=Date.now();if(w*m>0){b1.set(dr);
f.zg.ni(b1,dr,new dS(0,0,K,X),m)}if(C*i>0){b1.set(cB);f.zg.ni(b1,cB,new dS(0,0,K,X),i)}if(A)console.log("blur",Date.now()-O);
O=Date.now();var d3=f.L(256),cE=f.L(256);for(var P=0;P<256;P++){var eP=P*(1/255),jm=0;jm=(1-Math.pow(1-eP,y))*255;
d3[P]=Math.max(0,Math.min(255,~~(jm+.5)));jm=Math.pow(eP,o)*255;cE[P]=Math.max(0,Math.min(255,~~(jm+.5)))}var bD=new Uint8ClampedArray(g.buffer),f1=new Float32Array(32768);
for(var P=0;P<32768;P++){hS=Math.sqrt(P)*(1/128);if(fM>1)hS=(1-hS)*(fM-1)+1;else hS=hS*(fM-1)+1;f1[P]=hS}for(c=0;
c<X;c++){for(r=0;r<K;r++){var P=c*K+r,a2=P<<2,jm=ic[P],ft=dr[P]*(1/255),ie=cB[P]*(1/255);jm=(1-ft)*jm+ft*d3[~~jm];
jm=(1-ie)*jm+ie*cE[~~jm];Y=jm;var b2=u[a2],dh=u[a2+1],eF=u[a2+2];jv=-b2*.168736-dh*.331264+eF*.5;iR=b2*.5-dh*.418688-eF*.081312;
hS=f1[~~(.5+jv*jv+iR*iR)];cj=jv*hS;as=iR*hS;jA=1-Math.min(2-(ft+ie),1);jv=jA*jv+(1-jA)*cj;iR=jA*iR+(1-jA)*as;
af=Y+1.402*iR;at=Y-.34414*jv-.71414*iR;jd=Y+1.772*jv;bD[a2]=~~(.5+af);bD[a2+1]=~~(.5+at);bD[a2+2]=~~(.5+jd)}}if(A)console.log("apply masks",Date.now()-O);
O=Date.now()};f.MQ={};f.MQ.HX=function(u,g,K,X,w){var D=!1,U=1,L=0,Q=0,z=0,fM=0;if(!g.kB(w)){var q=g.RN(w),C=f.L(q.$()*4);
f.bV(u,g,C,q);u=C;g=q}var a=f.L(g.$());f.x5(K,w,a,g);f.round(a);w=w.I3(g);var x=w.m,H=w.n,$=x*3<H?2:1,r=H*3<x?2:1;
if(w.$()*($*2+1)*(r*2+1)<g.$()){var q=new dS(w.x-x*$,w.y-H*$,x*($*2+1),H*(r*2+1)).I3(g),C=f.L(q.$()*4);
f.bV(u,g,C,q);var c=f.L(q.$());f.x5(a,g,c,q);g=q;u=C;a=c}while((g.m+g.n)/2/U>400)U++;var O=u,A=g,m=a,i=Math.floor(A.m/U),e=Math.floor(A.n/U);
u=f.L(i*e*4);f.scale.wm(O,A.m,A.n,u,i,e,1/U);a=f.L(i*e);f.scale.Zm(m,A.m,A.n,a,i,e,1/U);f.round(a,1);
var S=f.LE(a,new dS(0,0,i,e));if(S.fg())return 1;var E=Math.round((S.m+S.n)/2/15),Z=Date.now(),N=f.L(i*e*4);
f.anS(u,N);var J=Int16Array,y=new J(i*e*24),o=new J(64),B=new J(64),F=new J(64),G=new J(64);for(var T=3;
T<e-4;T++)for(var j=3;j<i-4;j++){var p=T*i+j;if(a[p]==255)continue;if(f.MQ.awp(N,a,j,T,i,e,o,B,F)!=0)continue;
f.MQ.kJ(o,G);y[L]=j;y[L+1]=T;f.MQ.me(o,y,L+4,12);L+=16;f.MQ.kJ(B,G);f.MQ.me(B,y,L,4);L+=4;f.MQ.kJ(F,G);
f.MQ.me(F,y,L,4);L+=4;var M=y[L-24+5],n=y[L-24+6];y[L-24+5]=y[L-24+20];y[L-24+6]=y[L-24+16];y[L-24+16]=M;
y[L-24+20]=n;Q++}if(Q==0)return 2;if(D)console.log(Date.now()-Z,"FWHT computed");Z=Date.now();var d=[];
f.MQ.pW(0,Q-1,d,y,new J(2*24));if(D)console.log(Date.now()-Z,"KD tree computed");Z=Date.now();var V=new Float32Array(i*e*4);
for(var P=0;P<Q;P++){var I=P,v=f.MQ.al6(I,y,d,E);if(v==-1)continue;var gj=I*24,jA=v*24,Y=y[gj],jv=y[gj+1],iR=y[jA],cj=y[jA+1];
z+=f.MQ.getError(jA,gj,y,1e99);var j8=iR-Y,as=cj-jv;V[(e+as)*2*i+(i+j8)]+=1}if(D)console.log(Date.now()-Z,"NN found");
Z=Date.now();var gW=[],af=1/(2*i);for(var P=0;P<V.length;P++){if(V[P]>0){var T=Math.floor(P*af),j=P-T*2*i;
gW.push({x:j-i,y:T-e,h:V[P],lj:-1})}}gW.sort(function(ie,b2){return b2.h-ie.h});var at=new Int32Array(i*e),jd=[];
for(var P=0;P<i*e;P++){if(a[P]==255){at[P]=fM;jd.push(P%i,Math.floor(P/i));fM++}else if(u[(P<<2)+3]<200){at[P]=-2}else{at[P]=-1}}var hS=f.MQ.aql(i,e,gW,at,jd,fM);
if(hS==null){return 3}var dr=hS.Hr,top=hS.top;dr=f.MQ.a3g(dr,u,i,e,top,at,jd,fM);if(D)console.log(Date.now()-Z,"optimal labeling found");
Z=Date.now();var q=w.clone();q.wu(1,1);q=q.I3(A);var cB=f.L(q.$()*4),b1=f.L(q.$());f.bV(O,A,cB,q);var ic=A.m,dV=A.n;
for(var T=0;T<dV;T++)for(var j=0;j<ic;j++){if(m[T*ic+j]==0)continue;var eS=Math.min(Math.floor(j/U),i-1),a2=Math.min(Math.floor(T/U),e-1),d3=at[a2*i+eS];
if(d3==-1)continue;var cE=dr[d3],eP=top[cE],jm=j+eP.x*U,bD=T+eP.y*U,f1=bD*ic+jm<<2,ft=(T-q.y+A.y)*q.m+(j-q.x+A.x)<<2;
cB[ft]=O[f1];cB[ft+1]=O[f1+1];cB[ft+2]=O[f1+2];cB[ft+3]=O[f1+3];cB[ft+3]=O[f1+3];b1[ft>>2]=cE+1}if(D)console.log(Date.now()-Z,"copied back");
Z=Date.now();f.Z3.HX(cB,b1,q,null,1e3);if(D)console.log(Date.now()-Z,"poisson smooth");Z=Date.now();
f.bV(cB,q,X,w);return 0};f.MQ.$L=function(u,g,K,X,w,D){return f.MQ.PF(u+w.x,g+w.y,K,X)&&D[(g+w.y)*K+(u+w.x)]==-1?0:1e9};
f.MQ.a3g=function(u,g,K,X,top,w,D,q){var C=Date.now(),a=[-1,0,0,-1,1,0,0,1],x=1e99,H=[],$=[],r=2*(q*2*3+q*2),c=null,U=0,O=0,A=0,m=1e99;
while(!0&&Date.now()<C+12e3){A++;var i=null,e=x;for(var S=0;S<top.length;S++){var E=top[S],Z=0,N=q+2,J=0;
for(var P=0;P<q;P++){var y=D[P*2],o=D[P*2+1],B=top[u[P]],t=f.MQ.$L(y,o,K,X,E,w),W=u[P]==S?1e9:f.MQ.$L(y,o,K,X,B,w);
for(var eJ=0;eJ<4;eJ++){if(eJ==0&&y==0||eJ==1&&o==0||eJ==2&&y==K-1||eJ==3&&o==X-1)continue;var F=a[2*eJ],G=a[2*eJ+1],L=y+F,Q=o+G,T=w[Q*K+L];
if(T==-2){}else if(T==-1){t+=3*f.MQ.SU(L+E.x,Q+E.y,L,Q,K,X,g,w);t+=2*f.MQ.SU(L+E.x+F,Q+E.y+G,L+F,Q+G,K,X,g,w);
W+=3*f.MQ.SU(L+B.x,Q+B.y,L,Q,K,X,g,w);W+=2*f.MQ.SU(L+B.x+F,Q+B.y+G,L+F,Q+G,K,X,g,w)}else if(eJ>1){if(u[P]==u[T]){var j=0;
j+=f.MQ.SU(y+B.x,o+B.y,y+E.x,o+E.y,K,X,g,w);j+=f.MQ.SU(L+B.x,Q+B.y,L+E.x,Q+E.y,K,X,g,w);H[Z]=P;H[Z+1]=T;
$[Z]=j;$[Z+1]=j;Z+=2}else{var p=top[u[T]],M=N,n=0,d=0,V=0;N++;n+=f.MQ.SU(y+B.x,o+B.y,y+E.x,o+E.y,K,X,g,w);
n+=f.MQ.SU(L+B.x,Q+B.y,L+E.x,Q+E.y,K,X,g,w);d+=f.MQ.SU(y+p.x,o+p.y,y+E.x,o+E.y,K,X,g,w);d+=f.MQ.SU(L+p.x,Q+p.y,L+E.x,Q+E.y,K,X,g,w);
V+=f.MQ.SU(y+p.x,o+p.y,y+B.x,o+B.y,K,X,g,w);V+=f.MQ.SU(L+p.x,Q+p.y,L+B.x,Q+B.y,K,X,g,w);H[Z]=P;H[Z+1]=M;
$[Z]=n;$[Z+1]=n;Z+=2;H[Z]=T;H[Z+1]=M;$[Z]=d;$[Z+1]=d;Z+=2;H[Z]=M;H[Z+1]=q+1;$[Z]=V;$[Z+1]=0;Z+=2}}}H[Z]=q;
H[Z+1]=P;$[Z]=t;$[Z+1]=0;Z+=2;H[Z]=P;H[Z+1]=q+1;$[Z]=W;$[Z+1]=0;Z+=2;J+=Math.min(t,W)}if(J>e)continue;
var z=f.qX.a3(N,Z,q,q+1,H,$,e);if(z.ir<e){e=z.ir;var I=u.slice(0);f.MQ.a2u(I,Z,H,z.Ij,S,q);i=I}}if(e*1>=x){break}x=e;
u=i;if((A&3)==0){if(e*1.03>=m)break;m=e}if((A&3)==0){var v=0*top.length;for(var P=0;P<top.length&&top.length>v;
P++){if(u.indexOf(P)!=-1)continue;top.splice(P,1);for(var T=0;T<u.length;T++)if(u[T]>P)u[T]--;P--}}}return u};
f.MQ.a2u=function(u,g,K,X,w,D){for(var P=0;P<X.length;P++){var q=X[P]<<1,C=0,a=0;if(q<g){C=K[q];a=K[q+1]}else{a=K[q];
C=K[q+1]}if(C==D&&u[a]!=w)u[a]=w}};f.MQ.IK=function(top,u,g,K,X,w,D,q,C){for(var P=0;P<g.length;P++){var a=g[P],x=!0;
if(q!=null&&!(f.MQ.PF(q+a.x,C+a.y,w,D)&&K[w*(C+a.y)+q+a.x]==-1))continue;if(a.lj==-1)a.lj=f.MQ.a1J(a,K,X,w,D);
if(a.lj<=0)continue;for(var H=0;H<top.length;H++){var $=top[H],r=a.x-$.x,c=a.y-$.y;if(r*r+c*c<u){x=!1;
break}}if(x)return a}return null};f.MQ.a1J=function(u,g,K,X,w){var D=0;for(var P=0;P<K.length;P+=2){var q=K[P]+u.x,C=K[P+1]+u.y;
if(f.MQ.PF(q,C,X,w)&&g[X*C+q]==-1)D++}return D/(K.length>>1)};f.MQ.aql=function(u,g,K,X,w,D){var top=[];
for(var P=0;P<60;P++){var q=f.MQ.IK(top,25,K,X,w,u,g);if(q==null)break;else top.push(q)}if(top.length==0)return null;
var C=[];for(var P=0;P<D;P++){var a=w[P*2],x=w[P*2+1],H=-1,$=0;while(!0){$++;var r=Math.random();H=Math.floor(r*.99999*top.length);
var c=top[H],U=a+c.x,O=x+c.y;if(f.MQ.PF(U,O,u,g)&&X[O*u+U]==-1)break;if($>100){var q;q=f.MQ.IK(top,0,K,X,w,u,g,a,x);
if(q==null)return null;top.push(q);$=0}}C.push(H)}return{top:top,Hr:C}};f.MQ.SU=function(u,g,K,X,w,D,q,C){if(u==K&&g==X)return 0;
if(u<0||g<0||u>=w||g>=D||K<0||X<0||K>=w||X>=D||C[g*w+u]!=-1||C[X*w+K]!=-1)return 1e7;var a=g*w+u<<2,x=X*w+K<<2,H=q[a]-q[x],$=q[a+1]-q[x+1],r=q[a+2]-q[x+2];
return 1+(H*H+$*$+r*r)};f.MQ.PF=function(u,g,K,X){return u>=0&&u<K&&g>=0&&g<X};f.MQ.al6=function(u,g,K,X){var w=24*u,D=g[w],q=g[w+1],C=X*X,a=0,r=1e9;
while(K[a]!=99)if(g[w+K[a]]<K[a+1])a=K[a+2];else a=K[a+3];var x=K[a+1],H=K[a+2],$=-1;for(var P=x;P<=H;
P++){var a=P,c=a*24,U=g[c],O=g[c+1];if((U-D)*(U-D)+(O-q)*(O-q)<C)continue;var A=f.MQ.getError(c,w,g,r);
if(A<r){r=A;$=a}}return $};f.MQ.getError=function(u,g,K,X){var w=0;for(var D=4;D<24;D+=4){var q=K[g+D]-K[u+D],C=K[g+D+1]-K[u+D+1],a=K[g+D+2]-K[u+D+2],x=K[g+D+3]-K[u+D+3];
w+=q*q+C*C+a*a+x*x;if(w>=X)return w+1}return w};f.MQ.pW=function(u,g,K,X,w){var D=16,r=0;if(g-u<=D){K.push(99,u,g);
return}f.MQ.pj(u,g,X,w);var q=-1,C=-1;for(var P=4;P<24;P++){var a=w[2*P+1]-w[2*P];if(a>C){C=a;q=P}}var x=u+g>>1,H=f.MQ.a36(x,u,g,X,q),$=-1;
for(var P=u;P<=g;P++)if(X[24*P+q]==H){if($==-1)$=P;r=P}if(u+8<$&&$-u>g-r)x=$;else if(r+1<g-8)x=r+1;else if(g-u<64){K.push(99,u,g);
return}else x=x;var c=K.length;K.push(q,H,0,0);K[c+2]=c+4;f.MQ.pW(u,x-1,K,X,w);K[c+3]=K.length;f.MQ.pW(x,g,K,X,w)};
f.MQ.pj=function(u,g,K,X){for(var P=0;P<48;P+=4){X[P]=3e4;X[P+1]=-3e4;X[P+2]=3e4;X[P+3]=-3e4}for(var P=u;
P<=g;P++){var w=P*24;for(var D=0;D<24;D++){var q=K[w+D],C=X[D<<1],a=X[(D<<1)+1];if(q<C)X[D<<1]=q;if(q>a)X[(D<<1)+1]=q}}};
f.MQ.uF=function(u,g,K){var X=0,P=0;X=K[u+P];K[u+P]=K[g+P];K[g+P]=X;P++;X=K[u+P];K[u+P]=K[g+P];K[g+P]=X;
P++;X=K[u+P];K[u+P]=K[g+P];K[g+P]=X;P++;X=K[u+P];K[u+P]=K[g+P];K[g+P]=X;P++;X=K[u+P];K[u+P]=K[g+P];K[g+P]=X;
P++;X=K[u+P];K[u+P]=K[g+P];K[g+P]=X;P++;X=K[u+P];K[u+P]=K[g+P];K[g+P]=X;P++;X=K[u+P];K[u+P]=K[g+P];K[g+P]=X;
P++;X=K[u+P];K[u+P]=K[g+P];K[g+P]=X;P++;X=K[u+P];K[u+P]=K[g+P];K[g+P]=X;P++;X=K[u+P];K[u+P]=K[g+P];K[g+P]=X;
P++;X=K[u+P];K[u+P]=K[g+P];K[g+P]=X;P++;X=K[u+P];K[u+P]=K[g+P];K[g+P]=X;P++;X=K[u+P];K[u+P]=K[g+P];K[g+P]=X;
P++;X=K[u+P];K[u+P]=K[g+P];K[g+P]=X;P++;X=K[u+P];K[u+P]=K[g+P];K[g+P]=X;P++;X=K[u+P];K[u+P]=K[g+P];K[g+P]=X;
P++;X=K[u+P];K[u+P]=K[g+P];K[g+P]=X;P++;X=K[u+P];K[u+P]=K[g+P];K[g+P]=X;P++;X=K[u+P];K[u+P]=K[g+P];K[g+P]=X;
P++;X=K[u+P];K[u+P]=K[g+P];K[g+P]=X;P++;X=K[u+P];K[u+P]=K[g+P];K[g+P]=X;P++;X=K[u+P];K[u+P]=K[g+P];K[g+P]=X;
P++;X=K[u+P];K[u+P]=K[g+P];K[g+P]=X;P++};f.MQ.MV=function(u,g,K,X){var w=K+X>>>1,D=u[24*w+g];while(K<=X){while(u[24*K+g]<D)K++;
while(u[24*X+g]>D)X--;if(K<=X){if(u[24*K+g]!=u[24*X+g])f.MQ.uF(K*24,X*24,u);K++;X--}}return K};f.MQ.a36=function(u,g,K,X,w){var D=0;
while(g!=K){D=f.MQ.MV(X,w,g,K);if(u<D)K=D-1;else g=D}return X[u*24+w]};f.MQ.me=function(u,g,K,X){for(var P=0;
P<X;P++)g[K+P]=u[P]};f.MQ.awp=function(u,g,K,X,w,D,q,C,a){var x=(X-3)*w+(K-3),H=x<<2;for(var $=0;$<8;
$++){if(g[x]+g[x+1]+g[x+2]+g[x+3]+g[x+4]+g[x+5]+g[x+6]+g[x+7]!=0||u[H+3]<200||u[H+7]<200||u[H+11]<200||u[H+15]<200||u[H+19]<200||u[H+23]<200||u[H+27]<200||u[H+31]<200)return 1;
var P=$<<3;q[P+0]=u[H+0];C[P+0]=u[H+1];a[P+0]=u[H+2];q[P+1]=u[H+4];C[P+1]=u[H+5];a[P+1]=u[H+6];q[P+2]=u[H+8];
C[P+2]=u[H+9];a[P+2]=u[H+10];q[P+3]=u[H+12];C[P+3]=u[H+13];a[P+3]=u[H+14];q[P+4]=u[H+16];C[P+4]=u[H+17];
a[P+4]=u[H+18];q[P+5]=u[H+20];C[P+5]=u[H+21];a[P+5]=u[H+22];q[P+6]=u[H+24];C[P+6]=u[H+25];a[P+6]=u[H+26];
q[P+7]=u[H+28];C[P+7]=u[H+29];a[P+7]=u[H+30];H+=w<<2;x+=w}return 0};f.MQ.kJ=function(u,g){g[0]=u[32]+u[0];
g[1]=u[33]+u[1];g[2]=u[34]+u[2];g[3]=u[35]+u[3];g[4]=u[36]+u[4];g[5]=u[37]+u[5];g[6]=u[38]+u[6];g[7]=u[39]+u[7];
g[8]=u[40]+u[8];g[9]=u[41]+u[9];g[10]=u[42]+u[10];g[11]=u[43]+u[11];g[12]=u[44]+u[12];g[13]=u[45]+u[13];
g[14]=u[46]+u[14];g[15]=u[47]+u[15];g[16]=u[48]+u[16];g[17]=u[49]+u[17];g[18]=u[50]+u[18];g[19]=u[51]+u[19];
g[20]=u[52]+u[20];g[21]=u[53]+u[21];g[22]=u[54]+u[22];g[23]=u[55]+u[23];g[24]=u[56]+u[24];g[25]=u[57]+u[25];
g[26]=u[58]+u[26];g[27]=u[59]+u[27];g[28]=u[60]+u[28];g[29]=u[61]+u[29];g[30]=u[62]+u[30];g[31]=u[63]+u[31];
g[32]=u[0]-u[32];g[33]=u[1]-u[33];g[34]=u[2]-u[34];g[35]=u[3]-u[35];g[36]=u[4]-u[36];g[37]=u[5]-u[37];
g[38]=u[6]-u[38];g[39]=u[7]-u[39];g[40]=u[8]-u[40];g[41]=u[9]-u[41];g[42]=u[10]-u[42];g[43]=u[11]-u[43];
g[44]=u[12]-u[44];g[45]=u[13]-u[45];g[46]=u[14]-u[46];g[47]=u[15]-u[47];g[48]=u[16]-u[48];g[49]=u[17]-u[49];
g[50]=u[18]-u[50];g[51]=u[19]-u[51];g[52]=u[20]-u[52];g[53]=u[21]-u[53];g[54]=u[22]-u[54];g[55]=u[23]-u[55];
g[56]=u[24]-u[56];g[57]=u[25]-u[57];g[58]=u[26]-u[58];g[59]=u[27]-u[59];g[60]=u[28]-u[60];g[61]=u[29]-u[61];
g[62]=u[30]-u[62];g[63]=u[31]-u[63];u[0]=g[16]+g[0];u[1]=g[17]+g[1];u[2]=g[18]+g[2];u[3]=g[19]+g[3];
u[4]=g[20]+g[4];u[5]=g[21]+g[5];u[6]=g[22]+g[6];u[7]=g[23]+g[7];u[8]=g[24]+g[8];u[9]=g[25]+g[9];u[10]=g[26]+g[10];
u[11]=g[27]+g[11];u[12]=g[28]+g[12];u[13]=g[29]+g[13];u[14]=g[30]+g[14];u[15]=g[31]+g[15];u[16]=g[0]-g[16];
u[17]=g[1]-g[17];u[18]=g[2]-g[18];u[19]=g[3]-g[19];u[20]=g[4]-g[20];u[21]=g[5]-g[21];u[22]=g[6]-g[22];
u[23]=g[7]-g[23];u[24]=g[8]-g[24];u[25]=g[9]-g[25];u[26]=g[10]-g[26];u[27]=g[11]-g[27];u[28]=g[12]-g[28];
u[29]=g[13]-g[29];u[30]=g[14]-g[30];u[31]=g[15]-g[31];g[0]=u[8]+u[0];g[1]=u[9]+u[1];g[2]=u[10]+u[2];
g[3]=u[11]+u[3];g[4]=u[12]+u[4];g[5]=u[13]+u[5];g[6]=u[14]+u[6];g[7]=u[15]+u[7];g[8]=u[0]-u[8];g[9]=u[1]-u[9];
g[10]=u[2]-u[10];g[11]=u[3]-u[11];g[12]=u[4]-u[12];g[13]=u[5]-u[13];g[14]=u[6]-u[14];g[15]=u[7]-u[15];
u[0]=g[4]+g[0];u[1]=g[5]+g[1];u[2]=g[6]+g[2];u[3]=g[7]+g[3];u[4]=g[0]-g[4];u[5]=g[1]-g[5];u[6]=g[2]-g[6];
u[7]=g[3]-g[7];u[8]=g[12]+g[8];u[9]=g[13]+g[9];u[10]=g[14]+g[10];u[11]=g[15]+g[11];u[12]=g[8]-g[12];
u[13]=g[9]-g[13];u[14]=g[10]-g[14];u[15]=g[11]-g[15];g[0]=u[2]+u[0];g[1]=u[3]+u[1];g[2]=u[0]-u[2];g[3]=u[1]-u[3];
g[4]=u[6]+u[4];g[5]=u[7]+u[5];g[6]=u[4]-u[6];g[7]=u[5]-u[7];g[8]=u[10]+u[8];g[9]=u[11]+u[9];g[10]=u[8]-u[10];
g[11]=u[9]-u[11];g[12]=u[14]+u[12];g[13]=u[15]+u[13];g[14]=u[12]-u[14];g[15]=u[13]-u[15];u[0]=g[1]+g[0];
u[1]=g[0]-g[1];u[2]=g[3]+g[2];u[3]=g[2]-g[3];u[4]=g[5]+g[4];u[5]=g[4]-g[5];u[6]=g[7]+g[6];u[7]=g[6]-g[7];
u[8]=g[9]+g[8];u[9]=g[8]-g[9];u[10]=g[11]+g[10];u[11]=g[10]-g[11];u[12]=g[13]+g[12];u[13]=g[12]-g[13];
u[14]=g[15]+g[14];u[15]=g[14]-g[15]};f.MQ.aha=function(){var u="",eJ=64,g="v",K="t",X="a",w=5,P,D,q;
for(P=eJ>>1;P>0;P>>=1,w--){for(D=0;D<eJ;D++){q=(D>>w&1)!=0;if(q){u+=K+"["+D+"] = "+g+"["+(-P+D)+"] - "+g+"["+D+"];  "}else{u+=K+"["+D+"] = "+g+"["+(P+D)+"] + "+g+"["+D+"];  "}}X=g;
g=K;K=X;u+="\n"}console.log(u)};f.MQ.ak7=function(eJ,u,g){var K=u,X=g,w=K,D=0,P,C,a;while(eJ>>D!=2)D++;
var q=D;for(P=eJ>>1;P>0;P>>=1,D--){for(C=0;C<eJ;C++){a=(C>>D&1)!=0;if(a)X[C]=K[-P+C]-K[C];else X[C]=K[P+C]+K[C]}w=K;
K=X;X=w}if((q&1)==1)for(P=0;P<eJ;P++)g[P]=K[P]};f.Ub={};f.Ub.v9=function(u,g,K,X,w,D,q,C,a){var x=Date.now(),H=new Uint32Array(u.buffer),$=new Uint32Array(g.buffer),r=q/K,c=C/X,U=1/r,O=1/c,A=new Float64Array(2),m=3,i=1/m,e=1/(m*m),S=0,E=0,Z=K,N=X;
if(w){S=w.x;E=w.y;Z=w.m;N=w.n}for(var J=0;J<N;J++)for(var y=0;y<Z;y++){var o=S+y,B=E+J,P=B*K+o,t=P<<1,W=P<<2;
f.Ub.aqr(D,q,C,(o+.5)*r,(B+.5)*c,A);var F=A[0]*U,G=A[1]*O;if(F==0&&G==0)$[P]=H[P];else{f.Q.$o(o+F+.5,B+G+.5,H,K,X,$,P,a)}}};
f.Ub.aqr=function(u,g,K,X,w,D){X-=.499999;w-=.499999;var q=~~X,C=~~w,a=X-q,x=w-C,H=(1-x)*(1-a),$=(1-x)*a,r=x*(1-a),c=x*a,U=q<g-1?q+1:q,O=C<K-1?C+1:C,A=C*g+q<<1,m=C*g+U<<1,i=O*g+q<<1,e=O*g+U<<1;
D[0]=H*u[A]+$*u[m]+r*u[i]+c*u[e];D[1]=H*u[A+1]+$*u[m+1]+r*u[i+1]+c*u[e+1]};f.Ub.ajQ=function(u,g,K,X,w){var D=1/u,q=[-1,1,-u,u],C=X.length;
for(var a=0;a<C;a++){var P=X[a],x=P<<1,H=a<<1,$=~~(P*D),r=P-u*$,c=K[x],U=K[x+1],O=0,A=0;if(r!=0&&r!=u-1){var m=P-1<<1,i=P+1<<1,e=K[m],S=K[i],E=K[m+1],Z=K[i+1],N=c-(e+S)*.5,J=U-(E+Z)*.5;
O-=N*w;A-=J*w}if($!=0&&$!=g-1){var m=P-u<<1,i=P+u<<1,e=K[m],S=K[i],E=K[m+1],Z=K[i+1],N=c-(e+S)*.5,J=U-(E+Z)*.5;
O-=N*w;A-=J*w}K[x]=c+O;K[x+1]=U+A}};f.Ub.ae4=function(u,g){var K=u+","+g;if(f.Ub.XN==K)return f.Ub.bj;
var X=f.Ub.bj=[];f.Ub.XN=K;for(var P=0;P<=1e3;P++){var w=P*.001,D=Math.sqrt(w),q=Math.exp(-4*D),C=.96*(1-D*D),a=g*((1-u)*q+u*C);
X[P]=a}return X};f.Ub.XN="";f.Ub.bj=[];f.Ub.a8A=function(u,g,K,X,w,D,q,C,a,x,H,$,r){var c=Math.max(0,Math.floor(w-q-1)),U=Math.min(g,Math.ceil(w+q+1)),O=Math.max(0,Math.floor(D-q-1)),A=Math.min(K,Math.ceil(D+q+1)),m=2*g,i=q*q,e=1/q,S=0;
if(r&&(X==3||X==6))a=-a;var E=f.Ub.ae4(C,a);for(var Z=O;Z<A;Z++)for(var N=c;N<U;N++){var P=Z*g+N,J=P<<1,y=(w-N)*e,o=(D-Z)*e,B=y*y+o*o;
if(B<1){$[S]=P;var t=E[~~(B*1e3)];if(X==1){u[J]=u[J]*(1-t*.05);u[J+1]=u[J+1]*(1-t*.05)}else{var W=0,F=0,Q,T,j,p;
if(X==0){W=x*t;F=H*t}else if(X==2){}else if(X==3){W=t*o;F=-t*y}else if(X==4){W=t*y;F=t*o}else if(X==5){W=-t*y;
F=-t*o}else if(X==6){W=H*t;F=-x*t}var G=u[J],L=u[J+1];if(N==0||N!=g-1&&W<0){Q=1+u[J+2]-G;j=u[J+3]-L}else{Q=G-u[J-2]+1;
j=L-u[J-1]}if(Z==0||Z!=K-1&&F<0){T=u[J+m]-G;p=1+u[J+m+1]-L}else{T=G-u[J-m];p=L-u[J-m+1]+1}u[J]=-(Q*W+T*F-G);
u[J+1]=-(j*W+p*F-L)}S++}}};f.Ub.at6=function(u){var g=u[0],K=u[0],X=u[1],w=u[1];for(var P=0;P<u.length;
P+=2){var D=u[P],q=u[P+1];if(D<g)g=D;else if(D>K)K=D;if(q<X)X=q;else if(q>w)w=q}return[g,X,K,w]};f.amK=function(u,g,K,X,w){function D(Y,jv,iR,cj){return Math.sqrt((Y-iR)*(Y-iR)+(jv-cj)*(jv-cj))}function q(Y,jv){return Y>=0&&Y<g&&jv>=0&&jv<K}function C(Y){if(Y<0)return 0;
if(Y>=g)return g-1;return Y}function a(Y){if(Y<0)return 0;if(Y>=K)return K-1;return Y}function x(P,Y){var jv=Y[3]*(1/255),iR=X[P]+Y[0]*jv;
if(iR>255)iR=255;X[P]=iR;iR=X[P+1]+Y[1]*jv;if(iR>255)iR=255;X[P+1]=iR;iR=X[P+2]+Y[2]*jv;if(iR>255)iR=255;
X[P+2]=iR}function H(Y,jv,iR){if(!M(Y,jv))return;if(iR[3]<0)iR[3]=0;x((jv*g+Y)*4,iR)}function $(Y){var jv=Y.slice(0,3);
jv[3]=0;return jv}var r=g/800;function c(Y){return Math.round(Y*r)}function U(){for(var P=0;P<=300;P++){d[P]=O(P)}}function O(K){var Y=.8,jv=.2,iR=Y*jv,cj=K/60%2-1,j8=iR*(1-cj*cj),as=jv-iR,gW;
if(K<60){gW=[iR+as,j8,0]}else if(K<120){gW=[j8,iR,0]}else if(K<180){gW=[0,iR,j8]}else if(K<240){gW=[0,j8,iR]}else if(K<300){gW=[j8,0,iR]}else{gW=[iR,0,j8]}return[(gW[0]+as)*255,(gW[1]+as)*255,(gW[2]+as)*255]}function A(K){return d[~~K]}function m(Y){return 1-i(Y)}function i(Y){return Y-~~Y}function e(Y,jv,iR,cj){j(Y,jv,iR,0,jv+1,1,cj)}function S(Y,jv,iR,cj,j8,as){j(Y,jv,iR,0,cj,1,j8,as)}function E(Y){for(var P=0;
P<X.length;P+=4){x(P,Y)}}function Z(Y,jv,iR,cj,j8,as,gW,af){N(Y,jv,iR,cj,j8,1,as,gW,af)}function N(Y,jv,iR,cj,j8,as,gW,af,at){if(as==null)as=.5;
if(gW==null)gW=0;if(af==null)af=0;if(at==null)at=!1;var jd=Y.x,fM=Y.y,hS=iR.slice(0),dr=~~(iR[3]*z);
cj=cj*z;if(!at){jv=p(jv);j8=p(j8);gW=p(gW);af=p(af)}var cB=C(jd-jv),b1=C(jd+jv);for(var ic=cB;ic<=b1;
ic++){var dV=ic-jd,eS=Math.floor(Math.sqrt(jv*jv-dV*dV)),a2=a(fM-eS),d3=a(fM);for(var cE=a2;cE<=d3;cE++){var eP=D(ic,cE,jd,fM);
if(eP>jv||eP<=jv-j8)break;var jm=(eP-jv+j8)/j8;hS[3]=dr-cj*(as==1?jm:Math.pow(jm,as));x((cE*g+ic)*4,hS)}a2=a(fM+eS);
for(var cE=a2;cE>d3;cE--){var eP=D(ic,cE,jd,fM);if(eP>jv||eP<=jv-j8)break;var jm=(eP-jv+j8)/j8;hS[3]=dr-cj*(as==1?jm:Math.pow(jm,as));
x((cE*g+ic)*4,hS)}}if(gW>0){j(Y,jv+gW,hS,hS[3],gW,1,0,0,!0)}if(af>0){j(Y,jv-j8,n(iR),-iR[3],af,1,0,0,!0)}}function J(Y,jv,iR,cj,j8,as){j(Y,jv,iR,iR[3],jv+1,1,cj,j8,as)}function y(Y,jv,iR,cj,j8){if(j8==null)j8=!1;
var as=Y.x,gW=Y.y;cj*=z;if(!j8){jv=p(jv);iR=p(iR)}var af=C(as-jv),at=C(as+jv);for(var jd=af;jd<at;jd++){var fM=jd-as,hS=~~Math.sqrt(jv*jv-fM*fM),dr=a(gW-hS),cB=a(gW);
for(var b1=dr;b1<=cB;b1++){var ic=D(jd,b1,as,gW);if(ic>jv||ic<=jv-iR)break;var dV=(jv-ic)/iR,eS=A(300*dV);
eS[3]=cj;x((b1*g+jd)*4,eS)}dr=a(gW+hS);for(var b1=dr;b1>cB;b1--){var ic=D(jd,b1,as,gW);if(ic>jv||ic<=jv-iR)break;
var dV=(jv-ic)/iR,eS=A(300*dV);eS[3]=cj;x((b1*g+jd)*4,eS)}}}function o(V,Y){var jv=V.fO,iR=V.yR,cj=Y.slice(0),j8=Y[3]*z,as=Math.abs(iR.y-jv.y)>Math.abs(iR.x-jv.x);
if(as){var gW=jv.x;jv.x=jv.y;jv.y=gW;gW=iR.x;iR.x=iR.y;iR.y=gW}if(jv.x>iR.x){var gW=jv;jv=iR;iR=gW}var af=iR.x-jv.x,at=iR.y-jv.y,jd=af==0?1:at/af,fM=Math.round(jv.x),hS=jv.y+jd*(fM-jv.x),dr=m(jv.x+.5),cB=fM,b1=~~hS;
if(as){cj[3]=j8*m(hS)*dr;H(b1,cB,cj);cj[3]=j8*i(hS)*dr;H(b1+1,cB,cj)}else{cj[3]=j8*m(hS)*dr;H(cB,b1,cj);
cj[3]=j8*i(hS)*dr;H(cB,b1+1,cj)}var ic=hS-jd;fM=Math.round(iR.x);hS=iR.y+jd*(fM-iR.x);dr=i(iR.x+.5);
var dV=fM,eS=~~hS;if(as){cj[3]=j8*m(hS)*dr;H(eS,dV,cj);cj[3]=j8*i(hS)*dr;H(eS+1,dV,cj)}else{cj[3]=j8*m(hS)*dr;
H(dV,eS,cj);cj[3]=j8*i(hS)*dr;H(dV,eS+1,cj)}if(as){for(var a2=cB+1;a2<=dV-1;a2++){cj[3]=j8*m(ic);H(~~ic,a2,cj);
cj[3]=j8*i(ic);H(~~ic+1,a2,cj);ic+=jd}}else{for(var a2=cB+1;a2<=dV-1;a2++){cj[3]=j8*m(ic);H(a2,~~ic,cj);
cj[3]=j8*i(ic);H(a2,~~ic+1,cj);ic+=jd}}}function B(Y,jv,iR,cj){for(var P=0;P<4;P++){var j8=Y.MI(jv+1.3*P,iR);
o(j8,cj,1)}}function j4(Y,jv){this.x=Math.round(Y);this.y=Math.round(jv)}var t=Math.PI/180;j4.prototype.MI=function(Y,jv){Y=Y*t;
var iR=this.x+jv*Math.cos(Y),cj=this.y+jv*Math.sin(Y);return new W(this.x,this.y,iR,cj)};j4.prototype.a0d=function(Y,jv){Y=Y*t;
var iR=this.O3+jv*Math.cos(Y),cj=this.arN+jv*Math.sin(Y);return new j4(iR,cj)};function W(Y,jv,iR,cj){this.fO=new j4(Y,jv);
this.yR=new j4(iR,cj)}W.prototype.r2=function(Y){var jv=Y*this.fO.x+(1-Y)*this.yR.x,iR=Y*this.fO.y+(1-Y)*this.yR.y;
return new j4(jv,iR)};var F=Z,G=J,L=e,Q=S,T=y,j=N,p=c,M=q,n=$,d=[];U();for(var P=0;P<u.length;P++){X[P]=u[P]}var V=new W(g*w[2],K*w[3],g/2,K/2),z=w[1],I=[];
I[0]=function v(){var Y=[80,40,15,60],iR=0,cj=0;L(V.r2(1.4),260,Y,10);L(V.r2(1),100,[240,50,50,30],30);
G(V.r2(1),60,[255,40,0,40]);var jv=[255,255,255,255];j(V.r2(1),70,jv,jv[3],58,.5);L(V.r2(1),12,jv);jv[3]=40;
F(V.r2(1),150,jv,jv[3],150);for(var P=0;P<40;P++){iR+=Math.random()*25;cj=Math.random()*p(300)+p(100);
var j8=V.r2(1).MI(iR,cj);o(V.r2(1).MI(iR,cj),[110,110,110,30])}G(V.r2(1),130,[255,255,255,8]);var as=[170,30,23,70];
Q(V.r2(1),70,as,1,3,3);var gW=[60,60,130,40];L(V.r2(.47),44,gW,5);L(V.r2(.43),22,gW,3);gW[3]=16;L(V.r2(.53),15,gW,2);
var af=[138,94,42,100];L(V.r2(.2),16,af,2);var at=[130,255,170,180];G(V.r2(0),4,at);G(V.r2(-.25),5,at);
af=[150,90,0,50];F(V.r2(-.45),55,n(af),-af[3],40,2);L(V.r2(-.42),35,af,2);L(V.r2(-.5),15,af,2);T(V.r2(-1.28),145,11,70);
var jd=A(0);jd[3]=50;F(V.r2(-1.28),149,jd,jd[3],4);jd=A(300);jd[3]=50;F(V.r2(-1.28),155-1,n(jd),-jd[3],3);
var fM=[130,130,10,50];Q(V.r2(-1),73,fM,3,2);var hS=[40,130,70,40];F(V.r2(-1),70,n(hS),-hS[3],35);hS=[40,170,60,50];
L(V.r2(-.7),25,hS,4);var hS=[70,110,50,60];F(V.r2(1.3),30,n(hS),-hS[3],11,3);gW=[0,50,210,80];G(V.r2(-.72),20,gW)};
I[1]=function gj(){G(V.r2(1),150,[240,70,70,60]);L(V.r2(1),100,[200,60,60,40],30);var Y=[255,255,255,255],jv=0,iR=0;
j(V.r2(1),75,Y,Y[3],63);L(V.r2(1),12,Y);G(V.r2(1),270,[200,200,200,20],10);for(var P=0;P<10;P++){jv+=10+Math.random()*40;
iR=Math.random()*p(250)+p(80);var cj=V.r2(1).MI(jv,iR);o(cj,[110,110,110,35])}jv=5;iR=100;for(var P=0;
P<12;P++){jv+=30;B(V.r2(1),jv,iR,[90,90,90,40])}var j8=[150,40,23,100];Q(V.r2(1),70,j8,1,3,3);var as=[30,100,60,40];
G(V.r2(-.9),180,[255,255,255,20]);L(V.r2(-.9),140,as,15);var gW=[170,80,25,15];Q(V.r2(-.9),120,gW,1,4,4);
var af=[110,240,190,200];G(V.r2(-.6),3,af);af[3]=100;G(V.r2(-.6),7,af);var at=[230,120,40,85];G(V.r2(-.73),9,at);
var jd=[60,60,190,50];L(V.r2(.3),28,jd,6);jd[3]=25;L(V.r2(.34),20,jd,3)};I[2]=function jA(){var Y=[255,255,255,255],iR=0,cj=0;
L(V.r2(1),13,Y);j(V.r2(1),150,Y,Y[3],137);var jv=[120,80,35,20];L(V.r2(1.4),260,jv,10);for(var P=0;P<40;
P++){iR+=5+Math.random()*30;cj=Math.random()*p(300);o(V.r2(1).MI(iR,cj),[110,110,110,20])}var j8=[10,30,255,30];
L(V.r2(1),70,j8,50);var as=[15,90,170,15];L(V.r2(1.5),60,as);var gW=[220,220,20,50];L(V.r2(-1.15),8,gW,2);
var Y=[255,255,255,40];G(V.r2(-1.18),6,Y);G(V.r2(-1.18),4,Y);gW=[110,110,10,8];F(V.r2(-1.2),32,n(gW),-gW[3],20,3);
var af=[5,0,16,255];for(var P=0;P<4;P++){L(V.r2(-1.36),10,af,3)}var at=[90,200,150,20],jd=at.slice(0);
jd[3]*=2;L(V.r2(-1.32),7,jd,3);L(V.r2(-1.36),7,jd,3);L(V.r2(-1.4),7,jd,3);var Y=[230,230,230,100];G(V.r2(-1.36),2,Y);
Y[3]=3;L(V.r2(-.55),10,Y);gW=[120,100,10,18];L(V.r2(-.55),160,gW,8);L(V.r2(-.55),80,gW,4);at[3]=3;jd[3]=6;
F(V.r2(-.49),13,n(jd),-jd[3],13,2);F(V.r2(-.55),13,n(jd),-jd[3],13,2);at[3]=20;L(V.r2(.15),25,at,3);
gW[3]=100;G(V.r2(-.52),3,gW);gW=[200,200,50,40];L(V.r2(.27),1,gW,4);var fM=[150,40,23,30];F(V.r2(1),80,n(fM),-fM[3],2,1)};
return I[w[0]]()};f.Oi={};f.Oi.ur=function(u){var g=u.length,eJ=u[0].length,K=new Array(eJ);for(var P=0;
P<eJ;P++)K[P]=new Array(g);for(var P=0;P<eJ;P++)for(var X=0;X<g;X++)K[P][X]=u[X][P];return K};f.Oi.tm=function(u,g){var K=u.length,eJ=u[0].length,X=new Array(K);
for(var P=0;P<K;P++)X[P]=new Array(eJ);for(var P=0;P<K;P++)for(var w=0;w<eJ;w++)X[P][w]=u[P][w]-g[P][w];
return X};f.Oi.add=function(u,g){var K=u.length,eJ=u[0].length,X=new Array(K);for(var P=0;P<K;P++)X[P]=new Array(eJ);
for(var P=0;P<K;P++)for(var w=0;w<eJ;w++)X[P][w]=u[P][w]+g[P][w];return X};f.Oi.multiply=function(u,g){var K=u.length,X=u[0].length,eJ=g[0].length;
if(X!=g.length)throw"e";var w=new Array(K);for(var P=0;P<K;P++)w[P]=new Array(eJ);if((X&1)!=0)for(var P=0;
P<K;P++){var D=u[P],q=w[P];for(var C=0;C<eJ;C++){var a=0;for(var x=0;x<X;x++)a+=D[x]*g[x][C];q[C]=a}}else for(var P=0;
P<K;P++){var D=u[P],q=w[P];for(var C=0;C<eJ;C++){var a=0;for(var x=0;x<X;x+=2)a+=D[x]*g[x][C]+D[x+1]*g[x+1][C];
q[C]=a}}return w};f.Oi.kf=function(u,g){var K=u.length,eJ=u[0].length,X=new Array(K);for(var P=0;P<K;
P++){var w=0;for(var D=0;D<eJ;D++)w+=u[P][D]*g[D];X[P]=w}return X};f.Oi.vK=function(u,g){var K=[];for(var P=0;
P<u;P++){K.push([]);for(var X=0;X<g;X++)K[P].push(0)}return K};f.Oi.alO=function(u){for(var P=0;P<u.length;
P++)console.log(JSON.stringify(u[P]))};f.Oi.a0l=function(u){var g=[];for(var P=0;P<u.length;P++)g.push(u[P].join(","));
return"["+g.join(";")+"]"};f.Oi.a3=function(u,g){var K=u.length;for(var X=0;X<K;X++){var w=0,D=Number.NEGATIVE_INFINITY;
for(var P=X;P<K;P++)if(Math.abs(u[P][X])>D){w=P;D=Math.abs(u[P][X])}f.Oi.a3O(u,X,w);for(var P=X+1;P<K;
P++){if(u[X][X]==0)return 1;var q=u[P][X]/u[X][X];for(var C=X;C<K+1;C++)u[P][C]-=u[X][C]*q}}for(var P=K-1;
P>=0;P--){if(u[P][P]==0)return 1;var a=u[P][K]/u[P][P];g[P]=a;for(var C=P-1;C>=0;C--){u[C][K]-=u[C][P]*a;
u[C][P]=0}}return 0};f.Oi.a3O=function(u,g,K){var X=u[g];u[g]=u[K];u[K]=X};f.Oi.a7m=function(u){var g=u.length,K=f.Oi.vK(g,g);
for(var P=0;P<g;P++)K[P][P]=u[P];return K};f.Oi.adF=function(u){var g=u.length,K=u[0].length,X=new Array(g);
for(var P=0;P<g;P++){X[P]=0;for(var w=0;w<K;w++)X[P]+=u[P][w];X[P]/=K}return X};f.Oi.JT=function(u){var g=0;
for(var P=0;P<u.length;P++)g+=u[P]*u[P];return Math.sqrt(g)};f.R$={};f.R$.CB=function(u){var g=~~(u+.5);
return g<0?0:g>255?255:g};f.R$.transform=function(u,g,K){var X=f.R$.CB,w=u.w.length;for(var P=0;P<w;
P++){var D=u.w[P],q=u.A[P],C=u.U[P];g.w[P]=X(K[0]*D+K[1]*q+K[2]*C+K[3]*255);g.A[P]=X(K[4]*D+K[5]*q+K[6]*C+K[7]*255);
g.U[P]=X(K[8]*D+K[9]*q+K[10]*C+K[11]*255)}};f.R$.FL=function(u,g,K){var X=f.R$.CB,w=u.length;for(var P=0;
P<w;P+=4){var D=u[P],q=u[P+1],C=u[P+2];g[P]=X(K[0]*D+K[1]*q+K[2]*C+K[3]*255);g[P+1]=X(K[4]*D+K[5]*q+K[6]*C+K[7]*255);
g[P+2]=X(K[8]*D+K[9]*q+K[10]*C+K[11]*255)}};f.R$.DN=function(u){var g=u[0]+u[1]+u[2],K=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1];
if(g==1){var X=u.indexOf(1);K[X]=K[X+4]=K[X+8]=1}else{K[0]=u[0];K[5]=u[1];K[10]=u[2]}return K};f.R$.Mj=function(u,g,K){return[1,0,0,u,0,1,0,g,0,0,1,K,0,0,0,1]};
f.R$.$a=function(u,g,K){return[u,0,0,0,0,g,0,0,0,0,K,0,0,0,0,1]};f.R$.apf=function(u){return[u[0],u[1],u[2],u[4],u[5],u[6],u[8],u[9],u[10]]};
f.R$.sN=function(u){return[u[0],u[1],u[2],0,u[3],u[4],u[5],0,u[6],u[7],u[8],0,0,0,0,1]};f.R$.EM=function(u,g){return[u[0]*g[0]+u[1]*g[1]+u[2]*g[2]+u[3]*g[3],u[4]*g[0]+u[5]*g[1]+u[6]*g[2]+u[7]*g[3],u[8]*g[0]+u[9]*g[1]+u[10]*g[2]+u[11]*g[3],u[12]*g[0]+u[13]*g[1]+u[14]*g[2]+u[15]*g[3]]};
f.R$.ur=function(u){var g=[];g[0]=u[0];g[1]=u[4];g[2]=u[8];g[3]=u[12];g[4]=u[1];g[5]=u[5];g[6]=u[9];
g[7]=u[13];g[8]=u[2];g[9]=u[6];g[10]=u[10];g[11]=u[14];g[12]=u[3];g[13]=u[7];g[14]=u[11];g[15]=u[15];
return g};f.R$.add=function(u,g){var K=u.slice(0);for(var P=0;P<16;P++)K[P]+=g[P];return K};f.R$.multiply=function(u,g){var K=[];
K[0]=u[0]*g[0]+u[1]*g[4]+u[2]*g[8]+u[3]*g[12];K[1]=u[0]*g[1]+u[1]*g[5]+u[2]*g[9]+u[3]*g[13];K[2]=u[0]*g[2]+u[1]*g[6]+u[2]*g[10]+u[3]*g[14];
K[3]=u[0]*g[3]+u[1]*g[7]+u[2]*g[11]+u[3]*g[15];K[4]=u[4]*g[0]+u[5]*g[4]+u[6]*g[8]+u[7]*g[12];K[5]=u[4]*g[1]+u[5]*g[5]+u[6]*g[9]+u[7]*g[13];
K[6]=u[4]*g[2]+u[5]*g[6]+u[6]*g[10]+u[7]*g[14];K[7]=u[4]*g[3]+u[5]*g[7]+u[6]*g[11]+u[7]*g[15];K[8]=u[8]*g[0]+u[9]*g[4]+u[10]*g[8]+u[11]*g[12];
K[9]=u[8]*g[1]+u[9]*g[5]+u[10]*g[9]+u[11]*g[13];K[10]=u[8]*g[2]+u[9]*g[6]+u[10]*g[10]+u[11]*g[14];K[11]=u[8]*g[3]+u[9]*g[7]+u[10]*g[11]+u[11]*g[15];
K[12]=u[12]*g[0]+u[13]*g[4]+u[14]*g[8]+u[15]*g[12];K[13]=u[12]*g[1]+u[13]*g[5]+u[14]*g[9]+u[15]*g[13];
K[14]=u[12]*g[2]+u[13]*g[6]+u[14]*g[10]+u[15]*g[14];K[15]=u[12]*g[3]+u[13]*g[7]+u[14]*g[11]+u[15]*g[15];
return K};f.R$.CD=function(u){var g=[];g[0]=u[5]*u[10]*u[15]-u[5]*u[14]*u[11]-u[6]*u[9]*u[15]+u[6]*u[13]*u[11]+u[7]*u[9]*u[14]-u[7]*u[13]*u[10];
g[1]=-u[1]*u[10]*u[15]+u[1]*u[14]*u[11]+u[2]*u[9]*u[15]-u[2]*u[13]*u[11]-u[3]*u[9]*u[14]+u[3]*u[13]*u[10];
g[2]=u[1]*u[6]*u[15]-u[1]*u[14]*u[7]-u[2]*u[5]*u[15]+u[2]*u[13]*u[7]+u[3]*u[5]*u[14]-u[3]*u[13]*u[6];
g[3]=-u[1]*u[6]*u[11]+u[1]*u[10]*u[7]+u[2]*u[5]*u[11]-u[2]*u[9]*u[7]-u[3]*u[5]*u[10]+u[3]*u[9]*u[6];
g[4]=-u[4]*u[10]*u[15]+u[4]*u[14]*u[11]+u[6]*u[8]*u[15]-u[6]*u[12]*u[11]-u[7]*u[8]*u[14]+u[7]*u[12]*u[10];
g[5]=u[0]*u[10]*u[15]-u[0]*u[14]*u[11]-u[2]*u[8]*u[15]+u[2]*u[12]*u[11]+u[3]*u[8]*u[14]-u[3]*u[12]*u[10];
g[6]=-u[0]*u[6]*u[15]+u[0]*u[14]*u[7]+u[2]*u[4]*u[15]-u[2]*u[12]*u[7]-u[3]*u[4]*u[14]+u[3]*u[12]*u[6];
g[7]=u[0]*u[6]*u[11]-u[0]*u[10]*u[7]-u[2]*u[4]*u[11]+u[2]*u[8]*u[7]+u[3]*u[4]*u[10]-u[3]*u[8]*u[6];g[8]=u[4]*u[9]*u[15]-u[4]*u[13]*u[11]-u[5]*u[8]*u[15]+u[5]*u[12]*u[11]+u[7]*u[8]*u[13]-u[7]*u[12]*u[9];
g[9]=-u[0]*u[9]*u[15]+u[0]*u[13]*u[11]+u[1]*u[8]*u[15]-u[1]*u[12]*u[11]-u[3]*u[8]*u[13]+u[3]*u[12]*u[9];
g[10]=u[0]*u[5]*u[15]-u[0]*u[13]*u[7]-u[1]*u[4]*u[15]+u[1]*u[12]*u[7]+u[3]*u[4]*u[13]-u[3]*u[12]*u[5];
g[11]=-u[0]*u[5]*u[11]+u[0]*u[9]*u[7]+u[1]*u[4]*u[11]-u[1]*u[8]*u[7]-u[3]*u[4]*u[9]+u[3]*u[8]*u[5];g[12]=-u[4]*u[9]*u[14]+u[4]*u[13]*u[10]+u[5]*u[8]*u[14]-u[5]*u[12]*u[10]-u[6]*u[8]*u[13]+u[6]*u[12]*u[9];
g[13]=u[0]*u[9]*u[14]-u[0]*u[13]*u[10]-u[1]*u[8]*u[14]+u[1]*u[12]*u[10]+u[2]*u[8]*u[13]-u[2]*u[12]*u[9];
g[14]=-u[0]*u[5]*u[14]+u[0]*u[13]*u[6]+u[1]*u[4]*u[14]-u[1]*u[12]*u[6]-u[2]*u[4]*u[13]+u[2]*u[12]*u[5];
g[15]=u[0]*u[5]*u[10]-u[0]*u[9]*u[6]-u[1]*u[4]*u[10]+u[1]*u[8]*u[6]+u[2]*u[4]*u[9]-u[2]*u[8]*u[5];var K=u[0]*g[0]+u[1]*g[4]+u[2]*g[8]+u[3]*g[12];
for(var P=0;P<16;P++)g[P]/=K;return g};f.R$.a0r=function(u){var g=[],K=u[5]*u[10]*u[15]-u[5]*u[14]*u[11]-u[6]*u[9]*u[15]+u[6]*u[13]*u[11]+u[7]*u[9]*u[14]-u[7]*u[13]*u[10],X=-u[4]*u[10]*u[15]+u[4]*u[14]*u[11]+u[6]*u[8]*u[15]-u[6]*u[12]*u[11]-u[7]*u[8]*u[14]+u[7]*u[12]*u[10],w=u[4]*u[9]*u[15]-u[4]*u[13]*u[11]-u[5]*u[8]*u[15]+u[5]*u[12]*u[11]+u[7]*u[8]*u[13]-u[7]*u[12]*u[9],D=-u[4]*u[9]*u[14]+u[4]*u[13]*u[10]+u[5]*u[8]*u[14]-u[5]*u[12]*u[10]-u[6]*u[8]*u[13]+u[6]*u[12]*u[9];
return u[0]*K+u[1]*X+u[2]*w+u[3]*D};f.R$.hG=f.R$.sN([3.1338561,-1.6168667,-.4906146,-.9787684,1.9161415,.033454,.0719453,-.2289914,1.4052427]);
f.R$.a5g=f.R$.sN([1.9624274,-.6105343,-.3413404,-.9787684,1.9161415,.033454,.0286869,-.1406752,1.3487655]);
f.R$.akU=f.R$.CD(f.R$.hG);f.qX={};f.qX.Tl=new Uint32Array(1);f.qX.L1=function(u,g,K,X,w,D){var q=new Uint32Array(u),C=0,a=f.qX.Tl;
if(a.length<g*4)f.qX.Tl=a=new Uint32Array(g*4);var x=new Float64Array(a.buffer);for(var P=0;P<g;P+=2){var H=w[P],$=w[P+1],r=D[P],c=D[P+1];
a[C]=$;x[C+2>>1]=r;a[C+1]=q[H];q[H]=C+1;C+=4;a[C]=H;x[C+2>>1]=c;a[C+1]=q[$];q[$]=C+1;C+=4}return{Ww:a,a6v:x,any:q}};
f.qX.a3=function(u,g,K,X,w,D,q){var C=1,a=f.qX.L1(u,g,K,X,w,D),x=a.Ww,H=a.a6v,$=a.any,r=new Uint32Array(u),c=new f.qX.r$(u),O=1,S=0;
c.push(K);c.push(X);var U=new f.qX.r$(u),A=new Uint8Array(u),m=new Uint32Array(u);A[K]=1;A[X]=2;var i=new Uint32Array(u),e=new Uint32Array(u);
e[K]=e[X]=0;i[K]=i[X]=1;while(!0){var E=-1,t=0,L=1e30;while(!c.xq()&&E==-1){var Z=c.top(),N=A[Z],J=$[Z]-1;
while(J!=-1){var y=x[J],o=A[y],B=J^N-1<<2;if(H[B+2>>1]!=0){if(o==0){f.qX.Jf(Z,J,y,A,m,e,i);c.push(y)}else if(o==N&&i[y]<=i[Z]&&e[y]>e[Z])f.qX.Jf(Z,J,y,A,m,e,i);
else if(o!=N){E=B}}J=x[J+1]-1}if(E!=-1)break;c.pop()}if(E==-1){break}O++;var W=E;while(W!=-1){r[t]=W;
t++;W=m[x[W^4]]-1}var F=t>>1;for(var P=0;P<F;P++){var G=r[P];r[P]=r[t-P-1];r[t-P-1]=G}W=m[x[E]]-1;while(W!=-1){r[t]=W^4;
t++;W=m[x[W^4]]-1}for(var P=0;P<t;P++)L=Math.min(L,H[r[P]+2>>1]);S+=L;if(S>=q)return{Ij:null,ir:S};for(var P=0;
P<t;P++){var Q=r[P],T=Q^4,Z=x[T],y=x[Q];H[Q+2>>1]-=L;H[T+2>>1]+=L;if(H[Q+2>>1]==0&&A[Z]==A[y]){if(A[Z]==1){m[y]=0;
U.push(y)}if(A[Z]==2){m[Z]=0;U.push(Z)}}}while(!U.xq()){var Z=U.pop(),N=A[Z],J=$[Z]-1,j=N==1?4:0,p=0,M=0,n=1e9;
while(J!=-1){var y=x[J],d=J^4,B=J^j;if(A[y]==N&&H[B+2>>1]>0&&f.qX.aaO(y,K,X,m,x,O,i,e)+1<n){p=y;M=d;
n=e[y]+1}J=x[J+1]-1}if(M!=0){f.qX.Jf(p,M,Z,A,m,e,i);continue}J=$[Z]-1;while(J!=-1){var y=x[J],B=J^j;
if(A[y]==N){if(H[B+2>>1]>0){c.push(y)}if(m[y]==J+1){m[y]=0;U.push(y)}}J=x[J+1]-1}A[Z]=0;c.remove(Z)}}var V=[];
for(var P=0;P<g;P+=2){var Z=w[P],y=w[P+1];if(A[Z]==1&&A[y]!=1){V.push(P>>1)}if(A[y]==1&&A[Z]!=1){V.push(g+P>>1)}}return{Ij:V,ir:S}};
f.qX.Jf=function(u,g,K,X,w,D,q){X[K]=X[u];w[K]=g+1;D[K]=D[u]+1;q[K]=q[u]};f.qX.aaO=function(u,g,K,X,w,D,q,C){var a=u,x=X[u]-1,H=0;
while(x!=-1&&q[u]!=D){u=w[x^4];x=X[u]-1;H++}if(x==-1&&u!=g&&u!=K)return 1e9;var $=C[u]+H;H=0;x=X[a]-1;
while(a!=u){C[a]=$-H;H++;q[a]=D;a=w[x^4];x=X[a]-1}return $};f.qX.aag=function(u,g,K,X,w,D){var q=f.qX.L1(u,g,K,X,w,D),C=q.Ww,a=q.a6v,x=q.any,H=0,$=0,r=new Uint32Array(u*2),c=new f.qX.OA(u),U=0;
while(!0){c.reset();c.push(K);for(var P=0;P<u;P++)r[P<<1]=0;while(!c.xq()){var O=c.pop(),A=x[O]-1;while(A!=-1){U=C[A];
if(r[U<<1]==0&&a[A+2>>1]>0&&U!=K){r[U<<1]=O+1;r[(U<<1)+1]=A;c.push(U)}A=C[A+1]-1}if(r[X<<1]!=0){break}}if(r[X<<1]==0){break}var m=1e30;
U=X;while(!0){var i=r[U<<1]-1;if(i==-1)break;var e=r[(U<<1)+1];m=Math.min(m,a[e+2>>1]);U=i}U=X;while(!0){var i=r[U<<1]-1;
if(i==-1)break;var e=r[(U<<1)+1],S=e^4;a[e+2>>1]-=m;a[S+2>>1]+=m;U=i}H+=m}var E=[];for(var P=0;P<g;P+=2){var i=w[P],U=w[P+1];
if((r[i<<1]!=0||i==K)&&r[U<<1]==0&&U!=K){E.push(P>>1)}if((r[U<<1]!=0||U==K)&&r[i<<1]==0&&i!=K){E.push(g+P>>1)}}return{Ij:E,ir:H}};
f.qX.OA=function(u){u|=u>>1;u|=u>>2;u|=u>>4;u|=u>>8;u|=u>>16;this.Kw=new Uint32Array(u+1);this.xV=u;
this.Mf=0;this.Is=0};f.qX.OA.prototype={push:function(u){var g=this.Is;this.Kw[g]=u;this.Is=g+1&this.xV},pop:function(){var u=this.Mf,g=this.Kw[u];
this.Mf=u+1&this.xV;return g},xq:function(){return this.Mf==this.Is},reset:function(){this.Mf=0;this.Is=0}};
f.qX.r$=function(u){u|=u>>1;u|=u>>2;u|=u>>4;u|=u>>8;u|=u>>16;this.Kw=new Uint32Array(u+1);this.SK=new Uint32Array(u+1);
this.xV=u;this.Mf=0;this.Is=0};f.qX.r$.prototype={top:function(){return this.Kw[this.Mf]},aok:function(){return this.Kw[this.Is]},push:function(u){if(this.SK[u]!=0)return;
this.SK[u]=this.Is+1;var g=this.Is;this.Kw[g]=u;this.Is=g+1&this.xV},pop:function(){var u=this.Mf,g=this.Kw[u];
this.SK[g]=0;this.Mf=u+1&this.xV;return g},xq:function(){return this.Mf==this.Is},remove:function(u){var g=this.SK[u]-1;
if(g==-1)return;this.SK[u]=0;if(g==this.Mf){this.pop();return}var K=this.pop();this.Kw[g]=K;this.SK[K]=g+1},cZ:function(P){return P+this.xV+1&this.xV}};
f.qX.qs=function(u,g,K){var X=f.qX.MV(u,g,K);if(g<X-1)f.qX.qs(u,g,X-1);if(X<K)f.qX.qs(u,X,K)};f.qX.MV=function(u,g,K){var X=u[g+K>>>1];
while(g<=K){while(u[g]<X)g++;while(u[K]>X)K--;if(g<=K){f.qX.uF(u,g,K);g++;K--}}return g};f.qX.uF=function(u,g,K){var X=u[g];
u[g]=u[K];u[K]=X};f.b1={};f.b1.a6D=function(u){for(var P=0;P<u.length;P++)f.b1.mS(u,P)};f.b1.mS=function(u,P){u[P].v.keyShapeInvalidated={t:"bool",v:!0}};
f.b1.afd=function(u){for(var P=0;P<u.length;P++)u[P].v.keyOriginIndex.v=P};f.b1.Ph=function(){return{t:"Objc",v:{classID:"null",keyOriginIndex:{t:"long",v:0},keyShapeInvalidated:{t:"bool",v:!0}}}};
f.b1.AC=function(u){u=u.v;var g={Rctn:2,Ln:4,Elps:5},K=g[u.classID],X=u.topLeft?f.b1.Vy(u):null,w=null,D=0,q=[!1,!1,0,0,0];
if(K==4){var C=u.Strt.v,a=u.End.v;w=[C.Hrzn.v.val,C.Vrtc.v.val,a.Hrzn.v.val,a.Vrtc.v.val];D=u.Wdth.v.val;
for(var P=0;P<2;P++){var x=u[P==0?"StrA":"EndA"];if(x==null)continue;x=x.v;q[P]=x.On.v;q[2]=x.Wdth.v;
q[3]=x.Lngt.v;q[4]=x.Cncv.v.val}}if(K==null)return null;return f.b1.R5(K,K==4?null:f.b1.RC(u),X,w,D,q)};
f.b1.Nh=function(u,g,K,X,w,D,q){var C={classID:u,unitValueQuadVersion:{t:"long",v:1}};if(g)f.b1.Pz(C,["Left","Top","Rght","Btom"],g);
if(K)f.b1.Pz(C,["topLeft","topRight","bottomRight","bottomLeft"],K);if(u=="Ln"){C.Strt={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:X[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:X[1]}}}},C.End={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:X[2]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:X[3]}}}},C.Wdth={t:"UntF",v:{type:"#Pxl",val:w}};
for(var P=0;P<2;P++){var a=P==0?"StrA":"EndA";C[a]={t:"Objc",v:{classID:"cArw",On:{t:"bool",v:q[P]},Wdth:{t:"doub",v:q[2]},Lngt:{t:"doub",v:q[3]},Cncv:{t:"UntF",v:{type:"#Prc",val:q[4]}}}}}}if(D)C.Nm={t:"TEXT",v:D};
return{t:"Objc",v:C}};f.b1.Os=function(u,g){var K=f.b1.XM(u),X=u[2]-u[0],w=u[3]-u[1],D=Math.sqrt(X*X+w*w),q=[0,0,D,0,D,g,0,g],C=new eV;
C.rotate(-K);C.translate(u[0],u[1]);f.p.D(q,C,q);return q};f.b1.R5=function(u,g,K,X,w,D){var q=f.b1.Ph(),C=q.v,a;
delete C.keyShapeInvalidated;C.keyOriginType={t:"long",v:u};C.keyOriginResolution={t:"doub",v:75};if(u==4){C.keyOriginLineStart={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:X[0]},Vrtc:{t:"doub",v:X[1]}}};
C.keyOriginLineEnd={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:X[2]},Vrtc:{t:"doub",v:X[3]}}};a=f.b1.Os(X,w);
var x=f.p.pj(a);g=[x.x,x.y,x.x+x.m,x.y+x.n];C.keyOriginLineWeight={t:"doub",v:w};if(D)f.b1.anA(C,D)}else a=[g[0],g[1],g[2],g[1],g[2],g[3],g[0],g[3]];
C.keyOriginBoxCorners={t:"Objc",v:{classID:"null"}};f.b1.Gg(C,"keyOriginBoxCorners",a);var H={classID:"unitRect",unitValueQuadVersion:{t:"long",v:1}};
C.keyOriginShapeBBox={t:"Objc",v:H};f.b1.Bb(C,g);if(K!=null){var $={classID:"radii",unitValueQuadVersion:{t:"long",v:1}};
C.keyOriginRRectRadii={t:"Objc",v:$};f.b1.kh(C,K)}return q};f.b1.D=function(u,g,K,X){var w=f.Q.ES(g),D=f.Q.DD(g);
for(var P=0;P<u.length;P++){var q=u[P].v;if(!f.b1.N4(q))continue;if(K.length!=0&&K.indexOf(P)==-1)continue;
var C=q.keyOriginType.v,a=["keyOriginPolyTrueRectCorners","keyOriginBoxCorners"];for(var x=0;x<a.length;
x++){var H=f.b1.bO(q,a[x]);if(H==null)continue;f.Q.D(g,H);f.b1.Gg(q,a[x],H);var $=f.p.pj(H);f.b1.Bb(q,[$.x,$.y,$.x+$.m,$.y+$.n]);
var r=new eV;r.rotate(-f.b1.XM(H));var c={classID:"Trnf"};q.Trnf={t:"Objc",v:c};var U="xx xy yx yy tx ty".split(" "),O=[r._x,r.U,r.nA,r.kR,r.OR,r.ic];
for(var A=0;A<6;A++)c[U[A]]={t:"doub",v:O[A]}}var H=f.b1.bO(q,"keyOriginBoxCorners"),m=H[2]-H[0],i=H[3]-H[1],e=Math.sqrt(m*m+i*i);
m/=e;i/=e;var S=H[6]-H[0],E=H[7]-H[1],Z=Math.sqrt(S*S+E*E);S/=Z;E/=Z;if(C==4){q.keyOriginLineWeight.v=Z;
var N=f.b1.Ya(q);f.Q.D(g,N);f.b1.avi(q,N)}var J=m*S+i*E;if(Math.abs(J)>.001){f.b1.mS(u,P)}}};f.b1.N4=function(u){var g=u.keyShapeInvalidated,K=u.keyOriginType;
return(g==null||!g.v)&&K!=null&&K.v!=9};f.b1.a0_=function(u){var g=u.keyOriginType.v,K=f.b1.Bh(u),X=K[0],w=K[1],D=K[2],q=K[3],C=new eV,a=u.keyOriginPolyCornerRadius,c;
a=a?a.v:0;var x=f.b1.bO(u,g==7||g==8?"keyOriginPolyTrueRectCorners":"keyOriginBoxCorners"),H=f.b1.cI(x),$=H[2],r=H[3];
X=-$/2;D=$/2;w=-r/2;q=r/2;C.rotate(-f.b1.XM(x));C.OR=H[0];C.ic=H[1];if(g==1||g==2){var U=g==1?0:f.b1.Tr(u);
c=f.J.eQ.Rect(X,w,D-X,q-w,U)}else if(g==4){var O=f.b1.Ya(u),A=f.b1.aso(u);C=new eV;if(A==null)c=f.J.eQ.L7(O[0],O[1],O[2],O[3],u.keyOriginLineWeight.v);
else c=f.J.eQ.l6(O[0],O[1],O[2],O[3],u.keyOriginLineWeight.v,A)}else if(g==5){c=f.J.eQ.tj(X,w,D-X,q-w)}else if(g==7||g==8){var m=g==7?3:u.keyOriginPolySides.v;
c=f.J.eQ.gf(0,0,100,Math.PI/m-Math.PI/2,m,a,D,q)}f.J.Cg(c,C);return c};f.b1.p6=function(u,g){var K=g._;
for(var P=0;P<u.length;P++){var X=u[P].v;if(!f.b1.N4(X))continue;var w=f.b1.a0_(X),D=f.J.Ei(K,P),q=f.J.GA(K,P);
w[2].yk=K[D].yk;var C=K;K=K.slice(0,D);for(var a=2;a<w.length;a++)K.push(w[a]);for(var a=D+q;a<C.length;
a++)K.push(C[a])}g._=K;g.vl=!0};f.b1.xZ=function(u){var g=1e9,K=-g,X=1e9,w=-X,D=[],q=u.f$(),C=q[0],a=q[1];
for(var x=0;x<a.length;x++){var H=C[a[x]],$=H.add.vogk;if($==null)continue;var r=H.add.vmsk.z;for(var c=0;
c<$.length;c++){var U=$[c].v,m=0;if(!f.b1.N4(U))continue;if(a.length==1&&r.length!=0&&r.indexOf(c)==-1)continue;
var O=U.keyOriginType.v;if(O==9)continue;var A=f.b1.Bh(U);g=Math.min(g,A[0]);X=Math.min(X,A[1]);K=Math.max(K,A[2]);
w=Math.max(w,A[3]);var i=f.b1.bO(U,"keyOriginBoxCorners");if(i){var e=f.b1.cI(i),S=e[2],E=e[3];A[2]=A[0]+S;
A[3]=A[1]+E;m=f.b1.XM(i)}var Z=[O,A,m];D.push(Z);if(O==2)Z.push(f.b1.Tr(U));if(O==7||O==8)Z.push(U.keyOriginPolyCornerRadius.v);
if(O==8)Z.push(U.keyOriginPolySides.v)}}return D.length==1?D[0]:[0,g<K?[g,X,K,w]:null,0]};f.b1.XM=function(u){var g=u[2]-u[0],K=u[3]-u[1];
return-Math.atan2(-K,g)};f.b1.atk=function(u,g){var K=f.b1.xZ(u),X=-1;for(var P=0;P<g.length;P++)if(JSON.stringify(g[P])!=JSON.stringify(K[P]))X=P;
if(X==1||X==2){}var w=u.f$(),D=w[0],q=w[1];for(var C=0;C<q.length;C++){var a=D[q[C]],x=a.add.vogk;if(x==null)continue;
var H=a.add.vmsk.z;for(var $=0;$<x.length;$++){var r=x[$].v;if(!f.b1.N4(r))continue;if(q.length==1&&H.length!=0&&H.indexOf($)==-1)continue;
var c=r.keyOriginType.v;if(X==1||X==2){f.b1.D(x,f.b1.a0S(X,r,K,g),H,!1);break}if(X==3)if(c==2)f.b1.kh(r,g[3]);
else r.keyOriginPolyCornerRadius.v=g[3];if(X==4)r.keyOriginPolySides.v=g[4]}}};f.b1.a0S=function(u,g,K,X){var w=X[1],D=K[1],q=(w[2]-w[0])/(D[2]-D[0]),C=(w[3]-w[1])/(D[3]-D[1]),a=new eV;
if(u==1){if(Math.max(Math.abs(q-1),Math.abs(C-1))>1e-8){var x=w[0],H=w[1];if(X[0]!=0){var $=f.b1.bO(g,"keyOriginBoxCorners");
x=$[0];H=$[1]}a.translate(-x,-H);a.rotate(X[2]);a.scale(q,C);a.rotate(-X[2]);a.translate(x,H)}else{a.translate(-D[0],-D[1]);
a.translate(w[0],w[1])}}else{if(X[0]!=0)w=f.b1.Bh(g);var x=(w[0]+w[2])/2,H=(w[1]+w[3])/2;a.translate(-x,-H);
if(K[0]!=0)a.rotate(K[2]);a.rotate(-X[2]);a.translate(x,H)}return f.Q.$D(a)};f.b1.cI=function(u){var g=u[0],K=u[1],X=u[2],w=u[3],D=u[4],q=u[5],C=u[6],a=u[7],x=X-g,H=w-K,$=Math.sqrt(x*x+H*H),x=D-X,H=q-w,r=Math.sqrt(x*x+H*H);
return[(g+D)/2,(K+q)/2,$,r]};f.b1.bO=function(u,g){var K=u[g];if(K==null)return null;var X=[];K=K.v;
for(var w=0;w<4;w++){var D=K["rectangleCorner"+["A","B","C","D"][w]].v;X.push(D.Hrzn.v,D.Vrtc.v)}return X};
f.b1.Gg=function(u,g,K){var X=u[g];if(X==null)return null;X=X.v;for(var w=0;w<4;w++){var D="rectangleCorner"+["A","B","C","D"][w];
X[D]={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:K[2*w]},Vrtc:{t:"doub",v:K[2*w+1]}}}}};f.b1.Bh=function(u){return f.b1.RC(u.keyOriginShapeBBox.v)};
f.b1.RC=function(u){var g=u.classID,K=u.Left.v,X=u.Rght.v,w=u.Top.v,D=u.Btom.v;if(g=="unitRect"||g=="radii"||g=="Rctn"){K=K.val;
X=X.val;w=w.val;D=D.val}return[K,w,X,D]};f.b1.Bb=function(u,g){f.b1.Pz(u.keyOriginShapeBBox.v,["Left","Top","Rght","Btom"],g)};
f.b1.Tr=function(u){return f.b1.Vy(u.keyOriginRRectRadii.v)};f.b1.Vy=function(u){var g=[],K=["topLeft","topRight","bottomRight","bottomLeft"];
for(var X=0;X<4;X++)g.push(u[K[X]].v.val);return g};f.b1.kh=function(u,g){f.b1.Pz(u.keyOriginRRectRadii.v,["topLeft","topRight","bottomRight","bottomLeft"],g)};
f.b1.Pz=function(u,g,K){var X=u.classID;if(X=="unitRect"||X=="radii"||X=="Rctn"){for(var P=0;P<4;P++)if(K[P]!=null)u[g[P]]={t:"UntF",v:{type:"#Pxl",val:K[P]}}}else{for(var P=0;
P<4;P++)if(K[P]!=null)u[g[P]]={t:"doub",v:K[P]}}};f.b1.Ya=function(u){var g=u.keyOriginLineStart.v,K=u.keyOriginLineEnd.v;
return[g.Hrzn.v,g.Vrtc.v,K.Hrzn.v,K.Vrtc.v]};f.b1.avi=function(u,g){var K=u.keyOriginLineStart.v,X=u.keyOriginLineEnd.v;
K.Hrzn.v=g[0];K.Vrtc.v=g[1];X.Hrzn.v=g[2];X.Vrtc.v=g[3]};f.b1.aso=function(u){var g=[],K=["owSt","owEnd","Wdth","Lngth","Conc"];
for(var P=0;P<5;P++){var X=u["keyOriginLineArr"+K[P]];if(X==null)return null;g[P]=X.v}return g};f.b1.anA=function(u,g){u.keyOriginLineArrowSt={t:"bool",v:g[0]};
u.keyOriginLineArrowEnd={t:"bool",v:g[1]};u.keyOriginLineArrWdth={t:"doub",v:g[2]};u.keyOriginLineArrLngth={t:"doub",v:g[3]};
u.keyOriginLineArrConc={t:"long",v:g[4]}};f.b1.ave=function(u){function g(Z,N){return Math.abs(Z-N)<.5}function K(Z,N){return g(Z.x,N.x)&&g(Z.y,N.y)}function X(Z,N,J,y,o,B,t){for(var P=0;
P<t;P++){var W=Z[N+(J+P)%t],F=y[o+(B+P)%t];if(!(K(W.G,F.G)&&K(W.Rw,F.Rw)&&K(W.CL,F.CL)))return!1}return!0}var w=[],D=f.J.nM(u);
for(var q=0;q<D;q++){var C=null,a=f.J.Ei(u,q),x=u[a];if(x.length==4){var H=f.J.bY(u,a+1,4),$=H.x,r=H.y,c=$+H.m,U=r+H.n;
if(H.$()>4){if(f.J.nS(u.slice(a-2,a+5)))C=f.b1.R5(2,[$,r,c,U],[0,0,0,0]);else{var O=-1;for(var P=0;P<4;
P++)if(g(u[a+1+P].G.y,U))O=P;if(O!=-1){var A=f.J.eQ.tj($,r,c-$,U-r),m=X(u,a+1,O,A,3,0,4);if(m)C=f.b1.R5(5,[$,r,c,U])}}}}if(x.length==8){var H=f.J.bY(u,a+1,8),$=H.x,r=H.y,c=$+H.m,U=r+H.n;
if(H.$()>4){var O=-1;for(var P=0;P<8;P++)if(g(u[a+1+(P+1&7)].G.y,r)&&g(u[a+1+(P+2&7)].G.y,r))O=P;if(O!=-1){var i=Math.abs(u[a+1+O].G.y-r),e=[i,i,i,i];
if(i>.5){var A=f.J.eQ.Rect($,r,c-$,U-r,e),m=X(u,a+1,O,A,3,0,8);if(m)C=f.b1.R5(2,[$,r,c,U],e)}}}}w.push(C?C:f.b1.Ph())}return w};
f.p={};f.p.clone=function(u){return{F:u.F.slice(0),v:u.v.slice(0)}};f.p.Gk=function(u){if(u.length<6)return!0;
var g=u.length-4;for(var P=0;P<g;P+=2)if(!f.p.a6(u[P],u[P+1],u[P+2],u[P+3],u[P+4],u[P+5]))return!1;if(!f.p.a6(u[g],u[g+1],u[g+2],u[g+3],u[0],u[1]))return!1;
if(!f.p.a6(u[g+2],u[g+3],u[0],u[1],u[2],u[3]))return!1;return!0};f.p.a6=function(u,g,K,X,w,D){return(g-X)*(w-K)+(K-u)*(D-X)>=0};
f.p.Bz=function(u){var g={},K=null,X=0,w={M:2,L:2,Q:4,C:6},D="",q="";for(var P=0;P<u.F.length;P++){var C=u.F[P];
if(C[0]=="#")D=C;else if(C[0]=="X")D="";else if(C[0]=="O"&&C[1]=="-")q=C;else if(C=="OX")q="";else{var a=D+q;
K=g[a];if(K==null)K=g[a]={v:[],F:[]};K.F.push(C);var x=w[C];if(x==null)x=0;for(var H=0;H<x;H++)K.v.push(u.v[X+H]);
X+=x}}return g};f.p.qJ=function(u,g,K){var X=u[g]-u[K-2],w=u[g+1]-u[K-1];return X*X+w*w<1e-4};f.p.Ic=function(u,g,K){u=f.p.O2(u);
var X=u.v,w=u.F,D=0,q="",C=0,a=0,D=0,$=null;for(var P=0;P<w.length;P++){var x=w[P];if(x=="M"){C=X[D];
a=X[D+1];D+=2;q=x}if(x=="C"){if(q=="Z"){w.splice(P,0,"M");X.splice(D,0,C,a);P--;continue}D+=6;q=x}if(x=="Z"){q=x}}var H=[];
D=0;for(var P=0;P<w.length;P++){var x=w[P];if(x=="M"){$={dQ:D,he:0,aR:!1};H.push($);D+=2}if(x=="C"){$.he++;
D+=6}if(x=="Z"&&$!=null){$.aR=!0}}var r=[];for(var P=0;P<H.length;P++)if(H[P].he!=0)r.push(H[P]);H=r;
for(var P=0;P<H.length;P++){var c=H[P],U=c.dQ,O=U+2+c.he*6,m=0;c.Au=f.p.pj(X,U,O);var A=f.p.qJ(X,U,O);
for(var i=0;i<c.he;i++){var e=U+i*6,S=e+6;m+=(X[S]-X[e])*(X[S+1]+X[e+1])}if(c.he==2){var E=function(gj,jA,Y){var jv=1-Y;
return jv*jv*jv*gj[jA]+3*jv*jv*Y*gj[jA+2]+3*jv*Y*Y*gj[jA+4]+Y*Y*Y*gj[jA+6]},Z=X[U],N=X[U+1],J=X[U+6],y=X[U+7],o=X[U+6],B=X[U+7],t=E(X,U,.5),W=E(X,U+1,.5),F=E(X,U+6,.5),G=E(X,U+7,.5);
m=(t-Z)*(W-N)+(J-t)*(y-W)+(F-J)*(G-y)+(o-F)*(B-G)}if(!A)m+=(X[U]-X[O-2])*(X[U+1]+X[O-1]);c.kC=m<=0}for(var P=0;
P<H.length-1;P++)for(var e=P+1;e<H.length;e++){var L=H[P],Q=H[e];if(Q.Au.kB(L.Au)){H[P]=Q;H[e]=L}}var T=H.length==0?!0:H[0].kC,j=[{type:6},{type:8,all:0}];
for(var P=0;P<H.length;P++){var c=H[P],U=c.dQ,O=U+2+c.he*6,A=f.p.qJ(X,U,O),p=c.aR||A?0:3,M=c.kC==T&&!g?1:0;
if(!g&&P!=0){if(H[P-1].Au.kB(c.Au)&&H[P-1].kC!=c.kC)M=0;for(var e=0;e<H.length;e++)if(e!=P&&H[e].Au.kB(c.Au))M=0}j.push({type:p,length:c.he+(A?0:1),yk:K?1:M,VB:2});
for(var e=0;e<c.he;e++){var D=U+e*6,n=new j4(X[D],X[D+1]),d=new j4(X[D+2],X[D+3]),V;if(e==0){if(A){V=new j4(X[O-4],X[O-3]);
if(j4.uh(V,n)<1e-5)V=n.clone()}else V=n.clone()}else V=new j4(X[D-2],X[D-1]);j.push({type:p+2,Rw:V,G:n,CL:d})}if(!A){var z=new j4(X[O-2],X[O-1]);
j.push({type:p+2,Rw:new j4(X[O-4],X[O-3]),G:z,CL:z.clone()})}}for(var e=0;e<j.length;e++){var I=j[e];
if(I.type>5||I.type==0||I.type==3)continue;var v=I.Rw.$z(I.G)||I.CL.$z(I.CL);if(!v){var L=I.Rw.x*(I.G.y-I.CL.y)+I.G.x*(I.CL.y-I.Rw.y)+I.CL.x*(I.Rw.y-I.G.y);
if(Math.abs(L)<1e-6)v=!0}if(v)I.type--}return j};f.p.ii=function(u,g){var K=f.J.nM(u),X=!1;for(var P=2;
P<u.length;P++){var w=u[P].yk;if(w!=null){if(w==2||w==0||w==3)X=!0}}if((X||g)&&u.length<15e3&&K>1)u=f.J.Jv(u);
var D=f.p.Cs(u);return{Zc:D,ij:X?1:0}};f.p.Cs=function(){function u(X,w,D,q){if(!q&&X.CL.$z(X.G)&&w.Rw.$z(w.G)){D.v.push(w.G.x,w.G.y);
D.F.push("L")}else{var C=X.G,a=X.CL,x=w.Rw,H=w.G,$=3/2*a.x-1/2*C.x,r=3/2*a.y-1/2*C.y,c=3/2*x.x-1/2*H.x,U=3/2*x.y-1/2*H.y,O=c-$,A=U-r;
if(!q&&O*O+A*A<.001){D.v.push(($+c)*.5,(r+U)*.5,H.x,H.y);D.F.push("Q")}else{D.v.push(a.x,a.y,x.x,x.y,H.x,H.y);
D.F.push("C")}}}function g(X,w,P,D,q,C){var a=w[P];X.v.push(a.G.x,a.G.y);X.F.push("M");for(var x=P;x<P+D-1;
x++)u(w[x],w[x+1],X,C);if(!q)u(w[x],w[P],X,C)}function K(X,w){X=f.J.a4r(X);if(w==null)w=!1;var D={v:[],F:[]};
for(var P=0;P<X.length;P++){if(X[P].type>5)continue;var q=X[P].length;if(q==0)continue;if(P==X.length-1)break;
var C=X[P].type==3;g(D,X,P+1,q,C,w);if(!C)D.F.push("Z");P+=q}return D}return K}();f.p.aba=function(u){var g=u.v,K=[],X,w=0;
for(var P=0;P<u.F.length;P++){var D=u.F[P];if(D=="C"){X.push(g[w++],g[w++],g[w++],g[w++],g[w++],g[w++])}else if(D=="Z"){}else{X=[];
if(D!="M"){X.push(D);P++}X.push(g[w++],g[w++]);K.push(X)}}return K};f.p.ZD=function(u,g,K,X){if(X==null)X=1e9;
var w=1e9,D=0;for(var P=0;P<u.length;P+=2){var q=g-u[P],C=K-u[P+1],a=q*q+C*C;if(a<w){w=a;D=P>>>1}}return w<X*X?D:-1};
f.p.B9=function(u,g,K,X){for(var P=0;P<u.length;P+=2){var w=u[P],D=u[P+1],q=g[P],C=g[P+1];K[P]=w+(q-w)*X;
K[P+1]=D+(C-D)*X}};f.p.D=function(u,g,K){for(var P=0;P<u.length;P+=2){var X=u[P],w=u[P+1];K[P]=X*g._x+w*g.nA+g.OR;
K[P+1]=X*g.U+w*g.kR+g.ic}};f.p.pj=function(u,g,K){if(g==null)g=0;if(K==null)K=u.length;var X=99999999999,w=-X,D=99999999999,q=-D;
for(var P=g;P<K;P+=2){var C=u[P],a=u[P+1];X=Math.min(X,C);D=Math.min(D,a);w=Math.max(w,C);q=Math.max(q,a)}return new dS(X,D,w-X,q-D)};
f.p.xt=function(u,g){var K=Math.max(g.x,Math.min(g.x+g.m,u.x)),X=Math.max(g.y,Math.min(g.y+g.n,u.y)),w=u.x-K,D=u.y-X;
return Math.sqrt(w*w+D*D)};f.p.Cf=function(u){if(u.fg())return new dS(Math.floor(u.x),Math.floor(u.y),Math.ceil(u.m),Math.ceil(u.n));
var g=Math.floor(u.x),K=Math.ceil(u.x+u.m),X=Math.floor(u.y),w=Math.ceil(u.y+u.n);return new dS(g,X,K-g,w-X)};
f.p.Ha=function(u){return f.p.Cf(f.p.pj(u))};f.p.JS=function(u){var g=u.x,K=u.y,X=u.x+u.m,w=u.y+u.n;
return{F:["M","L","L","L","Z"],v:[g,K,X,K,X,w,g,w]}};f.p.concat=function(u,g,K){if(K==null)K=new eV;
for(var P=0;P<g.v.length;P+=2){var X=g.v[P],w=g.v[P+1];u.v.push(X*K._x+w*K.nA+K.OR);u.v.push(X*K.U+w*K.kR+K.ic)}for(var P=0;
P<g.F.length;P++)u.F.push(g.F[P])};f.p.O2=function(u){var g=u.v,K=[],X=[],w=0,D=0,q=0,C=0,a=0,x=0,H=0,$=0,r=0,c=0,U=0;
for(var P=0;P<u.F.length;P++){var O=u.F[P];if(O=="M"){D=g[w];q=g[w+1];w+=2;X.push(O);K.push(D,q);c=D;
U=q}else if(O=="C"){C=g[w];a=g[w+1];x=g[w+2];H=g[w+3];$=g[w+4];r=g[w+5];w+=6;X.push(O);K.push(C,a,x,H,$,r);
D=$;q=r}else if(O=="Q"){C=g[w];a=g[w+1];x=g[w+2];H=g[w+3];w+=4;var A=C-D,m=a-q,i=x-C,e=H-a;X.push("C");
K.push(D+2/3*A,q+2/3*m,C+1/3*i,a+1/3*e,x,H);D=x;q=H}else if(O=="L"){C=g[w];a=g[w+1];w+=2;if(C!=D||a!=q){X.push("C");
K.push(D,q,C,a,C,a);D=C;q=a}}else{if(O=="Z"){D=c;q=U}X.push(O)}}return{F:X,v:K}};f.p.a7B=function(u){var g=u.v,K=[],X=[],w=0;
for(var P=0;P<u.F.length;P++){var D=u.F[P];if(D=="Q"){var q=g[w-2],C=g[w-1],a=g[w],x=g[w+1],H=g[w+2],$=g[w+3];
w+=4;var r=a-q,c=x-C,U=H-a,O=$-x;X.push("C");K.push(q+2/3*r,C+2/3*c,a+1/3*U,x+1/3*O,H,$)}else{var A=0;
if(D=="M"||D=="L")A=2;else if(D=="C")A=6;for(var m=0;m<A;m++)K.push(g[w+m]);w+=A;X.push(D)}}return{F:X,v:K}};
f.p.v5=function(u,g){var K=u.v,X=[],w=[],D=0,q=0,C=0,a=0,x=0,H=0,$=0,r=0,c=0;for(var P=0;P<u.F.length;
P++){var U=u.F[P];if(U=="M"){q=K[D];C=K[D+1];D+=2;w.push(U);X.push(q,C)}else if(U=="C"){a=K[D];x=K[D+1];
H=K[D+2];$=K[D+3];r=K[D+4];c=K[D+5];D+=6;f.p.UM(q,C,a,x,H,$,r,c,g,w,X,0);q=r;C=c}else w.push(U)}return{F:w,v:X}};
f.p.UM=function(u,g,K,X,w,D,q,C,a,x,H,$){var r=Math.sqrt((q-u)*(q-u)+(C-g)*(C-g)),c=Math.sqrt((q-w)*(q-w)+(C-D)*(C-D))+Math.sqrt((w-K)*(w-K)+(D-X)*(D-X))+Math.sqrt((K-u)*(K-u)+(X-g)*(X-g)),U=(r+c)/2;
if(U<=a){x.push("C");H.push(K,X,w,D,q,C)}else{var O=0,A=0,m=0,i=0,e=0,S=0,E=0,Z=0,N=0,J=0,y=0,o=0,B=0;
A=(u+K)/2;m=(g+X)/2;i=(K+w)/2;e=(X+D)/2;S=(w+q)/2;E=(D+C)/2;Z=(A+i)/2;N=(m+e)/2;J=(i+S)/2;y=(e+E)/2;
o=(Z+J)/2;B=(N+y)/2;f.p.UM(u,g,A,m,Z,N,o,B,a,x,H,$+1);f.p.UM(o,B,J,y,S,E,q,C,a,x,H,$+1)}};f.p.Pb=function(u,g,K,X,w){var D=Date.now(),q=f.p.acy(u,g,K);
if(w){console.log("trace polygons",Date.now()-D);D=Date.now()}var C=[];for(var P=0;P<q.length;P++){var a=q[P],x=a[0],H=["M"],$=u[x[1]*g+x[0]];
if(x.length>8)x=f.p.bF(x,X,a[1]);if(x.length<=4)continue;for(var r=2;r<x.length;r+=2)H.push("L");H.push("Z");
C.push({path:{v:x,F:H},color:$,parent:-1,Au:f.p.pj(x)})}if(w){console.log("simplify polygons",Date.now()-D);
D=Date.now()}for(var P=1;P<C.length;P++){var c=C[P],U=c.path.v,O=U[0],A=U[1],m=U[2],i=U[3],e=m-O,S=i-A,E=O+.5*e-.001*S,Z=A+.5*S+.001*e;
for(var r=P-1;r>=0;r--){var N=C[r];if(!N.Au.kB(c.Au))continue;if(!eo.hf(N.path.v,E,Z))continue;c.parent=r;
break}}if(w){console.log("checking parents",Date.now()-D);D=Date.now()}return C};f.p.acy=function(u,g,K){var X=g*K,w=new Uint16Array(g*K),q=0;
for(var P=0;P<X;P++)w[P]=u[P];var D=new Uint8Array(g*K);D[1*g+1]=D[(K-1)*g+1]=D[1*g+g-1]=D[(K-1)*g+g-1]=1;
for(var C=1;C<K;C++)for(var a=1;a<g;a++){var P=C*g+a,x=w[P-g-1],H=w[P-g],$=w[P-1],r=w[P],c=x==r&&H==$&&x!=H,U=0;
if(r<$){q=r;r=$;$=q}if($<H){q=$;$=H;H=q}if(H<x){q=H;H=x;x=q}if(r<$){q=r;r=$;$=q}if($<H){q=$;$=H;H=q}if(r<$){q=r;
r=$;$=q}if(x!=H)U++;if(H!=$)U++;if($!=r)U++;if(r!=x)U++;if(U>=3||c)D[P]=1}var O=[];for(var C=1;C<K;C++)for(var a=1;
a<g;a++){var P=C*g+a;if(w[P]!=w[P-1]){var A=f.p.a7p(w,g,K,a,C),m=[];for(var i=0;i<A.length;i+=2)if(D[A[i+1]*g+A[i]]==1)m.push(i>>>1);
O.push([A,m]);f.p.uk(w,g,K,a,C)}}return O};f.p.uk=function(u,g,K,X,w){var D=[w*g+X],q=u[w*g+X];u[w*g+X]=65535;
while(D.length!=0){var P=D.pop();u[P]=0;if(u[P+g]==q){D.push(P+g);u[P+g]=65535}if(u[P-g]==q){D.push(P-g);
u[P-g]=65535}if(u[P-1]==q){D.push(P-1);u[P-1]=65535}if(u[P+1]==q){D.push(P+1);u[P+1]=65535}}};f.p.a7p=function(u,g,K,X,w){var D=[0,-1,1,0,0,1,-1,0],H=1;
function q(r,c,H){var P=x*g+a,U=0;if(H==0)U=P-g;else if(H==1)U=P;else if(H==2)U=P-1;else if(H==3)U=P-g-1;
return u[U]}var C=[],a=X,x=w,$=q(a,x,H);do{C.push(a,x);a+=D[H*2];x+=D[H*2+1];if(q(a,x,H)!=$)H=H+1&3;
else if(q(a,x,H+3&3)!=$)H=H;else if(q(a,x,H+2&3)!=$)H=H+3&3}while(a!=X||x!=w);return C};f.p.bF=function(u,g,K){var X=u.length-2;
if(K&&K.length!=0){var w=K[0]*2,D=K[K.length-1]*2,q=w==0?X:w-2,C=u.slice(D);for(var P=0;P<w;P++)C.push(u[P]);
if(w==D)C.push(.9*u[w]+.1*u[q],.9*u[w+1]+.1*u[q+1]);else C.push(u[w],u[w+1]);C=f.p.vt(C,g);C.pop();C.pop();
for(var P=0;P<K.length-1;P++){var a=u.slice(K[P]*2,K[P+1]*2+2);a=f.p.vt(a,g);for(var x=0;x<a.length-2;
x++)C.push(a[x])}return C}var H=u.slice(0);H.push(.9*u[0]+.1*u[X],.9*u[1]+.1*u[X+1]);H=f.p.vt(H,g);H.pop();
H.pop();return H};f.p.vt=function(u,g){var K=u.length-2,X=u[0],w=u[1],D=u[K],q=u[K+1],C=D-X,a=q-w,x=1/Math.sqrt(C*C+a*a),H=D*w-q*X,$=-1,r=-1,c=0;
for(var P=2;P<K;P+=2){var U=u[P],O=u[P+1],A=O*O*1e6+U*U,m=Math.abs(a*U-C*O+H)*x;if(m>r||m==r&&A>c){r=m;
$=P;c=A}}if(r<g)return[X,w,D,q];var i=f.p.vt(u.slice(0,$+2),g),e=f.p.vt(u.slice($),g);for(var P=2;P<e.length;
P++)i.push(e[P]);return i};f.p.a6B=function(){var u=function(X,w,D,q,C,a){return(w-q)*(C-D)+(D-X)*(a-q)>=0},g=function(X,w,D,q,C,a,x,H){var $=x-D,r=H-q,c=C-D,U=a-q,O=X-D,A=w-q,m=$*$+r*r,i=$*c+r*U,e=$*O+r*A,S=c*c+U*U,E=c*O+U*A,Z=1/(m*S-i*i),N=(S*e-i*E)*Z,J=(m*E-i*e)*Z;
return N>=0&&J>=0&&N+J<1},K=function(X){var eJ=X.length>>>1,P=0;if(eJ<3)return[];var w=[],D=[];for(var P=0;
P<eJ;P++)D.push(P);var q=eJ;while(q>3){var C=D[(P+0)%q],a=D[(P+1)%q],x=D[(P+2)%q],H=X[2*C],$=X[2*C+1],r=X[2*a],c=X[2*a+1],U=X[2*x],O=X[2*x+1],A=!1;
if(u(H,$,r,c,U,O)){A=!0;for(var m=0;m<q;m++){var i=D[m];if(i==C||i==a||i==x)continue;if(g(X[2*i],X[2*i+1],H,$,r,c,U,O)){A=!1;
break}}}if(A){w.push(C,a,x);D.splice((P+1)%q,1);q--;P=0}else if(P++>3*q)break}w.push(D[0],D[1],D[2]);
return w};return K}();f.p.anU=function(u,g){var K={},X={F:[],v:[]};for(var P=0;P<g.length;P+=3){var w=g[P]*2,D=g[P+1]*2,q=g[P+2]*2;
f.p.EO(u,w,D,X,K);f.p.EO(u,w,q,X,K);f.p.EO(u,D,q,X,K)}return X};f.p.EO=function(u,g,K,X,w){if(g>K){var D=K;
K=g;g=D}if(w[g+","+K])return;w[g+","+K]=!0;X.F.push("M","L");X.v.push(u[g],u[g+1],u[K],u[K+1])};f.p.W_=function(u,g){var K=[],X=u.length;
for(var P=0;P<X;P+=2){var w=u[P],D=u[P+1],q=u[(P+2)%X],C=u[(P+3)%X];if(C<D){var a=D;D=C;C=a}if(D<g&&g<C){var x=(g-D)/(C-D);
K.push(w+x*(q-w))}}K.sort(function(H,$){return H-$});return K};f.p._K=function(u,g,K,X,w,D,q){var C=u-K,a=g-X,x=w-K,H=D-X,$=1/Math.sqrt(C*C+a*a),r=1/Math.sqrt(x*x+H*H),c=C*$,U=a*$,O=x*r,A=H*r,m=U*q,i=-c*q,e=-A*q,S=O*q,E=f.p.C7(m,i,c,U,e,S,O,A),Z=m+c*E,N=i+U*E,E=f.p.C7(0,0,c,U,Z,N,-U,c),J=c*E,y=U*E;
return[Math.sqrt(J*J+y*y),c,U,O,A]};f.p.a6S=function(u,g,K,X,w,D,q){var C=f.p._K(u,g,K,X,w,D,q),a=C[0],x=C[1],H=C[2],$=C[3],r=C[4],c=Math.atan2(x*r-H*$,x*$+H*r);
if(c<0){c=c*-1}var U=Math.PI-c,O=4/3*Math.tan(U/4),A=K+a*x,m=X+a*H,i=K+a*$,e=X+a*r,S=A+O*q*-x,E=m+O*q*-H,Z=i+O*q*-$,N=e+O*q*-r;
return[0,0,A,m,S,E,Z,N,i,e]};f.p.C7=function(u,g,K,X,w,D,q,C){var a=q*(g-D)-C*(u-w),x=C*K-q*X;if(x==0)return 0;
return a/x};f.p.a3X=function(u,g,K,X,w,D){return u*(X-D)+K*(D-g)+w*(g-X)};f.p.ahe=function(u){function g(F,G,L,Q,T,j,p,M,n){var d=f.p.C7(F,G,L,Q,T,j,p,M);
n.push(F+L*d,G+Q*d)}var K=[],X=u.length,w=[];for(var P=0;P<X;P+=2){var D=P==0?X-2:P-2,q=P==X-2?0:P+2,C=u[P],a=u[P+1],x=C-u[D],H=a-u[D+1],$=u[q]-C,r=u[q+1]-a,c=Math.sqrt(x*x+H*H),U=Math.sqrt($*$+r*r);
w.push(U);var O=c/(c+U),A=C-x*.5,m=a-H*.5,i=C+$*.5,e=a+r*.5,S=(u[q]+u[D])*.5,E=(u[q+1]+u[D+1])*.5,Z=A+O*(i-A),N=m+O*(e-m),J=C-Z,y=a-N,o=($*-x+r*-H)/(c*U),B=(O-.5)*7,t=1+B*O,W=1-B*(1-O);
K.push(A+J*t,m+y*t,i+J*W,e+y*W)}return K};f.Z3=function(){};f.Z3.HX=function(u,g,K,X,w){var D=K.m,q=K.n,C=D*q,a=new Int32Array(C),eJ=0;
for(var P=0;P<C;P++)if(g[P]!=0){a[P]=eJ;eJ++}else if(u[(P<<2)+3]<200){a[P]=-2}else a[P]=-1;if(eJ==0)return;
var x=new f.$p(eJ,eJ),H=new Array(3*eJ),$=new Array(3*eJ);for(var P=0;P<$.length;P++)$[P]=H[P]=0;var r=1/255,c=[-D,-1,1,D],U=[],O=[];
for(var A=0;A<q;A++)for(var m=0;m<D;m++){var i=A*D+m,e=i<<2,P=a[i],S=P*3,E=0,Z=0,N=0;if(P==-1||P==-2)continue;
for(var J=0;J<4;J++){if(J==2){Z=N;U[N]=0;O[N]=P;N++}var y=i+c[J],o=y<<2,B=a[y];if(J==0&&A==0||J==1&&m==0||J==2&&m==D-1||J==3&&A==q-1||B==-2)continue;
E++;if(B==-1){H[S+0]+=u[o+0];H[S+1]+=u[o+1];H[S+2]+=u[o+2]}else{U[N]=-1;O[N]=B;N++;if(g[i]==g[y]){H[S+0]+=u[e+0]-u[o+0];
H[S+1]+=u[e+1]-u[o+1];H[S+2]+=u[e+2]-u[o+2]}}}U[Z]=E;x.wp(U,O,N)}for(var P=0;P<C;P++)if(a[P]!=-1){var t=P<<2,W=a[P],F=W*3;
$[F]=u[t+0];$[F+1]=u[t+1];$[F+2]=u[t+2]}var G=Date.now();x.awP($,H,X,w);console.log(Date.now()-G);for(var P=0;
P<C;P++){var W=a[P],L=W*3,t=P<<2;if(W==-1||u[t+3]!=255)continue;u[t+0]=~~(.5+Math.max(0,Math.min(255,$[L+0])));
u[t+1]=~~(.5+Math.max(0,Math.min(255,$[L+1])));u[t+2]=~~(.5+Math.max(0,Math.min(255,$[L+2])))}};f.rect={};
f.rect.xI=function(u,g){var K=[u],X=[];for(var P=0;P<g.length;P++){var w=g[P],D=!1;for(var q=P+1;q<g.length;
q++){var C=g[q];if(C[0]<=w[0]&&C[1]<=w[1]&&w[2]<=C[2]&&w[3]<=C[3]){D=!0;break}}if(!D)X.push(w)}g=X;for(var P=0;
P<g.length;P++){var w=g[P];for(var q=0;q<K.length;q++){var C=K[q],a=Math.max(w[0],C[0]),x=Math.min(w[2],C[2]),H=Math.max(w[1],C[1]),$=Math.min(w[3],C[3]);
if(a<x&&H<$){var r=[];if(C[1]<w[1]){var c=C.slice(0);c[3]=w[1];r.push(c)}if(C[0]<w[0]){var U=C.slice(0);
U[1]=H;U[2]=w[0];r.push(U)}if(w[2]<C[2]){var O=C.slice(0);O[1]=H;O[0]=w[2];r.push(O)}if(w[3]<C[3]){var A=[a,$,x,C[3]];
r.push(A)}if(r.length!=0){K[q]=r[0];for(var m=1;m<r.length;m++)K.push(r[m])}}}K.push(w);K=f.rect.anM(K)}K.sort(function(w,C){return w[1]!=C[1]?w[1]-C[1]:w[0]-C[0]});
for(var P=1;P<K.length;P++){var w=K[P-1],C=K[P];if(w[0]==C[0]&&w[1]==C[1]&&w[2]==C[2]&&w[3]==C[3]){K.splice(w[4]==null?P-1:P,1);
P--}}return K};f.rect.anM=function(u){u=u.slice(0);for(var P=0;P<u.length;P++){var g=u[P],K=null;if(g[4]!=null)continue;
for(var X=0;X<u.length;X++){var w=u[X];if(P==X||w[4]!=null)continue;var D=g[0]==w[0],q=g[1]==w[1],C=g[2]==w[2],a=g[3]==w[3];
if(q&&a&&(g[2]==w[0]||g[0]==w[2])){K=[Math.min(g[0],w[0]),g[1],Math.max(g[2],w[2]),g[3]]}if(D&&C&&(g[3]==w[1]||g[1]==w[3])){K=[g[0],Math.min(g[1],w[1]),g[2],Math.max(g[3],w[3])]}if(K){u[P]=K;
u.splice(X,1);break}}if(K){P--}}return u};f.rect.pO=function(u){var g=new dS;for(var P=0;P<u.length;
P++)g=g.RN(u[P]);return g};f.rect.av1=function(u,g){var K=f.rect.pO,X=new UnionFind(u.length),Z=1e3,N=1e3;
for(var P=0;P<u.length;P++)for(var w=P+1;w<u.length;w++){if(!g)continue;var D=u[P],q=u[w],$=1e9,r=1e9;
if(D.Vg(q)){X.link(P,w);continue}var C=D.x+D.m,a=D.y+D.n,x=q.x+q.m,H=q.y+q.n;if((C<q.x||x<D.x)&&(a<q.y||H<D.y))continue;
if(!(a<q.y||H<D.y))$=Math.min(Math.abs(C-q.x),Math.abs(D.x-x));if(!(C<q.x||x<D.x))r=Math.min(Math.abs(a-q.y),Math.abs(D.y-H));
var c=Math.min($,r),U=Math.min(D.m,D.n,q.m,q.n);if(c<.3*U)X.link(P,w)}var O=[],A={};for(var P=0;P<u.length;
P++){var m=X.find(P),i=u[P];if(A[m]==null){A[m]=O.length;O.push([])}O[A[m]].push(i)}var e=[],S=[];for(var P=0;
P<O.length;P++){e.push(K(O[P]));var E=K(O[P]);E.cZ=P;S.push(E)}S.sort(function(Q,T){return Math.max(T.n,T.m)-Math.max(Q.n,Q.m)});
var J=new NETXUS.RectanglePacker(Z,N);while(!0){var y=!1;J.reset(Z,N);for(var P=0;P<S.length;P++){var o=J.findCoords(S[P].m,S[P].n);
if(o){S[P].x=o.x;S[P].y=o.y}else{Z=Math.floor(Z*1.1);N=Math.floor(N*1.1);y=!0;break}}if(y)continue;break}for(var P=0;
P<O.length;P++){var B=S[P],t=B.cZ,W=e[t],F=O[t],G=B.x-W.x,L=B.y-W.y;for(var w=0;w<F.length;w++)F[w].offset(G,L)}};
f.Xx=function(){};f.Xx.Wo=Math.floor(16*window.devicePixelRatio);f.Xx.pl={};f.Xx.LR=0;f.Xx.TD=[[12,76,2],[12,76,3],[12,76,4],[12,76,5],[12,76,6]];
f.Xx.a1e=["px","in","cm","mm","%"];f.Xx.KJ=function(u,g,K,X){var w=[1,g,g/2.54,g/25.4,K/100][X];return u*w};
f.Xx.a6X=function(u,g,K,X){var w=[1,g,g/2.54,g/25.4,K/100][X];return u/w};f.Xx.FZ=function(u,g,K,X,w){var D=K.Pk.TQ,q=[1,g,g/2.54,g/25.4,X/100][D],C=[2,3,2,1,2][D];
u=u/q;var a=Math.round(u),x=D==0&&Math.abs(u-a)<1e-6?a+"":u.toFixed(C);if(w)x+=" "+f.Xx.a1e[D];return x};
f.Xx.ag8=function(u,g,K,X){var w=K.Pk.TQ,D=[1,g,g/2.54,g/25.4,X/100][w];u=parseFloat(u)*D;return u};
f.Xx.a4m=function(u,g){var K=u+","+g;if(f.Xx.pl.clr==K)return;var X=Math.round(f.Xx.Wo*.5);f.Xx.LR=X;
var w=document.createElement("canvas");w.width=w.height=X;var D=w.getContext("2d");D.font=X*1.5+"px monospace";
var q="0 1 2 3 4 5 6 7 8 9 -".split(" ");for(var P=0;P<q.length;P++){D.fillStyle="#"+f.ae(g);D.fillRect(0,0,X,X);
D.fillStyle="#"+f.ae(u);D.fillText(q[P],0,X);f.Xx.pl[q[P]]=D.getImageData(0,0,X,X).data}f.Xx.pl.clr=K};
f.Xx.aii=function(u,g,K){var X=0,w=0,D=4*f.Xx.Wo;for(var P=9;P>=0;P--){var q=Math.pow(10,P);if(5*q*u<=D){X=5*q;
w=10;break}if(2*q*u<=D){X=2*q;w=4;break}if(1*q*u<=D){X=1*q;w=10;break}}if(X==0){X=1;w=10}var C=Math.ceil(X*u),a=f.L(C*f.Xx.Wo*4);
f.D4(a,4278190080|K);for(var P=0;P<f.Xx.Wo;P++)f.Xx.fp(a,4*P*C,g);for(var P=0;P<C;P++)f.Xx.fp(a,4*((f.Xx.Wo-1)*C+P),g);
if(X==2)w=2;if(X==5)w=5;if(X>1||X==1&&C>20)for(var P=1;P<w;P++)f.Xx.abT(a,P*(C/w),C,(P&1)==1?.8:.7,g);
return{Wf:a,step:X}};f.Xx.abT=function(u,g,K,X,w){var g=Math.round(g);for(var D=Math.round(f.Xx.Wo*X);
D<f.Xx.Wo-1;D++)f.Xx.fp(u,4*(D*K+g),w)};f.Xx.fp=function(u,g,K){u[g+0]=K>>16&255;u[g+1]=K>>8&255;u[g+2]=K&255};
f.Xx.ahP=function(u,g,K,X,w,D,q){var C=u.Aj.m,a=u.Aj.n,x=f.Xx.Wo,H=g&255,$=g>>8&255,r=g>>16&255;g=Math.round(H*.6)<<16|Math.round($*.6)<<8|Math.round(r*.6);
f.Xx.a4m(Math.round(H*.8)<<16|Math.round($*.8)<<8|Math.round(r*.8),K);var c=u.P,U=u.u,O=u.w0;for(var A=0;
A<2;A++){var m=A==0?D:q;u.P=m[0];u.u=m[1];u.w0=0;var i=this.aii(u.P,g,K),e=u.wQ(0,0),S=u.wQ(C,a),E=Math.floor(e.x/i.step)*i.step,Z=Math.ceil(S.x/i.step)*i.step,N=Math.floor(e.y/i.step)*i.step,J=Math.ceil(S.y/i.step)*i.step,y=u.h5(E,N),o=u.h5(Z,N),B=i.step*u.P,t=Math.ceil(B);
if(A==1){var W=i.Wf;i.Wf=f.L(W.length*4);f.Q.ur(W,i.Wf,t,x)}var F=A==0?u.qg.data:u.tH.data,G=new dS(0,0,[C,x][A],[x,a][A]),L=new dS(0,0,[t,x][A],[x,t][A]),Q=new dS([0,Math.round(x*.2)][A],[Math.round(x*.08),0][A],f.Xx.LR,f.Xx.LR),T=(A==0?Z-E:J-N)/i.step;
for(var P=0;P<T;P++){if(A==0)L.x=Math.round(y.x+P*B);else L.y=Math.round(y.y+P*B);f.bV(i.Wf,L,F,G,L);
var j=(A==0?E+P*i.step:Math.abs(N+P*i.step)).toString(10);for(var p=0;p<j.length;p++){if(A==0)Q.x=L.x+3+p*Math.round(f.Xx.LR*.8);
else Q.y=L.y+3+p*Math.round(f.Xx.LR*1.15);var M=f.Xx.pl[j[p]];f.bV(M,Q,F,G,Q)}}}u.P=c;u.u=U;u.w0=O;var n=Math.floor(x*.6),d=new Uint32Array(u.qg.data.buffer),V=new Uint32Array(u.tH.data.buffer),z=H<128?4278190080:4294967295;
if(0<X&&X<C)for(var P=0;P<n;P++)d[P*C+X]=z;if(0<w&&w<a)for(var P=0;P<n;P++)V[w*x+P]=z};f.scale={};f.scale.I=document.createElement("canvas");
f.scale.CG=f.scale.I.getContext("2d");f.scale.Za=document.createElement("canvas");f.scale.oX=f.scale.Za.getContext("2d");
f.scale.n5=function(u,g,K){var X=f.scale.I,w=f.scale.CG;X.width=g;X.height=K;var D=new ImageData(new Uint8ClampedArray(u.buffer),g,K);
w.putImageData(D,0,0);return w.createPattern(X,"repeat")};f.scale.AR=function(u,g,K,X,w,D,q,C,a){var x=f.scale.a0n(u,K,X,w,D,q,C,a).data;
if(g)f.me(x,g);return new Uint8Array(x.buffer)};f.scale.a0n=function(u,g,K,X,w,D,q,C){var a=f.scale.I,x=f.scale.CG;
a.width=g;a.height=K;x.rect(0,0,g,K);x.translate(D,q);x.scale(X,w);if(C!=null)x.rotate(-C);x.fillStyle=u;
x.fill();return x.getImageData(0,0,g,K)};f.scale.D=function(u,g,K,X,w){var D=K.clone();D.CD();var q=w.m,C=w.n,a=f.p.JS(g).v;
f.p.D(a,D,a);var x=f.p.Ha(a).I3(w),H=x.x,$=x.y,r=H+x.m,c=$+x.n,U=~~g.x,O=~~g.y,A=~~g.m,m=~~g.n;for(var i=$;
i<c;i++)for(var e=H;e<r;e++){var S=e+.5,E=i+.5,Z=K._x*S+K.nA*E+K.OR-U,N=K.U*S+K.kR*E+K.ic-O;if(0<=Z&&0<=N&&Z<A&&N<m)X[i*q+e]=u[~~N*A+~~Z]}};
f.scale.pM=function(u,g,K,X,w,D){var q=new Uint32Array(u.buffer),C=new Uint32Array(X.buffer),a=K.clone();
a.CD();var x=w.m,H=w.n,$=f.p.JS(g).v;f.p.D($,a,$);var r=D?w:f.p.Ha($).I3(w),c=r.x,U=r.y,O=c+r.m,A=U+r.n,m=~~g.x,i=~~g.y,e=~~g.m,S=~~g.n;
for(var E=U;E<A;E++)for(var Z=c;Z<O;Z++){var N=Z+.5,J=E+.5,y=K._x*N+K.nA*J+K.OR-m,o=K.U*N+K.kR*J+K.ic-i;
if(D){y=((e<<10)+y)%e;o=((S<<10)+o)%S}if(0<=y&&0<=o&&y<e&&o<S)C[E*x+Z]=q[~~o*e+~~y]}};f.scale.Zm=function(u,g,K,X,w,D,q){if(q<1)f.scale.aoK(u,g,K,X,w,D,Math.round(1/q));
else f.scale.a0a(u,g,K,X,w,D,q)};f.scale.wm=function(u,g,K,X,w,D,q,C){if(C)C=C.I3(new dS(0,0,g,K));u=new Uint32Array(u.buffer);
X=new Uint32Array(X.buffer);if(q<1)f.scale.a0T(u,g,K,X,w,D,Math.round(1/q),C);else f.scale.ajc(u,g,K,X,w,D,q)};
f.scale.a0a=function(u,g,K,X,w,D,q){for(var C=0;C<K;C++)for(var a=0;a<g;a++){var x=u[C*g+a],H=Math.min(q,w-a*q),$=Math.min(q,D-C*q);
for(var P=0;P<$;P++)for(var r=0;r<H;r++)X[(q*C+P)*w+q*a+r]=x}};f.scale.aoK=function(u,g,K,X,w,D,q){for(var C=0;
C<D;C++)for(var a=0;a<w;a++){var x=0,H=Math.min(q,g-a*q),$=Math.min(q,K-C*q);for(var P=0;P<$;P++)for(var r=0;
r<H;r++)x+=u[(q*C+P)*g+(q*a+r)];X[C*w+a]=Math.round(x/(H*$))}};f.scale.ajc=function(u,g,K,X,w,D,q){for(var C=0;
C<K;C++)for(var a=0;a<g;a++){var x=u[C*g+a],H=Math.min(q,w-a*q),$=Math.min(q,D-C*q);for(var P=0;P<$;
P++)for(var r=0;r<H;r++)X[(q*C+P)*w+q*a+r]=x}};f.scale.a76=function(u,g,K){return(u>>>K&255)+(g>>>K&255)>>>1};
f.scale._3=function(u,g){var K=f.scale.a76;return K(u,g,24)<<24|K(u,g,16)<<16|K(u,g,8)<<8|K(u,g,0)};
f.scale.aki=function(u,g,K,X,w,D){var q=new Uint32Array(u.buffer),C=new Uint32Array(X.buffer);for(var a=0;
a<K;a++){for(var x=0;x<g;x++){var H=a*g+x,$=q[H],r=$,c=$,U=$;if(x<g-1)r=f.scale._3($,q[H+1]);if(a<K-1)c=f.scale._3($,q[H+g]);
if(x<g-1&&a<K-1)U=f.scale._3($,q[H+g+1]);var O=(a*w+x)*2;C[O]=$;C[O+1]=r;C[O+w]=c;C[O+w+1]=U}}if((w&1)==1)for(var a=0;
a<D;a++)C[a*w+w-1]=C[a*w+w-2];var A=w*(D-1);if((D&1)==1)for(var x=0;x<w;x++)C[A+x]=C[A-w+x]};f.scale.a0T=function(u,g,K,X,w,D,q,C){var a=0,x=w,H=0,$=D;
if(C){a=Math.floor(C.x/q);x=Math.ceil((C.x+C.m)/q);H=Math.floor(C.y/q);$=Math.ceil((C.y+C.n)/q)}for(var r=H;
r<$;r++)for(var c=a;c<x;c++){var U=0,O=0,A=0,m=0,i=Math.min(q,g-c*q),e=Math.min(q,K-r*q);for(var P=0;
P<e;P++)for(var S=0;S<i;S++){var E=u[(q*r+P)*g+q*c+S],Z=E>>>24;U+=Z;O+=Z*(E>>>16&255);A+=Z*(E>>>8&255);
m+=Z*(E&255)}if(U!=0){var N=1/U;X[r*w+c]=U/(i*e)<<24|O*N<<16|A*N<<8|m*N}else X[r*w+c]=0}};f.q={};f.q.and=function(u,g,K){var X=128,P=0,w=K.m,D=K.n;
for(var q=0;q<D;q++)for(var C=0;C<w;C++){if(u[P]>=X&&(C==0||u[P-1]<X||(C==w-1||u[P+1]<X)||(q==0||u[P-w]<X)||(q==D-1||u[P+w]<X)))g[P]=255;
P++}};f.q.avK=function(u,g,K,X){var w=new Uint32Array([4278190080,4294967295]),D=K.m,q=K.n,C=0,a=0,x=D,H=q;
if(X){C=X.x-K.x;a=X.y-K.y;x=C+X.m;H=a+X.n}var $=new Uint8Array(g.buffer),r=new Uint32Array(g.buffer);
for(var c=a;c<H;c++)for(var U=C;U<x;U++){var P=c*D+U;if((u[P]&128)!=0&&(c==0||(u[P-D]&128)==0||U==0||(u[P-1]&128)==0||U==D-1||(u[P+1]&128)==0||c==q-1||(u[P+D]&128)==0)){r[P]=w[(U+c&4)>>>2]}}};
f.q.aeP=function(u,g,K,X,w,D){var q=K.m,C=K.n,a=0,x=0,H=q,$=C;if(X){a=X.x-K.x;x=X.y-K.y;H=a+X.m;$=x+X.n}var r=new Uint8Array(g.buffer),c=new Uint32Array(g.buffer);
for(var U=x;U<$;U++)for(var O=a;O<H;O++){var P=U*q+O,A=u[P];if(w==1)c[P]=255-A>>>1<<24|255;else c[P]=255<<24|(A<<16|A<<8|A)}};
f.Mn={};f.Mn.$i=function(u,g,K){var X,w;if(K==0){X=u.rect.clone();w=f.Mn.arL}if(K==1){X=u.rect.RN(g.rect);
w=f.Mn.RN}if(K==2){X=g.rect.clone();w=f.Mn.a46}if(K==3){X=u.rect.I3(g.rect);w=f.Mn.I3}if(K==4){X=u.rect.RN(g.rect);
w=f.Mn.alQ}if(X.fg())return null;var D=f.L(X.$());f.x5(g.channel,g.rect,D,X);var q=f.L(X.$());f.x5(u.channel,u.rect,q,X);
w(q,D,D);var C=f.LE(D,X);if(C.fg())return null;if(!C.$z(X)){var a=f.L(C.$());f.x5(D,X,a,C);D=a;X=C}return{channel:D,rect:X}};
f.Mn.arL=function(u,g,K){for(var P=0;P<u.length;P++)K[P]=u[P]};f.Mn.RN=function(u,g,K){for(var P=0;P<u.length;
P++)K[P]=Math.min(u[P]+g[P],255)};f.Mn.a46=function(u,g,K){for(var P=0;P<u.length;P++)K[P]=Math.max(g[P]-u[P],0)};
f.Mn.I3=function(u,g,K){var X=1/255;for(var P=0;P<u.length;P++)K[P]=u[P]*g[P]*X};f.Mn.alQ=function(u,g,K){var X=1/255;
for(var P=0;P<u.length;P++)K[P]=Math.min(u[P]+g[P],255)-u[P]*g[P]*X};f.$p=function(u,g){this.s=[];this.SR=[0];
this.Md=[];this.UN=[];this.la=[0];this.q7=[];this.DF=[];this.rows=u;this.cols=g};f.$p.prototype.clone=function(){var u=this,g=u.rows,K=u.cols,X=new f.$p(g,K);
X.s=u.s.slice(0);X.SR=u.SR.slice(0);X.Md=u.Md.slice(0);X.UN=u.UN.slice(0);X.la=u.la.slice(0);X.q7=u.q7.slice(0);
X.DF=u.DF.slice(0);return X};f.$p.prototype.wp=function(u,g,K){var X=this.SR.length-1;for(var P=0;P<K;
P++){var w=u[P],D=g[P];this.s.push(w);this.Md.push(D);if(D==X){this.DF.push(w==0?0:1/w)}else{this.UN.push(w);
this.q7.push(D)}}this.SR.push(this.s.length);this.la.push(this.UN.length)};f.$p.prototype.kf=function(u,g){var K=this,X=K.rows,w=K.s,D=K.Md;
if(g==null)g=new Array(X);for(var P=0;P<X;P++){var q=K.SR[P],C=K.SR[P+1],a=0;while((C-q&3)!=0){a+=w[q]*u[D[q]];
q++}for(var x=q;x<C;x+=4)a+=w[x]*u[D[x]]+w[x+1]*u[D[x+1]]+w[x+2]*u[D[x+2]]+w[x+3]*u[D[x+3]];g[P]=a}return g};
f.$p.prototype.multiply=function(u){return this.XX(u.ur())};f.$p.prototype.XX=function(u){var g=this,K=g.rows,X=g.cols,w=u.rows,D=new f.$p(K,w),q=g.Md,C=u.Md;
for(var P=0;P<K;P++){var a=[],x=[],H=g.SR[P],$=g.SR[P+1];for(var r=0;r<w;r++){var c=u.SR[r],U=u.SR[r+1],O=0,A=H,m=c;
while(A<$&&m<U){var i=Math.max(q[A],C[m]);while(A<$&&q[A]<i)A++;while(m<U&&C[m]<i)m++;if(A<$&&m<U&&q[A]==C[m])O+=g.s[A++]*u.s[m++]}if(O!=0){a.push(O);
x.push(r)}}D.wp(a,x,a.length)}return D};f.$p.prototype.ur=function(){var u=this.rows,g=this.cols,K=[];
for(var P=0;P<g;P++)K.push([[],[]]);var X=this.s,w=this.SR,D=this.Md;for(var P=0;P<u;P++){var q=w[P],C=w[P+1];
for(var a=q;a<C;a++){var x=K[D[a]];x[0].push(X[a]);x[1].push(P)}}var H=new f.$p(g,u);for(var P=0;P<g;
P++)H.wp(K[P][0],K[P][1],K[P][1].length);return H};f.$p.prototype.Bx=function(){var u=this.rows,g=this.cols,K=new Array(u),X=this.s,w=this.SR,D=this.Md;
for(var P=0;P<u;P++){var q=K[P]=new Array(g);for(var C=0;C<g;C++)q[C]=0;var a=w[P],x=w[P+1];for(var H=a;
H<x;H++)q[D[H]]=X[H]}return K};f.$p.prototype.Ac=function(u,g,K,X,w){function D(N,g,J,y){var o=N.length;
for(var P=0;P<o;P++)y[P]=N[P]-g[P]*J}function q(N,g,J,y){var o=N.length,B=0;while((o-B&3)!=0){y[B]=N[B]+g[B]*J;
B++}for(var P=B;P<o;P+=4){y[P]=N[P]+g[P]*J;y[P+1]=N[P+1]+g[P+1]*J;y[P+2]=N[P+2]+g[P+2]*J;y[P+3]=N[P+3]+g[P+3]*J}}function C(N,g,J){var y=N.length;
for(var P=0;P<y;P++)J[P]=N[P]*g[P]}function a(N,g){var J=N.length,y=0,o=0;while((J-y&3)!=0){o+=N[y]*g[y];
y++}for(var P=y;P<J;P+=4)o+=N[P]*g[P]+N[P+1]*g[P+1]+N[P+2]*g[P+2]+N[P+3]*g[P+3];return o}var x=X!=null?2:1,H=Date.now(),$=0,r=this,c=u.slice(0),U=u.slice(0);
r.kf(u,U);D(g,U,1,c);var O=this.DF;if(x==0){O=c.slice(0);O.fill(1)}var A=c.slice(0);C(O,c,A);var m=A.slice(0),i=a(c,A);
while(!0){r.kf(m,U);var e=i/a(m,U);q(u,m,e,u);D(c,U,e,c);if(($&7)==0&&Math.sqrt(a(c,c))<K)break;if(x<=1)C(O,c,A);
else{var S=c.slice(0);X.a9H(S,c);w.adW(A,S)}var E=a(c,A),Z=E/i;q(A,m,Z,m);i=E;$++}};f.$p.prototype.aur=function(u,g,K,X){var w=Date.now(),D=1.96,C=0;
if(K==null)K=5e-6;if(X==null)X=1e9;var q=1-D,eJ=this.rows,a=this.UN,x=this.la,H=this.q7,$=this.DF;while(!0){var r=0;
for(var P=0;P<eJ;P++){var c=g[P],U=x[P],O=x[P+1];if(O-U==4)c-=a[U]*u[H[U]]+a[U+1]*u[H[U+1]]+a[U+2]*u[H[U+2]]+a[U+3]*u[H[U+3]];
else for(var A=U;A<O;A++)c-=a[A]*u[H[A]];var m=u[P]*q+$[P]*c*D,i=m-u[P];r+=i*i;u[P]=m}if(r/eJ<K||Date.now()>w+X)break}};
f.$p.prototype.awP=function(u,g,K,X){var w=Date.now(),D=1.96,C=0;if(K==null)K=5e-5;if(X==null)X=1e9;
var q=1-D,eJ=this.rows,a=this.UN,x=this.la,H=this.q7,$=this.DF;while(!0){var r=0;for(var P=0;P<eJ;P++){var c=P*3,U=g[c],O=g[c+1],A=g[c+2],m=x[P],i=x[P+1];
for(var e=m;e<i;e++){var S=a[e],E=H[e]*3;U-=S*u[E+0];O-=S*u[E+1];A-=S*u[E+2]}var Z=$[P]*D,N=u[c+0]*q+U*Z,J=u[c+1]*q+O*Z,y=u[c+2]*q+A*Z,o=N-u[c+0],B=J-u[c+1],t=y-u[c+2];
r+=.4*o*o+.5*B*B+.1*t*t;u[c+0]=N;u[c+1]=J;u[c+2]=y}if(r/eJ<K||Date.now()>w+X)break}};f.f1={};f.f1.an=function(u,g,K){return{t:"Objc",v:{classID:"CrPt",Hrzn:{t:"doub",v:u},Vrtc:{t:"doub",v:g},Cnty:{t:"bool",v:K}}}};
f.f1.D=function(u,g){for(var P=0;P<u.length;P++){var K=u[P].v,X=g.HB(new j4(K.Hrzn.v,K.Vrtc.v));K.Hrzn.v=Math.round(X.x);
K.Vrtc.v=Math.round(X.y)}};f.f1.NK=function(u,g,K){var eJ=u.length-1,X=f.Oi.vK(eJ+1,eJ+2);for(var P=1;
P<eJ;P++){X[P][P-1]=1/(u[P]-u[P-1]);X[P][P]=2*(1/(u[P]-u[P-1])+1/(u[P+1]-u[P]));X[P][P+1]=1/(u[P+1]-u[P]);
X[P][eJ+1]=3*((g[P]-g[P-1])/((u[P]-u[P-1])*(u[P]-u[P-1]))+(g[P+1]-g[P])/((u[P+1]-u[P])*(u[P+1]-u[P])))}X[0][0]=2/(u[1]-u[0]);
X[0][1]=1/(u[1]-u[0]);X[0][eJ+1]=3*(g[1]-g[0])/((u[1]-u[0])*(u[1]-u[0]));X[eJ][eJ-1]=1/(u[eJ]-u[eJ-1]);
X[eJ][eJ]=2/(u[eJ]-u[eJ-1]);X[eJ][eJ+1]=3*(g[eJ]-g[eJ-1])/((u[eJ]-u[eJ-1])*(u[eJ]-u[eJ-1]));f.Oi.a3(X,K)};
f.f1.av$=function(u,g,K,X){if(u<=g[0])return K[0];if(u>=g[g.length-1])return K[g.length-1];var P=1;while(g[P]<u)P++;
var w=g[P],D=g[P-1],q=K[P],C=K[P-1],a=(u-D)/(w-D),x=X[P-1]*(w-D)-(q-C),H=-X[P]*(w-D)+(q-C),$=(1-a)*C+a*q+a*(1-a)*(x*(1-a)+H*a);
return $};f.f1.aJ=function(u,g,K,X){var w={ho:[u[0]],js:[g[0]],gL:[]};X[0]=w;for(var P=1;P<u.length-1;
P++){w.ho.push(u[P]);w.js.push(g[P]);if(K[P]==!1){f.f1.NK(w.ho,w.js,w.gL);w={ho:[u[P]],js:[g[P]],gL:[]}}X[P]=w}w.ho.push(u[P]);
w.js.push(g[P]);f.f1.NK(w.ho,w.js,w.gL);X[P]=w};f.f1.H8=function(u,g,K,X){if(u<=g[0])return K[0];if(u>=g[g.length-1])return K[g.length-1];
var P=1;while(g[P]<u)P++;var w=X[P-1];return f.f1.av$(u,w.ho,w.js,w.gL)};f.f1.Y1=function(u){var g={ho:[],js:[],DI:[]};
for(var P=0;P<u.length;P++){g.ho[P]=u[P].v.Hrzn.v;g.js[P]=u[P].v.Vrtc.v;g.DI[P]=u[P].v.Cnty?u[P].v.Cnty.v:!0}return g};
f.f1.w5=function(u,eJ,g){var K=0,X=255;if(g){K=-1e9;X=1e9}var w=f.f1.Y1(u),D=[];f.f1.aJ(w.ho,w.js,w.DI,D);
var q=[];for(var P=0;P<eJ;P++)q[P]=1/255*Math.max(K,Math.min(X,f.f1.H8(P*(255/(eJ-1)),w.ho,w.js,D)));
return q};f.f1.a32=function(u,eJ,g){var K=Math.round(u.length/20),X=eJ-u.length,w=g?(u[K]-u[0])/K:0,D=g?u[0]-X*w:u[u.length-1],q=[];
for(var P=0;P<X;P++)q.push(D+P*w);return g?q.concat(u):u.concat(q)};f.f1.va=function(u,eJ,g){var K=f.f1.Y1(u),X=[];
f.f1.aJ(K.ho,K.js,K.DI,X);var w=new Uint8Array(eJ),D=eJ/256;for(var P=0;P<eJ;P++)w[P]=Math.max(0,Math.min(eJ-1,f.f1.H8(P*D,K.ho,K.js,X)));
if(g){w[0]=0;if(w[1]>100)w[1]=.4*w[1];if(w[2]>150)w[1]=.7*w[2]}return w};f.f1.DJ=function(u,g){var K=new Uint8Array(u.length);
for(var P=0;P<u.length;P++)K[P]=g[u[P]];return K};f.f1.Ja=function(u,g,K){var X=document.createElement("canvas");
X.width=g;X.height=K;var w=X.getContext("2d"),D=f.f1.va(u,256);w.scale(g/255,K/255);w.fillStyle="#fff";
w.fillRect(0,0,255,255);w.fillStyle="#333";w.beginPath();w.moveTo(0,255);for(var P=0;P<D.length;P++)w.lineTo(P,255-D[P]);
w.lineTo(255,255);w.closePath();w.fill();return X.toDataURL()};f.style={};f.style.stroke=function(u,g,K,X){var w=K.m,D=K.n,q=new Float64Array(w*D);
f.style.D1(u,q,w,D);f.style.nQ(g,K,q,K,X)};f.style.nQ=function(u,g,K,X,w){var D=g.I3(X),q=D.m,C=D.n;
w+=.5;var a=D.x-g.x,x=D.y-g.y,H=g.m,$=D.x-X.x,r=D.y-X.y,c=X.m;for(var U=0;U<C;U++){var O=(U+r)*c+$,A=(U+x)*H+a;
for(var m=0;m<q;m++){var i=Math.max(0,Math.min(1,w-K[O+m]));u[A+m]=Math.round(i*255)}}};f.style.avj=function(u,g,K,X){for(var w=0;
w<K;w++)for(var D=0;D<g;D++){var q=w*g+D,C=0,a=0,x=u[q];if(D==0||w==0){C=u[q+1]-x;a=u[q+g]-x}else if(D==K-1||w==g-1){C=x-u[q-1];
a=x-u[q-g]}else{C=u[q+1]-u[q-1];a=u[q+g]-u[q-g]}if(C!=0||a!=0){var H=1/Math.sqrt(C*C+a*a);C*=H;a*=H}X[q+q]=C;
X[q+q+1]=a}};f.style.D1=function(u,g,K,X){var w=0,D=K*X;for(var P=0;P<D;P++)w|=u[P];if(w==0){g.fill(1e9);
return}var q=f.style.ms(u,K,X);for(var C=0;C<X;C++)for(var a=0;a<K;a++){var P=C*K+a,x=q[P*2],H=q[P*2+1],$=(C+H)*K+a+x;
if(x==0&&H==0){g[P]=0;continue}var r=Math.sqrt(x*x+H*H),c=u[$]*(1/255),U=1/r,O=Math.abs(x)*U,A=Math.abs(H)*U;
if(A>O){var m=A;A=O;O=m}g[P]=r+f.style.agB(O,A,c)}};f.style.agB=function(u,g,K){return(.5-K)*u};f.style.ms=function(u,g,K,X){var w=new Int16Array(g*K*2);
f.style.age(u,w,g,K,128);return w};f.style.age=function(u,g,K,X,w){var D=new Int32Array(K*X);f.style.acq(u,D,K,X,w);
f.style.amM(D,g,K,X)};f.style.acq=function(u,g,K,X,w){var D=new Int32Array(X);for(var q=0;q<K;q++){var C=K+X;
for(var a=X-1;a>=0;a--){if(u[a*K+q]>w)C=0;else C++;D[a]=C}C=K+X;for(var a=0;a<X;a++){if(u[a*K+q]>w)C=0;
else C++;g[a*K+q]=C<D[a]?-C:D[a]}}};f.style.amM=function(u,g,K,X){var w=(K+X)*(K+X),D=new Float64Array(K),q=new Uint16Array(K);
for(var C=0;C<X;C++){var a=C*K,x=0;q[0]=0;D[0]=-w;D[1]=+w;for(var H=1;H<K;H++){var $=u[H+a]*u[H+a]+H*H,r=($-(u[q[x]+a]*u[q[x]+a]+q[x]*q[x]))/(2*H-2*q[x]);
while(r<=D[x]){x--;r=($-(u[q[x]+a]*u[q[x]+a]+q[x]*q[x]))/(2*H-2*q[x])}x++;q[x]=H;D[x]=r;D[x+1]=w}x=0;
for(var H=0;H<K;H++){while(D[x+1]<H)x++;var c=q[x]-H,U=u[q[x]+a],P=C*K+H<<1;g[P]=c;g[P+1]=U}}};f.style.cl=function(u,g,K){if(K)for(var P=0;
P<u.length;P++){var X=u[P];if(X>0)u[P]=Math.max(0,Math.min(255,X+g*2*(f.style.wq(P)-128)))}else for(var P=0;
P<u.length;P++){var X=u[P];if(X>0)u[P]=Math.max(0,Math.min(255,X+Math.min(X*3,g*2*(f.style.wq(P)-128))))}};
f.style.wq=function(u){u=u^61^u>>16;u=u+(u<<3);u=u^u>>4;u=u*668265261;u=u^u>>15;return u&255};f.uI={};
f.uI.k2=function(u,g,K){var X=u.canvas;if(X.width!=g||X.height!=K){X.width=g;X.height=K}};f.uI.aB=function(u,g,K,X,w,D){f.uI.k2(u,g,K);
if(D==null)D=!1;var q=w.channel,C=w.rect,a=!w.isEnabled;if(g*K==0)return;var x=u.createImageData(g,K),H=x.data,$=1/g,r=1/K;
for(var P=0;P<K;P++)for(var c=0;c<g;c++){var U=P*g+c,O=U*4,A=Math.round(X.x+c*$*X.m),m=Math.round(X.y+P*r*X.n),i=0;
if(A<C.x||A>=C.x+C.m||m<C.y||m>=C.y+C.n)i=w.color;else i=q[(m-C.y)*C.m+(A-C.x)];i=255*(255-w._X)+i*w._X>>>8;
if(D)i=170+Math.round(.4*(i-170));H[O]=i;H[O+1]=i;H[O+2]=i;H[O+3]=255}u.putImageData(x,0,0);if(a)f.uI.Eu(u,g,K)};
f.uI.cx=[];f.uI.aeA=function(u,g,K,X){var w,D,q;w=Math.ceil(Math.max(g,K)*.35);D=g-w;q=K-w;var C=f.uI.cx[w];
if(C==null){var a=f.jW(w,w);a.fillStyle="#eeeeee";a.fillRect(0,0,w,w);var x=Math.round(w*.27),H=a.lineWidth=Math.max(1,Math.round(w*.12)),$=H/2;
a.strokeRect(1+$,1+$,w-H-2,w-H-2);a.strokeRect(x+$,x+$,w-x-x-H,w-x-x-H);C=f.uI.cx[w]=a.getImageData(0,0,w,w)}u.putImageData(C,D,q)};
f.uI.up=[];f.uI.auh=function(u,g,K){var X,w,D;X=Math.ceil(Math.max(g,K)*.35);w=g-X;D=K-X;var q=f.uI.up[X];
if(q==null){var C=f.jW(X,X);C.fillStyle="#eeeeee";C.fillRect(0,0,X,X);C.lineWidth=1;C.strokeRect(2.5,2.5,X-5,X-5);
var a=C.createImageData(3,3);f.D4(a.data,4278190080);a.data[4*4]=a.data[4*4+1]=a.data[4*4+2]=238;C.putImageData(a,1,1);
C.putImageData(a,X-4,1);C.putImageData(a,1,X-4);C.putImageData(a,X-4,X-4);q=f.uI.up[X]=C.getImageData(0,0,X,X)}u.putImageData(q,w,D)};
f.uI.a4M=function(u,g,K,X,w){f.uI.k2(u,g,K);var D=g/X.m;if(g*K==0)return;u.fillStyle="#999999";u.setTransform(1,0,0,1,0,0);
u.clearRect(0,0,g,K);var q=f.uI.GL;if(q==null){q=f.uI.GL=JSON.parse(JSON.stringify(k8.Sq.default));q.strokeEnabled.v=!0}q.strokeStyleLineWidth.v.val=1/D;
u.fillStyle="#ffffff";u.scale(D,D);f.J.SG(w._,u,0,0);f.J.SG(w._,u,0,0,q)};f.uI.nn=null;f.uI.yx=function(u,g,K,X,w,D,q,C){f.uI.k2(u,g,K);
if(g*K==0)return;var a=Math.max(g,K),x=f.uI.nn;if(x==null||x.width<a||x.height<a){f.uI.nn=x=u.createImageData(a,a)}a=x.width;
var H=x.data,$=X.m/g,r=X.n/K,c=D.x,U=D.x+D.m,O=D.y,A=D.y+D.n;for(var P=0;P<K;P++)for(var m=0;m<g;m++){var i=P*a+m,e=i*4,S=~~(X.x+m*$),E=~~(X.y+P*r),Z=f.Bn(P,m,2);
if(S<c||S>=U||E<O||E>=A){H[e]=Z;H[e+1]=Z;H[e+2]=Z;H[e+3]=255}else{var N=(E-D.y)*D.m+(S-D.x)<<2,J=w[N+3]*(1/255);
H[e]=w[N+0]*J+Z*(1-J);H[e+1]=w[N+1]*J+Z*(1-J);H[e+2]=w[N+2]*J+Z*(1-J);H[e+3]=255}}if(C!=null)for(var P=0;
P<H.length;P+=4)H[P]=H[P+1]=H[P+2]=H[P+C];u.putImageData(x,0,0);if(q)f.uI.Eu(u,g,K)};f.uI.aeZ=function(u,g,K,X){f.uI.k2(u,g,K);
u.fillStyle=f.uI.Ld(X.Clr.v);u.fillRect(0,0,g,K);f.uI.pr(u,g,K)};f.uI.XC=null;f.uI.a2q=function(u,g,K,X){f.uI.k2(u,g,K);
var w=u.canvas.width,D=u.canvas.height,q=f.uI.XC;if(q==null||q.width!=w||q.height!=D){u.fillStyle="#ffffff";
u.fillRect(0,0,g,K);u.fillStyle="#000000";u.font=""+K*.7+"px serif";u.fillText("T",(g-K*.43)/2,K*.75);
u.fillText("T",(g-K*.43)/2,K*.75);f.uI.XC=u.getImageData(0,0,w,D)}else u.putImageData(q,0,0)};f.uI.aov=function(u,g,K){f.uI.k2(u,g,K);
u.clearRect(0,0,g,K);u.font=K*.7+"px serif";u.fillText(":(",(g-K*.43)/2,K*.7)};f.uI.ad2=function(u,g,K,X){f.uI.k2(u,g,K);
var w=jO.get(X),D=u.canvas.width,q=f.uI.yH[D+w];if(q==null){var C=PIMG["adj/"+w],a=eH.M9(C),x=UPNG.decode(a.buffer),H=new Uint8Array(UPNG.toRGBA8(x)[0]),$=new dS(0,0,160,160),r=0,c=D-r*2,U=R.S.qp([H,$],new eV(c/160,0,0,c/160,0,0)),O=new dS(0,0,D,D),A=f.L(O.$()*4);
f.i.L_("norm",U.buffer,U.rect,A,O,U.rect,1);q=f.uI.yH[D+w]=new ImageData(new Uint8ClampedArray(A.buffer),D,D)}u.putImageData(q,0,0)};
f.uI.yH={};f.uI.alu=function(u,g,K,X){f.uI.k2(u,g,K);var w=u.canvas.width,D=u.canvas.height,q=u.getImageData(0,0,w,D);
f.X.oi(X.Grad.v,new Uint8Array(q.data.buffer),new dS(0,0,w,D),[1/w,0,0,1/D],w/2,D/2,!1,0,16711680,65280);
u.putImageData(q,0,0);f.uI.pr(u,g,K)};f.uI.ar7=function(u,g,K,X,w){f.uI.k2(u,g,K);var D=u,q=bW.ME(X.Ptrn.v,w.add.Patt);
if(q==null)return;var C=q.e4[1];f.uI.yx(u,g,K,C,q.e4[0],C,!1);f.uI.pr(D,g,K)};f.uI.Eu=function(u,g,K){u.strokeStyle="#bb0000";
u.lineWidth=3;u.beginPath();u.moveTo(g*.15,K*.15);u.lineTo(g*.85,K*.85);u.moveTo(g*.85,K*.15);u.lineTo(g*.15,K*.85);
u.closePath();u.stroke()};f.uI.pr=function(u,g,K){u.fillStyle="#eeeeee";u.fillRect(0,K*.75,g,K*.25);
u.beginPath();u.moveTo(0,K*.75);u.lineTo(g,K*.75);u.moveTo(g*.1,K*.875);u.lineTo(g*.9,K*.875);u.moveTo(g*.65,K*.825);
u.lineTo(g*.65,K*.95);u.closePath();u.stroke()};f.uI.Ld=function(u){var g=f.X.Ld(u),K=Math.round(g.w)<<16|Math.round(g.A)<<8|Math.round(g.U);
return"#"+f.ae(K)};f.J={};f.J.oP=function(u,g,K){var X=[],w=-1;for(var P=0;P<u.length;P++){var D=u[P];
if((D.type==0||D.type==3)&&D.yk!=-1)w++;if(D.type>5||D.type==0||D.type==3)continue;if(g!=null&&g.indexOf(w)==-1)continue;
if(K!=null&&K.indexOf(P)==-1)continue;X.push(D.Rw.x);X.push(D.Rw.y);X.push(D.G.x);X.push(D.G.y);X.push(D.CL.x);
X.push(D.CL.y)}return X};f.J.sO=function(u,g,K,X){var w=0,D=-1;for(var P=0;P<g.length;P++){var q=g[P];
if((q.type==0||q.type==3)&&q.yk!=-1)D++;if(q.type>5||q.type==0||q.type==3)continue;if(K!=null&&K.indexOf(D)==-1)continue;
if(X!=null&&X.indexOf(P)==-1)continue;q.Rw.fP(u[w],u[w+1]);q.G.fP(u[w+2],u[w+3]);q.CL.fP(u[w+4],u[w+5]);
w+=6}};f.J.Cg=function(u,g,K,X){var w=f.J.oP(u,K,X);f.p.D(w,g,w);f.J.sO(w,u,K,X)};f.J.asp=function(u,g,K,X){var w=f.J.oP(u,K,X);
f.Q.D(g,w);f.J.sO(w,u,K,X)};f.J.au5=function(u,g,K,X){if(X==null){var w=f.J.arK(u,40,K);for(var P=0;
P<w.length;P++)u[P]=w[P]}var D=f.J.oP(u,K,X);f.uc.D(g,D,f.p.pj(D));f.J.sO(D,u,K,X)};f.J.arK=function(u,g,K){var X=[],w=-1;
for(var P=0;P<u.length;P++){var D=u[P],q=D.length;if(D.type>5){X.push(JSON.parse(JSON.stringify(D)));
continue}D=JSON.parse(JSON.stringify(D));X.push(D);if(D.yk!=-1)w++;if(K&&K.indexOf(w)==-1){X=X.concat(u.slice(P+1,P+1+q))}else{var C=f.J.ank(u,P+1,q);
C=f.p.v5(C,g);var a=f.J.agj(C);D.length=a.length;for(var x=0;x<a.length;x++)X.push(a[x])}P+=q}return X};
f.J.ank=function(u,g,K){var X={F:["M"],v:[]},w=u[g],D=u[g+K-1];X.v.push(w.G.x,w.G.y);for(var P=1;P<K;
P++){var q=u[g+P-1],C=u[g+P];X.F.push("C");X.v.push(q.CL.x,q.CL.y,C.Rw.x,C.Rw.y,C.G.x,C.G.y)}X.F.push("C");
X.v.push(D.CL.x,D.CL.y,w.Rw.x,w.Rw.y,w.G.x,w.G.y);return X};f.J.agj=function(u){var g=[],K=u.F,X=u.v,w=0,eJ=X.length;
g.push({type:2,Rw:new j4(X[eJ-4],X[eJ-3]),G:new j4(X[0],X[1]),CL:new j4(X[2],X[3])});for(var P=0;P<K.length-2;
P++){var D=P*6+4;g.push({type:2,Rw:new j4(X[D],X[D+1]),G:new j4(X[D+2],X[D+3]),CL:new j4(X[D+4],X[D+5])})}return g};
f.J.a8D=function(u){for(var P=0;P<u.length;P++){if(u[P].type>5)continue;var g=u[P].length;if(!(g==4||g==6||g==8)){P+=g;
continue}for(var K=0;K<g;K++){var X=u[P+1+K],w=u[P+1+(K+1)%g],D=Math.min(X.G.x,w.G.x),q=Math.min(X.G.y,w.G.y),C=0,a=0;
if(X.G.x<w.G.x){C=X.G.y-q;a=C-(w.G.x-D)}else{C=w.G.y-q;a=C-(X.G.x-D)}if(Math.abs(a)<.2*C)return C}}return-1};
f.J.Xh=function(u,g,K){function X(r,c){var U=Math.min(r.x,c.x),O=Math.min(r.y,c.y),A=Math.max(r.x+r.m,c.x+c.m),m=Math.max(r.y+r.n,c.y+c.n);
return new dS(U,O,A-U,m-O)}var w=null,D=-1,q=!f.J.Vx(u);for(var P=0;P<u.length;P++){var C=u[P];if(C.type>5)continue;
if((C.type==0||C.type==3)&&C.yk!=-1)D++;if(g!=null&&g.indexOf(D)==-1)continue;if(P==u.length-1)break;
var a=C.type==3,x=C.length,H=C.yk,$=f.J.bY(u,P+1,x,a);if(w==null)w=$;else if(K)w=X(w,$);else if(q){if(g!=null||H==0||H==-1||H==2)w=X(w,$);
else if(H==1)w=w;else if(H==3){w=$;q=!1}}else{if(g!=null||H==0||H==-1||H==1)w=X(w,$);else if(H==2)w=w;
else if(H==3)w=w.I3($)}P+=x}if(w==null||w.m<0||w.n<0)w=new dS(0,0,0,0);return w};f.J.agt=new Float64Array(4);
f.J.bY=function(u,P,g,K){var X=f.J.agt;X[0]=1e30;X[1]=1e30;X[2]=-1e30;X[3]=-1e30;var w=u[P+g-1];if(!K)f.J.fH(w.G.x,w.G.y,w.CL.x,w.CL.y,u[P].Rw.x,u[P].Rw.y,u[P].G.x,u[P].G.y,X);
for(var D=P;D<P+g-1;D++){var q=u[D],C=u[D+1];f.J.fH(q.G.x,q.G.y,q.CL.x,q.CL.y,C.Rw.x,C.Rw.y,C.G.x,C.G.y,X)}return new dS(X[0],X[1],X[2]-X[0],X[3]-X[1])};
f.J.fH=function(u,g,K,X,w,D,q,C,a){if(u==K&&g==X&&w==q&&D==C){a[0]=Math.min(a[0],Math.min(u,q));a[1]=Math.min(a[1],Math.min(g,C));
a[2]=Math.max(a[2],Math.max(u,q));a[3]=Math.max(a[3],Math.max(g,C));return}var x=u,H=g,$=u,r=g,c=40,U=1/(c-1);
for(var O=0;O<c;O++){var A=O*U,m=1-A,i=m*m*m,e=3*m*m*A,S=3*m*A*A,E=A*A*A,Z=i*u+e*K+S*w+E*q,N=i*g+e*X+S*D+E*C;
if(Z<x)x=Z;else if(Z>$)$=Z;if(N<H)H=N;else if(N>r)r=N}if(x<a[0])a[0]=x;if(H<a[1])a[1]=H;if($>a[2])a[2]=$;
if(r>a[3])a[3]=r};f.J.fn=function(u,g){var K=u.length-3,X=g%K,w=Math.floor(X);if(g<0||w>=K)return null;
var D=u[3+w],q=u[3+(w+1)%K],C=D.G,a=D.CL,x=q.Rw,H=q.G,$=X-w,r=1-$,c=r*r*r*C.x+3*r*r*$*a.x+3*r*$*$*x.x+$*$*$*H.x,U=r*r*r*C.y+3*r*r*$*a.y+3*r*$*$*x.y+$*$*$*H.y;
return new j4(c,U)};f.J.e5=function(u,g){var K=f.p.ii(u),X=K.Zc;K.Zc=Typr.U.pathToSVG({crds:X.v,cmds:X.F},g==null?2:g);
return K};f.J.Jv=function(u){f.J.WD();var g,K=f.J.cN(u),X=[];for(var P=0;P<K.length;P++){var w=K[P][0],D=K[P][1];
if(Math.abs(w.area)<1e-5)X.push(w);else if(g==null)g=w;else{if(!w.closed)w.closed=!0;g=g[D](w);g.remove()}}if(g==null)g=new paper.CompoundPath(X);
else{if(g.segments)g=new paper.CompoundPath(g);for(var P=0;P<X.length;P++){g.addChild(X[P])}}var q=u.slice(0,2);
q=q.concat(f.J.DR(g));if(q[2])q[2].yk=1;for(var P=3;P<q.length;P++)if(q[P].yk!=null)q[P].yk=-1;return q};
f.J.WD=function(){if(f.J.agZ==null){var u=document.createElement("canvas");paper.setup(u);f.J.agZ=!0}};
f.J.abY=function(u,g){f.J.WD();var K=[],X=f.J.cN(u),w=new paper.Path.Rectangle(new paper.Rectangle(g.x,g.y,g.m,g.n));
w.remove();w.fillColor=new paper.Color(1,0,0);for(var P=0;P<X.length;P++){if(w.intersects(X[P][0])||w.contains(X[P][0].children[0].segments[0].point))K.push(P)}return K};
f.J.mZ=function(u,g,K,X){f.J.WD();var w=K?{curves:!0,tolerance:X}:null,D=new paper.Point(g.x,g.y),q=f.J.cN(u);
for(var P=q.length-1;P>=0;P--){var C=q[P][0],a=C.hitTest(D,w);if(a!=null)return{Mw:P,Gx:K?a.location.index:null}}return{Mw:-1}};
f.J.q4=function(u,g,K){var X=[[],[],[]];for(var P=0;P<u.length;P++){var w=u[P];if(w.type>5||w.type==0||w.type==3)continue;
var D=K==null?!0:K.indexOf(P)!=-1;if(g.TB(w.G))X[0].push(P);if(g.TB(w.Rw)&&D)X[1].push(P);if(g.TB(w.CL)&&D)X[2].push(P)}return X};
f.J.aeC=function(u,g,K){var X=u[g];for(var w=g+1;w<K;w++)u[w-1]=u[w];u[K-1]=X};f.J.a1N=function(u,g,K,X){var P,w,D,q=0;
u=u.slice(0);g.sort(function(U,O){return U-O});D=-1;for(P=2;P<u.length;){var C=u[P],a=C.length;if(C.yk!=-1)D++;
var x=q;while(x<g.length&&g[x]<P+1+a)x++;if(q!=x){var H=g.slice(q,x);q=x;for(w=0;w<a;w++)if(H.indexOf(P+1+w)!=-1)u[P+1+w]=null;
if(C.type==0){var $=H[0]-(P+1);while($!=0){f.J.aeC(u,P+1,P+1+a);$--}}var r=C;r.length=0;w=0;while(w<a&&u[P+1+w]==null)w++;
while(w<a){var c=u[P+1+w];if(c!=null)r.length++;else if(w<a+1&&u[P+1+w+1]){r=u[P+1+w]={type:0,yk:-1,length:0,MO:0,TY:0,VB:1}}w++}if(X)for(w=-1;
w<a;w++)if(u[P+1+w]&&u[P+1+w].type<3)u[P+1+w].type+=3;f.b1.mS(K,D)}P+=1+a}for(P=0;P<u.length;P++)if(u[P]==null){u.splice(P,1);
P--}D=0;for(P=2;P<u.length;P++){var C=u[P];if(C.length==0){if(u[P+1]&&u[P+1].yk==-1)u[P+1].yk=C.yk;else if(C.yk!=-1)K.splice(D,1);
u.splice(P,1);P--}else if(C.length!=null&&C.yk!=-1)D++}return u};f.J.afZ=function(u,g){var K=u.slice(0,2),X=-1;
for(var P=2;P<u.length;P++){if((u[P].type==0||u[P].type==3)&&u[P].yk!=-1)X++;if(g.indexOf(X)==-1)K.push(u[P])}return K};
f.J.a4k=function(u,g){var K=u.slice(0,2),X=-1;for(var P=2;P<u.length;P++){if((u[P].type==0||u[P].type==3)&&u[P].yk!=-1)X++;
if(g.indexOf(X)!=-1)K.push(u[P])}return K};f.J.awA=function(u){var g=0;for(var P=0;P<u.length;P++)if(u[P].type==0||u[P].type==3)g=P;
return u[g]};f.J.nM=function(u){var g=-1;for(var P=0;P<u.length;P++)if((u[P].type==0||u[P].type==3)&&u[P].yk!=-1)g++;
return g+1};f.J.Ei=function(u,g,K){var X=-1;for(var P=0;P<u.length;P++)if((u[P].type==0||u[P].type==3)&&(K||u[P].yk!=-1)){X++;
if(X==g)return P}return-1};f.J.eA=function(u,g,K){var X=-1;for(var P=0;P<u.length;P++)if((u[P].type==0||u[P].type==3)&&(K||u[P].yk!=-1)){if(P>=g)return X;
X++}return X};f.J.GA=function(u,g){var K=-1,X=0;for(var P=0;P<u.length;P++){if((u[P].type==0||u[P].type==3)&&u[P].yk!=-1)K++;
if(K==g)X++}return X};f.J.air=function(u){var g=180;for(var P=0;P<u.length;P++){if(u[P].type!=0&&u[P].type!=3)continue;
var K=u[P].length;if(K<3)continue;for(var X=0;X<K;X++){var w=u[P+1+(X-1+K)%K],D=u[P+1+X],q=u[P+1+(X+1)%K],C=D.G,a=D.Rw.$z(C)?w.CL:D.Rw,x=D.CL.$z(C)?q.Rw:D.CL;
if(C.$z(a)||C.$z(x))continue;var H=a.x-C.x,$=a.y-C.y,r=x.x-C.x,c=x.y-C.y,a=Math.atan2(a.y-C.y,a.x-C.x)*180/Math.PI,x=Math.atan2(x.y-C.y,x.x-C.x)*180/Math.PI,U=Math.abs(x-a)%360,O=U>180?360-U:U;
if(O<g)g=O}}return g*Math.PI/180};f.J.DR=function(u){var g=u.segments?[u]:u.children,K=[];for(var P=0;
P<g.length;P++){var X=g[P],w=X.segments,D=X.closed?0:3,q=K.length,C=null;if(w.length<=1)continue;K.push({type:D,length:w.length,yk:0,VB:2});
for(var a=0;a<w.length;a++){var x=w[a],H=new j4(x.handleIn.x,x.handleIn.y),$=new j4(x.handleOut.x,x.handleOut.y),r=new j4(x.point.x,x.point.y),c={type:D+1,Rw:r.add(H),G:r,CL:r.add($)};
if(C==null)C=c;K.push(c);if(a+1==w.length&&j4.uh(C.G,c.G)<1e-5){K.pop();K[q].length--;C.Rw=c.Rw;if(D==3)for(var U=q;
U<K.length;U++)K[U].type-=3}}}return K};f.J.cN=function(u){f.J.WD();var g=[],K,X=new paper.Color(1,0,0);
function w(c,C){c.remove();c.closed=!C;c.fillRule="evenodd"}for(var P=0;P<u.length;P++){if(u[P].type>5)continue;
var D=u[P].length,q;if(P==u.length-1)break;var C=u[P].type==3;if(P==2){if(!f.J.fB(u))q="subtract";else q="unite"}else{if(u[P].yk==0)q="exclude";
if(u[P].yk==1)q="unite";if(u[P].yk==2)q="subtract";if(u[P].yk==3)q="intersect"}if(u[P].yk!=-1){K=new paper.CompoundPath;
g.push([K,q]);K.fillRule="evenodd";K.fillColor=X}var a=[];for(var x=0;x<D;x++){var H=u[P+1+x],$=H.Rw.tm(H.G),r=H.CL.tm(H.G);
a.push([[H.G.x,H.G.y],[$.x,$.y],[r.x,r.y]])}var c=new paper.Path(a);w(c,C);K.addChild(c);P+=D}return g};
f.J.zf=function(u){for(var P=0;P<u.length;P++){var g=u[P];if(g.G==null)continue;if(!g.G.$z(g.Rw)||!g.G.$z(g.CL))return!1}return!0};
f.J.agg=function(u){if(u.length<=5)return 0;var g=0,K=u.length-3-1;for(var P=0;P<K;P++){var X=u[3+P],w=u[3+P+1];
if(X.type==0||w.type==0)return 0;g+=(w.G.x-X.G.x)*(X.G.y+w.G.y)}g+=(u[3].G.x-u[3+K].G.x)*(u[3+K].G.y+u[3+1].G.y);
return-g*.5};f.J.Vx=function(u){var g=u[2],K=!1;if(u.length==2)K=u[1].all==0;else if(u[1].all==1){if(g.yk==1||g.yk==3)K=!0;
else K=!1}else{if(g.yk==1||g.yk==3||g.yk==0)K=!0;else K=!1}return K};f.J.fB=function(u){var g=f.J.Vx(u);
for(var P=3;P<u.length;P++)if(u[P].yk==3)g=!0;return g};f.J.a9N=0;f.J.yn=0;f.J.aae=0;f.J.acW=function(u,g,K,X){if(K.fg())return;
var w=K.$(),m=16384;f.J.a9N+=w;if(w>f.J.yn){f.J.yn=w}var D=K.m,q=K.n;if(X==null&&f.J.zf(u)&&u[2]&&u[2].yk!=2){var C=!0;
for(var P=2;P<u.length;)if(u[P].length==2)P+=3;else{C=!1;break}if(C){return}if(f.J.nS(u)){g.fill(255);
var a=f.J.Xh(u);if(a.$()!=w){var x=1-(a.x-K.x),H=1-(a.y-K.y),$=1-(K.x+K.m-(a.x+a.m)),r=1-(K.x+K.n-(a.x+a.n)),c=~~(x*255),U=~~($*255),O=~~(H*255),A=~~(r*255);
g.fill(O,0,D);g[0]=~~(x*H*255);g[D-1]=~~($*H*255);for(var P=D;P<w;P+=D){g[P]=c;g[P+D-1]=U}g.fill(A,(q-1)*D,q*D);
g[w-D]=~~(x*r*255);g[w-1]=~~($*r*255)}return}}var i=Math.ceil(D/m),e=Math.ceil(q/m),S=Math.ceil(D/i),E=Math.ceil(q/e),Z=Date.now();
for(var N=0;N<e;N++)for(var J=0;J<i;J++){var y=J*S,o=N*E,B=S,t=E,W=f.jW(B,t);if(!f.J.Vx(u))W.fillRect(0,0,B,t);
f.J.SG(u,W,-K.x-y,-K.y-o,X);var F=new Uint8Array(W.getImageData(0,0,B,t).data.buffer);if(B==D&&t==q)f.hk(F,g,3);
else f.DZ(F,new dS(y,o,B,t),g,new dS(0,0,D,q))}};f.J.SG=function(u,g,K,X,w){if(w!=null){var D=!1,q=!1,C=0,a=!1;
for(var P=0;P<u.length;P++){var x=u[P].yk;if(x!=null){C++;if(x==-1)D=!0;if(x>0)q=!0;if(u[P].type==0)a=!0}}if(!D&&C<20&&(w==null||a))u=f.J.Jv(u)}for(var P=0;
P<u.length;P++){if(u[P].type>5)continue;var H=u[P].length;if(H==0)continue;if(P==u.length-1)break;var $=u[P].type==3,x=u[P].yk;
if(x!=-1&&w==null){var r=["xor","source-over","destination-out","source-in"][x];g.globalCompositeOperation=r}if(u[P].yk!=-1){g.beginPath();
if(w){var c=w.strokeStyleLineWidth.v.val,U=w.strokeStyleLineAlignment.v.strokeStyleLineAlignment,O=w.strokeStyleLineCapType.v.strokeStyleLineCapType,A=w.strokeStyleLineJoinType.v.strokeStyleLineJoinType,m=w.strokeStyleMiterLimit.v,i=[],e=w.strokeStyleLineDashSet.v;
for(var S=0;S<e.length;S++)i.push(e[S].v.val*c);g.setLineDash(i);g.lineCap=["butt","round","square"][k8.Sq.gg.indexOf(O)];
g.lineJoin=["miter","round","bevel"][k8.Sq.join.indexOf(A)];g.lineWidth=k8.Sq.kM.indexOf(U)==1?c:c*=2;
g.miterLimit=m}}f.J.acj(g,u,P+1,H,K,X,$);if($){}else g.closePath();if(u[P+1+H]==null||u[P+1+H].yk!=-1){if(w)g.stroke();
else g.fill("evenodd")}P+=H}g.globalCompositeOperation="source-over"};f.J.acj=function(u,g,P,K,X,w,D){var q=g[P],C=null;
u.moveTo(q.G.x+X,q.G.y+w);for(var a=P;a<P+K-1;a++){q=g[a];C=g[a+1];u.bezierCurveTo(q.CL.x+X,q.CL.y+w,C.Rw.x+X,C.Rw.y+w,C.G.x+X,C.G.y+w)}if(!D){q=g[a];
C=g[P];u.bezierCurveTo(q.CL.x+X,q.CL.y+w,C.Rw.x+X,C.Rw.y+w,C.G.x+X,C.G.y+w)}};f.J.a1f=function(u,g){var K=[],X=g?4:1;
for(var P=0;P<u.length;P+=2){var w=new j4(u[P],u[P+1]);K.push({type:X,Rw:w.clone(),G:w.clone(),CL:w.clone()})}return K};
f.J.aZ=function(u,g,K){var X=f.p.pj(u),w=Math.sqrt(Math.sqrt(X.$()))*.2,D=.2;u=u.slice(0);var q=u.length,C=g?0:2;
for(var a=0;a<5;a++)for(var P=C;P<u.length-C;P+=2){var x=(P-2+q)%q,H=(P+2)%q,$=u[P],r=u[P+1],c=(u[x]+u[H])*.5,U=(u[x+1]+u[H+1])*.5;
u[P]=$+(c-$)*D;u[P+1]=r+(U-r)*D}if(K)return f.J.eQ.ve(u,null,!g);f.J.WD();var O=new paper.Path;O.remove();
O.closed=g;for(var P=0;P<u.length;P+=2)O.add(new paper.Point(u[P],u[P+1]));O.simplify(w);var A=[{type:6},{type:8,all:0}];
A=A.concat(f.J.DR(O));return A};f.J.LY=function(u,g,K){var X=u[g].length,w=u[g].type,D=0,q=u.slice(g+1,g+1+X);
for(var P=0;P<X;P++){var C=K[(P-1+X)%X],a=K[(P+1+X)%X],x=K[P];if(x!=0){var H=q[(P-1+X)%X].G,$=q[(P+0+X)%X].G,r=q[(P+1+X)%X].G,c=j4.uh($,H),U=j4.uh($,r),O=f.p._K(H.x,H.y,$.x,$.y,r.x,r.y,x)[0],A=Math.min(O,C==0?c:c/2,a==0?U:U/2);
x*=A/O;var m=f.p.a6S(H.x,H.y,$.x,$.y,r.x,r.y,x),i={type:w+1,Rw:new j4(m[2],m[3]),G:new j4(m[2],m[3]),CL:new j4(m[4],m[5])},e={type:w+1,Rw:new j4(m[6],m[7]),G:new j4(m[8],m[9]),CL:new j4(m[8],m[9])};
u.splice(g+D+1,1,i,e);D++;u[g].length++}D++}};f.J.zf=function(u){for(var P=0;P<u.length;P++){var g=u[P],K=g.type;
if(K==1||K==2||K==4||K==5)if(!g.G.$z(g.Rw)||!g.G.$z(g.CL))return!1}return!0};f.J.nS=function(u){if(u.length!=7||u[2].length!=4||!f.J.zf(u))return!1;
for(var P=0;P<4;P++){var g=!0;for(var K=0;K<4;K++){var X=u[3+(P+K&3)],w=u[3+(P+K+1&3)];if(X.G.x!=w.G.x&&X.G.y!=w.G.y)g=!1}if(g)return!0}return!1};
f.J.a4a=function(u){if(u.length<6)return 0;var g=u.length-2,K=0;for(var P=0;P<g;P+=2)K+=(u[P+2]-u[P])*(u[P+1]+u[P+3]);
K+=(u[0]-u[g])*(u[g+1]+u[1]);return-K*.5};f.J.a4r=function(u){u=l.tU.SL(u);var g=f.J.nM(u);for(var K=0;
K<g;K++){var X=f.J.Ei(u,K)+1,w=u[X-1].length,D=[];for(var P=0;P<w;P++){var q=u[X+P].G;D.push(q.x,q.y)}var C=f.J.a4a(D);
if(C<0){var a=[];for(var P=0;P<w;P++){var x=u[X+P],H=x.Rw;x.Rw=x.CL;x.CL=H;a.push(x)}for(var P=0;P<w;
P++)u[X+P]=a[w-1-P]}}return u};f.J.eQ={};f.J.eQ.ve=function(u,g,K){var X=[{type:6},{type:8,all:0}],w=null;
X.push({type:K?3:0,yk:1,length:0,MO:0,TY:0,VB:1});if(g==0||g==null)w=null;else if(g instanceof Array)w=g;
else{w=[];for(var P=0;P<u.length;P+=2)w.push(g)}X=X.concat(f.J.a1f(u,K));X[2].length=X.length-3;if(w)f.J.LY(X,2,w);
return X};f.J.eQ.ail=function(u,g,K,X,w){var D=[],q=[],C=.553,a=1,x=-1;D.push({type:1,Rw:new j4(0,C),G:new j4(0,0),CL:new j4(0,-C)});
w+=2;for(var P=0;P<w;P++){var H={type:1};if(P==0){H.G=new j4(1,-1);H.Rw=new j4(1-C,-1);H.CL=new j4(1+C,-1)}else{var $=-(P+2)*Math.PI/2,r=1+((P&1)==1?P-1:P),c=Math.sin($),U=Math.cos($);
a+=r*(c-U);x+=r*(U+c);H.G=new j4(a,x);H.Rw=new j4(a+r*U*C,x-r*c*C);if((P&1)==1)r+=2;H.CL=new j4(a-r*U*C,x+r*c*C)}var O={type:1,Rw:new j4(-H.CL.x,-H.CL.y),G:new j4(-H.G.x,-H.G.y),CL:new j4(-H.Rw.x,-H.Rw.y)};
D.push(H);if(P<w-2)q.push(O)}q.reverse();D=D.concat(q);var A=[{type:6},{type:8,all:0}];A.push({type:0,yk:1,length:D.length,MO:0,TY:0,VB:1});
A=A.concat(D);var m=new eV(K/w,0,0,K/w,0,0);m.rotate(X);m.translate(u,g);f.J.Cg(A,m);return A};f.J.eQ.Rect=function(u,g,K,X,w){var D=[u,g,u+K,g,u+K,g+X,u,g+X];
return f.J.eQ.ve(D,w)};f.J.eQ.gf=function(u,g,K,X,w,D,q,C){var a=[],x=2*Math.PI/w;for(var P=0;P<w;P++)a.push(Math.cos(P*x-X),Math.sin(P*x-X));
if(q!=null){var H=f.p.pj(a),$=H.m,r=H.n,c=q/($/2),U=C/(r/2);for(var P=0;P<a.length;P+=2){a[P]=(a[P]-(H.x+$/2))*c;
a[P+1]=(a[P+1]-(H.y+r/2))*U}K=1}var O=new eV(K,0,0,K,0,0);O.translate(u,g);f.p.D(a,O,a);return f.J.eQ.ve(a,D)};
f.J.eQ.p8=function(u,g,K,X,w,D,q){var C=[],a=Math.PI/w;for(var P=0;P<w*2;P++){var x=(P&1)==0?1:q;C.push(x*Math.cos(P*a),x*Math.sin(P*a))}var H=new eV(K,0,0,K,0,0);
H.rotate(X);H.translate(u,g);f.p.D(C,H,C);return f.J.eQ.ve(C,D)};f.J.eQ.L7=function(u,g,K,X,w){return f.J.eQ.cu(0,u,g,K,X,w)};
f.J.eQ.ai7=function(u,g,K,X,w,D){return f.J.eQ.cu(1,u,g,K,X,w,D)};f.J.eQ.l6=function(u,g,K,X,w,D){return f.J.eQ.cu(2,u,g,K,X,w,D)};
f.J.eQ.cu=function(u,g,K,X,w,D,q){var C=Math.sqrt((X-g)*(X-g)+(w-K)*(w-K)),a;D/=2;if(u==0)a=[-D,0,D,0,D,C,-D,C];
if(u==1){var x=D*2*q*1.3/1.5,H=D*q;a=[-D,0,D,0,D,C-x,H,C-x,0,C,-H,C-x,-D,C-x]}if(u==2){var x=q[3],H=q[2]/2,$=x*(2/3)*q[4]/100,r=x-$,c=x;
a=[];if(q[0])a.push(-D,r,-H,c,0,0,H,c,D,r);else a.push(-D,0,D,0);if(q[1])a.push(D,C-r,H,C-c,0,C,-H,C-c,-D,C-r);
else a.push(D,C,-D,C)}var U=new eV(1,0,0,1,0,0);U.rotate(Math.atan2(-w+K,X-g)+Math.PI/2);U.translate(g,K);
f.p.D(a,U,a);return f.J.eQ.ve(a,0)};f.J.eQ.tj=function(u,g,K,X){var w=[{type:6},{type:8,all:0}],$=.553;
w.push({type:0,yk:1,length:4,MO:0,TY:0,VB:1});var D=u,q=g,C=u+K,a=g+X,u=(D+C)/2,g=(q+a)/2,x=(D-C)/2,H=(q-a)/2;
w.push({type:1,Rw:new j4(u-$*x,g-H),G:new j4(u,g-H),CL:new j4(u+$*x,g-H)});w.push({type:1,Rw:new j4(u+x,g-$*H),G:new j4(u+x,g),CL:new j4(u+x,g+$*H)});
w.push({type:1,Rw:new j4(u+$*x,g+H),G:new j4(u,g+H),CL:new j4(u-$*x,g+H)});w.push({type:1,Rw:new j4(u-x,g+$*H),G:new j4(u-x,g),CL:new j4(u-x,g-$*H)});
return w};f.J.eQ.a7F=function(u,g,K,X,w){var D=[{type:6},{type:8,all:0}];D.push({type:3,yk:1,length:5,MO:0,TY:0,VB:1});
var q=(w-X)/4;for(var P=0;P<5;P++){var C=P*q,a=Math.cos(C),x=Math.sin(C),H=.553*(q/(Math.PI/2)),$=x*H,r=-a*H,c=new j4(a,x);
D.push({type:4,Rw:P==0?c.clone():new j4(a+$,x+r),G:c,CL:P==4?c.clone():new j4(a-$,x-r)})}var U=new eV;
U.rotate(-X);U.scale(K,K);U.translate(u,g);f.J.Cg(D,U);return D};f.zv={};f.zv.type={warpNone:[22,5,0],warpCustom:[22,5,16],warpArc:[22,5,1],warpArcLower:[22,5,2],warpArcUpper:[22,5,3],warpArch:[22,5,4],warpBulge:[22,5,5],warpShellLower:[22,5,6],warpShellUpper:[22,5,7],warpFlag:[22,5,8],warpWave:[22,5,9],warpFish:[22,5,10],warpRise:[22,5,11],warpFisheye:[22,5,12],warpInflate:[22,5,13],warpSqueeze:[22,5,14],warpTwist:[22,5,15]};
f.zv.My=function(u){var g=u.warpStyle.v.warpStyle;if(g=="warpNone")return!0;else if(g=="warpCustom"){var K=!1,X=u.customEnvelopeWarp.v.meshPoints.v.arr,w=X[0].arr,D=X[1].arr;
for(var P=0;P<4;P++)for(var q=0;q<4;q++){if(Math.abs(w[P]-w[q*4+P])>1||Math.abs(D[P*4]-D[P*4+q])>1)K=!0}return!K}else return u.warpValue.v==0&&u.warpPerspective.v==0&&u.warpPerspectiveOther.v==0};
f.zv.L=function(u){var g={classID:"warp",warpStyle:{t:"enum",v:{warpStyle:"warpNone"}},warpValue:{t:"doub",v:0},warpPerspective:{t:"doub",v:0},warpPerspectiveOther:{t:"doub",v:0},warpRotate:{t:"enum",v:{Ornt:"Hrzn"}}};
if(u){g.bounds={t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:u.y}},Left:{t:"UntF",v:{type:"#Pxl",val:u.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:u.y+u.n}},Rght:{t:"UntF",v:{type:"#Pxl",val:u.x+u.m}}}};
g.uOrder={t:"long",v:4};g.vOrder={t:"long",v:4}}return g};f.zv.ae$=function(u,g,K,X){for(var P=0;P<u.length;
P+=2){var w=u[P],D=u[P+1],q=(w-g.x)/g.m,C=(D-g.y)/g.n,a=(1-K)/2,x=1-a,H=a+q*(x-a);C=.5+(C-.5)*H*2;var $=(1-X)/2,r=1-$,c=$+C*(r-$);
q=.5+(q-.5)*c*2;w=g.x+q*g.m;D=g.y+C*g.n;u[P]=w;u[P+1]=D}};f.zv.vU=function(u,g){var K=[],X=[];for(var P=0;
P<u.length;P+=2){K.push(u[P]);X.push(u[P+1])}var w=[];w.push({id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:K});
w.push({id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:X});g.warpStyle.v.warpStyle="warpCustom";g.customEnvelopeWarp={t:"Objc",v:{classID:"customEnvelopeWarp",meshPoints:{t:"ObAr",v:{classID:"rationalPoint",arr:w}}}}};
f.zv.s8=function(u,g){if(g==null){var K=u.bounds.v,X=K.Left.v.val,w=K.Rght.v.val,D=K.Top.v.val,q=K.Btom.v.val;
g=new dS(X,D,w-X,q-D)}if(g.fg())g.m=g.n=1;var C=[],a=u.warpStyle.v.warpStyle;if(a=="warpCustom"){var x=u.customEnvelopeWarp.v.meshPoints.v.arr,H=x[0].arr,$=x[1].arr;
for(var P=0;P<16;P++)C.push(H[P],$[P])}else C=f.zv.zv(g,a,u.warpRotate.v.Ornt=="Hrzn",u.warpValue.v/100,u.warpPerspective.v/100,u.warpPerspectiveOther.v/100);
return C};f.zv.zv=function(u,g,K,X,w,D){var q=f.uc.L(u.x,u.y,u.m,u.n);if(g=="warpNone")return q;var C=JSON.parse(JSON.stringify(u)),a=new eV;
if(!K){a.translate(-u.x,-u.y);a.rotate(-Math.PI/2);a.translate(u.n,0);f.p.D(q,a,q);u=new dS(0,0,u.n,u.m);
q=f.uc.i$(q,!1)}f.zv.ac5(q,u,g,X,w,D);if(!K){q=f.uc.i$(q,!0);u=C;a.CD();f.p.D(q,a,q)}if(X==0)f.zv.ae$(q,u,w,D);
else{var a=new eV(1/u.m,0,0,1/u.n,-u.x,-u.y);a.translate(-.5,-.5);f.p.D(q,a,q);f.zv.aup(q,D,w);a.CD();
f.p.D(q,a,q)}return q};f.zv.ac5=function(u,g,K,X,w,D){for(var P=0;P<4;P++){for(var q=0;q<4;q++){var C=2*(4*P+q),a=u[C]-g.x,x=u[C+1]-g.y,H=a,$=x;
if(X!=0){var r=g.m/2,c=g.n/2;H-=r;$-=c;var U=H,O=H,A=-c,m=c,i=Math.abs(X),e=Math.tan((1-i)*Math.PI/2),S=Math.sqrt(e*e+1),E=Math.atan2(1,e),Z=H/r*E,N=r*S,J=r*S+g.n,y=Math.cos(E),o=Math.sin(E),B=f.zv.alh(y,o),t=f.zv.a7E(y,o),W=-e*r+B*N;
if(K=="warpArc"){U=Math.sin(Z)*J;A=e*r-Math.cos(E)*J+c;O=Math.sin(Z)*N;m=e*r-Math.cos(E)*N+c;if(q==1||q==2){U=q==1?-t*J:t*J;
O=q==1?-t*N:t*N;A=e*r+c-B*J;m=e*r+c-B*N}if(X<0){var F=U;U=O;O=F;F=A;A=-m;m=-F}}if(K=="warpArcLower"){if(q==1||q==2){O=q==1?-t*N:t*N;
m=X<0?c-W:c+W}}if(K=="warpArcUpper"||K=="warpArch"||K=="warpBulge"){if(q==1||q==2){U=q==1?-t*N:t*N;A=X<0?-c+W:-c-W}if(K=="warpArch"){O=U;
m=A+2*c}if(K=="warpBulge"){O=U;m=-A}}if(K=="warpFish"||K=="warpFlag"||K=="warpWave"){var G=q;if(K=="warpFlag")G=3-q;
if(G==1){A-=X*4*c;m+=X*4*c}if(G==2){A+=X*4*c;m-=X*4*c}if(K=="warpFlag"||K=="warpWave")A=m-2*c}if(K=="warpRise"){if(q<2)A=-c+X*c*4;
m=A+2*c}var L=($+c)/g.n;H=U+L*(O-U);$=A+L*(m-A);if(K=="warpWave"){if(P==0)$=-c;if(P==3)$=c;if(P==1||P==2)$=2*c*(P/3-.5)*(1/3)+$*(2/3)}if(K=="warpFisheye"){if((P==1||P==2)&&(q==1||q==2)){H=H+4*H*X;
$=$+4*$*X}}if(K=="warpInflate"){var Q=2/3;if((P==1||P==2)&&(q==1||q==2)){H=H+.5*H*X;$=$+.5*$*X}else if(P==1||P==2)H=H+Q*H*X;
else if(q==1||q==2)$=$+Q*$*X}if(K=="warpSqueeze"){var Q=2/3;if((P==1||P==2)&&(q==1||q==2)){if(X>0)H=H-Q*H*X;
else $=$+Q*$*X}else if(P==1||P==2)H=H-Q*H*X;else if(q==1||q==2)$=$+Q*$*X}if(K=="warpTwist"){if((P==1||P==2)&&(q==1||q==2)){var T=X*Math.PI/2,S=1+Math.abs(X)*2,j=H*Math.cos(T)-$*Math.sin(T),p=H*Math.sin(T)+$*Math.cos(T);
H=j*S;$=p*S}}if(K=="warpShellLower"||K=="warpShellUpper"){if(K=="warpShellUpper"){P=3-P;$=-$}if(P>2||P==2&&(q==0||q==3)){if(X>0){var M=N+P/3*2*c;
H=Math.sin(Z)*M;$=-e*r-c+Math.cos(Z)*M;if(q==1||q==2){H=q==1?-t*M:t*M;$=-e*r-c+B*M}}else{if((q==1||q==2)&&P==3){H=q==1?-t*N:t*N;
$=e*r-B*N+c}else if(P==2){$=c-c*(2/3)*Math.cos(Z);H=H+c*(2/3)*Math.sin(Z)}}}if(K=="warpShellUpper"){P=3-P;
$=-$}}H+=r;$+=c}a=H,x=$;u[C]=a+g.x;u[C+1]=x+g.y}}};f.zv.aup=function(u,g,K){var X=[];for(var w=0;w<4;
w++)X.push(1-K+w/3*2*K);var D=[];for(var w=0;w<4;w++)D.push(1-g+w/3*2*g);var q=[0,0,0,0],C=[0,0,0,0];
for(var P=0;P<4;P++)for(var w=0;w<4;w++){var a=2*(4*P+w),x=u[a],H=u[a+1];q[w]+=x/4;C[w]+=H/4}for(var P=0;
P<4;P++)for(var w=0;w<4;w++){var $=X[w],a=2*(4*P+w),x=u[a],H=u[a+1],r=q[w],c=C[w];u[a]=r+$*(x-r);u[a+1]=c+$*(H-c)}var U=u.slice(0);
for(var P=0;P<4;P++)for(var w=1;w<3;w++){var a=2*(4*P+w),x=u[a],H=u[a+1],O=a+(w==1?-2:2),A=u[O],m=u[O+1];
u[a]=x-A;u[a+1]=H-m}var i=u[0],e=u[1],S=u[8],E=u[9],Z=u[16],N=u[17],J=u[24],y=u[25],o=u[6],B=u[7],t=u[14],W=u[15],F=u[22],G=u[23],L=u[30],Q=u[31],T=o-i,j=B-e,p=t-S,M=W-E,n=F-Z,d=G-N,V=L-J,z=Q-y;
for(var P=0;P<4;P++){var I=2*P*4,v=0,gj=0,jA=P==1?.33:.66,Y=1-jA;if(P==0){v=T;gj=j}if(P==1){v=Y*T+jA*-V;
gj=Y*j+jA*-z}if(P==2){v=Y*T+jA*-V;gj=Y*j+jA*-z}if(P==3){v=-V;gj=-z}u[I]=u[I]+v/2;u[I+1]=u[I+1]+gj/2;
u[I+6]=u[I+6]-v/2;u[I+7]=u[I+7]-gj/2}for(var P=0;P<4;P++)for(var w=1;w<3;w++){var a=2*(4*P+w),x=u[a],H=u[a+1],O=a+(w==1?-2:2),A=u[O],m=u[O+1],$=2*P/3;
u[a]=A+$*x;u[a+1]=m+$*H}for(var P=1;P<3;P++)for(var w=1;w<3;w++){var a=2*(4*P+w),x=u[a],H=u[a+1],jv=P==1?-8:-16,iR=P==1?16:8,cj=u[a+jv],j8=u[a+jv+1],as=u[a+iR],gW=u[a+iR+1],$=P/3;
x=(1-$)*cj+$*as;H=(1-$)*j8+$*gW;u[a]=x;u[a+1]=H}f.p.B9(U,u,u,g)};f.zv.alh=function(u,g){return(4-u)*(1/3)};
f.zv.a7E=function(u,g){return(1-u)*(3-u)/(3*g)};f.qN={};f.qN.a0Y=function(u,g,K,X,w,D,q,C,a,x){for(var H=0;
H<C;H++)for(var $=0;$<q;$++){var r=3*(H*q+$),c=H+D,U=$+w,O=u[c*g+U];X[r]=O;X[r+1]=O;X[r+2]=O}};f.qN.Zm=function(u,g,K,X,w,D,q,C,a,x){var H=[0,1,1/2,1/3,1/4,1/5,1/6,1/7,1/8,1/9],$=1/a,r=[-1,-1,0,-1,1,-1,-1,0,1,0,-1,1,0,1,1,1],c=new Uint32Array(6);
for(var U=0;U<C;U++){for(var O=0;O<q;O++){var A=3*(U*q+O),m=U+D,i=O+w;c[0]=0;c[1]=0;c[2]=0;c[3]=0;c[4]=0;
c[5]=0;for(var P=0;P<16;P+=2){var e=i+r[P],S=m+r[P+1],E=e-a*~~(e*$),Z=S-a*~~(S*$),N=x[Z*a+E];c[N]+=u[S*g+e];
c[N+3]++}var e=i,S=m,E=e-a*~~(e*$),Z=S-a*~~(S*$),N=x[Z*a+E];c[N]=u[m*g+i];c[N+3]=1;X[A]=c[0]*H[c[3]];
X[A+1]=c[1]*H[c[4]];X[A+2]=c[2]*H[c[5]]}}};f.qN.w1=function(u,g,K){for(var P=0;P<K;P+=2)u[g+P]=u[g+P+1];
g=g+K;for(var P=0;P<K;P+=2)u[g+P+1]=u[g+P]};f.qN.Pj=function(u,g,K,X){for(var P=0;P<X;P+=2){var w=g+P*K;
u[w]=u[w+K];u[w+K+1]=u[w+1]}};f.qN.ek=function(u,g,K,X,w,D){var q=X[w],C=X[w+1],a=X[D],x=X[D+1],H=C+a>>>1;
u[g]=u[g+3]=u[K]=u[K+3]=q;u[g+1]=H;u[g+4]=C;u[K+1]=a;u[K+4]=H;u[g+2]=u[g+5]=u[K+2]=u[K+5]=x};f.qN.a1U=function(u,g,K,X,w,D){var q=D*3;
for(var P=0;P<D;P+=2){var C=g+P,a=w+P*3;f.qN.ek(X,a,a+q,u,C,C+K)}};f.qN.akX=function(u,g,K,X,w,D,q){var C=D*3;
for(var P=0;P<q;P+=2){var a=g+P*K,x=w+P*D*3;f.qN.ek(X,x,x+C,u,a,a+K)}};f.qN.Jc=function(u,P,g){var K=u[P-g-g],X=u[P-g],w=u[P-2],D=u[P-1],q=u[P],C=u[P+1],a=u[P+2],x=u[P+g],H=u[P+g+g],$=Math.abs(X-x),r=Math.abs(D-C),c=Math.abs(q-K)*2+$,U=Math.abs(q-a)*2+r,O=Math.abs(q-w)*2+r,A=Math.abs(q-H)*2+$,m=Math.min(c,Math.min(U,Math.min(O,A)));
if(m==c)return X*3+x+q-K>>2;if(m==U)return C*3+D+q-a>>2;if(m==O)return D*3+C+q-w>>2;return x*3+X+q-H>>2};
f.qN.cM=function(u,g,K,X,w){if(u<g&&g<K||u>g&&g>K)return~~(.5+X+(w-X)*(g-u)/(K-u));else return(X+w>>1)+(g+g-u-K>>2)};
f.qN.D5=function(u,g,P,K){var X=g[P-K-1],w=g[P-K+1],D=g[P],q=g[P+K-1],C=g[P+K+1],a=u[P-K-1],x=u[P-K+1],H=u[P],$=u[P+K-1],r=u[P+K+1],c=Math.abs(x-$)+Math.abs(u[P-K-K+2]-H)+Math.abs(H-u[P+K+K-2])+Math.abs(w-D)+Math.abs(D-q),U=Math.abs(a-r)+Math.abs(u[P-K-K-2]-H)+Math.abs(H-u[P+K+K+2])+Math.abs(X-D)+Math.abs(D-C);
if(c<U)return f.qN.cM(w,D,q,x,$);else return f.qN.cM(X,D,C,a,r)};f.qN.q3=function(u,g,K,X,w,D){u[g+0]=K[w];
u[g+1]=X[w];u[g+2]=f.qN.D5(K,X,w,D)};f.qN.Q0=function(u,g,K,X,w,D){var q=X[w];u[g+0]=f.qN.cM(X[w-1],q,X[w+1],K[w-1],K[w+1]);
u[g+1]=q;u[g+2]=f.qN.cM(X[w-D],q,X[w+D],K[w-D],K[w+D])};f.qN.Vs=function(u,g,K,X,w,D){var q=X[w];u[g+0]=f.qN.cM(X[w-D],q,X[w+D],K[w-D],K[w+D]);
u[g+1]=q;u[g+2]=f.qN.cM(X[w-1],q,X[w+1],K[w-1],K[w+1])};f.qN.Br=function(u,g,K,X,w,D){u[g+0]=f.qN.D5(K,X,w,D);
u[g+1]=X[w];u[g+2]=K[w]};f.qN.aaU=function(u,g,K,X,w,D,q,C,a){var x=Date.now(),H=2,$=g-2,r=2;if((w&1)==1){H++;
$--}var c=K-2;if((D&1)==1){r++;c--}if(a==1||a==3){H++;$--}var U=u.slice(0);f.qN.w1(U,0,g);f.qN.Pj(U,0,g,K);
f.qN.Pj(U,g-2,g,K);f.qN.w1(U,(K-2)*g,g);for(var O=r;O<c;O+=2)for(var A=H;A<$;A+=2){var P=O*g+A,m=f.qN.Jc(U,P,g),i=f.qN.Jc(U,P+g+1,g);
U[P]=Math.max(0,m);U[P+g+1]=Math.max(0,i)}var e=q,S=C;if(D+C==K){S-=2;f.qN.a1U(u,(K-2)*g+w,g,X,(C-2)*q*3,q)}if(w+q==g){e-=2;
f.qN.akX(u,D*g+w+q-2,g,X,(q-2)*3,q,C)}if(a==0)for(var O=0;O<S;O+=2)for(var A=0;A<e;A+=2){var E=(O+D)*g+A+w,Z=(O*q+A)*3;
f.qN.q3(X,Z,u,U,E,g);f.qN.Q0(X,Z+3,u,U,E+1,g);E+=g;Z+=3*q;f.qN.Vs(X,Z,u,U,E,g);f.qN.Br(X,Z+3,u,U,E+1,g)}else if(a==1)for(var O=0;
O<S;O+=2)for(var A=0;A<e;A+=2){var E=(O+D)*g+A+w,Z=(O*q+A)*3;f.qN.Q0(X,Z,u,U,E,g);f.qN.q3(X,Z+3,u,U,E+1,g);
E+=g;Z+=3*q;f.qN.Br(X,Z,u,U,E,g);f.qN.Vs(X,Z+3,u,U,E+1,g)}else if(a==2)for(var O=0;O<S;O+=2)for(var A=0;
A<e;A+=2){var E=(O+D)*g+A+w,Z=(O*q+A)*3;f.qN.Br(X,Z,u,U,E,g);f.qN.Vs(X,Z+3,u,U,E+1,g);E+=g;Z+=3*q;f.qN.Q0(X,Z,u,U,E,g);
f.qN.q3(X,Z+3,u,U,E+1,g)}else if(a==3)for(var O=0;O<S;O+=2)for(var A=0;A<e;A+=2){var E=(O+D)*g+A+w,Z=(O*q+A)*3;
f.qN.Vs(X,Z,u,U,E,g);f.qN.Br(X,Z+3,u,U,E+1,g);E+=g;Z+=3*q;f.qN.q3(X,Z,u,U,E,g);f.qN.Q0(X,Z+3,u,U,E+1,g)}};
f.raw={};f.raw.a5$=function(u){var g=Date.now(),K=u.width,X=u.height,w=0,D=0,q=K,C=X;if(u.t50829){var a=u.t50829;
w=a[1];D=a[0];q=a[3];C=a[2]}if(u.t50719){var x=u.t50719;w+=x[0]>>1<<1;D+=x[1]>>1<<1}if(u.t50720){var H=u.t50720;
q=w+H[0];C=D+H[1]}var $=q-w,r=C-D,c=f.raw.afr(u),U=u.t33422,O=u.t33421;if(O){var H=O[0],A=U.slice(0);
for(var m=0;m<H;m++)for(var i=0;i<H;i++){var e=(i+(w&1))%H,S=(m+(D&1))%H;A[m*H+i]=U[S*H+e]}U=A}if(u.t277[0]==1)f.raw.ax0(c,K,X,u,U);
f.raw.lV(2,u,c,K,X);var E=new Float32Array($*r*3);if(u.t277[0]==1){if(O==null){f.qN.a0Y(c,K,X,E,w,D,$,r)}else if(O.length!=2||O[0]!=2||O[1]!=2){console.log("Unknown CFA pattern size",O);
f.qN.Zm(c,K,X,E,w,D,$,r,O[0],U)}else{var Z=u.t33422.join(","),N=0;if(Z=="0,1,1,2")N=0;else if(Z=="1,0,2,1")N=1;
else if(Z=="2,1,1,0")N=2;else if(Z=="1,2,0,1")N=3;else throw"Unknown CFA pattern "+Z;if(($&1)!=0||(r&1)!=0)throw"e";
f.qN.aaU(c,K,X,E,w,D,$,r,N)}}else{for(var m=0;m<r;m++)for(var i=0;i<$;i++){var J=((m+D)*K+i+w)*3,y=(m*$+i)*3;
E[y+0]=c[J+0];E[y+1]=c[J+1];E[y+2]=c[J+2]}}var o=E,B=E.length,t=f.raw.JH(u),W=1/t;for(var P=0;P<B;P+=3){E[P]=o[P]*W;
E[P+1]=o[P+1]*W;E[P+2]=o[P+2]*W}f.raw.lV(3,u,E,$,r);var F=u.dP,G=$,L=r;if(F==1||F==9){}else{var Q=f.raw.cL(F,$,r),y=0;
G=Q[0];L=Q[1];var T=E.slice(0);for(var m=0;m<L;m++)for(var i=0;i<G;i++){var j=Q[2]*i+Q[3]*m+Q[4],p=Q[5]*i+Q[6]*m+Q[7],J=(p*$+j)*3;
E[y]=T[J];E[y+1]=T[J+1];E[y+2]=T[J+2];y+=3}}return{Fg:E,Am:G,Yn:L}};f.raw.cL=function(u,g,K){var X=g,w=K;
if(!1){}else if(u==2)return[g,K,-1,0,g-1,0,1,0];else if(u==3)return[g,K,-1,0,g-1,0,-1,K-1];else if(u==4)return[g,K,1,0,0,0,-1,K-1];
else if(u==5)return[K,g,0,1,0,1,0,0];else if(u==6)return[K,g,0,1,0,-1,0,K-1];else if(u==7)return[K,g,0,-1,g-1,-1,0,K-1];
else if(u==8)return[K,g,0,-1,g-1,1,0,0];else throw"unknown orientation "+u};f.raw.ax0=function(u,g,K,X,w){var D=Date.now(),W=0,L=0;
if(f.raw.JH(X)>4e4){for(var P=0;P<u.length;P++)u[P]>>=1;var q=["t50714","t50715","t50712","t50717"];
for(var P=0;P<q.length;P++){var C=X[q[P]];if(C)for(var a=0;a<C.length;a++)C[a]>>>=1}console.log("remapping to lower bit depth")}var x=~~Math.sqrt(w.length),H=[-1,-1,0,-1,0,1,-1,0,0,0,1,0,-1,1,0,1,1,1],$=[];
for(var r=0;r<x;r++)for(var c=0;c<x;c++){var P=r*x+c,U=w[P],O=4,A=4,m=8,i=0,e=0;for(var a=0;a<18;a+=2){var S=(x+c+H[a])%x,E=(x+r+H[a+1])%x,Z=w[E*x+S];
if(Z==U){}else if(O==4){O=Z;i=a}else if(A==4&&Z!=O){A=Z;e=a;break}}if(A<O){var N=A;A=O;O=N;N=e;e=i;i=N}if(O<U){var N=O;
O=U;U=N;N=i;i=m;m=N}if(A<O){var N=A;A=O;O=N;N=e;e=i;i=N}$[P*3]=H[m+1]*g+H[m];$[P*3+1]=H[i+1]*g+H[i];
$[P*3+2]=H[e+1]*g+H[e]}var J=~~(.996*f.raw.JH(X)),y=~~(.992*f.raw.JH(X)),o=X.t50728;if(o[0]==0)o=[1,1,1];
var B=[],t=[0,0,0];for(var r=1;r<K-1;r++)for(var c=1;c<g-1;c++){var P=r*g+c,F=r%x*x+c%x,U=u[P+$[F*3+0]],O=u[P+$[F*3+1]],A=u[P+$[F*3+2]],G=Math.max(U,O,A);
if(G>J)B.push(P);else if(G>y){t[0]+=U;t[1]+=O;t[2]+=A;W++}}if(B.length==0)return;if(W/(g*K)<1e-5){console.log("not enough semi-saturated pixels",W);
t=o}if(t[1]<t[L])L=1;if(t[2]<t[L])L=2;var Q=[t[0]/t[L],t[1]/t[L],t[2]/t[L]],T=u.slice(0);for(var j=0;
j<B.length;j++){var P=B[j],r=~~(P/g),c=P-r*g,F=r%x*x+c%x,p=Math.min(65535,~~(u[P+$[F*3+L]]*Q[w[F]]));
if(p>T[P])T[P]=p}u.set(T)};f.raw.O1=function(u,g,K,X){var w=u.Fg,D=Math.round(w.length/3),q=w.slice(0);
f.raw.Hj(w,q,K,X);var C=Math.pow(2,X[2]),a=new Uint8Array(4e3);for(var P=0;P<4e3;P++){var x=P*(1/1e3);
x=f.sV(x);x*=C;x=f.lG(x);x=Math.max(0,Math.min(1,x));x=f.raw.m$.aaR(x,X[3]/100);a[P]=~~(.5+255*x)}for(var P=0;
P<D;P++){var H=P<<2,$=H-P;g[H]=a[~~(q[$]*1e3)];g[H+1]=a[~~(q[$+1]*1e3)];g[H+2]=a[~~(q[$+2]*1e3)]}};f.raw.Hj=function(u,g,K,X){var w=Math.round(u.length/3),D=a3.ak_(X[0],X[1]),q=f.raw.a0v(K,D),C=f.R$.multiply(f.R$.hG,q),a=Math.pow(2,K.t50730?K.t50730[0]:0);
C=f.R$.multiply(C,f.R$.$a(a,a,a));var x=f.raw.Hj.asN;if(x==null){x=f.raw.Hj.asN=new Float64Array(8e3);
for(var P=0;P<8e3;P++)x[P]=f.lG(P*(1/1e3))}for(var P=0;P<w;P++){var H=P<<2,$=H-P,r=u[$],c=u[$+1],U=u[$+2],O=C[0]*r+C[1]*c+C[2]*U,A=C[4]*r+C[5]*c+C[6]*U,m=C[8]*r+C[9]*c+C[10]*U;
if(O<0)O=0;if(A<0)A=0;if(m<0)m=0;g[$]=x[~~(O*1e3)];g[$+1]=x[~~(A*1e3)];g[$+2]=x[~~(m*1e3)]}};f.raw.m$={aaR:function(u,g){var K=.5-.5*Math.cos(u*3.2),X=0;
if(g>0){var w=u*.2;X=w*u+(1-w)*K}else{var D=Math.pow(u,.33);X=(1-D)*D+D*(u+(u-K)*.63)}var q=Math.abs(g);
return q*X+(1-q)*u},ah9:function(u,g){var K=0;if(g>0){var X=u*1.47,w=Math.pow(u,2.4);K=Math.min(1,w*u+(1-w)*X)}else{var X=u*.68,w=Math.pow(u,3);
K=w*u*.5+(1-w)*X}var D=Math.abs(g);return D*K+(1-D)*u},atf:function(u,g){var K=0;if(g>0){var X=Math.pow(u,.3),w=u;
K=(1-u)*X+u*w}else{var X=Math.pow(u,2.5),D=u,w=u;K=Math.min(1,(1-D)*X+D*w)}var q=Math.abs(g);return q*K+(1-q)*u}};
f.raw.afr=function(u){var g=u.width,K=u.height,X=g*K*u.t277,w=new Uint16Array(X),D=null,q=0;f.raw.ai8(u,w);
f.raw.lV(1,u,w,g,K);if(u.t50712){D=u.t50712;q=D.length-1;if(D[q]>65535)throw"too big values"}var C=f.raw.Bg(u),a=f.raw.ft(u);
if(D==null)for(var P=0;P<X;P++)w[P]=Math.max(0,w[P]-C);else for(var P=0;P<X;P++){var x=w[P];if(x>q)x=q;
x=D[x];w[P]=Math.max(0,x-C)}return w};f.raw.Bg=function(u){var g=u.t50714,K=g?g[0]:0,X=u.t50715,w=u.t50716;
if(X)K+=X[0][0]/X[0][1];if(w)K+=w[0][0]/w[0][1];return Math.round(K)};f.raw.ft=function(u){var g=null,K=0;
if(u.t50712){g=u.t50712;K=g.length-1}var X=u.t50717?u.t50717[0]:(1<<u.t258[0])-1;if(g)X=Math.min(X,g[K]);
return X};f.raw.JH=function(u){var g=f.raw.Bg(u),K=f.raw.ft(u);return K-g};f.raw.ai8=function(u,g){var K=g.length,X=u.data,w=u.t258[0];
if(w!=16&&w!=14&&w!=12&&w!=10&&w!=8)throw"Unsupported Bits Per Sample:"+w;w=Math.round(X.length*8/K);
if(w==16&&u.isLE){f.me(X,g);return}for(var P=0;P<K;P+=2){var D=0,q=0,C=0;if(w==16){D=P<<1;q=X[D]<<8|X[D+1];
C=X[D+2]<<8|X[D+3]}else if(w==14){var a=P*14,x=a>>>3,H=X[x]<<24|X[x+1]<<16|X[x+2]<<8|X[x+3];if((a&7)==0){q=H>>>18;
C=H>>>4&16383}else{q=H>>>14&16383;C=H&16383}}else if(w==12){D=P+(P>>>1);q=X[D]<<4|X[D+1]>>4;C=(X[D+1]&15)<<8|X[D+2]}else if(w==10){var a=P*10,x=a>>>3;
if((a&7)==0){q=(X[x]<<2|X[x+1]>>6)&1023;C=(X[x+1]<<4|X[x+2]>>4)&1023}else{q=(X[x]<<6|X[x+1]>>2)&1023;
C=(X[x+1]<<8|X[x+2]>>0)&1023}}else if(w==8){D=P;q=X[D];C=X[D+1]}g[P]=q;g[P+1]=C}};f.raw.an6=function(u,g,K,X,w,D,q){var C=u-.499999,a=g-.499999,x=~~C,H=~~a,$=C-x,r=a-H,c=(1-r)*(1-$),U=(1-r)*$,O=r*(1-$),A=r*$,m=(H*X+x)*3,i=((H+1)*X+x)*3,e=c*K[m]+U*K[m+3]+O*K[i]+A*K[i+3],S=c*K[m+1]+U*K[m+4]+O*K[i+1]+A*K[i+4],E=c*K[m+2]+U*K[m+5]+O*K[i+2]+A*K[i+5];
D[q]=e;D[q+1]=S;D[q+2]=E};f.raw.lV=function(u,g,K,X,w){var D=g["t"+[51008,51009,51022][u-1]],H=0;if(D==null)return;
var q=X*w,C=k.r,a=k.Qa,x=new Uint8Array(D),jY=k.r(x,H);H+=4;for(var $=0;$<jY;$++){var r=C(x,H);H+=4;
var c=C(x,H);H+=4;var U=C(x,H);H+=4;var O=C(x,H);H+=4;if(!1){}else if(r==1&&u==3){var A=H,m=C(x,A);A+=4;
var i=a(x,A);A+=8;var e=a(x,A);A+=8;var S=a(x,A);A+=8;var E=a(x,A);A+=8;var Z=a(x,A);A+=8;var N=a(x,A);
A+=8;A+=(m-1)*8*6;var J=a(x,A);A+=8;var y=a(x,A);A+=8;var o=J*X,B=y*w,t=Math.max(o,X-o),W=Math.max(B,w-B),F=Math.sqrt(t*t+W*W),G=1/F,L=K.slice(0);
for(var Q=0;Q<w;Q++)for(var T=0;T<X;T++){var j=(T+.5-o)*G,p=(Q+.5-B)*G,M=j*j+p*p,n=i+e*M+S*(M*M)+E*(M*M)*M,d=Z*(2*j*p)+N*(M+2*j*j),V=N*(2*j*p)+Z*(M+2*p*p),z=Math.min(o+F*(n*j+d),X-1),I=Math.min(B+F*(n*p+V),w-1),v=(Q*X+T)*3;
f.raw.an6(z,I,L,X,w,K,v)}}else if(r==3&&u==3){var A=H,gj=a(x,A);A+=8;var jA=a(x,A);A+=8;var Y=a(x,A);
A+=8;var jv=a(x,A);A+=8;var iR=a(x,A);A+=8;var J=a(x,A);A+=8;var y=a(x,A);A+=8;var o=J*X,B=y*w,t=Math.max(o,X-o),W=Math.max(B,w-B),F=Math.sqrt(t*t+W*W),G=1/F;
for(var Q=0;Q<w;Q++)for(var T=0;T<X;T++){var j=(T+.5-o)*G,p=(Q+.5-B)*G,M=j*j+p*p,cj=1+(gj+(jA+(Y+(jv+iR*M)*M)*M)*M)*M,v=(Q*X+T)*3;
K[v]=cj*K[v];K[v+1]=cj*K[v+1];K[v+2]=cj*K[v+2]}}else if(r==4&&u==1){var A=H,j8=C(x,A);A+=4;var as=C(x,A);
A+=4;for(var P=0;P<q;P++)if(K[P]==j8)K[P]=K[P-2]+K[P+2]>>1}else if(r==5&&u==1){var A=H,gW=C(x,A);A+=4;
var af=C(x,A);A+=4;var at=C(x,A);A+=4;for(var P=0;P<af;P++){var jd=C(x,A);A+=4;var fM=C(x,A);A+=4;var P=jd*X+fM;
K[P]=K[P-2]+K[P+2]>>1}}else if(r==7&&u==1){var A=H,hS=k.QL(x,A);A+=16;var dr=C(x,A);A+=4;var cB=C(x,A);
A+=4;var b1=C(x,A),ic=C(x,A+4);A+=8;var dV=C(x,A);A+=4;var eS=new Uint16Array(dV);for(var P=0;P<dV;P++)eS[P]=k.Z_(x,A+2*P);
var a2=hS.m,d3=hS.n;for(var Q=0;Q<d3;Q+=b1)for(var T=0;T<a2;T+=ic){var P=(hS.y+Q)*X+(hS.x+T);K[P]=eS[K[P]]}}else if(r==8&&u==2){var A=H,hS=k.QL(x,A);
A+=16;var dr=C(x,A);A+=4;var cB=C(x,A);A+=4;var b1=C(x,A),ic=C(x,A+4);A+=8;var cE=C(x,A);A+=4;var eP=[];
for(var P=0;P<=cE;P++)eP[P]=k.Qa(x,A+P*8);var jm=hS.x,bD=hS.x+hS.m,f1=hS.y,ft=hS.y+hS.n,ie=g.t50717[0],b2=1/ie;
for(var dh=0;dh<cB;dh++)for(var Q=f1;Q<ft;Q+=b1){var v=3*Q*X+dr+dh;for(var T=jm;T<bD;T+=ic){var P=v+3*T,aY=K[P]*b2,eF=eP[cE];
for(var de=cE;de>0;de--)eF=eF*aY+eP[de-1];K[P]=Math.max(0,Math.min(65535,~~(eF*ie)))}}}else if(r==9&&u==2){var A=H,hS=k.QL(x,A),eY=!0;
A+=16;var dr=C(x,A);A+=4;var cB=C(x,A);A+=4;var b1=C(x,A),ic=C(x,A+4);A+=8;var i5=C(x,A),eA=C(x,A+4);
A+=8;var c4=a(x,A),jC=a(x,A+8);A+=16;var hd=a(x,A),iG=a(x,A+8);A+=16;var cC=C(x,A);A+=4;if(cC!=1)throw"more than one map plane";
var cL=i5*eA,dw=new Float32Array(cL);for(var de=0;de<cL;de++)dw[de]=k.$t(x,A+de*4);for(var de=0;de<cL;
de++)if(dw[de]!=1)eY=!1;if(!eY){var a2=hS.m,d3=hS.n,cf=.9999*(eA-1)/a2,d7=.9999*(i5-1)/d3;for(var Q=0;
Q<d3;Q+=b1)for(var T=0;T<a2;T+=ic){var P=(hS.y+Q)*X+(hS.x+T),hs=T*cf,hz=Q*d7,bx=Math.floor(hs),dO=Math.floor(hz),hN=hs-bx,jn=hz-dO,v=dO*eA+bx,iP=dw[v]*(1-hN)+dw[v+1]*hN,io=dw[v+eA]*(1-hN)+dw[v+1+eA]*hN,jD=iP*(1-jn)+io*jn;
K[P]=Math.max(0,Math.min(65535,~~(K[P]*jD+.5)))}}}else console.log("Unknown opcode "+r+" in OpcodeList"+u+". Length: "+O);
H+=O}};f.raw.a0v=function(u,g){var K=a3.sp(g),X=f.raw.Z0(u,g),w=f.R$.CD(X),D=a3.ahc(K,a3.sp(a3.ahL)),q=f.R$.multiply(D,w);
return q};f.raw.a5X=function(u){var g=u.t50728,w=1;if(g==null||g[0]==0)g=[1,1,1];var K=g.slice(0);K.push(0);
var X={x:.34567,y:.3585};do{var D=f.R$.CD(f.raw.Z0(u,X)),q=f.R$.EM(D,K),C=a3.a9K(q);w=Math.abs(X.x-C.x)+Math.abs(X.y-C.y);
X=C}while(w>1e-7);return X};f.raw.Z0=function(u,g){var K=a3.kn(g),X=f.raw.aaT,w=u.t50778?u.t50778[0]:0,D=u.t50779?u.t50779[0]:0,q=X(u.t50721,u.t50722,w,D,K.lt),C=X(u.t50723,u.t50724,w,D,K.lt);
q=q||[1,0,0,0,1,0,0,0,1];C=C||[1,0,0,0,1,0,0,0,1];var a=u.t50727?[u.t50727[0],0,0,0,u.t50727[1],0,0,0,u.t50727[2]]:[1,0,0,0,1,0,0,0,1];
return f.R$.multiply(f.R$.sN(a),f.R$.multiply(f.R$.sN(C),f.R$.sN(q)))};f.raw.aaT=function(u,g,K,X,w){if(!u&&!g){return null}else if(u&&!g){return u}else if(w<K){return u}else if(w>X){return g}else{var D=(1/w-1/X)/(1/K-1/X),q=1-D,C=[];
for(var P=0;P<9;P++)C[P]=u[P]*D+g[P]*q;return C}};var a3={};a3.ahL={x:.34567,y:.3585};a3.UA=[{w:0,GJ:.18006,jp:.26352,m7:-.24341},{w:10,GJ:.18066,jp:.26589,m7:-.25479},{w:20,GJ:.18133,jp:.26846,m7:-.26876},{w:30,GJ:.18208,jp:.27119,m7:-.28539},{w:40,GJ:.18293,jp:.27407,m7:-.3047},{w:50,GJ:.18388,jp:.27709,m7:-.32675},{w:60,GJ:.18494,jp:.28021,m7:-.35156},{w:70,GJ:.18611,jp:.28342,m7:-.37915},{w:80,GJ:.1874,jp:.28668,m7:-.40955},{w:90,GJ:.1888,jp:.28997,m7:-.44278},{w:100,GJ:.19032,jp:.29326,m7:-.47888},{w:125,GJ:.19462,jp:.30141,m7:-.58204},{w:150,GJ:.19962,jp:.30921,m7:-.70471},{w:175,GJ:.20525,jp:.31647,m7:-.84901},{w:200,GJ:.21142,jp:.32312,m7:-1.0182},{w:225,GJ:.21807,jp:.32909,m7:-1.2168},{w:250,GJ:.22511,jp:.33439,m7:-1.4512},{w:275,GJ:.23247,jp:.33904,m7:-1.7298},{w:300,GJ:.2401,jp:.34308,m7:-2.0637},{w:325,GJ:.24792,jp:.34655,m7:-2.4681},{w:350,GJ:.25591,jp:.34951,m7:-2.9641},{w:375,GJ:.264,jp:.352,m7:-3.5814},{w:400,GJ:.27218,jp:.35407,m7:-4.3633},{w:425,GJ:.28039,jp:.35577,m7:-5.3762},{w:450,GJ:.28863,jp:.35714,m7:-6.7262},{w:475,GJ:.29685,jp:.35823,m7:-8.5955},{w:500,GJ:.30505,jp:.35907,m7:-11.324},{w:525,GJ:.3132,jp:.35968,m7:-15.628},{w:550,GJ:.32129,jp:.36011,m7:-23.325},{w:575,GJ:.32931,jp:.36038,m7:-40.77},{w:600,GJ:.33724,jp:.36051,m7:-116.45}];
a3.kn=function(u){var g=a3.UA,K=2*u.x/(1.5-u.x+6*u.y),X=3*u.y/(1.5-u.x+6*u.y),w=0,D=0,q=0;for(;q<31;
q++){w=X-g[q].jp-g[q].m7*(K-g[q].GJ);if(q>0&&w<0){break}D=w}while(q>=g.length)q--;w/=Math.sqrt(1+g[q].m7*g[q].m7);
D/=Math.sqrt(1+g[q-1].m7*g[q-1].m7);var C=D/(D-w),a=1e6/((g[q].w-g[q-1].w)*C+g[q-1].w),x=K-((g[q].GJ-g[q-1].GJ)*C+g[q-1].GJ),H=X-((g[q].jp-g[q-1].jp)*C+g[q-1].jp),$=Math.sqrt(1+g[q].m7*g[q].m7),r=1/$,c=g[q].m7/$,U=Math.sqrt(1+g[q-1].m7*g[q-1].m7),O=1/U,A=g[q-1].m7/U,m=(r-O)*C+O,i=(c-A)*C+A,e=Math.sqrt(m*m+i*i);
m/=e;i/=e;var S=(x*m+H*i)*-3e3;return{lt:a,_w:S}};a3.ak_=function(u,g){var K=a3.UA,X=1e6/u,w=1;for(;
w<31;w++){if(X<K[w].w){break}}var D=(K[w].w-X)/(K[w].w-K[w-1].w),q=(K[w-1].GJ-K[w].GJ)*D+K[w].GJ,C=(K[w-1].jp-K[w].jp)*D+K[w].jp,a=Math.sqrt(1+K[w].m7*K[w].m7),x=1/a,H=K[w].m7/a,$=Math.sqrt(1+K[w-1].m7*K[w-1].m7),r=1/$,c=K[w-1].m7/$,U=(r-x)*D+x,O=(c-H)*D+H,A=Math.sqrt(U*U+O*O);
U/=A;O/=A;q+=U*g/-3e3;C+=O*g/-3e3;return{x:1.5*q/(q-4*C+2),y:C/(q-4*C+2)}};a3.a9K=function(u){var g=u[0]+u[1]+u[2];
return{x:u[0]/g,y:u[1]/g}};a3.sp=function(u){return{x:u.x/u.y,y:1,pt:(1-u.x-u.y)/u.y}};a3.ahc=function(u,g){var K=f.R$.sN([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296]),X=[u.x,u.y,u.pt,0],w=[g.x,g.y,g.pt,0];
X=f.R$.EM(K,X);w=f.R$.EM(K,w);var D=w[0]/X[0],q=w[1]/X[1],C=w[2]/X[2],a=f.R$.sN([D,0,0,0,q,0,0,0,C]),x=f.R$.CD(K);
return f.R$.multiply(f.R$.multiply(x,a),K)};f.raw.JT={};f.raw.Mo=function(u){u*=8;var g=[8,10,12,14,16];
for(var K in CAMS){var X=CAMS[K];if(X.length==4)continue;var w=X[4],D=X[5];for(var P=0;P<g.length;P++)if(w*D*g[P]==u)return[K,g[P]]}var q=[[4e3,3e3]];
for(var P=0;P<q.length;P++){var X=q[P],w=X[0],D=X[1];for(var P=0;P<g.length;P++)if(w*D*g[P]==u)return[X,g[P]]}return null};
f.raw.a3t=function(u){var u=new Uint8Array(u);for(var P=0;P<u.length;P+=2){var g=u[P];u[P]=u[P+1];u[P+1]=g}var K=f.raw.Mo(u.length),X=CAMS[K[0]];
if(X==null)X=[[8489,-2583,-1036,-8051,15583,2643,-1307,1407,7354],0,1e3,64383,K[0][0],K[0][1]];var w=X[4],D=X[5],q=Math.max(X[2],116),C={data:u,dP:1,width:w,height:D,t256:[w],t257:[D],t258:[K[1]],t277:[1],t33421:[2,2],t33422:f.raw.Jq[X[1]],t50706:[1,2,0,0],t50714:[q,q,q,q],t50717:[X[3]],t50721:X[0].slice(0),t50723:[1,0,0,0,1,0,0,0,1],t50728:[.64,1,.46],t50778:[17]};
for(var P=0;P<9;P++)C.t50721[P]/=1e4;return C};f.raw.fG=function(u){if(u==null||u.length==0||typeof u[0]=="number")return u;
var g=[];for(var P=0;P<u.length;P++)g[P]=u[P][1]==0?0:u[P][0]/u[P][1];return g};f.raw.Jq=[[2,1,1,0],[0,1,1,2],[1,0,2,1],[1,2,0,1]];
f.raw.normalize=function(u,g){if(u.t50706!=null||u.t271[0].startsWith("Hasselblad")){var K=[50714,50718,50719,50720,50721,50722,50723,50724,50727,50728,50730,50731,50732,50734,50736,50738,50739,50780,50964,50965];
for(var P=0;P<K.length;P++)if(u["t"+K[P]]!=null)u["t"+K[P]]=f.raw.fG(u["t"+K[P]]);if(u.t271&&u.t271[0].startsWith("Hasselblad")){u.t50706=[1,2,0,0];
u.t33422=f.raw.Jq[1];u.t50723=[1,0,0,0,1,0,0,0,1];u.t50778=[17];if(!u.isLE)for(var P=0;P<u.data.length;
P+=2){var X=u.data[P];u.data[P]=u.data[P+1];u.data[P+1]=X}}return}var w=u.t258[0],D=u.exifIFD,g=new Uint8Array(g);
u.t50706=[1,2,0,0];var q=u.t272[0].trim();if(q.indexOf(" ")==-1)q=u.t271[0].trim()+" "+q;if(u.t50708==null)u.t50708=[q];
var C=q.toLowerCase(),a=CAMS,x=a[C];if(x==null)for(var H in a)if(C.startsWith(H))x=a[H];if(x==null)alert("Unknown camera:"+q);
else{var $=x[2];u.t50714=[$,$,$,$];u.t50717=[x[3]];u.t50721=x[0].slice(0);for(var P=0;P<9;P++)u.t50721[P]=u.t50721[P]*(1/1e4)}u.t50723=[1,0,0,0,1,0,0,0,1];
if(u.t50728==null)u.t50728=[.35,1,.6];u.t50778=[17];if(u.t271[0].startsWith("SONY")){var r=UTIF["_bin"+(u.isLE?"LE":"BE")],c=u.t28688,S;
if(JSON.stringify(c)!="[8000,10400,12900,14100]")console.log(c);if(c){var U=[0,0,0,0,0,4095],O=new Uint16Array(16385);
for(var P=0;P<4;P++){var A=c[P]>>>2;U[P+1]=A;if(A>4095)throw"e"}for(var P=0;P<16385;P++)O[P]=P;for(var P=0;
P<5;P++)for(var m=U[P]+1;m<=U[P+1];m++)O[m]=O[m-1]+(1<<P);var i=g.length*8<u.width*u.height*w;if(i)u.t50712=O}else console.log("no curve");
var e=u.dngPrvt;if(e){var E=e.t29184[0],Z=e.t29185[0],N=(u.isLE?k.yY:k.r)(e.t29217,0),J=new Uint32Array(g.slice(E,E+(Z&4294967292)).buffer),y=new Uint32Array(Z>>>2);
f.raw.av2(J,y,Z>>>2,N);var o=new Uint8Array(E+Z);o.set(new Uint8Array(y.buffer),E);var B=[];UTIF._readIFD(r,o,E,B,0,!1);
var t=B.pop(),W=t.t29458;u.t50728=[W[1]/W[0],1,W[1]/W[3]];u.t50730=[.5];var F=t.t29891;u.t50829=[F[1],F[0],F[3],F[2]]}else if(D.makerNote&&D.makerNote.t8208){var S=D.makerNote,G=S.t8208,L=G.length,Q=0,T=new Uint8Array(256);
for(var P=249;P<256;P++)T[P]=P;for(var P=0;P<249;P++)T[P*P*P%249]=P;for(var P=0;P<L;P++)G[P]=T[G[P]];
if(L==6604)Q=612;else throw"e";var W=[];for(var P=0;P<3;P++)W.push(k.rL(G,Q+P*2));console.log(W);u.t50728=[W[1]/W[0],1,W[1]/W[2]]}else console.log("no white balance");
if(u.width*u.height*1.5==u.t279[0]){$=$>>>2;u.t50714=[$,$,$,$];u.t50717=[x[3]>>>2]}}else if(u.t271[0].startsWith("Canon")){var g=u.data,j=g.slice(0),p=u.t50752,M=[],d=0;
if(p==null||p[0]==0&&p[1]==0)M.push(u.width);else{for(var P=0;P<p[0];P++)M.push(p[1]);M.push(p[2])}var n=u.width*2,V=u.t50885&&u.t50885[0]==4;
if(!V)for(var z=0;z<M.length;z++){var I=M[z],v=2*d,gj=2*I;for(var jA=0;jA<u.height;jA+=2){var Y=jA*n+v,jv=u.height*v+jA*gj;
for(var P=0;P<gj;P++){g[Y+P]=j[jv+P];g[Y+P+n]=j[jv+P+gj]}}d+=I}else{for(var z=0;z<M.length;z++){var I=M[z]/((p[0]*p[1]+p[2])/u.width);
for(var jA=0;jA<u.height;jA++){var Y=(jA*u.width+d)*6,jv=(u.height*d+jA*I)*6;for(var P=0;P<I*6;P++)g[Y+P]=j[jv+P]}d+=I}var iR=new Uint16Array(g.buffer),cj=new Uint16Array(1),j8=new Int16Array(cj.buffer);
for(var P=0;P<iR.length;P+=3){var as=iR[P],gW=iR[P+1],af=iR[P+2];cj[0]=gW<<2;gW=j8[0]>>2;cj[0]=af<<2;
af=j8[0]>>2;iR[P+0]=Math.max(0,af+as);iR[P+1]=Math.max(0,(as<<12)-gW*778-(af<<11)>>12);iR[P+2]=Math.max(0,gW+as)}}var S=D.makerNote;
if(S.t16385){var at=S.t224,hS=0;if(at){u.t50719=[at[5],at[6]];u.t50720=[at[7]+1-at[5],at[8]+1-at[6]]}var jd=S.t16385,fM=jd.length;
if(fM==582)hS=1;else if(fM==653)hS=2;else if(fM==796)hS=3;else if([692,674,702,1227,1250,1251,1337,1338,1346].indexOf(fM)!=-1)hS=4;
else if(fM==5120){hS=5;jd=new Int16Array(jd.slice(0).buffer)}else if(fM==1273||fM==1275)hS=6;else if([1312,1313,1316,1506].indexOf(fM)!=-1)hS=7;
else if([1560,1592,1353,1602].indexOf(fM)!=-1)hS=8;else throw"e"+fM;var dr=jd[0],cB=[null,[25,166],[34,286],[63,196],[63],[71,dr==-4?333:264],[63,251],[63,dr==10?504:728],[63,326]],Q=cB[hS][0],b1=cB[hS][1];
if(hS==4){if(jd[0]==2)b1=231;else if(jd[0]==3)b1=231;else if(jd[0]==4)b1=231;else if(jd[0]==5)b1=231;
else if(jd[0]==6)b1=231;else if(jd[0]==7)b1=231;else if(jd[0]==9)b1=231;else throw"e"}u.t50728=[jd[Q+1]/jd[Q],1,jd[Q+1]/jd[Q+3]];
var $=b1==null?1024:jd[b1];if(hS!=4)u.t50714=[$,$,$,$]}else{u.t50728=[.4,1,.6]}if(V){u.t277=[3];u.t50728=[1,1,1];
u.t50714=[0,0,0,0]}}else if(u.t271[0].startsWith("NIKON")){var S=D.makerNote,ic=u.isLE?k.rL:k.ST,eP=0,jm=0,b2,c4=0;
if(S.t61){var dV=S.t61,eS=[];for(var P=0;P<4;P++)eS[P]=dV[P]/Math.pow(2,14-w);u.t50714=eS}if(S.t3585){var a2=S.t3585,P=0,E=22;
while(E<a2.length&&P!=-4){var d3=k.yY(a2,E);E+=4;E+=14;P=k.yY(a2,E)-4;E+=4;if(d3==1990472198){if(a2[E]!=0)throw"Flip"}if(d3==1990472199){var cE=k.rL(a2,E);
if(cE==0)u.dP=1;else if(cE==270)u.dP=8;else throw"e "+cE}E+=P}}if(S.t183){var bD=S.t183,f1=[];for(var P=0;
P<6;P++)f1.push(ic(bD,16+P*2));eP=f1[0];jm=f1[1]}if(S.t3614){var ft=S.t3614;eP=k.yY(ft,8);jm=k.yY(ft,12)}if(eP!=0&&Math.max(eP,jm)<Math.max(u.width,u.height)){if(eP<jm){var X=eP;
eP=jm;jm=X}var d=u.width-eP>>>1,jA=u.height-jm>>>1;u.t50829=[jA,d,jA+jm,d+eP]}else u.t50829=[8,8,u.height-8,u.width-56];
var ie=S.t69;if(ie)u.t50829=[ie[1],ie[0],ie[1]+ie[3],ie[0]+ie[2]];if(S.t12){var dh=f.raw.fG(S.t12);b2=[1/dh[0],1,1/dh[1]]}else if(S.t151){var aY=f.raw.anC(S,151),eF=aY[0],ea=aY[1],de=aY[2];
if(eF=="0100"&&ea>=80)throw"e";else if(eF=="0102"){var i5=[];for(var P=0;P<4;P++)i5.push(ic(de,6+P*2));
b2=[i5[1]/i5[0],1,i5[1]/i5[3]]}else if(eF=="0103"&&ea>=26){var i5=[];for(var P=0;P<4;P++)i5.push(ic(de,16+P*2));
b2=[i5[1]/i5[0],1,i5[3]/i5[2]]}else if(eF=="0204"&&ea>=564||eF=="0205"&&ea>=284){var E=eF=="0204"?6:14,i5=[];
for(var P=0;P<4;P++)i5.push(ic(de,E+P*2));b2=[i5[1]/i5[0],1,i5[1]/i5[3]]}else throw"e"}else console.log("no white balance info");
if(q=="NIKON D1")b2=[1,1,1];if(b2)u.t50728=b2;var eA=S.t150?S.t150:S.t140;if(eA){var jC=eA[c4++],hd=eA[c4++],cL;
if(jC==73||hd==88)c4+=2110;c4+=8;var iG=1<<w&32767,cC=ic(eA,c4);c4+=2;var O=[];if(cC>1)cL=Math.floor(iG/(cC-1));
if(jC==68&&hd==32&&cL>0){for(P=0;P<cC;P++){O[P*cL]=ic(eA,c4);c4+=2}for(P=0;P<iG;P++)O[P]=Math.floor((O[P-P%cL]*(cL-P%cL)+O[P-P%cL+cL]*(P%cL))/cL)}else if(jC!=70&&cC<=16385){iG=cC;
for(var P=0;P<cC;P++)O[P]=ic(eA,c4+2*P);c4+=2*cC}var dw=u.t272[0];if(O.length!=0)u.t50712=new Uint16Array(O);
if(u.t258[0]==14&&u.t50717[0]<1e4){console.log("fixing white");u.t50717[0]*=4}}}else if(q.startsWith("FujiFilm")){}else alert("Unknown camera "+q)};
f.raw.av2=function(u,g,K,X){if(0==K)return;var w=new Uint32Array(128),D=new Uint8Array(w.buffer),q=127,C=0,a=0;
for(var q=0;q<4;q++)w[q]=X=(X*15625>>>0)*3125+1>>>0;w[3]=w[3]<<1|(w[0]^w[2])>>>31;for(var q=4;q<127;
q++)w[q]=(w[q-4]^w[q-2])<<1|(w[q-3]^w[q-1])>>>31;for(var q=0;q<127;q++)w[q]=k.r(D,q*4);for(;K>0;K--){w[q&127]=w[q+1&127]^w[q+1+64&127];
var x=w[q&127],H=u[C];H^=x;g[a]=H;C++;a++;q++}};f.raw.ak3=function(u,g){var K=k.u6(g,0,4),X=f.raw.asC;
for(var P=0;P<X.length;P++)if(X[P][0]==u&&K.startsWith(X[P][1])&&(X[P][2]==0||X[P][2]==g.length))return X[P];
throw"e"};f.raw.a3r=function(u){if(u.t29==null)return[];var g=f.raw.aeH,K=f.raw.a9P,X=u.t29[0],w=0,q=0;
for(var P=0;P<X.length;P++){var D=X.charCodeAt(P);w=w*10+(48<=D&&D<=57?D-48:D%10)}var ea=u.t167[0];for(var P=0;
P<4;P++)q^=ea>>>(P<<3)&255;var C=g[w&255],a=K[q&255];return[C,a,96]};f.raw.anC=function(u,g){var K=u["t"+g],ea=K.length,X=f.raw.ak3(g,K),w=k.u6(K,0,4),D,q=X[4];
if(q==null)D=K.slice(4);else{D=new Uint8Array(ea-q);var C=f.raw.a3r(u),a=C[0],x=C[1],H=C[2];for(var P=0;
P<D.length;P++){x=x+a*H++&255;D[P]=K[q++]^x}}return[w,ea,D]};f.raw.asC=[[145,"0208",0,0,4],[145,"0209",0,1,4],[145,"0210",5291,2,4],[145,"0210",5303,3,4],[145,"02",0,4,4],[145,"01",0,5,null],[151,"0100",0,0,null],[151,"0102",0,1,null],[151,"0103",0,4,null],[151,"0204",0,3,284],[151,"0205",0,2,4],[151,"0206",0,3,284],[151,"0207",0,3,284],[151,"0208",0,3,284],[151,"0209",0,5,284],[151,"02",0,3,284],[152,"0100",0,0,null],[152,"0101",0,1,null],[152,"0201",0,1,4],[152,"0202",0,1,4],[152,"0203",0,1,4],[152,"0204",0,2,4],[168,"0100",0,0,null],[168,"0101",0,0,null],[168,"0102",0,1,null],[168,"0103",0,2,null]];
f.raw.aeH=[193,191,109,13,89,197,19,157,131,97,107,79,199,127,61,61,83,89,227,199,233,47,149,167,149,31,223,127,43,41,199,13,223,7,239,113,137,61,19,61,59,19,251,13,137,193,101,31,179,13,107,41,227,251,239,163,107,71,127,149,53,167,71,79,199,241,89,149,53,17,41,97,241,61,179,43,13,67,137,193,157,157,137,101,241,233,223,191,61,127,83,151,229,233,149,23,29,61,139,251,199,227,103,167,7,241,113,167,83,181,41,137,229,43,167,23,41,233,79,197,101,109,107,239,13,137,73,47,179,67,83,101,29,73,163,19,137,89,239,107,239,101,29,11,89,19,227,79,157,179,41,67,43,7,29,149,89,89,71,251,229,233,97,71,47,53,127,23,127,239,127,149,149,113,211,163,11,113,163,173,11,59,181,251,163,191,79,131,29,173,233,47,113,101,163,229,7,53,61,13,181,233,229,71,59,157,239,53,163,191,179,223,83,211,151,83,73,113,7,53,97,113,47,67,47,17,223,23,151,251,149,59,127,107,211,37,191,173,199,197,197,181,139,239,47,211,7,107,37,73,149,37,73,109,113,199];
f.raw.a9P=[167,188,201,173,145,223,133,229,212,120,213,23,70,124,41,76,77,3,233,37,104,17,134,179,189,247,111,97,34,162,38,52,42,190,30,70,20,104,157,68,24,194,64,244,126,95,27,173,11,148,182,103,180,11,225,234,149,156,102,220,231,93,108,5,218,213,223,122,239,246,219,31,130,76,192,104,71,161,189,238,57,80,86,74,221,223,165,248,198,218,202,144,202,1,66,157,139,12,115,67,117,5,148,222,36,179,128,52,229,44,220,155,63,202,51,69,208,219,95,245,82,195,33,218,226,34,114,107,62,208,91,168,135,140,6,93,15,221,9,25,147,208,185,252,139,15,132,96,51,28,155,69,241,240,163,148,58,18,119,51,77,68,120,40,60,158,253,101,87,22,148,107,251,89,208,200,34,54,219,210,99,152,67,161,4,135,134,247,166,38,187,214,89,77,191,106,46,170,43,239,230,120,182,78,224,47,220,124,190,87,25,50,126,42,208,184,186,41,0,60,82,125,168,73,59,45,235,37,73,250,163,170,57,167,197,167,80,17,54,251,198,103,74,245,165,18,101,126,176,223,175,78,179,97,127,47];
f.Gi={};f.Gi.Gi=function(u,g,K,X,w){if(X==null)X=3;if(w==null)w=!0;var D=u.m,q=u.n,C=1/D,a=D*q,x=Date.now(),H=!1,$=f.Gi.ma(K,D,q,255,128),r=f.Gi.ma(K,D,q,0,128),jA=0;
if(H)console.log("extract contours",Date.now()-x);x=Date.now();var c=function(aY,eF){var i5=aY<<2,eA=eF<<2;
return g[i5]+g[i5+1]+g[i5+2]-(g[eA]+g[eA+1]+g[eA+2])};$.sort(c);r.sort(c);var U=f.L(a),O=f.L(a),A=[],m=new Uint32Array(D*q);
m.fill(4294967295);for(var P=0;P<a;P++)if(K[P]==0)O[P]=255;else if(K[P]==255)U[P]=255;else{m[P]=A.length;
A.push(P)}var i=$.length,e=r.length,S=A.length;function E(aY,eF,i5,eA){var c4=aY.length,jC=new Array(c4*2);
for(var P=0;P<c4;P++){var Q=aY[P],T=~~(Q*eA),j=Q-T*i5,ie=Q<<2;jC[P*2]=j<<16|T;jC[P*2+1]=eF[ie]<<16|eF[ie+1]<<8|eF[ie+2]}return jC}var Z=E($,g,D,C),N=E(r,g,D,C),J=E(A,g,D,C);
if(H)console.log("Itemize",Date.now()-x,"Unknown:",S,i,e);x=Date.now();var y=f.style.ms(U,D,q,!0),o=f.style.ms(O,D,q,!0),B=new Array(S),t=new Array(S),W=new Array(S),F=new Array(S),G=new Array(S);
if(H)console.log("Dist transform",Date.now()-x);x=Date.now();var L=f.Gi.ir;for(var P=0;P<S;P++){var Q=A[P],T=~~(Q*C),j=Q-T*D,p=y[Q<<1],M=y[(Q<<1)+1],n=Math.sqrt(p*p+M*M),d=o[Q<<1],V=o[(Q<<1)+1],z=Math.sqrt(d*d+V*V);
B[P]=1/n;t[P]=1/z;var I=Math.floor(f.i.wq(Q*17)*i),v=Math.floor(f.i.wq(Q*19)*e);W[P]=I;F[P]=v;G[P]=L(J[P*2],J[P*2+1],Z[I*2],Z[I*2+1],N[v*2],N[v*2+1],B[P],t[P],1e9)}var gj=[-D-1,-D,-D+1,-1,1,D-1,D,D+1];
while(Math.floor(Math.max(i,e)*Math.pow(.5,jA))>1)jA++;for(var Y=0;Y<X;Y++){var jv=0;for(var P=0;P<S;
P++){var Q=A[P],T=~~(Q*C),j=Q-T*D,iR=B[P],cj=t[P],j8=J[P*2],as=J[P*2+1],gW=G[P],I=W[P],v=F[P],dr=1;if(T!=0&&j!=0&&j!=D-1&&T!=q-1)for(var af=0;
af<8;af++){var at=m[Q+gj[af]];if(at==4294967295)continue;var jd=W[at],fM=F[at];if(jd==I&&fM==v)continue;
var hS=L(j8,as,Z[jd*2],Z[jd*2+1],N[fM*2],N[fM*2+1],iR,cj,gW);if(hS<gW){gW=hS;I=jd;v=fM}}for(var cB=0;
cB<jA;cB++){var b1=~~(i*dr),ic=~~(e*dr);dr*=.5;var dV=f.i.wq(Q+Y*17+cB*31),eS=f.i.wq(Q+Y*29+cB*63),a2=Math.max(0,I-b1),d3=Math.min(I+b1,i-1),cE=Math.max(0,v-ic),eP=Math.min(v+ic,e-1),jd=a2+~~(dV*(d3-a2)),fM=cE+~~(eS*(eP-cE)),hS=L(j8,as,Z[jd*2],Z[jd*2+1],N[fM*2],N[fM*2+1],iR,cj,gW);
if(hS<gW){gW=hS;I=jd;v=fM}}G[P]=gW;W[P]=I;F[P]=v;jv+=gW}}if(H)console.log(jv);if(H)console.log("iterations",Date.now()-x);
x=Date.now();var jm=K.slice(0);for(var P=0;P<S;P++){var bD=f.Gi.alpha(J[P*2+1],Z[W[P]*2+1],N[F[P]*2+1]);
jm[A[P]]=~~(.5+255*bD)}jm=f.uW.ac9(jm,g,new dS(0,0,D,q),16,.01*.01);if(H)console.log("guided filter",Date.now()-x);
x=Date.now();if(w)for(var P=0;P<a;P++)if(K[P]==255||K[P]==0)jm[P]=K[P];var f1=g.slice(0);for(var P=0;
P<S;P++){var ft=A[P],I=$[W[P]],gW=G[P],ie=ft<<2,b2=jm[ft],dh=(b2>=250?ft:I)<<2;f1[ie]=g[dh];f1[ie+1]=g[dh+1];
f1[ie+2]=g[dh+2]}f.K1(jm,f1,3);if(H)console.log(Date.now()-x);x=Date.now();return f1};f.Gi.ir=function(u,g,K,X,w,D,q,C,a){var x=u>>>16,H=u&65535,$=x-(K>>>16),r=H-(K&65535),c=x-(w>>>16),U=H-(w&65535),O=Math.sqrt($*$+r*r)*q,A=Math.sqrt(c*c+U*U)*C;
if(O+A>=a)return 1e9;var m=f.Gi.av9(g,X,D);return m+O+A};f.Gi.av9=function(u,g,K){var X=u>>>16,w=u>>>8&255,D=u&255,q=g>>>16,C=g>>>8&255,a=g&255,x=K>>>16,H=K>>>8&255,$=K&255,r=f.Gi.alpha(u,g,K),c=X-(r*q+(1-r)*x),U=w-(r*C+(1-r)*H),O=D-(r*a+(1-r)*$);
return Math.sqrt(c*c+U*U+O*O)};f.Gi.alpha=function(u,g,K){var X=u>>>16,w=u>>>8&255,D=u&255,q=g>>>16,C=g>>>8&255,a=g&255,x=K>>>16,H=K>>>8&255,$=K&255,r=q-x,c=C-H,U=a-$,O=X-x,A=w-H,m=D-$,i=r*r+c*c+U*U,e=i==0?.5:(O*r+A*c+m*U)/i;
return Math.max(0,Math.min(1,e))};f.Gi.a7Z=function(u){};f.Gi.ma=function(u,g,K,X,w){var D=[],q=g-1,C=K-1;
for(var a=1;a<C;a++)for(var x=1;x<q;x++){var P=a*g+x;if(u[P]==X&&(u[P-g-1]==w||u[P-g]==w||u[P-g+1]==w||(u[P-1]==w||u[P+1]==w)||(u[P+g-1]==w||u[P+g]==w||u[P+g+1]==w)))D.push(P)}return D};
f.uW={};f.uW.a4v=function(u,g,K,X,w){var D=K.m,q=K.n,C=D*q,a=f.uW.cA,x=f.L(C*4),H;f.D4(x,4294967295);
var $=K,r=u,c=g,U=X;f.K1(u,x,0);H=f.So(x,K);H=f.So(H.Fg,H.rect);$=H.rect;U=X>>>2;console.log($,U);r=f.L($.$());
f.hk(H.Fg,r,0);f.K1(g,x,0);H=f.So(x,K);H=f.So(H.Fg,H.rect);c=f.L($.$());f.hk(H.Fg,c,0);var O=f.uW.a5I(r,c,$,U,w),A=O[0],m=O[1],i=new dS(0,0,$.m*2,$.n*2);
A=a(A,$,i,!0);A=a(A,i,K,!0);m=a(m,$,i,!0);m=a(m,i,K,!0);var e=f.L(C);for(var P=0;P<C;P++)e[P]=Math.max(0,Math.min(255,Math.floor(.5+(A[P]*g[P]+255*m[P]))));
return e};f.uW.cA=function(u,g,K,X){var w=K.m,D=K.n,q=g.m,C=g.n,a=f.uW.$o,x=new Float32Array(w*D);for(var H=0;
H<C;H++){var $=(H+H)*w;for(var r=0;r<q;r++){if(!0||r==0||H==0||r==q-1||H==C-1)x[$]=x[$+1]=x[$+w]=x[$+w+1]=u[H*q+r];
else{x[$]=a(r+.25,H+.25,u,q,C);x[$+1]=a(r+.75,H+.25,u,q,C);x[$+w]=a(r+.25,H+.75,u,q,C);x[$+w+1]=a(r+.75,H+.75,u,q,C)}$+=2}}return x};
f.uW.$o=function(u,g,K,X,w){u-=.499999;g-=.499999;var D=Math.floor(u),q=Math.floor(g),C=q*X+D,a=u-D,x=g-q,H=(1-x)*(1-a),$=(1-x)*a,r=x*(1-a),c=x*a;
if(K[C]==null||K[C+X+1]==null){console.log(u,g,X,w);throw"e"}return H*K[C+0]+$*K[C+1]+r*K[C+X+0]+c*K[C+X+1]};
f.uW.a5I=function(u,g,K,X,w){var D=K.m,q=K.n,C=D*q,a=f.uW.wO,x=f.uW.L,H=f.zg.w9,$=f.uW.I_,g=a(g),u=a(u),r=x(C);
H(g,r,K,X);var c=x(C);H(u,c,K,X);var U=x(C);$(g,g,U);H(U,U,K,X);var O=x(C);$(g,u,O);H(O,O,K,X);var A=x(C),m=x(C);
for(var P=0;P<C;P++){var i=r[P],e=c[P],S=U[P]-i*i,E=O[P]-i*e,Z=E/(S+w),N=e-Z*i;A[P]=Z;m[P]=N}var J=x(C);
H(A,J,K,X);var y=x(C);H(m,y,K,X);return[J,y]};f.uW.ac9=function(u,g,K,X,w){var D=K.m,q=K.n,C=D*q,a=f.uW.cA,x=Date.now(),H=!1,$=K,r=u,c=g,U=X;
$=new dS(0,0,D>>>2,q>>>2);U=X>>>2;r=f.uW.axf(u,D,q);c=f.uW.a94(g,D,q);if(H)console.log(Date.now()-x);
x=Date.now();var O=f.uW.abv(r,c,$,U,w),A=O[0],m=O[1],i=O[2],e=O[3];if(H)console.log(Date.now()-x);x=Date.now();
var S=f.L(C);for(var E=0;E<q;E++)for(var Z=0;Z<D;Z++){var P=E*D+Z,N=(E>>>2)*(D>>>2)+(Z>>>2),J=P<<2,y=A[N]*g[J]+m[N]*g[J+1]+i[N]*g[J+2]+e[N]*255;
S[P]=Math.max(0,Math.min(255,~~(.5+y)))}if(H)console.log(Date.now()-x);x=Date.now();return S};f.uW.axf=function(u,g,K){var X=g>>>2,w=K>>>2,D=f.L(g*K);
for(var q=0;q<w;q++)for(var C=0;C<X;C++)D[q*X+C]=u[q*g+C<<2];return D};f.uW.a94=function(u,g,K){var X=g>>>2,w=K>>>2,D=f.L(g*K*4);
for(var q=0;q<w;q++)for(var C=0;C<X;C++){var a=q*X+C<<2,x=q*g+C<<4;D[a]=u[x];D[a+1]=u[x+1];D[a+2]=u[x+2];
D[a+3]=u[x+3]}return D};f.uW.abv=function(u,g,K,X,w){var D=K.m,q=K.n,C=D*q,a=f.uW.wO,x=f.uW.L,H=f.zg.w9,$=f.uW.I_,u=a(u),r=new f.bs(D*q);
f.Jw(g,r);var g=[a(r.w),a(r.A),a(r.U)],c=f.uW.arq(u,g,K,X,w),U=x(C);H(u,U,K,X);var O=x(C);$(g[0],u,O);
H(O,O,K,X);var A=x(C);$(g[1],u,A);H(A,A,K,X);var m=x(C);$(g[2],u,m);H(m,m,K,X);var i=x(C),e=x(C),S=x(C),E=x(C);
for(var P=0;P<C;P++){var Z=U[P],N=c.lr[P],J=c.OU[P],y=c.Ru[P],o=O[P]-N*Z,B=A[P]-J*Z,t=m[P]-y*Z;i[P]=c.arm[P]*o+c.lx[P]*B+c.XI[P]*t;
e[P]=c.lx[P]*o+c.awv[P]*B+c.Ct[P]*t;S[P]=c.XI[P]*o+c.Ct[P]*B+c.awz[P]*t;E[P]=Z-i[P]*N-e[P]*J-S[P]*y}H(i,i,K,X);
H(e,e,K,X);H(S,S,K,X);H(E,E,K,X);return[i,e,S,E]};f.uW.arq=function(u,g,K,X,w){var D=K.m,q=K.n,C=D*q,a=f.uW.L,x=f.zg.w9,H=f.uW.I_,$={};
$.lr=a(C);x(g[0],$.lr,K,X);$.OU=a(C);x(g[1],$.OU,K,X);$.Ru=a(C);x(g[2],$.Ru,K,X);var r=a(C);H(g[0],g[0],r);
x(r,r,K,X);var c=a(C);H(g[0],g[1],c);x(c,c,K,X);var U=a(C);H(g[0],g[2],U);x(U,U,K,X);var O=a(C);H(g[1],g[1],O);
x(O,O,K,X);var A=a(C);H(g[1],g[2],A);x(A,A,K,X);var m=a(C);H(g[2],g[2],m);x(m,m,K,X);$.arm=r;$.lx=c;
$.XI=U;$.awv=O;$.Ct=A;$.awz=m;for(var P=0;P<C;P++){var i=$.lr[P],e=$.OU[P],S=$.Ru[P],E=r[P]-i*i+w,Z=c[P]-i*e,N=U[P]-i*S,J=O[P]-e*e+w,y=A[P]-e*S,o=m[P]-S*S+w,B=J*o-y*y,t=y*N-Z*o,W=Z*y-J*N,F=E*o-N*N,G=N*Z-E*y,L=E*J-Z*Z,Q=B*E+t*Z+W*N,T=1/Q;
$.arm[P]=B*T;$.lx[P]=t*T;$.XI[P]=W*T;$.awv[P]=F*T;$.Ct[P]=G*T;$.awz[P]=L*T}return $};f.uW.L=function(u){return new Float32Array(u)};
f.uW.wO=function(u){var g=u.length,K=new Float32Array(g);for(var P=0;P<g;P++)K[P]=u[P]*(1/255);return K};
f.uW.I_=function(u,g,K){for(var P=0;P<u.length;P++)K[P]=u[P]*g[P]};f.O4={};f.O4.Wb=function(u,g,K,X){var w=u[g]-K[X],D=u[g+1]-K[X+1],q=u[g+2]-K[X+2];
return Math.sqrt(w*w+D*D+q*q)*(1/441.7)};f.O4.getSelection=function(u,g,K){var X=g*K,w=f.L(X),D=!1,q=Math.round(K*.7),C=1,a=new Uint32Array(12),x=f.L(12);
for(var H=0;H<q;H++)for(var $=0;$<g;$++){if($<C||H<C||$>g-C-1||H>K-C-1){var P=H*g+$,r=P<<2,c=0;if(H<C)c=4;
else if($>g-C-1)c=8;a[c]+=u[r];a[c+1]+=u[r+1];a[c+2]+=u[r+2];a[c+3]++;w[P]=255}}for(var P=0;P<12;P+=4)for(var U=0;
U<3;U++)x[P+U]=a[P+U]/a[P+3];var O=new Float32Array(X);for(var P=0;P<X;P++){var r=P*4,A=f.O4.Wb(u,r,x,0),m=f.O4.Wb(u,r,x,4),i=f.O4.Wb(u,r,x,8),e=Math.max(A,Math.max(m,i));
O[P]=A+m+i-e}f.O4.ZZ(O);var S=Date.now(),E=new Float32Array(X),Z=[],N=f.L(X);for(var P=0;P<3;P++){f.hk(u,N,P);
var J=new Uint16Array(X);Z.push(J);f.O4.a2H(N,w,g,K,J)}if(D)console.log("MBD",Date.now()-S);S=Date.now();
for(var P=0;P<X;P++)E[P]=Z[0][P]+Z[1][P]+Z[2][P];f.O4.ZZ(E);for(var P=0;P<X;P++)E[P]+=.4*O[P];var y=g>>>1,q=K>>>1,o=1/Math.sqrt(y*y+q*q);
for(var H=0;H<K;H++)for(var $=0;$<g;$++){var B=$-y,t=H-q,W=1-Math.sqrt(B*B+t*t)*o;E[H*g+$]*=W}if(D)console.log("Centeredness",Date.now()-S);
S=Date.now();for(var P=0;P<X;P++)w[P]=E[P]*255;var F=Math.round(g/120),G=Math.round(F*.8);if(D)console.log(F,G);
f.yv.y6(w,N,g,K,F,f.yv.Pg,[]);w.set(N);if(D)console.log("erosion",Date.now()-S);S=Date.now();for(var P=0;
P<X;P++)E[P]=w[P];f.O4.ZZ(E);var L=f.L(256);for(var P=0;P<256;P++)L[P]=256/(1+Math.exp(-20*(P/255-.5)));
for(var P=0;P<X;P++){var Q=~~(E[P]*255+.5);w[P]=L[Q]}if(D)console.log("Simoid",Date.now()-S);S=Date.now();
return w};f.O4.ZZ=function(u){var g=u.length,K=0;for(var P=0;P<g;P++)K=Math.max(K,u[P]);var X=1/K;for(var P=0;
P<g;P++)u[P]=u[P]*X};f.O4.a2H=function(u,g,K,X,w){var D=K*X,q=u.slice(0),C=u.slice(0);for(var P=0;P<D;
P++)w[P]=g[P]==255?0:65535;f.O4.uN(u,C,q,w,K,X);f.O4.Df(u,C,q,w,K,X);f.O4.uN(u,C,q,w,K,X);f.O4.Df(u,C,q,w,K,X);
return w};f.O4.uN=function(u,g,K,X,w,D){for(var q=1;q<w;q++)f.O4.Ye(q,-1,u,g,K,X);for(var C=1;C<D;C++){f.O4.Ye(C*w,-w,u,g,K,X);
for(var q=1;q<w;q++){var P=C*w+q;f.O4.Ye(P,-1,u,g,K,X);f.O4.Ye(P,-w,u,g,K,X)}}};f.O4.Df=function(u,g,K,X,w,D){for(var q=w-2;
q>=0;q--)f.O4.Ye(w*D-w+q,1,u,g,K,X);for(var C=D-2;C>=0;C--){f.O4.Ye(C*w+w-1,w,u,g,K,X);for(var q=w-2;
q>=0;q--){var P=C*w+q;f.O4.Ye(P,1,u,g,K,X);f.O4.Ye(P,w,u,g,K,X)}}};f.O4.Ye=function(P,u,g,K,X,w){var D=P+u,q=g[P],C=K[D],a=X[D];
if(C<q)C=q;else if(q<a)a=q;var x=C-a;if(w[D]!=65535&&x<w[P]){w[P]=x;K[P]=C;X[P]=a}};f.Xt={};f.Xt.filter=function(u,g,K,X){var w=g.m,D=g.n,q=w*D,C=X[0],a=X[1],x=X[2],H=X[3],$=X[4],r=X[5],c=X[6],U=Date.now(),O=new Float32Array(w*D*4);
f.Xt.an7(u,w,D,O);var A=Math.ceil(C*Math.sqrt(-2*Math.log(.1))),m=new ArrayBuffer(q*4),i=new Float32Array(m),e=new Float32Array(q),S=new Float32Array(q);
for(var P=0;P<q;P++){var E=P*4;i[P]=O[E];e[P]=O[E+1];S[P]=O[E+2]}f.zg.JE(i,i,g,A*1/2.4,2);f.zg.JE(e,e,g,A*1/2.4,2);
f.zg.JE(S,S,g,A*1/2.4,2);for(var P=0;P<q;P++){var E=P*4;O[E]=i[P];O[E+1]=e[P];O[E+2]=S[P]}var Z=new Uint8Array(m);
for(var P=0;P<q;P++){var E=P*4,N=P*4,i=O[E],e=O[E+1],S=O[E+2],J=Math.sqrt((i-S)*(i-S)+4*e*e),y=(i+S+J)*.5,o=(i+S-J)*.5,B=o-S,t=e,W=B*B+t*t;
if(W!=0){var F=Math.sqrt(W),G=1/F;B*=G;t*=G}Z[N]=128+127*B;Z[N+1]=128+127*t}var L=1.3*a+2,Q=H*(2/10),T=u.slice();
if(s.xA){var j=new Float32Array([1/w,1/D]),p=s.iS(0,w,D);p.set(T);var M=s.iS(1,w,D);M.set(Z);s.c9(p,g);
if($){p.xH(g);s.filter.vG({type:s.filter.ax6,aY:j,a8O:1/x,aq5:Q},p.Gd)}p.xH(g);s.filter.vG({type:s.filter.Kg,YP:M.nI,aY:j,ai_:L,aku:2},p.Gd);
if($){p.xH(g);s.filter.vG({type:s.filter.a1H,aY:j,abN:new Float32Array(c),a6y:r},p.Gd)}p.get(K)}else{if($)f.Xt.cl(1/x,Q,T,w,D);
f.Xt.Kg(T,K,Z,w,D,L);if($)f.Xt.afe(w,D,K,c,r)}var n=q*4;for(var P=3;P<n;P+=4)K[P]=u[P]};f.Xt.Kg=function(u,g,K,X,w,D){var q=Math.ceil(2*D),C=-1/(2*D*D),a=[],x=1;
for(var P=0;P<q+20;P++)a[P]=Math.exp(P*P*C);var H=[0,0,0,0];for(var $=0;$<w;$++){for(var r=0;r<X;r++){var c=$*X+r,U=c*4,O=1,A=u[U],m=u[U+1],i=u[U+2],e=u[U+3],S=(K[U]-128)*(1/127),E=(K[U+1]-128)*(1/127),Z=S,N=E,J=r==0?.51:.49,y=$==0?.51:.49;
for(var P=0;P<2;P++){var o=r+J,B=$+y,t=0;while(t<q){if(o<.5||X-.5<o||B<.5||w-.5<B)break;var W=~~o,F=~~B,G=F*X+W,L=G*4,Q=(K[L]-128)*(1/127),T=(K[L+1]-128)*(1/127);
if(Q*Z+T*N<0){Q=-Q;T=-T}Z=Q;N=T;o+=x*Q;B+=x*T;if(o<.5||X-.5<o||B<.5||w-.5<B)break;var j=~~o,p=~~B,M=p*X+j<<2;
t+=x;var n=a[~~t];f.Q.sL(o,B,u,X,w,H);A+=H[0]*n;m+=H[1]*n;i+=H[2]*n;e+=H[3]*n;O+=n}Z=-S;N=-E}var d=1/O;
g[U]=~~(.5+A*d);g[U+1]=~~(.5+m*d);g[U+2]=~~(.5+i*d);g[U+3]=~~(.5+e*d)}}};f.Xt.afe=function(u,g,K,X,w){for(var D=0;
D<g;D++)for(var q=0;q<u;q++){var C=D*u+q<<2,a=1+f.Xt.ass(q,D,K,u,g,X)*w;K[C]=Math.max(0,Math.min(255,K[C]*a));
K[C+1]=Math.max(0,Math.min(255,K[C+1]*a));K[C+2]=Math.max(0,Math.min(255,K[C+2]*a))}};f.Xt.ass=function(u,g,K,X,w,D){var q=K[(g*X+Math.max(0,u-1))*4+3],C=K[(g*X+Math.min(X-1,u+1))*4+3],a=K[(Math.max(0,g-1)*X+u)*4+3],x=K[(Math.min(w-1,g+1)*X+u)*4+3],H=.7,$=(C-q)*(1/255),r=.7,c=(x-a)*(1/255),U=-$*r,O=-H*c,A=H*r,m=Math.sqrt(U*U+O*O+A*A),i=1/m,e=U*i,S=O*i,E=A*i,Z=D[0]*e+D[1]*S+D[2]*E;
return Z};f.Xt.cl=function(u,g,K,X,w){function D(C,x,H){return Math.max(x,Math.min(H,C))}for(var q=0;
q<w;q++)for(var C=0;C<X;C++){var a=f.Xt.a7a(C+.5,q+.5,u,g);K[(q*X+C)*4+3]=Math.max(0,Math.min(255,a*255))}};
f.Xt.a7a=function(u,g,K,X){function w(N,J,y){return(1-y)*N+y*J}var D=(u+613)*K,q=(g+117)*K,C=~~D,a=~~q,x=D-C,H=q-a,$=Math.sin(11),r=Math.cos(C)*$,c=Math.cos(C+1)*$,U=Math.cos(a)*$,O=Math.cos(a+1)*$,eJ=f.Xt.hash(r,U),A=f.Xt.hash(c,U),m=f.Xt.hash(r,O),i=f.Xt.hash(c,O),e=w(eJ,A,x),S=w(m,i,x),E=w(e,S,H);
E=E<.5?0:1;var Z=E+X*f.Xt.hash(Math.cos(D)*$,Math.cos(q)*$);return Z*(1/3)};f.Xt.hash=function(u,g){var K=Math.sin(u*11.697096+g*73.32456)*12157.47691;
return K-Math.floor(K)};f.Xt.an7=function(u,g,K,X){var w=[-1,0,1,-2,0,2,-1,0,1],D=[-1,-2,-1,0,0,0,1,2,1],q=g-1,C=K-1,a=g*4;
for(var x=1;x<C;x++)for(var H=1;H<q;H++){var P=x*g+H,$=P*4,r=f.Xt.eq(u,$,a,w),c=f.Xt.eq(u,$,a,D),U=f.Xt.eq(u,$+1,a,w),O=f.Xt.eq(u,$+1,a,D),A=f.Xt.eq(u,$+2,a,w),m=f.Xt.eq(u,$+2,a,D);
X[$]=r*r+U*U+A*A;X[$+1]=r*c+U*O+A*m;X[$+2]=c*c+O*O+m*m}f.Xt.a7V(X,g,K)};f.Xt.eq=function(u,g,K,X){return u[g-K-4]*X[0]+u[g-K]*X[1]+u[g-K+4]*X[2]+u[g-4]*X[3]+u[g]*X[4]+u[g+4]*X[5]+u[g+K-4]*X[6]+u[g+K]*X[7]+u[g+K+4]*X[8]};
f.Xt.a7V=function(u,g,K){function X(a,P,x){var H=P*4,$=x*4;a[$]=a[H];a[$+1]=a[H+1];a[$+2]=a[H+2]}var w=g-1,D=K-1;
X(u,g+1,0);X(u,2*g-2,g-1);for(var q=1;q<w;q++)X(u,g+q,q);for(var C=1;C<D;C++){X(u,C*g+1,C*g);X(u,C*g+g-2,C*g+g-1)}for(var q=1;
q<w;q++)X(u,(K-2)*g+q,(K-1)*g+q);X(u,(C-2)*g+1,(C-1)*g);X(u,(C-1)*g-2,C*g-1)};f.f9=function(){function u(x,H,$,r){var c=new Float32Array(x*x),U=x/2;
for(var O=0;O<x;O++)for(var A=0;A<x;A++){var m=A+$-U,i=O+r-U;c[O*x+A]=Math.max(0,Math.min(1,H+.5-Math.sqrt(m*m+i*i)))}return c}var g=[],X=null;
function K(x,H,$,r){var c=Math.floor(H*10),U=g[c],O=x*8,A=O>>>1;if(U==null){U=g[c]=[];var m=new dS(0,0,O,O),i=x/2/(1+.2*H),e=Math.floor(x*c*.1);
for(var S=0;S<2;S++)for(var E=0;E<2;E++){var Z=u(O,i,.25+E*.5,.25+S*.5),N=0;f.zg.JE(Z,Z,m,e);while(Z[O*A+N]<.005)N++;
if(N!=0)N--;var J=2*(A-N),y=new dS(N,N,J,J),o=new Float32Array(J*J);for(var B=0;B<J;B++)for(var t=0;
t<J;t++)o[B*J+t]=Z[(N+B)*O+N+t];U.push([o,y])}}var W=Math.floor($),F=Math.floor(r),G=$-W,L=r-F,Q=G<.5?1:0,T=L<.5?1:0;
U=U[T*2+Q];var y=U[1].clone();y.x+=W-A;y.y+=F-A;return[U[0],y]}function w(x,H,$){if(X==null){X=new Uint8Array(4e4);
for(var P=0;P<4e4;P++)X[P]=Math.min(255,~~(.5+255*f.sV(P*(1/255))))}var r=x.length;for(var P=0;P<r;P++){var c=x[P],U=~~(255*c);
H[P]=X[U]<<24|$}}function D(x,H,$,r,c){var U=H.I3(r),O=Math.max(0,U.x-H.x),A=Math.max(0,U.x-r.x),m=Math.max(0,U.y-H.y),i=Math.max(0,U.y-r.y),e=U.m,S=U.n;
for(var P=0;P<S;P++){var E=(m+P)*H.m+O,Z=(i+P)*r.m+A;for(var N=0;N<e;N++){$[Z+N]+=c*x[E+N]}}}var q=-1;
function C(x,H,$,r,c){var U=Math.round(r[1]*H*$*.01),O=r[2],A=r[3],m=r[4],i=r[5],e=r[6],S=r[7],E=r[8],Z=r[9],N=r[10]?r[10]:1,n=!1;
if(O!=q){g=[];q=O}var J=Date.now(),y=new dS(0,0,H,$),o=new a(r[0]);if(c)x.fill(0);var B=new Float32Array(c?x.buffer:H*$);
for(var P=0;P<U;P++){var t=o.get()*H,W=o.get()*$,F=o.get()*A,G=o.get()*O*4,L=(o.get()+e)*Math.PI*2,Q=o.get()*O*4,T=(o.get()+2*e)*Math.PI*2;
t+=Z*(G*Math.cos(L)+Q*Math.cos(T));W+=Z*(G*Math.sin(L)+Q*Math.sin(T));if(E)W=W+e*$*N;var j=K(O,F,t,W%$),p=m,M=o.get();
if(S)p=.5+.5*m*(.5+.5*Math.sin((2*e+M)*2*Math.PI));D(j[0],j[1],B,y,p)}if(n)console.log(Date.now()-J,"add floats");
J=Date.now();var d=new Uint8Array(B.buffer);w(B,new Uint32Array(d.buffer),i.U<<16|i.A<<8|i.w);if(n)console.log(Date.now()-J,"toInt");
J=Date.now();if(!c){f.i.L_("scrn",d,y,x,y,y,1);if(n)console.log(Date.now()-J,"blendOver")}}function a(x){this.p0=123456789;
this.V9=987654321;this.B=4294967295;this.pw(x)}a.prototype.pw=function(P){this.p0=123456789+P&this.B;
this.V9=987654321-P&this.B};a.prototype.get=function(){this.V9=36969*(this.V9&65535)+(this.V9>>16)&this.B;
this.p0=18e3*(this.p0&65535)+(this.p0>>16)&this.B;var x=(this.V9<<16)+(this.p0&65535)>>>0;x/=4294967296;
return x};return{eV:C}}();f.op={};f.op.dR=function(u,g,K,X){var w=u[g*2],D=u[g*2+1],q=u[K*2],C=u[K*2+1],a=u[X*2],x=u[X*2+1];
return w*C+q*x+a*D-a*C-q*D-w*x};f.op.q6=function(u,g){var K=[],X=[],w=[],D={};for(var P=0;P<g.length;
P+=3){var q=~~(P*(1/3)),C=g[P+0],a=g[P+1],x=g[P+2],H=f.op.dR(u,C,a,x);if(H>0){var $=a;a=x;x=$}var r=D[x+"-"+a],c=D[a+"-"+C],U=D[C+"-"+x],O=[x,r,q,null],m=[a,c,q,O],i=[C,U,q,m];
O[3]=i;if(r)r[1]=O;if(c)c[1]=m;if(U)U[1]=i;D[x+"-"+C]=i;D[C+"-"+a]=m;D[a+"-"+x]=O;K[C]=m;w[P]=m;K[a]=O;
w[P+1]=O;K[x]=i;w[P+2]=i;X[q]=m}return{Od:K,S7:X,A_:w}};f.op.ajj=function(u){var g=[],K=u.S7;for(var P=0;
P<K.length;P++){var X=K[P];g.push(X[0]);X=X[3];g.push(X[0]);X=X[3];g.push(X[0])}return g};f.op.asK=function(u,g,K,X){var w=u[g*2],D=u[g*2+1],q=u[K*2],C=u[K*2+1],a=u[X*2],x=u[X*2+1],H=q-w,$=C-D,r=a-w,c=x-D,U=H*(w+q)+$*(D+C),O=r*(w+a)+c*(D+x),A=2*(H*(x-C)-$*(a-q));
if(Math.abs(A)<1e-5){var m=Math.min(w,q,a),i=Math.min(D,C,x),e=(Math.max(w,q,a)-m)*.5,S=(Math.max(D,C,x)-i)*.5;
return[m+e,i+S,e*e+S*S,1]}var E=(c*U-$*O)/A,Z=(H*O-r*U)/A,e=E-w,S=Z-D;return[E,Z,e*e+S*S,0]};f.op.a2R=function(u,g,K){var X=K[1],w=K[3],D=w[3],q=X[3],C=q[3],a=K[2],x=X[2],H=K[0],$=X[0],r=w[0],c=q[0],U=f.op.asK(u,$,c,r),O=u[H*2]-U[0],A=u[H*2+1]-U[1],m=O*O+A*A>U[2]&&U[3]==0&&f.op.dR(u,c,H,r)<0&&f.op.dR(u,r,$,c)<0;
if(m){K[0]=r;X[0]=c;K[3]=D;D[3]=q;q[3]=K;X[3]=C;C[3]=w;w[3]=X;w[2]=x;q[2]=a;g.S7[x]=C;g.S7[a]=D;g.Od[$]=q;
g.Od[H]=w}return m};f.op.a7_=function(u,g,K){var X=u[g*2]-u[K*2],w=u[g*2+1]-u[K*2+1];return Math.sqrt(X*X+w*w)};
f.op.af3=function(u,g,K){var X=K[1],w=K[3],D=w[3],q,C,a=K[2],x,H=K[0],$=D[0],r=w[0],c;if(X){q=X[3];C=q[3];
x=X[2];c=q[0]}var U=u.length>>>1;u[2*U]=(u[2*$]+u[2*H])*.5;u[2*U+1]=(u[2*$+1]+u[2*H+1])*.5;if(!0){var O=a,A=K,m=g.S7.length,i=[U,null,O,A],e=[r,i,m,D];
i[1]=e;var S=[U,null,m,e];w[3]=i;D[3]=S;D[2]=m;g.S7[O]=w;g.S7[m]=S;g.Od[H]=w;g.Od[r]=D;g.A_.push(i,e,S)}if(X){var E=x,Z=X,N=m+1;
S[1]=Z,Z[1]=S;var J=[U,null,E,Z],y=[c,J,N,C];J[1]=y;var o=[U,A,N,y];A[1]=o;q[3]=J;C[3]=o;C[2]=N;g.S7[E]=q;
g.S7[N]=C;g.Od[$]=q;g.Od[c]=C;g.A_.push(J,y,o)}g.Od[U]=A};f.op.Pm=function(u,g){var K=0;while(!0){var X=K;
for(var P=0;P<g.A_.length;P++){var w=g.A_[P];if(w[1]==null)continue;var D=f.op.a2R(u,g,w);if(D){K++;
break}}if(X==K)break}return K!=0};f.op.a2E=function(u,g,K,X){var w=0;for(var P=0;P<X;P++){var D=null,q=0;
for(var C=0;C<g.A_.length;C++){var a=g.A_[C],x=f.op.a7_(u,a[0],a[3][3][0])*(a[1]?1:2);if(x>q){D=a;q=x}}if(q>K){f.op.af3(u,g,D);
w++}}return w!=0};f.op.a8s=function(u,g){var K=[],c=0;for(var P=0;P<u.length;P++)K.push(0);for(var P=0;
P<g.A_.length;P++){var X=g.A_[P],w=X[0],D=X[3][3][0],q=u[w*2],C=u[w*2+1],x=u[D*2],H=u[D*2+1],$=q-x,r=C-H;
K[w*2]+=-$;K[w*2+1]+=-r;K[D*2]+=$;K[D*2+1]+=r}for(var P=0;P<u.length;P+=2){var U=P>>>1,O=g.Od[U],X=O,A=!0;
do{if(X[1]==null){A=!1;break}X=X[1][3]}while(X!=O);if(A){var m=.02;u[P]+=m*K[P];u[P+1]+=m*K[P+1];c+=m*(K[P]*K[P]+K[P+1]*K[P+1])}}return c};
f.op.arY=function(u,g,K){var X=f.p.pj(u),w=f.op.q6(u,g);f.op.Pm(u,w);for(var D=0;D<300;D++){var q=!1,C=!1;
q=f.op.a2E(u,w,K,5);if(q)C=f.op.Pm(u,w);var a=f.op.a8s(u,w);if(!q&&!C&&a<1e-4){break}}return f.op.ajj(w)};
f.qZ={};f.qZ.EG=function(u){var g=u.$y,K=u.On,X=u.eb,w=u.xo,D=u.aT,q=u.Zy,C=u.Rb,a=f.Oi.kf,i,e,S=0;function x(eJ){var jv=new Array(eJ);
for(var P=0;P<eJ;P++)jv[P]=0;return jv}var H=K.length>>>1,$=x(g.Fb*2),r=x(g.Fb),c=x(g.Fb),U=Date.now();
for(var P=0;P<u.vv.length;P++){var O=g.a8l+P,A=g.QM*(q[P*2]+C[P*2]),m=g.QM*(q[P*2+1]+C[P*2+1]);$[O*2]=A;
$[O*2+1]=m;r[O]=A;c[O]=m}g.apx.Ac(w,g.auC.kf($),.01,i,e);for(var P=0;P<g.axk.A_.length;P++){var E=g.axk.A_[P],Z=E[3][3][0],N=E[0],J=E[3][0],y=E[1]?E[1][3][0]:J;
if(E[1]&&Z>N)continue;var o=K[Z*2],B=K[Z*2+1],t=K[N*2],W=K[N*2+1],F=w[Z*2],G=w[Z*2+1],L=w[N*2],Q=w[N*2+1],T=w[J*2],j=w[J*2+1],p=w[y*2],M=w[y*2+1],n=[F,G,L,Q,T,j];
if(E[1])n.push(p,M);var d=a(g.a12[S],n),V=d[0],z=d[1],I=1/Math.sqrt(V*V+z*z);V*=I;z*=I;var v=t-o,gj=W-B;
r[S]=V*v+z*gj;c[S]=-z*v+V*gj;S++}var jA=new Array(H),Y=new Array(H);for(var P=0;P<H;P++){jA[P]=D[P*2];
Y[P]=D[P*2+1]}g.av4.Ac(jA,g.ahx.kf(r),.5);g.av4.Ac(Y,g.ahx.kf(c),.5);for(var P=0;P<H;P++){D[P*2]=jA[P];
D[P*2+1]=Y[P]}};f.qZ.K9=function(u){var g=u.On,K=u.eb,X=u.vv,w=f.Oi.multiply,D=Date.now(),q=f.op.q6(g,K),C=g.length>>>1,a=0,U=0,z=1e3;
for(var P=0;P<q.A_.length;P++)a+=q.A_[P][1]?.5:1;var x=a+X.length,H=[],$=new f.$p(x*2,C*2),r=new f.$p(x,C),c=[[[-1,0,1,0,0,0],[0,-1,0,1,0,0]],[[-1,0,1,0,0,0,0,0],[0,-1,0,1,0,0,0,0]]],O=[],A=[];
for(var P=0;P<q.A_.length;P++){var m=q.A_[P],i=m[3][3][0],e=m[0],S=m[3][0],E=m[1]?m[1][3][0]:S;if(m[1]&&i>e)continue;
var Z=g[i*2],N=g[i*2+1],J=g[e*2],y=g[e*2+1],o=g[S*2],B=g[S*2+1],t=g[E*2],W=g[E*2+1],F=[[Z,N,1,0],[N,-Z,0,1],[J,y,1,0],[y,-J,0,1],[o,B,1,0],[B,-o,0,1]];
if(m[1])F.push([t,W,1,0],[W,-t,0,1]);var G=f.Oi.ur(F),L=w(linear.invert(w(G,F)),G);L.pop();L.pop();H.push(L);
var Q=J-Z,T=y-N,j=c[m[1]?1:0];j=f.Oi.tm(j,w([[Q,T],[T,-Q]],L));var p=[i*2,i*2+1,e*2,e*2+1,S*2,S*2+1,E*2,E*2+1],M=m[1]?8:6,n=[];
for(var d=0;d<M;d++)n.push([p[d],j[0][d],j[1][d]]);n.sort(function(jv,iR){return jv[0]-iR[0]});for(var V=0;
V<2;V++){for(var d=0;d<M;d++){O[d]=n[d][0];A[d]=n[d][1+V]}$.wp(A,O,M)}if(i<e)r.wp([-1,1],[i,e],2);else r.wp([1,-1],[e,i],2);
U++}for(var P=0;P<X.length;P++){var I=X[P];$.wp([z],[I*2],1);$.wp([z],[I*2+1],1);r.wp([z],[I],1)}var v=$.ur(),gj=v.XX(v),jA=r.ur(),Y=jA.XX(jA);
return{a8l:a,Fb:x,auC:v,apx:gj,ahx:jA,av4:Y,axk:q,a12:H,QM:z}};f.qZ.agh=function(u,g,K,X,w){var D=new dS(0,0,g,K),q=f.L(D.$());
f.hk(u,q,3);f.round(q,70);var C=f.LE(q,D),a=[.1,.065,.035][X]*Math.max(C.m,C.n),x=w+1,H=g+x*2,$=K+x*2,r=new dS(-x,-x,H,$),c=f.L(r.$());
f.x5(q,D,c,r);var U=c.slice(0);for(var O=0;O<w;O++){for(var A=1;A<$-1;A++){for(var m=1;m<H-1;m++){var P=A*H+m;
U[P]=c[P-H]|c[P-1]|c[P]|c[P+1]|c[P+H]}}var i=U;U=c;c=i}var e=eo.O$(c,H,$,Math.round(C.$()*5e-4)),S=eo.f$(e),E=new eV(1,0,0,1,-x,-x);
for(var P=0;P<S.length;P++){var Z=S[P];f.p.D(Z.path.v,E,Z.path.v);Z.On=f.qZ.aiI(Z.path);Z.eb=f.p.a6B(Z.On);
Z.eb=f.op.arY(Z.On,Z.eb,a)}return S};f.qZ.aiI=function(u){var g=[],K=u.v,X=u.F.length-1,w=0,D=0;for(var q=0;
q<X;q++){var P=q*6,C=K[P+6]-K[P+0],a=K[P+7]-K[P+1],x=Math.ceil(Math.sqrt(C*C+a*a));for(var H=0;H<x;H++){var $=H/x,r=1-$,c=r*r*r*K[P+0]+3*r*r*$*K[P+2]+3*r*$*$*K[P+4]+$*$*$*K[P+6],U=r*r*r*K[P+1]+3*r*r*$*K[P+3]+3*r*$*$*K[P+5]+$*$*$*K[P+7];
g.push(c,U);w=c;D=U}}g=f.p.bF(g,1);var O=[],A=g.length;for(var P=0;P<A;P+=2){var U=g.pop(),c=g.pop();
O.push(c,U)}return O};f.qZ.a5Q=function(u,g,K,X){function w(J,y,o,B,t){var W=t[J*2]-t[y*2],F=t[J*2+1]-t[y*2+1],G=Math.sqrt(W*W+F*F);
if(o[J].indexOf(y)==-1){o[J].push(y);B[J].push(G)}if(o[y].indexOf(J)==-1){o[y].push(J);B[y].push(G)}}var D=u.length>>>1,q=new Array(D);
if(K.length==0){q.fill(0);return q}var C=new Array(D),a=new Array(D);for(var P=0;P<D;P++){C[P]=[];a[P]=[]}for(var P=0;
P<g.length;P+=3){w(g[P],g[P+1],C,a,u);w(g[P],g[P+2],C,a,u);w(g[P+1],g[P+2],C,a,u)}var x=new Float64Array(D*2),H=new Uint32Array(D*2);
x.fill(1e9);var $=new Uint8Array(D);for(var r=0;r<K.length;r++){$.fill(0);var c=["---",[0,K[r]]];while(c.length!=1){var U=f.Lt.e6(c),O=U[0],A=U[1];
if($[A]==1)continue;var m=A<<1;if(O<x[m]){x[m+1]=x[m];H[m+1]=H[m];x[m]=O;H[m]=r}else if(O<x[m+1]){x[m+1]=O;
H[m+1]=r}$[A]=1;var i=C[A],e=a[A];for(var P=0;P<i.length;P++){var S=i[P];if($[S]!=1){f.Lt.cS(c,[O+e[P],S])}}}}for(var P=0;
P<D;P++){var m=P<<1,E=x[m],Z=x[m+1],N=1/(E+Z);q[P]=(1-E*N)*X[H[m]]+(1-Z*N)*X[H[m+1]]}return q};f.qZ.amf=function(u){var g={F:[],v:[]},K=[u];
while(K.length!=0){var X=K.pop(),w=X.Au;if(X.amR instanceof Array||X.aiE instanceof Array){g.F.push("M","L","L","L","Z");
g.v.push(w[0],w[1],w[2],w[1],w[2],w[3],w[0],w[3])}else K.push(X.amR,X.aiE)}return g};f.qZ.tr=function(u,g,K,X,w,D,q,C,a,x){var H=Math.round(x.length/3),$=new Array(H);
for(var P=0;P<H;P++)$[P]=P;$.sort(function(c,U){return a[x[c*3]]-a[x[U*3]]});for(var P=0;P<H;P++){var r=$[P]*3;
f.qZ.anz(x[r]*2,x[r+1]*2,x[r+2]*2,q,C,u,g,K,X,w,D)}};f.qZ.anz=function(u,g,K,X,w,D,q,C,a,x,H){var $=f.qZ.i6,r=[u,g,K,1.2,1.2,1.2,0],c=[0,0,0,0],U=w[u],O=w[u+1],A=w[g],m=w[g+1],i=w[K],e=w[K+1],S=Math.max(0,Math.min(q-1,X[u])),E=Math.max(0,Math.min(q-1,X[g])),Z=Math.max(0,Math.min(q-1,X[K])),N=Math.max(0,Math.min(C-1,X[u+1])),J=Math.max(0,Math.min(C-1,X[g+1])),y=Math.max(0,Math.min(C-1,X[K+1])),o=A-U,B=m-O,t=i-U,W=e-O,F=1/(o*W-t*B+1e-9),G=Math.max(0,Math.floor(Math.min(U,A,i))),L=Math.min(x,Math.ceil(Math.max(U,A,i))),Q=Math.max(0,Math.floor(Math.min(O,m,e))),T=Math.min(H,Math.ceil(Math.max(O,m,e)));
for(var j=Q;j<T;j++)for(var p=G;p<L;p++){var M=p+.5-U,n=j+.5-O,d=(M*W-t*n)*F,V=(o*n-M*B)*F;if(d>=0&&V>=0&&d+V<=1){var z=1-d-V,I=S*z+E*d+Z*V,v=N*z+J*d+y*V;
f.Q.sL(I,v,D,q,C,c);f.qZ.afi(c,a,j*x+p<<2)}}};f.qZ.afi=function(u,g,K){var X=g[K],w=g[K+1],D=g[K+2],q=g[K+3],C=1-u[3]*(1/255);
g[K]=~~(.5+u[0]+X*C);g[K+1]=~~(.5+u[1]+w*C);g[K+2]=~~(.5+u[2]+D*C);g[K+3]=~~(.5+u[3]+q*C)};f.qZ.i6=function(){var u=function(K,X,w,D){var q=D[0],C=D[1],a=D[2],x=K[q+0],H=K[q+1],$=K[C+0],r=K[C+1],c=K[a+0],U=K[a+1],O=$-x,A=r-H,m=c-x,i=U-H,e=X-x,S=w-H,E=O*i-m*A,Z=1/(E+1e-9),N=(e*i-m*S)*Z,J=(O*S-e*A)*Z;
if(N>=0&&J>=0&&N+J<=1){D[3]=1-N-J;D[4]=N;D[5]=J;return 1}return 0},g=function(K,X,w,D){var q=[0,0,0,0,0,0];
for(var P=0;P<X.length;P+=3){q[0]=X[P]*2;q[1]=X[P+1]*2;q[2]=X[P+2]*2;if(u(K,w,D,q)==1)return!0}return!1};
return{aga:u,amb:g}}();f.KV={};f.KV.a8_=function(u,g,K){var X=f.L(g*K*4),w=!1;f.Q.Zm(u,g,K,X,[K,g,0,1,0,1,0,0]);
return[f.KV.OF(u,g,K,w),f.KV.OF(X,K,g,w)]};f.KV.D=function(u,g){var K=!1,X=u[0],w=u[1],D=X[1],q=X[2],C=X[3],a=g.m,x=g.n;
if(q==a&&C==x)D=D.slice(0);else if(C!=x){var H=f.L(q*x*4);f.KV.DV(w,x,H,K);D=f.L(q*x*4);f.Q.Zm(H,x,q,D,[q,x,0,1,0,1,0,0]);
if(q!=a){X=f.KV.OF(D,q,x,K);D=f.L(a*x*4);f.KV.DV(X,a,D,K)}}else if(q!=a){D=f.L(a*C*4);f.KV.DV(X,a,D,K)}return D};
f.KV.OF=function(u,g,K,X){var w=Date.now(),D=new Uint16Array(g*K),q=1;f.KV.acm(u,g,K,D);var C=Math.ceil(g/q),a=new Uint32Array(q),x=new Uint32Array(q),C=Math.floor(g/q);
for(var H=0;H<q;H++)x[H]=H<q-1?C:g-(q-1)*C;for(var $=0;$<K;$++){var P=$*g;for(var H=0;H<q;H++){var C=x[H];
for(var r=0;r<C;r++)a[H]+=D[P+r];P+=C}}if(X){console.log(Date.now()-w,"cost");w=Date.now()}var c=new Uint32Array(g),U=new Uint32Array(g),O=new Uint32Array(g*K);
for(var r=0;r<g;r++){O[(K-1)*g+r]=D[(K-1)*g+r]}for(var $=K-2;$>=0;$--){var A=$*g;for(var H=0;H<q;H++){var C=x[H];
O[A]=D[A]+Math.min(O[A+g],O[A+g+1]);for(var r=1;r<C-1;r++){var P=A+r;O[P]=D[P]+Math.min(O[P+g-1],Math.min(O[P+g],O[P+g+1]))}A+=C-1;
O[A]=D[A]+Math.min(O[A+g-1],O[A+g]);A++}}if(X){console.log(Date.now()-w,"Building M");w=Date.now()}function m(B,t){return B<t?B:t}function i(P,B){var t=U[P],W=O[B],F=~~(t*W*1e-4);
return F}var e=new Uint8Array(g*K),S=new Uint32Array(g);for(var P=0;P<g;P++){c[P]=P;U[P]=D[P]}for(var $=1;
$<K;$++){var E=0,A=$*g;for(var H=0;H<q;H++){var C=x[H],P=A;S[E]=i(E,P);var Z=S[E]+i(E+1,P+1),N=i(E,P+1)+i(E+1,P);
S[E+1]=m(Z,N);for(var r=2;r<C;r++){var P=A+r,J=S[E+r-1]+i(E+r-1,P-1),y=S[E+r-2]+i(E+r-1,P-2)+i(E+r-2,P-1);
S[E+r]=m(J,y)}var r=C-1;while(r>=2){var P=A+r,J=S[E+r-1]+i(E+r-1,P-1),y=S[E+r-2]+i(E+r-1,P-2)+i(E+r-2,P-1);
if(S[E+r]==J){e[P-g]=1;r-=1}else{e[P-g]=0;e[P-g-1]=2;r-=2}}var P=A;if(r==0){e[P-g]=1}else{if(S[E+1]==Z){e[P+1-g]=1;
e[P-g]=1}else{e[P+1-g]=0;e[P-g]=2}}A+=C;E+=C}f.KV.atp($,g,e,D,c,U,!0,w)}if(X){console.log(Date.now()-w,"Matching");
w=Date.now()}var o=D;return[UZIP.adler(u,0,u.length),u,g,K,q,x,a,c,U,e,o]};f.KV.DV=function(u,g,K,X){var w=u.slice(0),D=w.shift(),q=w.shift(),C=w.shift(),a=w.shift(),x=w.shift(),H=w.shift(),$=w.shift(),r=w.shift(),c=w.shift().slice(0),U=w.shift(),O=w.shift(),A=Date.now(),m=Math.abs(C-g),i=Math.floor(m/x),e=new Uint32Array(x),E=0,Z=1e9,J=0,y=0,o=0;
for(var S=0;S<x;S++)e[S]=S<x-1?i:m-(x-1)*i;O.fill(0);for(var N=0;N<C;N++){E=Math.max(E,c[N]);Z=Math.min(Z,c[N])}for(var S=0;
S<x;S++){var B=H[S],i=e[S];for(var t=0;t<i;t++){var W=0,F=1e9;for(var N=0;N<B;N++)if(c[y+N]<F){F=c[y+N];
W=y+N}if(g<C)c[W]=1e9;else c[W]*=1.2;if(o<C/3)J+=F;var G=r[W],L=O[G],Q=L<65280?65280:L+1;if(Q<65280)throw"e";
for(var T=0;T<a;T++){var P=T*C+G;O[P]=Q;G+=U[P]-1}o++}y+=B}if(X){console.log(Date.now()-A,"Removing best seams");
A=Date.now()}function j(P,M){var n=P<<2,d=M<<2;K[n]=q[d];K[n+1]=q[d+1];K[n+2]=q[d+2];K[n+3]=q[d+3]}for(var T=0;
T<a;T++){var p=0,P=T*C;for(var N=0;N<g;N++,p++){if(g<C){while(O[P+p]==65280)p++;j(T*g+N,T*C+p)}else{j(T*g+N,T*C+p);
while(O[P+p]>=65280){O[P+p]--;N++;j(T*g+N,T*C+p)}}}}if(X){console.log(Date.now()-A,"Shifting image pixels");
A=Date.now()}};f.KV.atp=function(u,g,K,X,w,D){var q=0,P=u*g;while(q<g){if(K[P-g]==1){D[q]=D[q]+X[P];
q++;P++}else{var C=w[q];w[q]=w[q+1];w[q+1]=C;var a=D[q];D[q]=D[q+1]+X[P];D[q+1]=a+X[P+1];q+=2;P+=2}}};
f.KV.acm=function(u,g,K,X){function w(u,P,a){var $=P<<2,r=a<<2,c=u[$]-u[r],U=u[$+1]-u[r+1],O=u[$+2]-u[r+2];
return Math.abs(c)+Math.abs(U)+Math.abs(O)}for(var D=1;D<g;D++){var q=w(u,D,D-1);X[D-1]+=q;X[D]+=q}for(var C=1;
C<K;C++){var a=C*g,q=w(u,a,a-g);X[a]+=q;X[a-g]+=q;for(var D=1;D<g;D++){var P=C*g+D,x=w(u,P,P-1),H=w(u,P,P-g);
X[P-g]+=H;X[P-1]+=x;X[P]+=H+x}}for(var C=0;C<K;C++){X[C*g]*=2;X[C*g+g-1]*=2}for(var P=0;P<X.length;P++)if(X[P]==0)X[P]=1};
f.Dg=function(){var u=0,g=0,X=15,D=256;function K(H,$,r,c,U,O){var A=(U-1)*$,m=O*$;return H[m+c]-H[m+r-1]-H[A+c]+H[A+r-1]}var w=Math.round(X/8),q=[];
function C(H,$){for(var r=0;r<$.length;r++){var c=$[r],U=0,O=0,A=H[c.GF],m=A.vP,i=A.QM,e=A.xQ;for(var S=-X;
S<=X;S++)for(var E=-X;E<=X;E++){var Z=E+c.al8,N=S+c.aeI;if(E*E+S*S>X*X||Z<0||N<0||Z>=i||N>=i)continue;
var J=m[N*i+Z];U+=E*J;O+=S*J}c.IT=Math.atan2(O,U)}}function a(H,$,r,c,U){var O=~~(H+.5),A=~~($+.5);return K(r,c,O-w,O+w,A-w,A+w)}function x(H,$,r,c,U){u=c;
g=U;if(q.length==0){var O=new f.i.TP(16200817),e=8,S=0;function A(jv){var o=jv[0]-jv[2],B=jv[1]-jv[3];
return o*o+B*B}function m(){var jv=0,iR=0;while(jv===0)jv=O.get();while(iR===0)iR=O.get();return Math.sqrt(-2*Math.log(jv))*Math.cos(2*Math.PI*iR)}var i=m,E=[];
while(S!=D){var Z=Math.max(-X,Math.min(X,i()*e)),N=Math.max(-X,Math.min(X,i()*e)),J=Math.max(-X,Math.min(X,i()*e)),y=Math.max(-X,Math.min(X,i()*e)),o=Z-J,B=N-y,t=Math.sqrt(o*o+B*B);
if(t<3||t>12)continue;q.push(Z,N,J,y);S++}}var W=20;for(var F=0;F<$.length;F++){var G=$[F],L=H[G.GF],Q=L.c6,r=L.vP,c=L.QM,U=L.xQ,T=G.al8,j=G.aeI,p=G.IT,M=Math.cos(p),n=Math.sin(p),d=new Uint8Array(D>>>3);
G.NA=d;for(var P=0;P<D;P++){var V=P*4,Z=q[V+0],N=q[V+1],J=q[V+2],y=q[V+3],z=M*Z-n*N,I=n*Z+M*N,v=M*J-n*y,gj=n*J+M*y,jA=a(T+z,j+I,Q,c,U),Y=a(T+v,j+gj,Q,c,U);
d[P>>>3]|=(jA<Y?0:1)<<(P&7)}}}return{adj:C,adx:x}}();f.apd=function(){function u(g,K){var X=[[9]],w=Date.now(),D=[];
for(var q=0;q<g.length;q++){var C=g[q],a=C.c6,x=C.QM,H=C.xQ,c=9,e=1,G=24;if(a==null)continue;var $=new Float32Array(x*H),r=new Uint8Array(x*H),U=c>>>1,O=U>>>1,A=Math.round(c/3);
if(A!=c/3)throw"e";var m=1/(c*c),i=1.2*(c/9);for(var S=U+1;S<H-U;S+=e)for(var E=U+1;E<x-U;E+=e){var Z=f.F_(a,x,E-O,E+O,S-U,S+U)-3*f.F_(a,x,E-O,E+O,S-U+A,S+U-A),N=f.F_(a,x,E-U,E+U,S-O,S+O)-3*f.F_(a,x,E-U+A,E+U-A,S-O,S+O),J=E-U+1,y=E+U-1,o=S-U+1,B=S+U-1,t=f.F_(a,x,J,E-1,o,S-1)+f.F_(a,x,E+1,y,S+1,B)-f.F_(a,x,E+1,y,o,S-1)-f.F_(a,x,J,E-1,S+1,B),W=(N*Z-.9*t*(.9*t))*(m*m);
$[S*x+E]=Math.abs(W);r[S*x+E]=W<0?0:1}var F=x*e;for(var S=G;S<H-G;S+=e)for(var E=G;E<x-G;E+=e){var P=S*x+E,L=$[P];
if(L<16)continue;if($[P-e]>=L||$[P+e]>=L)continue;if($[P-F-e]>=L||$[P-F]>=L||$[P-F+e]>=L)continue;if($[P+F-e]>=L||$[P+F]>=L||$[P+F+e]>=L)continue;
D.push({x:~~(E*C.$W+.5),y:~~(S*C.$W+.5),al8:E,aeI:S,GF:q,h:L,a7I:r[P],C9:i})}}if(K!=null){D.sort(function(V,z){return z.h-V.h});
D=D.slice(0,K)}return D;var Q=[];for(var P=0;P<D.length;P++){var T=!0,j=D[P];for(var p=0;p<D.length;
p++){var M=D[p];if(p!=P&&M.h>j.h&&(M.GF==j.GF+1||M.GF==j.GF-1)){var n=j.x-M.x,d=j.y-M.y;if(n*n+d*d<5){T=!1;
break}}}if(T)Q.push(j)}console.log(D.length,Q.length);return Q}return{aeQ:u}}();f.sI={};f.sI.asf=function(u){var g=u.length,K=f.sI.ff(u,!1),w=0,D=1;
throw"e";var X=[];for(var P=0;P<g;P++)X[P]=f.sI.i7(K[P]);var q=u[0][1],C=f.sI.match(K[w],K[D],X[D]);
console.log(C.length);var a=Math.max(Math.min(C.length,40),C.length*.54);a=Math.min(a,200);var x=C.slice(0,a),H=f.TE.a23(K[w],K[D],x,q.m,q.n),$=f.TE.arE(H,[0,0,0],1),r=q.m/2,c=q.n/2,U=1/Math.max(r,c);
for(var P=0;P<1;P++){var O=x[P],A=K[w][O[0]],m=K[D][O[1]],i=f.TE.alZ($,U*(A.x-r),U*(A.y-c),U*(m.x-r),U*(m.y-c))}var e=f.TE.aeK(H,q),S=[];
for(var P=0;P<2;P++){var E=e[P],Z=[E[0][0],E[0][1],E[0][2],E[1][0],E[1][1],E[1][2],E[2][0],E[2][1]],N=R.S.rY(u[P],null,Z);
S.push([N.buffer,N.rect])}return[f.sI.awC(S[0],S[1],K[w],K[D],x,H,e,q)]};f.sI.wj=function(u,g){var K=u.length,X=!1,w=Date.now(),D=f.sI.ff(u,!1,1e4);
if(X)console.log("Descriptors ready",Date.now()-w);w=Date.now();for(var P=0;P<K;P++){var q=u[P][1];for(var C=0;
C<D[P].length;C++){D[P][C].x+=q.x;D[P][C].y+=q.y}}if(X)console.log("shifted",Date.now()-w);w=Date.now();
var a=[];for(var P=0;P<K;P++)a[P]=f.sI.i7(D[P]);if(X)console.log("trees built",Date.now()-w);w=Date.now();
var x=[];for(var P=0;P<K-1;P++)for(var C=P+1;C<K;C++){var H=f.sI.match(D[P],D[C],a[C]);if(X)console.log("Matches found",P,C,H.length);
H=H.slice(0,H.length>>>1);if(H.length<10)return null;var $=f.sI.ane(D[P],D[C],H,2);x.push([P,C,H,$])}x.sort(function(y,o){return o[2].length-y[2].length});
if(X)console.log("Matches found",Date.now()-w);w=Date.now();var r=[],c=new UnionFind(K);for(var P=0;
P<x.length;P++){var U=x[P],O=c.find(U[0]),A=c.find(U[1]);if(O!=A){r.push(U);c.link(O,A)}}var m=[];for(var P=0;
P<K;P++)m[P]=[1,0,0,0,1,0,0,0];var i=[0],e=new Uint8Array(K);e[i[0]]=1;while(i.length!=0){var A=i.pop(),$=m[A],S=[];
for(var P=0;P<r.length;P++){var U=r[P],E=U[0],Z=U[1];if(E==A&&e[Z]==0){m[Z]=f.Q.X7($,U[3]);i.push(Z);
e[Z]=1}if(Z==A&&e[E]==0){m[E]=f.Q.X7($,f.Q.CD(U[3]));i.push(E);e[E]=1}}}if(g==null){var N=[];for(var P=0;
P<K;P++)N.push([m[P][2],P]);N.sort(function(y,o){return y[0]-o[0]});g=N[N.length>>>1][1]}var J=f.Q.CD(m[g]);
for(var P=0;P<K;P++)m[P]=f.Q.X7(m[P],J);if(X)console.log("Transforms reordered",Date.now()-w);w=Date.now();
return m};f.sI.ff=function(u,g,K){var X=[],w=!1;for(var P=0;P<u.length;P++){var D=u[P][0],q=u[P][1],C=q.m,a=q.n,x=f.L(q.$());
f.uT(D,x);var H=Date.now(),$=f.sI.ac1(x,q,!0);if(w)console.log("Pyramid built ---------------",Date.now()-H);
H=Date.now();var r=f.apd.aeQ($,K);if(w)console.log("SURF Generation",Date.now()-H);H=Date.now();if(!g){f.Dg.adj($,r);
if(w)console.log("ORB Orientations",Date.now()-H);H=Date.now();f.Dg.adx($,r,x,C,a);if(w)console.log("ORB Descriptors",Date.now()-H);
H=Date.now()}X.push(r)}return X};f.sI.ac1=function(u,g,K){var X=[],w=[u,g];f.EY(w);if(K){var D=f.rj(u,g),q=D.rect,C=[D.Fg,q];
f.EY(C)}for(var P=0;P<w.length;P++){var a=w[2*P],x=w[2*P+1],H=x.m,$=x.n,r=Math.min(H,$);if(r<30)break;
if(r<1600)X.push({vP:a,QM:H,xQ:$,$W:1<<P,c6:f.ld(a,H,$)});if(!K)continue;var a=C[2*P],x=C[2*P+1],H=x.m,$=x.n,r=Math.min(H,$);
if(r<30)break;if(r<1600)X.push({vP:a,QM:H,xQ:$,$W:(1<<P)*3/2,c6:f.ld(a,H,$)})}return X};f.sI.ane=function(u,g,K,X){var w=Date.now(),D,q=0,C=0,a=K.length,x=new Float64Array(2);
for(var H=0;H<3e3;H++){var $=~~(Math.random()*a),r=~~(Math.random()*a),c=~~(Math.random()*a),U=~~(Math.random()*a),F=0,G=0;
if($==r||$==c||$==U||r==c||r==U||c==U)continue;var O=K[$],A=K[r],m=K[c],i=K[U],e=u[O[0]],S=g[O[1]],E=u[A[0]],Z=g[A[1]],N=u[m[0]],J=g[m[1]],y=u[i[0]],o=g[i[1]],B=[e.x,e.y,E.x,E.y,N.x,N.y,y.x,y.y],t=[S.x,S.y,Z.x,Z.y,J.x,J.y,o.x,o.y],W=f.Q.am(B,t);
if(W[0]==0&&W[1]==0&&W[3]==0&&W[4]==0)continue;var L=a-q+2;for(var P=0;P<a&&P-F<L;P++){var Q=u[K[P][0]],T=g[K[P][1]];
f.Q.oT(T.x,T.y,W,x);var j=x[0]-Q.x,p=x[1]-Q.y,M=j*j+p*p;if(M<X){F++;G+=M}}if(F>q||F==q&&G<C){D=W;q=F;
C=G}}return D};var jY=new Uint8Array(256);for(var P=0;P<256;P++){var ea=0,eJ=P;while(eJ!=0){eJ=eJ&eJ-1;
ea++}jY[P]=ea}f.sI.amC=function(u,g,K){var X=0,w=u.length;for(var P=0;P<w&&X<K;P++)X+=jY[u[P]^g[P]];
return X};f.sI.adp=function(u,g,K,top,X){if(X[K]==1)return;var w=f.sI.amC(u.NA,g.NA,top[0]);if(w<top[0]){if(w<top[2]){top[0]=top[2];
top[1]=top[3];top[2]=w;top[3]=K}else{top[0]=w;top[1]=K}}X[K]=1};f.sI.i7=function(u){var g=[],K=[],X=[[],[]],w=4;
for(var P=0;P<u.length;P++)(u[P].a7I==0?g:K).push(P);for(var D=0;D<2;D++){var q=new Array(w),C=[],a=D==0?g:K,x=a.length/256,H=[];
for(var $=0;$<32;$++){var r=new Array(256),O=0;for(var c=0;c<256;c++)r[c]=[];for(var c=0;c<a.length;
c++){var U=a[c];r[u[U].NA[$]].push(U)}for(var c=0;c<256;c++)O+=Math.abs(r[c].length-x);H.push([O,$,r])}H.sort(function(A,m){return A[0]-m[0]});
var C=[],q=[];X[D]=[C,q];for(var P=0;P<w;P++){C.push(H[P][1]);q.push(H[P][2])}}return X};f.sI.match=function(u,g,K){var X=[],w=new Uint16Array(g.length);
w.fill(65535);var D=new Uint8Array(g.length),top=new Uint32Array(4),q=[];for(var C=0;C<u.length;C++){var a=u[C],x=a.NA;
top.fill(1e6);D.fill(0);var H=K[a.a7I];for(var $=0;$<H[1].length;$++){var r=H[1][$][x[H[0][$]]];for(var c=0;
c<r.length;c++){var U=r[c];f.sI.adp(a,g[U],U,top,D)}}if(top[2]<50&&top[2]<top[0]*.5){var O=w[top[3]];
if(O==65535){w[top[3]]=X.length;X.push([C,top[3],top[2]])}else if(top[2]<X[O][2]){X[O]=[C,top[3],top[2]]}}}X.sort(function(A,m){return A[2]-m[2]});
return X};f.sI.aer=function(u){var g=new dS;for(var P=0;P<u.length;P++)g=g.RN(u[P][1]);var K=f.L(g.$()*4);
for(var P=0;P<u.length;P++)f.i.L_("norm",u[P][0],u[P][1],K,g,g,1);return[K,g]};f.sI.awC=function(u,g,K,X,w,D,q,C){var a=u[1].clone(),x=a.clone();
a.x=a.y=0;var H=g[1].clone(),$=H.clone();H.x=H.y=0;H.x=a.m;var r=a.RN(H),c=$.y-x.y,U=f.L(r.$()*4);f.bV(u[0],a,U,r);
f.bV(g[0],new dS(H.x,H.y+c,H.m,H.n),U,r);var O=document.createElement("canvas");O.width=r.m;O.height=r.n;
var A=O.getContext("2d");A.lineWidth=.5;A.putImageData(new ImageData(new Uint8ClampedArray(U.buffer),r.m,r.n),0,0);
if(D){var m=D[0],i=f.Oi.ur(m),e=a.m,S=C.m;for(var P=0;P<w.length;P++){var E=w[P],u=K[E[0]],g=X[E[1]];
A.strokeStyle="#"+"ff0000";A.beginPath();var Z=f.TE.ate(i,q[0],g,0,S),N=f.TE.ate(m,q[1],u,0,S);A.moveTo(-x.x+Z[0],-x.y+Z[1]);
A.lineTo(-x.x+Z[2],-x.y+Z[3]);A.moveTo(e-$.x+N[0],-$.y+c+N[1]);A.lineTo(e-$.x+N[2],-$.y+c+N[3]);A.stroke()}}if(w){var J=w.length;
for(var P=0;P<J;P++){var E=w[P],u=K[E[0]],g=X[E[1]];A.strokeStyle="#"+"ffff00"}}var y=new Uint8Array(A.getImageData(0,0,r.m,r.n).data.buffer);
if(!1){for(var o=0;o<2;o++){var B=o==0?K:X,t=o*a.m;for(var P=0;P<B.length;P++){var W=B[P],F=~~W.x,G=~~W.y,L=(G*r.m+F+t)*4;
y[L+1]=y[L+2]=W.as9*60;y[L+0]=0;y[L+3]=255}}}return[y,r]};f.stack={};f.stack.stack=function(u,g,K){var X=u.length,w=g.length;
if(X==1){g.set(u[0]);return}if(K=="avrg"||K=="stdv"||K=="summ"||K=="vari"){var D=1/X;for(var P=0;P<w;
P++){var q=0;for(var C=0;C<X;C++)q+=u[C][P];var a=~~(q*D+.5);if(K=="avrg"||(P&3)==3)g[P]=a;else if(K=="summ")g[P]=255*Math.pow(Math.min(255,q)*(1/255),1/2.4);
else{var x=0;for(var C=0;C<X;C++){var H=u[C][P]-a;x+=H*H}var $=Math.sqrt(x*D)*(1/255);if(K=="stdv")g[P]=255*Math.pow($,1/2.4);
else g[P]=255*Math.pow($*$,1/2.4)}}}else if(K=="maxx"){for(var P=0;P<w;P++){var r=0;for(var C=0;C<X;
C++)r=Math.max(r,u[C][P]);g[P]=r}}else if(K=="minn"){for(var P=0;P<w;P++){var r=255;for(var C=0;C<X;
C++)r=Math.min(r,u[C][P]);g[P]=r}}else if(K=="medn"||K=="rang"){var c=function(m,i){return m-i},U=new Array(X),O=0,A=0;
if((X&1)==0){A=X>>>1;O=A-1}else{O=A=X>>>1}for(var P=0;P<w;P++){for(var C=0;C<X;C++)U[C]=u[C][P];U.sort(c);
if(K=="medn")g[P]=U[O]+U[A]>>>1;else g[P]=(P&3)==3?U[X-1]:U[X-1]-U[0]}}else console.log(K)};f.ec={};
f.ec.arZ=function(u,g,K,X){var w=Date.now(),D=new Uint32Array(g*K),q=new Uint8Array(g*K);while(!0){q.fill(0);
D.fill(0);var C=[],a=0;for(var x=0;x<K;x++){for(var H=0;H<g;H++){var P=x*g+H;if(q[P]==0){var $=C.length,r=f.ec.uk(u,g,K,H,x,q,D,$);
C.push([$,H,x,r[0],r[1],u[P]]);if(r[0]<X)a++}}}if(a==0)break;var c=C.length,U=new UnionFind(c),O=[];
for(var P=0;P<c;P++)O.push([]);for(var P=0;P<c;P++){var r=C[P],A=r[4],m=0,i=0;if(r[3]>=X)continue;var $=r[0];
for(var e=0;e<A.length;e+=2){var S=D[A[e+1]*g+A[e]],E=C[S];if(E[3]>i){i=E[3];m=S}}if(U.find($)!=U.find(m)){U.link($,m);
O[$].push(m);O[m].push($)}}var Z=new Uint32Array(c);Z.fill(4294967295);var N=new Uint32Array(c);for(var P=0;
P<c;P++){if(Z[P]!=4294967295||O[P].length==0)continue;var J=[P],y=[P],o=P,B=C[P][3];while(y.length!=0){var t=y.pop(),W=O[t];
for(var e=0;e<W.length;e++){var F=W[e];if(J.indexOf(F)==-1){J.push(F);y.push(F);var G=C[F];if(G[3]>B){B=G[3];
o=F}}}}for(var e=0;e<J.length;e++){Z[J[e]]=o;var L=C[o];N[J[e]]=u[L[2]*g+L[1]]}}for(var x=0;x<K;x++)for(var H=0;
H<g;H++){var P=x*g+H,Q=Z[D[P]];if(Q!=4294967295)u[P]=N[Q]}}};f.ec.uk=function(u,g,K,X,w,D,q,C){var a=[X,w],x=u[w*g+X],H=0,$=[];
D[w*g+X]=1;while(a.length!=0){var r=a.pop(),c=a.pop(),P=r*g+c;q[P]=C;H++;if(r!=K-1)if(u[P+g]==x){if(D[P+g]==0){a.push(c,r+1);
D[P+g]=1}}else $.push(c,r+1);if(r!=0)if(u[P-g]==x){if(D[P-g]==0){a.push(c,r-1);D[P-g]=1}}else $.push(c,r-1);
if(c!=g-1)if(u[P+1]==x){if(D[P+1]==0){a.push(c+1,r);D[P+1]=1}}else $.push(c+1,r);if(c!=0)if(u[P-1]==x){if(D[P-1]==0){a.push(c-1,r);
D[P-1]=1}}else $.push(c-1,r)}return[H,$]};f.ec.aus=function(u,g,K,X,w){var D=f.ec.jh(u.buffer,g,K).RJ,q=Date.now(),C=[];
for(var P=0;P<D.length;P++){var a=D[P],x=1;for(var H=0;H<x;H++)C.push(a.nA)}var $=new Uint32Array(C),r=UPNG.quantize.getKDtree(new Uint8Array($.buffer),X),c=[g,1,-g,-1,g+1,-g+1,-g-1,g-1,g+g,2,-g-g,-2,g+g-1,g+g+1,g+2,-g+2,-g-g+1,-g-g-1,-g-2,g-2,g+g+2,-g-g+2-g-g-2,g+g-2],U=new Uint8Array(g*K),O=u;
for(var A=0;A<K;A++)for(var m=0;m<g;m++){var P=A*g+m<<2,i=O[P]*(1/255),e=O[P+1]*(1/255),S=O[P+2]*(1/255),E=O[P+3]*(1/255),Z=f.ec.Kl(r,i,e,S,E,w);
if(Z==null){var N=[],J=0;while(J<20){var y=A*g+m+c[J]<<2,o=O[y]*(1/255),B=O[y+1]*(1/255),t=O[y+2]*(1/255),W=O[y+3]*(1/255),F=f.ec.Kl(r,o,B,t,W,.005);
if(F!=null){if(N.indexOf(F)==-1){N.push(F);F.FJ=1}else F.FJ++}J++}N.sort(function(E,S){return S.FJ-E.FJ});
while(N.length!=0&&N[N.length-1].FJ<3)N.pop();if(N.length==0)Z=f.ec.Kl(r,i,e,S,E,100);else if(N.length==1)Z=N[0];
else if(N.length==2){var G=N[0],L=N[1],Q=G.est.q,T=L.est.q,j=T[0]-Q[0],p=T[1]-Q[1],M=T[2]-Q[2],n=T[3]-Q[3],d=i-Q[0],V=e-Q[1],z=S-Q[2],I=E-Q[3],v=j*j+p*p+M*M+n*n,gj=d*d+V*V+z*z+I*I,jA=(d*j+V*p+z*M+I*n)/v,Y=gj-jA*jA*v;
if(Y<.5)Z=jA<.5?G:L;else{Z=f.ec.Kl(r,i,e,S,E,100)}}else{var G=N[0],L=N[1],jv=N[2],Q=G.est.q,T=L.est.q,iR=jv.est.q,cj=Q[0]-iR[0],j8=Q[1]-iR[1],as=Q[2]-iR[2],gW=Q[3]-iR[3],af=T[0]-iR[0],at=T[1]-iR[1],jd=T[2]-iR[2],fM=T[3]-iR[3],hS=iR[0]-i,dr=iR[1]-e,cB=iR[2]-S,b1=iR[3]-E,ic=cj*cj+j8*j8+as*as+gW*gW,dV=cj*af+j8*at+as*jd+gW*fM,eS=hS*cj+dr*j8+cB*as+b1*gW,a2=cj*af+j8*at+as*jd+gW*fM,d3=af*af+at*at+jd*jd+fM*fM,cE=hS*af+dr*at+cB*jd+b1*fM,eP=1/(dV*a2-ic*d3),jA=(d3*eS-cE*dV)*eP,jm=(cE*ic-eS*a2)*eP,bD=1-jA-jm,f1=Math.max(jA,jm,bD);
if(f1==jA)Z=G;else if(f1==jm)Z=L;else Z=jv}}U[P>>2]=Z.ind}return{eb:U,RJ:r[1]}};f.ec.jh=function(u,g,K){var X=[],w={},D=g-1,q=K-1,C=0,a=new Uint32Array(u),x=[-g-1,-g,-g+1,-1,1,g-1,g,g+1,g+g,2,-g-g,-2,g+g-1,g+g+1,g+2,-g+2,-g-g+1,-g-g-1,-g-2,g-2,g+g+2,-g-g+2-g-g-2,g+g-2];
for(var H=1;H<q;H++)for(var $=1;$<D;$++){var r=H*g+$,c=a[r],U=!0;for(var P=0;P<8;P++)U=U&&a[r+x[P]]==c;
if(U){C++;var O=w[c];if(O==null){w[c]=X.length;X.push({nA:c,ny:1})}else X[O].ny++}}return{RJ:X,awB:C}};
f.ec.Kl=function(u,g,K,X,w,D){var q=UPNG.quantize.getNearest(u[0],g,K,X,w);return f.ec.aaY(q,g,K,X,w)<D?q:null};
f.ec.aaY=function(u,g,K,X,w){var D=u.est.q,q=g-D[0],C=K-D[1],a=X-D[2],x=w-D[3];return q*q+C*C+a*a+x*x};
f.ec.NB=function(){function u(m,i,e,S,E,Z){var N=[],J=Z,y=Z,o=Z>>>2;for(var B=0;B<E;B++)for(var t=0;
t<S;t++){var W=~~((t+.5)*J),F=~~((B+.5)*y),G=1e9,L=Math.max(0,W-o),Q=Math.min(i,W+o+1),T=Math.max(0,F-o),j=Math.min(e,F+o+1);
for(var p=T;p<j;p++)for(var M=L;M<Q;M++){var n=g(m,i,M,p);if(n<G){W=M;F=p;G=n}}var d=(F*i+W)*4;N.push(W,F)}return N}function g(m,i,e,S){var E=(S*i+e)*4,Z=i*4,N=K(m,E-4,E)+K(m,E,E+4),J=K(m,E-Z,E)+K(m,E,E+Z);
return N+J}function K(m,i,e){var S=m[i]-m[e],E=m[i+1]-m[e+1],Z=m[i+2]-m[e+2];return S*S+E*E+Z*Z}var X=0,w=0;
function D(m,i,e,S){w++;if(S<X)X=S;m[S].push(i,e)}function q(m){w--;while(m[X].length==0)X++}function C(m,i,e,S,E){X=0;
w=0;var Z=i*e,N=Math.round(Math.min(i,e)/(S?S:50)),L=0,Q=16;if(N==0)N=1;var J=(E?E:30)/N,y=Math.floor(i/N),o=Math.floor(e/N),B=new Uint16Array(Z);
for(var P=0;P<Z;P++)B[P]=65535;var t=u(m,i,e,y,o,N),W=t.length>>>1;if(W>65535)throw W;var F=[];for(var P=0;
P<1e3+e;P++)F.push([]);var G=[0,1,0,-1,-1,0,1,0],T=Math.min(o,5),j=new Uint32Array(W*6);for(var p=0;
p<o;p+=T){var M=Math.min(p+T+1,o);for(var n=p;n<M;n++)for(var d=0;d<y;d++){var P=n*y+d,V=P*2,z=t[V+1]<<16|t[V];
D(F,z,P,t[V+1]>>>Q)}var I=Math.min(e,M*N);if(p+T>=o)I=e;while(w!=0){q(F);var v=F[X].pop(),gj=F[X].pop(),jA=gj>>>16,Y=gj&65535,P=jA*i+Y;
if(B[P]==65535){var jv=v*6,iR=P<<2;B[P]=v;j[jv]+=m[iR];j[jv+1]+=m[iR+1];j[jv+2]+=m[iR+2];j[jv+3]+=Y;
j[jv+4]+=jA;j[jv+5]++;var cj=jA>>>Q;if(jA!=I-1&&B[P+i]==65535)D(F,jA+1<<16|Y,v,a(m,i,J,Y,jA+1,j,jv)+cj);
if(jA!=0&&B[P-i]==65535)D(F,jA-1<<16|Y,v,a(m,i,J,Y,jA-1,j,jv)+cj);if(Y!=0&&B[P-1]==65535)D(F,jA<<16|Y-1,v,a(m,i,J,Y-1,jA,j,jv)+cj);
if(Y!=i-1&&B[P+1]==65535)D(F,jA<<16|Y+1,v,a(m,i,J,Y+1,jA,j,jv)+cj)}}if(I!=jA){var j8=(p+T)*y;j.fill(0,j8*6,(j8+y)*6);
for(var jA=(p+T-2)*N;jA<I;jA++)for(var Y=0;Y<i;Y++){var P=jA*i+Y;if(B[P]>=j8){B[P]=65535}}}}return{eb:B,ex:W,Zg:j}}f.ec.aZ=function(m,i,e,S,E){var Z=m.ex,N=i*e,J=m.Zg,y=m.eb,o=c(S,y,Z,N),B=new UnionFind(Z),Q=0;
for(var t=1;t<e;t++)for(var W=1;W<i;W++){var P=t*i+W,F=y[P],G=0;if((G=y[P-1])!=F&&o[G]==o[F]&&x(J,0,F*6,G*6)<E)B.link(F,G);
if((G=y[P-i])!=F&&o[G]==o[F]&&x(J,0,F*6,G*6)<E)B.link(F,G)}var L=new Uint16Array(Z);L.fill(65535);var T=new Uint16Array(Z);
for(var P=0;P<Z;P++){var j=B.find(P);if(L[j]==65535)L[j]=Q++;T[P]=L[j]}var p=new Uint16Array(N);for(var P=0;
P<N;P++)p[P]=T[y[P]];return{eb:p,ex:Q}};f.ec.ajC=function(m,i,e,S){var E=f.L(e),Z=i.length,N=0;for(var P=0;
P<Z&&N!=3;P++){var J=S[P];if(J==0||J==255){var y=i[P],o=2-(J>>>7);E[y]=N=E[y]|o}}return N!=3};function a(m,i,e,S,E,Z,N){var J=(E*i+S)*4,y=Z[N+5],o=1/y,B=m[J]*y-Z[N],t=m[J+1]*y-Z[N+1],W=m[J+2]*y-Z[N+2],F=S*y-Z[N+3],G=E*y-Z[N+4],L=Math.sqrt(B*B+t*t+W*W),Q=Math.sqrt(F*F+G*G);
return~~((L+e*Q)*o+.5)}function x(m,i,e,S){var E=1/m[e+5],Z=1/m[S+5],N=m[e]*E-m[S]*Z,J=m[e+1]*E-m[S+1]*Z,y=m[e+2]*E-m[S+2]*Z,o=m[e+3]*E-m[S+3]*Z,B=m[e+4]*E-m[S+4]*Z,t=Math.sqrt(N*N+J*J+y*y),W=Math.sqrt(o*o+B*B);
return~~(t+i*W+.5)}function H(m,i,e){var S=f.Mh(m,new dS(0,0,i,e)),E=S.rect.m,Z=S.rect.n,N=C(S.Fg,E,Z),J=N.eb,y=Date.now(),o=new Uint16Array(i*e);
o.fill(65535);for(var B=0;B<Z;B++){for(var t=0;t<E;t++){var W=B*E+t,P=(B<<1)*i+(t<<1),F=J[W];if(J[W-E]!=F||J[W-1]!=F||J[W+1]!=F||J[W+E]!=F)F=65535;
o[P]=F;o[P+1]=F;o[P+i]=F;o[P+i+1]=F}}N.eb=o;return N}function $(m,i){var P=0,e=m.length;while(P!=e&&m[P]!=i)P+=2;
return P==e?-1:P}function r(m,P){if(P==m.length-2){m.pop();m.pop()}else{m[P+1]=m.pop();m[P]=m.pop()}}f.ec.a64=function(m,i,e,S,E){var Z=new Uint32Array(E*4400),g=[];
for(var P=0;P<E;P++)g.push([]);for(var N=0;N<e;N++)for(var J=0;J<i;J++){var P=N*i+J,y=P<<2,o=S[P],B=0,t=m[y]>>>4,W=m[y+1]>>>4,F=m[y+2]>>>4;
Z[o*4400+(t<<8|W<<4|F)]++;Z[o*4400+4096]++;Z[o*4400+4100+(t<<4|W)]++;Z[o*4400+4360+t]++;if(J!=0&&(B=S[P-1])!=o&&$(g[o],B)==-1){g[o].push(B,0);
g[B].push(o,0)}if(N!=0&&(B=S[P-i])!=o&&$(g[o],B)==-1){g[o].push(B,0);g[B].push(o,0)}}for(var P=0;P<E;
P++){var F=g[P];for(var G=0;G<F.length;G+=2)F[G+1]=A(Z,P,F[G])}return[Z,g]};function c(m,i,e,S){var E=f.L(e);
for(var P=0;P<S;P++){var Z=m[P];if(Z==0||Z==255)E[i[P]]=2-(Z>>>7)}return E}f.ec.aut=function(m,i,e,S,E,Z,N){var J=i*e,y=N[0],g=N[1],o=new UnionFind(S),B=c(E,m,S,J),t=-1,W=!0,F=0;
for(var P=0;P<S;P++)if(B[P]==1){if(t==-1)t=P;else o.link(P,t)}if(t==-1){for(var P=0;P<J;P++)Z[P]=E[P]==255?255:0;
return}while(W){while(W){W=!1;for(var P=0;P<S;P++){if(B[P]==0){var G=U(g[P]);if(B[G]==1){B[P]=B[G];W=!0;
o.link(P,G)}}}}W=!0;F=0;while(W){W=!1;for(var P=0;P<S;P++){if(B[P]==0){var G=U(g[P]);if(B[G]==0){var L=P*4400,Q=G*4400;
for(var T=0;T<4400;T+=2){y[L+T]+=y[Q+T];y[L+T+1]+=y[Q+T+1]}O(g,y,P,G);F++;B[G]=3;W=!0;o.link(P,G)}}}}W=F!=0}var j=o.find(t);
for(var P=0;P<S;P++)B[P]=o.find(P)==j?255:0;for(var P=0;P<J;P++){Z[P]=B[m[P]]}for(var P=0;P<J;P++){var G=E[P];
if(G==0||G==255)Z[P]=G}};function U(m){var i=0,e=0,S=m.length;for(var E=0;E<S;E+=2){var Z=m[E+1];if(Z>e){e=Z;
i=E}}return m[i]}function O(g,m,i,e){var S=g[i],E=g[e];r(S,$(S,e));r(E,$(E,i));for(var P=0;P<E.length;
P+=2){var Z=E[P],N=g[Z];r(N,$(N,e));if($(N,i)==-1){N.push(i,0);S.push(Z,0)}}for(var P=0;P<S.length;P+=2){var Z=S[P],N=g[Z],J=A(m,i,Z);
S[P+1]=J;N[$(N,i)+1]=J}}function A(m,i,e){var S=0,E=4096,Z=i*4400,N=e*4400;for(var J=0;J<16;J++){if(m[Z+4360+J]==0||m[N+4360+J]==0)continue;
for(var y=0;y<16;y++){var o=J<<4|y;if(m[Z+4100+o]==0||m[N+4100+o]==0)continue;var B=Z+(o<<4),t=N+(o<<4);
for(var P=0;P<16;P++)S+=Math.sqrt(m[B+P]*m[t+P])}}var W=S/Math.sqrt(m[Z+E]*m[N+E]);return~~(999.99999*W)}return C}();
f.UW={};f.UW.apO=function(){var u=11,g=7,K=u>>>1,eJ=g>>>1,X=2,w=2e3/X,D=[],C=null,a="";function q(H,$,r){var c=(H[$+0]-H[r+0])*(1/255),U=(H[$+1]-H[r+1])*(1/255),O=(H[$+2]-H[r+2])*(1/255),A=(H[$+3]-H[r+3])*(1/255),m=c*c*.125+U*U*.25+O*O*.5+A*A;
return D[~~(m*w)]}function x(H,$,r,c,U,O){var A=Date.now(),m=f.L($*r);f.uT(H,m);var i=UZIP.adler(m,0,$*r);
if(i!=a){var e=f.ld(m,$,r);C=f.L($*r*4);a=i;var S=[1,1/9,1/25,1/49,1/81];for(var E=0;E<r;E++)for(var Z=0;
Z<$;Z++)for(var P=0;P<4;P++){var N=Math.max(1,Z-P),J=Math.min($-1,Z+P),y=Math.max(1,E-P),o=Math.min(r-1,E+P),B=f.F_(e,$,N,J,y,o);
if(isNaN(B))throw Z+","+E+","+P+","+B;C[(E*$+Z)*4+P]=B*S[P]}}if(s.xA){var t=s.iS(0,$,r);t.set(H);var W=s.iS(1,$,r);
W.set(C);var F=s.iS(2,$,r);s.c9(F);s.filter.vG({type:s.filter.aqn,aY:new Float32Array([1/$,1/r]),a2j:W.nI,axd:U,adJ:O},t.nI);
F.get(c)}else{for(var P=0;P<2e3;P++)D[P]=Math.exp(-(P/2e3)*X*(100+(1-U)*(1-U)*1e4));var G=eJ+2;for(var E=G;
E<r-G;E++)for(var Z=G;Z<$-G;Z++){var L=0,Q=0,T=0,j=0;for(var p=0;p<u;p++)for(var M=0;M<u;M++){var n=Z+M-K,d=E+p-K;
if(n==Z&&d==E||n<G||d<G||n>=$-G||d>=r-G)continue;var V=q(C,(E*$+Z)*4,(d*$+n)*4),z=d*$+n<<2;L+=V*H[z+0];
Q+=V*H[z+1];T+=V*H[z+2];j+=V}if(j==0){continue}var I=1/j,v=(E*$+Z)*4;c[v+0]=~~((1-O)*I*L+O*c[v+0]);c[v+1]=~~((1-O)*I*Q+O*c[v+1]);
c[v+2]=~~((1-O)*I*T+O*c[v+2])}}}return x}();var eo=function(){function u(){this.$=0;this.he=0;this.tu={};
this.EE=[];this.hp=1e5;this.EB=1e5;this.tp=-1;this.sJ=-1;this.color=0}function g(eJ){this.m6=eJ;this.YL=new Array(eJ);
this.nA=new Array(eJ*6);this.a4g=0;this.tk=new Array(eJ*2);this.alpha=new Array(eJ);this.k9=new Array(eJ);
this.Zo=new Array(eJ)}function K(w,D,q,C){function a(A,m,w,D){return w[D*m+A]}function x(P){var N=w.length;
while(P<N&&w[P]==0)P++;return P<N?P:-1}function H(A,m,N){for(var P=2;P<5;P++){var J=0;for(var y=-P+1;
y<=P-1;y++){J+=a(A+y,m+P-1,w,D)==N?1:-1;J+=a(A+P-1,m+y-1,w,D)==N?1:-1;J+=a(A+y-1,m-P,w,D)==N?1:-1;J+=a(A-P,m+y,w,D)==N?1:-1}if(J>0)return 1;
else if(J<0)return 0}return 0}function $(N,U){var O=new u,A=N,m=U,J=0,y=1,o;O.color=w[U*D+N];O.sign=a(N,U,w,D)==O.color?"+":"-";
while(1){O.EE.push(A,m);if(A>O.tp)O.tp=A;if(A<O.hp)O.hp=A;if(m>O.sJ)O.sJ=m;if(m<O.EB)O.EB=m;O.he++;A+=J;
m+=y;O.$-=A*y;if(A==N&&m==U)break;var B=a(A+(J+y-1>>1),m+(y-J-1>>1),w,D)==O.color,t=a(A+(J-y-1>>1),m+(y+J-1>>1),w,D)==O.color;
if(t&&!B){if(C.La=="right"||C.La=="black"&&O.sign=="+"||C.La=="white"&&O.sign=="-"||C.La=="majority"&&H(A,m,O.color)||C.La=="minority"&&!H(A,m,O.color)){o=J;
J=-y;y=o}else{o=J;J=y;y=-o}}else if(t){o=J;J=-y;y=o}else if(!B){o=J;J=y;y=-o}}return O}var r=0,c=[];
while(!0){var r=x(r);if(r==-1)break;var U=Math.floor(r/D),O=$(r-U*D,U);for(var P=0;P<O.EE.length-2;P+=2){var A=O.EE[P],m=O.EE[P+1],i=m*D+A;
if(A==O.EE[P+2]&&m+1==O.EE[P+3]&&w[i]!=0)eo.fill(i,w,D,0)}if(O.$>C.a3h)c.push(O)}for(var P=0;P<c.length;
P++)c[P].parent=-1;var e=Date.now();for(var P=1;P<c.length;P++){var S=c[P];for(var E=P-1;E>=0;E--){var Z=c[E];
if(S.hp<Z.hp||S.tp>Z.tp||S.EB<Z.EB||S.sJ>Z.sJ)continue;if(!eo.hf(Z.EE,S.EE[0]+.5,S.EE[1]+.5))continue;
S.parent=E;break}}return c}function X(w,D){function q(J,y,o,B,t){this.x=J;this.y=y;this.nO=o;this.oB=B;
this.JV=t}function C(J,eJ){return(eJ+J)%eJ}function a(J,y,o,B){return J*B-o*y}function x(J,y,o,B){return J*o+y*B}function H(J,y,o){if(J<=o)return J<=y&&y<o;
else return J<=y||y<o}function $(J,y,o){var B=0;B+=y*J[0]*y;B+=y*J[1]*o;B+=y*J[2];B+=o*J[3]*y;B+=o*J[4]*o;
B+=o*J[5];B+=J[6]*y;B+=J[7]*o;B+=J[8];return B}function r(J,y,o){return y+J*(o-y)}function c(J,y,o,B){var t=Math.sign(o-J),W=-Math.sign(B-y);
return t*(o-J)-W*(B-y)}function U(J,y){return Math.sqrt(J*J+y*y)}function O(J,y,o,B,t){var W=1-J;return W*W*W*y+3*(W*W*J)*o+3*(J*J*W)*B+J*J*J*t}function A(J,y,o,B,t,W,F,G){var L=a(J,y,F,G),Q=a(o,B,F,G),T=a(t,W,F,G),j=L-2*Q+T,p=-2*L+2*Q,M=L,n=p*p-4*j*M;
if(j==0||n<0)return-1;var d=Math.sqrt(n),V=(-p+d)/(2*j),z=(-p-d)/(2*j);if(V>=0&&V<=1)return V;else if(z>=0&&z<=1)return z;
else return-1}function m(N){var P,J,y;N.sa=N.EE[0];N.aoE=N.EE[1];N.dr=[];var o=N.dr;o.push(new q(0,0,0,0,0));
for(P=0;P<N.he;P++){J=N.EE[P<<1]-N.sa;y=N.EE[(P<<1)+1]-N.aoE;o.push(new q(o[P].x+J,o[P].y+y,o[P].nO+J*y,o[P].oB+J*J,o[P].JV+y*y))}}function i(N){var eJ=N.he,J=N.EE,y,o=new Array(eJ),B=new Array(eJ),t=new Array(4),W,F,G,L,Q,T,j,p,M,n,d,P,V,z,I,v,gj,jA,Y=0;
N.JZ=new Array(eJ);for(P=eJ-1;P>=0;P--){if(J[P<<1]!=J[Y<<1]&&J[(P<<1)+1]!=J[(Y<<1)+1])Y=P+1;B[P]=Y}for(P=eJ-1;
P>=0;P--){var jv=C(P+1,eJ)<<1;t[0]=t[1]=t[2]=t[3]=0;y=(3+3*(J[jv]-J[P<<1])+(J[jv+1]-J[(P<<1)+1]))/2;
t[y]++;W=0;F=0;G=0;L=0;Y=B[P];z=P;while(1){d=0;y=(3+3*Math.sign(J[Y*2]-J[z*2])+Math.sign(J[Y*2+1]-J[z*2+1]))/2;
t[y]++;if(t[0]&&t[1]&&t[2]&&t[3]){o[P]=z;d=1;break}M=J[Y*2]-J[P*2];n=J[Y*2+1]-J[P*2+1];if(a(W,F,M,n)<0||a(G,L,M,n)>0){break}if(Math.abs(M)<=1&&Math.abs(n)<=1){}else{Q=M+(n>=0&&(n>0||M<0)?1:-1);
T=n+(M<=0&&(M<0||n<0)?1:-1);if(a(W,F,Q,T)>=0){W=Q;F=T}Q=M+(n<=0&&(n<0||M<0)?1:-1);T=n+(M>=0&&(M>0||n<0)?1:-1);
if(a(G,L,Q,T)<=0){G=Q;L=T}}z=Y;Y=B[z];if(!H(Y,P,z)){break}}if(d==0){j=Math.sign(J[Y*2]-J[z*2]);p=Math.sign(J[Y*2+1]-J[z*2+1]);
M=J[z*2]-J[P*2];n=J[z*2+1]-J[P*2+1];I=a(W,F,M,n);v=a(W,F,j,p);gj=a(G,L,M,n);jA=a(G,L,j,p);V=1e7;if(v<0){V=Math.floor(I/-v)}if(jA>0){V=Math.min(V,Math.floor(-gj/jA))}o[P]=C(z+V,eJ)}}V=o[eJ-1];
N.JZ[eJ-1]=V;for(P=eJ-2;P>=0;P--){if(H(P+1,o[P],V)){V=o[P]}N.JZ[P]=V}for(P=eJ-1;H(C(P+1,eJ),V,N.JZ[P]);
P--){N.JZ[P]=V}}function e(N){function J(N,P,y){var eJ=N.he,M=N.EE,n=N.dr,d,V,z,I,v,B,gj,jA,p,Y,jv,iR,cj,j8,as=0;
if(y>=eJ){y-=eJ;as=1}if(as==0){d=n[y+1].x-n[P].x;V=n[y+1].y-n[P].y;I=n[y+1].oB-n[P].oB;z=n[y+1].nO-n[P].nO;
v=n[y+1].JV-n[P].JV;B=y+1-P}else{d=n[y+1].x-n[P].x+n[eJ].x;V=n[y+1].y-n[P].y+n[eJ].y;I=n[y+1].oB-n[P].oB+n[eJ].oB;
z=n[y+1].nO-n[P].nO+n[eJ].nO;v=n[y+1].JV-n[P].JV+n[eJ].JV;B=y+1-P+eJ}jv=(M[P<<1]+M[y<<1])/2-M[0];iR=(M[(P<<1)+1]+M[(y<<1)+1])/2-M[1];
j8=M[y<<1]-M[P<<1];cj=-(M[(y<<1)+1]-M[(P<<1)+1]);gj=(I-2*d*jv)/B+jv*jv;jA=(z-d*iR-V*jv)/B+jv*iR;p=(v-2*V*iR)/B+iR*iR;
Y=cj*cj*gj+2*cj*j8*jA+j8*j8*p;return Math.sqrt(Y)}var P,y,o,B,eJ=N.he,t=new Array(eJ+1),W=new Array(eJ+1),F=new Array(eJ),G=new Array(eJ+1),L=new Array(eJ+1),Q=new Array(eJ+1),T,j,p;
for(P=0;P<eJ;P++){p=C(N.JZ[C(P-1,eJ)]-1,eJ);if(p==P){p=C(P+1,eJ)}if(p<P){F[P]=eJ}else{F[P]=p}}y=1;for(P=0;
P<eJ;P++){while(y<=F[P]){G[y]=P;y++}}P=0;for(y=0;P<eJ;y++){L[y]=P;P=F[P]}L[y]=eJ;o=y;P=eJ;for(y=o;y>0;
y--){Q[y]=P;P=G[P]}Q[0]=0;t[0]=0;for(y=1;y<=o;y++){for(P=Q[y];P<=L[y];P++){j=-1;for(B=L[y-1];B>=G[P];
B--){T=J(N,B,P)+t[B];if(j<0||T<j){W[P]=B;j=T}}t[P]=j}}N.avI=o;N.a37=new Array(o);for(P=eJ,y=o-1;P>0;
y--){P=W[P];N.a37[y]=P}}function S(N){function J(N,P,T,F,G,gW){var eJ=N.he,af=N.dr,at=0,p;while(T>=eJ){T-=eJ;
at+=1}while(P>=eJ){P-=eJ;at-=1}while(T<0){T+=eJ;at-=1}while(P<0){P+=eJ;at+=1}var jd=af[T+1].x-af[P].x+at*af[eJ].x,fM=af[T+1].y-af[P].y+at*af[eJ].y,hS=af[T+1].oB-af[P].oB+at*af[eJ].oB,dr=af[T+1].nO-af[P].nO+at*af[eJ].nO,cB=af[T+1].JV-af[P].JV+at*af[eJ].JV,j=T+1-P+at*eJ;
F[gW]=jd/j;F[gW+1]=fM/j;var b1=(hS-jd*jd/j)/j,ic=(dr-jd*fM/j)/j,dV=(cB-fM*fM/j)/j,eS=(b1+dV+Math.sqrt((b1-dV)*(b1-dV)+4*ic*ic))/2;
b1-=eS;dV-=eS;if(Math.abs(b1)>=Math.abs(dV)){p=Math.sqrt(b1*b1+ic*ic);if(p!=0){G[gW]=-ic/p;G[gW+1]=b1/p}}else{p=Math.sqrt(dV*dV+ic*ic);
if(p!=0){G[gW]=-dV/p;G[gW+1]=ic/p}}if(p==0){G[gW]=G[gW+1]=0}}var y=N.avI,o=N.a37,eJ=N.he,B=N.EE,t=N.sa,W=N.aoE,F=new Array(y*2),G=new Array(y*2),L=new Array(y),Q=new Array(3),P,T,j,p,V,z,I,v,gj,jA,Y;
N.tu=new g(y);for(P=0;P<y;P++){T=o[C(P+1,y)];T=C(T-o[P],eJ)+o[P];F[P<<1]=0;F[(P<<1)+1]=0;G[P<<1]=0;G[(P<<1)+1]=0;
J(N,o[P],T,F,G,P<<1)}for(P=0;P<y;P++){L[P]=[0,0,0,0,0,0,0,0,0];var M=G[P<<1]*G[P<<1]+G[(P<<1)+1]*G[(P<<1)+1],n=1/M;
if(M!=0){Q[0]=G[(P<<1)+1];Q[1]=-G[P<<1];Q[2]=-Q[1]*F[(P<<1)+1]-Q[0]*F[P<<1];for(p=0;p<3;p++){L[P][p*3+0]=Q[p]*Q[0]*n;
L[P][p*3+1]=Q[p]*Q[1]*n;L[P][p*3+2]=Q[p]*Q[2]*n}}}var d=[0,0,0,0,0,0,0,0,0];for(P=0;P<y;P++){d[0]=d[1]=d[2]=d[3]=d[4]=d[5]=d[6]=d[7]=d[8]=d[9]=0;
var jv=B[o[P]<<1]-t,iR=B[(o[P]<<1)+1]-W,cj=0,j8=0;T=C(P-1,y);for(p=0;p<9;p+=3){d[p+0]=L[T][p+0]+L[P][p+0];
d[p+1]=L[T][p+1]+L[P][p+1];d[p+2]=L[T][p+2]+L[P][p+2]}while(1){var as=d[0]*d[4]-d[1]*d[3];if(as!=0){cj=(-d[2]*d[4]+d[5]*d[0])/as;
j8=(d[2]*d[3]-d[5]*d[0])/as;break}if(d[0]>d[4]){Q[0]=-d[1];Q[1]=d[0]}else if(d[4]){Q[0]=-d[4];Q[1]=d[3]}else{Q[0]=1;
Q[1]=0}var M=Q[0]*Q[0]+Q[1]*Q[1],n=1/M;Q[2]=-Q[1]*iR-Q[0]*jv;for(p=0;p<3;p++){d[p*3+0]+=Q[p]*Q[0]*n;
d[p*3+1]+=Q[p]*Q[1]*n;d[p*3+2]+=Q[p]*Q[2]*n}}V=Math.abs(cj-jv);z=Math.abs(j8-iR);if(V<=.5&&z<=.5){N.tu.tk[P<<1]=cj+t;
N.tu.tk[(P<<1)+1]=j8+W;continue}I=$(d,jv,iR);gj=jv;jA=iR;if(d[0]!=0){for(Y=0;Y<2;Y++){j8=iR-.5+Y;cj=-(d[1]*j8+d[2])/d[0];
V=Math.abs(cj-jv);v=$(d,cj,j8);if(V<=.5&&v<I){I=v;gj=cj;jA=j8}}}if(d[4]!=0){for(Y=0;Y<2;Y++){cj=jv-.5+Y;
j8=-(d[3]*cj+d[5])/d[4];z=Math.abs(j8-iR);v=$(d,cj,j8);if(z<=.5&&v<I){I=v;gj=cj;jA=j8}}}for(p=0;p<2;
p++){for(j=0;j<2;j++){cj=jv-.5+p;j8=iR-.5+j;v=$(d,cj,j8);if(v<I){I=v;gj=cj;jA=j8}}}N.tu.tk[P<<1]=gj+t;
N.tu.tk[(P<<1)+1]=jA+W}}function E(N){var J=N.tu.m6,y=N.tu,P,o,B,t,W,F,G,L,Q;for(P=0;P<J;P++){o=C(P+1,J);
B=C(P+2,J);var T=y.tk[P<<1],j=y.tk[(P<<1)+1],p=y.tk[B<<1],M=y.tk[(B<<1)+1],n=y.tk[o<<1],d=y.tk[(o<<1)+1],V=r(.5,p,n),z=r(.5,M,d);
W=c(T,j,p,M);if(W!=0){t=a(n-T,d-j,p-T,M-j)/W;t=Math.abs(t);F=t>1?1-1/t:0;F=F*(1/.75)}else{F=4/3}y.k9[o]=F;
var I=3*o<<1;if(F>=D.a5K){y.YL[o]=0;y.nA[I+0]=y.nA[I+1]=0;y.nA[I+2]=n;y.nA[I+3]=d;y.nA[I+4]=V;y.nA[I+5]=z}else{if(F<.55){F=.55}else if(F>1){F=1}var v=.5+.5*F;
y.YL[o]=1;y.nA[I]=r(v,T,n);y.nA[I+1]=r(v,j,d);y.nA[I+2]=r(v,p,n);y.nA[I+3]=r(v,M,d);y.nA[I+4]=V;y.nA[I+5]=z}y.alpha[o]=F;
y.Zo[o]=.5}y.av_=1}function Z(N){function J(){this.Lo=0;this.nT=0;this.BW=0;this.nU=0;this.QZ=0;this.m7=0;
this.C9=0;this.alpha=0}function y(N,P,T,d3,cE,gj,jA){var B=N.tu.m6,eP=N.tu.nA,jm=N.tu.tk;if(P==T)return 1;
var bD=P,n=C(P+1,B),f1=C(bD+1,B),dr=jm[P<<1],cB=jm[(P<<1)+1],ft=jm[n<<1],ie=jm[(n<<1)+1],b2=gj[f1];if(b2==0)return 1;
var dh=U(dr-ft,cB-ie);for(bD=f1;bD!=T;bD=f1){var f1=C(bD+1,B),aY=C(bD+2,B),eF=jm[f1<<1],de=jm[(f1<<1)+1],i5=jm[aY<<1],eA=jm[(aY<<1)+1];
if(gj[f1]!=b2)return 1;if(Math.sign(a(ft-dr,ie-cB,i5-eF,eA-de))!=b2)return 1;if(x(ft-dr,ie-cB,i5-eF,eA-de)<dh*U(eF-i5,de-eA)*-.999847695156)return 1}var c4=C(P,B)*3+2<<1,jC=C(P+1,B)<<1,hd=C(T,B)<<1,iG=C(T,B)*3+2<<1,gW=eP[c4],af=eP[c4+1],cC=jm[jC],cL=jm[jC+1],dw=jm[hd],eY=jm[hd+1],cf=eP[iG],d7=eP[iG+1],Y=jm[0],jv=jm[1];
c4=T*3+2<<1;var hs=eP[c4],hz=eP[c4+1],d=jA[T]-jA[P];d-=a(hs-Y,hz-jv,hs-Y,hz-jv)/2;if(P>=T){d+=jA[B]}var bx=cC-gW,dO=cL-af,hN=dw-gW,jn=eY-af,iP=cf-gW,io=d7-af,jD=a(bx,dO,hN,jn),dg=a(bx,dO,iP,io),j1=a(hN,jn,iP,io),iO=jD+j1-dg;
if(dg==jD)return 1;var v=j1/(j1-iO),I=dg/(dg-jD),ck=dg*v/2;if(ck==0)return 1;var cZ=d/ck,V=2-Math.sqrt(4-cZ/.3);
d3.nT=r(v*V,gW,cC);d3.BW=r(v*V,af,cL);d3.nU=r(I*V,cf,dw);d3.QZ=r(I*V,d7,eY);d3.alpha=V;d3.m7=v;d3.C9=I;
cC=d3.nT;cL=d3.BW;dw=d3.nU;eY=d3.QZ;d3.Lo=0;for(bD=C(P+1,B);bD!=T;bD=f1){f1=C(bD+1,B);var bY=jm[bD<<1],ke=jm[(bD<<1)+1],eF=jm[f1<<1],de=jm[(f1<<1)+1];
v=A(cC-gW,cL-af,dw-cC,eY-cL,cf-dw,d7-eY,eF-bY,de-ke);if(v<-.5)return 1;var bQ=O(v,gW,cC,dw,cf),jh=O(v,af,cL,eY,d7),dh=U(eF-bY,de-ke);
if(dh==0)return 1;var hk=a(eF-bY,de-ke,bQ-bY,jh-ke)/dh;if(Math.abs(hk)>cE)return 1;if(x(eF-bY,de-ke,bQ-bY,jh-ke)<0||x(bY-eF,ke-de,bQ-eF,jh-de)<0){return 1}d3.Lo+=hk*hk}for(bD=P;
bD!=T;bD=f1){f1=C(bD+1,B);var c4=bD*3+2<<1,jC=f1*3+2<<1,c8=eP[c4],bM=eP[c4+1],dE=eP[jC],h3=eP[jC+1];
v=A(cC-gW,cL-af,dw-cC,eY-cL,cf-dw,d7-eY,dE-c8,h3-bM);if(v<-.5)return 1;var bQ=O(v,gW,cC,dw,cf),jh=O(v,af,cL,eY,d7),dh=U(dE-c8,h3-bM);
if(dh==0)return 1;var hk=a(dE-c8,h3-bM,bQ-c8,jh-bM)/dh,eL=a(dE-c8,h3-bM,jm[f1<<1]-c8,jm[(f1<<1)+1]-bM)/dh;
eL*=.75*N.tu.alpha[f1];if(eL<0){hk=-hk;eL=-eL}if(hk<eL-cE)return 1;if(hk<eL){d3.Lo+=(hk-eL)*(hk-eL)}}return 0}var o=N.tu,B=o.m6,t=o.tk,W=new Array(B+1),F=new Array(B+1),G=new Array(B+1),L=new Array(B+1),Q,P,T,j,p=new J,M,n,d,V,z,I,v,gj=new Array(B),jA=new Array(B+1);
for(P=0;P<B;P++){if(o.YL[P]=="CURVE"){var Y=t[C(P-1,B)<<1],jv=t[(C(P-1,B)<<1)+1],iR=t[P<<1],cj=t[(P<<1)+1],j8=t[C(P+1,B)<<1],as=t[(C(P+1,B)<<1)+1];
gj[P]=Math.sign(a(iR-Y,cj-jv,j8-iR,as-cj))}else{gj[P]=0}}d=0;jA[0]=0;var gW=o.tk[0],af=o.tk[1];for(P=0;
P<B;P++){n=C(P+1,B);if(o.YL[n]=="CURVE"){V=o.alpha[n];var at=P*3+2<<1,jd=n*3+2<<1,fM=o.nA[at],hS=o.nA[at+1],dr=t[n<<1],cB=t[(n<<1)+1],b1=o.nA[jd],ic=o.nA[jd+1];
d+=.3*V*(4-V)*a(dr-fM,cB-hS,b1-fM,ic-hS)/2;d+=a(fM-gW,hS-af,b1-gW,ic-af)/2}jA[P+1]=d}W[0]=-1;F[0]=0;
G[0]=0;for(T=1;T<=B;T++){W[T]=T-1;F[T]=F[T-1];G[T]=G[T-1]+1;for(P=T-2;P>=0;P--){j=y(N,P,C(T,B),p,D.axc,gj,jA);
if(j){break}if(G[T]>G[P]+1||G[T]==G[P]+1&&F[T]>F[P]+p.Lo){W[T]=P;F[T]=F[P]+p.Lo;G[T]=G[P]+1;L[T]=p;p=new J}}}Q=G[B];
z=new g(Q);I=new Array(Q);v=new Array(Q);T=B;for(P=Q-1;P>=0;P--){var dV=C(T,B),eS=P*3+0<<1,a2=dV*3+0<<1;
if(W[T]==T-1){z.YL[P]=o.YL[dV];z.nA[eS]=o.nA[a2];z.nA[eS+1]=o.nA[a2+1];z.nA[eS+2]=o.nA[a2+2];z.nA[eS+3]=o.nA[a2+3];
z.nA[eS+4]=o.nA[a2+4];z.nA[eS+5]=o.nA[a2+5];z.tk[P<<1]=o.tk[dV<<1];z.tk[(P<<1)+1]=o.tk[(dV<<1)+1];z.alpha[P]=o.alpha[dV];
z.k9[P]=o.k9[dV];z.Zo[P]=o.Zo[dV];I[P]=v[P]=1}else{z.YL[P]="CURVE";z.nA[eS]=L[T].nT;z.nA[eS+1]=L[T].BW;
z.nA[eS+2]=L[T].nU;z.nA[eS+3]=L[T].QZ;z.nA[eS+4]=o.nA[a2+4];z.nA[eS+5]=o.nA[a2+5];z.tk[P<<1]=r(L[T].C9,o.nA[a2+4],t[dV<<1]);
z.tk[(P<<1)+1]=r(L[T].C9,o.nA[a2+5],t[(dV<<1)+1]);z.alpha[P]=L[T].alpha;z.k9[P]=L[T].alpha;I[P]=L[T].C9;
v[P]=L[T].m7}T=W[T]}for(P=0;P<Q;P++){n=C(P+1,Q);z.Zo[P]=I[P]/(I[P]+v[n])}z.av_=1;N.tu=z}for(var P=0;
P<w.length;P++){var N=w[P];m(N);i(N);e(N);S(N);E(N);if(D.a96)Z(N)}}return{a0x:K,amQ:X}}();eo.O$=function(u,g,K,X){var w={La:"minority",a3h:X,a96:!0,a5K:1,axc:.2},D=eo.a0x(u,g,K,w);
eo.amQ(D,w);return D};eo.f$=function(u){var g=[];for(var P=0;P<u.length;P++){var K=u[P],X=K.tu,w=["M"],D=[X.nA[(X.m6-1)*6+4],X.nA[(X.m6-1)*6+5]];
for(var q=0;q<X.m6;q++){var C=q*6;if(X.YL[q]==1){w.push("C");for(var a=0;a<6;a++)D.push(X.nA[C+a])}else if(X.YL[q]==0){w.push("L");
for(var a=2;a<4;a++)D.push(X.nA[C+a])}}w.push("Z");g.push({parent:K.parent,color:K.color,path:{v:D,F:w}})}return g};
eo.hf=function(u,g,K){var eJ=u.length>>1,X,w=u[2*eJ-3]-K,D=u[2*eJ-2]-g,q=u[2*eJ-1]-K,C=q>w,a=0;for(var P=0;
P<eJ;P++){X=D;w=q;D=u[2*P]-g;q=u[2*P+1]-K;if(w==q)continue;C=q>w}for(var P=0;P<eJ;P++){X=D;w=q;D=u[2*P]-g;
q=u[2*P+1]-K;if(w<0&&q<0)continue;if(w>0&&q>0)continue;if(X<0&&D<0)continue;if(w==q&&Math.min(X,D)<=0)return!0;
if(w==q)continue;var x=X+(D-X)*-w/(q-w);if(x==0)return!0;if(x>0)a++;if(w==0&&C&&q>w)a--;if(w==0&&!C&&q<w)a--;
C=q>w}return(a&1)==1};eo.fill=function(u,g,K,X){var w=g[u],D=[u],q=0;while(q<D.length){var C=D[q];q++;
g[C]=X;if(g[C-K]==w){D.push(C-K);g[C-K]=254}if(g[C-1]==w){D.push(C-1);g[C-1]=254}if(g[C+1]==w){D.push(C+1);
g[C+1]=254}if(g[C+K]==w){D.push(C+K);g[C+K]=254}}};function i3(){}i3.h7=function(u){var g=new Uint8Array(u),K=0,X={Ft:[],oY:[],list:[]},w=k.Z_(g,K);
K+=2;if(w<=2){return i3.a1j(g)}var D=k.Z_(g,K);K+=2;var q=k.u6(g,K,8);K+=8;var C=k.r(g,K);K+=4;if(C>0)X.Ft=i3.ys(g,K,C,D,w);
K+=C;var a=k.u6(g,K,8);K+=8;var x=k.r(g,K);K+=4;if(x>0)X.oY=br.sG(g,K,x);K+=x;var H=k.u6(g,K,8);K+=8;
var $=k.r(g,K);K+=4;if($>0){var r={};bZ.iQ(g,r,K+4);X.list=r.Brsh.v}K+=$;var c=X.list;for(var P=0;P<c.length;
P++){cO.JT.check(c[P].v)}return X};i3.Wl=function(u,g){u.v.Nm.v=g};i3.a1j=function(u){var g={Ft:[],oY:[],list:[]},K=0,X=k.Z_(u,K);
K+=2;var w=k.Z_(u,K);K+=2;for(var P=0;P<w;P++){var D=k.Z_(u,K);K+=2;var q=k.r(u,K);K+=4;var C=K;if(D==2){var a={};
g.Ft.push(a);var x=k.r(u,C);C+=4;var H=k.Z_(u,C);C+=2;if(X==2){var $=k.o$(u,C);C+=4+$.length*2+2}a.id=f0.AO()+"-d71c-11e5-b1ae-a548a96e5f9f";
C++;C+=8;a.mf=k.QL(u,C);C+=16;var r=k.Z_(u,C);C+=2;var c=u[C];C++;var U=i$.SN(!1,r,u,a.mf.m,a.mf.n,C,c);
i3.kV(a,U);var O=cO.Nt(a.id),A=O.Brsh.v;A.Dmtr.v.val=a.mf.m;A.Spcn.v.val=H;g.list.push({t:"Objc",v:O})}K+=q}return g};
i3.P8=function(u){var g=new jx,K=0,X=0;k.ss(g,K,6);K+=2;k.ss(g,K,2);K+=2;k.Xp(g,K,"8BIMsamp");K+=8;K+=4;
X=K;K=i3.I$(g,K,u.Ft);k.q2(g,X-4,K-X);k.Xp(g,K,"8BIMpatt");K+=8;K+=4;X=K;K=br.Ks(g,K,u.oY);k.q2(g,X-4,K-X);
var w={classID:"null",Brsh:{t:"VlLs",v:u.list}};k.Xp(g,K,"8BIMdesc");K+=8;K+=4;X=K;k.q2(g,K,16);K+=4;
K+=bZ.l4(g,w,K);k.q2(g,X-4,K-X);return g.data.slice(0,K).buffer};i3.ys=function(u,g,K,X,w){var D=k.r,q=k.QL,C=g+K,a=[];
while(g<C){var x={};a.push(x);var H=D(u,g);g+=4;var $=g,r=k.Ni(u,g);g+=r.length;x.id=r.Jj;if(X==1){g+=9;
x.mf=q(u,g);g+=16}else{g+=7;var c=D(u,g);g+=4;x.mf=q(u,g);g+=16;var U=D(u,g);g+=4;g+=U*4;var O=D(u,g);
g+=4;var A=D(u,g);g+=4;var m=q(u,g);g+=16}var i=k.Z_(u,g);g+=2;var e=u[g];g+=1;var S=i$.SN(!1,i,u,x.mf.m,x.mf.n,g,e);
i3.kV(x,S);if(H%4!=0)H+=4-H%4;g=$+H}return a};i3.kV=function(u,g){var K=u.mf.clone(),X=f.L(K.$()*4);
f.K1(g,X,3);K.x=K.y=0;u.e4=[X,K]};i3.I$=function(u,g,K){var X=k.q2,w=k.Fp;for(var P=0;P<K.length;P++){var D=K[P],q=g+4,a=56,H=1;
g+=4;k.wh(u,g,D.id);g+=D.id.length+2;u._s(g,1);u.data[g]=1;g+=3;X(u,g,3);g+=4;var C=g;g+=4;w(u,g,D.mf);
g+=16;X(u,g,a);g+=4;g+=a*4;X(u,g-4,1);var x=g;g+=4;X(u,g,8);g+=4;w(u,g,D.mf);g+=16;k.ss(u,g,8);g+=2;
u._s(g,1);u.data[g]=H;g++;var $=f.L(D.mf.$());f.hk(D.e4[0],$,3);u._s(g,D.mf.$()*2);g=i$.p3(!1,$,u.data,D.mf.m,D.mf.n,g,H);
u._s(g,8);g+=8;var r=g-q;X(u,q-4,r);X(u,C,r-49);X(u,x,r-305);if(r%4!=0)g+=4-r%4}return g};function db(){}db.h7=function(u){var g=new Uint8Array(u),K=[],X=0,w=k.Z_(g,X);
X+=2;if(w!=4){throw"Unknown version of curves: "+w}var D=k.Z_(g,X);X+=2;for(var P=0;P<D;P++){var q=db.na(g,X);
X+=2+2*q.length;K.push(q)}if(X==g.length)return K;var C=k.u6(g,X,4);X+=4;var a=k.Z_(g,X);X+=2;var x=k.Z_(g,X);
X+=2;if(x!=0)throw"extra curves for channels";return K};db.TK=function(u,g,K){var X=g,w=[],D=u[g];g+=3;
var q=k.r(u,g);g+=4;for(var P=0;P<4;P++){var C=q>>>P&1;if(C){if(D==0){var a=db.na(u,g);g+=2+2*a.length}else{var a=db.aeq(u,g);
g+=256}w.push(a)}else w.push(D==0?[0,0,255,255]:db.amN())}var x=dJ.mt("curv");for(var P=0;P<4;P++){if(D==0){var H=w[P],$=[];
for(var r=0;r<H.length;r+=2)$.push(f.f1.an(H[r],H[r+1],!0));db.mu(x,P,$)}else db.mu(x,P,w[P])}return x};
db.amN=function(){var u=[];for(var P=0;P<256;P++)u.push(P);return u};db.mu=function(u,g,K){var X=ad.h$("CrvA",g);
if(K.length<256)X.Crv={t:"VlLs",v:K};else{X.Mpng={t:"VlLs",v:[]};for(var P=0;P<256;P++)X.Mpng.v[P]={t:"long",v:K[P]}}X={t:"Objc",v:X};
var w=u.Adjs.v,D=ad.hb(w,g);if(D==-1)w.push(X);else w[D]=X};db.Bi=function(u,g){var K=u.Adjs.v,X=ad.hb(K,g);
if(X==-1){if(K.length==0||K[0].v.Crv)return[f.f1.an(0,0,!0),f.f1.an(255,255,!0)];if(K[0].v.autoMachineLearning||K[0].v.AuCo)return[f.f1.an(0,0,!0),f.f1.an(128,160,!0),f.f1.an(255,255,!0)];
var w=[];for(var P=0;P<256;P++)w.push(P);return w}var D=K[X].v;if(D.Crv)return D.Crv.v;if(D.Mpng){var w=[];
for(var P=0;P<256;P++)w.push(D.Mpng.v[P].v);return w}return[f.f1.an(0,0,!0),f.f1.an(255,255,!0)]};db.na=function(u,g){var K=[],X=k.Z_(u,g);
g+=2;for(var w=0;w<X;w++){var D=k.Z_(u,g);g+=2;var q=k.Z_(u,g);g+=2;K.push(q,D)}return K};db.ara=function(u,g,K){var X=K.length/2;
k.ss(u,g,X);g+=2;for(var w=0;w<X;w++){k.ss(u,g,K[w*2+1]);g+=2;k.ss(u,g,K[w*2+0]);g+=2}};db.aeq=function(u,g){var K=[];
for(var P=0;P<256;P++)K.push(u[g+P]);return K};db.acr=function(u,g,K){u._s(g,256);for(var P=0;P<256;
P++)u.data[g+P]=K[P]};db.e3=function(u,g,K){var X=[];for(var P=0;P<4;P++){var w=db.Bi(K,P);if(w.length==256)X.push(w);
else{var D=[];for(var q=0;q<w.length;q++)D.push(w[q].v.Hrzn.v,w[q].v.Vrtc.v);X.push(D)}}var C=g,a=X[0].length==256?1:0;
u._s(g,3);u.data[g]=a;u.data[g+1]=0;u.data[g+2]=1;g+=3;k.q2(u,g,15);g+=4;for(var P=0;P<4;P++){var x=X[P];
if(a==0){db.ara(u,g,x);g+=2+2*x.length}else{db.acr(u,g,x);g+=256}}return g-C};function bV(){}bV.TK=function(u,g,K){var X={},w=k.Z_(u,g);
g+=2;X.AA=u[g]==1;g++;g++;X.PJ=[k.ST(u,g),k.ST(u,g+2),k.ST(u,g+4)];g+=6;X.$I=[k.ST(u,g),k.ST(u,g+2),k.ST(u,g+4)];
g+=6;X.PO=[];for(var P=0;P<6;P++){var D={};D.hm=[k.ST(u,g),k.ST(u,g+2),k.ST(u,g+4),k.ST(u,g+6)];g+=8;
D.qy=[k.ST(u,g),k.ST(u,g+2),k.ST(u,g+4)];g+=6;X.PO.push(D)}var q=dJ.mt("hue2"),C=X;if(q.Clrz==null)q.Clrz={t:"bool",v:!1};
q.Clrz.v=C.AA;for(var P=0;P<7;P++){var a=P==0?C.AA?C.PJ:C.$I:C.PO[P-1];bV.mu(q,P,a)}return q};bV.a3K=function(u){return{classID:"Hst2",H:{t:"long",v:u[0]},Strt:{t:"long",v:u[1]},Lght:{t:"long",v:u[2]}}};
bV.hb=function(u,g){for(var P=0;P<u.length;P++){var K=u[P].v.LclR;if(g==0&&K==null||K!=null&&K.v==g)return P}return-1};
bV.mu=function(u,g,K){var X=g==0?K:K.qy,w=bV.a3K(X);if(g!=0){var D=K.hm;w.LclR={t:"long",v:g},w.BgnR={t:"long",v:D[0]};
w.BgnS={t:"long",v:D[1]};w.EndS={t:"long",v:D[2]};w.EndR={t:"long",v:D[3]}}w={t:"Objc",v:w};var q=u.Adjs.v,C=bV.hb(q,g);
if(C==-1)q.push(w);else q[C]=w};bV.Bi=function(u,g){var K=u.Adjs.v,X=bV.hb(K,g);if(X==-1){if(g==0)return[0,0,0];
else return[{hm:[315,345,15,45],qy:[0,0,0]},{hm:[15,45,75,105],qy:[0,0,0]},{hm:[75,105,135,165],qy:[0,0,0]},{hm:[135,165,195,225],qy:[0,0,0]},{hm:[195,225,255,285],qy:[0,0,0]},{hm:[255,285,315,345],qy:[0,0,0]}][g-1]}var w=K[X].v,D=[w.H.v,w.Strt.v,w.Lght.v];
if(g==0)return D;return{qy:D,hm:[w.BgnR.v,w.BgnS.v,w.EndS.v,w.EndR.v]}};bV.e3=function(u,g,K){var X={AA:K.Clrz?K.Clrz.v:!1,PO:[]};
X.PJ=X.$I=bV.Bi(K,0);for(var P=1;P<7;P++)X.PO.push(bV.Bi(K,P));var w=2+2+12+6*14,D=u.data;u._s(g,w);
k.Q$(D,g,2);g+=2;D[g]=X.AA?1:0;g++;g++;k.hS(D,g+0,X.PJ[0]);k.hS(D,g+2,X.PJ[1]);k.hS(D,g+4,X.PJ[2]);g+=6;
k.hS(D,g+0,X.$I[0]);k.hS(D,g+2,X.$I[1]);k.hS(D,g+4,X.$I[2]);g+=6;for(var P=0;P<6;P++){var q=X.PO[P].hm,C=X.PO[P].qy;
k.hS(D,g+0,q[0]);k.hS(D,g+2,q[1]);k.hS(D,g+4,q[2]);k.hS(D,g+6,q[3]);g+=8;k.hS(D,g+0,C[0]);k.hS(D,g+2,C[1]);
k.hS(D,g+4,C[2]);g+=6}return w};function ad(){}ad.h7=function(u){var g=new Uint8Array(u),K=2,X=[];for(var P=0;
P<29;P++){var w=[];X.push(w);for(var D=0;D<5;D++)w.push(k.Z_(g,K+P*10+D*2))}K+=29*10;if(K<g.length){var q=k.u6(g,K,4);
K+=4;var C=k.Z_(g,K);K+=2;var a=k.Z_(g,K);K+=2;var x=a-29;for(var P=0;P<x;P++){var w=[];X.push(w);for(var D=0;
D<5;D++)w.push(k.Z_(g,K+P*10+D*2))}}var H=dJ.mt("levl");for(var P=0;P<4;P++)ad.mu(H,P,X[P]);return H};
ad.h$=function(u,P){var g=["Cmps","Rd","Grn","Bl"],K={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:g[P]}}]};
return{classID:u,Chnl:K}};ad.hb=function(u,g){var K={Cmps:0,Rd:1,Grn:2,Bl:3};for(var P=0;P<u.length;
P++){var X=u[P].v,w=K[X.Chnl.v[0].v.enum];if(w==g)return P}return-1};ad.mu=function(u,g,K){var X=ad.h$("LvlA",g);
X.Inpt={t:"VlLs",v:[{t:"long",v:K[0]},{t:"long",v:K[1]}]};X.Otpt={t:"VlLs",v:[{t:"long",v:K[2]},{t:"long",v:K[3]}]};
X.Gmm={t:"doub",v:K[4]/100};X={t:"Objc",v:X};var w=u.Adjs.v,D=ad.hb(w,g);if(D==-1)w.push(X);else w[D]=X};
ad.Bi=function(u,g){var K=[0,255,0,255,100],X=u.Adjs.v,w=ad.hb(X,g);if(w==-1)return K;var D=X[w].v;if(D.Inpt){K[0]=D.Inpt.v[0].v;
K[1]=D.Inpt.v[1].v}if(D.Otpt){K[2]=D.Otpt.v[0].v;K[3]=D.Otpt.v[1].v}if(D.Gmm){K[4]=Math.round(D.Gmm.v*100)}return K};
ad.P8=function(u,g){var K=[],X=0;for(var P=0;P<4;P++)K.push(ad.Bi(g,P));while(K.length<29)K.push([0,255,0,255,100]);
u._s(0,2+10*29);k.Q$(u.data,X,2);X+=2;for(var P=0;P<29;P++){var w=K[P];for(var D=0;D<5;D++)k.Q$(u.data,X+P*10+D*2,w[D])}X+=29*10;
if(K.length==29)return X;u._s(X,8+10*(K.length-29));k.Gs(u.data,X,"Lvls");X+=4;k.Q$(u.data,X,3);X+=2;
k.Q$(u.data,X,K.length);X+=2;var q=K.length-29;for(var P=0;P<q;P++){var w=K[29+P];for(var D=0;D<5;D++)k.Q$(u.data,X+P*10+D*2,w[D])}X+=10*q;
return X};function jk(){}jk.h7=function(u){var g=new Uint8Array(u),K=2,X={_0:[],Ui:[]},w=k.u6(g,K,4);
K+=4;var D=k.Z_(g,K);K+=2;var q=k.r(g,K);K+=4;X._0=br.sG(g,K,q);K+=q;var C=k.r(g,K);K+=4;for(var P=0;
P<C;P++){var a=k.r(g,K);K+=4;var x=K,H={JJ:{},lF:{}};X.Ui.push(H);K+=4;K+=bZ.iQ(g,H.JJ,K);K+=4;K+=bZ.iQ(g,H.lF,K);
K=x+a;var $=H.lF.blendOptions,r=H.lF.Lefx;if($&&Object.keys($.v).length>1){}if(r){if(r.v.masterFXSwitch==null)r.v.masterFXSwitch={t:"bool",v:!0};
aG.cE(r.v)}}return X};jk.Wl=function(u,g){u.JJ.Nm.v=g};jk.P8=function(u){var g=new jx,K=0;k.ss(g,K,2);
K+=2;k.Xp(g,K,"8BSL");K+=4;k.ss(g,K,3);K+=2;var X=K;K+=4;K=br.Ks(g,K,u._0);k.q2(g,X,K-X-4);var w=u.Ui.length;
k.q2(g,K,w);K+=4;for(var P=0;P<w;P++){K+=4;var D=K,q=u.Ui[P];k.q2(g,K,16);K+=4;K+=bZ.l4(g,q.JJ,K);var C=q.lF.Lefx;
if(C){q.lF.Lefx=JSON.parse(JSON.stringify(C));aG.Im(q.lF.Lefx.v)}k.q2(g,K,16);K+=4;K+=bZ.l4(g,q.lF,K);
if(C)q.lF.Lefx=C;k.q2(g,D-4,K-D)}return g.data.slice(0,K).buffer};function hr(){}hr.TK=function(u,g,K){var X=k.Z_(u,g);
g+=2;var w={};w.Zh=k.Z_(u,g)==1;g+=2;w.nz=[];for(var P=0;P<10;P++){var D=[];w.nz.push(D);for(var q=0;
q<4;q++)D.push(k.ST(u,g+q*2));g+=8}var C=dJ.mt("selc");C.Mthd.v.CrcM=w.Zh?"Absl":"Rltv";for(var P=1;
P<10;P++)hr.mu(C,P-1,w.nz[P]);return C};hr.bi="Rds Ylws Grns Cyns Bls Mgnt Whts Ntrl Blks".split(" ");
hr.h$=function(u,P){var g=["Cmps","Rd","Grn","Bl"],K={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:g[P]}}]};
return{classID:u,Chnl:K}};hr.hb=function(u,g){var K=hr.bi;for(var P=0;P<u.length;P++){var X=u[P].v,w=K.indexOf(X.Clrs.v.Clrs);
if(w==g)return P}return-1};hr.mu=function(u,g,K){var X=["Cyn","Mgnt","Ylw","Blck"],w={classID:"ClrC",Clrs:{t:"enum",v:{Clrs:hr.bi[g]}}};
for(var D=0;D<4;D++)w[X[D]]={t:"UntF",v:{type:"#Prc",val:K[D]}};w={t:"Objc",v:w};var q=u.ClrC.v,C=hr.hb(q,g);
if(C==-1)q.push(w);else q[C]=w};hr.Bi=function(u,g){var K=[0,0,0,0],X=u.ClrC.v,w=hr.hb(X,g);if(w==-1)return K;
var D=["Cyn","Mgnt","Ylw","Blck"];for(var P=0;P<4;P++)if(X[w].v[D[P]])K[P]=X[w].v[D[P]].v.val;return K};
hr.e3=function(u,g,K){var X={Zh:K.Mthd.v.CrcM=="Absl",nz:[[0,0,0,0]]};for(var P=0;P<9;P++)X.nz.push(hr.Bi(K,P));
u._s(g,84);k.Q$(u.data,g,1);g+=2;k.Q$(u.data,g,X.Zh?1:0);g+=2;for(var P=0;P<10;P++){var w=X.nz[P];for(var D=0;
D<4;D++)k.hS(u.data,g+D*2,w[D]);g+=8}return 84};function jr(){}jr.mt=function(){return{Au:new dS(0,0,50,50),JJ:"",VW:"play",_:f.J.eQ.ve([.1,.1,.9,.5,.1,.9],0)}};
jr.h7=function(u){u=new Uint8Array(u);var g=0,K=[],X=Date.now(),w=k.u6(u,0,4);g+=4;var D=k.r(u,g);g+=4;
var q=k.r(u,g);g+=4;for(var P=0;P<q;P++){var C=k.o$(u,g);g+=C.length*2+4+2;if((C.length&1)==0)g+=2;g=jr.Ay(u,g,C,K)}return K};
jr.Ay=function(u,g,K,X){var w=k.r(u,g);g+=4;var D=k.r(u,g);g+=4;var q=g,C=k.Ni(u,q).Jj;q+=C.length+1;
var a=k.QL(u,q);q+=16;var x=jr.Jh(u,q,D-(q-g)),H=f.J.oP(x),$=f.p.pj(H),r=1/$.m,c=1/$.n;f.J.Cg(x,new eV(r,0,0,c,-$.x*r,-$.y*c));
X.push({VW:K,JJ:C,_:x,Au:a});g+=D;return g};jr.Wl=function(u,g){u.VW=g};jr.P8=function(u){var g=new jx,K=0;
k.Xp(g,K,"cush");K+=4;k.q2(g,K,2);K+=4;k.q2(g,K,u.length);K+=4;for(var P=0;P<u.length;P++){var X=u[P],w=X.VW+"\0";
k.Tf(g,K,w);K+=4+w.length*2;if((w.length&1)==1)K+=2;k.q2(g,K,1);K+=4;K+=4;var D=K;k.wh(g,K,X.JJ);K+=X.JJ.length+1;
k.Fp(g,K,X.Au);K+=16;g._s(K,X._.length*26);jr.tT(g.data,K,X._,1,1);K+=X._.length*26;var q=K-D;if((q&3)!=0)q+=4-(q&3);
k.q2(g,D-4,q);K=D+q}return g.data.slice(0,K).buffer};jr.a0U=function(u){var g=[];for(var P=0;P<u.length;
P++){var K=u[P],X=K.type,w={type:X};g.push(w);if(X==6){}else if(X==8)w.all=K.all;else if(X==0||X==3){w.length=K.length;
w.frule=K.yk;w.third=K.VB;w.prmA=K.MO;w.prmB=K.TY}else{w.c=[K.Rw.x,K.Rw.y,K.G.x,K.G.y,K.CL.x,K.CL.y]}}return g};
jr.Cb=function(u){var g=[];for(var P=0;P<u.length;P++){var K=u[P],X=K.type,w={type:X};g.push(w);if(X==6){}else if(X==8)w.all=K.all;
else if(X==0||X==3){w.length=K.length;w.yk=K.frule;w.VB=K.third;w.MO=K.prmA;w.TY=K.prmB}else{var D=K.c;
w.Rw=new j4(D[0],D[1]);w.G=new j4(D[2],D[3]);w.CL=new j4(D[4],D[5])}}return g};jr.Jh=function(u,g,K,X,w){if(X==null)X=1;
if(w==null)w=1;function D(O,A,m){var i=k.a6U(O,A)*m,e=Math.round(i);return Math.abs(i-e)<1e-6?e:i}var q=k.ST,C=[],a=Math.floor(K/26);
for(var P=0;P<a;P++){var x=g+P*26,H={},$=0;C.push(H);H.type=q(u,x);x+=2;if(H.type==6){$=24}if(H.type==8){H.all=q(u,x);
x+=2;$=22}if(H.type==0||H.type==3){H.length=q(u,x);x+=2;H.yk=q(u,x);x+=2;H.VB=q(u,x);x+=2;H.MO=k.r(u,x);
x+=4;H.TY=k.r(u,x);x+=4;$=10}if(H.type==1||H.type==2||H.type==4||H.type==5){var r,c;c=D(u,x,w);x+=4;
r=D(u,x,X);x+=4;H.Rw=new j4(r,c);c=D(u,x,w);x+=4;r=D(u,x,X);x+=4;H.G=new j4(r,c);c=D(u,x,w);x+=4;r=D(u,x,X);
x+=4;H.CL=new j4(r,c);$=0}for(var U=0;U<$;U++)if(u[x+U]!=0){console.log("Unexpected non-zero byte!",H,U,u[x+U])}}return C};
jr.tT=function(u,g,K,X,w){var D=k.hS,q=k.rZ,C=K.length;for(var P=0;P<C;P++){var a=g+P*26,x=K[P];D(u,a,x.type);
a+=2;if(x.type==6){}if(x.type==8)D(u,a,x.all);if(x.type==0||x.type==3){D(u,a,x.length);a+=2;D(u,a,x.yk);
a+=2;D(u,a,x.VB);a+=2}if(x.type==1||x.type==2||x.type==4||x.type==5){q(u,a,x.Rw.y/w);a+=4;q(u,a,x.Rw.x/X);
a+=4;q(u,a,x.G.y/w);a+=4;q(u,a,x.G.x/X);a+=4;q(u,a,x.CL.y/w);a+=4;q(u,a,x.CL.x/X);a+=4}}};function fb(){}fb.h7=function(u){var g=new Uint8Array(u),K=[],X=0;
X=fb.U_(g,X,K);if(X+3<g.length){K=[];X=fb.U_(g,X,K)}return K};fb.U_=function(u,g,K){var X=k.Z_,w=k.ST,D=X(u,g);
g+=2;var q=X(u,g);g+=2;for(var P=0;P<q;P++){var C=fb.$_(u,g);g+=10;if(D==2){C.Sm=k.o$(u,g);g+=4+C.Sm.length*2+2}K.push(C)}return g};
fb.$_=function(u,g){var K=k.Z_,X=k.ST,w=K(u,g),c=null;g+=2;var D=K(u,g);g+=2;var q=K(u,g);g+=2;var C=K(u,g);
g+=2;var a=K(u,g);g+=2;var x=1/65535,H=255/65535,$=100/65535,r=255/1e4;if(w==0)c={w:D*H,A:q*H,U:C*H};
else if(w==1){c=f.iF(D*x,q*x,C*x);c.w*=255;c.A*=255;c.U*=255}else if(w==2)c=f.X.Ld({classID:"CMYC",Cyn:{t:"doub",v:100-D*$},Mgnt:{t:"doub",v:100-q*$},Ylw:{t:"doub",v:100-C*$},Blck:{t:"doub",v:100-a*$}});
else if(w==7){var U=f.PH(D/100,X(u,g-6)/100,X(u,g-4)/100);c=U}else if(w==8){c={w:255-D*r,A:255-q*r,U:255-C*r}}else throw"e "+w+", ";
return c};fb.P8=function(u){var g=new jx,K=0,X=k.ss;X(g,K,2);K+=2;X(g,K,u.length);K+=2;for(var P=0;P<u.length;
P++){var w=u[P];g._s(K,10);fb.Hi(g.data,K,w);K+=10;var D=(w.Sm?w.Sm:"")+"\0";k.Tf(g,K,D);K+=4+D.length*2}return g.data.slice(0,K).buffer};
fb.Wl=function(u,g){u.Sm=g};fb.Hi=function(u,g,K){var X=65535/255,w=k.Q$;w(u,g,0);w(u,g+2,Math.round(K.w*X));
w(u,g+4,Math.round(K.A*X));w(u,g+6,Math.round(K.U*X));w(u,g+8,0)};function ak(){}ak.h7=function(u){var g=new Uint8Array(u),K=4,X={};
X.Uz=k.o$(g,K);K+=4+X.Uz.length*2+2;X.exp=g[K++]==1;X.Aj=[];var w=k.r(g,K);K+=4;for(var P=0;P<w;P++){var D={};
X.Aj.push(D);D.Mw=k.Z_(g,K);K+=2;D.shift=g[K++]==1;D.a0m=g[K++]==1;D.color=k.Z_(g,K);K+=2;D.Uz=k.o$(g,K);
K+=4+D.Uz.length*2+2;D.exp=g[K++]==1;D.Aj=[];var q=k.r(g,K);K+=4;for(var C=0;C<q;C++){var a={};D.Aj.push(a);
a.exp=g[K++]==1;a.K=g[K++]==1;a.a6s=g[K++]==1;a.avf=g[K++];var x=k.u6(g,K,4);K+=4;if(x=="TEXT"){a.$T=ak.JM(g,K);
K+=4+a.$T.length}else if(x=="long"){a.$T=k.u6(g,K,4);K+=4}else throw"e";a.dZ=ak.JM(g,K);K+=4+a.dZ.length;
var H=k.vr(g,K);K+=4;if(H==-1){a.NA={};var $=bZ.iQ(g,a.NA,K);K+=$}}}console.log(X);var r=new Uint8Array(ak.P8(X));
for(var P=0;P<r.length;P++)if(r[P]!=g[P]&&k.u6(g,P+1,4)!="None"){console.log(g.length,r.length);var c=4*(P>>>2)-16;
console.log(k.fD(g,c,64));console.log(k.fD(r,c,64));console.log(g.slice(c,c+64));console.log(r.slice(c,c+64));
throw"i"}return[X]};ak.JM=function(u,g){var K=k.r(u,g);return k.u6(u,g+4,K)};ak.S4=function(u,g,K){k.q2(u,g,K.length);
k.Xp(u,g+4,K)};ak.P8=function(u){var g=new jx,K=0;k.q2(g,K,16);K+=4;k.Tf(g,K,u.Uz+"\0");K+=4+u.Uz.length*2+2;
g._s(K,1);g.data[K++]=u.exp?1:0;var X=u.Aj.length;k.q2(g,K,X);K+=4;for(var P=0;P<X;P++){var w=u.Aj[P];
k.ss(g,K,w.Mw);K+=2;g._s(K,2);g.data[K++]=w.shift?1:0;g.data[K++]=w.a0m?1:0;k.ss(g,K,w.color);K+=2;k.Tf(g,K,w.Uz+"\0");
K+=4+w.Uz.length*2+2;g._s(K,1);g.data[K++]=w.exp?1:0;var D=w.Aj.length;k.q2(g,K,D);K+=4;for(var q=0;
q<D;q++){var C=w.Aj[q];g._s(K,4);g.data[K++]=C.exp?1:0;g.data[K++]=C.K?1:0;g.data[K++]=C.a6s?1:0;g.data[K++]=C.avf;
var a="LqFy Avrg GEfc PbPl Fbrs Bokh LnCr".split(" ").indexOf(C.$T)!=-1;k.Xp(g,K,a?"long":"TEXT");K+=4;
if(!a){ak.S4(g,K,C.$T);K+=4+C.$T.length}else{k.Xp(g,K,C.$T);K+=4}ak.S4(g,K,C.dZ);K+=4+C.dZ.length;k.XZ(g,K,C.NA?-1:0);
K+=4;if(C.NA){var x=bZ.l4(g,C.NA,K);K+=x}}}return g.data.slice(0,K).buffer};function ix(){}ix.h7=function(u){var g=new Uint8Array(u),K=0,X=k.r(g,K),a;
K+=4;var w=k.u6(g,K,8);K+=8;var D=k.yY(g,K);K+=4;var q=k.yY(g,K);K+=4;var C=k.yY(g,K);K+=4;if(X==2){a=new Float32Array(u,32,u.byteLength-32>>>2)}else if(X==3||X==4){a=new Float32Array(q*C*2);
var x=0,H=0,$=!0;K=X==3?32:16+8+40;while(K<g.length){var r=k.yY(g,K);K+=4;if($)H+=r;else{for(var P=0;
P<r;P++){a[x+H+P<<1]=k.zV(g,K);a[(x+H+P<<1)+1]=k.zV(g,K+4);K+=8}H+=r}$=!$;if(r!=0&&H==q){x+=q;H=0;$=!0;
if(x==q*C)break}}}else throw"unknown Mesh version: "+X;return{QM:q,xQ:C,map:a}};ix.hA=function(u){var g=u.QM,K=u.xQ,X=u.map,w=new Uint8Array(32+K*g*8+K*8),D=0,q=0;
k.eB(w,D,3);D+=4;k.Gs(w,D,"yfqLhseM");D+=8;k.fX(w,D,2);D+=4;k.fX(w,D,g);D+=4;k.fX(w,D,K);D+=4;k.fX(w,D,0);
D+=4;k.fX(w,D,1);D+=4;for(var C=0;C<K;C++){k.fX(w,D,0);D+=4;k.fX(w,D,g);D+=4;for(var a=0;a<g;a++){k.rb(w,D,X[q]);
k.rb(w,D+4,X[q+1]);q+=2;D+=8}}return w.buffer};function g3(){}g3.h7=function(u){var g=new Uint8Array(u),K=0,X=k.u6(g,K,4);
K+=4;var w=k.Z_(g,K);K+=2;var D=k.r(g,K);K+=4;var q=[];for(var P=0;P<D;P++){var C=k.r(g,K);K+=4;var a={classID:"ShpC",Nm:{t:"TEXT",v:""},Crv:{t:"VlLs",v:[]}};
q.push(a);var x=k.o$(g,K);a.Nm.v=x;K+=4+x.length*2+2;var H=k.Z_(g,K);K+=2;var $=k.Z_(g,K);K+=2;for(var r=0;
r<$;r++){var c=f.f1.an(0,0,!0);c.v.Vrtc.v=k.Z_(g,K);K+=2;c.v.Hrzn.v=k.Z_(g,K);K+=2;a.Crv.v.push(c)}if(C==1){}else if(C==2){for(var r=0;
r<$;r++){a.Crv.v[r].v.Cnty.v=g[K]==1;K+=1}}else throw"error";var U=k.r(g,K);K+=4;var O=k.r(g,K);K+=4}return q};
g3.Wl=function(u,g){u.Nm.v=g};g3.P8=function(u){var g=new jx,K=0;k.Xp(g,K,"8BFS");K+=4;k.ss(g,K,1);K+=2;
k.q2(g,K,u.length);K+=4;for(var P=0;P<u.length;P++){k.q2(g,K,2);K+=4;var X=u[P];k.Tf(g,K,X.Nm.v+"\0");
K+=4+X.Nm.v.length*2+2;k.ss(g,K,2);K+=2;var w=X.Crv.v.length;k.ss(g,K,w);K+=2;for(var D=0;D<w;D++){var q=X.Crv.v[D];
k.ss(g,K,q.v.Vrtc.v);K+=2;k.ss(g,K,q.v.Hrzn.v);K+=2}g._s(K,w);for(var D=0;D<w;D++){g.data[K]=X.Crv.v[D].v.Cnty.v;
K++}k.q2(g,K,0);K+=4;k.q2(g,K,0);K+=4}return g.data.slice(0,K).buffer};function br(){}br.h7=function(u){var g=new Uint8Array(u),K=4,X=k.Z_(g,K);
K+=2;var w=k.r(g,K);K+=4;var D=[];for(var P=0;P<w;P++){var q={};D.push(q);K=br.zo(g,K,q)}return D};br.Wl=function(u,g){u.name=g};
br.P8=function(u){var g=new jx,K=0;k.Xp(g,K,"8BPT");K+=4;k.ss(g,K,1);K+=2;k.q2(g,K,u.length);K+=4;for(var P=0;
P<u.length;P++){K=br.oJ(g,K,u[P])}return g.data.slice(0,K).buffer};br.sG=function(u,g,K){var X=g+K,w=[];
while(g<X){var D={},q=k.r(u,g);g+=4;var C=g;g=br.zo(u,g,D);if(!D.e4[1].fg())w.push(D);if(q%4!=0)q+=4-q%4;
g=C+q}return w};br.Ks=function(u,g,K){for(var P=0;P<K.length;P++){var X=K[P];g+=4;var w=g;g=br.oJ(u,g,X);
var D=g-w;k.q2(u,w-4,D);if(D%4!=0)w+=4-D%4;g=w+D}return g};br.zo=function(u,g,K){var X=k.r(u,g);g+=4;
if(X!=1)alert("Unknown version of pattern");var w=k.r(u,g);g+=4;if(w!=1&&w!=2&&w!=3)console.log("Unsupported mode of pattern: "+w);
var D=k.Z_(u,g);g+=2;var q=k.Z_(u,g);g+=2;var C=new dS(0,0,q,D);K.name=k.o$(u,g);g+=4+2*K.name.length+2;
var a=u[g];g++;K.id=k.u6(u,g,a);g+=K.id.length;var x=-1;if(w==2){x=g;g+=3*256+4}var H=new f.bs(q*D);
g=br.abe(u,g,H);if(w==2){for(var P=0;P<H.w.length;P++){var $=3*H.w[P];H.w[P]=u[x+$+0];H.A[P]=u[x+$+1];
H.U[P]=u[x+$+2]}}var r=f.L(C.$()*4);f.UP(H,r);K.e4=[r,C];return g};br.oJ=function(u,g,K){var X=K.e4[0],w=K.e4[1];
k.q2(u,g,1);g+=4;k.q2(u,g,3);g+=4;k.ss(u,g,w.n);g+=2;k.ss(u,g,w.m);g+=2;k.Tf(u,g,K.name+"\0");g+=4+2*K.name.length+2;
k.iG(u,g,K.id.length);g++;k.Xp(u,g,K.id);g+=K.id.length;var D=new f.bs(w.$());f.Jw(X,D);g=br.a9Q(u,g,D,w);
return g};br.abe=function(u,g,K){var X=g,w={mf:null,PK:[],adB:null,ZF:null},D=k.r(u,g);g+=4;var q=k.r(u,g);
g+=4;w.mf=k.QL(u,g);g+=16;var C=k.r(u,g);g+=4;for(var P=0;P<C+2;P++){var a=k.r(u,g);g+=4;if(a==0)continue;
var x=k.r(u,g);g+=4;if(x==0)continue;var H=k.r(u,g);g+=4;var $=k.QL(u,g);g+=16;var r=k.Z_(u,g);g+=2;
var c=u[g];g++;var U=i$.SN(!1,H,u,$.m,$.n,g,c);if(P<C)w.PK.push(U);if(P==C)w.adB=U;if(P==C+1)w.ZF=U;
g+=x-23}if(!w.mf.fg()){if(w.PK[0])K.w=w.PK[0];if(w.PK[1])K.A=w.PK[1];else K.A=w.PK[0].slice(0);if(w.PK[2])K.U=w.PK[2];
else K.U=w.PK[0].slice(0);if(w.ZF)K._x=w.ZF;else K._x.fill(255)}return g};br.a9Q=function(u,g,K,X){var w=g,D={mf:X,PK:[K.w,K.A,K.U],adB:null,ZF:K._x};
k.q2(u,g,3);g+=4;k.q2(u,g,0);g+=4;k.Fp(u,g,X);g+=16;k.q2(u,g,24);g+=4;for(var P=0;P<24+2;P++){var q=g,C=P<3||P==25?1:0;
k.q2(u,g,C);g+=4;if(C==0)continue;k.q2(u,g,0);g+=4;k.q2(u,g,8);g+=4;k.Fp(u,g,X);g+=16;k.ss(u,g,8);g+=2;
k.iG(u,g,1,1);g++;var a=P<3?D.PK[P]:D.ZF;u._s(g,X.$()+2);g=i$.p3(!1,a,u.data,X.m,X.n,g,1);k.q2(u,q+4,g-q-8)}k.q2(u,w+4,g-w-8);
return g};function aE(){}aE.h7=function(u){var g=new Uint8Array(u),K=0;if(g[0]==71)return aE.a8e(g);
var X=k.u6(g,K,4);K+=4;var w=k.Z_(g,K);K+=2;var D=[];if(w<=3){var q=k.Z_(g,K);K+=2;for(var P=0;P<q;P++){var C=g[K++],a=k.u6(g,K,C);
K+=C;var x=aE._z(g,K,a),H=x[0];K=x[1];D.push(H)}}else{var x={},$=bZ.iQ(g,x,K+4),r=x.GrdL.v;for(var P=0;
P<r.length;P++)D[P]=r[P].v.Grad.v}return D};aE.Wl=function(u,g){u.Nm.v=g};aE.P8=function(u){var g=new jx,K=0;
k.Xp(g,K,"8BGR");K+=4;k.ss(g,K,5);K+=2;k.q2(g,K,16);K+=4;var X={classID:"null",GrdL:{t:"VlLs",v:[]}},w=X.GrdL.v;
for(var P=0;P<u.length;P++)w[P]={t:"Objc",v:{classID:"Grdn",__name:"Gradient ",Grad:{t:"Objc",v:u[P]}}};
K+=bZ.l4(g,X,K);return g.data.slice(0,K).buffer};aE._z=function(u,g,K){var X={classID:"Grdn",Clrs:{t:"VlLs",v:[]},GrdF:{t:"enum",v:{GrdF:"CstS"}},Intr:{t:"doub",v:4096},Nm:{t:"TEXT",v:K},Trns:{t:"VlLs",v:[]}},w=k.Z_(u,g);
g+=2;if(w==0)throw"e";for(var P=0;P<w;P++){var D=k.r(u,g),q=k.r(u,g+4),C=fb.$_(u,g+8),a={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:C.w},Grn:{t:"doub",v:C.A},Bl:{t:"doub",v:C.U}}},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:D},Mdpn:{t:"long",v:q}}};
X.Clrs.v.push(a);g+=20}var x=k.Z_(u,g);g+=2;for(var P=0;P<x;P++){var D=k.r(u,g),q=k.r(u,g+4),H=k.Z_(u,g+8),a={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(100*H/255)}},Lctn:{t:"long",v:D},Mdpn:{t:"long",v:q}}};
X.Trns.v.push(a);g+=10}var $=k.Z_(u,g);g+=2;if($!=2)throw $;X.Intr.v=k.Z_(u,g);g+=2;var r=k.Z_(u,g);
g+=2;if(r!=32)throw"e";return[X,g]};aE.a9i=function(u,g,K){var X=K.Clrs.v.length;k.ss(u,g,X);g+=2;for(var P=0;
P<X;P++){var w=K.Clrs.v[P];k.q2(u,g,w.v.Lctn.v);k.q2(u,g+4,w.v.Mdpn.v);k.ss(u,g+8,0);var D=f.X.Gp(f.X.Ld(w.v.Clr.v)),q=[D.Rd.v,D.Grn.v,D.Bl.v,0];
for(var C=0;C<4;C++)k.ss(u,g+10+C*2,Math.round(65535*(q[C]/255)));g+=20}var a=K.Trns.v.length;k.ss(u,g,a);
g+=2;for(var P=0;P<a;P++){var w=K.Trns.v[P];k.q2(u,g,w.v.Lctn.v);k.q2(u,g+4,w.v.Mdpn.v);k.ss(u,g+8,Math.round(255*w.v.Opct.v.val/100));
g+=10}k.ss(u,g,2);g+=2;k.ss(u,g,K.Intr.v);g+=2;k.ss(u,g,32);g+=2;return g};aE.a8e=function(u){var g=k.KO(u,0,u.length).split("\n"),K=parseFloat(g[2]),X=[],w=JSON.parse(k8.QO[k8.order.indexOf("GrFl")]).Grad.v;
w.Intr.v=0;w.Nm.v=g[1];for(var P=0;P<K;P++){var D=g[3+P].split(" ").map(parseFloat),q=D[11],C=D[12];
X.push([D[0],D.slice(3,6),D[6]]);if(C!=0){var a=f.UD(D[3],D[4],D[5]),x=f.UD(D[7],D[8],D[9]),H=a.xQ,$=x.xQ;
if(C==1&&H>$)$++;if(C==2&&H<$)H++;var r=Math.round(Math.abs($-H)*7);if(r>1)for(var c=0;c<r;c++){var U=1-(c+1)/(r+1),O=1-U,A=f.iF(U*H+O*$,U*a.C9+O*x.C9,U*a.jp+O*x.jp);
X.push([U*D[0]+O*D[2],[A.w,A.A,A.U],U*D[6]+O*D[10]])}}X.push([D[2],D.slice(7,10),D[10]])}X.sort(function(m,i){return m[0]-i[0]});
f.X.Ah(X,w);return[w]};function eN(){}eN.h7=function(u){var g=new Uint8Array(u),K=[],X=[],w=[],D=[],q=[],C=0,a=k.u6(g,C,4);
C+=4;var x=k.r(g,C);C+=4;var H=k.r(g,C);C+=4;while(C<g.length){var $=k.u6(g,C,4);C+=4;var r=k.u6(g,C,4);
C+=4;var c=k.r(g,C);C+=4;if(r=="tppa"){X=br.sG(g,C,c);C+=c}else if(r=="tpbd"){w=i3.ys(g,C,c,1,1);C+=c}else if(r=="tptp"){var U=k.r(g,C);
C+=4;for(var P=0;P<U;P++){var O=k.o$(g,C);C+=6+O.length*2;C+=4;var A={};C+=bZ.iQ(g,A,C);K.push([O,A])}while((C&3)!=0)C++}else if(r=="tpsh"){var m=C,i=g.slice(C,C+c);
while(C<m+c){var e=k.r(g,C);C+=4;C=jr.Ay(g,C,"Shape",D)}C=m+c}else if(r=="tpst"){var m=C;C+=4;while(C<m+c){var S=k.r(g,C);
C+=4;var E=C,Z=k.r(g,C);C+=4;var A={JJ:{},lF:{}};q.push(A);C+=4;C+=bZ.iQ(g,A.JJ,C);C+=4;C+=bZ.iQ(g,A.lF,C);
C=E+S;var N=A.lF.Lefx;if(N){if(N.v.masterFXSwitch==null)N.v.masterFXSwitch={t:"bool",v:!0};aG.cE(N.v)}}C=m+c}else{console.log(g.slice(C-8,C+64));
console.log(k.u6(g,C-8,64));throw r}}return{Ft:w,oY:X,list:K,at2:D,Ui:q}};eN.Wl=function(u,g){u[0]=g};
eN.P8=function(u){var g=new jx,K=0;k.Xp(g,K,"8BTP");K+=4;k.q2(g,K,3);K+=4;k.q2(g,K,1);K+=4;var X=[u.oY,u.Ft,u.list];
for(var P=0;P<3;P++){if(X[P].length==0)continue;k.Xp(g,K,"8BIM");K+=4;var w=["tppa","tpbd","tptp"][P];
k.Xp(g,K,w);K+=4;var D=K;K+=4;if(w=="tppa"){K=br.Ks(g,K,u.oY)}else if(w=="tpbd"){K=i3.I$(g,K,u.Ft)}else if(w=="tptp"){k.q2(g,K,u.list.length);
K+=4;for(var q=0;q<u.list.length;q++){var C=u.list[q];k.Tf(g,K,C[0]+"\0");K+=6+C[0].length*2;k.q2(g,K,16);
K+=4;K+=bZ.l4(g,C[1],K)}}k.q2(g,D,K-D-4);while((K&3)!=0)K++;g._s(K,0)}return g.data.slice(0,K).buffer};
function bs(){}bs.h7=function(u,g){var K=new Uint8Array(u),X;if(k.r(K,0)==K.length)X="icc";else if(K[0]=="<".charCodeAt(0))X="look";
else if(k.BK(K,"LUT_3D_SIZE")!=-1)X="cube";else X="3DL";if(X!="icc"){var w=bs.agX(K,X),D=bs.a6A(w[0],w[1]);
K=D}var q=[];for(var P=0;P<K.length;P++)q.push(K[P]);return[{classID:"null",Dthr:{t:"bool",v:!0},Nm:{t:"TEXT",v:g?g:"file.icc"},lookupType:{t:"enum",v:{colorLookupType:"abstractProfile"}},profile:{t:"tdta",v:q}}]};
bs.P8=function(u){var g=u[0],K=new Uint8Array(g.profile.v);return K.buffer};bs.Wl=function(u,g){u.Nm.v=g};
bs.a6A=function(u,g){var K=new jx,X=128;K._s(0,128);var w=[0,0,14,204,65,68,66,69,4,0,0,0,108,105,110,107,82,71,66,32,82,71,66,32,7,227,0,7,0,27,0,8,0,6,0,49,97,99,115,112,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,246,214,0,1,0,0,0,0,211,45,65,68,66,69,219,126,245,21,206,223,186,23,165,212,201,219,250,10,33,62];
for(var P=0;P<w.length;P++)K.data[P]=w[P];var D=["desc","A2B0"],q=D.length,C=128+4+q*12;k.q2(K,X,q);
X+=4;for(var a=0;a<q;a++){var x=D[a];k.Xp(K,X,x);X+=4;k.q2(K,X,C);X+=4;var H=C;if(x=="desc"){k.Xp(K,H,"mluc");
H+=4;H+=4;k.q2(K,H,1);H+=4;k.q2(K,H,12);H+=4;k.Xp(K,H,"enUS");H+=4;var $="ICC by Photopea\0",r=$.length*2+2;
k.q2(K,H,r);H+=4;k.q2(K,H,28);H+=4;K._s(H,r);for(var P=0;P<$.length;P++)K.data[H+P*2+1]=$.charCodeAt(P);
H+=r}if(x=="A2B0"){k.Xp(K,H,"mAB ");H+=4;H+=4;K._s(H,4);K.data[H]=3;K.data[H+1]=3;H+=4;K._s(H,4*5);H+=4*3;
k.q2(K,H,H+8-C);H+=4;H+=4;K._s(H,20);K.data[H]=u;K.data[H+1]=u;K.data[H+2]=u;H+=16;K.data[H]=2;H+=4;
var c=u*u*u*3;K._s(H,c*2);for(var P=0;P<c;P++)k.Q$(K.data,H+P*2,Math.max(0,Math.min(65535,Math.round(g[P]*65535))));
H+=c*2}var U=H-C;while((U&3)!=0)U++;k.q2(K,X,U);X+=4;C+=U}k.q2(K,0,C);return K.data.slice(0,C)};bs.agX=function(u,g){g="LUTFormat"+g.toUpperCase();
var K=[],X=0,w=k.KO(u,0,u.length),D="";for(var P=0;P<u.length&&D=="";P++){if(u[P]==10)D="\n";else if(u[P]==13){D="\r";
if(u[P+1]==10)D+="\n"}}if(g=="LUTFormatCUBE"){var q=w.split(D);for(var P=0;P<q.length;P++){if(q[P]==""||q[P][0]=="#")continue;
var C=q[P].split(" "),a=C[0];if(a=="LUT_3D_SIZE"){X=parseInt(C[1]);continue}if(["TITLE","DOMAIN_MIN","DOMAIN_MAX"].indexOf(a)!=-1)continue;
K.push(parseFloat(C[0]),parseFloat(C[1]),parseFloat(C[2]))}K=bs.n2(X,K)}else if(g=="LUTFormat3DL"){var q=w.split(D),x=1/4095;
for(var P=0;P<q.length;P++){var H=q[P];if(H==""||H=="3DMESH"||H.startsWith("Mesh")||H[0]=="#")continue;
var C=H.split(" "),a=C[0];if(X==0){X=C.length;continue}K.push(parseFloat(C[0])*x,parseFloat(C[1])*x,parseFloat(C[2])*x)}}else if(g=="LUTFormatLOOK"){var $=new DOMParser,r=$.parseFromString(w,"text/xml"),c=r.getElementsByTagName("LUT")[0],U=c.children[0].textContent;
X=parseInt(JSON.parse(U));var O=c.children[1].textContent;O=O.replace(/"/g,"").replace(/\s/g,"");var A=3*X*X*X,m=A*4,i=new Uint8Array(m);for(var P=0;P<m;P++){var e=O.charCodeAt(P*2),S=O.charCodeAt(P*2+1),E=e<58?e-48:e-55,Z=S<58?S-48:S-55;i[P]=(E<<4)+Z}for(var P=0;P<A;P++)K.push(k.zV(i,P<<2));K=bs.n2(X,K)}else throw g;return[X,K]};bs.at4=function(u,g,K){var X=["#Created by www.Photopea.com","TITLE \""+K+"\"","","#LUT size","LUT_3D_SIZE "+g,"","#data domain","DOMAIN_MIN 0.0 0.0 0.0","DOMAIN_MAX 1.0 1.0 1.0","","#LUT data points"],w=6;
for(var P=0;P<u.length;P+=3){X.push(u[P].toFixed(w)+" "+u[P+1].toFixed(w)+" "+u[P+2].toFixed(w))}X.push("");
return k.o0(X.join("\n")).buffer};bs.n2=function(u,g){var K=[],X=u*u*u;for(var P=0;P<X;P++)K.push(0,0,0);
for(var w=0;w<u;w++)for(var D=0;D<u;D++)for(var q=0;q<u;q++){var P=3*(q+D*u+w*u*u),C=3*(w+D*u+q*u*u);
K[C]=g[P];K[C+1]=g[P+1];K[C+2]=g[P+2]}return K};function bZ(){}bZ.iQ=function(u,g,K,X,w){var D=K,q;if(w==null)w=0;
var C=k.r(u,K);if(C==0){q="";K+=4}else{q=k.o$(u,K);K+=4+2*q.length+2}if(q!="")g.__name=q;g.classID=bZ.J7(u,K);
if(X)console.log("\t".repeat(w),"- reading descriptor",g.classID,K);K+=bZ.xr(u,K);var a=k.vr(u,K);K+=4;
for(var P=0;P<a;P++){var x=bZ.J7(u,K);K+=bZ.xr(u,K);var H=bZ.zp(u,K,X,w);g[x]=H;K+=H.size;delete H.size}return K-D};
bZ.l4=function(u,g,K,X){var w=K,D=g.__name;if(D==null)D="";D+="\0";k.Tf(u,K,D);K+=4+2*D.length;bZ.Nd(u,K,g.classID);
K+=bZ.xr(u.data,K);k.XZ(u,K,Object.keys(g).length-1-(g.__name==null?0:1));K+=4;for(var q in g){if(q=="classID")continue;
if(q=="__name")continue;bZ.Nd(u,K,q);K+=bZ.xr(u.data,K);K+=bZ.XW(u,K,g[q])}return K-w};bZ.zp=function(u,g,K,X){var w=g,D=k.u6(u,g,4);
g+=4;var q={size:0,t:D,v:null};if(K)console.log("\t".repeat(X),"reading key",D,w);switch(D){case"obj ":case"VlLs":q.v=[];
var C=k.r(u,g);g+=4;for(var P=0;P<C;P++){var a=bZ.zp(u,g,K,X+1);g+=a.size;delete a.size;q.v.push(a)}break;
case"UntF":q.v={type:k.u6(u,g,4),val:k.Qa(u,g+4)};g+=12;break;case"doub":q.v=k.Qa(u,g);g+=8;break;case"bool":q.v=u[g]==1;
g+=1;break;case"long":q.v=k.vr(u,g);g+=4;break;case"comp":q.v=k.vr(u,g+4);g+=8;break;case"Objc":q.v={};
var x=bZ.iQ(u,q.v,g,K,X+1);g+=x;break;case"TEXT":var H=k.r(u,g);if(H==0){q.v="";g+=4}else{q.v=k.o$(u,g);
g+=4+q.v.length*2+2}break;case"enum":var $=bZ.J7(u,g);g+=bZ.xr(u,g);var r=bZ.J7(u,g);g+=bZ.xr(u,g);q.v={};
q.v[$]=r;break;case"tdta":var c=k.vr(u,g);g+=4;q.v=[];for(var P=0;P<c;P++)q.v.push(u[g+P]);g+=c;break;
case"ObAr":var U=k.r(u,g);g+=4;var O=k.o$(u,g);g+=4+2*O.length+2;if(O!="")throw O;var A=bZ.J7(u,g);g+=4+Math.max(4,A.length);
q.v={classID:A,arr:[]};var m=k.r(u,g);g+=4;for(var P=0;P<m;P++){var A=bZ.J7(u,g);g+=4+Math.max(4,A.length);
var $=k.u6(u,g,4);g+=4;var i=k.u6(u,g,4);g+=4;var e={id:A,type:$,uID:i,arr:[]};q.v.arr.push(e);var S=k.r(u,g,4);
g+=4;for(var E=0;E<S;E++){var Z=k.Qa(u,g);g+=8;e.arr.push(Z)}}break;case"Pth ":var N=g,c=k.r(u,g);g+=4;
var J=k.u6(u,g,4);g+=4;var y=k.yY(u,g);g+=4;var o=k.aaW(u,g);g+=4+o.length*2;q.v={sig:J,pth:o};break;
case"Clss":case"type":case"rele":var o=k.o$(u,g);g+=4+o.length*2+2;var B=bZ.J7(u,g);g+=4+Math.max(4,B.length);
q.v={classID:B};if(o!="")q.v.__name=o;if(D=="rele"){q.v.val=k.vr(u,g);g+=4}break;case"prop":case"Enmr":case"indx":case"name":var t=bZ.YZ[D],o=k.o$(u,g);
g+=4+o.length*2+2;if(o.length!=0){console.log(D,o);throw"e"}q.v={};for(var P=0;P<t.length;P++){var B=bZ.J7(u,g);
g+=4+Math.max(4,B.length);q.v[t[P]]=B}if(D=="name"){var o=k.o$(u,g);g+=4+o.length*2+2;q.v.val=o}if(D=="indx"){q.v.val=k.r(u,g);
g+=4}break;case"alis":var c=k.r(u,g);g+=4;q.v=k.u6(u,g,c);g+=c;break;default:{console.log("unknown oskey: "+D+", "+w);
throw"e";return q}}if(K){console.log("\t".repeat(X),q.v);console.log("\t".repeat(X),"======",g)}q.size=g-w;
return q};bZ.YZ={name:["classID"],prop:["classID","keyID"],Enmr:["classID","typeID","enum"],indx:["classID"]};
bZ.XW=function(u,g,K){var X=g,w=K.t;K=K.v;k.Xp(u,g,w);g+=4;switch(w){case"obj ":case"VlLs":k.XZ(u,g,K.length);
g+=4;for(var D=0;D<K.length;D++){var q=bZ.XW(u,g,K[D]);g+=q}break;case"UntF":k.Xp(u,g,K.type);k.Mz(u,g+4,K.val);
g+=12;break;case"doub":k.Mz(u,g,K);g+=8;break;case"bool":k.iG(u,g,K?1:0,1);g+=1;break;case"long":k.XZ(u,g,K);
g+=4;break;case"comp":k.XZ(u,g+4,K);g+=8;break;case"Objc":var q=bZ.l4(u,K,g);g+=q;break;case"TEXT":k.Tf(u,g,K+"\0");
g+=4+K.length*2+2;break;case"enum":var C=Object.keys(K)[0],a=K[C];bZ.Nd(u,g,C);g+=bZ.xr(u.data,g);bZ.Nd(u,g,a);
g+=bZ.xr(u.data,g);break;case"tdta":k.q2(u,g,K.length);g+=4;k.jj(u,g,K);g+=K.length;break;case"ObAr":k.q2(u,g,K.arr[0].arr.length);
g+=4;k.Tf(u,g,"\0");g+=6;bZ.Nd(u,g,K.classID);g+=4+Math.max(4,K.classID.length);k.q2(u,g,K.arr.length);
g+=4;for(var P=0;P<K.arr.length;P++){var x=K.arr[P];bZ.Nd(u,g,x.id);g+=4+Math.max(4,x.id.length);k.Xp(u,g,x.type);
g+=4;k.Xp(u,g,x.uID);g+=4;k.q2(u,g,x.arr.length);g+=4;for(var D=0;D<x.arr.length;D++){k.Mz(u,g,x.arr[D]);
g+=8}}break;case"Pth ":var H=K.pth.length*2+4+8;k.q2(u,g,H);g+=4;k.Xp(u,g,K.sig);g+=4;k.o3(u,g,H);g+=4;
k.ape(u,g,K.pth);g+=K.pth.length*2+4;break;case"Clss":case"type":case"rele":var $=K.__name;if($==null)$="";
k.Tf(u,g,$+"\0");g+=4+$.length*2+2;var r=K.classID;bZ.Nd(u,g,r);g+=4+Math.max(4,r.length);if(w=="rele"){k.XZ(u,g,K.val);
g+=4}break;case"prop":case"Enmr":case"indx":case"name":var c=bZ.YZ[w];k.q2(u,g,1);g+=6;for(var P=0;P<c.length;
P++){var r=K[c[P]];bZ.Nd(u,g,r);g+=4+Math.max(4,r.length)}if(w=="name"){k.Tf(u,g,K.val+"\0");g+=4+K.val.length*2+2}if(w=="indx"){k.q2(u,g,K.val);
g+=4}break;case"alis":var H=K.length;k.q2(u,g,H);g+=4;k.Xp(u,g,K);g+=H;break;default:console.log("unknown oskey: "+w);
g=X;break}return g-X};bZ.J7=function(u,g){var K=k.vr(u,g);if(K>1e3)throw"e";if(K==0)K=4;return k.u6(u,g+4,K).trim()};
bZ.xr=function(u,g){var K=k.vr(u,g);return K==0?8:4+K};bZ.Nd=function(u,g,K){var X="warp list Comp None xx xy yx yy tx ty PinP PnRt PnOv PnDp xor PuX0 PuX1 PuX2 PuX3 PuY0 PuY1 PuY2 PuY3 base kana ruby box flow time trim then else".split(" "),w=4<K.length||X.indexOf(K)!=-1;
k.XZ(u,g,w?K.length:0);k.Xp(u,g+4,K);if(K.length<4&&!w){var D="";for(var P=K.length;P<4;P++)D+=" ";k.Xp(u,g+4+K.length,D)}};
bZ.af0=function(u){var g={};for(var K in u){if(K=="classID")g[K]=u[K];else if(K=="__name")g[K]=u[K];
else g[K]=bZ.BP(u[K])}return g};bZ.BP=function(u){if(u.m7=="Objc")return bZ.af0(u.v);else if(u.m7=="VlLs"){var g=[];
for(var P=0;P<u.v.length;P++)g.push(bZ.BP(u.v[P]));return g}else if(u.m7=="UntF")return u.v.val;else return u.v};
function aG(){}aG.hP=function(u,g,K,X,w,D){while(g<K){var q=k.u6(u,g,4);g+=4;if(q!="8BIM"&&q!="8B64"){console.log("layer information signature error! "+q,"PSB = "+w);
alert("Error in PSD file: wrong signature.");return K}var C=k.u6(u,g,4);g+=4;var a=k.r(u,g);g+=4;var x=w&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd pths".split(" ").indexOf(C)!=-1;
if(x){a=a<<32|k.vr(u,g);g+=4}var H=["lrFX","PlLd"];if(H.indexOf(C)!=-1){if(a%4!=0)a+=4-a%4;g+=a;continue}switch(C){case"iOpa":X[C]=u[g];
break;case"brst":X[C]=[1,1,1];for(var P=0;P<a;P+=4)X[C][k.r(u,g+P)]=0;break;case"knko":X[C]=u[g];break;
case"infx":X[C]=u[g];break;case"clbl":X[C]=u[g];break;case"lmgm":X[C]=u[g];break;case"vmgm":X[C]=u[g];
break;case"fcmy":X[C]=u[g];break;case"lyid":X[C]=k.r(u,g);break;case"lsct":X[C]={type:k.r(u,g)};if(a>=12)X[C].wS=k.u6(u,g+8,4);
break;case"lsdk":X.lsct={type:k.r(u,g)};break;case"lyvr":X[C]=k.r(u,g);break;case"lnsr":var $={artb:1,bgnd:1,cont:1,layr:1,lset:1,rend:1,shap:1,user:1,____:null};
X[C]=k.u6(u,g,4);break;case"lspf":X[C]=k.r(u,g);break;case"lclr":X[C]=k.Z_(u,g);break;case"luni":X[C]=k.Na(u,g);
break;case"fxrp":X[C]=new j4(k.Qa(u,g),k.Qa(u,g+8));break;case"artb":case"artd":X[C]={};bZ.iQ(u,X[C],g+4);
break;case"SoCo":X[C]={};bZ.iQ(u,X[C],g+4);break;case"GdFl":X[C]={};bZ.iQ(u,X[C],g+4);aG.Bq(X[C],C);
break;case"PtFl":X[C]={};bZ.iQ(u,X[C],g+4);aG.Bq(X[C],C);break;case"CgEd":var r=X.brit=dJ.mt("brit"),c={};
bZ.iQ(u,c,g+4);r.Brgh.v=c.Brgh?c.Brgh.v:0;r.Cntr.v=c.Cntr?c.Cntr.v:0;r.useLegacy.v=c.useLegacy?c.useLegacy.v:0;
break;case"brit":if(X.brit==null){var r=X.brit=dJ.mt("brit"),c={};r.Brgh.v=k.ST(u,g);r.Cntr.v=k.ST(u,g+2);
r.useLegacy.v=!1}break;case"levl":var U=u.buffer.slice(g,g+a);X[C]=ad.h7(U);break;case"curv":X[C]=db.TK(u,g,a);
break;case"expA":var O=k.Z_(u,g),A=X[C]=dJ.mt("expA");A.Exps.v=k.$t(u,g+2);A.Ofst.v=k.$t(u,g+6);A.gammaCorrection.v=k.$t(u,g+10);
break;case"vibA":X[C]={};bZ.iQ(u,X[C],g+4);break;case"hue2":X[C]=bV.TK(u,g,a);break;case"blnc":var A=X[C]=dJ.mt(C);
A.PrsL.v=u[g+18]==1;var m=["ShdL","MdtL","HghL"];for(var P=0;P<3;P++)for(var i=0;i<3;i++)A[m[P]].v[i].v=k.ST(u,g+P*6+i*2);
break;case"blwh":var e={};bZ.iQ(u,e,g+4);var A=dJ.mt(C),S="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var P=0;P<S.length;P++){A[S[P]]=e[S[P]];delete e[S[P]]}X[C]=A;break;case"phfl":var A=X[C]=dJ.mt(C),E=A.Clr.v,O=k.Z_(u,g);
if(O==3){var Z=[k.r(u,g+2),k.r(u,g+6),k.r(u,g+10)],N=32768,J=f.Mi(Z[0]/N,Z[1]/N,Z[2]/N);E.Lmnc.v=J.CU;
E.A.v=J._x;E.B.v=J.U}if(O==2){var y=k.Z_(u,g+2);if(y!=7)throw"e";E.Lmnc.v=k.ST(u,g+4)/100;E.A.v=k.ST(u,g+6)/100;
E.B.v=k.ST(u,g+8)/100}var o=g+2+(O==3?12:10);A.Dnst.v=k.r(u,o);o+=4;A.PrsL.v=u[o]==1;break;case"mixr":var B={wl:k.Z_(u,g+2)==1,h:[]};
for(var P=0;P<20;P++)B.h.push(k.ST(u,g+4+P*2));X[C]=jO.a8q(B);break;case"clrL":case"rplc":X[C]={};bZ.iQ(u,X[C],g+6);
break;case"nvrt":X[C]={};break;case"post":X[C]=dJ.mt("post");X[C].Lvls.v=k.Z_(u,g);break;case"thrs":X[C]=dJ.mt("thrs");
X[C].Lvl.v=k.Z_(u,g);break;case"grdm":var t=g,W=u[g+2]==1,F=u[g+3]==1;t+=4;var G=k.u6(u,t,4);if(G=="Perc")t+=4;
var L=k.Na(u,t);t+=4+L.length*2;var Q=aE._z(u,t,L),T=Q[0];t=Q[1];var j=k.Z_(u,t);t+=2;var p=k.r(u,t);
t+=4;var M=k.Z_(u,t)==1;t+=2;var n=k.Z_(u,t)==1;t+=2;var d=k.r(u,t);t+=4;var V=k.Z_(u,t);t+=2;var z=[],I=[];
for(var P=0;P<4;P++){z.push({t:"long",v:~~(k.Z_(u,t+P*2)*100/32768)});I.push({t:"long",v:~~(k.Z_(u,t+P*2+8)*100/32768)})}t+=16;
var v=k.Z_(u,t);t+=2;if(j==1)T={classID:"Grdn",Nm:{t:"TEXT",v:L},GrdF:{t:"enum",v:{GrdF:"ClNs"}},ShTr:{t:"bool",v:M},VctC:{t:"bool",v:n},ClrS:{t:"enum",v:{ClrS:"RGBC"}},RndS:{t:"long",v:p},Smth:{t:"long",v:d},Mnm:{t:"VlLs",v:z},Mxm:{t:"VlLs",v:I}};
var gj=dJ.mt("grdm");gj.Rvrs.v=W;gj.Grad.v=T;X[C]=gj;break;case"selc":X[C]=hr.TK(u,g,a);break;case"vmsk":case"vsms":var jA=X.vmsk=new l.tU,Y=k.vr(u,g+4),jv=(Y>>0&1)==1;
jA.Bo=(Y>>1&1)==0;jA.isEnabled=(Y>>2&1)==0;jA._=jr.Jh(u,g+8,a-8,D.m,D.n);break;case"shmd":X[C]={};var iR=k.r(u,g),o=g+4;
for(var P=0;P<iR;P++){var q=k.u6(u,o,4);o+=4;var cj=k.u6(u,o,4);o+=4;var j8=u[o];o++;if(Math.max(u[o],u[o+1])!=0)throw"e";
o+=3;var as=k.r(u,o);o+=4;if(cj=="cust"||cj=="cmls"||cj=="extn"||cj=="mlst"){var gW=k.r(u,o);if(gW!=16)o+=4;
if(k.r(u,o)==16){var e={};bZ.iQ(u,e,o+4,!1);X[C][cj]=e;if(cj=="cmls")R.ha.a4b(X[C][cj])}}else{console.log("unknown shmd key: "+cj+", size: "+as)}o+=as}break;
case"shpa":var O=k.r(u,g),af=k.r(u,g+4);if(af!=0)console.log("some patterns present!");break;case"TySh":var at=X[C]={},O=k.Z_(u,g);
at.D=k.vs(u,g+2);var jd=k.Z_(u,g+2+48);at.cW={};var fM=bZ.iQ(u,at.cW,g+56),hS=fS.alq();for(var dr in hS)if(at.cW[dr]==null)at.cW[dr]=hS[dr];
at.YU={};var cB=bZ.iQ(u,at.YU,g+56+fM+6);at.kI=k.a9k(u,g+56+fM+6+cB);at.Fd=ju.h7(at.cW.EngineData.v);
fS.a6K(at.Fd.EngineDict.StyleRun.RunArray);if(at.Fd.ResourceDict==null)at.Fd.ResourceDict=JSON.parse(JSON.stringify(at.Fd.DocumentResources));
delete at.cW.EngineData;break;case"lfx2":case"lmfx":case"lfxs":var b1=k.r(u,g),ic=k.r(u,g+4);X.lmfx={};
var fM=bZ.iQ(u,X.lmfx,g+8);aG.cE(X.lmfx);break;case"FMsk":X[C]=k.au(u,g,a);break;case"Txt2":X[C]={};
X[C].raw=k.au(u,g,a);X[C].sw=fy.h7(X[C].raw);break;case"Patt":X[C]=br.sG(u,g,a);break;case"SoLd":var dV=k.u6(u,g,4),eS=k.r(u,g+4),a2=k.r(u,g+8);
X[C]={};var d3=bZ.iQ(u,X[C],g+12);if(X[C].nonAffineTransform==null)X[C].nonAffineTransform=JSON.parse(JSON.stringify(X[C].Trnf));
if(X[C].Impr==null)X[C].Impr={t:"Objc",v:{__name:"None",classID:"none"}};break;case"vstk":case"pths":var eS=k.r(u,g);
X[C]={};var d3=bZ.iQ(u,X[C],g+4);break;case"vscg":var cj=k.u6(u,g,4),eS=k.r(u,g+4);X[cj]={};var d3=bZ.iQ(u,X[cj],g+8);
aG.Bq(X[cj],cj);break;case"vogk":var cE=k.r(u,g),eS=k.r(u,g+4);X[C]={};var d3=bZ.iQ(u,X[C],g+8);X[C]=X[C].keyDescriptorList.v;
for(var P=0;P<X[C].length;P++){var eP=X[C][P].v;if(!f.b1.N4(eP))continue;if(eP.keyOriginBoxCorners==null){var jm=f.b1.Bh(eP);
eP.keyOriginBoxCorners={t:"Objc",v:{classID:"null"}};var bD=[jm[0],jm[1],jm[2],jm[1],jm[2],jm[3],jm[0],jm[3]];
if(eP.keyOriginType.v==4)bD=f.b1.Os(f.b1.Ya(eP),eP.keyOriginLineWeight.v);f.b1.Gg(eP,"keyOriginBoxCorners",bD)}}break;
case"lnk2":case"lnkD__":case"lnk3__":X[C]=[];var t=g;while(t<g+a){var f1=new l.lk;X[C].push(f1);var ft=k.Nm(u,t);
t+=8;var ie=t;f1.type=k.u6(u,t,4);t+=4;if(f1.type!="liFD"){alert("Unknown Linked Layer type: "+f1.type);
break;throw f1.type}f1.dl=k.r(u,t);t+=4;var b2=k.Ni(u,t);t+=1+b2.Jj.length;f1.z0=b2.Jj;f1.$V=k.o$(u,t);
t+=4+f1.$V.length*2+2;f1.lB=k.u6(u,t,4);t+=4;f1.Dh=k.u6(u,t,4);t+=4;var dh=k.Nm(u,t);t+=8;f1.open=u[t];
t+=1;if(f1.open!=0){var aY={},fM=bZ.iQ(u,aY,t+4);if(fM%4!=0)fM+=4-fM%4;console.log(aY);t+=fM+4}f1.open=0;
f1.raw=k.au(u,t,dh);t=ie+ft;if(ft%4!=0)t+=4-ft%4}break;case"FEid":var t=g;X[C]=[];var eF=t+a,O=k.r(u,t);
t+=4;while(t<eF){t+=4;var ft=k.r(u,t);t+=4;var Q={};X[C].push(Q);Q.id=k.Ni(u,t).Jj;t+=Q.id.length+1;
var O=k.r(u,t);t+=4;t+=4;var de=k.r(u,t);t+=4;Q.rect=k.QL(u,t);t+=16;var i5=k.r(u,t);t+=4;var eA=k.r(u,t);
t+=4;var c4=new f.bs(0);for(var P=0;P<eA+2;P++){var jC=k.r(u,t);t+=4;if(jC!=0){t+=4;var hd=k.r(u,t),iG=null;
t+=4;if(P<3||P==25)iG=i$.Pt(!0,i5,u,Q.rect.m,Q.rect.n,t,hd);if(P==0)c4.w=iG;if(P==1)c4.A=iG;if(P==2)c4.U=iG;
if(P==25)c4._x=iG;t+=hd}}Q.buffer=f.L(Q.rect.$()*4);f.UP(c4,Q.buffer);f.Dk(Q);var cC=u[t];t++;if(cC!=0){Q.B=new l.I2;
Q.B.rect=k.QL(u,t);t+=16;t+=4;var cL=k.r(u,t);t+=4;Q.B.channel=i$.Pt(!0,i5,u,Q.B.rect.m,Q.B.rect.n,t,cL);
Q.B.color=255;Q.B.b3();t+=cL}if(ft%4!=0)t+=4-ft%4}break;case"Lr16":gr.R6(D,u,g);break;case"Anno":X[C]=[];
var dw=g,eY=g+4,af=k.r(u,eY);eY+=4;for(var P=0;P<af;P++){var ft=k.r(u,eY);eY+=4;var cf=k.u6(u,eY,4);
eY+=4;if(cf!="txtA")throw cf;var d7=u[eY++],hs=u[eY++],hz=k.Z_(u,eY);eY+=2;var bx=k.QL(u,eY);eY+=16;
var dO=k.QL(u,eY);eY+=16;var E=fb.$_(u,eY);eY+=10;var hN=k.Ni(u,eY);eY+=hN.length;var jn=k.Ni(u,eY);
eY+=jn.length;var iP=k.Ni(u,eY);eY+=iP.length;var io=k.r(u,eY);eY+=4;var jD=k.u6(u,eY,4);eY+=4;var dg=k.r(u,eY);
eY+=4;var j1=k.Fh(u,eY+2,dg-2>>1);eY+=dg;X[C].push([bx.x,bx.y,E,hN.Jj,j1])}break;default:break}var iO="Lr16 LMsk Txt2 artd extd luni pths extn tySh lfx2 cinf Anno".split(" ");
if(iO.indexOf(C)==-1)if(a%4!=0)console.log("size not multiple of 4!!!",C);if(C!="luni"&&C!="TySh"&&C!="tySh"&&C!="lfx2")if(a%4!=0)a+=4-a%4;
g+=a}var ck=[];for(var P=0;P<ck.length;P++)delete X[ck[P]];return g};aG.sr=function(u,g,K,X,w){for(var D in K)if(K[D]==null){alert("A bug occured (see console).");
console.log("Please, report a bug, that \""+D+"\" tag was present with a null value.");delete K[D]}for(var D in K){var q=X&&"LMsk Lr16 Lr32 Layr Mt16 Mt32 Mtrn Alph FMsk lnk2 lnkE FEid FXid PxSD extn cinf artd pths".split(" ").indexOf(D)!=-1,a=0;
k.Xp(u,g,q?"8B64":"8BIM");g+=4;var C=g;k.Xp(u,g,D);g+=4;k.XZ(u,g,0);g+=q?8:4;switch(D){case"iOpa":k.iG(u,g,K[D],1);
a=4;break;case"brst":a=0;for(var P=0;P<3;P++)if(K[D][P]==0){k.q2(u,g+a,P);a+=4}break;case"knko":k.iG(u,g,K[D],1);
a=4;break;case"infx":k.iG(u,g,K[D],1);a=4;break;case"clbl":k.iG(u,g,K[D],1);a=4;break;case"lmgm":k.iG(u,g,K[D],1);
a=4;break;case"vmgm":k.iG(u,g,K[D],1);a=4;break;case"fcmy":k.iG(u,g,K[D],1);a=4;break;case"lyid":k.q2(u,g,K[D]);
a=4;break;case"lsct":k.q2(u,g,K[D].type);a=4;if(K[D].wS){k.Xp(u,g+4,"8BIM");k.Xp(u,g+8,K[D].wS);a=12}break;
case"lyvr":k.q2(u,g,K[D]);a=4;break;case"lnsr":k.Xp(u,g,K[D]);a=4;break;case"lspf":k.q2(u,g,K[D]);a=4;
break;case"lclr":k.ss(u,g,K[D]);a=8;break;case"luni":k.Tf(u,g,K[D]);a=4+2*K[D].length;break;case"fxrp":k.Mz(u,g,K[D].x);
k.Mz(u,g+8,K[D].y);a=16;break;case"artb":case"artd":k.q2(u,g,16);a=bZ.l4(u,K[D],g+4)+4;break;case"SoCo":k.q2(u,g,16);
a=bZ.l4(u,K[D],g+4)+4;break;case"GdFl":k.q2(u,g,16);a=bZ.l4(u,K[D],g+4)+4;break;case"PtFl":k.q2(u,g,16);
a=bZ.l4(u,K[D],g+4)+4;break;case"CgEd":var x={classID:"null",Vrsn:{t:"long",v:1},Brgh:{t:"long",v:24},Cntr:{t:"long",v:54},means:{t:"long",v:127},Lab:{t:"bool",v:!1},useLegacy:{t:"bool",v:!1},Auto:{t:"bool",v:!0}},H=x,$=K[D];
H.Brgh.v=$.Brgh.v;H.Cntr.v=$.Cntr.v;H.useLegacy.v=$.useLegacy.v;k.q2(u,g,16);a=bZ.l4(u,x,g+4)+4;break;
case"brit":u._s(g,8);a=8;break;case"levl":var r=new jx;a=ad.P8(r,K[D]);k.jj(u,g,r.data);break;case"curv":a=db.e3(u,g,K[D]);
break;case"expA":a=14;u._s(g,14);k.Q$(u.data,g,1);k.zi(u.data,g+2,K[D].Exps?K[D].Exps.v:0);k.zi(u.data,g+6,K[D].Ofst?K[D].Ofst.v:0);
k.zi(u.data,g+10,K[D].gammaCorrection?K[D].gammaCorrection.v:1);break;case"vibA":k.q2(u,g,16);a=bZ.l4(u,K[D],g+4)+4;
break;case"hue2":a=bV.e3(u,g,K[D]);break;case"blnc":a=19;u._s(g,a);var c=["ShdL","MdtL","HghL"];for(var P=0;
P<3;P++){var U=K[D][c[P]].v;for(var O=0;O<3;O++)U.push(k.hS(u.data,g+P*6+O*2,U[O].v))}u.data[g+18]=K[D].PrsL.v?1:0;
break;case"blwh":var x={classID:"null",bwPresetKind:{t:"long",v:1},blackAndWhitePresetFileName:{t:"TEXT",v:""}},A="Bl Cyn Grn Mgnt Rd Yllw tintColor useTint".split(" ");
for(var P=0;P<A.length;P++){x[A[P]]=K[D][A[P]]}k.q2(u,g,16);a=bZ.l4(u,x,g+4)+4;break;case"phfl":k.ss(u,g,2);
var m=K[D].Clr.v;k.ss(u,g+2,7);k.ss(u,g+4,Math.round(m.Lmnc.v*100));k.ss(u,g+6,Math.round(m.A.v*100));
k.ss(u,g+8,Math.round(m.B.v*100));k.ss(u,g+10,0);var i=g+2+10;u._s(i,5);k.eB(u.data,i,K[D].Dnst.v);i+=4;
u.data[i]=K[D].PrsL.v?1:0;i++;a=i-g;break;case"mixr":a=44;u._s(g,a);var e=jO.yZ(K[D]);k.Q$(u.data,g,1);
k.Q$(u.data,g+2,e.wl?1:0);for(var P=0;P<20;P++)k.hS(u.data,g+4+P*2,e.h[P]);break;case"clrL":case"rplc":k.ss(u,g,1);
k.q2(u,g+2,16);a=bZ.l4(u,K[D],g+6)+6;break;case"nvrt":a=0;break;case"post":k.ss(u,g,K[D].Lvls.v);a=2;
break;case"thrs":k.ss(u,g,K[D].Lvl.v);a=2;break;case"grdm":var S=K[D].Rvrs?K[D].Rvrs.v:!1,E=!1,Z=867527939,N=!1,J=!1,y=2048,o=[0,0,0,0],B=[32768,32768,32768,32768],t=K[D].Grad.v,W,F,G=t.Clrs==null?1:0;
if(G==0){W=t;F=JSON.parse(k8.v2.ahG).v}else{W=dJ.mt("grdm").Grad.v;F=t}u._s(g,4);k.Q$(u.data,g,1);u.data[g+2]=S?1:0;
u.data[g+3]=E?1:0;var L=g+4;k.Tf(u,L,t.Nm.v);L+=4+t.Nm.v.length*2;L=aE.a9i(u,L,W);k.ss(u,L,G);L+=2;k.q2(u,L,F.RndS.v);
L+=4;k.ss(u,L,F.ShTr.v?1:0);L+=2;k.ss(u,L,F.VctC.v?1:0);L+=2;k.q2(u,L,F.Smth.v);L+=4;k.ss(u,L,3);L+=2;
for(var P=0;P<4;P++)k.ss(u,L+P*2,o[P]);L+=8;for(var P=0;P<4;P++)k.ss(u,L+P*2,B[P]);L+=8;L+=2;a=L-g;break;
case"selc":a=hr.e3(u,g,K[D]);break;case"FMsk":k.jj(u,g,K[D]);a=K[D].length;break;case"Txt2":var Q=new jx,T=fy.hA(K[D].sw,Q),j=f.L(T,!0);
for(var P=0;P<T;P++)j[P]=Q.data[P];k.jj(u,g,j);a=j.length;break;case"vmsk":var p=K[D],M=0;k.q2(u,g,3);
if(!p.Bo)M+=1<<1;if(!p.isEnabled)M+=1<<2;k.q2(u,g+4,M);a=8;var n=p._.length;u._s(g+8,n*26);jr.tT(u.data,g+8,p._,w.m,w.n);
a+=n*26;break;case"shmd":k.q2(u,g,Object.keys(K[D]).length);var i=g+4;for(var d in K[D]){k.Xp(u,i,"8BIM");
i+=4;k.Xp(u,i,d);i+=4;k.q2(u,i,0);i+=4;k.q2(u,i,0);i+=4;k.q2(u,i,16);i+=4;var V=bZ.l4(u,K[D][d],i);if(V%4!=0)V+=4-V%4;
k.q2(u,i-8,V+4);i+=V}a=i-g;break;case"TySh":var i=g;k.Fw(u,i,1);i+=2;var z=K[D],Q=new jx;z.Fd.DocumentResources=JSON.parse(JSON.stringify(z.Fd.ResourceDict));
var T=ju.hA(z.Fd,Q),j=f.L(T,!0);for(var P=0;P<T;P++)j[P]=Q.data[P];z.cW.EngineData={t:"tdta",v:j};var I=z.Fd.EngineDict.Editor.Text;
z.cW.Txt.v=I.substring(0,I.length-1);k.af6(u,i,z.D);i+=48;k.Fw(u,i,50);i+=2;k.q2(u,i,16);i+=4;i+=bZ.l4(u,z.cW,i);
k.Fw(u,i,1);i+=2;k.q2(u,i,16);i+=4;i+=bZ.l4(u,z.YU,i);k.a41(u,i,z.kI);i+=16;a=i-g;break;case"lmfx":k.q2(u,g,0);
k.q2(u,g+4,16);var x=JSON.parse(JSON.stringify(K[D])),v=!1;aG.Im(x);for(var P=0;P<k8.pg.length;P++)if(x[k8.pg[P]]!=null)v=!0;
k.Xp(u,C,v?"lmfx":"lfx2");a=bZ.l4(u,x,g+8)+8;break;case"Patt":var i=br.Ks(u,g,K[D]);a=i-g;break;case"SoLd":k.Xp(u,g,"soLD");
k.q2(u,g+4,4);k.q2(u,g+8,16);a=bZ.l4(u,K[D],g+12)+12;break;case"vstk":case"pths":k.q2(u,g,16);a=bZ.l4(u,K[D],g+4)+4;
break;case"vscg__":k.Xp(u,g,K[D].key);k.q2(u,g+4,16);a=bZ.l4(u,K[D].h,g+8)+8;break;case"vogk":k.q2(u,g,1);
k.q2(u,g+4,16);f.b1.afd(K[D]);for(var P=0;P<K[D].length;P++){var gj=K[D][P].v.keyOriginResolution;if(gj)gj.v=w.wY}var jA={classID:"null",keyDescriptorList:{t:"VlLs",v:K[D]}};
a=bZ.l4(u,jA,g+8)+8;break;case"lnkD":case"lnk2":case"lnk3":var L=g;for(var P=0;P<K[D].length;P++){var Y=K[D][P],jv=L;
k.xn(u,L,0);L+=8;k.Xp(u,L,Y.type);L+=4;k.q2(u,L,Y.dl);L+=4;u._s(L,1);u.data[L]=Y.z0.length;L++;k.Xp(u,L,Y.z0);
L+=Y.z0.length;k.Tf(u,L,Y.$V+"\0");L+=4+Y.$V.length*2+2;k.Xp(u,L,Y.lB);L+=4;k.Xp(u,L,Y.Dh);L+=4;k.xn(u,L,Y.raw.length);
L+=8;u._s(L,1);u.data[L]=Y.open;L++;k.jj(u,L,Y.raw);L+=Y.raw.length;k.q2(u,L,1);L+=4;L+=11;var iR=L-jv-8;
k.xn(u,jv,iR);if(iR%4!=0){u._s(L,4-iR%4);L+=4-iR%4}}a=L-g;break;case"FEid":var L=g;k.q2(u,L,3);L+=4;
for(var cj=0;cj<K[D].length;cj++){var j8=K[D][cj];L+=4;var as=L;L+=4;k.wh(u,L,j8.id);L+=j8.id.length+1;
k.q2(u,L,1);L+=4;var gW=f.L(j8.rect.$()),af=j8.rect,at=f.L(af.$());L+=4;var jd=L;L+=4;k.Fp(u,L,af);L+=16;
k.q2(u,L,8);L+=4;k.q2(u,L,24);L+=4;for(var P=0;P<24+2;P++){var fM=-1;if(P==0)fM=0;if(P==1)fM=1;if(P==2)fM=2;
if(P==25)fM=3;k.q2(u,L,fM!=-1?1:0);L+=4;if(fM!=-1){f.hk(j8.buffer,gW,fM);f.x5(gW,j8.rect,at,af);L+=4;
var hS=L;L+=4;u._s(L,af.$()+2);L=i$.zK(!0,at,u.data,af.m,af.n,L,3);k.q2(u,hS,L-(hS+4))}}k.q2(u,jd,L-(jd+4));
u._s(L,1);u.data[L]=j8.B?1:0;L++;if(j8.B!=null){var dr=af,cB=f.L(dr.$());cB.fill(j8.B.color);f.x5(j8.B.channel,j8.B.rect,cB,dr);
k.Fp(u,L,dr);L+=16;L+=4;var b1=L;L+=4;u._s(L,dr.$()+2);L=i$.zK(!0,cB,u.data,dr.m,dr.n,L,3);k.q2(u,b1,L-(b1+4))}var iR=L-(as+4);
k.q2(u,as,iR);if(iR%4!=0)L+=4-iR%4}a=L-g;break;case"Anno":var ic=g,dV=K[D].length;k.ss(u,ic,2);k.ss(u,ic+2,1);
ic+=4;k.q2(u,ic,dV);ic+=4;for(var P=0;P<dV;P++){var eS=K[D][P],a2=eS[0],d3=eS[1],cE=ic;ic+=4;k.Xp(u,ic,"txtA");
ic+=4;u._s(ic,2);u.data[ic]=1;u.data[ic+1]=28;ic+=2;k.ss(u,ic,1);ic+=2;k.Fp(u,ic,new dS(a2,d3,17,21));
ic+=16;k.Fp(u,ic,new dS(a2+8,d3+10,241,141));ic+=16;u._s(ic,10);fb.Hi(u.data,ic,eS[2]);ic+=10;ic+=k.wh(u,ic,eS[3]);
ic+=k.wh(u,ic,"");ic+=k.wh(u,ic,"D:20211012120233+01'00'");var eP=eS[4].length*2;k.q2(u,ic,12+2+eP);
ic+=4;k.Xp(u,ic,"txtC");ic+=4;k.q2(u,ic,2+eP);ic+=4;u._s(ic,2);u.data[ic]=254;u.data[ic+1]=255;ic+=2;
k.a59(u,ic,eS[4]);ic+=eP;k.q2(u,cE,ic-cE)}a=ic-g;break;default:console.log("unknown layer tag: "+D+", size: "+a);
g-=12;continue}var jm=["Txt2","artd","extd","pths"];if(jm.indexOf(D)==-1)if(a%4!=0)a+=4-a%4;if(q)k.xn(u,g-8,a);
else k.q2(u,g-4,a);if(D!="luni"&&D!="TySh")if(a%4!=0)a+=4-a%4;g+=a}return g};aG.cE=function(u){for(var P=0;
P<k8.order.length;P++){var g=k8.order[P],K=k8.pg[P];if(u[K]==null)u[K]={t:"VlLs",v:[]};if(u[g]!=null){u[K].v.push(u[g]);
delete u[g]}var X=[];for(var w=0;w<u[K].v.length;w++){var D=u[K].v[w];if(D.v.present==null||D.v.present.v==!0)X.push(D)}u[K].v=X}};
aG.Im=function(u){for(var P=0;P<k8.order.length;P++){var g=k8.order[P],K=k8.pg[P],X=u[K].v.length;if(X==0){delete u[K];
continue}if(X==1){u[g]=u[K].v[0];delete u[K];continue}}};aG.Bq=function(u,g){if(g=="GdFl"){if(u.Angl==null)u.Angl={v:{type:"#Ang",val:0},t:"UntF"};
if(u.Algn==null)u.Algn={v:!0,t:"bool"};if(u.Scl==null)u.Scl={v:{type:"#Prc",val:100},t:"UntF"};if(u.Ofst==null)u.Ofst={v:{classID:"Pnt",Hrzn:{v:{type:"#Prc",val:0},t:"UntF"},Vrtc:{v:{type:"#Prc",val:0},t:"UntF"}},t:"Objc"};
if(u.Rvrs==null)u.Rvrs={v:!1,t:"bool"};if(u.Dthr==null)u.Dthr={v:!1,t:"bool"}}if(g=="PtFl"){if(u.Algn==null)u.Algn={v:!0,t:"bool"};
if(u.Angl==null)u.Angl={v:{type:"#Ang",val:0},t:"UntF"};if(u.Scl==null)u.Scl={v:{type:"#Prc",val:100},t:"UntF"};
if(u.phase==null)u.phase={v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}};aG.clone=function(u,g){var K={};
if(u=="TySh"){K.D=g.D.clone();K.cW=JSON.parse(JSON.stringify(g.cW));K.YU=JSON.parse(JSON.stringify(g.YU));
K.kI=g.kI.clone();K.Fd=JSON.parse(JSON.stringify(g.Fd));if(g.add)K.add={vmsk:g.add.vmsk.clone(),vogk:JSON.parse(JSON.stringify(g.add.vogk))};
return K}else if(u=="fxrp")return g.clone();else if(u=="vmsk")return g.clone();else return JSON.parse(JSON.stringify(g))};
function gl(u,g){}gl.h7=function(u,g,K,X){X=gl.ac8(u,g,K,X);return X};gl.hA=function(u,g,K,X,w){X=gl.asR(u,g,K,X,w);
return X};gl.ac8=function(u,g,K,X){var w=X;u.rect=k.QL(K,X);X+=16;var D=k.Z_(K,X);X+=2;u.tP=[];var q=g.iW;
for(var P=0;P<D;P++){u.tP[P]={id:k.ST(K,X),length:(q?k.Nm:k.r)(K,X+2)};X+=q?10:6}var C=k.u6(K,X,4);X+=4;
if(C!="8BIM"){console.log("Invalid Blend mode signature: "+C);alert("Error in Photoshop file: wrong signature.");
throw"e"}u.wS=k.u6(K,X,4);X+=4;u.opacity=K[X];X+=1;u.tG=K[X]==1;X+=1;u.R3=K[X];X+=1;if(K[X]!=0)console.log("error in filler!");
X+=1;var a=k.r(K,X);X+=4;var x=X;X=gl.ajk(u,K,X);X=gl.ags(u,K,X);var H=k.Ni(K,X);u.name=H.Jj;X+=H.length;
if(H.length%4!=0)X+=4-H.length%4;X=aG.hP(K,X,x+a,u.add,q,g);if(u.add.lsct){if(u.add.lsct.wS)u.wS=u.add.lsct.wS;
u.add.lsct=u.add.lsct.type}return X};gl.asR=function(u,g,K,X,w){var D=X;k.Fp(K,X,u.rect);X+=16;var q=u.a91();
k.ss(K,X,q.length);X+=2;var C=g.iW;w.push(X);for(var P=0;P<q.length;P++){k.Fw(K,X,q[P]);if(C)k.xn(K,X+2,0);
else k.q2(K,X+2,0);X+=C?10:6}k.Xp(K,X,"8BIM");X+=4;k.Xp(K,X,u.wS);X+=4;k.iG(K,X,u.opacity,1);X+=1;k.iG(K,X,u.tG?1:0,1);
X+=1;k.iG(K,X,u.R3,1);X+=1;k.iG(K,X,0,1);X+=1;var a=X;k.q2(K,X,0);X+=4;var x=X;X=gl.a4I(u,K,X);X=gl.a5R(u,K,X);
var H=k.wh(K,X,u.name.slice(0,255));X+=H;if(H%4!=0)X+=4-H%4;if(u.add.lsct){u.add.lsct={type:u.add.lsct};
if(u.wS=="pass"){u.add.lsct.wS="pass";u.wS="norm"}}if(u.wS=="pass")u.add.lsct={type:u.add.lsct,wS:"pass"};
if(u.add.brit)u.add.CgEd=u.add.brit;X=aG.sr(K,X,u.add,C,g);delete u.add.CgEd;if(u.add.lsct){if(u.add.lsct.wS)u.wS=u.add.lsct.wS;
u.add.lsct=u.add.lsct.type}var $=X-x;k.q2(K,a,$);return X};gl.ajk=function(u,g,K){var X=k.r(g,K);K+=4;
if(X==0)return K;var w=K;u.B=new l.I2;u.B.rect=k.QL(g,K);K+=16;u.B.color=g[K];K+=1;var D=gl.U$(u.B,g,K);
K+=1;if(D){var q=!1,C=255,a=0,x=255,H=0;for(var P=0;P<u.tP.length;P++)if(u.tP[P].id==-3)q=!0;if(q){u.ad=gl.cV(g,K);
K+=18}var $=K,r=g[K];K++;if(r>>0&1){C=g[K];K++}if(r>>1&1){a=k.Qa(g,K);K+=8}if(r>>2&1){x=g[K];K++}if(r>>3&1){H=k.Qa(g,K);
K+=8}if((K-$&1)==1)K++;u._y=[C,a,x,H]}else{if(X==20)K+=2;else{u.ad=gl.cV(g,K);K+=18}}return w+X};gl.a4I=function(u,g,K){k.q2(g,K,0);
K+=4;if(u.B==null)return K;var X=u.Zv(),w=u.add.vmsk,D=K,q=!0;k.q2(g,K,0);k.Fp(g,K,u.B.rect);K+=16;k.iG(g,K,u.B.color);
K+=1;gl.EL(u.B,g,K,q);K+=1;if(q){if(u.ad){gl.ahX(g,K,u.ad);K+=18}k.iG(g,K,15);K+=1;k.iG(g,K,X?X._X:255);
K+=1;k.Mz(g,K,X?X.Lp:0);K+=8;k.iG(g,K,w?w._X:255);K+=1;k.Mz(g,K,w?w.Lp:0);K+=8;K++}k.q2(g,D-4,K-D);return K};
gl.cV=function(u,g){var K=new l.I2;gl.U$(K,u,g);g+=1;K.color=u[g];g+=1;K.rect=k.QL(u,g);g+=16;return K};
gl.ahX=function(u,g,K){gl.EL(K,u,g,!1);g+=1;k.iG(u,g,K.color);g+=1;k.Fp(u,g,K.rect);g+=16};gl.U$=function(u,g,K){var X=g[K];
u.Bo=(X>>0&1)==0;u.isEnabled=(X>>1&1)==0;u.NR=(X>>3&1)==1;return X>>4&1};gl.EL=function(u,g,K,X){var w=0;
if(!u.Bo)w+=1<<0;if(!u.isEnabled)w+=1<<1;if(u.NR)w+=1<<3;if(X)w+=1<<4;k.iG(g,K,w)};gl.ags=function(u,g,K){var X=k.r(g,K);
K+=4;for(var P=0;P<X;P++)u.Cc[P]=g[K+P];return K+X};gl.a5R=function(u,g,K){k.q2(g,K,u.Cc.length);K+=4;
g._s(K,40);for(var P=0;P<40;P++){g.data[K+P]=u.Cc[P]}return K+40};function i$(){}i$.h7=function(u,g,K,X){X=i$.a3N(g,g.iW,g.g0,g.Ex,u,K,X);
return X};i$.P8=function(u,g,K,X,w,D){X=i$.aav(u,g,K,X,w,D);return X};i$.a3N=function(u,g,K,X,w,D,q){var C=w.tP,a={},x=q;
for(var P=0;P<C.length;P++){var H=C[P],$=H.id,r=H.length,c;if($==-3)c=w.ad.rect;else if($==-2)c=w.B.rect;
else c=w.rect;var U=i$.Pt(g,K,D,c.m,c.n,q,r);q+=r;if($==-3)w.ad.channel=U;else if($==-2)w.B.channel=U;
else a["c"+$]=U}var O=new f.bs(0);O._x=null;if(X==3){O.w=a.c0;O.A=a.c1;O.U=a.c2;O._x=a["c-1"]}else if(X==1){O.w=a.c0;
O.A=a.c0;O.U=a.c0;O._x=a["c-1"]}else if(X==4){var A=u.sD.r1039,m=a.c0,i=a.c1,e=a.c2,S=a.c3;if(A){var E=A.H1,Z=17;
if(E==null){var N=ICC.R(A.buffer);console.log(N);E=A.H1=ICC.U.sampleLUT(N,Z)}var J={w:m,A:i,U:e,_x:S},y=f.L(m.length*4);
f.UP(J,y);f.CD(y);ICC.U.applyLUT4(E,Z,y,y);f.Jw(y,J)}else{for(var P=0;P<m.length;P++){var o=1-m[P]*(1/255),B=1-i[P]*(1/255),t=1-e[P]*(1/255),W=1-S[P]*(1/255),F=UDOC.C.cmykToRgb([o,B,t,W]);
m[P]=F[0]*255;i[P]=F[1]*255;e[P]=F[2]*255}}O.w=m;O.A=i;O.U=e;O._x=a["c-1"]}if(O.w==null)O.w=f.L(0);if(O._x==null&&O.w!=null){O._x=O.w.slice(0);
O._x.fill(255)}if(O.A==null)O.A=O.w.slice(0);if(O.U==null)O.U=O.w.slice(0);w.buffer=f.L(Math.max(0,w.rect.$()*4));
f.UP(O,w.buffer);return q};i$.aav=function(u,g,K,X,w,D){var q=g.a91(),C=new f.bs(g.rect.$());f.Jw(g.buffer,C);
for(var P=0;P<q.length;P++){var a=q[P],x,H;if(a==-3)x=g.ad.rect;else if(a==-2)x=g.B.rect;else x=g.rect;
if(a==-3)H=g.ad.channel;if(a==-2)H=g.B.channel;if(a==-1)H=C._x;if(a==0)H=C.w;if(a==1)H=C.A;if(a==2)H=C.U;
K._s(X,x.$()*3+4);var $=X;X=i$.zK(u,H,K.data,x.m,x.n,X,D[1]?3:1);var r=X-$;if(u)k.HZ(K.data,w+P*10+2,r);
else k.eB(K.data,w+P*6+2,r)}return X};i$.Pt=function(u,g,K,X,w,D,q){var C=k.Z_(K,D);D+=2;return i$.SN(u,g,K,X,w,D,C,q-2)};
i$.zK=function(u,g,K,X,w,D,q){k.hS(K,D,q);D+=2;D=i$.p3(u,g,K,X,w,D,q);return D};i$.SN=function(u,g,K,X,w,D,q,C){var a,x=X*w*(g>>>3),H=x&3,$=x+(H==0?0:4-H);
if(C<=0){return f.L($)}if(q>3){console.log("unknown compression: "+q,X,w,X*w,C);q=0}if(q==0){if(D+$<=K.length)a=K.slice(D,D+$);
else{a=f.L(x);for(var P=0;P<x;P++)a[P]=K[D+P]}D+=x}else if(q==1){a=f.L(x);var r=u?4:2,c=i$.gd(K,a,X,w,D,D+r*w,r);
D+=r*w+c}else if(q==2||q==3){var U=new Uint8Array(K.buffer,D+2,C-6),O=f.L($);UZIP.inflateRaw(U,O);if(q==3){if(g==8)for(var A=0;
A<w;A++){var m=A*X+1,i=m+X-1,e=O[m-1];for(var S=m;S<i;S++){e+=O[S];O[S]=e&255}}else for(var A=0;A<w;
A++){var m=A*X+1,i=m+X-1,e=O[2*m-2]<<8|O[2*m-1];for(var S=m;S<i;S++){var E=S<<1;e+=O[E]<<8|O[E+1];O[E]=e>>>8;
O[E+1]=e&255}}}if(O.length==$)a=O;else{a=f.L($);for(var P=0;P<O.length;P++)a[P]=O[P]}}if(g==16){var Z=f.L(X*w);
for(var P=0;P<x;P+=2)Z[P>>>1]=a[P];a=Z}return a};i$.p3=function(u,g,K,X,w,D,q){var C=X*w;if(q==0)for(var P=0;
P<C;P++)K[D++]=g[P];else if(q==1){var a=u?4:2,x=i$.qP(g,K,X,w,D,D+a*w,a);D+=a*w+x}else if(q==2||q==3){if(q==3){var H=new Uint8Array(g.length);
for(var $=0;$<w;$++){var r=$*X+1,c=r+X-1,U=g[r-1];H[r-1]=U;for(var O=r;O<c;O++){H[O]=g[O]+(256-U)&255;
U=g[O]}}g=H}K[D]=120;K[D+1]=156;D+=2;var A=pako.deflateRaw(g,{aun:4});k.cn(K,D,A);D+=A.length+4}else console.log("Unknown compression: "+q);
return D};i$.gd=function(u,g,K,X,w,D,q){if(!(u instanceof Uint8Array)||!(g instanceof Uint8Array))throw"e";
var C=D,a=X|0;if(q==2)for(var P=0;P<a;P++){var x=k.Z_(u,w+(P<<1));i$.fW(u,D,x,g,P*K,K);D+=x}else for(var P=0;
P<a;P++){var x=k.r(u,w+(P<<2));i$.fW(u,D,x,g,P*K,K);D+=x}return D-C};i$.qP=function(u,g,K,X,w,D,q){var C=D;
if(q==2)for(var P=0;P<X;P++){var a=i$.Id(u,P*K,K,g,D);k.Q$(g,w+P*2,a);D+=a}else for(var P=0;P<X;P++){var a=i$.Id(u,P*K,K,g,D);
k.eB(g,w+P*4,a);D+=a}return D-C};i$.Id=function(u,g,eJ,K,X){var w,D,q,C,a,ea,x;C=g+eJ;for(q=g,D=X;eJ>0;
q=w,eJ-=ea){x=eJ<128?eJ:128;if(q<=C-3&&u[q+1]==u[q+0]&&u[q+2]==u[q+0]){for(w=q+3;w<q+x&&u[w]==u[q+0];
)++w;ea=w-q;K[D++]=1+256-ea;K[D++]=u[q+0]}else{for(w=q;w<q+x;)if(w<=C-3&&u[w+1]==u[w+0]&&u[w+2]==u[w+0])break;
else++w;ea=w-q;K[D++]=ea-1;for(var P=0;P<ea;P++)K[D+P]=u[q+P];D+=ea}}return D-X};i$.fW=function(u,g,K,X,w,D){for(var q=0;
q<K;){var eJ=u[g++];if(eJ>=128){var C=u[g++],a=w+(257-eJ);X.fill(C,w,a);w=a;q+=2}else{for(var P=0;P<=eJ;
P++)X[w+P]=u[g+P];g+=eJ+1;w+=eJ+1;q+=1+1+eJ}}};function gr(){}gr.c3=function(u,g,K){return;var X="",w=g;
while(w!=0){var D=w%1e3+"";while(D.length<3)D="0"+D;X=(X==""?D:D+" ")+X;w=Math.floor(w/1e3)}while(X.startsWith("0")&&X!="0")X=X.slice(1);
while(X.length<11)X=" "+X;console.log("===",X,"\t".repeat(u),": "+K)};gr.h7=function(u,g){g.iW=!1;g.g0=8;
var K=new Uint8Array(u),X=0,w=0,M,j8=!1,as=!0,gW=!1,af=0,io=0;w=gr.n3(g,K,X);gr.c3(0,w-X,"PSD Header");
X=w;w=gr.aoM(g,K,X);gr.c3(0,w-X,"Color Mode Data");X=w;w=gr.avR(g,K,X);gr.c3(0,w-X,"Image Resources");
X=w;w=gr.ae3(g,K,X);gr.c3(0,w-X,"Layer And Mask Info");X=w;w=gr.aos(g,K,X);gr.c3(0,w-X,"Merged Image");
X=w;if(g.g.length==0){var D=g.Wk();D.Q9("Background");g.g.push(D);D.buffer=g.buffer.slice(0);D.rect=new dS(0,0,g.m,g.n)}if(g.sD.r1005){g.wY=k.asO(g.sD.r1005,0)}if(g.sD.r1026){var K=g.sD.r1026;
for(var P=0;P<K.length;P+=2){var w=g.g[P>>>1];if(w)w.lz=k.Z_(K,P)}}if(g.sD.r1072){var K=g.sD.r1072;for(var P=0;
P<K.length;P++){var w=g.g[P];if(w)w.rJ=K[P]==1}}if(g.sD.r1032){g.m_=gr.zz(g.sD.r1032,0)}delete g.sD.r1036;
g.VA(g.sD.r1039);if(g.sD.r1050){var q=k.r,C=g.sD.r1050,a=k.r(C,0);if(a==6){var x=4,H=k.QL(C,x);x+=16;
var $=k.Na(C,x);x+=4+$.length*2;var r=q(C,x);x+=4;var c=g.BD;for(var P=0;P<r;P++){var U=R.gC.fm(),A;
c.push(U);U=U.v;U.sliceID.v=q(C,x);x+=4;U.groupID.v=q(C,x);x+=4;var O=q(C,x);x+=4;if(O==1){A=q(C,x);
x+=4}var $=k.Na(C,x);x+=4+$.length*2;var m=q(C,x);x+=4;var i=[q(C,x),q(C,x+4),q(C,x+8),q(C,x+12)];x+=16;
R.gC.Bu(c,c.length-1,i);var e=U.url.v=k.Na(C,x);x+=4+e.length*2;var S=U.null.v=k.Na(C,x);x+=4+S.length*2;
var E=U.Msge.v=k.Na(C,x);x+=4+E.length*2;var Z=U.altTag.v=k.Na(C,x);x+=4+Z.length*2;U.cellTextIsHTML.v=C[x]==1;
x++;var N=U.cellText.v=k.Na(C,x);x+=4+N.length*2;var J=q(C,x);x+=4;var y=q(C,x);x+=4;var o=C.slice(x,x+4);
x+=4;if(O!=2)c.pop()}}else if(a==8){var B={};bZ.iQ(C,B,8,!1);var C=g.BD=B.slices.v;for(var P=0;P<C.length;
P++){if(C[P].v.origin.v.ESliceOrigin!="userGenerated"){C.splice(P,1);P--}}}}if(g.sD.r1058){var t=g.sD.r1058,W=UTIF.decode(t.buffer,{parseMN:!1,debug:!1});
kf.nK(W[0],g.jv);delete g.sD.r1058}if(g.sD.r1060){var F=k.KO(g.sD.r1060);kf.aaB(F,g.jv);delete g.sD.r1060}if(g.sD.r1065){var K=g.sD.r1065;
g.Yf={};bZ.iQ(K,g.Yf,4,!1)}if(g.sD.r1069){var K=g.sD.r1069,G=[];for(var P=2;P<K.length;P+=4){var A=k.r(K,P);
for(var L=0;L<g.g.length;L++){var w=g.g[L];if(w.add.lyid==A&&w.add.lsct!=3)G.push(L)}}g.z=G}if(g.sD.r1025){var Q=g.sD.r1025;
delete g.sD.r1025;var T=jr.Jh(Q,0,Q.length,g.m,g.n),j=new l.tU;j._=T;g.Ml[0]=f0.ox("Working Path",{vmsk:j})}var p=g.add.pths;
delete g.add.pths;var n=g.sD.r3000;if(n){M={};bZ.iQ(n,M,4,!1);delete g.sD.r3000}if(p)g.Wr=p.pathSymmetrySelectedPath!=null;
for(var d=0;d<=997;d++){var V="r"+(2e3+d),Q=g.sD[V];if(Q==null)break;var T=jr.Jh(Q,0,Q.length,g.m,g.n),z="Path "+d;
if(p){var I=p.pathList.v[d].v;z=I.pathUnicodeName.v;if(z=="Tile Symmetry 1")continue}var v=M?M.keyRootDescriptorList.v[d].v.keyDescriptorList.v:l.LP(T),j=new l.tU;
j._=T;g.Ml.push(f0.ox(z,{vmsk:j,vogk:v}));delete g.sD[V]}delete g.iW;var gj=g.sD.r7000,jA=g.sD.r7001;
if(gj){var Y=k.KO(gj);g.dI=gr.E5(Y)}if(jA){var Y=k.KO(jA);g.h8=gr.hd(Y)}delete g.sD.r7000;delete g.sD.r7001;
var jv=new dS(0,0,g.m,g.n),iR=g.add.Txt2,cj=iR;if(cj){cj=cj.sw;if(cj._DocumentResources==null)cj=hi.agH(cj)}for(var P=0;
P<g.g.length;P++){var w=g.g[P],at=w.add.lsct,jd=w.add.vmsk,fM=w.Zv();if(at==g4.wR){af++;w.add.lspf=0}else if(at==g4.DM||at==g4.Ab)af--;
if(w.name==""){w.name="Layer "+(P+1);gW=!0}if(gW&&w.xp()&&w.wS=="norm")w.wS="pass";if(w.ov()&&w.nE(g).B){var hS=w.nE(g);
hS.B.isEnabled=w.add.SoLd.filterFX.v.filterMaskEnable.v}if(jd&&w.HS()){var dr=k8.Sq.default;if(w.add.vstk==null)w.add.vstk=JSON.parse(JSON.stringify(dr));
else{var cB="strokeStyleLineDashSet";if(w.add.vstk[cB]==null)w.add.vstk[cB]=JSON.parse(JSON.stringify(dr[cB]))}w.add.vstk.strokeStyleResolution.v=g.wY}if(jd&&(w.add.vogk==null||f.J.nM(jd._)!=w.add.vogk.length))w.LP();
if(w.add.SoLd&&w.rect.fg()){console.log("redrawing smart instance");w.Qu(g)}if(fM==null&&w.B!=null){if(w.B.NR==!1){w.B.NR=!0;
w.ad=w.B.clone()}}fM=w.Zv();if(w._y){var dr=w._y,j=jd;if(fM){fM._X=dr[0];fM.Lp=dr[1]}if(j){j._X=dr[2];
j.Lp=dr[3]}w._y=null}if(fM!=null&&jd!=null&&(fM.Lp+jd.Lp!=0||fM._X+jd._X!=2*255))w.th(g);else if(jd!=null&&!w.HS())w.th();
else if(fM&&fM._X!=255&&w.HS())w.th(g);var b1=w.add.artb;if(b1&&b1.artboardBackgroundType==null)b1.artboardBackgroundType={t:"long",v:1};
if(b1&&af!=0)delete w.add.artb;var ic=w.add.vstk;if(w.HS()&&(w.rect.fg()||jd&&jd.Lp!=0||ic&&!ic.fillEnabled.v&&(!ic.strokeEnabled.v||ic.strokeStyleLineWidth.v.val==0)))w.QW(g);
if(w.add.TySh){j8=!0;if(!w.rect.fg())as=!1}if(w.add.TySh&&cj){var dV=w.add.TySh.cW.TextIndex.v;if(dV==-1)continue;
var eS=w.add.TySh.Fd,a2=fS.f5(eS),d3=cj._DocumentObjects._TextObjects;if(d3.length<=dV){console.log("Txt2 incomplete");
continue}var cE=d3[dV]._Model,eP=cE._StyleRun?cE._StyleRun._RunArray:[],jm=eS.EngineDict.StyleRun.RunArray;
for(var bD=0;bD<jm.length;bD++){var f1=jm[bD].StyleSheet.StyleSheetData;if(eP[bD]==null)continue;var ft=eP[bD]._RunData._StyleSheet._Features;
if(ft&&ft._BaselineDirection)f1.BaselineDirection=parseInt(ft._BaselineDirection.slice(1));if(ft&&ft._FillBackgroundFlag)f1._FillBackgroundFlag=ft._FillBackgroundFlag;
if(ft&&ft._FillBackgroundColor){var ie=ft._FillBackgroundColor,b2=ie._Color._Values.slice(0);for(var L=0;
L<4;L++)b2[L]=parseFloat(b2[L].slice(1));f1._FillBackgroundColor={Type:1,Values:b2}}if(ft&&ft._LineWidth)f1._LineWidth=parseFloat(ft._LineWidth.slice(1))}var dh=eS.EngineDict.ParagraphRun.RunArray,aY=cE._ParagraphRun._RunArray;
if(aY==null)aY=[];var eF=Math.min(aY.length,dh.length);for(var L=0;L<eF;L++){var de=dh[L].ParagraphSheet.Properties,i5=cj._DocumentResources._ParagraphSheetSet._Resources,eA=aY[L]._RunData._ParagraphSheet;
if(typeof eA=="string")eA=i5[parseInt(eA.slice(1))]._Resource;var c4=eA._Parent==null?eA:i5[parseInt(eA._Parent.slice(1))]._Resource;
eA=eA._Features;c4=c4._Features;var jC=eA._ParagraphDirection;if(jC==null)jC=c4._ParagraphDirection;
if(jC)de._Direction=parseInt(jC.slice(1));if(eA._ComposerEngine)de._ComposerEngine=parseInt(eA._ComposerEngine.slice(1))}if(cE._AlternateGlyphRun){var aY=cE._AlternateGlyphRun._RunArray,eF=aY.length,hd=eS.EngineDict.AlternateGlyphRun=fS.apb();
for(var L=0;L<eF;L++){var eA=aY[L],iG={},cC=eA._RunData._AlternateGlyphSheet;if(cC)iG.Glyph=parseInt(cC._Glyph.slice(1));
hd.RunArray.push(iG);hd.RunLengthArray.push(parseInt(eA._Length.slice(1)))}}var cL=cj._DocumentResources,dw=cL._TextFrameSet._Resources,eY=dw[dV]._Resource,cf=eY._Data,d7=new eV(1,0,0,1,0,0);
if(eY._0){var hs=parseFloat(eY._0[0].slice(1)),hz=parseFloat(eY._0[1].slice(1));d7.translate(hs,hz)}if(a2){d7.translate(a2[0],a2[1]);
fS.N2(eS,[0,0,a2[2]-a2[0],a2[3]-a2[1]])}else{if(eY._Bezier&&eY._Bezier._Points){var T=eY._Bezier._Points,hs=parseFloat(T[0].slice(1)),hz=parseFloat(T[1].slice(1));
if(hs!=0||hz!=0){d7.translate(hs,hz)}}}if(eY._Data&&eY._Data._FrameMatrix){var bx=eY._Data._FrameMatrix;
bx=bx.map(function(j1){return parseFloat(j1.slice(1))});d7.concat(new eV(bx[0],bx[1],bx[2],bx[3],bx[4],bx[5]))}d7.concat(w.add.TySh.D);
w.add.TySh.D=d7;var m=cf._Type?parseInt(cf._Type.slice(1)):0;if(m==2||m==1&&cf._PathData&&cf._PathData._Spacing=="i-3")if(eY._Bezier){var dO=function(j1){return parseFloat(j1.slice(1))},T=eY._Bezier._Points.map(dO);
if(a2)f.p.D(T,new eV(1,0,0,1,-a2[0],-a2[1]),T);var hN=cf._PathData?cf._PathData._Reversed:!1,jn=cf._TextOnPathTRange;
if(jn==null)jn=["f-3","f-3"];eS.Curve={Points:T,TextOnPathTRange:jn.map(dO),Reversed:hN==null?!1:hN};
w.add.TySh.add={vmsk:new l.tU,vogk:null};fS.qL(w.add.TySh)}if(cf._LineOrientation=="i2")eS._LineOrientation=2}}R.ha.cw(g,!0);
var iP={},jD=[];for(var P=0;P<g.g.length;P++){var dg=g.g[P].add.lyid;if(dg==null)continue;var io=Math.max(io,dg);
if(iP[dg]!=null)jD.push(P);else iP[dg]=!0}for(var P=0;P<jD.length;P++)g.g[jD[P]].add.lyid=io+1+P};gr.zz=function(u,g){var K=k.r(u,g+12),X=[];
for(var P=0;P<K;P++){var w=u[g+16+P*5+4],D=k.vr(u,g+16+P*5)/32;X.push([w,D])}return X};gr.E5=function(u){var g=new DOMParser,K=g.parseFromString(u,"text/xml").firstChild.children[0],X=K.getElementsByTagName("variables");
if(X.length==0)return[];X=X[0].children;var w=[],D="varName trait docRef placementMethod align valign clip".split(" ");
for(var q=0;q<X.length;q++){var C=X[q],a={};w.push(a);for(var x=0;x<D.length;x++){var H=D[x],$=C.getAttribute(H);
if($==null)continue;a[H]=$}}return w};gr.hd=function(u){var g=new DOMParser,K=g.parseFromString(u,"text/xml").firstChild.children,X=[[]];
for(var P=0;P<K.length;P++){var w=K[P],D=[];X.push(D);for(var q=0;q<w.children.length;q++){var C=w.children[q];
if(P==0)X[0].push(C.tagName);D.push(C.textContent)}}return X};gr.hA=function(u,g,K){R.ha.Bc(u);R.ha.cw(u,!1);
u.iW=K[3]==!0;var X=[],w=[],O=0,m=1,N=16,jd=0;for(var P=0;P<u.g.length;P++){var D=u.g[P];if(D.ov()&&D.nE(u).B){D.add.SoLd.filterFX.v.filterMaskEnable.v=D.nE(u).B.isEnabled}if(D.add.TySh){var q=D.add.TySh.Fd,C=fS._k(q);
D.add.TySh.cW.TextIndex={t:"long",v:X.length};X.push(q);if(C==2)fS.Z$(D.add.TySh)}var x=D.add.vstk;if(x)x.strokeStyleResolution.v=u.wY;
if(D.HS()||K[2]&&D.add.SoLd){w[P]=[D.rect,D.buffer];D.rect=new dS;D.buffer=f.L(0);if(D.add.SoLd){var H=D.nE(u);
if(H!=null){w[P].push(H.buffer);H.buffer=f.L(H.buffer.length)}}}}if(X.length>0){var $=u.add.Txt2?u.add.Txt2.sw:null;
if(u.add.Txt2==null)u.add.Txt2={};u.add.Txt2.sw=dH.a34(X,null,$)}var r=[u.add.lnk2,u.add.FEid,u.add.Patt],c=u.aas(u.g);
u.a0K(c);u.sD.r1005=new Uint8Array([0,0,0,0,0,1,0,2,0,0,0,0,0,1,0,2]);k.TH(u.sD.r1005,0,u.wY);k.TH(u.sD.r1005,8,u.wY);
if(u.N6()){u.sD.r1022=new Uint8Array([0,3+u.g1.length-1,0])}else delete u.sD.r1022;var U=new Uint8Array(u.g.length*2),A=new Uint8Array(u.g.length);
for(var P=0;P<u.g.length;P++){var D=u.g[P],i=D.lz,e=D.rJ?1:0;k.Q$(U,P*2,i);A[P]=e;if(i>O)O=i;if(e==0)m=0}if(O>0)u.sD.r1026=U;
if(m<1)u.sD.r1072=A;var S=u.m_,E=S.length,Z=u.sD.r1032=f.L(16+5*E,!0);k.eB(Z,0,1);k.eB(Z,4,576);k.eB(Z,8,576);
k.eB(Z,12,E);for(var P=0;P<E;P++){k.ud(Z,N,Math.round(S[P][1]*32));Z[N+4]=S[P][0];N+=5}if(K[0]!=!0){var J=[u.buffer,new dS(0,0,u.m,u.n)],y=0;
f.mm(J);while(J[y+1].$()>200*200)y+=2;var o=eH.IB("jpg"),B=J[y+1],t=new Uint8Array(o.si([[J[y].buffer]],B.m,B.n)),Z=u.sD.r1036=f.L(28+t.length);
k.eB(Z,0,1);k.eB(Z,4,B.m);k.eB(Z,8,B.n);k.eB(Z,12,B.m*3);k.eB(Z,16,B.$()*3);k.eB(Z,20,t.length);k.Q$(Z,24,24);
k.Q$(Z,26,1);Z.set(t,28)}var W=f.b6(u.buffer),F=[];if(W)F.push({name:"Transparency",QF:{w:255,A:0,U:0},Lm:100,rM:1});
F=F.concat(u.g1);delete u.sD.r1045;delete u.sD.r1006;delete u.sD.r1077;var G=new jx;N=0;var L=new Uint8Array(4+F.length*13);
L[3]=1;for(var P=0;P<F.length;P++){var Q=F[P],T=Q.name+"\0";k.Tf(G,N,T);N+=4+T.length*2;var j=4+P*13;
fb.Hi(L,j,Q.QF);L[j+11]=Q.Lm;L[j+12]=Q.rM}u.sD.r1045=G.data.slice(0,N);u.sD.r1077=L;for(var P=0;P<u.BD.length;
P++)u.BD[u.BD.length-P-1].v.sliceID.v=2+P*3;var p={classID:"null",baseName:{t:"TEXT",v:"User"},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},slices:{t:"VlLs",v:u.BD}},G=new jx;
k.q2(G,0,8);k.q2(G,4,16);var M=bZ.l4(G,p,8);u.sD.r1050=G.data.slice(0,M+8);var G=new jx;k.q2(G,0,16);
var M=bZ.l4(G,u.Yf,4);u.sD.r1065=G.data.slice(0,M+4);var n=u.z;Z=u.sD.r1069=f.L(2+n.length*4,!0);k.Q$(Z,0,n.length);
for(var P=0;P<n.length;P++)k.eB(Z,2+4*P,u.g[n[P]].add.lyid);delete u.sD.r1058;delete u.sD.r1060;if(Object.keys(u.jv).length!=0){var d=[{t274:[1],t282:[[72,1]],t283:[[72,1]],t296:[2]},{t259:[6],t282:[[72,1]],t283:[[72,1]],t296:[2],t513:[302],t514:[0]}];
kf.bl(u.jv,d[0],K[0]&&K[1]);u.sD.r1058=new Uint8Array(UTIF.encode(d));var V=kf.anv(u.jv);u.sD.r1060=k.o0(V)}var z=[],I=[],v=u.Ml.slice(0);
if(u.Wr){var gj=jr.Cb([{type:6},{type:8,all:0},{type:3,length:5,frule:1,third:2,prmA:0,prmB:0},{type:5,c:[0,0,0,0,0,0]},{type:5,c:[20,0,20,0,20,0]},{type:5,c:[20,20,20,20,20,20]},{type:5,c:[0,20,0,20,0,20]},{type:5,c:[0,0,0,0,0,0]}]),jA=new l.tU;
jA._=gj;v.push(f0.ox("Tile Symmetry 1",{vmsk:jA,vogk:l.LP(gj)}))}for(var P=0;P<v.length;P++){var Y=v[P],gj=Y.add.vmsk._;
if(P==0&&gj.length==2)continue;var jv=f.L(gj.length*26);jr.tT(jv,0,gj,u.m,u.n);var iR=P==0?1025:2e3+P-1;
u.sD["r"+iR]=jv;if(P!=0){var cj={classID:"pathInfoClass",pathUnicodeName:{t:"TEXT",v:Y.name}};if(Y.name=="Tile Symmetry 1")cj.pathSymmetryClass={t:"Objc",v:{classID:"pathSymmetryClass",pathSymmetryMode:{t:"enum",v:{pathSymmetryModeEnum:"pathSymmetryModeRectangularTile"}},pathSymmetryCount:{t:"long",v:1}}};
z.push({t:"Objc",v:cj});I.push({t:"Objc",v:{classID:"null",keyDescriptorList:{t:"VlLs",v:Y.add.vogk}}})}}if(z.length!=0){u.add.pths={classID:"pathsDataClass",pathList:{t:"VlLs",v:z}};
if(u.Wr)u.add.pths.pathSymmetrySelectedPath={t:"long",v:z.length-1};I={classID:"null",keyRootDescriptorList:{t:"VlLs",v:I}};
var G=new jx;k.q2(G,0,16);var M=bZ.l4(G,I,4);u.sD.r3000=G.data.slice(0,M+4)}else{delete u.add.pths;delete u.sD.r3000}if(u.dI.length!=0){var j8="<variableSets xmlns=\"http://ns.adobe.com/Variables/1.0/\">\n"+"<variableSet locked=\"none\" varSetName=\"binding1\">\n"+"<variables>";
for(var P=0;P<u.dI.length;P++){var as=u.dI[P],gW=[];for(var iR in as)gW.push(iR+"=\""+as[iR]+"\"");j8+="<variable "+gW.join(" ")+">\n</variable>\n"}j8+="</variables>\n</variableSet>\n</variableSets>";
u.sD.r7000=k.o0(j8)}if(u.h8.length!=0){var j8="<sampleDataSets psdPath=\""+u.name+"\">\n";for(var P=1;
P<u.h8.length;P++){var af=u.h8[P];j8+="<sampleDataSet dataSetName=\"Data Set "+P+"\">\n";for(var at=0;
at<af.length;at++)j8+="<"+u.h8[0][at]+">"+af[at].replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</"+u.h8[0][at]+">\n";
j8+="</sampleDataSet>\n"}j8+="</sampleDataSets>";u.sD.r7001=k.o0(j8)}jd=gr.afa(u,g,jd,3+F.length);jd=gr.ak1(u,g,jd);
jd=gr.aeJ(u,g,jd);jd=gr.ajM(u,g,jd,K,W);jd=gr.a7v(u,g,jd,K[0],W);var fM=[1025,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,7e3,7001];
for(var P=0;P<fM.length;P++)delete u.sD["r"+fM[P]];for(var P=0;P<u.g.length;P++){var D=u.g[P];if(D.HS()||K[2]&&D.add.SoLd){D.rect=w[P][0];
D.buffer=w[P][1];if(w[P][2]){var H=D.nE(u);w[P].push(H.buffer);H.buffer=w[P][2]}}}u.a0K(r);R.ha.cw(u,!0);
delete u.iW;return jd};gr.n3=function(u,g,K){var X=k.u6(g,K,4);K+=4;if(X!="8BPS")alert("invalid header signature: "+X);
var w=k.Z_(g,K);K+=2;u.iW=w==2;if(w!=1&&w!=2)alert("invalid version: "+w);K+=6;u.us=k.Z_(g,K);K+=2;u.n=k.vr(g,K);
K+=4;u.m=k.vr(g,K);K+=4;u.g0=k.Z_(g,K);K+=2;u.Ex=k.Z_(g,K);K+=2;return K};gr.afa=function(u,g,K,X){g._s(0,64);
k.Gs(g.data,K,"8BPS");K+=4;k.Q$(g.data,K,u.iW?2:1);K+=2;k.eB(g.data,K,0);K+=4;k.Q$(g.data,K,0);K+=2;
k.Q$(g.data,K,X);K+=2;k.ud(g.data,K,u.n);K+=4;k.ud(g.data,K,u.m);K+=4;k.Q$(g.data,K,8);K+=2;k.Q$(g.data,K,3);
K+=2;return K};gr.aoM=function(u,g,K){var X=k.vr(g,K);K+=4;if(X!=0)u.iX=g.slice(K,K+X);K+=X;return K};
gr.ak1=function(u,g,K){k.XZ(g,K,0);K+=4;return K};gr.avR=function(u,g,K){var X=k.r(g,K),w=0;K+=4;var D=[];
while(w<X){var q=k.u6(g,K+w,4);w+=4;var C=k.Z_(g,K+w);w+=2;var a=k.Ni(g,K+w);w+=a.length;if(q=="MeSa"&&(C==7e3||C==7001)){}else if(q!="8BIM"){D.push(C);
console.log("Unknown Image Resources signature: "+q+", ID: "+C)}var x=k.r(g,K+w);w+=4;if(u.sD["r"+C]!=null)console.log("--- two resources with same ID");
u.sD["r"+C]=k.au(g,K+w,x);w+=x+(x&1)}for(var P=0;P<D.length;P++)delete u.sD["r"+D[P]];return K+X};gr.aeJ=function(u,g,K){var X=K,q=0;
K+=4;var w=[];for(var D in u.sD){w.push(parseInt(D.slice(1)))}w.sort(function($,r){return $-r});for(var P=0;
P<w.length;P++){var C=w[P];k.Xp(g,K+q,C==7e3||C==7001?"MeSa":"8BIM");q+=4;k.ss(g,K+q,C);q+=2;var a=k.wh(g,K+q,"");
q+=a;var x=u.sD["r"+C],H=x.length;k.q2(g,K+q,H);q+=4;k.jj(g,K+q,x);q+=H;if(H%2==1)q++}k.q2(g,X,q);return K+q};
gr.ae3=function(u,g,K){var X=K,w,D,q=u.iW?8:4;if(u.iW)w=k.Nm(g,K);else w=k.r(g,K);K+=q;if(w==0)return X+q;
D=gr.acc(u,g,K);gr.c3(1,D-K,"Layer Info");K=D;D=gr.adL(u,g,K);gr.c3(1,D-K,"Global Layer Mask Info");
K=D;D=aG.hP(g,K,X+q+w,u.add,u.iW,u);gr.c3(1,D-K,"Project Add Info");K=D;return X+q+w};gr.ajM=function(u,g,K,X,w){var D=K;
k.q2(g,K,0);K+=4;if(u.iW){k.q2(g,K,0);K+=4}K=gr.a3T(u,g,K,X,w);K=gr.auT(u,g,K);K=aG.sr(g,K,u.add,u.iW,u);
if(u.iW)k.xn(g,D,K-D-8);else k.q2(g,D,K-D-4);return K};gr.acc=function(u,g,K){var X,w=u.iW?8:4;if(u.iW)X=k.Nm(g,K);
else X=k.r(g,K);K+=w;if(X!=0)gr.R6(u,g,K);return K+X};gr.R6=function(u,g,K){var X=k.ST(g,K);K+=2;var w=Math.abs(X);
for(var P=0;P<w;P++){var D=new l;K=gl.h7(D,u,g,K);u.g[P]=D}var q=new dS(0,0,u.m,u.n);for(var P=0;P<w;
P++){var C=u.g[P],a=C.Zv(),x=i$.h7(C,u,g,K);if(x-K>8)gr.c3(2,x-K,"Lay: "+C.getName());K=x;gr.xi(C,q);
if(a)gr.xi(a,q)}};gr.xi=function(u,g){var K=u.rect.$(),X=u.rect.I3(g),w=X.$()/K;if(K>2e3*3e3&&w<.5){if(u.buffer){var D=f.L(X.$()*4);
f.bV(u.buffer,u.rect,D,X);u.buffer=D;u.rect=X}else{var D=f.L(X.$());f.x5(u.channel,u.rect,D,X);u.channel=D;
u.rect=X}alert("Removing hidden parts of layers")}};gr.a3T=function(u,g,K,X,w){var D=K,q=u.iW;K+=q?8:4;
K=gr.JG(u,g,K,X,w);var C=K-D-(q?8:4);if(C%2!=0)C++;if(q)k.xn(g,D,C);else k.q2(g,D,C);return D+C+(q?8:4)};
gr.JG=function(u,g,K,X,w){var D=u.g.length;k.Fw(g,K,w?-D:D);K+=2;var q=[];for(var P=0;P<D;P++)K=gl.hA(u.g[P],u,g,K,q);
for(var P=0;P<D;P++)K=i$.P8(u.iW,u.g[P],g,K,q[P],X);return K};gr.adL=function(u,g,K){var X=k.r(g,K);
K+=4;K+=X;return K};gr.auT=function(u,g,K){var X=k.q2(g,K,0);K+=4;return K};gr.aos=function(u,g,K){var X=u.Ex,w="Bitmap Grayscale Indexed RGB CMYK Multichannel Duotone Lab".split(" "),D=[1,1,1,3,4,1,1,3],q,O;
if(X!=3){if(X==1||X==2||X==4)console.log("Project will be converted from "+w[X]+" to "+w[3]+" mode.");
else{alert("Color mode "+w[X]+" is not supported yet :(")}if(X==4)u.add.fcmy=1}if(u.sD.r1045){q=[];var C=u.sD.r1045,a=0;
while(a<C.length){var x=k.o$(C,a);q.push(x);a+=4+2+x.length*2}}var H=D[X]+(q==null||q[0]=="Transparency"?1:0),$=u.m,r=u.n,c=$*r,U=k.Z_(g,K);
K+=2;u.buffer=f.L(c*4);f.D4(u.buffer,4278190080);var A=K;for(var m=0;m<u.us;m++){if(U==0){O=i$.SN(u.iW,u.g0,g,$,r,K,U);
K+=c*(u.g0>>>3)}else if(U==1){O=f.L(c);var i=u.iW?4:2;if(m==0)K+=u.us*r*i;K+=i$.gd(g,O,$,r,A+m*r*i,K,i)}else{console.log("unknown compression of image data: ",U);
return}if(m<H){f.K1(O,u.buffer,m);if(u.us==1&&m==0){f.K1(O,u.buffer,1);f.K1(O,u.buffer,2)}}else{var e=new l.I2,S=m-H,E=m-D[u.Ex];
e.name=q?q[E]:"Alpha";if(e.name=="Quick Mask"){e.dd=!0;u.qT.push(S)}e.rect=new dS(0,0,$,r);e.channel=O;
e.color=0;e.b3();u.g1[S]=e;if(u.sD.r1077){var C=u.sD.r1077.slice(4+E*13);e.QF=fb.$_(C,0);e.Lm=C[11];
e.rM=C[12];if(e.rM==2)e.dd=!0}}}u.us=4;if(u.Ex==2)for(var P=0;P<c;P++){var Z=P*4,N=u.buffer[Z];u.buffer[Z]=u.iX[0+N];
u.buffer[Z+1]=u.iX[256+N];u.buffer[Z+2]=u.iX[512+N]}return K};gr.a7v=function(u,g,K,X,w){var D=1,q=16,C=u.m,a=u.n,H,$;
k.ss(g,K,D);K+=2;var x=C*a;if(!X){$=new f.bs(C*a);f.Jw(u.buffer,$);var r=$.w,c=$.A,U=$.U,O=$._x;for(var P=0;
P<x;P++){var A=O[P]*(1/255);r[P]=~~(r[P]*A+255*(1-A));c[P]=~~(c[P]*A+255*(1-A));U[P]=~~(U[P]*A+255*(1-A))}}else H=f.L(x);
var m=[H,H,H];if(!X)m=[$.w,$.A,$.U];if(w)m.push(X?H:$._x);for(var P=0;P<u.g1.length;P++){m.push(u.g1[P].WC(new dS(0,0,u.m,u.n)))}var i=K;
for(var e=0;e<m.length;e++){g._s(K,C*a+4);H=m[e];if(D==0||D==2||D==3)K=i$.p3(u.iW,H,g.data,C,a,K,D);
else{var S=u.iW?4:2;if(e==0)K+=m.length*a*S;var E=K;K+=i$.qP(H,g.data,C,a,i+e*a*S,K,S)}}return K};function ju(){}ju.h7=function(u){var g={};
ju.ML(u,g,0,0);return g};ju.hA=function(u,g){var K=0;K=ju.kr(u,g,K,0);return K};ju.ML=function(u,g,K,X){while(u[K]!="<".charCodeAt(0))K++;
K+=2;while(!0){if(u[K]=="/".charCodeAt(0)){K++;var w=k.indexOf(u," ".charCodeAt(0),K,K+50),D=k.indexOf(u,"\n".charCodeAt(0),K,K+50);
if(D==-1)D=Infinity;if(w==-1)w=Infinity;var q=Math.min(D,w),C=k.u6(u,K,q-K),a=ju.Fu(u,q+1,X+1,C);g[C]=a.h;
K=q+1;K+=a.size}else if(u[K]==">".charCodeAt(0)){K+=2;break}else{var x=u[K];if(x==10||x==9||x==32)K++;
else{console.log("unknown byte: "+x+", char: "+String.fromCharCode(x),K);K++}}}return K};ju.kr=function(u,g,K,X){k.Xp(g,K,"<<\n");
K+=3;var w=ju.ab8;for(var D in u){k.iG(g,K,"\t".charCodeAt(0),X+1);K+=X+1;k.Xp(g,K,"/"+D);K+=1+D.length;
if(w(u[D])||u[D]instanceof Array){k.Xp(g,K," ");K++}else{k.Xp(g,K,"\n");K++;k.iG(g,K,"\t".charCodeAt(0),X+1);
K+=X+1}K=ju.mg(u[D],g,K,X+1);k.Xp(g,K,"\n");K++}k.iG(g,K,"\t".charCodeAt(0),X);K+=X;k.Xp(g,K,">>");K+=2;
return K};ju.Fu=function(u,g,K,X){var w=g,D={size:0,h:0};while(!0){while(u[g]==" ".charCodeAt(0)||u[g]=="\t".charCodeAt(0)||u[g]=="\n".charCodeAt(0))g++;
if(u[g]=="<".charCodeAt(0)){D.h={};g=ju.ML(u,D.h,g,K+1);break}else if(u[g]=="(".charCodeAt(0)){g+=3;
var q=g;while(!0){if(u[q-1]!="\\".charCodeAt(0)&&u[q]==")".charCodeAt(0)&&(u[q+1]=="\n".charCodeAt(0)||u[q+1]==" ".charCodeAt(0)))break;
else q++}D.h=k.od(u,g,q);g=q+2;break}else if(u[g]=="[".charCodeAt(0)){g++;D.h=[];while(u[g]==" ".charCodeAt(0)||u[g]=="\t".charCodeAt(0)||u[g]=="\n".charCodeAt(0))g++;
while(u[g]!="]".charCodeAt(0)){var C=ju.Fu(u,g,K+1,X);D.h.push(C.h);g+=C.size;while(u[g]==" ".charCodeAt(0)||u[g]=="\t".charCodeAt(0)||u[g]=="\n".charCodeAt(0))g++}g++;
break}else{var a=k.indexOf(u," ".charCodeAt(0),g,g+50),x=k.indexOf(u,"\n".charCodeAt(0),g,g+50);if(x==-1)x=Infinity;
if(a==-1)a=Infinity;var H=k.u6(u,g,Math.min(a,x)-g).trim(),$=parseFloat(H);if(!isNaN($)){D.h=parseFloat(H);
g=Math.min(a,x)+1;break}else if(H=="true"||H=="false"){D.h=H=="true";g=Math.min(a,x)+1;break}else if(H=="null"||H=="NaN"||H=="undefined"){D.h=0;
g=Math.min(a,x)+1;break}else{console.log("unknown identifier: "+H);throw"e"}g=Math.min(a,x)+1}}D.size=g-w;
return D};ju.mg=function(u,g,K,X){if(u instanceof Array){var w=u.length==0||typeof u[0]=="number";if(w){k.Xp(g,K,"[ ");
K+=2;for(var P=0;P<u.length;P++){var D=u[P]+" ";k.Xp(g,K,D);K+=D.length}k.Xp(g,K,"]");K+=1}else{k.Xp(g,K,"[\n");
K+=2;for(var P=0;P<u.length;P++){k.iG(g,K,"\t".charCodeAt(0),X);K+=X;K=ju.mg(u[P],g,K,X);k.Xp(g,K,"\n");
K++}k.iG(g,K,"\t".charCodeAt(0),X);K+=X;k.Xp(g,K,"]");K+=1}}else if(u instanceof Object){K=ju.kr(u,g,K,X)}else if(typeof u=="string"){k.Xp(g,K,"(");
K++;k.iG(g,K,254);K++;k.iG(g,K,255);K++;K=k.pa(g,K,u);k.Xp(g,K,")");K+=1}else{var D=u+"";k.Xp(g,K,D);
K+=D.length}return K};ju.ab8=function(u){var g=typeof u;return g=="string"||g=="number"||g=="boolean"};
function fy(){}fy.h7=function(u){var g={};fy.SJ(u,g,0,0);return g};fy.hA=function(u,g){var K=0;k.Xp(g,K," ");
K++;K=fy.zd(u,g,K,0);K--;g._s(K,2);g.data[K]=g.data[K+1]=0;K+=2;return K};fy.ML=function(u,g,K,X){while(u[K]!="<".charCodeAt(0)){K++;
console.log("\u0161ipka")}K+=2;K=fy.SJ(u,g,K,X);return K};fy.kr=function(u,g,K,X){k.Xp(g,K,"<< ");K+=3;
K=fy.zd(u,g,K,X);k.Xp(g,K,">>");K+=2;return K};fy.pz=function(u){return u==9||u==10||u==32};fy.SJ=function(u,g,K,X){while(!0){while(fy.pz(u[K])||u[K]==0)K++;
if(K>=u.length)break;if(u[K]=="/".charCodeAt(0)){K++;var w=K;while(!fy.pz(u[w]))w++;var D=k.u6(u,K,w-K);
K=w+1;var q=fy.Fu(u,K,X,D);g["_"+D]=q.h;K+=q.size}else if(u[K]==">".charCodeAt(0)){K+=2;break}else{var C=u[K];
console.log(k.u6(u,K,K+100));console.log("unknown byte: "+C+", char: "+String.fromCharCode(C)+", offset: "+K);
K++;throw"e";return-1}}return K};fy.zd=function(u,g,K,X){for(var w in u){var D=w.substring(1,w.length);
k.Xp(g,K,"/"+D);K+=1+D.length;k.Xp(g,K," ");K++;K=fy.mg(u[w],g,K,X+1);k.Xp(g,K," ");K++}return K};fy.Fu=function(u,g,K,X){var w=g,D={type:"",size:0,h:0};
while(fy.pz(u[g]))g++;if(u[g]=="<".charCodeAt(0)){D.type="Object";D.h={};g=fy.ML(u,D.h,g,K+1)}else if(u[g]=="(".charCodeAt(0)){D.type="String";
g++;if(u[g]==")".charCodeAt(0)){D.h="e";g++}else{g+=2;var q=g,C=0;while(!0){if(u[q]==")".charCodeAt(0)&&u[q-1]!="\\".charCodeAt(0))break;
else q+=1}D.h="s"+k.od(u,g,q);g=q+2}}else if(u[g]=="[".charCodeAt(0)){g++;D.h=[];D.type="Array";while(fy.pz(u[g]))g++;
while(u[g]!="]".charCodeAt(0)){var a=fy.Fu(u,g,K+1,X);if(a==-1)return-1;D.h.push(a.h);g+=a.size;delete a.size;
while(fy.pz(u[g]))g++}g++}else{var x=g;while(!fy.pz(u[x]))x++;var H=k.u6(u,g,x-g),$=parseFloat(H);if(!isNaN($)&&H.indexOf(".")!=-1){D.type="Float";
var r=parseFloat(H);D.h="f"+r}else if(!isNaN($)&&H.indexOf(".")==-1){D.type="Integer";D.h="i"+parseInt(H)}else if(H=="true"||H=="false"){D.type="Boolean";
D.h=H=="true"}else if(H.charAt(0)=="/"){D.type="BString";D.h=H}else if(H=="NaN"){D.type="Float";D.h="f0"}else{console.log("unknown value",JSON.stringify(H));
throw"e"}g=x+1}D.size=g-w;return D};fy.ah4=function(u){if(u==Math.round(u))return u+".0";var g=u.toFixed(5);
while(g.endsWith("0")&&g[g.length-2]!=".")g=g.slice(0,g.length-1);if(0<u&&u<1)g=g.slice(1);if(-1<u&&u<0)g="-"+g.slice(2);
return g};fy.mg=function(u,g,K,X){var w=typeof u=="string"?u.charAt(0):"";if(u instanceof Array){k.Xp(g,K,"[ ");
K+=2;for(var P=0;P<u.length;P++){K=fy.mg(u[P],g,K,X);k.Xp(g,K," ");K++}k.Xp(g,K,"]");K+=1}else if(u instanceof Object){K=fy.kr(u,g,K,X)}else if(w=="e"){k.Xp(g,K,"()");
K+=2}else if(w=="s"){k.Xp(g,K,"(");K++;k.iG(g,K,254);K++;k.iG(g,K,255);K++;K=k.pa(g,K,u.substring(1));
k.Xp(g,K,")");K++}else if(w=="/"){k.Xp(g,K,u);K+=u.length}else if(w=="f"){var D=parseFloat(u.substring(1)),q=fy.ah4(D);
k.Xp(g,K,q);K+=q.length}else if(w=="i"){k.Xp(g,K,u.substring(1));K+=u.length-1}else{var q=u+"";k.Xp(g,K,q);
K+=q.length}return K};function k(){}k.ab9=function(eJ){var u="";for(var P=3;P>=0;P--)u+=String.fromCharCode(eJ>>P*8&255);
return u};k.aju=function(u){var eJ=0;for(var P=u.length-1;P>=0;P--)eJ|=u.charCodeAt(P)<<(3-P)*8;return eJ};
k.indexOf=function(u,g,K,X){if(K==null)K=0;if(X==null)X=u.length;X=Math.min(X,u.length);for(var P=K;
P<X;P++)if(u[P]==g)return P;return-1};k.BK=function(u,g,K){if(K==null)K=0;var X=g.length,w=u.length-X;
if(typeof g=="string"){var D=[];for(var P=0;P<X;P++)D.push(g.charCodeAt(P));g=D}if(g.length>0){var q=g[0];
for(var P=K;P<w;P++)if(u[P]==q){var C=!0;for(var a=1;a<X;a++)if(g[a]!=u[P+a]){C=!1;break}if(C)return P}}return-1};
k.od=function(u,g,K){var X=[],D="";while(g<K){var w=u[g++];if(w=="\\".charCodeAt(0))X.push(u[g++]);else X.push(w)}for(var P=0;
P<X.length;P+=2)D+=String.fromCharCode(X[P]<<8|X[P+1]);return D};k.axq=function(u,g,K){var X=new Uint8Array(2);
for(var P=0;P<K.length;P++){k.Q$(X,0,K.charCodeAt(P));if(X[0]==")".charCodeAt(0)||X[0]=="(".charCodeAt(0)||X[0]=="\\".charCodeAt(0)){u[g]="\\".charCodeAt(0);
g++}u[g]=X[0];g++;if(X[1]==")".charCodeAt(0)||X[1]=="(".charCodeAt(0)||X[1]=="\\".charCodeAt(0)){u[g]="\\".charCodeAt(0);
g++}u[g]=X[1];g++}return g};k.pa=function(u,g,K){u._s(g,4*K.length);return k.axq(u.data,g,K)};k.MS=function(u,g,K){var X="";
for(var P=0;P<K;P++){var w=u[g++]|u[g++]<<8;X+=String.fromCharCode(w)}return X};k.Fh=function(u,g,K){var X="";
for(var P=0;P<K;P++){var w=u[g++]<<8|u[g++];X+=String.fromCharCode(w)}return X};k.a6E=function(u,g,K){for(var P=0;
P<K.length;P++){var X=K.charCodeAt(P);k.bv(u,g+2*P,X)}};k.aV=function(u,g,K){for(var P=0;P<K.length;
P++){var X=K.charCodeAt(P);k.Q$(u,g+2*P,X)}};k.a59=function(u,g,K){u._s(g,2*K.length);k.aV(u.data,g,K)};
k.agA=function(u,P,g){var K=[],X=0,w=0;g+=P;while(P<g){X=u[P++];if((X&128)==0)w=X;else if((X&224)==192){w=(X&31)<<6;
X=u[P++];w|=X&63}else if((X&240)==224){w=(X&15)<<12;X=u[P++];w|=(X&63)<<6;X=u[P++];w|=X&63}else if((X&248)==240){w=(X&7)<<18;
X=u[P++];w|=(X&63)<<12;X=u[P++];w|=(X&63)<<6;X=u[P++];w|=X&63}else throw"e";K.push(w)}return K};k.cr=window.TextDecoder?new window.TextDecoder("utf8"):null;
k.KO=function(u,g,K){if(g==null)g=0;if(K==null)K=u.length;if(k.cr&&g==0&&K==u.length)return k.cr.decode(u);
var X=k.agA(u,g,K),w=X.length;for(var P=0;P<w;P++)X[P]=String.fromCharCode(X[P]);return X.join("")};
k.sv=window.TextEncoder?new window.TextEncoder("utf8"):null;k.o0=function(u){if(k.sv)return k.sv.encode(u);
var g=new Uint8Array(u.length*4),K=k.i5(u,g,0);return g.slice(0,K)};k.i5=function(u,g,K){var X=u.length,P=0;
for(var w=0;w<X;w++){var D=u.charCodeAt(w);if((D&4294967295-(1<<7)+1)==0){g[K+P]=D;P++}else if((D&4294967295-(1<<11)+1)==0){g[K+P]=192|D>>6;
g[K+P+1]=128|D>>0&63;P+=2}else if((D&4294967295-(1<<16)+1)==0){g[K+P]=224|D>>12;g[K+P+1]=128|D>>6&63;
g[K+P+2]=128|D>>0&63;P+=3}else if((D&4294967295-(1<<21)+1)==0){g[K+P]=240|D>>18;g[K+P+1]=128|D>>12&63;
g[K+P+2]=128|D>>6&63;g[K+P+3]=128|D>>0&63;P+=4}else throw"e"}return P};k.gH=function(u,g){var K=k.r(u,g),X=k.KO(u,g+4,K-1);
return{C9:X,I4:4+K}};k.aaW=function(u,g){var K=k.yY(u,g),X=k.MS(u,g+4,K);return X};k.Na=function(u,g){var K=k.r(u,g),X=k.Fh(u,g+4,K);
return X};k.o$=function(u,g){var K=k.r(u,g),X=k.Fh(u,g+4,K-1);return X};k.axb=function(u,g,K){k.fX(u,g,K.length);
g+=4;k.a6E(u,g,K)};k.a0t=function(u,g,K){k.eB(u,g,K.length);g+=4;k.aV(u,g,K)};k.Tf=function(u,g,K){u._s(g,4+2*K.length);
k.a0t(u.data,g,K)};k.ape=function(u,g,K){u._s(g,4+2*K.length);k.axb(u.data,g,K)};k.fD=function(u,g,K){var X=[];
for(var P=0;P<K;P++)X.push(String.fromCharCode(u[g+P]));return X};k.amm=function(u,g,K){var X=!1,w=u.length-K.length;
for(var P=g;P<w;P++){for(var D=0;D<K.length;D++){if(u[P+D]!=K.charCodeAt(D))break;if(D==K.length-1)return P}}};
k.u6=function(u,g,K){var X="";for(var P=0;P<K;P++)X+=String.fromCharCode(u[g+P]);return X};k.Gs=function(u,g,K){for(var P=0;
P<K.length;P++)u[g+P]=K.charCodeAt(P)};k.Xp=function(u,g,K){u._s(g,K.length);k.Gs(u.data,g,K)};k.a3G=function(u,g,K){var X="";
for(var P=0;P<K;P++){var w=u[g+P];if(w<10)X+="  ";else if(w<100)X+=" ";X+=w+", "}return X};k.Z_=function(u,g){return u[g]<<8|u[g+1]};
k.Q$=function(u,g,eJ){u[g]=eJ>>8&255;u[g+1]=eJ&255};k.ss=function(u,g,eJ){u._s(g,4);k.Q$(u.data,g,eJ)};
k.asO=function(u,g){var K=k.Z_(u,g),X=k.Z_(u,g+2);return K+X*(1/65536)};k.TH=function(u,g,eJ){var K=Math.floor(eJ),X=Math.floor((eJ-K)*65536);
k.Q$(u,g,K);k.Q$(u,g+2,X)};k.bh=function(u,g){return u[g+1]<<8|u[g]};k.bv=function(u,g,eJ){u[g+1]=eJ>>8&255;
u[g]=eJ&255};k.rQ=function(u,g,eJ){u._s(g,4);k.bv(u.data,g,eJ)};k.ST=function(u,g){k.Uh[0]=u[g+1];k.Uh[1]=u[g];
return k.pQ[0]};k.rL=function(u,g){k.Uh[0]=u[g];k.Uh[1]=u[g+1];return k.pQ[0]};k.hS=k.Q$;k.Fw=k.ss;k.vr=function(u,g){k.c8[0]=u[g+3];
k.c8[1]=u[g+2];k.c8[2]=u[g+1];k.c8[3]=u[g];return k.dz[0]};k.ud=function(u,g,eJ){k.dz[0]=eJ;u[g+3]=k.c8[0];
u[g+2]=k.c8[1];u[g+1]=k.c8[2];u[g+0]=k.c8[3]};k.XZ=function(u,g,eJ){u._s(g,4);k.ud(u.data,g,eJ)};k.HY=function(u,g,K,X){K[X+0]=u[g+0];
K[X+1]=u[g+1];K[X+2]=u[g+2];K[X+3]=u[g+3]};k.yY=function(u,g){k.HY(u,g,k.c8,0);return k.ig[0]};k.fX=function(u,g,eJ){k.ig[0]=eJ;
k.HY(k.c8,0,u,g)};k.o3=function(u,g,eJ){u._s(g,4);k.fX(u.data,g,eJ)};k.q$=function(u,g){k.HY(u,g,k.c8,0);
return k.dz[0]};k.awH=function(u,g,eJ){k.dz[0]=eJ;k.HY(k.c8,0,u,g)};k.app=function(u,g,eJ){u._s(g,4);
k.awH(u.data,g,eJ)};k.r=function(u,g){var K=u[g]*(256*256*256)+(u[g+1]<<16|u[g+2]<<8|u[g+3]);return K};
k.eB=function(u,g,eJ){u[g]=eJ>>24&255;u[g+1]=eJ>>16&255;u[g+2]=eJ>>8&255;u[g+3]=eJ>>0&255};k.q2=function(u,g,eJ){u._s(g,4);
k.eB(u.data,g,eJ)};k.Nm=function(u,g){return k.r(u,g)<<32|k.r(u,g+4)};k.HZ=function(u,g,eJ){k.eB(u,g,eJ>>16>>16);
k.eB(u,g+4,eJ&4294967295)};k.xn=function(u,g,eJ){u._s(g,8);k.HZ(u.data,g,eJ)};k.Qa=function(u,g){var K=new Uint8Array(8);
for(var P=0;P<8;P++)K[P]=u[g+7-P];var X=new Float64Array(K.buffer);return X[0]};k.Iy=function(u,g){var K=new Uint8Array(8);
for(var P=0;P<8;P++)K[P]=u[g+P];var X=new Float64Array(K.buffer);return X[0]};k.Lc=function(u,g,eJ){var K=new Float64Array(1);
K[0]=eJ;var X=new Uint8Array(K.buffer);for(var P=0;P<4;P++){var w=X[P];X[P]=X[7-P];X[7-P]=w}for(var P=0;
P<8;P++)u[g+P]=X[P]};k.Mz=function(u,g,eJ){u._s(g,8);k.Lc(u.data,g,eJ)};k.$t=function(u,g){k.c8[0]=u[g+3];
k.c8[1]=u[g+2];k.c8[2]=u[g+1];k.c8[3]=u[g+0];return k.Gf[0]};k.zV=function(u,g){k.c8[0]=u[g+0];k.c8[1]=u[g+1];
k.c8[2]=u[g+2];k.c8[3]=u[g+3];return k.Gf[0]};k.zi=function(u,g,eJ){k.Gf[0]=eJ;u[g+0]=k.c8[3];u[g+1]=k.c8[2];
u[g+2]=k.c8[1];u[g+3]=k.c8[0]};k.a2C=function(u,g,eJ){u._s(g,4);k.zi(u.data,g,eJ)};k.rb=function(u,g,eJ){k.Gf[0]=eJ;
u[g+0]=k.c8[0];u[g+1]=k.c8[1];u[g+2]=k.c8[2];u[g+3]=k.c8[3]};k.apg=function(u,g,eJ){u._s(g,4);k.rb(u.data,g,eJ)};
k.a6U=function(u,g){var K=k.vr(u,g),X=K*(1/(1<<24));return X};k.rZ=function(u,g,K){var X=Math.floor(K*(1<<24));
k.ud(u,g,X)};k.ahu=function(u,g,K){u._s(g,4);k.rZ(u.data,g,K)};k.Ni=function(u,g){var K=u[g],X=k.u6(u,g+1,K);
K+=1-K%2;return{Jj:X,length:K+1}};k.abQ=function(u,g,K){var X=K.length;u[g]=X;k.Gs(u,g+1,K);if(X%2==0){u[g+1+X]=0;
++X}return X+1};k.wh=function(u,g,K){u._s(g,K.length+2);return k.abQ(u.data,g,K)};k.vs=function(u,g){var K=new eV;
K._x=k.Qa(u,g+0*8);K.U=k.Qa(u,g+1*8);K.nA=k.Qa(u,g+2*8);K.kR=k.Qa(u,g+3*8);K.OR=k.Qa(u,g+4*8);K.ic=k.Qa(u,g+5*8);
return K};k.z_=function(u,g,K){k.Lc(u,g+0*8,K._x);k.Lc(u,g+1*8,K.U);k.Lc(u,g+2*8,K.nA);k.Lc(u,g+3*8,K.kR);
k.Lc(u,g+4*8,K.OR);k.Lc(u,g+5*8,K.ic)};k.af6=function(u,g,K){u._s(g,48);k.z_(u.data,g,K)};k.a9k=function(u,g){var K=k.$t(u,g),X=k.$t(u,g+4),w=k.$t(u,g+8),D=k.$t(u,g+12);
return new dS(K,X,w-K,D-X)};k.a24=function(u,g,K){k.zi(u,g,K.x);k.zi(u,g+4,K.y);k.zi(u,g+8,K.x+K.m);
k.zi(u,g+12,K.y+K.n)};k.a41=function(u,g,K){u._s(g,16);k.a24(u.data,g,K)};k.QL=function(u,g){var K=k.vr(u,g),X=k.vr(u,g+4),w=k.vr(u,g+8),D=k.vr(u,g+12);
return new dS(X,K,D-X,w-K)};k.LW=function(u,g,K){k.ud(u,g,K.y);k.ud(u,g+4,K.x);k.ud(u,g+8,K.y+K.n);k.ud(u,g+12,K.x+K.m)};
k.Fp=function(u,g,K){u._s(g,16);k.LW(u.data,g,K)};k.au=function(u,g,K){var X=new Uint8Array(K);for(var P=0;
P<K;P++)X[P]=u[g+P];return X};k.cn=function(u,g,K){u.set(K,g)};k.jj=function(u,g,K){u._s(g,K.length);
k.cn(u.data,g,K)};k.ai5=function(u,g,K,eJ){if(!eJ)eJ=1;for(var P=0;P<eJ;P++)u[g+P]=K};k.iG=function(u,g,K,eJ){if(!eJ)eJ=1;
u._s(g,eJ);k.ai5(u.data,g,K,eJ)};k.pQ=new Int16Array(1);k.Uh=new Uint8Array(k.pQ.buffer);k.dz=new Int32Array(1);
k.ig=new Uint32Array(k.dz.buffer);k.c8=new Uint8Array(k.dz.buffer);k.Gf=new Float32Array(k.dz.buffer);
function fp(){}fp.h7=function(u,g){var K=new Uint8Array(u),X=0,w=k.u6(K,X,9),C=4,a=100;X+=9;var D=k.u6(K,X,4);
X+=4;X++;g.m=k.r(K,X);X+=4;g.n=k.r(K,X);X+=4;var q=k.r(K,X);X+=4;if(q!=0)alert("Unsupported image format, not RGB!");
if(["file","v001","v002","v003"].indexOf(D)==-1){a=k.r(K,X);X+=4;if(parseInt(D.slice(1))>=7){a=a}else alert("Unknown XCF version: "+D);
C=8}var x={};X=fp.Y8(K,X,x);var H=[];X=fp.V4(K,X,H,C);var $=[];X=fp.V4(K,X,$,C);g.f_=0;for(var P=0;P<H.length;
P++)fp.aw0(K,H[P],g,x,C,a);while(g.f_>0){g.g.push(g.z1());g.f_--}g.g.reverse();delete g.f_;g.buffer=f.L(g.m*g.n*4);
if(g.g.length==0)console.log("No layers!!!");for(var P=0;P<$.length;P++){var r=fp.j4(K,$[P],x,C,a);if(r.ly[gq.ajf])g.q={channel:r.vP,rect:new dS(0,0,g.m,g.n)}}};
fp.aw0=function(u,g,K,X,w,D){var q=K.Wk(),C=k.r(u,g),$=0;g+=4;var a=k.r(u,g);g+=4;q.rect=new dS(0,0,C,a);
var x=k.r(u,g);g+=4;var H=k.gH(u,g);g+=H.I4;q.Q9(H.C9);var r={};g=fp.Y8(u,g,r);if(r[gq.Yj]){var c=r[gq.Yj];
$=c.length/4-1}if(r[gq.iZ]){q.rect.x=k.vr(r[gq.iZ],0);q.rect.y=k.vr(r[gq.iZ],4)}if(r[gq.Kz]){q.opacity=k.r(r[gq.Kz],0)}if(r[gq.a4z]){q.add.lsct=g4.DM;
q.rect=new dS(0,0,0,0);q.buffer=f.L(0);q.R3=24}if(r[gq.UE]){var U=k.r(r[gq.UE],0);q.wS=gq.atA[U];if(q.xp()&&q.wS=="norm")q.wS="pass"}if(r[gq.Hz]){if(k.r(r[gq.Hz],0)==0)q.R3+=2}if(r[gq.UZ]){var O=k.r(r[gq.UZ],0);
q.add.lsct=O&1==1?g4.DM:g4.Ab}if(r[gq.Ax]){var A=r[gq.Ax];for(var m in A){var i=A[m];if(m=="gimp-text-layer"){var e=fp.a4V(i),S=e.text,E=e.font,Z=e.color,N=e["font-size"];
if(S==null&&e.markup){var J=new DOMParser,y=J.parseFromString(e.markup,"image/svg+xml");while(y.firstChild!=null&&y.firstChild.tagName!=null){y=y.firstChild;
var o=y.getAttribute("font"),B=y.getAttribute("foreground"),t=y.getAttribute("size");if(o!=null)E=o;
if(B!=null){B=CSS.$_(B);Z=[1,B.w/255,B.A/255,B.U/255]}if(t!=null){N=""+parseFloat(t)/245}}S=y.textContent}q.add.lnsr="rend";
q.add.TySh=fS.t5(0,0);q.add.TySh.kI=new dS(0,0,100,100);q.add.TySh.D=new eV(1,0,0,1,q.rect.x,q.rect.y);
var W=q.add.TySh.Fd;fS.G4(W,0,S);var F=fS.pP(W,0,0),G=e.justify,L=e["line-spacing"];if(Z)F.QX.FillColor={Type:1,Values:[1,parseFloat(Z[1]),parseFloat(Z[2]),parseFloat(Z[3])]};
if(N){N=Math.round(parseFloat(N));F.QX.FontSize=N;q.add.TySh.D.ic+=Math.min(17,N*.17)}if(L){L=Math.round(parseFloat(L)+F.QX.FontSize*1.2);
F.QX.Leading=L;F.QX.AutoLeading=!1}if(G)F.Sh.Justification=["left","right","center","fill"].indexOf(G);
if(E&&E!="Sans-serif"){var Q=E.toLowerCase(),T="bold italic semi extra regular condensed light".split(" "),j=Q.length;
for(var P=0;P<T.length;P++){var p=Q.indexOf(T[P]);if(p!=-1&&p<j&&Q[p-1]==" ")j=p}if(j!=Q.length)E=E.slice(0,j-1).split(" ").join("")+"-"+E.slice(j).split(" ").join("");
fS.rt(F,E)}fS.xm(W,0,S.length,F);var M=e["box-width"],n=e["box-height"],d=M?parseFloat(M):q.rect.m,V=n?parseFloat(n):q.rect.n;
fS.YM(W,1);fS.N2(W,[0,0,Math.ceil(d),Math.ceil(V)])}else console.log("Unknown property "+m)}}while(K.f_>$){K.g.push(K.z1());
K.f_--}K.f_=$;if(q.add.lsct==g4.DM||q.add.lsct==g4.Ab)K.f_++;var z=w==4?k.r:k.Nm;if(q.UR()){q.buffer=f.L(q.rect.$()*4);
var I=new f.bs(q.rect.$()),v=z(u,g);g+=w;var gj=z(u,g);g+=w;fp.qG(u,v,I,X,w,D);f.UP(I,q.buffer);if(gj!=0){q.B=new l.I2;
q.B.color=0;q.B.rect=q.rect.clone();q.B.channel=fp.j4(u,gj,X,w,D).vP;if(r[gq.tq])q.B.isEnabled=k.r(r[gq.tq],0)==1}}K.g.push(q)};
fp.a4V=function(u){var g="("+k.KO(u,0,u.length-1)+")",K=[],X={};fp.By(g,1,K);fp.a9p(K,X);return X};fp.a9p=function(u,g){for(var P=0;
P<u.length;P++){var K=u[P],X=K[0];if(K.length==2)g[X]=K[1];else g[X]=K.slice(1)}};fp.By=function(u,g,K){while(!0){if(g>=u.length)throw"e";
var X=u.charAt(g);g++;if(X=="("){var w=[];g=fp.By(u,g,w);K.push(w)}else if(X==" "||X=="\n"||X=="\r"){}else if(X==")")return g;
else if(X=="\""){var D=g;while(!0){var q=u[g];g++;if(q=="\"")break;if(q=="\\")g++}K.push(JSON.parse(u.slice(D-1,g)))}else{var D=g-1;
while(u[g]!=" "&&u[g]!=")")g++;K.push(u.slice(D,g))}}};fp.j4=function(u,g,K,X,w){var D=k.r(u,g);g+=4;
var q=k.r(u,g);g+=4;var C=k.gH(u,g);g+=C.I4;var a={};g=fp.Y8(u,g,a);var x=new f.bs(D*q),H=X==4?k.r:k.Nm,$=H(u,g);
g+=X;fp.qG(u,$,x,K,X,w);return{vP:x.w,ly:a}};fp.qG=function(u,g,K,X,w,D){var q=k.r(u,g);g+=4;var C=k.r(u,g);
g+=4;var a=k.r(u,g);g+=4;var x=w==4?k.r:k.Nm,H=x(u,g);g+=w;fp.ajE(u,H,K,X,a,w,D)};fp.ajE=function(u,g,K,X,w,D,q){var C=k.r(u,g),H=0,P=0;
g+=4;var a=k.r(u,g);g+=4;var x=new dS(0,0,C,a);if(q==100||q==150)H=1;else if(q==200||q==250)H=2;else if(q==300||q==350)H=4;
else if(q==500||q==550)H=2;else if(q==600||q==650)H=4;else if(q==700||q==750)H=8;else{alert("unsupported bit depth "+q);
throw"e"}var $=w/H,H=Math.round(w/$),r=[];g=fp.V4(u,g,r,D);var c=new f.bs(64*64*H),U=new dS,O=X[gq.agD][0],A=[c.w,c.A,c.U,c._x];
if($==3)c._x.fill(255);var m=Date.now();for(var i=0;i<a;i+=64)for(var e=0;e<C;e+=64){var S=Math.min(C-e,64),E=Math.min(a-i,64),Z=S*E;
U.fP(e,i,S,E);fp.a7n(u,r[P++],Z*H,O,$,A);if(q==100||q==150){}else if(q==250){for(var N=0;N<$;N++){var J=A[N];
for(var y=0;y<Z;y++){var o=J[y]<<8|J[Z+y];J[y]=Math.min(o>>>8,255)}}}else if(q==600){var B=fp.avQ(),t=new Uint32Array(1),W=new Float32Array(t.buffer);
for(var N=0;N<$;N++){var J=A[N];for(var y=0;y<Z;y++){t[0]=J[y]<<24|J[Z+y]<<16|J[(Z<<1)+y]<<8|J[(Z<<1)+Z+y]<<0;
var F=W[0];if(F<0)F=0;else if(F>1)F=1;J[y]=B[~~(.5+F*1e3)]}}}else console.log("unknown data format",q);
f.X0(c,U,K,x)}};fp.avQ=function(){var u=fp.amL;if(u!=null)return u;u=fp.amL=new Uint8Array(1001);for(var P=0;
P<1001;P++)u[P]=~~(.49+255*f.lG(P*.001));return u};fp.a7n=function(u,g,K,X,w,D){if(X==1){for(var q=0;
q<w;q++){var C=D[q],a=0;while(a<K){var eJ=u[g];g++;if(eJ<127){var x=u[g];g++;eJ++;for(var P=0;P<eJ;P++)C[a+P]=x}else if(eJ==127){var H=u[g];
g++;var $=u[g];g++;var x=u[g];g++;eJ=H<<8|$;for(var P=0;P<eJ;P++)C[a+P]=x}else if(eJ==128){var H=u[g];
g++;var $=u[g];g++;eJ=H<<8|$;for(var P=0;P<eJ;P++)C[a+P]=u[g+P];g+=eJ}else{eJ=256-eJ;for(var P=0;P<eJ;
P++)C[a+P]=u[g+P];g+=eJ}a+=eJ}}}else if(X==2){var r=pako.inflate(u.slice(g)),c=Math.round(r.length/K);
for(var P=0;P<K;P++){var U=P*c;D[0][P]=r[U];D[1][P]=r[U+1];D[2][P]=r[U+2];D[3][P]=c==3?255:r[U+3]}}else alert("Unknown compression "+X)};
fp.V4=function(u,g,K,X){var w=X==4?k.r:k.Nm;while(!0){var D=w(u,g);g+=X;if(D==0)break;else K.push(D)}return g};
fp.Y8=function(u,g,K){while(!0){var X=k.r(u,g);g+=4;var w=k.r(u,g);g+=4;if(X==gq.a3Y)break;else if(X==gq.Ax)K[X]=fp.a5i(u,g,g+w);
else K[X]=k.au(u,g,w);g+=w}return g};fp.a5i=function(u,g,K){var X={};while(g<K){var w=k.gH(u,g);g+=w.I4;
var D=k.r(u,g);g+=4;if(D!=1)console.log("unknown flags",D);var q=k.r(u,g);g+=4;X[w.C9]=k.au(u,g,q);g+=q}return X};
var gq={a3Y:0,ahH:1,as6:2,a3c:3,ajf:4,a1O:5,Kz:6,UE:7,Hz:8,akd:9,awg:10,tq:11,a5j:12,a5n:13,ahd:14,iZ:15,ahA:16,agD:17,a6z:18,aeU:19,agY:20,Ax:21,avW:22,afK:23,a40:24,aoN:25,aaE:26,aeY:27,avy:28,a4z:29,Yj:30,UZ:31,a74:32,a0y:33,abS:34,aci:35,aay:36,aaC:37,a1n:38,a3B:0,auB:1,aeO:2,apP:3,a4w:1,a5y:2,avD:0,at0:1,aqV:1};
gq.atA="norm,diss,norm,mul ,scrn,over,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,norm,over,hue ,hue ,colr,lite,norm,norm,mul ,scrn,diff,lddg,fsub,dark,lite,hue ,sat ,colr,lum ,fdiv,lddg,idiv,hLit,sLit,fdiv,pLit,vLit,pLit,lLit,hMix,smud,lbrn,lum ,lum ,lum ,lum ,norm,norm,norm,pass".split(",");
var hy=function(){var u=!1,g,K,e;function X(){var Z=k.u6(g,K,4);K+=4;return Z[3]+Z[2]+Z[1]+Z[0]}function w(){var Z=k.u6(g,K,4);
K+=4;return Z}function D(){var Z=g[K];K+=1;return Z}function q(){var Z=k.bh(g,K);K+=2;return Z}function C(){var Z=k.yY(g,K);
K+=4;return Z}function a(){var Z=k.q$(g,K);K+=4;return Z}function x(){var Z=k.yY(g,K);K+=8;return Z}function H(){var Z=k.zV(g,K);
K+=4;return Z}function $(){var Z=k.Iy(g,K);K+=8;return Z}function r(){var Z=k.bh(g,K),N=k.KO(g,K+2,Z);
K+=2+Z;return N}function c(){var Z=k.yY(g,K),N=k.KO(g,K+4,Z);K+=4+Z;return N}function U(Z){K=Z;var N=[];
while(K!=0){var J=w();if(J!="#FT4"&&J!="#FT3"&&J!="#FT2")throw J;var y=x(),o=x(),B=x(),t=x(),W=x(),F=C(),G=C(),L=C(),Q=q(),T=D(),j={};
N.push(j);for(var P=0;P<F;P++){var p=C(),M=D();if(M!=0&&M!=1&&M!=2)throw M;var n=[];if(M==0||M==1){var d=x(),V=x(),z=x(),I=C(),v=D(),gj=C(),jA=J!="#FT4"?0:C(),Y=null;
if(J=="#FAT"||J=="#FT2"){switch(v){case 1:v=1;break;case 2:v=65;break;case 3:v=129;break;case 4:v=193;
break;default:v=0;break}}if(M==0)Y=r();n=[d,V,z,v,Y]}j["i"+p]=[M,n]}for(var P=0;P<Q;P++){var jv=q(),iR=q(),cj=x(),j8=k.u6(g,K,jv);
K+=jv}K=y}N.reverse();for(var as=1;as<N.length;as++){var j=N[as],gW=N[as]=JSON.parse(JSON.stringify(N[as-1]));
for(var af in j){var at=j[af];if(at[0]==0)gW[af]=at;else if(at[0]==1){at[1][4]=gW[af][1][4];gW[af]=at}else if(at[0]==2)delete gW[af]}}var jd=N.pop(),fM=[];
for(var af in jd)fM.push(jd[af][1]);fM.sort(function(hS,dr){return hS[0]-dr[0]});return fM}function O(Z,N,J,y){while(K<g.length){var o=D(),F=null;
if(o==0){if(y){var B=D();if(B!=2){var t=X()}if(B==0)K+=4;y=!1;continue}else{break}}var W=X();if(u)console.log("  ".repeat(N),o,o&127,W,Z._type);
if(o>127)F=A(o,N,J);else F=m(o,N,J);Z[W]=F}}function A(Z,N,J){var y=[];Z=Z&127;if(Z==43)K+=4;var o=C();
if(Z==50){var B=X(),t=q();if(t!=1)throw"e";for(var P=0;P<o;P++){var W={_status:"NotShared",_type:B};
y.push(W);var F=D();if(F!=1)throw F;O(W,N+1,J)}}else for(var P=0;P<o;P++){y.push(m(Z,N,J));if(Z==42)Z=2}return y}function m(Z,N,J){var y=null;
if(Z==49){y={};var o=D();if(o!=0){var B=C();if(J==null){y._id=B;y._status=["Shared","Link"][o-1]}if(J&&o==2)y=J[B];
if(o==1){if(J)J[B]=y;var t=D(),W=!1;if(t>1)throw t;y._type=X();if(u)console.log("  ".repeat(N),"new",y._type,t,K);
if(t==0){while(!0){var F=q();if(F!=0&&F!=1&&F!=2&&F!=4)throw F;if(g[K]!=0){W=!0;break}var G=q();if(G==512)break;
var L=X();if(G==256)break}}O(y,N+1,J,W)}}}else if(Z==50){y={_status:"NotShared"};if(D()==1){y._type=X();
K+=2;O(y,N+1,J)}}else if(Z==1)y={type:"byte",value:D()};else if(Z==2)y={type:"uint16",value:q()};else if(Z==3)y={type:"uint32",value:C()};
else if(Z==4)y={type:"uint64",value:x()};else if(Z==7)y={type:"int32",value:a()};else if(Z==8)y={type:"int64",value:x()};
else if(Z==9)y={type:"float32",value:H()};else if(Z==10)y={type:"float64",value:$()};else if(Z==21)y={type:"Vec2i",value:[C(),C()]};
else if(Z==23)y={type:"Vec4i",value:[C(),C(),C(),C()]};else if(Z==33)y={type:"Vec4f",value:[H(),H(),H(),H()]};
else if(Z==36)y={type:"Vec2",value:[$(),$()]};else if(Z==38)y={type:"Vec4",value:[$(),$(),$(),$()]};
else if(Z==40)y={type:"Vec6",value:[$(),$(),$(),$(),$(),$()]};else if(Z==41)y={type:"bool",value:D()!=0};
else if(Z==42)y={type:"Enum",value:C()};else if(Z==43)y={type:"string",value:c()};else if(Z==44){var Q=q();
y={type:"curv16",value:[$(),Q==12?[D(),D(),D(),D()]:[C(),C()]]}}else if(Z==45){var Q=C();y={type:"buff",value:g.slice(K,K+Q)};
K+=Q}else if(Z==47){y={type:"uint32",value:C()}}else if(Z==48){var T=[],j=q();if(j!=1)throw j;if(g[K]==135){var p=A(D(),N+1,J),M=A(D(),N+1,J),n=A(D(),N+1,J);
T=[p,M,n]}else{var d=1;if(g[K]==3){D();d=C()}for(var P=0;P<d;P++){if(D()!=41)throw"e";var B=D();if(B!=0&&B!=1)throw B;
if(D()!=172)throw"e";var V=C(),z=q(),I=[];T.push(I);if(z!=18)throw z;if(V>2e3)throw V;for(var v=0;v<V;
v++)I.push([$(),$(),D(),D()])}}K++;y={type:"curve",value:T}}else if(Z==51){y={type:"EmbeddedData"};y[X()]=c()}else if(Z==52)y={type:"uint32",value:C()};
else if(Z==56)y={type:"Color32",value:[D(),D(),D(),D()]};else if(Z==60)y={type:"ColorGRAY",value:[H(),H()]};
else if(Z==68)y={type:"ColorRGBA",value:[H(),H(),H(),H()]};else if(Z==72)y={type:"ColorCMYK",value:[H(),H(),H(),H(),H()]};
else{throw Z}return Z==49||Z==50||Z==51?y:y.value}function i(Z){var N=0,J=Z.length;for(var P=0;P<J;P++)Z[P]=N=N+Z[P]&255}function S(Z){g=Z;
K=4;var N=C(),J=w();if(J!="nsrP")throw J;var J=w();if(J!="#Inf")throw J;var y=x();e=x();var o=x(),B=x(),t=x(),W=C(),F=C(),J=w();
if(J!="Prot")throw J;var W=C(),G=U(y),L={},Q=Date.now();for(var T=0;T<G.length;T++){var j=G[T],p=j[3],z=null;
K=j[0];var J=w();if(J!="#Fil")throw J;var M=p>>>5&1,n=p&3,d=p&192;switch(d){case 64:d=1;M=0;break;case 128:d=2;
break;case 192:d=3;break;default:d=0;M=0}var V=new Uint8Array(g.buffer,K,j[2]);if(n==0)z=V;else if(n==1)z=pako.inflate(V);
else if(n==2)z=eH.SH.OO(V,j[1]);else throw n;if(M==0){if(d==1)i(z);if(d==2)throw"e"}else throw M;L[j[4]]=z}return L}function E(Z){var N=S(new Uint8Array(Z));
g=N["doc.dat"];K=16;var J={};O(J,0,[]);return[N,J,e]}return{a8d:E}}();function dC(){}dC.h7=function(){function u(c,U){var O=Date.now(),A=hy.a8d(c),m=A[0],i=A[1],e=A[2],S=i.DocR,E=S.DfSz,Z=S.Chld;
if(Z.length!=1)throw"e";var N=Z[0],J=N.SprB;Z=N.Chld;U.m=~~J[2];U.n=~~J[3];U.buffer=f.L(U.m*U.n*4);var y=[0,{}];
for(var P=0;P<Z.length;P++)w(Z[P],U,m,new eV,y,0);U.DX(y[0]);console.log(Date.now()-O,"Document created");
O=Date.now()}function g(c){return new eV(c[0],c[3],c[1],c[4],c[2],c[5])}function K(c,U){var O=U.Xfrm;
O=O?g(O):new eV;O.concat(c);return O}function X(c){var U={0:"norm",1:"dark",2:"mul ",3:"idiv",196613:"lbrn",65538:"dkCl",4:"lite",5:"scrn",6:"div ",7:"lddg",65542:"lgCl",8:"over",9:"sLit",10:"hLit",11:"vLit",65551:"lLit",12:"pLit",13:"hMix",14:"diff",15:"smud",16:"fsub",262165:"fdiv",17:"hue ",18:"sat ",20:"colr",19:"lum "}[c];
return U?U:"norm"}function w(c,U,O,A,m,i){var e=c._type,S=c.Chld,E=U.Wk();E.Q9(c.Desc==null||c.Desc==""?e=="Grup"?"Folder":"Layer":c.Desc);
E.H4(c.Visi);E.opacity=Math.round(255*c.Opac);if(c.FOpc!=1)E.add.iOpa=Math.round(255*c.FOpc);var Z=c.Blnd;
if(Z!=null)E.wS=X(Z);var N=K(A,c),J=e=="ShpN"||e=="PCrv";if(S){U.g.push(U.z1());E.add.lsct=g4.DM;E.wS="pass";
E.R3=24;if(e=="ShpN"){var y=c.ShpB;E.ab(new dS(y[0]+N.OR,y[1]+N.ic,y[2]-y[0],y[3]-y[1]));m[0]++;E.add.artb.Clr={t:"Objc",v:f.X.Gp({w:255,A:255,U:255})}}for(var P=0;
P<S.length;P++)w(S[P],U,O,N,m,i+1)}else if(e=="Rstr"||e=="ImgN"||e=="MRst"){var o=c.Bitm,B=o.Bckg,t=Date.now(),W;
if(B==null){W=x(o,O,m[1]);E.rect=W[2].clone();E.buffer=W[1].slice(0);E.rect.x+=N.OR;E.rect.y+=N.ic}if(B||N.CJ()!=1){var F,G=0,L=0;
if(B){var Q=O[B.Data],T=k.BK(Q,"ataD")+4,j=k.yY(Q,T);T+=4;F=Q.slice(T,T+j)}else{G=E.rect.x-N.OR;L=E.rect.y-N.ic;
if(W[3]==null)W[3]=new Uint8Array(eH.IB("PNG").si([[E.buffer.buffer]],E.rect.m,E.rect.n));F=W[3].slice(0)}var p=U.Sw(F,E.getName(),0,0);
p.R3=E.R3;p.opacity=E.opacity;E=p;var M=new eV;M.translate(G,L);M.concat(N);var n=E.rect.clone();n.x=n.y=0;
var d=f.p.JS(n).v;f.p.D(d,M,d);E.add.SoLd.Trnf=R.S.c2(d);E.add.SoLd.nonAffineTransform=R.S.c2(d);E.Qu(U,!1)}}else if(e=="TxtA"||e=="TxtF"){E.add.lnsr="rend";
E.add.TySh=fS.t5(0,0);E.add.TySh.kI=new dS(0,0,100,100);var V=c.TxtH.FrmB,z=new eV,jA=0;z.translate(V[0],V[1]);
z.concat(N);E.add.TySh.D=z;var I=E.add.TySh.Fd,v=c.StSt,gj=v.Blok;if(gj.length!=1)throw"e";for(var Y=0;
Y<gj.length;Y++){var jv=gj[Y],iR=jA,cj=0,j8=jv.Glyp.Utf8;j8=j8.replace(/\u2028/g,"\n");j8=j8.replace(/\u2029/g,"\n");
j8=j8.slice(0,j8.length-1);fS.G4(I,jA,j8);jA+=j8.length;var as=jv.GAtt.Runs,gW=jv.PAtt.Runs[0],af=gW.Item.Ints[0];
for(var at=0;at<as.length;at++){var jd=as[at],fM=jd.Indx,hS=jd.Item,dr=hS.Objs,cB=fS.pP(I,iR,1);cB.Sh.Justification=af==0?0:af==1?2:1;
fS.rt(cB,hS.DFnt.Post);cB.QX.FontSize=hS.Doub[0];for(var P=0;P<dr.length;P++){var b1=dr[P];if(b1._type=="FDsc"){var ic=b1.FDeF;
if(ic._type=="FilS"){var dV=a(ic.Colr);cB.QX.FillColor={Type:1,Values:[1,dV[0],dV[1],dV[2]]}}}}fS.xm(I,iR+cj,iR+Math.min(fM,j8.length),cB);
cj=fM}}fS.YM(I,1);fS.N2(I,[0,0,Math.round(V[2]-V[0]),Math.round((V[3]-V[1])*1.2)]);U.Ey=!0}else if(J){E.R3|=16;
var eS=E.add.vstk=JSON.parse(JSON.stringify(k8.Sq.default));E.add.vstk.strokeEnabled.v=!1;var a2=E.add.vmsk=D(c);
f.J.Cg(a2._,N);if(c.BFFl){var d3=c.BFFl[0].FDeF,cE=d3._type;if(cE=="FilS")E.add.SoCo={classID:"null",Clr:C(d3.Colr)};
else if(cE=="FilG"){var eP=E.add.GdFl=JSON.parse(k8.QO[k8.order.indexOf("GrFl")]);q(d3,eP)}else if(cE=="FilN"){E.add.SoCo={classID:"null",Clr:{t:"Objc",v:f.X.Gp({w:0,A:0,U:0})}};
eS.fillEnabled.v=!1}else console.log(cE)}if(c.LILn){var jm=c.LILn[0].LDeL,bD=jm.Wght;if(bD!=0){eS.strokeEnabled.v=!0;
eS.strokeStyleLineWidth.v.val=bD;var d3=c.LIFl[0].FDeF,cE=d3._type;if(cE=="FilS")eS.strokeStyleContent.v.Clr=C(d3.Colr);
else if(cE=="FilN")eS.strokeEnabled.v=!1}}E.LP();E.th(U)}else console.log(e);var f1=c.AdCh,ft=[];if(f1)for(var P=0;
P<f1.length;P++){var ie=f1[P],b2=ie._type;if(b2=="ShpN"||b2=="PCrv"){var a2=E.add.vmsk=D(ie),dh=K(N,ie);
f.J.Cg(a2._,dh);E.LP();E.th(U)}else if(ie.AdjP){var aY=ie.AdjP,eF=aY._type,de={LevP:"levl",WhBP:"levl",SHiP:"curv",HSSP:"hue2",RecP:"hue2","B&WP":"blwh","B&CP":"brit",PosP:"post",VibP:"vibA",ExpP:"expA",ThrP:"thrs",CrvP:"curv"}[eF];
if(de==null){console.log(aY);continue}var i5=dJ.GU(de,{});ft.push(i5);var eA=i5.v.Fltr.v;if(eF=="LevP"){var c4=ad.Bi(eA,0);
c4[0]=aY.OutB*255;c4[1]=aY.OutW*255;ad.mu(eA,0,c4)}else if(eF=="WhBP"){var c4=ad.Bi(eA,2);c4[4]=100+aY.WBTi*20;
ad.mu(eA,2,c4);var c4=ad.Bi(eA,3);c4[4]=100+aY.WBTi*200;ad.mu(eA,3,c4)}else if(eF=="HSSP"){var c4=bV.Bi(eA,0);
c4[0]=Math.round(aY.HueA*256);c4[1]=Math.round(aY.SatA*256);c4[2]=Math.round(aY.LumA*256);bV.mu(eA,0,c4)}else if(eF=="RecP"){eA.Clrz.v=!0;
var c4=bV.Bi(eA,0);c4[0]=Math.round(aY.RecH*100);c4[1]=Math.round(aY.RecS*100);c4[2]=Math.round(aY.RecL*100);
bV.mu(eA,0,c4)}else if(eF=="B&CP"){eA.Brgh.v=Math.round(aY.Brig*100);eA.Cntr.v=Math.round(aY.Ctrs*100-100)}else if(eF=="PosP"){eA.Lvls.v=aY.Post}else if(eF=="VibP"){eA.vibrance.v=aY.Vibr-100;
eA.Strt.v=Math.round(aY.Satu*100)}else if(eF=="ExpP"){eA.Exps.v=aY.Expo;eA.gammaCorrection.v=aY.Gamm/2.2}else if(eF=="ThrP"){eA.Lvl.v=Math.round(aY.Thre*255)}else if(eF=="CrvP"){var jC=aY.Mast["Cnt "],hd=aY.Mast.Vals,c4=db.Bi(eA,0),iG=c4[0];
for(var cC=0;cC<jC;cC++){var cL=c4[cC]=JSON.parse(JSON.stringify(iG));cL.v.Hrzn.v=Math.round(hd[cC]*255);
cL.v.Vrtc.v=Math.round(hd[4+cC]*255)}db.mu(eA,0,c4)}}else console.log(ie)}if(ft.length!=0&&E.add.SoLd){E.add.SoLd.filterFX=dJ.Ae();
U.T8({id:E.add.SoLd.placed.v,rect:new dS,buffer:f.L(1),B:new l.I2});E.add.SoLd.filterFX.v.filterFXList.v=ft;
E.Qu(U,!1)}var dw=c.FiEf;if(dw&&dw.length!=0){var eY=E.add.lmfx=JSON.parse(k8.default);for(var P=0;P<k8.order.length;
P++)eY[k8.pg[P]]={t:"VlLs",v:[]};for(var d7=0;d7<dw.length;d7++){var hs=dw[d7],hz=hs._type,dO={ColO:"SoFi",GrdO:"GrFl",Shad:"DrSh",InnS:"IrSh",OutG:"OrGl",InnG:"IrGl",Strk:"FrFX",PhgB:"ebbl",BevE:"ebbl"}[hz],eP=dO?JSON.parse(k8.QO[k8.order.indexOf(dO)]):null;
if(hz=="ColO"){eP.Clr=C(hs.Colr)}else if(hz=="GrdO"){q(hs.GrFl.FDeF,eP)}else if(hz=="Shad"||hz=="InnS"||hz=="OutG"||hz=="InnG"){eP.Clr=C(hs.Colr);
eP.blur.v.val=Math.round(hs.Radi/2.4);if(hs.Offs!=null){eP.Dstn.v.val=hs.Offs;eP.lagl.v.val=Math.round(180-hs.Angl*180/Math.PI);
eP.uglg.v=!1}}else if(hz=="Strk"){eP.Clr=C(hs.Colr);eP.Sz.v.val=Math.round(hs.Radi)}else if(hz=="PhgB"||hz=="BevE"){eP.blur.v.val=Math.round(hs.Radi);
if(hz=="BevE")eP.bvlS.v.BESl="PlEb"}else if(hz=="Gaus"){if(J&&hs.Enab){E.add.vmsk.Lp=hs.Radi/2.4;E.add.vmsk.vl=!0;
E.LP();E.th(U)}}if(dO){eP.enab.v=hs.Enab;if(eP.Md&&hs.BlnM!=null)eP.Md.v.BlnM=b0.HF(X(hs.BlnM));if(eP.Opct&&hs.Opac!=null)eP.Opct.v.val=Math.round(hs.Opac*100);
var hN=k8.pg[k8.order.indexOf(dO)];eY[hN].v.unshift({t:"Objc",v:eP})}}}U.g.push(E)}function D(c){var U=new l.tU,O=c._type;
if(O=="PCrv"){var A=c.Crvs.Data,m=[],i=[];for(var P=0;P<A.length;P++){var e=A[P];if(e.length%3!=1){e=e.slice(1,e.length-1)}for(var S=0;
S<e.length;S++){var E=e[S],Z=E[2];if(Z!=0)m.push(S==0?"M":"C");i.push(E[0],E[1])}}U._=f.p.Ic({v:i,F:m},!0)}else{var N=c.ShpB,J=c.Shpe,y=J._type,o=N[2]-N[0];
if(y=="ShpE"){U._=f.J.eQ.tj(N[0],N[1],N[2]-N[0],N[3]-N[1])}else if(y=="ShNR"){var B=[0,0,0,0];if(J.CTyp){B=J.ShCR.slice(0);
for(var P=0;P<4;P++)B[P]*=N[2]-N[0]}U._=f.J.eQ.Rect(N[0],N[1],N[2]-N[0],N[3]-N[1],B)}else if(y=="ShpT"){U._=f.p.Ic({F:["M","L","L","Z"],v:[N[0],N[3],N[2],N[3],N[0]+o*.5,N[1]]},!0)}else if(y=="ShTz"){U._=f.p.Ic({F:["M","L","L","L","Z"],v:[N[0]+o*J.PosL,N[1],N[0]+o*J.PosR,N[1],N[2],N[3],N[0],N[3]]},!0)}else{console.log("--",y);
U._=f.J.eQ.Rect(N[0],N[1],N[2]-N[0],N[3]-N[1],[0,0,0,0])}}return U}function q(c,U){var O=c.Grad,A=O.Cols;
U.Type.v.GrdT=c.Type==0?"Lnr":"Rdl";var m=[];for(var P=0;P<A.length;P++){var i=a(A[P]);m.push([O.Posn[P][0],i])}U.Grad.v.Intr.v=0;
f.X.Ah(m,U.Grad.v);var e=O.Posn,S=new j4(e[0][0],e[0][1]),E=new j4(e[1][0],e[1][1]);if(c.Type==0)S=new j4((S.x+E.x)/2,(S.y+E.y)/2);
f.X.N5(S,E,new dS(0,0,1,1),U)}function C(c){var U=a(c);return{t:"Objc",v:f.X.Gp({w:U[0]*255,A:U[1]*255,U:U[2]*255})}}function a(c){var U=c._col,O=c._type;
if(O=="HSLA"){var A=f.zm(U[0],U[1],U[2]);return[A.w,A.A,A.U,U[3]]}else if(O=="RGBA")return U;else if(O=="CMYK"){var m=1-U[3];
return[(1-U[0])*m,(1-U[1])*m,(1-U[2])*m]}else if(O=="GRAY")return[U[0],U[1],U[2]];else{console.log(U);
throw O}}function x(c,U,O){var A=c.Frmt,B="";if(A!=0&&A!=4&&A!=6)throw A;var m=c.BmpW,i=c.BmpH,e=A==4?5:A==0?4:1,S=Math.ceil(m/256),E=Math.ceil(i/256),Z=new dS(0,0,S,E),N=new dS;
for(var P=0;P<e;P++){var J=new Uint8Array(c["Sta"+(P+1)]),y=f.LE(J,Z);N=N.RN(y)}var o=[];for(var P=0;
P<e;P++){var J=new Uint8Array(c["Sta"+(P+1)]),t=f.L(N.$());f.x5(J,Z,t,N);o[P]=[];for(var W=0;W<t.length;
W++)o[P][W]=t[W];B+=JSON.stringify(o[P])+","+JSON.stringify(c["Idx"+(P+1)])+","}if(O[B]==null){var F=N.m*256,G=N.n*256,L=new Array(e);
for(var P=0;P<e;P++){var J=L[P]=new Uint8Array(F*G);H(J,c["Idx"+(P+1)],o[P],U,F,G)}var Q=f.L(F*G*4);
if(A==0)f.UP({w:L[0],A:L[1],U:L[2],_x:L[3]},Q);else if(A==4){for(var P=0;P<L[0].length;P++){var T=P*4,j=L[0][P]*(1/255),p=L[1][P]*(1/255),M=L[2][P]*(1/255),n=L[3][P]*(1/255),d=UDOC.C.cmykToRgb([j,p,M,n]);
Q[T]=d[0]*255;Q[T+1]=d[1]*255;Q[T+2]=d[2]*255;Q[T+3]=L[4][P]}}else{Q.fill(255);f.qM(L[0],Q)}var V=new dS(0,0,F,G),z={buffer:Q,rect:V};
f.Dk(z);O[B]=[z.rect,z.buffer]}var y=O[B][2]=O[B][0].clone();y.x+=N.x*256;y.y+=N.y*256;return O[B]}function H(c,U,O,A,m,i){var e=0,S=m>>>8,E=i>>>8;
for(var Z=0;Z<E;Z++)for(var N=0;N<S;N++){var J=N*256,y=Z*256,o=Z*S+N,B=y*m+J,t=O[o];if(t<=1)$(c,B,0,m,256,256);
else if(t==2)$(c,B,4294967295,m,256,256);else if(t==4){var W=U[e];e++;var F=A[W.Data.DatI],G=W.Rect;
if(G==null)G=[0,0,256,256];$(c,B,0,m,256,256);r(c,(y+G[1])*m+J+G[0],F,G[1]*256+G[0],m,256,G[2]-G[0],G[3]-G[1])}else console.log(t)}}function $(c,U,O,A,m,i){var e=U+A*i;
for(;U<e;U+=A){var S=U+m;for(var E=U;E<S;E++){c[E]=O}}}function r(c,U,O,A,m,i,e,S){var E=U+m*S,Z=A+i*S;
for(;U<E&&A<Z;U+=m,A+=i){for(var P=0;P<e;P++)c[U+P]=O[A+P]}}return u}();function ge(){}ge.h7=function(u,g){var K=ge,X=bH.parse(u),D=0;
if(X.pages.length>1)console.log(X.pages.length,"pages");var w=[],q=new dS;for(var C=0;C<X.pages.length;
C++){var a=X.pages[C],x=a.layers,H=K.pj(x,C),r=!1;if(H.$()>8e3*8e3||H.m>3e4||H.n>3e4){K.dO(x,!0);var $=K.pj(x,C);
if($.$()>=H.$())K.dO(x,!1)}H=K.pj(x,C);for(var c=0;c<x.length;c++){var U=x[c];if(K._G(U)=="artboard")r=!0}if(!r){console.log("no artboard");
var O={};for(var A in a)O[A]=a[A];O._class="group";a.layers=[O]}w.push(H.clone());if(H.fg())continue;
H.x=0;H.y=D;D+=H.n+200;q=q.RN(H)}var m={};if(X.foreignSymbols)for(var P=0;P<X.foreignSymbols.length;
P++){var i=X.foreignSymbols[P].symbolMaster;m[i.symbolID]={yT:i}}K.nq(X.pages,m,g);for(var e in m){var U=m[e].yT,S=K.NF(U.layers)}var E=ge.gA(q,8192*8192);
g.Ey=!0;g.m=Math.round(q.m/E);g.n=Math.round(q.n/E);g.buffer=f.L(g.m*g.n*4);g.DX(X.pages[0].layers.length);
g.rq={};g.bI=[];D=0;for(var C=0;C<X.pages.length;C++){var Z=X.pages[C],H=w[C],N=new eV(E,0,0,E,H.x,H.y-D);
K.Vd(Z.layers,g,N,X,m,{},[]);D+=H.n+200}delete g.rq;delete g.bI;if(E!=1)alert("File scaled down "+E+"x");
g.ajO()};ge.abV=0;ge._G=function(u){return u._class?u._class:u.$class};ge.gA=function(u,g){var K=1;while(Math.round(u.m/K)*Math.round(u.n/K)>g||Math.max(Math.round(u.m/K),Math.round(u.n/K))>3e4)K++;
if(K!=1&&!window.confirm("Your image is quite large ("+u.m+" x "+u.n+" px).\n"+"Press OK to scale it down "+K+"x, or Cancel to keep the size."))K=1;
return K};ge.pj=function(u,g){var K=[],X=ge;for(var w=0;w<u.length;w++){var D=u[w],q=X.QL(D.frame);if(g==0||X._G(D)=="artboard")K.push(q)}return f.rect.pO(K)};
ge.dO=function(u,g){var K=[],X=ge;for(var w=0;w<u.length;w++){var D=u[w],q=X.QL(D.frame);q.m+=150;q.n+=150;
K.push(q)}var C=f.rect.pO(K);f.rect.av1(K,g);var a=f.rect.pO(K);if(a.$()*1.5<C.$()||C.m>3e4&&a.m<=3e4||C.n>3e4&&a.n<=3e4){alert("Re-arranging artboards");
for(var w=0;w<u.length;w++){var x=K[w],D=u[w],H=D.frame;H.x=x.x;H.y=x.y}}};ge.nq=function(u,g,K){var X=ge;
for(var w=0;w<u.length;w++){var D=u[w],q=X._G(D);if(["page","artboard","group"].indexOf(q)!=-1)X.nq(D.layers,g,K);
else if(q=="symbolMaster")g[D.symbolID]={yT:D}}};ge.NF=function(u){var g=ge;for(var K=0;K<u.length;K++){var X=u[K],w=g._G(X),D=null;
if(["page","artboard","group"].indexOf(w)!=-1)D=g.NF(X.layers);if(w=="symbolMaster"||w=="symbolInstance")D=X;
if(D!=null)return D}return null};ge.Vd=function(u,g,K,X,w,D,q){var C=ge,a=[];for(var x=0;x<u.length;
x++){var H=u[x],$=H.frame?C.QL(H.frame):null,r=H.style,m="",N=null,J=!1;if(r==null){console.log("no styles")}var c=C.z7(H,K),U=C._G(H),O=U=="shapeGroup"||U=="shapePath"||U=="rectangle"||U=="oval"||U=="triangle"||U=="polygon",A=["page","artboard","group"].indexOf(U)!=-1;
if(U=="shapeGroup"){for(var P=0;P<H.layers.length;P++)if(C._G(H.layers[P])=="shapeGroup")A=!0}var i=H.exportOptions;
if(i){var e=i.exportFormats;if(e==null)e=i.sizes;if(U!="artboard"&&(e&&e.length!=0)){var S=e[0].scale}}var E=g.Wk();
E.H4(H.isVisible);var Z=H.name;if(!(typeof Z=="string"))Z=U;E.Q9(m+Z.slice(0,250));if(r!=null)N=C.aeG(X,g,r,$,c,E.getName(),O||U=="artboard"||A);
if(U=="rectangle"&&r&&r.fills&&r.fills[0]){var y=r.fills[0];if(y.fillType==4&&y.patternFillType>1&&y.image!=null)J=!0}if(H.shouldBreakMaskChain){while(a.length!=0)C.Fv(a.pop(),g)}if(A){E.add.lsct=H.layerListExpandedType==2?g4.DM:g4.Ab;
E.wS="pass";E.R3=24;E.H4(H.isVisible);g.g.push(g.z1());if(U=="artboard"){var o=$.clone(),B=c.CJ();o.x=-Math.floor(c.OR/B);
o.y=-Math.floor(c.ic/B);o.m=Math.floor(o.m/B);o.n=Math.floor(o.n/B);E.ab(o);var t=H.backgroundColor,W=t?{w:255*t.red,A:255*t.green,U:255*t.blue}:{w:255,A:255,U:255};
E.add.artb.Clr={t:"Objc",v:f.X.Gp(W)};E.add.artb.artboardBackgroundType={t:"long",v:4}}C.Vd(H.layers,g,c,X,w,D,q)}else if(O&&!J){E.add.vmsk=new l.tU;
E.add.vstk=JSON.parse(JSON.stringify(k8.Sq.default));E.add.vstk.strokeEnabled.v=!1;var F=N!=null&&N.frameFXMulti.v.length==1,G=r?r.fills:null,L=r?C.gT(X,G,$,c,E.getName(),g,C.Ss(q,H.do_objectID+"_image")):[];
if(L.length==0){if(F)E.add.vstk.fillEnabled.v=!1;else E.add.iOpa=0;E.add.SoCo={classID:"null",Clr:{t:"Objc",v:f.X.Gp({w:0,A:0,U:0})}}}else{var Q=L[0],T=null,j=null;
if(Q.type=="SoFi"){T="SoCo";j=k8.rS}if(Q.type=="GrFl"){T="GdFl";j=k8.DK}if(Q.type=="patternFill"){T="PtFl";
j=k8.lf}if(T!=null){E.add[T]={classID:"null"};for(var P=0;P<j.length;P++){var p=j[P];E.add[T][p]=Q.h.v[p]}var M=Q.h.v.Opct.v.val;
if(F&&M==0)E.add.vstk.fillEnabled.v=!1;else E.add.iOpa=Math.round(255*M/100)}}E.R3|=16;E.add.vmsk._=C.ks(H.layers?H.layers:[H],H.layers?c:K);
var n=r?r.blur:null;if(n&&n.isEnabled&&n.type<=1)E.add.vmsk.Lp=n.radius;if(E.add.vmsk._.length==2){console.log("shape with no content:",E.getName())}if(F){var d=N.frameFXMulti.v[0].v,V=E.add.vstk,z=r.borders[0];
N.frameFXMulti.v=[];bW.arV(d,V);var I=r.borderOptions,v=r.miterLimit;if(I){var gj=I.dashPattern;V.strokeStyleLineCapType.v.strokeStyleLineCapType=k8.Sq.gg[I.lineCapStyle];
V.strokeStyleLineJoinType.v.strokeStyleLineJoinType=k8.Sq.join[I.lineJoinStyle];if(gj)V.strokeStyleLineDashSet.v=bW.jZ(gj,1/d.Sz.v.val);
if(v!=null)V.strokeStyleMiterLimit.v=v}}E.LP();E.th(g)}else if(U=="bitmap"||J){if(!J&&H.image==null)continue;
var jA=J?r.fills[0]:null,Y=J?jA.image.bdata:H.image.bdata,jv=g.Sw(Y,E.getName(),0,0);jv.R3=E.R3;E=jv;
var n=r?r.blur:null,iR=r?r.colorControls:null;if(n||iR){E.add.SoLd.filterFX=dJ.Ae();g.T8({id:E.add.SoLd.placed.v,rect:new dS,buffer:f.L(1),B:new l.I2});
var G=E.add.SoLd.filterFX.v.filterFXList.v;if(n){var cj=dJ.GU("GsnB",{});cj.v.enab.v=n.isEnabled;cj.v.Fltr.v.Rds.v.val=n.radius;
G.push(cj)}if(iR){var j8=iR.brightness,as=iR.contrast,gW=iR.hue,af=iR.saturation;if(gW!=0||af!=1){var cj=dJ.GU("hue2",{});
cj.v.enab.v=iR.isEnabled;bV.mu(cj.v.Fltr.v,0,[Math.round(gW*180/Math.PI),Math.round((af-1)*100),0]);
G.push(cj)}if(j8!=0||as!=1){var cj=dJ.GU("brit",{});cj.v.enab.v=iR.isEnabled;as=as-1;if(as>0)as/=2;var at=cj.v.Fltr.v;
at.Brgh.v=Math.round(j8*255);at.Cntr.v=Math.round(as*255);at.useLegacy.v=!0;G.push(cj)}}}if(J){var jd=jA.patternFillType;
if(jd==3){var fM=E.rect.m/E.rect.n,hS=$.m/$.n;if(fM<hS){c.translate(-($.m*(1-fM/hS))/2,0);c.scale(hS/fM,1)}else{c.translate(0,-($.n*(1-hS/fM))/2);
c.scale(1,fM/hS)}}}$.x=$.y=0;var dr=f.p.JS($).v;c.CD();f.p.D(dr,c,dr);E.add.SoLd.Trnf=R.S.c2(dr);E.add.SoLd.nonAffineTransform=R.S.c2(dr);
E.Qu(g,!1)}else if(U=="text"){if(H.attributedString==null)continue;var cB=c.clone(),b1,ic,cE=0;cB.CD();
cB._x=cB.kR=Math.min(cB._x,cB.kR);E.add.lnsr="rend";E.add.TySh=fS.t5(0,0);E.add.TySh.kI=new dS(0,0,$.m,$.n);
E.add.TySh.D=cB;var dV=H.attributedString;if(dV.archivedAttributedString)dV=dV.archivedAttributedString;
var eS=dV.NSString;if(eS==null)eS=dV.string;if(eS==null)eS="";if(eS["NS.string"])eS=eS["NS.string"];
if(D[H.do_objectID]!=null)eS=D[H.do_objectID];var a2=C.Ss(q,H.do_objectID+"_stringValue");if(a2)eS=a2.value;
if(dV.attributes!=null){b1=[];ic=[];var d3=dV.attributes;for(var P=0;P<d3.length;P++){b1.push(d3[P].length,P);
ic.push(d3[P].attributes)}}else if(dV.NSAttributeInfo==null){b1=[eS.length,0];ic=[dV.NSAttributes]}else{b1=dV.NSAttributeInfo["NS.data"];
ic=dV.NSAttributes;b1=ge.al2(b1,ic)}for(var P=0;P<b1.length;P+=2)cE+=b1[P];if(cE!=eS.length){while(cE>eS.length){b1[b1.length-2]--;
cE--;if(b1[b1.length-2]==0){b1.pop();b1.pop()}}b1[b1.length-2]+=eS.length-cE}eS=eS.replace(/\u2028/g,"\n");
eS=eS.replace(/\u2029/g,"\n");eS=eS.replace(/\r/g,"\n");var eP=E.add.TySh.Fd;fS.G4(eP,0,eS);if(eS!=""){var jm=H.textBehaviour,bD=r.textStyle,f1=bD?bD.verticalAlignment:0,ft=C.a5q(eP,b1,ic,eS),B=cB.CJ(),ie=fS.pP(eP,0,1),aY=0;
if(ie.QX.Font){var b2=ie._L[ie.QX.Font].Name;if(b2=="FontAwesome"||b2=="Ionicons")ft*=.87}var dh=ie.QX.AutoLeading?0:ie.QX.Leading*.6,eF=Math.max(ft,dh)*B,de=$.m,i5=$.n;
if(jm==0){fS.YM(eP,0);var eA=fS.zB(ie.Sh);if(eA==1)aY=de*B;if(eA==2)aY=de*B*.5;if(f1==0)eF*=1;else eF*=.9}else{fS.YM(eP,1);
fS.N2(eP,[0,0,Math.round(de),Math.round(i5)]);if(jm==2&&f1==0)eF=eF*.2;else if(jm==2&&f1==1){eF=B*.5*(i5-ie.QX.FontSize)}else if(jm==1&&f1==0)eF=eF*.2;
else eF=eF*.35}E.add.TySh.D.translate(aY,eF)}}else if(U=="symbolInstance"||U=="symbolMaster"){var c4=H.symbolID;
if(D[H.do_objectID])c4=D[H.do_objectID].symbolID;var jC=C.Ss(q,H.do_objectID+"_symbolID");if(jC)c4=jC.value;
if(c4=="")continue;var hd={};for(var p in D)hd[p]=D[p];if(H.overrides)for(var p in H.overrides)hd[p]=H.overrides[p];
var iG=q.slice(0);if(H.overrideValues)iG=iG.concat(H.overrideValues);var cC=w[c4];if(cC==null){console.log("Unknown master master",H.symbolID);
continue}var cL=ge.QL(cC.yT.frame),eY=cL.m/$.m,cf=cL.n/$.n,d7=c.clone();d7.scale(eY,cf);E.add.lsct=g4.Ab;
E.wS="pass";E.R3=24;E.H4(H.isVisible);g.g.push(g.z1());var hz=cC.yT;if(g.bI.indexOf(hz)==-1){g.bI.push(hz);
C.Vd(hz.layers,g,d7,X,w,hd,iG);g.bI.pop()}}else if(U=="slice"){console.log("slice layers are ignored by now");
continue}else{console.log("unknown layer type: "+U,H);continue}if(r&&r.contextSettings){var dO=r.contextSettings,hN=dO.blendMode;
if(hN<C.Q8.length){E.wS=b0.t8[b0.nG.indexOf(C.Q8[hN])];if(A&&E.wS=="norm")E.wS="pass"}E.opacity=Math.round(E.opacity*dO.opacity)}if(N!=null){E.add.lmfx=N}g.g.push(E);
if(H.hasClippingMask&&u.length>1){a.push(E);g.g.push(g.z1())}}while(a.length!=0)C.Fv(a.pop(),g)};ge.Ss=function(u,g){for(var P=0;
P<u.length;P++)if(u[P].overrideName.startsWith(g))return u[P]};ge.al2=function(u,g){var K=0,X=[];while(K+1<u.length){var w=u[K];
K++;if(w>127){w+=128*(u[K]-1);K++;if(u[K-1]>127){w+=128*(u[K]-1);K++}}var D=u[K];K++;X.push(w,D)}return X};
ge.a5q=function(u,g,K,X){var w=ge,D=0,$=0,r=0;for(var P=0;P<X.length;P++){var q=X.charCodeAt(P),C=1473<=q&&q<=1479||1488<=q&&q<=1514||1520<=q&&q<=1524,x=1569<=q&&q<=1594||1600<=q&&q<=1749;
if(C||x)D++}var H=D>X.length/2;for(var P=0;P<g.length;P+=2){var c=g[P],Z=14,N="DejaVuSans";if(c==0)continue;
var U=g[P+1],O=K[U],A=fS.pP(u,$,$+c-1),m=O.NSColor;if(m==null){var m=O.MSAttributedStringColorDictionaryAttribute;
if(m==null)m=O.MSAttributedStringColorAttribute;if(m==null)m="0 0 0";else m=[m.red,m.green,m.blue].join(" ")}else if(w._G(m)=="MSArchivedColor")m=m.dr+" "+m.dg+" "+m.db;
else if(m.NSRGB){m=m.NSRGB;m=k.u6(m,0,m.length-1)}else if(m.NSCMYK){m=m.NSCMYK;m=k.u6(m,0,m.length-1);
m=m.split(" ").map(parseFloat);var i=1-m[0],e=1-m[1],S=1-m[2],E=1-m[3];m=i*E+" "+e*E+" "+S*E}else if(m.NSWhite){m="1 1 1"}m=m.split(" ");
A.QX.FillColor={Type:1,Values:[1,parseFloat(m[0]),parseFloat(m[1]),parseFloat(m[2])]};var J=O.MSAttributedStringFontAttribute;
if(O.NSFont){Z=O.NSFont.NSSize;N=O.NSFont.NSName}else if(J){if(J.attributes){J=J.attributes;Z=J.size;
N=J.name}else{var y=J.NSFontDescriptorAttributes;if(y==null)y=J.UIFontDescriptorAttributes;J=y;Z=J.NSFontSizeAttribute;
N=J.NSFontNameAttribute}if(N==null)N="DejaVuSans"}var r=Math.max(r,Z);A.QX.FontSize=Math.round(Z);fS.rt(A,N);
var o=O.NSKern;if(o==null)o=O.kerning;if(o!=null)A.QX.Tracking=Math.round(1e3*o/Z);if(O.NSUnderline!=null)A.QX.Underline=O.NSUnderline>0;
var B=O.NSStrikethrough;if(B==null)B=O.strikethroughStyle;if(B!=null)A.QX.Strikethrough=B>0;if(O.MSAttributedStringTextTransformAttribute==1)A.QX.FontCaps=2;
var t=O.NSParagraphStyle;if(t==null)t=O.paragraphStyle;if(t){var W=t.paragraphSpacing;if(W!=null){A.Sh.SpaceAfter=W}var F=t.NSAlignment;
if(F==null)F=t.alignment;if(F!=null){var G=0;if(!1){}else if(F==1)G=1;else if(F==2)G=2;else if(F==4)G=0;
else{G=F;console.log("unknown align",F)}if(H&&G<2)G=1-G;A.Sh.Justification=G}var L=t.NSMinLineHeight;
if(L==null)L=t.minimumLineHeight;if(L!=null){A.QX.AutoLeading=!1;A.QX.Leading=L}}A.Sh._Direction=H?1:0;
fS.xm(u,$,$+c,A);$+=c}return r};ge.aeG=function(u,g,K,X,w,D,q){var C=ge,a=JSON.parse(k8.default),x=!1;
for(var P=0;P<k8.order.length;P++)a[k8.pg[P]]={t:"VlLs",v:[]};var H=K.fills,$=C.gT(u,H,X,w,D,g);for(var r=0;
r<2;r++){var c=K[["shadows","innerShadows"][r]];if(c==null)continue;var U=["DrSh","IrSh"][r],O=k8.pg[k8.order.indexOf(U)];
for(var P=0;P<c.length;P++){var A=c[P];if(!A.isEnabled)continue;if(A.contextSettings.opacity==0||A.color.alpha==0)continue;
var m=JSON.parse(k8.QO[k8.order.indexOf(U)]);a[O].v.unshift({t:"Objc",v:m});x=!0;m.Clr.v=C.$_(A.color);
m.blur.v.val=Math.round(A.blurRadius/w.CJ());var i=w.clone();i.OR=i.ic=0;i.CD();var e=i.HB(new j4(A.offsetX,A.offsetY)),S=Math.sqrt(e.x*e.x+e.y*e.y);
m.Dstn.v.val=Math.round(S);m.lagl.v.val=Math.round(Math.atan2(e.y,-e.x)*(180/Math.PI));if(m.layerConceals)m.layerConceals.v=$.length!=0;
C.nL(A,m)}}var E=K.borders;if(E!=null&&($.length==0||K.blur==null||!K.blur.isEnabled))for(var P=0;P<E.length;
P++){var Z=E[P];if(!Z.isEnabled)continue;var m=JSON.parse(k8.QO[k8.order.indexOf("FrFX")]),O=k8.pg[k8.order.indexOf("FrFX")];
a[O].v.unshift({t:"Objc",v:m});x=!0;m.Clr.v=C.$_(Z.color);if(Z.fillType!=0&&Z.gradient){var N=C.yp(Z.gradient,X,w,D),J=["Type","Angl","Ofst","Scl"];
for(var P=0;P<J.length;P++)m[J[P]]=N[J[P]];m.Grad.v=N.Grad.v;m.PntT.v.FrFl="GrFl"}m.Sz.v.val=Z.thickness/w.CJ();
m.Styl.v.FStl=["CtrF","InsF","OutF"][Z.position];C.nL(Z,m)}for(var P=q?1:0;P<$.length;P++){var y=$[P],O=k8.pg[k8.order.indexOf(y.type)];
a[O].v.unshift(y.h);x=!0}return x?a:null};ge.gT=function(u,g,K,X,w,D,q){if(g==null)return[];var C=ge,a=[];
for(var P=0;P<g.length;P++)if(g[P].isEnabled)a.push(g[P]);g=a;var x=[];for(var P=0;P<g.length;P++){var H=g[P],$=null,r=null;
if(H.fillType==0){$="SoFi";var c=JSON.parse(k8.QO[k8.order.indexOf("SoFi")]);r={t:"Objc",v:c};r.v.Clr.v=C.$_(H.color)}else if(H.fillType==1){$="GrFl";
r={t:"Objc",v:C.yp(H.gradient,K,X,w)}}else if(H.fillType==4&&H.image!=null){var U=H.image;if(q)U=q.value;
var O=eH.jN(U.bdata.buffer);if(O!=null&&O!="pdf"&&O!="eps"){var A,Z=0,N=0,J=0;if(D.rq[U.key])A=D.rq[U.key];
else{var m=eH.IB(O).Tu(U.bdata)[0],i=m.ZE.clone();A={};A.id=f0.AO()+"-d71c-11e5-b1ae-a548a96e5f9f";A.name="someImage";
A.e4=[new Uint8Array(m.data),i];D.q_(A);D.rq[U.key]=A}var e=A.e4[1],c=JSON.parse(k8.QO[k8.order.indexOf("patternFill")]);
$="patternFill";r={t:"Objc",v:c};var S=H.patternFillType,E=H.patternTileScale;c.Algn.v=!0;c.Ptrn.v.Idnt.v=A.id;
if(S==0){Z=E*e.m/Math.min(e.m,e.n);N=-X.OR;J=-X.ic}else{Z=Math.max(K.m/e.m,K.n/e.n);N=-X.OR-(e.m*Z-K.m)/2;
J=-X.ic-(e.n*Z-K.n)/2}c.Scl.v.val=100*Z*(1/X.CJ());c.phase.v.Hrzn.v=Math.round(N/X.CJ());c.phase.v.Vrtc.v=Math.round(J/X.CJ())}}else if(H.fillType==5){console.log("fill type Noise not supported yet")}else console.log("unknown fill type",H.fillType);
if($!=null){C.nL(H,r.v);x.push({type:$,h:r})}}return x};ge.afn=function(u){var g=ge,K=new dS(0,0,1,1);
u=u.slice(0);while(!0){var X=!1;for(var P=0;P<u.length-1;P++){var w=u[P],D=u[P+1],q=null,C=w.contextSettings;
if(w.fillType==0&&(C==null||C.opacity==1&&C.blendMode==0)&&w.color.alpha==1){var a="norm",x=1,C=D.contextSettings;
if(C){x=C.opacity;a=b0.x3(g.Q8[C.blendMode])}if(D.fillType==0){q=JSON.parse(JSON.stringify(D));g.F0(q.color,w.color,q.color,K,a,x)}if(D.fillType==1){q=JSON.parse(JSON.stringify(D));
var H=q.gradient.stops;for(var $=0;$<H.length;$++)g.F0(H[$].color,w.color,H[$].color,K,a,x)}if(q!=null&&q.contextSettings){var C=q.contextSettings;
C.opacity=1;C.blendMode=0}}if(q!=null){u.splice(P,0,q);X=!0;break}}if(!X||u.length<2)break}return u};
ge.F0=function(u,g,K,X,w,D){var q=ge,C=f.L(4);q.Zn(u,C);var a=f.L(4);q.Zn(g,a);f.i.L_(w,C,X,a,X,X,D);
q.ab5(a,K)};ge.Zn=function(u,g){g[0]=255*u.red;g[1]=255*u.green;g[2]=255*u.blue;g[3]=255*u.alpha};ge.ab5=function(u,g){g.red=u[0]/255;
g.green=u[1]/255;g.blue=u[2]/255;g.alpha=u[3]/255};ge.Fv=function(u,g){u=u.clone();u.R3=24;u.Q9("Mask by "+u.getName());
g.g.push(u);u.add.lsct=g4.DM;u.add.lyid=g.yE();delete u.add.lmfx;delete u.add.SoCo;delete u.add.GdFl;
delete u.add.PtFl;delete u.add.iOpa;if(u.add.vmsk)u.add.vmsk.vl=!0;u.LP();u.th(g);if((u.R3&16)==16)u.R3-=16;
if((u.R3&2)==2)u.R3-=2;u.wS="pass";u.opacity=255};ge.Q8="Nrml Drkn Mltp CBrn Lghn Scrn CDdg Ovrl SftL HrdL Dfrn Xclu H Strt Clr Lmns linearBurn linearDodge".split(" ");
ge.yp=function(u,g,K,X){K=K.clone();K.CD();K.OR=K.ic=0;var w=K.CJ(),r=0,c=0;K.scale(1/w,1/w);var D=ge,q=JSON.parse(k8.QO[k8.order.indexOf("GrFl")]),C=q.Grad.v;
C.Intr.v=0;if(u==null)return q;var a=u.gradientType,x=D.nc(u.from),H=D.nc(u.to);x.offset(-.5,-.5);H.offset(-.5,-.5);
x=K.HB(x);H=K.HB(H);var $=Math.atan2(-(H.y-x.y),H.x-x.x);q.Type.v.GrdT=["Lnr","Rdl","Angl"][a];q.Scl.v.val=100*j4.uh(x,H);
if(a==0){q.Angl.v.val=180/Math.PI*$;q.Scl.v.val=100*j4.uh(x,H);r=(x.x+H.x)/2;c=(x.y+H.y)/2}if(a==1){q.Scl.v.val=200*j4.uh(x,H);
r=x.x;c=x.y}if(a==2){q.Angl.v.val=180/Math.PI*($-Math.PI/2)}var U=q.Ofst.v;U.Hrzn.v.val=r*100;U.Vrtc.v.val=c*100;
var O=[];for(var P=0;P<u.stops.length;P++){var A=u.stops[P],m=A.color;O.push([A.position,m?[m.red,m.green,m.blue]:[0,0,0],m.alpha])}f.X.Ah(O,C);
return q};ge.nL=function(u,g){var K=ge,X=1,w=u.contextSettings;if(w!=null){g.Md.v.BlnM=K.Q8[w.blendMode];
X*=w.opacity}else g.Md.v.BlnM=K.Q8[0];g.enab.v=u.isEnabled;if(g.uglg!=null)g.uglg.v=!1;if(u.color!=null)X*=u.color.alpha;
g.Opct.v.val=Math.round(X*100)};ge.$_=function(u){return f.X.Gp(u?{w:u.red*255,A:u.green*255,U:u.blue*255}:{w:0,A:0,U:0})};
ge.ks=function(u,g){var K=ge,X=[{type:6},{type:8,all:0}];for(var w=0;w<u.length;w++){var D=u[w],q=D.booleanOperation,C=0,a=D._class,U=!1;
if(a=="group"||a=="text"||a=="symbolInstance"||a=="slice"){console.log(a+" inside ShapeGroup");continue}if(q==-1)C=0;
else if(q==0)C=1;else if(q==1)C=2;else if(q==2)C=3;else if(q==3)C=0;if(w==0)C=1;var x=ge.QL(D.frame),H=K.z7(D,g),$=D.path?D.path:D,r=[{type:0,length:0,yk:C,VB:2,MO:0,TY:0}],c=$.points;
for(var P=0;P<c.length;P++){var O=c[P],A=K.nc(O.curveTo),m=K.nc(O.point),i=K.nc(O.curveFrom);U=U||O.hasCurveFrom&&!i.$z(m)||O.hasCurveTo&&!A.$z(m)}var e=[];
if(!U){var S=[],eJ=c.length;if(eJ==0)continue;for(var P=0;P<eJ;P++){e[P]=c[P].cornerRadius;var O=K.nc(c[P].point);
S.push(O.x,O.y)}H.scale(1/x.m,1/x.n);H.CD();f.p.D(S,H,S);r=f.J.eQ.ve(S,e).slice(2);r[0].yk=C}else{var E=c.length;
r[0].length=E;for(var P=0;P<E;P++){var O=c[P],Z=O.curveMode,N=K.nc(O.point);r[1+P]={type:Z==2||Z==4?1:2,Rw:O.hasCurveTo?K.nc(O.curveTo):N.clone(),G:N,CL:O.hasCurveFrom?K.nc(O.curveFrom):N.clone()}}H.scale(1/x.m,1/x.n);
H.CD();f.J.Cg(r,H);var e=[];for(var P=0;P<E;P++){var O=c[P],Z=O.curveMode,J=O.cornerRadius;if(Z==1&&J!=0)e.push(J);
else e.push(0)}}if(!$.isClosed)for(var P=0;P<r.length;P++)r[P].type+=3;X=X.concat(r);var y=K._G(D);if(H.U==0&&H.nA==0){var o=H.OR,B=H.ic,t=o+H._x,W=B+H.kR,F=[o,B,t,W]}}return X};
ge.z7=function(u,g){var K=g.clone(),X=u.frame?ge.QL(u.frame):null;if(X)K.translate(-X.x-X.m/2,-X.y-X.n/2);
if(u.isFlippedHorizontal)K.scale(-1,1);if(u.isFlippedVertical)K.scale(1,-1);K.rotate(-u.rotation*(Math.PI/180));
if(X)K.translate(X.m/2,X.n/2);return K};ge.nc=function(u){u=u.slice(1,u.length-1).split(",");return new j4(parseFloat(u[0]),parseFloat(u[1]))};
ge.QL=function(u){return new dS(u.x,u.y,u.width,u.height)};ge.LW=function(u){return{_class:"rect",constrainProportions:!1,x:u.x,y:u.y,width:u.m,height:u.n}};
function az(){}az.h7=function(u,g){var K=Date.now(),X=az,w=UZIP.parse(u),D=JSON.parse(k.KO(w.manifest)),q=JSON.parse(k.KO(w["resources/graphics/graphicContent.agc"])).resources,C=[],a=[],x=D.children;
for(var P=0;P<x.length;P++){var H=x[P];if(H.name=="artwork"){var $=H.children;for(var r=0;r<$.length;
r++){var c=$[r],U=JSON.parse(k.KO(w["artwork/"+c.path+"/graphics/graphicContent.agc"])),O=U.children;
if(O.length==0){}else if(O.length==1){if(c["uxdesign#bounds"]){c._node=O[0];C.push(c)}}else{var A=O[0],m=A.transform,i=A.shape;
if(i==null)i={x:0,y:0,width:1e3,height:1e3};if(i.type=="path"){var e=f.p.Ha(Typr.U.SVGToPath(i.path).crds);
i={x:e.x,y:e.y,width:e.m,height:e.n}}i=JSON.parse(JSON.stringify(i));if(m){i.x+=m.tx;i.y+=m.ty}c["uxdesign#bounds"]=i;
c._node={type:"artboard",artboard:{children:O}};a.push(c)}}}}if(C.length==0)C=a;var S=[],E=new dS;for(var P=0;
P<C.length;P++){var c=C[P],Z=ge.QL(c["uxdesign#bounds"]);S.push(Z);E=E.RN(Z)}var N=ge.gA(E,8192*8192);
g.Ey=!0;g.m=Math.round(E.m/N);g.n=Math.round(E.n/N);g.buffer=f.L(g.m*g.n*4);g.DX(C.length);var J=new eV(N,0,0,N,E.x,E.y);
g.rq={};for(var P=0;P<C.length;P++){var c=C[P],Z=ge.QL(c["uxdesign#bounds"]),y=c._node,o=J.clone(),B=Z.clone(),t=o.CJ();
o.translate(-Z.x,-Z.y);B.x=-Math.floor(o.OR/t);B.y=-Math.floor(o.ic/t);B.m=Math.floor(B.m/t);B.n=Math.floor(B.n/t);
o.translate(Z.x,Z.y);az.OK(y,g,o,q,w,B);var W=g.g[g.g.length-1];W.Q9(c.name);W.ab(B);if(P!=C.length-1)W.add.lsct=g4.Ab}delete g.rq};
az.vs=function(u){if(u==null)return new eV;return new eV(u.a,u.b,u.c,u.d,u.tx,u.ty)};az.OK=function(u,g,K,X,w,D){var q=az,C=u.type,a=u[C],x=u.style,H=q.vs(u.transform),U,O="none",A,m="none",i,e;
H.CD();var $=K.clone();$.concat(H);var r=g.Wk(),c=u.name;r.Q9(c?c.slice(0,250):"Layer");if(u.visible!=null)r.H4(u.visible);
if(x){U=x.stroke;O=U?U.type:"none";A=x.fill;m=A?A.type:"none";i=x.filters;e=x.clipPath;if(e&&X.clipPaths[e.ref])e=X.clipPaths[e.ref].children;
else e=null;if(x.opacity)r.opacity=Math.round(255*x.opacity);if(m=="solid"&&A.color.alpha)r.opacity=Math.round(r.opacity*A.color.alpha);
if(i){r.add.lmfx=q.a6t(i);for(var P=0;P<i.length;P++)if(i[P].type=="uxdesign#blur"){var S=i[P],E=S.params,Z=E.brightnessAmount;
if(Z==null)Z=0;Z=Math.abs(Z/100);if((S.visible==null||S.visible==!0)&&E.backgroundEffect)r.opacity=Math.round(r.opacity*(Z+(1-Z)*E.fillOpacity))}}if(m=="pattern"&&A.pattern.meta.ux.uid=="")m="none"}if(e==null&&u.meta&&u.meta.ux&&u.meta.ux.clipPathResources)e=u.meta.ux.clipPathResources.children;
if(C=="artboard"||C=="group"){if(e){var N=e[0],J=N.shape,y=J!=null&&J.type=="rect"&&J.width*J.height>1e6;
if(N.type!="text"&&!y){if(J){var H=q.vs(N.transform);H.CD();var o=$.clone();o.concat(H);r.add.vmsk=new l.tU;
r.add.vmsk._=q.ks(J);o=o.clone();o.CD();f.J.Cg(r.add.vmsk._,o);r.LP();r.th(g)}}else if(!y)alert("Clipping by text has been ignored")}r.add.lsct=g4.DM;
r.wS="pass";r.R3=24;if(u.visible!=null)r.H4(u.visible);g.g.push(g.z1());var B=a.children,t=A;if(t)t=t.color;
if(t)t=t.value;if(A){if(C=="artboard"&&m=="solid"){r.ab(new dS(0,0,10,10));r.add.artb.Clr={t:"Objc",v:f.X.Gp({w:t.r,A:t.g,U:t.b})};
r.add.artb.artboardBackgroundType={t:"long",v:4}}else{var W=g.Wk();W.Q9("BACKGROUND");W.R3|=16;W.add.vstk=JSON.parse(JSON.stringify(k8.Sq.default));
W.add.vmsk=new l.tU;W.add.vmsk._=q.ks({type:"rect",x:D.x,y:D.y,width:D.m,height:D.n});q.GI(A,m,$,D,D,W,g,X,w);
W.LP();W.th(g);g.g.push(W)}}for(var P=0;P<B.length;P++){az.OK(B[P],g,$,X,w,D)}}else if(C=="shape"&&(a.type=="rect"&&(a.r==null||a.r==0)||a.type=="path"&&UDOC.G.isBox(Typr.U.SVGToPath(a.path)))&&m=="pattern"&&(Math.abs(a.width/a.height-A.pattern.width/A.pattern.height)<.01||x.fill.pattern.meta.ux.scaleBehavior=="fill")){var F=A.pattern,G=F.meta.ux,L=G.uid,Q=w["resources/"+L];
if(Q==null){console.log(F);return}var T=g.Sw(Q,r.getName(),0,0);T.R3=r.R3;T.opacity=r.opacity;r=T;var j=f.J.Xh(q.ks(a),null),p=f.p.JS(new dS(0,0,F.width,F.height)).v,M=new eV;
M.scale(F.width/j.m,F.height/j.n);if(G.offsetX)M.translate(-G.offsetX*F.width,0);if(G.offsetY)M.translate(0,-G.offsetY*F.height);
$.concat(M);$.CD();f.p.D(p,$,p);r.add.SoLd.Trnf=R.S.c2(p);r.add.SoLd.nonAffineTransform=R.S.c2(p);r.Qu(g,!1)}else if(C=="shape"){r.R3|=16;
r.add.vstk=JSON.parse(JSON.stringify(k8.Sq.default));r.add.vmsk=new l.tU;r.add.vmsk._=q.ks(a);var j=f.J.Xh(r.add.vmsk._,null),o=$.clone();
o.CD();f.J.Cg(r.add.vmsk._,o);var n=f.J.Xh(r.add.vmsk._,null);if(O=="none"){}else{var d=U.color.value,V,z;
V="SoFi";var I=JSON.parse(k8.QO[k8.order.indexOf("SoFi")]);z={t:"Objc",v:I};z.v.Clr.v=f.X.Gp({w:d.r,A:d.g,U:d.b});
var v=U.align,gj=U.cap;if(v==null)v="center";var jA=r.add.vstk;jA.strokeEnabled.v=!0;jA.strokeStyleLineWidth.v.val=U.width;
if(v)jA.strokeStyleLineAlignment.v.strokeStyleLineAlignment=k8.Sq.kM[["inside","center","outside"].indexOf(v)];
if(gj)jA.strokeStyleLineCapType.v.strokeStyleLineCapType=k8.Sq.gg[["butt","round","square"].indexOf(gj)];
var Y=["SoFi","GrFl","patternFill"].indexOf(V),jv=[k8.rS,k8.DK,k8.lf][Y];jA.strokeStyleContent.v={classID:k8.Sq.lv[0]};
var iR=jA.strokeStyleContent.v={classID:k8.Sq.lv[Y]};for(var P=0;P<jv.length;P++)iR[jv[P]]=z.v[jv[P]]}if(i)for(var P=0;
P<i.length;P++)if(i[P].type=="uxdesign#blur"&&i[P].visible){var cj=i[P];r.add.vmsk.Lp=cj.params.blurAmount}q.GI(A,m,$,j,n,r,g,X,w);
r.LP();r.th(g)}else if(C=="text"&&u.text){var j8=u.text,as=j8.frame,gW=x.font,af=x.textAttributes,H=$.clone(),cB=0;
H.CD();r.add.lnsr="rend";r.add.TySh=fS.t5(0,0);r.add.TySh.kI=new dS(0,0,100,100);r.add.TySh.D=H;var at=r.add.TySh.Fd,jd=j8.rawText.replace(/\r/g,"\n").replace(/\u000b/g,"\n");
fS.G4(at,0,jd);if(jd!=""){var fM=fS.pP(at,0,1),hS=gW.postscriptName;if(hS==null)hS=gW.family;fS.rt(fM,hS);
fM.QX.FontSize=Math.round(gW.size);if(A){var d=A.color.value;fM.QX.FillColor={Type:1,Values:[1,d.r/255,d.g/255,d.b/255]}}if(af){if(af.paragraphAlign)fM.Sh.Justification=["left","right","center"].indexOf(af.paragraphAlign);
if(af.letterSpacing)fM.QX.Tracking=Math.round(af.letterSpacing);if(af.lineHeight){fM.QX.AutoLeading=!1;
fM.QX.Leading=Math.round(af.lineHeight)}}fS.xm(at,0,jd.length,fM)}var dr=u.meta.ux.rangedStyles;if(dr)for(var P=0;
P<dr.length;P++){var a=dr[P],b1=Math.min(a.length,jd.length-cB);if(P==dr.length-1)b1=jd.length-cB;var fM=fS.pP(at,cB,cB+b1),hS=a.postscriptName;
if(hS==null)hS=a.family;if(hS!=null)fS.rt(fM,hS);var ic=a.textScript,dV=a.underline,eS=a.fontSize,S=a.fill,a2=a.textTransform;
if(ic&&ic!="none")fM.QX.FontBaseline=ic=="superscript"?1:2;if(dV!=null)fM.QX.Underline=dV;if(eS!=null)fM.QX.FontSize=Math.round(eS);
if(a2!=null)fM.QX.FontCaps=a2=="uppercase"?2:0;if(a2=="lowercase"){fS.A8(at,cB,cB+b1);fS.G4(at,cB,jd.slice(cB,cB+b1).toLowerCase())}if(S!=null){var d3=S.value;
fM.QX.FillColor={Type:1,Values:[1,(d3>>>16&255)/255,(d3>>>8&255)/255,(d3>>>0&255)/255]}}fS.xm(at,cB,cB+b1,fM);
cB+=b1}if(as.type=="area"||as.type=="autoHeight"){var cE=as.width,eP=as.height;fS.YM(at,1);fS.N2(at,[0,0,cE,eP!=null?eP:cE*2])}}else if(C=="syncRef"){var jm=u.syncSourceGuid,bD=X.meta.ux.symbols,f1=q.o5(bD,jm);
if(f1){var ft=$.clone();ft.concat(q.vs(f1.transform));az.OK(f1,g,ft,X,w,D)}return}else console.log(C,u);
g.g.push(r)};az.o5=function(u,g){for(var P=0;P<u.length;P++){var K=u[P],X=K.group;if(K.id==g)return K;
if(X){var w=az.o5(X.children,g);if(w)return w}}return null};az.ks=function(u){var g=u.type,K=[{type:6},{type:8,all:0}];
if(g=="rect"){var X=u.r,w=u.x,D=u.y,q=u.width,C=u.height;K=f.J.eQ.Rect(w,D,q,C,X?X:0)}else if(g=="circle"){var X=u.r;
K=f.J.eQ.tj(u.cx-X,u.cy-X,2*X,2*X)}else if(g=="ellipse"){var a=u.rx,x=u.ry;K=f.J.eQ.tj(u.cx-a,u.cy-x,2*a,2*x)}else if(g=="path"||g=="compound"){var H=Typr.U.SVGToPath(u.path);
K=f.p.Ic({F:H.cmds,v:H.crds},!1)}else if(g=="line"){var $=u.x1,r=u.x2,c=u.y1,U=u.y2;K=f.J.eQ.ve([$,c,r,U],0,!0)}else if(g=="polygon"){var O=u.points,A=[];
for(var P=0;P<O.length;P++)A.push(O[P].x,O[P].y);K=K.concat(f.J.eQ.ve(A,0,!1).slice(2))}else console.log(g,u);
return K};az.a6t=function(u){var g=JSON.parse(k8.default);for(var P=0;P<k8.order.length;P++)g[k8.pg[P]]={t:"VlLs",v:[]};
for(var P=0;P<u.length;P++){var K=u[P],X=K.type,w=K.params,D=K.visible;if(X=="dropShadow"){var q=k8.pg[k8.order.indexOf("DrSh")],C=JSON.parse(k8.QO[k8.order.indexOf("DrSh")]);
g[q].v.unshift({t:"Objc",v:C});var a=w.dropShadows;if(a.length!=1)throw"e";var x=a[P],H=x.color,$=H.value,r=x.dx,c=x.dy;
C.Clr.v=f.X.Gp({w:$.r,A:$.g,U:$.b});C.Opct.v.val=Math.round((H.alpha!=null?H.alpha:1)*100);C.uglg.v=!1;
C.enab.v=D!=null?D:!0;C.lagl.v.val=Math.round(180/Math.PI*Math.atan2(c,-r));C.Dstn.v.val=Math.round(Math.sqrt(r*r+c*c));
C.blur.v.val=Math.round(x.r*2.3)}}return g};az.GI=function(u,g,K,X,w,D,q,C,a){var x=az;if(g=="none"){D.add.vstk.fillEnabled.v=!1;
D.add.SoCo={classID:"null",Clr:{t:"Objc",v:f.X.Gp({w:0,A:0,U:0})}}}else{var H,$,r;if(g=="solid"){var c=u.color.value;
H="SoCo";$=k8.rS;var U=JSON.parse(k8.QO[k8.order.indexOf("SoFi")]);r={t:"Objc",v:U};r.v.Clr.v=f.X.Gp({w:c.r,A:c.g,U:c.b})}else if(g=="gradient"){H="GdFl";
$=k8.DK;var U=JSON.parse(k8.QO[k8.order.indexOf("GrFl")]),O=U.Grad.v,S,E,Z;O.Intr.v=0;var A=u[g],m=A.ref?C.gradients[A.ref]:A.meta.ux.gradientResources,i=["linear","radial"].indexOf(m.type),e=m.stops;
U.Type.v.GrdT=["Lnr","Rdl","Angl"][i];if(i==0){var S=new j4(A.x1,A.y1),E=new j4(A.x2,A.y2);S.x=E.x+.5*(S.x-E.x);
S.y=E.y+.5*(S.y-E.y)}else{var S=new j4(A.cx,A.cy),E=new j4(A.cx+A.r,A.cy)}Z=w;if(A.units=="objectBoundingBox"){var N=new eV(X.m,0,0,X.n,X.x,X.y);
S=N.HB(S);E=N.HB(E)}var N=x.vs(A.transform);S=N.HB(S);E=N.HB(E);N=K.clone();N.CD();S=N.HB(S);E=N.HB(E);
f.X.N5(S,E,Z,U);var J=[];for(var P=0;P<e.length;P++){var y=e[P],o=y.color,c=o.value,B=o.alpha;if(B==null)B=1;
J.push([y.offset,[c.r/255,c.g/255,c.b/255],B])}f.X.Ah(J,O);r={t:"Objc",v:U}}else if(g=="pattern"){H="PtFl";
$=k8.lf;var U=JSON.parse(k8.QO[k8.order.indexOf("patternFill")]),p;r={t:"Objc",v:U};var t=u[g],W=t.meta.ux,F=W.uid,G=a["resources/"+F].buffer,L=W.flipX,Q=W.flipY,T=F+L+Q,j=eH.jN(G);
if(q.rq[T])p=q.rq[T];else{var M=new dS(0,0,t.width,t.height),n;if(M.fg()||j==null){M=new dS(0,0,1,1);
n=new ArrayBuffer(4)}else{var d=eH.IB(j);if(d.eE){var V=new f0;d.Tu(G,V);n=V.KS().buffer}else{try{var z=d.Tu(G)[0];
n=z.data;M=z.ZE}catch(fc){n=new ArrayBuffer(M.$()*4)}}}p={};p.id=f0.AO()+"-d71c-11e5-b1ae-a548a96e5f9f";
p.name="someImage";p.e4=[new Uint8Array(n),M];if(L)f.Q.GM(p.e4[0].slice(0),p.e4[0],M.m,M.n);if(Q)f.Q.apn(p.e4[0].slice(0),p.e4[0],M.m,M.n);
q.q_(p);q.rq[T]=p}var I=K.clone();I.CD();I.translate(X.x,X.y);var v=X.m,gj=X.n,jA=p.e4[1].m,Y=p.e4[1].n,jv=Math.max(v/jA,gj/Y);
if(W.scale)jv*=W.scale;var iR=new eV;iR.translate(-jA/2,-Y/2);iR.scale(1/jA,1/Y);if(W.offsetX!=null)iR.translate(W.offsetX,W.offsetY);
iR.scale(jA,Y);iR.scale(jv,jv);iR.translate(v/2,gj/2);iR.concat(I);bW.aw$(p,U,0,0,1e3,iR)}else console.log(g);
if(H!=null){D.add[H]={classID:"null"};for(var P=0;P<$.length;P++){var cj=$[P];D.add[H][cj]=r.v[cj]}}}};
function hQ(){}hQ.h7=function(u,g,K){u=new Uint8Array(u);var X=k.KO(u,0,u.length),w=new DOMParser,D=w.parseFromString(X,"image/svg+xml"),q=D.getElementsByTagName("style")[0],c=1;
if(q)q=Typr.U.SVG.cssMap(q.textContent);else q={};var C=D.firstChild;while(C.tagName!="svg")C=C.nextSibling;
var a=new dS(0,0,100,100),x=C.getAttribute("viewBox"),H=C.getAttribute("width"),$=C.getAttribute("height");
if(x){var r=hQ.zE(x);a.x=r[0];a.y=r[1];a.m=r[2];a.n=r[3]}else if(H!=null||$!=null){a.m=H!=null?parseFloat(H):parseFloat($);
a.n=$!=null?parseFloat($):parseFloat(H)}a=f.p.Cf(a);while(K&&Math.max(a.m*c,a.n*c)<Math.max(K[0],K[1]))c++;
while(K==null&&Math.max(a.m,a.n)*c>8192)c*=.5;g.Ey=!0;g.m=~~(a.m*c);g.n=~~(a.n*c);g.buffer=f.L(g.m*g.n*4);
var U=new eV(c,0,0,c,-a.x*c,-a.y*c),O={lF:hQ.n0(C),ati:q,Ds:0};hQ.R6(D,C.children,g,U,O,new eV,0);if(g.g.length==0){var A=g.Wk();
A.Q9("Layer");g.g.push(A)}};hQ.zE=function(u){var g=" ";if(u.indexOf(",")!=-1)g=",";return u.split(g).map(parseFloat)};
hQ.R6=function(u,g,K,X,w,D,q,C){var a=hQ,x=["display","opacity","fill-opacity","filter"];for(var H=0;
H<g.length;H++){var $=g[H],r=$.tagName,c=$.getAttribute("id"),A=13,E=1,J="clip-path",y=null,T=0;if(c==null)c=$.getAttribute("data-name");
var U=a.n0($,w.ati);for(var O in w.lF)if(x.indexOf(O)==-1&&U[O]==null)U[O]=w.lF[O];if(U["font-size"])A=a.v0(U["font-size"],A);
if($.getAttribute("dx"))X.OR+=a.v0($.getAttribute("dx"),A);if($.getAttribute("dy"))X.ic+=a.v0($.getAttribute("dy"),A);
var m=a.V7($);m.concat(X);var i=$.getAttribute("visibility"),e=U.display,S=K.Wk();if(i=="hidden"||e=="none")S.H4(!1);
S.Q9(c!=null?c.split(":::")[0]:"Layer");if(U.opacity)E*=parseFloat(U.opacity);if(U["fill-opacity"]){var Z=parseFloat(U["fill-opacity"]);
if(Z!=0)E*=Z}S.opacity=Math.round(255*E);if(U["mix-blend-mode"]){var N=b0.ahv.indexOf(U["mix-blend-mode"]);
if(N!=-1)S.wS=b0.t8[N]}if($.getAttribute(J)==null)J="mask";if($.getAttribute(J)!=null){var o=$.getAttribute(J);
o=o.slice(4,o.length-1);var B=u.getElementById(o.slice(1));if(B){var t=B.children;y=K.Wk();y.Q9("Clip-Path"+(c?": "+c:""));
y.add.lsct=q<2?g4.DM:g4.Ab;y.wS="pass";y.R3=24;var W=y.add.vmsk=new l.tU;K.g.push(K.z1());var F=[];if(B.getAttribute(J)){var o=B.getAttribute(J);
o=o.slice(4,o.length-1);F=u.getElementById(o.slice(1)).children}for(var P=0;P<t.length;P++){var G=a.V7(t[P]);
G.concat(m);var L=a.ks(u,t[P],!1).slice(2);f.J.Cg(L,G);W._=W._.concat(L)}for(var P=0;P<F.length;P++){var G=a.V7(t[P]);
G.concat(m);var L=a.ks(u,F[P],!1).slice(2);for(var Q=0;Q<L.length;Q++)if(L[P].yk!=null)L[P].yk=3;f.J.Cg(L,G);
W._=W._.concat(L)}y.LP();y.th();q++}}if(U.filter&&U.filter!="none"){var j=U.filter,M,n,d,z=!1,I=!1,v=!1;
j=j.slice(5,j.length-1);var p=u.getElementById(j),V=[0,0,0,.5],gj=R.S.CJ(m);if(p)for(var P=0;P<p.children.length;
P++){var jA=p.children[P];if(jA.tagName=="feGaussianBlur"){z=!0;M=parseFloat(jA.getAttribute("stdDeviation"))*gj}if(jA.tagName=="feColorMatrix"){var Y=jA.getAttribute("values").split(" ").map(parseFloat);
V=[Y[4],Y[9],Y[14],Y[18]]}if(jA.tagName=="feComposite"){v=!0}if(jA.tagName=="feOffset"){I=!0;var jv=jA.getAttribute("dx"),iR=jA.getAttribute("dy");
n=parseFloat(jv?jv:0)*gj;d=parseFloat(iR?iR:0)*gj}}if(v||I){var cj=v?"IrSh":"DrSh";if(cj=="IrSh"){S.add.iOpa=0}var j8=JSON.parse(k8.QO[k8.order.indexOf(cj)]);
j8.blur.v.val=Math.round(M*2.4);var as=Math.sqrt(n*n+d*d);j8.uglg.v=!1;j8.Dstn.v.val=Math.round(as);
j8.lagl.v.val=Math.round(Math.atan2(d,-n)*(180/Math.PI));j8.Clr.v=f.X.Gp({w:V[0]*255,A:V[1]*255,U:V[2]*255});
j8.Opct.v.val=Math.round(V[3]*100);a.ju(S,k8.pg[k8.order.indexOf(cj)],j8)}else if(z)T=M}if(r=="g"||r=="a"||r=="svg"||r=="switch"||(r=="text"||r=="textPath")&&$.children.length>0||r=="symbol"&&C){if(r=="text")D=a.qV($,D);
var gW=$.getAttribute("viewBox"),af=$.getAttribute("width"),at=$.getAttribute("height");if(gW&&af&&at){var jd=hQ.zE(gW),fM=a.qV($),hS=new eV;
hS.translate(-jd[0],-jd[1]);hS.scale(parseFloat(af)/jd[2],parseFloat(at)/jd[3]);hS.translate(fM.OR,fM.ic);
hS.concat(m);m=hS}var dr=$.children.length,cB=w.lF;w.lF=U;var b1=w.Ds;w.Ds=Math.max(w.Ds,T);var ic=r!="text"&&r!="textPath"||dr>1;
if(ic){var dV=S.AG();S.add.lsct=q<2&&dV&&(c==null||!c.endsWith(":::"))?g4.DM:g4.Ab;S.wS="pass";S.R3=24;
S.H4(dV);K.g.push(K.z1())}a.R6(u,$.children,K,m,w,D,q+1);if(ic)K.g.push(S);else{var eS=K.g[K.g.length-1];
eS.opacity=S.opacity;eS.wS=S.wS}w.Ds=b1;w.lF=cB}else if(r=="use"){var hS=a.qV($);hS.concat(m);var a2=a.C5($),d3=u.getElementById(a2.slice(1));
if(d3){var cB=w.lF;w.lF=U;if(U.filter)d3.setAttribute("filter",U.filter);a.R6(u,[d3],K,hS,w,D,q+1,!0);
w.lF=cB}}else if(r=="path"||r=="rect"||r=="circle"||r=="ellipse"||r=="polygon"||r=="polyline"||r=="line"){S.R3|=16;
S.add.vmsk=new l.tU;S.add.vstk=JSON.parse(JSON.stringify(k8.Sq.default));S.add.vstk.strokeEnabled.v=!1;
var cE=S.add.vstk,W=S.add.vmsk,eP=U.fill,jm=eP=="none"||U["fill-opacity"]&&parseFloat(U["fill-opacity"])==0;
W._=a.ks(u,$,U["fill-rule"]=="evenodd",jm);f.J.Cg(W._,m);var bD=f.J.Xh(W._),f1=U.stroke,ft=U["stroke-width"],ie=U["stroke-dasharray"],b2=U["stroke-linejoin"],dh=U["stroke-linecap"],aY=U["paint-order"];
if(f1==null||f1=="none"||f1=="null"){}else{var eF=a.HK(u,f1,m,bD),de=["SoFi","GrFl","patternFill"].indexOf(eF.type),i5=eF.h.v.Opct.v,hd=1;
if(i5.val!=100){S.opacity=Math.round(S.opacity*i5.val/100);i5.val=100}var eA=[k8.rS,k8.DK,k8.lf][de],jC=cE.strokeStyleContent.v={classID:k8.Sq.lv[de]};
for(var P=0;P<eA.length;P++)jC[eA[P]]=eF.h.v[eA[P]];ft=ft?parseFloat(ft):1;if(aY&&aY.replace(/\s\s+/g," ").slice(0,11)=="stroke fill"){hd=2;
ft/=2}cE.strokeEnabled.v=!0;if(b2)cE.strokeStyleLineJoinType.v.strokeStyleLineJoinType=k8.Sq.join[["miter","round","bevel"].indexOf(b2)];
if(dh)cE.strokeStyleLineCapType.v.strokeStyleLineCapType=k8.Sq.gg[["butt","round","square"].indexOf(dh)];
cE.strokeStyleLineWidth.v.val=ft*R.S.CJ(m);cE.strokeStyleLineAlignment.v.strokeStyleLineAlignment=k8.Sq.kM[hd];
cE.strokeStyleOpacity.v.val=100*(U["stroke-opacity"]?parseFloat(U["stroke-opacity"]):1);if(ie!=null&&ie!="none")cE.strokeStyleLineDashSet.v=bW.jZ(ie.split(",").map(parseFloat),1/ft)}if(jm){S.add.vstk.fillEnabled.v=!1;
S.add.SoCo={classID:"null",Clr:{t:"Objc",v:f.X.Gp({w:0,A:0,U:0})}}}else{var eF=a.HK(u,eP,m,bD),iG=null,cC=null;
if(eF.type=="SoFi"){iG="SoCo";cC=k8.rS}if(eF.type=="GrFl"){iG="GdFl";cC=k8.DK}if(eF.type=="patternFill"){iG="PtFl";
cC=k8.lf}if(iG!=null){var i5=eF.h.v.Opct.v;if(i5.val!=100){S.opacity=Math.round(S.opacity*i5.val/100);
i5.val=100}S.add[iG]={classID:"null"};for(var P=0;P<cC.length;P++){var O=cC[P];S.add[iG][O]=eF.h.v[O]}}}var cL=Math.max(T,w.Ds);
if(cL!=0)S.add.vmsk.Lp=cL;S.LP();S.th(K);K.g.push(S)}else if((r=="text"||r=="tspan")&&$.textContent!=""){D=a.qV($,D);
var hS=D.clone(),d=0;hS.concat(m);if($.children.length>0){var dw=a.n0($.children[0],w.ati);for(var O in dw)if(x.indexOf(O)==-1)U[O]=dw[O]}var eY=U["xml:space"],cf=$.textContent;
if(eY=="preserve")cf=cf.replace(/\t/g," ").replace(/\n/g," ");if(c==null)S.Q9(cf);S.add.lnsr="rend";
S.add.TySh=fS.t5(0,0);S.add.TySh.kI=new dS(0,0,100,100);S.add.TySh.D=hS.clone();var d7=S.add.TySh.Fd;
fS.G4(d7,0,cf);var eP=U.fill,hs=U["font-weight"],bx=U["font-family"],dO=U["text-decoration"],f1=U.stroke,ft=U["stroke-width"],hN=U["dominant-baseline"];
if(hN=="text-before-edge")d=A;else if(hN=="middle")d=A/2;else if(hN=="hanging")d=A;if(d!=0)S.add.TySh.D.translate(0,d);
var jn=fS.pP(d7,0,1);if(eP&&eP!="none"){var V=CSS.$_(eP);jn.QX.FillColor={Type:1,Values:[1,V.w/255,V.A/255,V.U/255]}}if(dO=="underline")jn.QX.Underline=!0;
jn.QX.FontSize=Math.round(A);fS.rt(jn,"LiberationSans");if(hs=="bold")fS.rt(jn,"LiberationSans-Bold");
if(bx){bx=bx.split(",")[0].trim();if(bx[0]=="\"")bx=bx.slice(1);if(bx[bx.length-1]=="\"")bx=bx.slice(0,bx.length-1);
var iP=bx+":"+(hs?hs:"normal"),io={"'DejaVu Sans':normal":"DejaVuSans","'DejaVu Sans':bold":"DejaVuSans-Bold","'Nimbus Sans L':normal":"NimbusSanL-Reg","'Nimbus Sans L':bold":"NimbusSanL-Bol","Libre Franklin:300":"LibreFranklin-Light","Libre Franklin:400":"LibreFranklin-Regular","Libre Franklin:500":"LibreFranklin-Medium","Libre Franklin:600":"LibreFranklin-SemiBold","Libre Franklin:700":"LibreFranklin-Bold"};
if(io[iP])fS.rt(jn,io[iP]);else fS.rt(jn,bx)}if(U["text-anchor"])jn.Sh.Justification=["start","end","middle"].indexOf(U["text-anchor"]);
fS.xm(d7,0,cf.length,jn);if(f1==null||f1=="none"){}else{var j8=JSON.parse(k8.QO[k8.order.indexOf("FrFX")]);
j8.Clr.v=f.X.Gp(CSS.$_(f1));j8.Sz.v.val=Math.round(parseFloat(ft)*R.S.CJ(hS));a.ju(S,"frameFXMulti",j8)}K.g.push(S)}else if(r=="image"){var a2=a.C5($);
if(a2&&a2.slice(0,4)=="data"){var jD=eH.M9(a2),dg=jD,j1=K.Sw(dg,S.getName(),0,0);j1.R3=S.R3;S=j1;var iO=S.rect.clone();
iO.x=iO.y=0;var ck=$.getAttribute("width"),cZ=$.getAttribute("height");if(ck)iO.m=parseFloat(ck);if(cZ)iO.n=parseFloat(cZ);
var bY=a.qV($);bY.concat(m);var ke=f.p.JS(iO).v;f.p.D(ke,bY,ke);S.add.SoLd.Trnf=R.S.c2(ke);S.add.SoLd.nonAffineTransform=R.S.c2(ke);
S.Qu(K,!1);K.g.push(S)}}else console.log("unknown tag: "+r,$.children.length,$.textContent.length);if(y!=null){K.g.push(y);
q--}}};hQ.ju=function(u,g,K){var X=u.add.lmfx;if(X==null){var X=u.add.lmfx=JSON.parse(k8.default);for(var P=0;
P<k8.order.length;P++)X[k8.pg[P]]={t:"VlLs",v:[]}}X[g].v.push({t:"Objc",v:K})};hQ.ks=function(u,g,K,X){var w=hQ,D=[{type:6},{type:8,all:0}],q=g.tagName;
if(q=="use"){var C=w.C5(g),a=u.getElementById(C.slice(1)),x=new eV;if(a.tagName!="rect")x=w.qV(a);x.concat(w.V7(a));
D=w.ks(u,a,K,X);f.J.Cg(D,x)}else if(q=="path"){var H=g.getAttribute("d");if(H==null)return D;var $=Typr.U.SVGToPath(H);
D=f.p.Ic({v:$.crds,F:$.cmds},K,X)}else if(q=="rect"){var r=g.getAttribute("rx"),c=w.qV(g);D=f.J.eQ.Rect(c.OR,c.ic,parseFloat(g.getAttribute("width")),parseFloat(g.getAttribute("height")),r?parseFloat(r):0)}else if(q=="circle"||q=="ellipse"){var U=[0,0,0,0],O=["cx","cy","rx","ry","r"];
for(var P=0;P<5;P++){var A=g.getAttribute(O[P]);if(A){A=parseFloat(A);if(P<4)U[P]=A;else U[2]=U[3]=A}}D=f.J.eQ.tj(U[0]-U[2],U[1]-U[3],2*U[2],2*U[3])}else if(q=="polygon"||q=="polyline"||q=="line"){var m;
if(q=="line")m=[g.getAttribute("x1"),g.getAttribute("y1"),g.getAttribute("x2"),g.getAttribute("y2")].map(parseFloat);
else m=g.getAttribute("points").trim().replace(/\s\s+/g," ").split(",").join(" ").split(" ").map(parseFloat);
D=f.J.eQ.ve(m,0,q!="polygon")}return D};hQ.v0=function(u,g){if(u.charAt(u.length-1)=="m")return g*parseFloat(u.slice(0,u.length-2));
else return parseFloat(u)};hQ.HK=function(u,g,K,X){var w,D,q=hQ,C=JSON.parse(k8.QO[k8.order.indexOf("SoFi")]),a=g!=null?g.indexOf("("):-1;
if(a!=-1){var x=g.indexOf(")"),H=g.slice(0,a).trim(),$=g.slice(a+1,x).trim();if($.charAt(0)=="'")$=$.slice(1,$.length-1);
if(H=="url"){if($.charAt(0)=="#"){var r=u.getElementById($.slice(1));if(r&&r.tagName.toLowerCase().endsWith("gradient")){var c=q.yp(u,r,K,X);
w="GrFl";D={t:"Objc",v:c}}else{w="SoFi";D={t:"Objc",v:C}}}else console.log("unknown url",$)}else if(H=="rgb"||H=="rgba"){w="SoFi";
D={t:"Objc",v:C};D.v.Clr.v=f.X.Gp(CSS.$_(g));if(H=="rgba")D.v.Opct.v.val=Math.round(100*parseFloat(g.split(",").pop()))}else console.log("unknown fill",g)}else{w="SoFi";
D={t:"Objc",v:C};var U=CSS.$_(g);D.v.Clr.v=f.X.Gp(U);if(U._x!=null)D.v.Opct.v.val=Math.round(100*U._x/255)}return{type:w,h:D}};
hQ.V7=function(u){var g=new eV,K=u.getAttribute("transform");if(K)g=hQ.Qo(K);var X=u.getAttribute("style");
if(X!=null){var w={};hQ.jE(w,X,["transform"]);X=w.transform;if(X)g.concat(hQ.Qo(X))}return g};hQ.qV=function(u,g){var K=new eV,X=u.getAttribute("x"),w=u.getAttribute("y");
if(X)K.OR=parseFloat(X);else if(g)K.OR=g.OR;if(w)K.ic=parseFloat(w);else if(g)K.ic=g.ic;return K};hQ.Qo=function(u){var g=Typr.U.SVG.readTrnf(u);
return new eV(g[0],g[1],g[2],g[3],g[4],g[5])};hQ.n0=function(u,g){var K={},X="fill-rule fill stroke stroke-width stroke-dasharray stroke-opacity stroke-linejoin stroke-linecap font-size font-weight font-family text-decoration text-anchor dominant-baseline stop-color stop-opacity filter display opacity fill-opacity paint-order mix-blend-mode xml:space".split(" ");
for(var P=0;P<X.length;P++){var w=u.getAttribute(X[P]);if(w!=null&&w!="inherit")K[X[P]]=w}var D=u.getAttribute("class");
if(g!=null&&D!=null&&g["."+D]!=null)hQ.jE(K,g["."+D],X);var q=u.getAttribute("id");if(g!=null&&q!=null&&g["#"+q]!=null)hQ.jE(K,g["#"+q],X);
var C=u.getAttribute("style");if(C!=null)hQ.jE(K,C,X);return K};hQ.jE=function(u,g,K){g=g.trim().split(";");
for(var P=0;P<g.length;P++){var X=g[P].split(":"),w=X[0]?X[0].trim():"",D=X[1]?X[1].trim():"";for(var q=0;
q<K.length;q++)if(w==K[q]&&D!="inherit")u[K[q]]=D}};hQ.C5=function(u){var g=u.getAttribute("xlink:href");
if(g==null)g=u.getAttribute("href");if(g==null)g=u.getAttribute("xl:href");return g};hQ.yp=function(u,g,K,X){var w=hQ,c=!1;
function D(B,t,W){var F=g.getAttribute(B);if(F==null)return;var G=parseFloat(F);if(F.endsWith("%"))G*=(W?X.m:X.n)/100;
if(W)t.x=G;else t.y=G}var q=new eV,C=g.getAttribute("gradientTransform");if(C)q=w.Qo(C);q.concat(K);
var a=JSON.parse(k8.QO[k8.order.indexOf("GrFl")]),x=a.Grad.v;x.Intr.v=0;var H=g.tagName,$=new j4(0,0),r=new j4(X.m,0);
if(H=="linearGradient"){a.Type.v.GrdT="Lnr";D("x1",$,!0);D("y1",$,!1);D("x2",r,!0);D("y2",r,!1);$.x=r.x+.5*($.x-r.x);
$.y=r.y+.5*($.y-r.y)}if(H=="radialGradient"){a.Type.v.GrdT="Rdl";if(g.getAttribute("cx"))$.x=parseFloat(g.getAttribute("cx"));
if(g.getAttribute("cy"))$.y=parseFloat(g.getAttribute("cy"));r.fP($.x,$.y);if(g.getAttribute("r"))r.x+=parseFloat(g.getAttribute("r"))}var U=g;
while(!0){if(U.getAttribute("gradientUnits")=="userSpaceOnUse")c=!0;var O=w.C5(U);if(O==null)break;U=u.getElementById(O.slice(1))}if(c){$=q.HB($);
r=q.HB(r)}else{$.x=X.x+$.x*X.m;$.y=X.y+$.y*X.n;r.x=X.x+r.x*X.m;r.y=X.y+r.y*X.n}f.X.N5($,r,X,a);var A=g.children;
if(A.length==0){var m=w.C5(g);if(m==null)throw"gradient has no stops";var i=u.getElementById(m.slice(1));
if(i==null){console.log(m.slice(1))}else{var e=w.yp(u,i,q,X);a.Grad=e.Grad}}else{var S=[];for(var P=0;
P<A.length;P++){var E=A[P],Z=w.n0(E),N=Z["stop-color"],J=Z["stop-opacity"],y=E.getAttribute("offset");
if(N==null)N="#000000";J=J==null?1:parseFloat(J);var o=y?parseFloat(y):0;N=CSS.$_(N);if(N._x!=null)J*=N._x/255;
S.push([o,[N.w/255,N.A/255,N.U/255],parseFloat(J)])}f.X.Ah(S,x)}return a};hQ.P8=function(u,g,K){var X=[],w=hQ,a=" { ",x=" } ",H=!1;
w.H1=g.F$?"":"\t";var D=g.aa0,q=g.a6C;X.push("<svg version=\"1.2\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+u.m+" "+u.n+"\" width=\""+D+"\" height=\""+q+"\">");
if(!g.F$)X.push(w.YR(1)+"<title>"+hQ.Jj(u.name.split(".")[0])+"</title>");var C={x4:[],Aj:[],i_:0,Lw:0,ut:0,Y_:{},Iz:{},qz:0,Ui:{},VV:{},nt:0,aX:[]};
hQ.JG(u,C,u.root.children,1,g,K);if(C.x4.length!=0){X.push(w.YR(1)+"<defs>");X=X.concat(C.x4);X.push(w.YR(1)+"</defs>")}X.push(w.YR(1)+"<style>");
if(g.F$){a="{";x="}"}for(var P=0;P<u.g.length;P++)if(u.g[P].add.TySh)H=!0;if(H&&!g.ahV&&!g.adG)X.push(w.YR(2)+"tspan"+a+"white-space:pre"+x);
for(var $ in C.Ui)X.push(w.YR(2)+"."+$+a+C.Ui[$]+x);X.push(w.YR(1)+"</style>");X=X.concat(C.Aj);X.push("</svg>");
X=X.join(g.F$?"":"\n");if(w.v6){console.log(w.v6);var r="SVGParser.gen.db = [\n";for(var P=0;P<w.v6.length;
P++){var c=w.v6[P];r+="{\n\tnam: \""+c.r_+"\",\n\tpts: [\n";for(var U=0;U<c.WS.length;U++){var O=c.WS[U];
r+="\t\t[\""+O[0]+"\", { cmds: "+JSON.stringify(O[1].F)+", crds:"+JSON.stringify(O[1].v)+" } ]"+(U==c.WS.length-1?"":",")+"\n"}r+="\t]\n}"+(P==w.v6.length-1?"":",")+"\n"}r+="]\n";
console.log(r)}return k.o0(X)};hQ.H1="";hQ.YR=function(eJ){var u="";for(var P=0;P<eJ;P++)u+=hQ.H1;return u};
hQ.Dn=function(eJ,u){if(u==null)u=1;var g=""+parseFloat(eJ.toFixed(u));if(g.startsWith("0."))g=g.slice(1);
return g};hQ.JG=function(u,g,K,X,w,D){var q=hQ;function C(H,cE){var J=H.add.lmfx;if(J)J=J[cE].v[0];if(J)J=J.v;
if(J&&!J.enab.v)J=null;return J}function a(H,O){var iG=C(H,"frameFXMulti");if(iG){var cC=iG.Sz.v.val;
if(iG.Styl.v.FStl=="OutF"){O.push("paint-order:stroke fill markers");cC*=2}O.push("stroke: "+CSS.vQ(iG.Clr.v));
O.push("stroke-width: "+cC);O.push("stroke-linejoin: round;")}}for(var x=0;x<K.length;x++){var H=K[x].j,$=H.add.lsct,r=H.add.vmsk,c=H.add.vstk,U=H.add.TySh;
if(r&&!r.isEnabled)r=c=null;var O=[];if(!w.hidden&&!H.AG())continue;var A=H.opacity/255,m=H.add.iOpa?H.add.iOpa/255:1;
if(A!=1)O.push("opacity: "+q.Dn(A));if(m!=1)O.push("fill-opacity: "+q.Dn(m));if(H.wS!="norm"){var i=b0.ahv[b0.t8.indexOf(H.wS)];
if(i!=null)O.push("mix-blend-mode: "+i)}if(!H.AG())O.push("display: none");var e=[],S=[],E=H.getName(),Z=E.indexOf(" .");
if(Z!=-1){S.push(E.slice(Z+2));E=E.slice(0,Z)}if(!w.F$)e.push("id=\""+q.Jj(E)+"\"");var N=bW.o9(H.add.lmfx,H.add),J=N[0],y=N[1];
if(H.xp()){var o=K[x].children;if(!(o.length==1&&o[0].j.add.SoLd&&!w._9)){if(q.v6&&H.getName().split("-").length==3){q.v6.push({r_:H.getName(),he:0,WS:[]})}hQ.Uf(H,r,g,e);
if(O.length!=0)e.push("style=\""+O.join(";")+"\"");var B=q.JP(e,S),t=w.F$&&B=="";if(!t)g.Aj.push(q.YR(X)+"<g"+(B==""?"":" "+B)+">");
q.JG(u,g,o,X+1,w,D);if(!t)g.Aj.push(q.YR(X)+"</g>")}}else if(H.HS()&&r==null){var W=new dS(0,0,u.m,u.n);
q.BY(u,O,H.add,g,W,w);if(O.length!=0)e.push("style=\""+O.join(";")+"\"");g.Aj.push(q.YR(X)+"<rect width=\""+u.m+"\" height=\""+u.n+"\" "+q.JP(e,S)+" />")}else if(r&&H.add.SoLd==null){var W=f.J.Xh(r._,null,!0),F=f.J.e5(r._,1);
if(F.ij!=0){e.push("fill-rule=\"evenodd\"")}var G=F.Zc;q.BY(u,O,H.add,g,W,w);if(O.length!=0){var L=O.join(";"),Q=g.VV[L];
if(Q==null){Q="s"+g.nt;g.nt++;g.VV[L]=Q;g.Ui[Q]=L}S.push(Q)}g.Aj.push(q.YR(X)+"<path "+q.JP(e,S)+" d=\""+G+"\" />");
if(q.v6&&q.v6[q.v6.length-1]){var T=f.p.Cs(r._);T.v=T.v.map(Math.round);var j=q.v6[q.v6.length-1];j.he+=JSON.stringify(T).length;
j.WS.push([O[0].split("#").pop(),T])}}else if(U&&w.ahV){var p=U.Fd,M=new ec(p,D),n=null;if(J)n=CSS.vQ(J.Clr.v);
if(y){var W=H.rect.clone();q._u(y,g,W,w);n=" url(#g"+g.i_+")"}if(n)e.push("fill=\""+n+"\"");a(H,O);if(O.length!=0)e.push("style=\""+O.join(";")+"\"");
var d=dR.sg(M,U),V=f.p.Bz(d);for(var z in V){var I=e.length;if(n==null){e.push("fill=\""+z.slice(0,7)+"\"");
if(z.length>7){var G=z.slice(7).split("-");console.log(G);e.push("stroke=\""+G[1]+"\"");e.push("stroke-width=\""+G[2]+"\"")}}var v=V[z],G=Typr.U.pathToSVG({crds:v.v,cmds:v.F},2);
g.Aj.push(q.YR(X)+"<path "+q.JP(e,S)+" "+q.Oo(U)+" d=\""+G+"\" />");while(e.length>I)e.pop()}}else if(U&&!w.adG){var p=U.Fd,gj=U.D.clone(),n=null;
O.push("transform: "+q.z_(gj));var jA=fS.PU(p),M=new ec(p,D);a(H,O);if(O.length!=0)e.push("style=\""+O.join(";")+"\"");
g.Aj.push(q.YR(X)+"<text "+q.JP(e,S)+" >");if(J)n=CSS.vQ(J.Clr.v);if(y){var W=H.rect.clone();W.x-=gj.OR;
W.y-=gj.ic;q._u(y,g,W,w);n=" url(#g"+g.i_+")"}for(var P=0;P<M.Sh.length;P++){var Y=M.Sh[P];if(Y.gE.length==1&&Y.gE[0].Pa)continue;
for(var jv=0;jv<Y.Ik.length;jv++){var iR=Y.Ik[jv],cj=Y.ew.y+iR.ew.y,j8=Y.gE[iR.start].start,as=Y.gE[iR.end-1].end,gW=fS.aec(p,j8,as),af="";
for(var at=0;at<gW.length;at++){var jd=M.tJ(j8),fM=gW[at],hS=fS.pP(p,j8,j8),dr=hS._L[hS.QX.Font].Name,z=fS.Ld(hS.QX.FillColor),cB=Math.round(hS.QX.FontSize),b1=jA.slice(j8,j8+fM);
if(hS.QX.FontCaps==2)b1=b1.toUpperCase();var ic=new eV;ic.translate(jd.mf.x,-cj);var dV=[];CSS.a0M(dV,hS,null,!0,!0,n);
var L=dV.join(";"),Q=g.VV[L];if(Q==null){Q="t"+g.nt;g.nt++;g.VV[L]=Q;g.Ui[Q]=L}var eS=jd.mf.x,a2=q.aaJ(hS,b1);
af+="<tspan "+(at==0?"x=\""+q.Dn(jd.mf.x)+"\"":"")+" y=\""+q.Dn(cj)+"\" class=\""+Q+"\""+a2+">"+q.Jj(b1)+"</tspan>";
j8+=fM}g.Aj.push(q.YR(X+1)+af)}}g.Aj.push(q.YR(X)+"</text>")}else if(H.add.SoLd&&w._9){var d3=H.add.SoLd,cE=d3.Idnt.v,eP=0,jm=d3.Crop?d3.Crop.v:null;
if(g.Iz[cE]!=null)eP=g.Iz[cE];else{g.qz++;eP=g.qz;g.Iz[cE]=g.qz;var bD=u.lW(cE,jm),ie="";if(bD==null)return;
var f1=bD.Z4,ft=eH.jN(bD.raw.buffer);if(ft=="pdf"){var b2=new f0("h");eH.IB("PDF").Tu(bD.raw.buffer,b2);
b2.Y0();b2.St();b2.O();b2.Z9();if(d3.Crop&&d3.Crop.v==1){R.SO.Tg(b2,b2.root.WA(b2,!0))}var dh=eH.IB("SVG").si(b2,b2.m,b2.n,null,{aX:D});
ie="data:image/svg+xml;base64,"+eH.Gt(dh)}else if(ft=="jpg"||ft=="png"||ft=="gif"||ft=="svg"){var aY={jpg:"image/jpg",png:"image/png",jpg:"image/jpg",svg:"image/svg+xml"};
ie="data:"+aY[ft]+";base64,"+eH.Gt(bD.raw.buffer)}else{ie=eH.sk(f1[0].buffer,f1[1].m,f1[1].n)}g.x4.push(q.YR(2)+"<image width=\""+f1[1].m+"\" height=\""+f1[1].n+"\" id=\"img"+eP+"\" href=\""+ie+"\"/>")}var eF=f.Q.Rm(d3),de=[];
hQ.Uf(H,r,g,de);if(de.length!=0)g.Aj.push(q.YR(X)+"<g "+q.JP(de,S)+">");if(O.length!=0)e.push("style=\""+O.join(";")+"\"");
var i5=q.JP(e,S);g.Aj.push(q.YR(X)+"<use "+i5+" href=\"#img"+eP+"\" transform=\""+q.z_(eF)+"\"/>");if(de.length!=0)g.Aj.push(q.YR(X)+"</g>")}else if(!H.rect.fg()&&(w._9||U)){if(O.length!=0)e.push("style=\""+O.join(";")+"\"");
var i5=q.JP(e,S),eA=H.buffer;if(J)eA=bW.awq(eA,J,H.rect);var jC=H.rect;g.qz++;var ie=eH.sk(eA.buffer,jC.m,jC.n,"png",null,!0);
g.x4.push(q.YR(2)+"<image "+q.Oo(U)+" width=\""+H.rect.m+"\" height=\""+H.rect.n+"\" id=\"img"+g.qz+"\" href=\""+ie+"\"/>");
g.Aj.push(q.YR(X)+"<use "+i5+" href=\"#img"+g.qz+"\" x=\""+jC.x+"\" y=\""+jC.y+"\" />")}}};hQ.aaJ=function(u,g){var K=u.QX.Tracking,X="";
if(K!=null&&K!=0){K=Math.round(K*u.QX.FontSize/1e3);X=" dx=\"0";for(var w=1;w<g.length;w++)X+=" "+K;
X+="\" "}return X};hQ.Oo=function(u){if(u==null)return"";var g=u.Fd,K=fS.PU(g);K=hQ.Jj(K.slice(0,K.length-1));
return"aria-label=\""+K+"\" "};hQ.JP=function(u,g){if(g.length!=0)u.push("class=\""+g.join(" ")+"\"");
return u.join(" ")};hQ.Jj=function(u){return String(u).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\u0022/g,"&quot;")};
hQ.z_=function(u){var g=[u._x,u.U,u.nA,u.kR,u.OR,u.ic];for(var P=0;P<6;P++)g[P]=hQ.Dn(g[P],3);return"matrix("+g.join(",")+")"};
hQ.Uf=function(u,g,K,X){var w=hQ;if(g||u.add.artb){var D;if(g)D=f.J.e5(g._).Zc;else{var q=u.T0(),C=f.p.JS(q);
D=Typr.U.pathToSVG({crds:C.v,cmds:C.F},2)}K.ut++;X.push("clip-path=\"url(#cp"+K.ut+")\"");K.x4.push(w.YR(2)+"<clipPath clipPathUnits=\"userSpaceOnUse\" id=\"cp"+K.ut+"\">");
K.x4.push(w.YR(3)+"<path d=\""+D+"\" />");K.x4.push(w.YR(2)+"</clipPath>")}};hQ.BY=function(u,g,K,X,w,D){var q=D.F$?"":" ",C=hQ,a=K.vstk,x=K.vmsk,H=K.lmfx,$=[];
if(x&&x.Lp!=0){var r=C.Dn(x.Lp);if(X.Y_[r]==null){X.Lw++;X.Y_[r]=X.Lw;X.x4.push(C.YR(2)+"<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"f"+X.Lw+"\"> <feGaussianBlur stdDeviation=\""+r+"\" /> </filter>")}$.push("url(#f"+X.Y_[r]+")")}if(H)for(var P=0;
P<k8.order.length;P++){var c=k8.order[P],U=k8.pg[P],O=H[U].v;for(var A=0;A<O.length;A++){var m=O[A].v,i=m.classID;
if(!m.enab.v)continue;if(i=="OrGl"||i=="DrSh"){X.Lw++;$.push("url(#f"+X.Lw+")");var e=0,S=0,E=m.blur.v.val/2.4,Z=m.Opct.v.val/100;
if(i=="DrSh"){var N=m.uglg&&m.uglg.v?u.pm():m.lagl.v.val;N=N*(Math.PI/180);var J=m.Dstn.v.val;e=-Math.cos(N)*J;
S=Math.sin(N)*J}if(i=="OrGl")Z/=m.Inpr.v.val/100;var y="<filter x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\" id=\"f"+X.Lw+"\" >";
y+="<feDropShadow dx=\""+e+"\" dy=\""+S+"\" stdDeviation=\""+E+"\" flood-color=\""+CSS.vQ(m.Clr.v)+"\" flood-opacity=\""+C.Dn(Z)+"\"/>";
y+="</filter>";X.x4.push(C.YR(2)+y)}}}if($.length!=0)g.push("filter:"+q+$.join(" "));var o=bW.o9(H,K),B=o[0],t=o[1];
if(a&&!a.fillEnabled.v)g.push("fill:"+q+"none");else if(B){var W=CSS.vQ(B.Clr.v);g.push("fill:"+q+W)}else if(t){C._u(t,X,w,D);
g.push("fill:"+q+"url(#g"+X.i_+")")}if(a==null||!a.strokeEnabled.v)a=bW.fq(H);if(a&&a.strokeEnabled.v){var F=a.strokeStyleContent.v,G=F.classID;
if(G=="solidColorLayer")g.push("stroke:"+q+CSS.vQ(F.Clr.v));else{C._u(F,X,w,D);g.push("stroke:"+q+"url(#g"+X.i_+")")}var L=k8.Sq.gg.indexOf(a.strokeStyleLineCapType.v.strokeStyleLineCapType),Q=k8.Sq.join.indexOf(a.strokeStyleLineJoinType.v.strokeStyleLineJoinType),T=a.strokeStyleOpacity.v.val/100,j=a.strokeStyleLineWidth.v.val,p=k8.Sq.kM.indexOf(a.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(p==2){j*=2;g.push("paint-order:stroke fill markers")}var M=a.strokeStyleLineDashSet.v,n=[];for(var P=0;
P<M.length;P++)n.push(Math.round(M[P].v.val*j));if(L!=0)g.push("stroke-linecap:"+q+["butt","round","square"][L]);
if(Q!=0)g.push("stroke-linejoin:"+q+["miter","round","bevel"][Q]);if(T!=1)g.push("stroke-opacity:"+q+C.Dn(T));
if(j!=1)g.push("stroke-width:"+q+C.Dn(j));if(n.length!=0)g.push("stroke-dasharray:"+q+n.join(","))}};
hQ._u=function(u,g,K,X){g.i_++;var w=hQ,D=u.Grad.v,q=JSON.parse(JSON.stringify(D.Clrs.v)),C=JSON.parse(JSON.stringify(D.Trns.v)),a=u.Ofst.v,x=u.Type.v.GrdT,H=x=="Rdl"||x=="Dmnd"?1:0,$=(H==1?"radial":"linear")+"Gradient",r=f.X.pE(u,K),U="";
if(H==0){r[0].x=r[1].x+2*(r[0].x-r[1].x);r[0].y=r[1].y+2*(r[0].y-r[1].y)}var c=w.YR(2)+"<"+$+" id=\"g"+g.i_+"\"";
if(X.F$){if(g.i_==1)g.x4.push("<linearGradient id=\"P\" gradientUnits=\"userSpaceOnUse\"/>");U=" href=\"#P\""}else U=" gradientUnits=\"userSpaceOnUse\"";
if(H==0)g.x4.push(c+" x1=\""+w.Dn(r[0].x)+"\" y1=\""+w.Dn(r[0].y)+"\" x2=\""+w.Dn(r[1].x)+"\" y2=\""+w.Dn(r[1].y)+"\""+U+">");
if(H==1)g.x4.push(c+" cx=\""+w.Dn(r[0].x)+"\" cy=\""+w.Dn(r[0].y)+"\" r=\""+w.Dn(j4.uh(r[0],r[1]))+"\""+U+">");
if(x=="Rflc"){for(var O=0;O<2;O++){var A=O==0?q:C;for(var P=A.length-1;P>=0;P--){var m=A[P];m.v.Lctn.v=2048+(m.v.Lctn.v>>>1);
var i=JSON.parse(JSON.stringify(m));i.v.Lctn.v=4096-i.v.Lctn.v;A.push(i)}A.sort(function(y,o){return y.v.Lctn.v-o.v.Lctn.v})}}var e=u.Rvrs.v;
if(e){q.reverse();C.reverse()}for(var P=0;P<q.length;P++){var S=q[P].v,E=S.Lctn.v/4096;if(e)E=1-E;var Z=P<C.length?C[P].v.Opct.v.val/100:1,Z=Z==1?"":" stop-opacity=\""+w.Dn(Z)+"\"",N=E==0&&X.F$?"":" offset=\""+w.Dn(E)+"\"",J=CSS.vQ(S.Clr.v);
J=X.F$&&J=="#000000"?"":" stop-color=\""+J+"\"";g.x4.push(w.YR(3)+"<stop"+N+J+Z+"/>")}g.x4.push(w.YR(2)+"</"+$+">")};
hQ.eQ=function(u,g,K,X,w){var D=[],q=hQ.eQ,C=!1,a={QM:u,xQ:g,mv:[!0,!0,!0],L0:!1,pw:K,akv:0};a.Qs=Math.round(Math.max(u,g)*(.02+q.g3(a)*.03));
a.OQ=q.awK(a);a.P9=q.ai$(a.OQ,(q.g3(a)<.5?-1:1)*(.2+q.g3(a)*.3));if(q.g3(a)<.5){var x=a.OQ;a.OQ=a.P9;
a.P9=x}a.a9X=q.g3(a)<.4&&q.a1_(a.P9,{w:1,A:1,U:1})>.3;a.aej=q.g3(a)<.5?0:1;D.push("<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 "+u+" "+g+"\" width=\""+u+"\" height=\""+g+"\">");
a.yA=X[Math.floor(q.MF(a)*X.length)];a.jf=X[Math.floor(q.MF(a)*X.length)];D.push("<style>");D.push("@font-face {  font-family: "+a.yA[2]+";  src: url(rsrc/fonts/"+a.yA[5]+");  }");
D.push("@font-face {  font-family: "+a.jf[2]+";  src: url(rsrc/fonts/"+a.jf[5]+");  }");D.push("</style>");
var H=[0,0,u,g],$=H;if(w==null)D.push("<path style=\"fill: "+q.Rs(a.OQ)+"\" d=\""+q.Rect(H[0],H[1],H[2]-H[0],H[3]-H[1])+"\" id=\"Background\" />");
else{a.L0=!0;q.lQ(a,H,D,w)}if(q.g3(a)<.25&&!a.L0){a.mv[0]=a.mv[2]=!1;q.a9b(H,a,D);$=H}else if(q.g3(a)<.25||a.L0)$=H;
else{var r=.52+q.g3(a)*.2;if(q.g3(a)<.5)r=1-r;var c=H.slice(0),U=H.slice(0);if(q.g3(a)<.5)c[2]=U[0]=Math.round(r*u);
else c[3]=U[1]=Math.round(r*g);if(q.g3(a)<.5){var x=c;c=U;U=x}$=c;q.a3_(a,U,D,w)}q.au8(a,$,D);D.push("</svg>");
D=D.join("\n");var O=f.L(Math.round(D.length*1.5)),A=k.i5(D,O,0);return[O.buffer.slice(0,A),a.Wf]};hQ.eQ.a9b=function(u,g,K){var X=hQ.eQ,w=u[2]-u[0],D=u[3]-u[1];
if(X.g3(g)<.5){K.push("<path id=\"Border\" style=\"fill: "+X.Rs(g.P9)+"\" d=\""+X.an3(u[0],u[1],u[2]-u[0],u[3]-u[1],g.Qs)+"\" />")}else if(X.g3(g)<-.4){X.abi(g,u,K)}else{var q=X.g3(g)<.5?0:1,C=(q==0?D:w)/4,a=X.J_(g,q,u,K,C,!0),a=X.J_(g,q+2,u,K,C,!0,a)}};
hQ.eQ.au8=function(u,g,K){var X=hQ.eQ,w="Hello World!-What a beautiful day.-What Is Love?-Baby, don't hurt me.-Is This a Real Life?-Is this a fantasy?-Wake Me Up!-Before you go go.-I Saw The Sign.-And it opened up my mind!".split("-"),D=2*Math.floor(X.g3(u)*w.length/2),q=g[2]-g[0],C=g[3]-g[1],x=0,$=0;
u.m$=(u.QM+q)*.5*(.04+X.g3(u)*.05);u.m$=Math.min(u.m$,C*.4,q*.12);u.m$=Math.round(u.m$);var a=Math.min(u.m$*w[D].length*(.35+.3*X.g3(u)),q*.9),H=(g[1]+g[3])/2,r=f.qC(u.OQ)<.85?{w:1,A:1,U:1}:{w:.1,A:.1,U:.1};
if(X.g3(u)<.25&&u.mv[0]){$=0;x=g[0]+u.Qs}else if(X.g3(u)<.33&&u.mv[2]){$=2;x=g[2]-u.Qs}else{$=1;x=(g[0]+g[2])/2}var c=r.w==1?"0,0,0":"255,255,255",U=u.L0&&X.g3(u)<1;
if(U){var O=g[0],A=q,m=H-u.m$*1.1,i=u.m$*2.2,e=.7;if($==1&&X.g3(u)<.5){O=m=.2*Math.min(q,C);A=q-2*m;
i=C-m-m}else if(X.g3(u)<.7){O=m=0;A=q;i=C;e=.25}K.push("<path id=\"Strip\" style=\"fill: rgb("+c+"); opacity: "+e+"\" d=\""+X.Rect(O,m,A,i)+"\" />")}if(X.g3(u)<.4){var S=u.m$*.07;
S*=1.5+X.g3(u)*1;if($==-1&&q/C<3&&!U){K.push("<path id=\"Bar-bottom\" style=\"fill: "+X.Rs(r)+"\" d=\""+X.Rect(x-a/2,H+u.m$*1.1-S/2,a,S)+"\" />");
K.push("<path id=\"Bar-top\"    style=\"fill: "+X.Rs(r)+"\" d=\""+X.Rect(x-a/2,H-u.m$*1.1-S/2,a,S)+"\" />")}if($!=1){K.push("<path id=\"Bar\" style=\"fill: "+X.Rs(r)+"\" d=\""+X.Rect(x-S/2,H-u.m$*.8,S,u.m$*.8*2)+"\" />");
x+=($==0?1:-1)*u.m$/3}}var E=u.m$*.4;K.push(X.RA(w[D+1],x,H+E*1.6,E,r,$,u.jf));K.push(X.RA(w[D],x,H+u.m$*.04,u.m$,r,$,u.yA))};
hQ.eQ.a3_=function(u,g,K,X){var w=g[2]-g[0],D=g[3]-g[1],q=Math.max(w,D),C=Math.min(w,D),a=hQ.eQ;if(q/C<5&&!u.L0&&!1){a.lQ(u,g,K,X)}else if(a.g3(u)<0)K.push("<path style=\"fill: "+a.Rs(u.P9)+"\" d=\""+a.Rect(g[0],g[1],w,D)+"\" />");
else{var x=0;if(g[3]!=u.xQ)x=0;if(g[2]!=u.QM)x=3;if(g[0]!=0)x=1;if(g[1]!=0)x=2;var H=x+2&3;if(q/C<3){var $=a.a68(H),r=$[Math.round(a.g3(u)*($.length-1))],c=r.r_.slice(0,4),U=c.indexOf(1);
r=JSON.parse(JSON.stringify(r));var O=-1;if(c!="0000"){var A=new eV;if(r.r_[5]=="0"){if(U==3&&x==1){O=1;
A.scale(-1,1)}else O=U}else{var m=H;while(m==H)m=Math.floor(a.g3(u)*4)&3;A.rotate((-U+m)*Math.PI/2)}a.D(r,A)}var i=a.pj(r),e=w-2*u.Qs,S=D-2*u.Qs;
if(O!=-1){if((O&1)==0)S-=u.Qs;else e-=u.Qs}var E=Math.min(e/i.m,S/i.n),Z=new eV;Z.translate(-i.x,-i.y);
Z.scale(E,E);var N=(w-i.m*E)/2,J=(D-i.n*E)/2;if(O!=-1){if(O==3)N=0;if(O==0)J=0;if(O==1)N=w-i.m*E;if(O==2)J=D-i.n*E}Z.translate(g[0]+N,g[1]+J);
a.kN(u,r,Z,u.P9,K)}else{a.J_(u,x,g,K,1e9)}}};hQ.eQ.lQ=function(u,g,K,X){var w=g[2]-g[0],D=g[3]-g[1],q=Math.max(w,D),C=Math.min(w,D),a=hQ.eQ,x=a.MF(u),H,$,r,c=X[0]instanceof ArrayBuffer;
if(c){H="data:image/jpg;base64,"+gP.Hh(X[0]);$=X[1];r=X[2]}else{var U=Math.floor(x*X.length),O=X[U];
u.Wf=O;H=O.webformatURL;$=O.webformatWidth;r=O.webformatHeight}var A=g[0],m=g[1],i=w,e=D;if(w/D>$/r){e=i*r/$;
m=m-(e-D)/2}else{i=e*$/r;A=A-(i-w)/2}if(c){K.push("<defs>");K.push("<image width=\""+$+"\" height=\""+r+"\" id=\"Background\" href=\""+H+"\" />");
K.push("</defs>");var S=i/$;K.push("<use href=\"#Background\" transform=\""+hQ.z_(new eV(S,0,0,S,A,m))+"\" />")}else{var E="cp"+Math.random();
K.push("<clipPath id=\""+E+"\">");K.push("<path style=\"fill: "+a.Rs(u.P9)+"\" d=\""+a.Rect(g[0],g[1],w,D)+"\" />");
K.push("</clipPath>");K.push("<image  clip-path=\"url(#"+E+")\" xlink:href=\""+H+"\" x=\""+A+"\" y=\""+m+"\" width=\""+i+"\" height=\""+e+"\" />")}};
hQ.eQ.RA=function(u,g,K,X,w,D,q){var C=hQ.eQ;return"<text x=\""+g+"\" y=\""+K+"\" style=\"fill:"+C.Rs(w)+"; font-size:"+X+"px; text-anchor:"+["start","middle","end"][D]+"; font-family:"+q[2]+";\"><tspan>"+u+"</tspan></text>"};
hQ.eQ.kN=function(u,g,K,X,w){var D=hQ.eQ,q=[];for(var P=0;P<g.WS.length;P++){q.push(X);if(u.a9X){X=(P&1)==u.aej?{w:1,A:1,U:1}:q[0]}}w.push("<g id=\""+g.r_.split("-")[2]+":::\" style=\"transform: "+hQ.z_(K)+";\" >");
for(var P=0;P<g.WS.length;P++){var C=g.WS[P];X=q.pop();w.push("<path style=\"fill: "+(X?D.Rs(X):"#"+C[0])+"\" d=\""+Typr.U.pathToSVG({crds:C[1].v,cmds:C[1].F})+"\" />")}w.push("</g>")};
hQ.eQ.abi=function(u,g,K){var X=hQ.eQ,w=hQ.eQ.mN,D=[];for(var P=0;P<w.length;P++){var q=w[P],C=q.r_.slice(0,4);
if(C!="1001")continue;D.push(q)}var q=D[Math.floor(X.g3(u)*D.length)];if(X.g3(u)<.5)X.D(q,new eV(0,1,1,0,0,0));
var a=g[3]-g[1],x=g[2]-g[0],H=X.pj(q),$=.7*Math.min(x,a,.5*Math.max(x,a))/Math.max(H.m,H.n),r=new eV;
r.scale($,$);if(X.g3(u)<.5){r.scale(1,-1);r.translate(0,a)}X.kN(u,q,r,u.P9,K);r.rotate(Math.PI);r.translate(x,a);
X.kN(u,q,r,u.P9,K)};hQ.eQ.a68=function(u){var g=hQ.eQ.mN,K=[];for(var P=0;P<g.length;P++){var X=g[P],w=X.r_.slice(0,4);
if(w=="0000"){K.push(X);continue}if(["1000","0100","0010","0001"].indexOf(w)==-1)continue;var D=w.indexOf("1");
if(X.r_[5]=="0"&&u==D&&D!=3)continue;K.push(X)}return K};hQ.eQ.J_=function(u,g,K,X,w,D,q){var C=hQ.eQ.mN,a=hQ.eQ,x=[],i,e;
for(var P=0;P<C.length;P++){var H=C[P],$=H.r_.slice(0,4);if(["1110","1101","1011","0111"].indexOf($)==-1)continue;
var r=$.indexOf("0")+2&3;if(H.r_[5]=="0")if(D==!0||g!=r&&!(g==1&&r==3))continue;x.push(H)}var c=q!=null?q:Math.floor(a.g3(u)*x.length),H=x[c],H=JSON.parse(JSON.stringify(H)),$=H.r_.slice(0,4),r=$.indexOf("0")+2&3;
if(r==3&&g==1)f.D(H,new eV(1,0,0,-1,0,1e3));var U=new eV;U.translate(-500,-500);U.rotate(-r*Math.PI/2);
U.translate(500,500);a.D(H,U);var O=K[3]-K[1],A=K[2]-K[0],m=a.pj(H);if(m.y<0){m.n+=m.y;m.y=0}if(m.y>0){m.n+=m.y;
m.y=0}if((g&1)==0){e=O;i=A}else{i=O;e=A}var S=Math.min(Math.min(.5+.5*a.g3(u))*Math.min(A,O),w)/m.n,E=Math.ceil(i/(1e3*S)),Z=new eV,N=new eV;
N.scale(S,S);if(g==0||g==2){N.translate(-(A/2),-(O/2));N.rotate(-g*Math.PI/2);N.translate(A/2+K[0],O/2+K[1])}else{N.rotate(Math.PI/2);
N.scale(1,-1);N.translate(K[0],K[1]);if(g==1){N.scale(-1,1);N.translate(A,0)}}X.push("<g id=\"Border-"+["top","right","bottom","left"][g]+":::\">");
for(var P=0;P<E;P++){var J=Z.clone();J.concat(N);a.kN(u,H,J,u.P9,X);Z.translate(1e3-2,0)}X.push("</g>");
return c};hQ.eQ.Rect=function(u,g,K,X){return Typr.U.pathToSVG({crds:[u,g,u+K,g,u+K,g+X,u,g+X],cmds:["M","L","L","L","Z"]})};
hQ.eQ.an3=function(u,g,K,X,w){var D=[u,g,u+K,g,u+K,g+X,u,g+X];u+=w;g+=w;K-=2*w;X-=2*w;D.push(u,g,u,g+X,u+K,g+X,u+K,g);
return Typr.U.pathToSVG({crds:D,cmds:"M L L L Z M L L L Z".split(" ")})};hQ.eQ.ai$=function(u,g){var K=f.TT(u.w,u.A,u.U);
K.I4=Math.max(.1,Math.min(.9,K.I4+g));return f.zm(K.xQ,K.C9,K.I4)};hQ.eQ.atG=function(u,g){var K=f.TT(u.w,u.A,u.U);
K.xQ+=g;return f.zm(K.xQ,K.C9,K.I4)};hQ.eQ.ahW=function(u){var g=f.TT(u.w,u.A,u.U);g.I4=1-g.I4;return f.zm(g.xQ,g.C9,g.I4)};
hQ.eQ.a1_=function(u,g){var K=u.w-g.w,X=u.A-g.A,w=u.U-g.U;return Math.sqrt(K*K+X*X+w*w)};hQ.eQ.awK=function(u){var g=hQ.eQ;
return{w:g.g3(u),A:g.g3(u),U:g.g3(u)}};hQ.eQ.Rs=function(u){return CSS.Hi({w:u.w*255,A:u.A*255,U:u.U*255})};
hQ.eQ.pj=function(u){var g=u.WS,K=new dS;for(var P=0;P<g.length;P++)K=K.RN(f.p.pj(g[P][1].v));return K};
hQ.eQ.D=function(u,g){var K=u.WS;for(var P=0;P<K.length;P++)f.p.D(K[P][1].v,g,K[P][1].v)};hQ.eQ.g3=function(u){u.akv++;
var g=u.akv&3;if(g==0)u.pw=hQ.eQ.SP(u.pw);var K=u.pw>>>8*g&255;return K*(.99999999/255)};hQ.eQ.MF=function(u){var g=hQ.eQ.SP(u.pw);
u.pw=hQ.eQ.SP(g);return g*(1/4294967295)};hQ.eQ.SP=function(u){u=(u^61^u>>>16)>>>0;u=u+(u<<3)>>>0;u=(u^u>>>4)>>>0;
u=u*668265261>>>0;u=(u^u>>>15)>>>0;return u};hQ.eQ.mN=[{r_:"0001-0-bird",WS:[["4b3c34",{F:"M C L C C L Z M C C L C C L Z M C L C L Z M C L C C L Z".split(" "),v:[208,16,253,5,247,86,228,104,218,108,253,60,235,12,211,18,210,18,209,17,208,16,208,16,187,140,238,125,326,133,319,189,318,198,307,210,299,207,297,205,307,208,316,195,317,188,320,126,208,137,174,149,187,140,137,75,156,79,177,94,164,157,173,147,177,101,165,79,142,75,137,75,368,59,165,59,182,233,0,210,0,225,161,250,194,61,364,63,367,61,368,59,368,59,368,59]}],["3c7040",{F:"M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C L Z M C C C C C L Z M C C C C L Z M C C C C Z".split(" "),v:[345,123,324,113,331,70,284,80,287,79,310,89,314,103,314,104,306,90,284,82,281,81,270,85,268,86,274,117,335,119,345,123,345,123,270,0,283,29,282,58,244,66,258,62,265,40,269,27,265,37,256,56,249,58,242,31,263,18,270,0,270,0,89,100,81,136,47,182,101,196,90,189,92,157,91,145,94,160,93,191,109,195,148,158,96,129,89,100,89,100,230,187,201,240,160,226,133,198,150,191,172,197,187,198,166,193,153,190,134,193,159,162,207,194,230,187,230,187,126,177,131,159,129,150,119,139,122,122,145,112,147,97,166,128,164,155,134,168,139,154,146,142,145,131,143,145,133,159,126,177,126,177,209,86,195,86,166,91,173,109,177,102,181,97,191,96,180,99,174,113,175,113,194,114,200,96,209,86,209,86,278,175,254,167,235,168,231,143,245,143,248,151,256,158,252,147,243,144,240,142,276,147,265,171,278,175]}],["b588c1",{F:"M C C C C C C C C C C C C L Z".split(" "),v:[189,40,188,42,186,44,184,47,184,52,183,55,181,59,175,70,160,78,147,79,142,79,131,78,127,75,118,74,95,71,93,70,89,70,88,70,69,72,74,66,82,68,93,65,78,64,83,62,95,59,128,50,128,33,155,29,162,16,180,13,189,31,193,31,196,34,198,37,197,37,193,39,189,40,189,40]}]]},{r_:"0001-0-bird2",WS:[["ff7f2a",{F:"M L L L Z M L L L Z".split(" "),v:[296,0,296,62,335,62,296,0,357,0,357,62,318,62,357,0]}],["b588c1",{F:"M C C C C C C C C C C C L Z".split(" "),v:[321,48,344,48,379,67,396,121,408,176,396,230,337,255,303,265,265,268,217,235,191,217,170,188,186,180,195,177,199,187,205,192,203,185,199,178,207,172,217,165,224,178,225,182,227,196,231,203,250,206,273,205,290,196,292,165,289,133,269,118,268,101,267,77,288,49,321,48,321,48]}],["74439e",{F:"M C C C C C C L Z M C C Z".split(" "),v:[337,187,329,202,317,204,304,204,293,204,284,205,293,224,286,216,278,209,268,214,257,220,262,237,269,243,284,258,310,256,323,243,337,227,339,208,337,187,337,187,340,77,310,78,287,81,315,96,269,83,309,75,340,77]}],["000000",{F:"M L L L Z M L L L Z".split(" "),v:[326,258,334,315,323,316,326,258,298,262,296,318,286,317,298,262]}],["4b3c34",{F:"M L C C C C C C C C L Z".split(" "),v:[0,272,0,336,63,296,119,296,175,320,205,330,229,339,278,338,322,337,354,322,405,325,443,329,482,332,501,377,501,366,502,348,474,328,464,320,440,312,384,309,296,309,300,333,186,293,118,264,54,250,0,272,0,272]}],["3c7040",{F:"M C C C Z M C C C Z M C C C L Z M C C C L Z M C C C L Z M C C C Z".split(" "),v:[58,260,44,247,27,239,20,208,15,188,32,182,43,198,59,227,56,242,58,260,181,323,167,336,150,345,143,375,138,396,155,401,166,385,182,356,179,342,181,323,60,260,79,249,100,243,113,214,122,194,102,186,86,200,62,227,65,242,60,260,60,260,499,378,479,377,462,372,435,388,417,399,425,415,444,411,476,403,484,390,499,378,499,378,501,379,494,397,482,411,488,442,491,463,511,461,514,442,520,410,508,397,501,379,501,379,503,378,513,390,516,402,531,413,546,421,557,412,548,401,534,382,519,379,503,378]}]]},{r_:"0000-1-flower",WS:[["7a59a2",{F:"M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z".split(" "),v:[468,470,411,473,371,480,351,495,332,509,322,536,325,581,325,601,328,621,325,637,346,634,371,638,397,637,427,636,456,626,465,611,478,596,485,553,489,490,477,489,470,483,468,470,445,563,435,583,425,591,415,590,401,588,401,572,410,549,388,558,375,557,369,546,366,533,374,524,390,517,416,506,441,498,465,495,463,519,455,542,445,563,445,563,489,450,486,392,480,352,465,332,451,313,425,302,380,305,360,305,340,307,324,304,327,324,322,350,323,376,323,406,332,435,347,444,362,457,405,465,468,470,469,458,476,451,489,450,489,450,395,424,376,415,368,405,369,394,371,380,387,380,410,390,402,368,403,355,414,349,427,346,436,355,443,370,454,397,460,422,463,446,439,443,417,435,395,424,395,424,508,470,566,468,606,462,626,447,645,433,656,407,654,362,654,342,652,322,655,306,634,309,609,304,583,305,553,305,524,314,514,329,501,344,493,387,488,449,500,451,507,457,508,470,508,470,534,377,544,357,554,350,564,351,578,353,578,369,568,392,590,384,604,385,609,396,612,409,603,418,588,425,561,435,536,442,512,445,515,421,523,399,534,377,534,377,488,490,492,547,499,587,514,607,528,626,554,636,600,633,619,632,640,630,656,633,652,612,656,587,655,560,655,531,645,502,629,493,614,480,571,473,508,469,507,481,501,488,488,490,488,490,582,513,602,523,610,533,609,543,607,557,591,557,568,548,577,570,576,583,565,589,552,592,542,584,535,568,524,542,517,517,514,493,538,495,560,503,582,513,582,513]}]]},{r_:"0000-1-flower",WS:[["d13777",{F:"M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z".split(" "),v:[474,503,457,528,452,530,450,528,450,523,469,498,464,493,388,522,332,552,314,585,297,628,322,660,372,639,361,698,421,709,450,665,467,649,477,596,482,505,474,503,474,503,439,563,431,563,424,556,424,548,424,539,431,532,439,532,447,532,454,539,454,548,454,556,447,563,439,563,462,475,432,467,429,463,430,460,435,458,465,469,468,463,417,399,371,356,335,348,288,345,265,379,300,420,241,428,249,488,301,503,321,513,374,507,462,483,462,475,462,475,394,460,391,452,396,444,404,441,412,438,420,443,423,451,426,459,421,467,413,470,405,473,396,468,394,460,484,455,483,424,486,419,489,420,492,424,492,456,498,457,543,389,570,332,566,294,554,249,515,238,487,284,461,231,406,256,408,310,405,333,427,381,477,458,484,455,484,455,477,385,484,380,494,382,499,389,504,396,502,405,496,410,489,415,479,414,474,407,469,400,471,390,477,385,511,470,539,459,545,461,545,463,542,467,512,477,513,483,592,505,654,513,688,497,728,472,726,432,674,419,717,378,675,334,625,353,602,356,563,393,506,464,511,470,511,470,575,442,581,447,583,456,578,463,573,470,563,472,557,467,550,462,548,452,553,445,558,438,568,437,575,442,505,499,524,523,524,529,521,531,517,529,498,503,492,506,496,588,508,650,533,677,570,707,607,693,603,639,656,667,685,614,651,572,641,551,594,525,509,493,505,499,505,499,551,552,548,560,540,564,532,561,524,559,519,550,522,542,524,534,533,530,541,532,549,535,554,543,551,552]}]]},{r_:"0000-1-flower",WS:[["ffac42",{F:"M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z".split(" "),v:[646,471,646,446,626,426,601,426,599,426,597,426,595,427,596,426,598,424,599,423,616,406,616,378,599,360,581,343,553,343,536,360,534,361,533,363,532,364,532,363,532,361,532,359,532,335,512,315,488,315,463,315,443,335,443,359,443,361,443,363,443,365,442,364,441,363,440,362,422,344,394,344,377,362,359,379,359,407,377,425,378,426,380,427,381,429,379,428,378,428,376,428,351,428,331,448,331,473,331,498,351,518,376,518,378,518,380,517,382,517,381,518,379,519,378,521,361,538,361,566,378,584,396,601,424,601,441,584,443,582,444,581,445,579,445,581,445,583,445,584,445,609,465,629,490,629,514,629,534,609,534,584,534,582,534,580,534,579,535,580,536,581,537,582,555,600,583,600,600,582,618,565,618,537,600,519,599,518,597,516,596,515,598,515,599,516,601,516,626,516,646,496,646,471,489,552,444,552,409,516,409,472,409,428,444,392,489,392,533,392,569,428,569,472,569,516,533,552,489,552]}]]},{r_:"0000-1-flower",WS:[["d04040",{F:"M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),v:[691,424,690,369,680,330,660,303,634,320,601,361,568,406,568,406,568,327,578,326,585,317,585,306,585,294,576,284,564,284,552,284,542,294,542,306,542,317,550,326,560,327,560,406,559,406,540,359,522,311,501,291,475,319,453,360,433,407,431,406,431,327,441,326,448,317,448,306,448,294,439,284,427,284,415,284,405,294,405,306,405,317,412,326,423,327,423,404,390,363,360,326,341,308,296,401,299,489,360,567,396,613,443,639,500,638,624,636,694,524,692,424,691,424,389,543,370,514,379,498,399,504,439,518,470,564,488,613,455,600,414,580,389,543,481,480,488,445,505,441,515,459,533,497,524,552,501,599,487,567,472,523,481,480,481,480,624,523,610,563,565,595,515,613,528,580,548,538,585,514,614,494,629,503,624,523,624,523]}]]},{r_:"0000-1-flower",WS:[["ec7272",{F:"M C C C C Z M C C C C Z M C C C C L Z M C C C C L Z M C C C C Z M C C C C L Z".split(" "),v:[447,475,452,450,452,438,437,423,422,407,407,412,390,383,398,418,421,415,433,434,445,453,446,474,447,475,495,446,520,439,529,433,535,412,542,390,529,380,546,351,520,376,533,394,523,414,513,434,495,445,495,446,545,473,564,490,574,495,595,490,617,485,620,469,653,468,619,459,610,479,587,480,565,482,546,472,545,473,545,473,549,533,543,558,543,569,559,585,574,601,589,596,606,624,597,590,575,592,563,573,551,555,550,534,549,533,549,533,504,562,480,570,470,575,464,596,458,618,470,628,454,657,479,632,466,614,476,594,486,575,504,563,504,562,459,536,440,519,430,513,409,518,387,524,384,539,351,540,385,549,394,529,417,528,439,527,457,536,459,536,459,536]}],["333333",{F:"M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z M C C C C C C C C C C C C L Z".split(" "),v:[534,455,584,415,579,358,577,335,574,315,585,304,585,304,585,304,568,308,561,312,554,316,520,333,500,363,479,392,493,437,486,456,479,476,452,485,452,485,452,485,471,474,475,454,479,434,460,402,482,365,505,328,565,292,597,294,612,295,591,298,587,316,583,333,593,373,584,404,574,440,533,456,534,455,534,455,559,506,619,530,666,497,685,483,701,471,716,475,716,475,716,475,704,463,697,459,690,454,657,434,622,431,587,428,554,462,534,465,513,469,492,451,492,451,492,451,511,461,530,455,549,448,568,416,611,417,654,418,716,452,730,481,737,495,724,478,706,483,689,489,660,516,628,524,592,534,558,506,559,506,559,506,524,552,534,615,586,640,607,649,625,657,629,672,629,672,629,672,634,655,634,647,634,639,636,601,621,569,606,537,560,525,547,509,534,494,539,466,539,466,539,466,539,488,554,501,569,514,607,514,627,552,648,590,650,660,632,687,623,700,631,680,617,667,605,656,566,644,543,621,517,594,524,551,524,552,524,552,467,546,417,585,421,643,424,665,426,686,415,697,415,697,415,697,432,693,439,689,446,684,481,667,501,638,521,609,508,563,515,544,522,524,548,515,548,515,548,515,530,527,526,546,522,566,540,598,518,635,496,672,436,709,404,706,388,705,409,702,413,684,417,667,408,628,417,596,426,561,467,544,467,546,467,546,442,495,383,472,336,504,317,518,301,530,286,526,286,526,286,526,298,539,305,543,312,547,344,568,380,571,415,574,448,539,468,536,488,532,510,551,510,551,510,551,490,540,471,547,452,553,434,585,391,584,348,583,286,550,272,521,265,507,278,524,296,518,313,513,342,485,373,477,409,468,444,495,442,495,442,495,476,449,467,386,415,361,394,352,375,344,371,329,371,329,371,329,366,346,366,354,366,362,364,400,379,433,394,465,440,476,453,492,467,508,462,535,462,535,462,535,461,513,446,500,431,487,394,487,373,449,352,411,350,341,368,314,377,301,369,321,383,334,396,345,434,357,457,380,483,407,477,450,476,449,476,449]}]]},{r_:"0000-0-hearts",WS:[["d17070",{F:"M C C C C C C C C C L Z".split(" "),v:[415,584,413,585,411,586,409,587,392,596,389,620,395,633,401,647,414,663,450,668,485,674,487,681,494,690,491,679,487,673,507,643,527,613,524,593,518,579,512,566,493,552,475,558,467,561,451,566,448,586,435,578,423,581,415,584,415,584]}],["6bcc6b",{F:"M C C C C C C C C C L Z".split(" "),v:[595,451,593,449,590,448,588,448,563,439,537,457,529,475,521,493,516,520,542,560,568,601,563,609,559,623,568,611,571,602,618,595,666,589,684,567,692,550,700,532,697,501,674,488,665,482,645,472,622,486,619,465,606,456,595,451,595,451]}],["5c5cc2",{F:"M C C C C C C C C C L Z".split(" "),v:[341,362,338,364,335,366,332,368,304,385,301,424,312,446,323,468,345,494,405,501,465,508,468,520,480,534,475,516,468,506,499,455,531,404,524,370,514,348,503,325,470,304,440,315,427,320,401,331,397,364,374,351,355,356,341,362,341,362]}]]},{r_:"0000-0-anchor",WS:[["2a3b66",{F:"M C C C C L Z M C C C C C C C C C C C C C C L C C C C C C C C C C C C C L C C C C C C C C C C C C C L Z".split(" "),v:[495,315,490,315,488,318,489,323,491,328,502,326,502,320,502,317,501,316,497,315,496,315,496,315,495,315,495,315,496,303,509,303,521,320,514,327,511,330,513,345,517,348,519,350,531,352,546,354,570,357,572,357,578,354,588,347,592,351,592,369,592,385,588,390,580,385,576,383,570,383,552,384,524,387,519,389,517,397,515,404,517,515,520,554,522,583,525,599,530,606,534,610,555,617,565,617,584,616,607,602,635,572,639,568,641,566,644,563,633,559,616,557,616,557,675,533,675,533,671,605,669,609,667,611,664,591,658,577,657,579,657,580,656,582,628,638,603,660,565,664,545,666,521,672,514,675,512,677,507,682,504,688,501,693,497,698,496,698,494,698,490,693,487,688,484,682,480,677,477,675,471,672,447,666,427,664,391,660,367,640,340,591,335,604,332,621,331,619,329,615,325,544,325,544,384,568,384,568,368,569,357,573,385,602,408,616,426,617,437,617,458,610,461,606,466,599,470,583,472,554,474,515,476,404,475,397,473,389,468,387,440,384,422,383,416,383,412,385,403,390,400,385,400,369,400,351,403,347,414,354,419,357,421,357,446,354,460,352,473,350,475,348,478,345,481,330,478,327,470,320,483,303,496,303,496,303]}]]},{r_:"0000-1-leaf",WS:[["fbb600",{F:"M L L L L L L C L L C L C L C C C C C L C C C C C C C C C L C C C C C C C C C C C C C L L L L Z".split(" "),v:[642,726,633,723,632,707,591,631,570,582,526,521,537,547,535,579,517,598,501,619,486,602,414,634,412,606,379,609,346,611,394,557,406,547,401,539,386,532,319,519,337,508,332,493,320,478,326,464,302,450,287,436,303,436,324,441,330,432,346,434,359,434,359,415,377,428,397,431,417,432,442,440,437,418,417,416,406,372,401,370,395,367,389,355,417,363,408,339,406,323,416,312,427,303,417,276,433,295,444,297,452,294,479,321,490,313,496,294,503,322,510,329,517,338,522,353,530,371,530,379,546,402,551,389,555,378,578,333,606,333,628,304,652,280,646,306,644,327,657,329,649,356,658,374,679,384,666,392,656,415,645,432,627,457,653,451,661,457,692,460,698,473,715,481,697,485,678,488,669,509,656,523,655,533,666,539,659,537,659,542,643,531,630,535,613,543,608,539,598,535,594,542,590,553,590,566,594,564,596,569,568,575,551,543,531,519,575,577,597,628,639,708,642,726]}]]},{r_:"0000-1-acorn",WS:[["a05a2c",{F:"M C C C C C C C L Z".split(" "),v:[506,453,450,426,413,422,398,444,374,480,374,533,384,573,391,602,407,625,430,645,451,658,487,654,509,647,554,633,587,605,612,565,635,527,591,500,565,482,557,476,515,457,506,453,506,453]}],["502d16",{F:"M C C C C C C C C C C C Z".split(" "),v:[640,524,639,539,623,540,623,540,627,522,607,504,583,488,547,465,507,445,470,434,439,426,412,417,400,437,400,437,391,424,400,414,434,370,498,356,551,376,555,349,583,317,597,321,612,326,621,346,620,350,619,354,594,352,584,368,580,375,577,382,575,387,619,412,649,460,640,524]}]]},{r_:"0000-0-skull",WS:[["808080",{F:"M C L C C L C L C C C C C C C L C L C C C C C C C C L C C L C L C C C C C C C L C L C L C C C C C C Z M C C C C Z M C C C C Z M L L L Z".split(" "),v:[396,410,398,415,398,420,398,424,420,437,433,404,465,382,501,382,538,382,569,404,582,435,602,424,602,419,603,415,604,410,604,410,609,392,622,379,633,382,643,384,648,402,643,420,643,421,642,421,642,422,643,422,643,422,644,422,662,427,675,440,672,450,669,461,652,465,633,460,628,459,624,457,620,455,589,473,588,491,582,507,572,520,607,540,611,538,615,536,620,535,639,530,656,535,659,545,662,556,649,568,630,573,630,574,629,574,629,574,629,574,629,575,629,575,634,594,630,611,619,614,609,617,596,604,591,585,590,580,589,576,589,571,565,557,564,592,536,619,501,619,466,619,438,591,437,557,412,572,411,576,411,580,410,585,410,585,405,604,392,617,381,614,371,611,366,593,371,575,371,574,371,574,372,574,371,573,371,573,370,573,352,568,339,556,342,545,345,534,362,530,381,535,385,536,390,538,394,540,430,519,421,507,415,491,414,475,380,455,376,457,372,459,367,460,367,460,349,465,331,461,328,450,326,440,338,427,357,422,357,422,358,422,358,422,358,421,358,421,358,420,353,402,357,384,368,381,379,379,391,391,396,410,463,439,445,439,431,453,431,470,431,488,445,502,463,502,480,502,494,488,494,470,494,453,480,439,463,439,540,439,522,439,508,453,508,470,508,488,522,502,540,502,557,502,571,488,571,470,571,453,557,439,540,439,483,528,518,528,500,503,483,528]}]]},{r_:"0000-0-ghost",WS:[["e6e6e6",{F:"M C C C C C C C C C C L Z M C C C C C C C C Z M C C Z".split(" "),v:[653,486,653,574,689,597,689,638,689,661,640,644,620,656,601,666,609,682,583,692,563,700,538,666,512,666,490,666,451,695,433,686,415,677,416,646,388,644,367,641,313,671,313,648,313,619,346,588,346,486,346,388,415,308,500,308,584,308,653,388,653,486,653,486,449,396,428,396,412,415,412,439,412,462,428,482,449,482,465,482,478,470,484,454,489,470,503,482,519,482,539,482,556,462,556,439,556,415,539,396,519,396,503,396,489,407,484,423,478,407,465,396,449,396,482,505,441,505,465,560,482,560,503,560,524,505,482,505]}],["000000",{F:"M C C C C Z M C C C C Z".split(" "),v:[526,446,526,455,519,462,510,462,501,462,494,455,494,446,494,437,501,430,510,430,519,430,526,437,526,446,475,446,475,455,468,462,459,462,450,462,442,455,442,446,442,437,450,430,459,430,468,430,475,437,475,446]}]]},{r_:"1001-1-rose",WS:[["9e1460",{F:"M C C C C C C C C C Z M C C C C C C C C C Z".split(" "),v:[568,83,558,83,548,88,539,96,538,98,536,99,535,101,522,115,513,134,517,149,522,172,561,200,592,207,604,210,611,215,615,221,622,234,611,258,611,258,613,260,615,264,618,264,627,266,638,241,640,236,660,188,614,83,568,83,526,125,527,97,567,68,593,75,616,81,642,121,649,152,651,165,656,172,662,176,675,183,698,173,698,173,698,173,698,173,698,173,704,176,705,179,705,180,706,189,681,199,678,200,678,200,677,201,677,201,627,220,524,170,526,125]}],["020304",{F:"M C C C C C Z M C C C C C Z M C C C C C Z M C C C C Z".split(" "),v:[60,151,60,151,37,125,60,98,83,72,95,91,115,66,134,42,117,26,120,30,123,34,146,83,132,114,114,154,60,151,60,151,280,70,280,70,258,97,283,122,308,147,318,127,339,150,361,173,344,190,347,186,350,182,370,132,354,101,333,62,280,70,280,70,61,150,61,150,27,143,30,108,33,73,54,81,55,50,57,19,33,16,38,17,43,19,91,44,98,78,107,121,61,150,61,150,-27,185,184,158,222,43,352,32,444,24,538,97,538,97,538,97,453,45,354,48,241,51,185,170,-27,185]}]]},{r_:"1001-1-curls",WS:[["53a7ab",{F:"M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),v:[68,114,121,103,159,110,183,135,212,169,211,204,189,237,162,277,124,291,86,276,52,263,38,236,47,202,55,168,79,151,121,156,147,162,165,177,160,205,155,228,135,241,113,237,97,234,92,221,96,205,98,195,105,194,115,200,124,205,133,204,135,197,139,183,122,167,95,171,68,176,54,193,68,220,84,252,131,261,165,238,201,202,199,164,158,136,118,113,52,122,-23,151,2,134,33,122,68,114,68,114,71,83,119,75,163,79,198,107,226,129,247,174,271,207,291,229,316,241,342,232,370,222,394,206,418,209,443,212,461,238,485,258,500,272,522,276,543,271,543,271,524,279,518,281,500,287,483,277,466,256,453,243,441,230,427,223,413,217,392,220,372,229,372,230,371,230,370,230,354,241,337,251,315,250,283,248,253,222,229,172,209,133,178,106,137,94,103,84,52,94,-30,133,-3,108,30,91,71,83,71,83,83,54,122,46,166,49,195,67,219,82,250,122,290,168,308,186,330,194,355,192,393,183,400,145,383,118,372,101,355,91,328,91,313,92,303,98,300,109,298,116,299,125,304,131,315,147,327,152,340,149,349,149,354,132,343,131,330,131,326,129,328,120,332,97,355,100,365,114,381,137,367,165,343,168,321,170,289,150,288,117,290,77,319,58,352,64,388,74,405,104,404,141,403,177,382,202,345,207,312,211,284,191,260,161,245,141,229,122,213,106,196,84,166,73,129,67,80,62,28,79,-26,108,10,79,46,63,83,54,83,54]}],["bbdc54",{F:"M C C C C C L Z M C C C C C L Z M C C C C L Z M C C C C L Z M C C C C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C L Z".split(" "),v:[321,315,287,324,252,312,211,219,217,284,239,326,279,341,324,352,362,329,398,291,316,305,258,269,217,196,238,284,274,319,321,315,321,315,211,261,223,300,234,345,252,374,220,378,194,367,193,324,194,306,198,288,206,270,197,315,204,340,221,351,206,327,202,297,211,261,211,261,206,246,193,301,170,317,138,297,162,281,184,254,205,222,201,246,191,267,174,283,186,279,197,267,206,246,206,246,378,233,370,286,337,299,294,270,312,277,330,276,347,267,294,278,259,252,234,203,280,259,327,278,378,233,378,233,626,217,604,273,555,313,511,315,484,316,438,289,432,232,450,253,488,296,511,291,532,286,551,277,566,261,527,269,498,263,480,243,478,241,478,237,480,235,486,230,504,220,519,226,537,233,551,242,567,241,591,236,611,228,626,217,626,217,411,192,432,183,439,166,420,136,443,144,460,158,466,182,470,165,456,149,430,133,459,136,485,145,505,165,503,143,463,133,434,128,486,127,526,124,539,118,505,123,470,124,435,122,461,111,483,96,500,76,475,95,450,110,424,118,450,96,465,72,466,48,458,75,440,98,419,112,424,106,428,99,428,91,429,68,413,57,393,51,419,70,426,92,411,110,408,77,385,58,343,52,383,26,422,25,445,62,458,47,465,29,467,8,477,27,479,51,475,76,497,64,515,49,528,29,524,57,515,82,496,103,521,113,549,111,579,99,560,122,535,136,502,137,518,149,521,173,514,205,505,181,492,166,476,158,483,188,470,205,447,216,456,183,451,166,438,157,444,193,426,211,379,207,403,193,416,172,416,140,434,156,428,173,411,192,411,192]}]]},{r_:"0111-0-pines",WS:[["e9e9e9",{F:"M C C C C C C C C L L L Z".split(" "),v:[0,946,0,946,54,960,99,944,149,927,182,954,205,956,245,960,298,940,382,974,435,995,478,957,538,956,571,955,597,969,631,968,663,967,701,938,749,944,805,950,851,960,893,946,950,928,1e3,946,1e3,946,1e3,1e3,0,1e3,0,946]}],["437a26",{F:"M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z M C L C C C L L C C L L L L L C Z".split(" "),v:[119,801,120,801,148,859,148,859,137,853,137,853,155,890,155,891,156,892,138,887,140,888,141,888,171,925,171,925,126,924,125,943,125,943,105,944,106,944,107,944,106,924,106,924,61,925,93,886,77,891,100,854,89,860,89,860,119,801,119,801,286,871,286,871,303,905,303,905,296,902,296,902,307,924,307,924,307,925,297,922,297,922,298,922,316,944,316,944,289,944,289,955,289,955,277,956,278,956,278,956,278,944,278,944,251,944,270,921,260,924,274,902,268,906,268,906,285,871,286,871,526,863,526,863,546,903,546,903,538,899,538,899,550,924,550,925,550,926,539,922,540,922,540,922,561,948,561,948,530,947,529,960,529,960,516,961,517,961,518,961,517,947,517,947,486,948,508,921,497,925,513,899,505,903,505,903,526,863,526,863,731,841,731,841,752,883,752,883,744,879,744,879,757,907,757,908,758,908,745,905,746,905,747,905,769,932,769,932,736,932,735,946,735,946,721,946,721,946,722,947,721,932,721,932,688,932,712,903,700,908,717,880,709,884,709,884,731,841,731,841,889,826,889,826,914,876,914,876,904,871,904,871,920,904,920,905,920,906,906,901,907,902,908,902,934,934,934,934,894,933,894,950,894,950,877,951,878,951,879,951,878,933,878,933,838,934,866,900,852,905,872,872,862,877,862,877,889,826,889,826]}]]},{r_:"0111-0-flowers",WS:[["8cae40",{F:"M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z M C L C C C L C C L C C C L C C C L C C L C C L Z".split(" "),v:[182,866,160,879,146,903,135,929,135,844,177,842,228,831,230,796,231,770,207,765,182,779,160,792,146,816,135,843,135,713,135,711,134,710,132,710,130,710,128,711,128,713,128,841,117,815,103,791,82,779,57,764,33,769,34,795,36,830,86,841,128,844,128,930,117,903,103,880,82,867,57,853,33,858,34,884,36,919,86,930,128,932,128,1009,128,1010,130,1012,132,1012,134,1012,135,1010,135,1009,135,931,177,928,228,918,230,882,231,856,207,851,182,866,182,866,447,904,430,898,412,904,394,916,394,861,413,873,431,879,447,873,458,868,458,852,447,848,430,841,412,848,394,859,394,788,394,787,393,786,391,786,389,786,388,787,388,788,388,859,370,847,352,841,336,848,325,852,325,868,336,873,352,879,370,873,388,862,388,915,370,904,352,898,336,904,325,909,325,925,336,929,352,936,370,930,388,918,388,1009,388,1010,389,1011,391,1011,393,1011,394,1010,394,1009,394,918,413,930,431,936,447,929,458,925,458,909,447,904,447,904,662,943,650,954,641,972,634,993,634,914,659,907,680,895,692,873,707,846,686,836,662,859,650,870,641,888,634,909,634,818,634,816,632,815,631,815,629,815,628,816,628,818,628,908,621,887,612,870,600,859,576,836,555,846,570,873,582,895,603,907,628,914,628,992,621,971,612,954,600,943,576,920,555,930,570,957,582,978,603,990,628,998,628,1009,628,1010,629,1011,631,1011,632,1011,634,1010,634,1009,634,998,659,991,680,978,692,957,707,930,686,920,662,943,662,943,892,842,875,857,862,882,850,912,850,822,874,817,896,805,908,778,919,755,896,751,877,769,866,779,857,796,850,815,850,737,850,736,848,735,847,735,845,735,844,736,844,737,844,815,836,795,828,779,817,769,798,751,775,755,785,777,797,804,820,817,844,822,844,912,832,882,818,857,801,842,772,816,737,822,753,854,772,894,806,911,844,918,844,1009,844,1010,845,1011,847,1011,848,1011,850,1010,850,1009,850,918,887,911,922,894,941,854,957,822,922,816,892,842,892,842]}],["d13777",{F:"M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M L C L L C C C C L L Z M C C C C Z M C C C C C C C Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C L Z M C C C C C C L Z M C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C C Z M C C C C Z M C C L L C C C C L L C C L L C C C C L C C C C L Z M C C C Z M C C C L Z M C C C L Z".split(" "),v:[125,603,115,617,112,619,110,618,111,615,122,600,119,597,75,614,43,631,32,650,22,675,36,694,65,682,59,716,94,722,111,696,120,687,126,657,129,604,125,603,125,603,104,638,99,638,95,634,95,629,95,624,99,620,104,620,109,620,113,624,113,629,113,634,109,638,104,638,117,587,100,582,98,579,99,578,102,577,119,583,121,580,92,543,65,517,44,513,17,512,4,531,24,555,-10,560,-6,594,24,603,36,609,67,605,118,591,118,587,117,587,78,578,77,573,79,568,84,567,88,565,93,568,95,573,96,577,94,582,89,584,85,585,80,583,78,578,130,575,130,557,131,554,133,555,135,557,135,575,138,576,164,537,180,504,177,482,171,456,148,449,132,476,117,445,85,460,86,491,84,504,97,532,126,577,130,575,130,575,126,535,130,532,136,533,139,537,142,541,141,546,137,549,133,552,127,551,125,547,122,543,122,538,126,535,146,584,162,577,165,578,166,580,164,582,146,588,147,591,193,604,229,609,249,600,271,585,271,562,240,554,265,530,241,505,212,516,199,518,176,539,143,580,146,584,146,584,183,567,187,570,187,576,185,580,182,584,176,585,172,582,168,579,167,573,170,569,173,565,179,565,183,567,142,601,153,615,153,618,152,619,149,618,138,603,135,605,137,652,144,688,159,704,180,721,202,713,199,681,230,698,246,667,227,643,221,631,194,616,145,597,142,601,142,601,169,631,167,636,162,638,158,637,153,635,151,630,152,625,154,621,159,618,163,620,168,621,170,626,169,631,376,691,343,693,320,697,309,706,297,714,291,729,294,756,294,767,295,779,294,788,305,786,320,788,335,788,353,787,369,782,375,773,382,764,386,739,388,703,381,702,377,699,376,691,363,745,357,757,351,761,345,761,337,760,337,751,343,737,330,742,322,742,319,735,317,728,322,723,331,718,346,712,360,708,374,706,373,720,369,733,363,745,363,745,388,680,387,646,383,623,375,612,366,600,351,594,325,596,314,596,302,597,293,595,295,607,292,622,292,637,292,654,298,671,306,676,315,684,340,689,376,692,377,684,381,680,388,680,388,680,334,665,323,659,318,654,319,648,320,639,329,640,343,645,338,632,339,625,345,621,352,620,358,625,362,634,368,649,372,664,373,677,360,676,347,671,334,665,334,665,399,691,433,690,456,686,467,678,479,670,485,655,484,629,484,617,482,606,484,597,472,598,458,595,442,596,425,596,409,601,403,610,395,618,391,643,388,679,395,680,399,684,399,691,399,691,414,638,420,626,426,622,432,622,440,624,440,633,434,646,447,641,455,642,458,648,459,656,454,661,445,665,430,671,416,675,402,677,403,663,408,650,414,638,414,638,388,703,390,736,394,759,403,770,411,782,426,788,452,785,464,785,475,784,485,785,483,774,485,759,485,744,484,726,479,710,470,704,461,697,436,693,400,691,399,698,395,702,388,703,388,703,442,716,453,722,458,728,458,734,456,742,447,742,434,736,439,749,438,757,432,760,425,762,419,757,415,748,409,733,404,719,403,705,416,706,429,710,442,716,442,716,722,716,722,701,710,690,696,690,695,690,694,690,693,690,693,689,694,689,695,688,705,678,705,662,695,651,685,641,668,641,658,651,658,652,657,653,656,654,656,653,656,652,656,651,656,637,645,625,630,625,616,625,605,637,605,651,605,652,605,653,605,654,604,654,604,653,603,652,593,642,576,642,566,652,556,662,556,679,566,689,567,690,568,690,569,691,568,691,567,691,566,691,552,691,540,702,540,717,540,731,552,743,566,743,567,743,568,743,569,742,569,743,568,744,567,744,557,754,557,771,567,781,577,791,594,791,604,781,605,780,605,779,606,778,606,779,606,780,606,781,606,795,617,807,632,807,646,807,657,795,657,781,657,780,657,779,657,778,658,779,658,779,659,780,669,790,686,790,696,780,706,770,706,754,696,743,695,743,694,742,693,741,694,741,695,741,696,741,710,741,722,730,722,716,631,762,605,762,585,742,585,716,585,691,605,670,631,670,657,670,677,691,677,716,677,742,657,762,631,762,958,602,957,570,951,547,940,532,925,541,905,565,887,591,886,591,886,546,892,545,897,540,897,533,897,527,891,521,884,521,877,521,872,527,872,533,872,540,876,545,882,546,882,591,882,591,870,564,860,536,848,525,833,541,820,565,808,592,807,592,807,546,813,545,817,540,817,533,817,527,812,521,805,521,798,521,792,527,792,533,792,540,797,545,802,546,802,590,784,567,766,545,755,534,729,588,731,639,766,684,787,711,814,726,847,725,919,724,960,659,958,602,958,602,783,671,772,653,777,645,789,648,812,656,830,682,840,711,821,704,797,692,783,671,836,634,840,614,850,612,856,622,867,644,861,676,848,703,840,684,831,659,836,634,836,634,919,659,911,682,885,701,856,711,863,692,875,668,896,654,913,642,922,647,919,659,919,659]}]]},{r_:"1101-1-confetti",WS:[["e789ff",{F:"M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),v:[170,439,169,438,59,370,108,300,152,238,298,276,318,337,338,398,265,380,285,358,312,328,185,247,121,307,72,353,171,440,170,439,318,338,336,399,262,408,184,346,138,309,73,237,112,174,167,88,345,115,377,222,393,276,296,260,335,236,375,212,236,111,155,183,73,254,265,380,285,358,312,328,318,338,318,338,377,222,394,276,318,288,243,236,187,197,146,120,201,56,254,-5,365,26,407,68,407,68,414,94,378,71,344,50,258,31,221,89,178,154,297,260,336,235,374,211,377,222,377,222,406,70,452,115,432,189,324,115,214,39,323,-85,322,-85,320,-85,229,38,331,100,439,166,413,95,377,72,343,51,364,28,406,70,346,405,369,418,356,441,333,428,346,405,513,298,536,311,523,334,500,321,513,298,891,91,914,104,901,127,878,114,891,91,24,123,47,136,34,159,11,146,24,123,664,33,687,46,674,69,651,56,664,33,910,482,933,495,920,518,897,505,910,482]}],["666666",{F:"M C C C C C Z M C C C C C C C Z M C C C C C C C Z M C C C C C Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),v:[919,442,917,443,802,510,764,432,730,364,837,250,901,261,965,272,913,329,903,301,889,262,755,338,777,424,794,490,920,442,919,442,901,261,964,274,936,345,842,386,787,410,690,435,654,370,604,279,716,132,827,153,883,164,821,244,819,197,817,150,659,228,682,335,706,443,913,329,903,301,889,262,901,261,901,261,827,153,884,163,857,238,774,281,711,313,622,313,593,233,564,157,647,71,705,54,705,54,732,60,694,82,658,102,599,170,632,231,669,301,822,244,819,197,816,150,827,153,827,153,706,54,769,34,825,87,706,149,583,213,527,56,526,57,526,59,590,200,696,137,807,70,732,60,694,82,658,102,648,73,706,54,362,328,383,340,371,361,350,349,362,328,52,189,73,201,61,222,40,210,52,189,509,119,530,131,517,152,496,140,509,119,912,16,933,28,921,49,900,37,912,16,629,380,650,392,638,413,617,401,629,380,77,414,98,426,86,447,65,435,77,414,240,76,261,88,249,109,228,97,240,76]}]]},{r_:"1101-1-branch",WS:[["7f500b",{F:"M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z M C C C L C C Z".split(" "),v:[144,-14,144,-14,149,-12,150,-12,150,-12,106,22,86,75,63,137,93,193,69,238,64,236,89,174,53,146,80,72,99,19,144,-14,144,-14,280,-18,281,-18,276,-20,276,-20,276,-20,282,23,264,64,244,113,196,129,185,168,189,170,209,120,244,123,269,66,288,25,280,-18,280,-18,429,-5,429,-5,434,-4,434,-4,435,-4,405,28,396,72,386,124,415,164,402,203,398,202,410,150,379,132,391,70,399,26,429,-5,429,-5,514,-7,514,-7,519,-12,519,-12,520,-12,532,50,577,96,630,151,703,150,738,197,733,201,681,144,635,166,571,101,526,54,514,-7,514,-7,666,-67,666,-68,663,-65,662,-64,662,-64,704,-52,734,-18,768,22,763,72,793,99,796,96,760,57,778,26,737,-22,708,-56,666,-67,666,-67,936,-8,936,-8,932,-9,931,-9,931,-9,947,32,938,76,927,127,884,154,881,194,886,195,895,142,930,138,943,76,952,32,936,-8,936,-8]}],["5c7f0b",{F:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),v:[119,6,121,16,113,31,81,33,58,34,27,27,27,27,27,27,53,5,70,-1,93,-9,117,-4,119,6,124,8,132,1,151,12,165,33,179,54,180,87,180,87,180,87,153,75,139,60,122,41,115,14,124,8,78,74,82,83,76,97,48,103,27,108,-2,105,-2,105,-2,105,19,81,33,74,53,64,75,65,78,74,83,75,90,68,108,76,124,93,139,110,144,140,144,140,144,140,117,132,104,121,85,105,76,83,83,75,72,152,75,159,72,172,48,179,30,185,6,185,6,185,6,185,22,163,33,156,49,145,68,145,72,152,76,153,81,146,98,151,112,165,126,178,133,203,133,203,133,203,110,199,97,190,80,178,70,160,76,153,73,206,75,213,71,224,49,228,34,232,12,230,12,230,12,230,28,212,39,206,53,199,70,200,73,206,76,207,81,202,95,207,107,220,118,233,122,255,122,255,122,255,102,250,92,241,78,230,71,213,76,207,70,232,78,236,76,252,66,269,56,286,33,297,33,297,33,297,33,274,39,260,46,241,62,228,70,232,285,3,278,8,274,21,291,39,304,52,325,63,325,63,325,63,323,36,316,24,308,7,291,-2,285,3,281,1,280,-7,263,-10,244,-5,224,1,205,20,205,20,205,20,228,27,244,25,264,22,283,10,281,1,270,65,264,69,259,80,272,99,281,112,299,125,299,125,299,125,300,100,296,88,290,72,277,61,270,65,267,64,267,56,252,51,234,53,216,56,197,71,197,71,197,71,216,80,230,80,249,80,267,72,267,64,231,116,225,119,220,128,230,145,237,157,251,170,251,170,251,170,254,148,251,138,248,123,237,113,231,116,228,114,229,108,217,102,201,103,186,103,168,115,168,115,168,115,184,124,196,126,212,127,228,121,228,114,201,148,196,151,192,160,202,174,209,184,222,194,222,194,222,194,223,175,220,166,216,154,206,145,201,148,198,147,198,141,187,137,174,139,160,141,145,152,145,152,145,152,160,159,171,159,185,160,198,153,198,147,188,165,182,163,173,174,170,190,167,205,173,224,173,224,173,224,186,210,191,198,197,183,195,166,188,165,415,10,417,18,413,31,389,36,371,39,347,37,347,37,347,37,364,16,377,9,393,0,412,2,415,10,418,11,424,4,440,11,453,27,466,43,470,69,470,69,470,69,448,62,436,52,420,38,412,17,418,11,391,69,394,76,392,89,371,96,355,102,333,103,333,103,333,103,346,81,357,74,371,64,388,63,391,69,395,70,399,63,414,68,428,80,441,92,448,116,448,116,448,116,427,113,415,105,400,94,390,77,395,70,395,133,398,139,397,150,379,158,367,164,348,167,348,167,348,167,358,148,366,140,377,130,391,128,395,133,398,134,401,128,414,130,427,140,439,149,447,169,447,169,447,169,429,167,418,162,404,154,394,140,398,134,401,177,404,182,402,192,386,198,374,202,358,203,358,203,358,203,368,187,375,181,386,173,399,172,401,177,404,178,408,173,419,176,429,185,439,194,445,212,445,212,445,212,429,210,420,204,408,196,401,183,404,178,402,198,408,201,409,214,403,229,397,244,381,255,381,255,381,255,378,236,381,224,385,208,396,196,402,198,519,23,531,26,543,42,528,75,518,99,495,125,495,125,495,125,485,87,487,67,490,40,508,19,519,23,523,19,521,7,542,-6,571,-8,600,-10,636,6,636,6,636,6,609,27,586,32,557,39,526,32,523,19,570,100,581,102,594,115,585,147,579,170,562,197,562,197,562,197,548,163,547,145,547,120,560,98,570,100,574,97,570,86,587,72,613,66,639,60,673,71,673,71,673,71,652,93,632,101,607,110,578,107,574,97,649,149,659,150,670,160,666,188,662,208,650,232,650,232,650,232,635,205,633,189,631,168,640,149,649,149,652,146,648,137,662,123,683,116,705,109,734,116,734,116,734,116,718,137,702,145,681,155,657,155,652,146,707,178,715,179,724,189,718,213,714,230,701,250,701,250,701,250,690,225,690,211,689,193,699,177,707,178,710,175,707,167,720,156,739,151,759,147,784,155,784,155,784,155,768,172,753,177,734,185,713,183,710,175,732,194,740,189,757,199,770,218,782,237,783,266,783,266,783,266,758,254,746,240,730,223,724,199,732,194,687,-62,688,-54,699,-45,722,-53,739,-59,759,-73,759,-73,759,-73,733,-82,719,-82,701,-81,685,-71,687,-62,684,-60,676,-62,666,-48,662,-28,659,-9,669,17,669,17,669,17,684,-1,689,-16,696,-35,692,-57,684,-60,737,-23,738,-15,746,-5,768,-9,784,-12,804,-23,804,-23,804,-23,782,-34,769,-36,752,-38,736,-30,737,-23,734,-20,727,-24,716,-13,711,5,705,22,711,46,711,46,711,46,727,33,734,20,742,3,742,-17,734,-20,766,35,766,41,772,50,792,48,806,47,823,40,823,40,823,40,805,28,795,26,780,23,766,28,766,35,763,37,758,33,747,42,741,56,735,70,738,91,738,91,738,91,753,81,760,71,768,57,769,40,763,37,782,76,783,82,789,89,806,86,818,84,832,76,832,76,832,76,816,67,806,66,794,65,782,70,782,76,780,78,775,75,766,84,762,97,758,110,762,128,762,128,762,128,775,118,779,108,786,95,785,80,780,78,792,94,788,100,794,112,807,122,819,131,839,133,839,133,839,133,832,116,823,107,812,95,796,89,792,94,945,11,939,18,938,31,959,45,974,55,997,62,997,62,997,62,989,36,980,25,968,11,950,5,945,11,941,11,938,3,921,3,903,13,885,22,871,45,871,45,871,45,894,47,909,42,929,35,944,19,941,11,944,75,938,80,935,93,952,108,964,119,984,128,984,128,984,128,980,104,974,93,965,78,949,70,944,75,940,75,938,67,923,65,906,71,889,77,873,96,873,96,873,96,894,101,908,99,926,95,942,82,940,75,916,133,911,137,907,147,920,162,930,172,946,182,946,182,946,182,944,160,940,151,933,137,921,129,916,133,913,132,912,125,899,123,884,127,869,130,854,145,854,145,854,145,871,151,883,150,899,148,913,139,913,132,893,171,888,175,887,184,899,196,908,204,923,211,923,211,923,211,920,193,915,184,909,173,897,167,893,171,890,170,889,165,877,163,864,168,851,172,839,187,839,187,839,187,855,190,865,188,879,186,891,176,890,170,884,190,877,190,871,202,871,218,871,234,881,251,881,251,881,251,891,234,893,222,896,206,890,190,884,190]}]]},{r_:"1101-1-sticks",WS:[["ec7272",{F:"M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),v:[260,148,297,180,286,192,249,160,260,148,114,31,161,47,155,63,109,47,114,31,931,91,902,52,915,42,945,81,931,91,711,19,746,-15,758,-3,723,31,711,19,812,161,782,122,795,112,825,151,812,161,389,34,424,0,436,12,401,46,389,34,431,209,465,175,477,186,442,221,431,209,282,90,282,41,299,41,299,90,282,90,58,233,29,194,42,184,72,223,58,233,574,58,621,74,615,90,569,74,574,58]}],["0000ff",{F:"M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z M L L L L Z".split(" "),v:[722,208,733,161,717,157,706,205,722,208,843,12,797,28,802,44,849,28,843,12,31,74,60,35,47,25,18,64,31,74,220,21,185,-13,173,-1,208,33,220,21,140,166,170,127,157,117,127,156,140,166,558,148,523,114,511,126,546,160,558,148,562,9,516,25,521,41,568,25,562,9,697,105,726,66,713,56,684,95,697,105,961,180,990,141,977,131,948,170,961,180,399,97,353,113,358,129,405,113,399,97]}]]},{r_:"1101-1-dots",WS:[["ec7272",{F:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),v:[154,47,144,47,136,39,136,29,136,19,144,11,154,11,164,11,172,19,172,29,172,39,164,47,154,47,272,164,262,164,254,156,254,146,254,136,262,128,272,128,282,128,290,136,290,146,290,156,282,164,272,164,529,48,519,48,511,40,511,30,511,20,519,12,529,12,539,12,547,20,547,30,547,40,539,48,529,48,696,101,686,101,678,93,678,83,678,73,686,65,696,65,706,65,714,73,714,83,714,93,706,101,696,101,929,91,919,91,911,83,911,73,911,63,919,55,929,55,939,55,947,63,947,73,947,83,939,91,929,91]}],["0000ff",{F:"M C C C C Z M C C C C Z M C C C C Z M C C C C Z M C C C C Z".split(" "),v:[66,122,56,122,48,114,48,104,48,94,56,86,66,86,76,86,84,94,84,104,84,114,76,122,66,122,309,55,299,55,291,47,291,37,291,27,299,19,309,19,319,19,327,27,327,37,327,47,319,55,309,55,785,180,775,180,767,172,767,162,767,152,775,144,785,144,795,144,803,152,803,162,803,172,795,180,785,180,459,147,449,147,441,139,441,129,441,119,449,111,459,111,469,111,477,119,477,129,477,139,469,147,459,147,811,48,801,48,793,40,793,30,793,20,801,12,811,12,821,12,829,20,829,30,829,40,821,48,811,48]}],["88a500",{F:["M","C","C","Z"],v:[389,224,389,224,410,230,410,230,410,230,389,224,389,224]}]]},{r_:"1101-1-strips",WS:[["ffc88c",{F:"M L L L L Z M L L L L Z M L L L L Z".split(" "),v:[-40,0,44,0,137,99,53,99,-40,0,296,0,380,0,473,99,389,99,296,0,632,0,716,0,809,99,725,99,632,0]}],["88a500",{F:"M L L L L Z M L L L L Z M L L L L Z".split(" "),v:[128,0,212,0,305,99,221,99,128,0,464,0,548,0,641,99,557,99,464,0,800,0,884,0,977,99,893,99,800,0]}],["88a500",{F:["M","C","C","Z"],v:[407,217,407,217,428,223,428,223,428,223,407,217,407,217]}]]},{r_:"1101-1-circs",WS:[["ec7272",{F:"M C C C C Z M C C C C Z".split(" "),v:[61,209,27,209,0,181,0,147,0,113,27,86,61,86,96,86,123,113,123,147,123,181,96,209,61,209,551,209,517,209,489,181,489,147,489,113,517,86,551,86,585,86,612,113,612,147,612,181,585,209,551,209]}],["217995",{F:"M C C C C Z M C C C C Z".split(" "),v:[303,209,269,209,241,181,241,147,241,113,269,86,303,86,337,86,364,113,364,147,364,181,337,209,303,209,799,209,765,209,738,181,738,147,738,113,765,86,799,86,834,86,861,113,861,147,861,181,834,209,799,209]}],["88a500",{F:["M","C","C","Z"],v:[530,273,530,273,551,279,551,279,551,279,530,273,530,273]}]]},{r_:"1101-1-squares",WS:[["014ea7",{F:"M L L L L Z M L L L L Z".split(" "),v:[0,120,124,120,124,244,0,244,0,120,497,120,621,120,621,244,497,244,497,120]}],["fc54ff",{F:"M L L L L Z M L L L L Z".split(" "),v:[249,120,373,120,373,244,249,244,249,120,746,120,870,120,870,244,746,244,746,120]}],["88a500",{F:["M","C","C","Z"],v:[389,354,389,354,410,360,410,360,410,360,389,354,389,354]}]]},{r_:"1101-0-christmas",WS:[["014ea7",{F:"M C C C C Z M C C C C Z M L L L L Z".split(" "),v:[255,480,178,480,116,418,116,341,116,264,178,202,255,202,332,202,394,264,394,341,394,418,332,480,255,480,255,232,236,232,221,217,221,198,221,179,236,164,255,164,274,164,289,179,289,198,289,217,274,232,255,232,251,-152,260,-152,260,248,251,248,251,-152]}],["ff9518",{F:"M C C C C Z M C C C C Z M L L L L Z".split(" "),v:[746,623,669,623,607,561,607,484,607,407,669,345,746,345,823,345,885,407,885,484,885,561,823,623,746,623,747,376,728,376,713,361,713,342,713,323,728,308,747,308,766,308,781,323,781,342,781,361,766,376,747,376,742,-8,751,-8,751,392,742,392,742,-8]}]]}];
var bH={};bH.parse=function(u){var g=new Uint8Array(u),K=null;if(g[0]==80&&g[1]==75){var X=Date.now(),w=UZIP.parse(g.buffer),K=w["document.json"];
K=JSON.parse(k.KO(K,0,K.length));bH.GO(K,w)}else{var D=jg.parse(u);K=bH.ji(D[2][0][1])}return K};bH.GO=function(u,g){var K=typeof u;
if(K=="string"||K=="number"||K=="boolean")return u;if(u instanceof Array){for(var P=0;P<u.length;P++)u[P]=bH.GO(u[P],g);
return u}var X=u._class;if(X==null)return u;if(X=="MSJSONFileReference"){var w=u._ref;if(!1){}else if(g[w+".json"]!=null){var D=g[w+".json"],q=D.length;
for(var P=0;P<q;P++)if(D[P]==11||D[P]==3)D[P]=32;var C=k.KO(D,0,q);u=JSON.parse(C)}else if(g[w+".png"]!=null)return{key:w.split("/").pop(),bdata:g[w+".png"]};
else if(g[w+".jpg"]!=null)return{key:w.split("/").pop(),bdata:g[w+".jpg"]};else if(g[w+".pdf"]!=null)return{key:w.split("/").pop(),bdata:g[w+".pdf"]};
else if(g[w]!=null)return{key:w.split("/").pop(),bdata:g[w]};else{console.log(u,g);return}}else if(X=="MSAttributedString"){var C=atob(u.archivedAttributedString._archive),a=C.length-1,x=new Uint8Array(a);
for(var P=0;P<a;P++)x[P]=C.charCodeAt(P);u.archivedAttributedString=bH.ji(x)}for(var H in u)u[H]=bH.GO(u[H],g);
return u};bH.kS=function(u,g,K,X){if(u instanceof Uint8Array)return null;if(X.indexOf(u)!=-1)return null;
X.push(u);if(u==g)return K;for(var w in u){K.push(w);var D=bH.kS(u[w],g,K,X);if(D){console.log(u,D);
throw"e"}K.pop()}};bH.ji=function(u){var g=a1.parse(u,0),K=g.$objects,X=new Uint8Array(K.length),w=bH.ls(K,X,g.$top.root);
for(var P=0;P<K.length;P++)if(X[P]==0&&P!=0){console.log(P,K[P]);bH.kS(w,P,[],[])}for(var P=0;P<K.length;
P++){var D=K[P];if(D._class&&(D._class=="bitmap"||D._class=="fill"&&D.fillType==4&&(D.image||D.imageSHA))){var q=D.image,C=D.imageSHA,a=null,x=null;
if(q=="$null")q=null;if(C=="$null")C=null;if(q&&q.data){x=q.sha1["NS.bytes"];x=btoa(k.u6(x,0,x.length));
a=q.data instanceof Uint8Array?q.data:q.data["NS.bytes"]}else if(q==null&&C==null){var H=eH.IB("PNG").si([[f.L(4).buffer]],1,1);
a=new Uint8Array(H)}else{var $=(w.assets?w.assets.imageCollection:w.images).images;if(C)x=C instanceof Uint8Array?C:C["NS.bytes"];
else x=q.sha1["NS.bytes"];x=btoa(k.u6(x,0,x.length));var a=$[x].data;if(a["NS.bytes"])a=a["NS.bytes"]}a=new Uint8Array(a.buffer.slice(a.byteOffset,a.byteOffset+a.length));
delete D.imageSHA;D.image={key:x,bdata:a}}}return w};bH.adQ=function(u){return u.slice(0,11)=="MSImmutable"?"MS"+u.slice(11):u};
bH.ls=function(u,g,K){var X=u[K];if(g[K]==1){return X}g[K]=1;if(typeof X=="string")return X;if(typeof X=="number")return X;
if(typeof X=="boolean")return X;if(X instanceof Array)return X;if(X instanceof Uint8Array){return X}if(u[X.$class]==null){if(X.$class==null&&X["NS.data"]!=null)return X;
console.log(K,X);throw"e"}var w=u[X.$class],D=bH.adQ(w.$classname);g[X.$class]=1;X.$class=D;if(bH.x_[D]){delete X.$class;
X._class=bH.x_[D]}var q=bH.ls;if(D=="NSMutableArray"||D=="NSArray"){var C=[];if(X["NS.objects"]!=null)for(var P=0;
P<X["NS.objects"].length;P++)C.push(q(u,g,X["NS.objects"][P]));else for(var P=0;X["NS.object."+P]!=null;
P++)C.push(q(u,g,X["NS.object."+P]));u[K]=C;return C}if(D=="NSDictionary"||D=="NSMutableDictionary"){var a={$class:D};
if(X["NS.keys"]!=null)for(var P=0;P<X["NS.keys"].length;P++){var x=q(u,g,X["NS.keys"][P]);if(x instanceof Uint8Array)x=btoa(bH.r0.u6(x,0,x.length));
else if(typeof x!="string"&&typeof x!="number")x=btoa(bH.r0.u6(x["NS.bytes"],0,x["NS.bytes"].length));
a[x]=q(u,g,X["NS.objects"][P])}else for(var P=0;X["NS.key."+P]!=null;P++){var x=q(u,g,X["NS.key."+P]);
if(x instanceof Uint8Array)x=btoa(bH.r0.u6(x,0,x.length));else if(typeof x!="string"&&typeof x!="number")x=btoa(bH.r0.u6(x["NS.bytes"],0,x["NS.bytes"].length));
a[x]=q(u,g,X["NS.object."+P])}for(var H in X)delete X[H];for(var H in a)X[H]=a[H];return X}if(D=="NSURL")return{$class:D,base:q(u,g,X["NS.base"]),relative:q(u,g,X["NS.relative"])};
if(bH.atN.indexOf(D)!=-1){u[K]=q(u,g,X.array_do);return u[K]}if(X.do_objectID!=null)X.do_objectID=q(u,g,X.do_objectID);
if(bH.a72.indexOf(D)!=-1)return X;var $=bH.axm[D];if($==null){console.log(u,X);throw"unknown class "+D}for(var P=0;
P<$.length;P++)if(X[$[P]]!=null)X[$[P]]=q(u,g,X[$[P]]);if(D=="MSTextLayer"){var r=X,c,U,O,A;if(r.attributedString)c=r.attributedString.archivedAttributedString;
else c=r.storage;A=c.NSString;if(typeof A!="string")A=k.KO(A["NS.bytes"],0,A["NS.bytes"].length);if(c.NSAttributeInfo)U=c.NSAttributeInfo["NS.bytes"];
else{var m=A.length,i=[];while(m>0){var e=Math.min(100,m);i.push(e,0);m-=e}U=new Uint8Array(i)}O=c.NSAttributes instanceof Array?c.NSAttributes:[c.NSAttributes];
var S={$class:"NSAttributedString",NSString:A,NSAttributes:O};r.attributedString={_class:"MSAttributedString",archivedAttributedString:S};
S.NSAttributeInfo={$class:"NSMutableData","NS.data":U};delete r.storage}return X};bH.r0={Z_:function(u,g){return u[g+1]<<8|u[g]},r:function(u,g){return u[g+3]<<24|u[g+2]<<16|u[g+1]<<8|u[g]},u6:function(u,g,K){var X="";
for(var P=0;P<K;P++)X+=String.fromCharCode(u[g+P]);return X}};bH.x_={MSPage:"page",MSArtboardGroup:"artboard",MSShapeGroup:"shapeGroup",MSLayerGroup:"group",MSBitmapLayer:"bitmap",MSTextLayer:"text",MSSliceLayer:"slice",MSSymbolMaster:"symbolMaster",MSSymbolInstance:"symbolInstance",MSStyleFill:"fill",MSShapePathLayer:"shapePath",MSRectangleShape:"rectangle",MSOvalShape:"oval",MSTriangleShape:"triangle"};
bH.atN=["MSArray","MSFillStyleCollection","MSBorderStyleCollection","MSShadowStyleCollection","MSInnerShadowStyleCollection"];
bH.a72="MSArchivedColor MSLayoutGrid MSSimpleGrid MSColor MSRect MSStyleColorControls MSGraphicsContextSettings NSMutableString NSMutableData NSDecimalNumberPlaceholder MSStyleReflection".split(" ");
bH.axm={MSAssetCollection:["gradients","colors","imageCollection","images"],MSImageCollection:["images"],MSSharedStyleContainer:["objects"],MSSharedTextStyleContainer:["objects"],MSSharedLayerStyleContainer:["objects"],MSSharedLayerTextStyleContainer:["objects"],MSSharedLayerContainer:["objects"],MSSymbolContainer:["objects"],MSGradient:["stops","from","to","points"],MSGradientStop:["color"],MSStyleFill:["color","gradient","contextSettings","image","imageSHA"],MSExportFormat:["fileFormat","name"],MSExportOptions:["exportFormats","includedLayerIds","sizes"],MSRulerData:["guides"],MSStyle:"textStyle fills contextSettings sharedObjectID borders blur shadows innerShadows borderOptions colorControls reflection".split(" "),MSSharedStyle:["name","value"],MSSymbol:["name","value"],MSAttributedString:["archivedAttributedString"],MSSharedLayerStyle:["name","value","instances"],MSSharedLayer:["name","value","instances"],MSDocumentData:"assets layerStyles pages layerTextStyles layerSymbols images userInfo".split(" "),MSShapePathLayer:"exportOptions frame name userInfo path originalObjectID".split(" "),MSOvalShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSRectangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSPolygonShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSTriangleShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSStarShape:"exportOptions frame name userInfo path originalObjectID".split(" "),MSBitmapLayer:"exportOptions frame name userInfo style imageSHA nineSliceCenterRect nineSliceScale image clippingMask originalObjectID".split(" "),MSTextLayer:"exportOptions frame name userInfo style originalObjectID attributedString glyphBounds storage".split(" "),MSShapeGroup:"exportOptions frame name userInfo style originalObjectID layers".split(" "),MSLayerGroup:"exportOptions frame name userInfo style originalObjectID layers sharedObjectID".split(" "),MSArtboardGroup:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid backgroundColor".split(" "),MSPage:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid scrollOrigin".split(" "),MSSymbolMaster:"exportOptions frame name userInfo style layers horizontalRulerData verticalRulerData layout grid originalObjectID symbolID backgroundColor".split(" "),MSSymbolInstance:"exportOptions frame name userInfo style symbolID overrides masterInfluenceBounds originalObjectID".split(" "),MSSliceLayer:["exportOptions","frame","name","userInfo","backgroundColor"],MSTextStyle:["attributes","encodedAttributes"],MSShapePath:["points"],MSPointArray:["points"],MSImageData:["data","sha1","name"],MSCurvePoint:["curveFrom","curveTo","point"],MSImageProxy:["sha1"],MSStyleBorder:["color","gradient","contextSettings"],MSStyleBlur:["center"],MSStyleShadow:["color","contextSettings"],MSStyleInnerShadow:["color","contextSettings"],MSExportSize:["format","name"],MSStyleBorderOptions:["dashPattern"],NSFont:["NSName","NSDescriptor"],NSColor:["NSCustomColorSpace"],NSFontDescriptor:["NSFontDescriptorAttributes"],NSMutableParagraphStyle:["NSTextBlocks","NSTabStops","NSTextLists"],NSAttributedString:["NSAttributes","NSString","NSAttributeInfo"],NSTextStorage:["NSAttributeInfo","NSAttributes","NSString"],NSColorSpace:["NSICC"],NSParagraphStyle:["NSTabStops","NSTextBlocks","NSTextLists"],NSTextList:["NSMarkerFormat"],NSTextTab:["NSTabOptions"],UIFontDescriptor:["UIFontDescriptorAttributes"]};
var a1={};a1.parse=function(u,g){var K=k.u6(u,g,8);g+=8;var X=a1.parse.aqy(u,u.length-31),w=[];if(X.QR==1){var g=u.length-31-X.QR*X.HG;
for(var P=0;P<X.HG;P++)w.push(u[g+P])}else if(X.QR==2){var g=u.length-31-X.QR*X.HG;for(var P=0;P<X.HG;
P++)w.push(k.Z_(u,g+P*2))}else if(X.QR==4){var g=u.length-31-X.QR*X.HG;for(var P=0;P<X.HG;P++)w.push(k.r(u,g+P*4))}else{throw"e"}var D=a1.parse.ls(u,w,X.root,X);
return D};a1.parse.ls=function(u,g,K,X){var w=a1.r0,D=X.avJ,q=D==4?w.r:D==2?w.Z_:w.amJ,C=a1.parse,a=g[K],x=u[a],H=x>>4,$=x&15,c=null;
a+=1;if([4,5,6,10,12,13].indexOf(H)!=-1&&$==15){var r=C.vr(u,a);a+=r.he;$=r.h}if(!1){}else if(H==0)c=$==8?!1:$==9?!0:null;
else if(H==1)c=C.vr(u,a-1).h;else if(H==2)c=1<<$==4?k.$t(u,a):k.Qa(u,a);else if(H==3)c=k.Qa(u,a);else if(H==4)c=new Uint8Array(u.buffer,a,$);
else if(H==5)c=k.u6(u,a,$);else if(H==6)c=k.Fh(u,a,$);else if(H==8){c=0;for(var P=0;P<$+1;P++)c=c<<8|u[a+P]}else if(H==10){c=[];
for(var P=0;P<$;P++)c.push(C.ls(u,g,q(u,a+D*P),X))}else if(H==12){c=[];for(var P=0;P<$;P++)c.push(C.ls(u,g,q(u,a+D*P),X))}else if(H==13){c={};
for(var P=0;P<$;P++){var U=C.ls(u,g,q(u,a+D*P),X),O=C.ls(u,g,q(u,a+D*($+P)),X);c[U]=O}}else throw"unknown mask "+H;
return c};a1.parse.vr=function(u,g){var K=1<<(u[g]&15),X=0;for(var P=0;P<K;P++)X=X<<8|u[g+1+P];return{h:X,he:K+1}};
a1.parse.aqy=function(u,g){var K={};g+=6;K.QR=u[g];g++;K.avJ=u[g];g++;g+=4;K.HG=k.r(u,g);g+=4;g+=4;K.root=k.r(u,g);
g+=4;g+=4;K.arF=k.r(u,g);g+=4;return K};a1.r0={amJ:function(u,g){return u[g]},Z_:function(u,g){return u[g]<<8|u[g+1]},r:function(u,g){return u[g]<<24|u[g+1]<<16|u[g+2]<<8|u[g+3]},u6:function(u,g,K){var X="";
for(var P=0;P<K;P++)X+=String.fromCharCode(u[g+P]);return X}};var jg={parse:function(u){var g=new Uint8Array(u),K=jg.n3(g),X=[],w=new Uint8Array(g.length),D=[];
X.push(D);jg.wA(g,K,1,w,D);for(var P=0;P<D.length;P++){var q=[];X.push(q);jg.wA(g,K,D[P][3],w,q);D[P][3]=P+1}return X},wA:function(u,g,K,X,w){K--;
var D=K*g.zM+(K==0?100:0),q=u[D],C=jg.Z_(u,D+1);if(C!=0)throw"free block in a page";var a=jg.Z_(u,D+3),x=jg.Z_(u,D+5);
if(x==0)x=65536;var H=u[D+7],$=jg.Z_(u,D+8);if(q==2||q==5)D+=4;else $=0;for(var r=0;r<a;r++){var c=K*g.zM+jg.Z_(u,D+8+2*r),U=-1,O=0,A=0,m=0;
if(q==2||q==5){U=jg.r(u,c);c+=4}if(q==2||q==10||q==13){O=jg.ZB(u,c);c+=O.he}if(q==5||q==13){A=jg.ZB(u,c);
c+=A.he}if(q==5){jg.wA(u,g,U,X,w);continue}var i=g.zM-(K==0?100:0),e=O.jp,S=q==13?i-35:Math.floor((i-12)*64/255)-23,E=Math.floor((i-12)*32/255)-23,Z=E+(e-E)%(i-4);
if(e<=S){jg.me(u,c,X,0,e)}else{var N=Z<=S?Z:E,J=0;jg.me(u,c,X,0,N);J+=N;m=jg.r(u,c+N);while(m!=0){var y=(m-1)*g.zM;
m=jg.r(u,y);var o=Math.min(g.zM-4,e-J);jg.me(u,y+4,X,J,o);J+=o}}w.push(jg.a9T(X,e))}},a9T:function(u,g){var K=0,X=jg.ZB(u,K);
K+=X.he;var w=[],D=[];while(K<X.jp){var q=jg.ZB(u,K);K+=q.he;w.push(q.jp)}if(K!=X.jp)throw"e";for(var P=0;
P<w.length;P++){var q=w[P];if(!1){}else if(q==0)D.push(null);else if(q==1){D.push(jg.aq1(u,K));K+=1}else if(q==2){D.push(jg.ST(u,K));
K+=2}else if(q==3){D.push(jg.aoJ(u,K));K+=3}else if(q==4){D.push(jg.vr(u,K));K+=4}else if(q==7){D.push(jg.avL(u,K));
K+=16}else if(q==8)D.push(0);else if(q==9)D.push(1);else if(q>=12&&(q&1)==0){var C=q-13>>1,a=new Uint8Array(C);
jg.me(u,K,a,0,C);D.push(a);K+=C}else if(q>=13&&(q&1)==1){var C=q-12>>1;D.push(jg.KO(u,K,C));K+=C}else throw"unknonw type "+q}return D},n3:function(u){if(!(u[18]==1&&u[19]==1&&u[20]==0&&u[21]==64&&u[22]==32&&u[23]==32))throw"unexpected SQL3 header";
var g={f0:jg.u6(u,0,15),zM:jg.Z_(u,16),akR:jg.r(u,24),size:jg.r(u,28),a8C:jg.r(u,32),awU:jg.r(u,36),asT:jg.r(u,40),a7y:jg.r(u,44),ald:jg.r(u,48),ajr:jg.r(u,52),ar0:jg.r(u,56),asl:jg.r(u,60),avm:jg.r(u,64)!=0,aat:jg.r(u,68),aqz:jg.r(u,92),a2r:jg.r(u,96)};
if(g.zM==1)g.zM=65536;if(g.ar0!=1)throw"unsupported text encoding "+g.ar0;return g},a11:function(u,g){return u[g]<<16|u[g+1]<<8|u[g+2]},aoJ:function(u,g){var K=jg.a11(u,g),X=K&8388608;
return X?-(16777215-K+1):K},aq1:function(u,g){jg.H2[0]=u[g];return jg.a83[0]},vr:function(u,g){var K=jg.H2;
for(var P=0;P<4;P++)K[P]=u[g+3-P];return jg.a4q[0]},ST:function(u,g){var K=jg.H2;K[0]=u[g+1];K[1]=u[g];
return jg.a9w[0]},Z_:function(u,g){return u[g]<<8|u[g+1]},r:function(u,g){return u[g]<<24|u[g+1]<<16|u[g+2]<<8|u[g+3]},avL:function(u,g){var K=jg.H2;
for(var P=0;P<8;P++)K[P]=u[g+7-P];return jg.afv[0]},ZB:function(u,g){var K=g,eJ=0;while(!0){var X=u[g];
g++;eJ=eJ*128+(X&127);if(X<128)break}return{jp:eJ,he:g-K}},u6:function(u,g,K){var X="";for(var P=0;P<K;
P++)X+=String.fromCharCode(u[g+P]);return X},KO:function(u,g,K){var X="";for(var P=0;P<K;P++)X+="%"+jg.au6(u[g+P].toString(16));
return decodeURIComponent(X)},me:function(u,g,K,X,w){if(u[g+w-1]==null||K[X+w-1]==null){console.log(g,X,w);
throw"e"}for(var P=0;P<w;P++)K[X+P]=u[g+P]},au6:function(eJ){return eJ.length<2?"0"+eJ:eJ}};jg.H2=new Uint8Array(8);
jg.a83=new Int8Array(jg.H2.buffer);jg.a9w=new Int16Array(jg.H2.buffer);jg.a4q=new Int32Array(jg.H2.buffer);
jg.afv=new Float64Array(jg.H2.buffer);function dq(u,g,K){this.VF=u;this.sj=g;this.ap4=K;this.Tv=new j4(0,0);
this.hs=-1;this.az=0;this.WF=0;this.C$=new dS;this.FC=[];this.zh=null;this.awr=null;this.hO=null;this.xO=null;
this.hj=null;this.asj=null}dq.prototype.StartPage=function(u,g,K,X,w){var D=this.sj,q=D.CJ(),C=1,a=(K-u)*(X-g);
if(w!=null)a=w;while(a*q*q/(C*C)>2*8192*8192)C++;D.scale(1/C,1/C);this.awr=[u,g,K,X];var C=D.CJ();u=Math.round(u*C);
g=Math.round(g*C);K=Math.round(K*C);X=Math.round(X*C);var x=this.VF,H=this.hO;if(H==null){D.OR=-u}else{var $=H[2]-H[0]+30,r=Math.round(K-u)+30;
if(this.Tv.x+$+r>8192){D.OR=-u;this.Tv.x=0;this.Tv.y+=this.WF+120;this.WF=0}else{D.OR+=$;this.Tv.x+=$}}D.ic=this.Tv.y+(this.ap4?X:-g);
this.WF=Math.max(this.WF,Math.round(X-g));this.hO=[u,g,K,X];x.g.push(x.z1())};dq.prototype.ak=function(){var u=this.VF,g=u.g[u.g.length-1];
return g};dq.prototype.SY=function(){var u=JSON.parse(JSON.stringify(k8.Sq.default));u.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";
u.strokeEnabled.v=!1;u.fillEnabled.v=!1;return u};dq.prototype.D0=function(){var u=this.VF,g=u.Wk();
g.Q9("Path "+u.g.length);this.VF.g.push(g);g.R3|=16;g.add.SoCo={classID:"null",Clr:{t:"Objc",v:f.X.Gp({w:0,A:0,U:0})}};
g.add.vmsk=new l.tU;g.add.vstk=this.SY();return g};dq.prototype.dM=function(u){var g={v:u.crds,F:u.cmds},K=f.p.Ic(g,!1);
f.J.Cg(K,this.sj);return K};dq.auu=function(u,g){for(var P=0;P<u.length;P++)if(u[P].yk!=null)u[P].yk=g};
dq.ab$=function(u){return Math.sqrt(Math.abs(u[0]*u[3]-u[1]*u[2]))};dq.Cr=function(u){return f.X.Gp({w:u[0]*255,A:u[1]*255,U:u[2]*255})};
dq.zI=function(u){return new eV(u[0],u[1],u[2],u[3],u[4],u[5])};dq.prototype.Stroke=function(u){if(this.hs!=-1&&this.hs!=this.az)return;
if(u.pth.cmds.length<=1)return;var g=this.dM(u.pth);if(g.length<=2)return;this.GS(u);dq.auu(g,-1);g[2].yk=1;
var K=dq.Cr(u.COLR),X=this.ak(),w=this.SY();dq.lR(w,u,this.sj.CJ(),K);var D=X!=null&&X.add.vmsk!=null&&!X.xp(),q=D&&!X.add.vstk.strokeEnabled.v&&l.tU.a6Y(X.add.vmsk._,g,!0),C=D&&!X.add.vstk.fillEnabled.v&&JSON.stringify(w)==JSON.stringify(X.add.vstk);
if(C){X.add.vmsk._=X.add.vmsk._.concat(g.slice(2))}else if(q){X.add.vstk=w;w.fillEnabled.v=!0}else{X=this.D0();
X.add.vmsk._=g;X.add.vstk=w}};dq.lR=function(u,g,K,X){u.strokeEnabled.v=!0;u.strokeStyleMiterLimit.v=g.mlimit;
u.strokeStyleLineDashSet.v=bW.jZ(g.dash,1/g.lwidth);u.strokeStyleLineDashOffset.v.val=g.doff;u.strokeStyleLineJoinType.v.strokeStyleLineJoinType=k8.Sq.join[g.ljoin];
u.strokeStyleLineCapType.v.strokeStyleLineCapType=k8.Sq.gg[g.lcap];u.strokeStyleLineWidth.v.val=Math.max(.4,g.lwidth*dq.ab$(g.ctm)*K);
u.strokeStyleContent.v.Clr.v=X};dq.prototype.Fill=function(u,g){if(this.hs!=-1&&this.hs!=this.az)return;
if(u.ca==0)return;var K=u.pth.cmds;if(K.length==0)return;if(K.length==2&&JSON.stringify(K)=="[\"M\",\"L\"]")return;
var X=f.p.pj(u.pth.crds),w=f.p.pj(u.cpth.crds);if(X.I3(w).fg())return;var D=u.pth,q=UDOC.G.isBox(D,[X.x,X.y,X.x+X.m,X.y+X.n]),C=u.cpth,a=UDOC.G.isBox(C,[w.x,w.y,w.x+w.m,w.y+w.n]);
if(q&&a&&X.$()>w.$()*2){var x=X.I3(w),H=x.x,$=x.y,r=H+x.m,c=$+x.n;D={cmds:["M","L","L","L","Z"],crds:[H,$,r,$,r,c,H,c]};
X=x}else if(this.xO==null&&UDOC.G.isBox(D,[X.x,X.y,X.x+X.m,X.y+X.n])&&X.kB(w)){D=C;X=w}else this.GS(u);
var U=this.dM(D),O=f.p.JS(X);f.p.D(O.v,this.sj,O.v);X=f.p.pj(O.v);var A=dq.Ms(u.colr,this.sj,X),m=this.ak(),i=m!=null&&m.opacity==Math.round(255*u.ca)&&m.add.vstk!=null&&!m.add.vstk.strokeEnabled.v&&m.add.SoCo&&A.type=="SoFi"&&JSON.stringify(m.add.SoCo.Clr.v)==JSON.stringify(A.h.v.Clr.v);
if(i){var e=!1;for(var P=0;P<U.length;P++){if(U[P].yk==0||U[P].yk==2)e=!0}if(e){var S=f.p.pj(f.J.oP(m.add.vmsk._)),E=f.p.pj(f.J.oP(U));
i=S.I3(E).fg()}}if(i){var Z=m.add.vmsk._;for(var P=2;P<U.length;P++)Z.push(U[P])}else{m=this.D0();delete m.add.SoCo;
m.add.vmsk._=l.tU.SL(U);dq.GI(u.colr,m,this.sj,X);dq.hD(u,m)}};dq.GI=function(u,g,K,X){var w=dq.Ms(u,K,X),D=null,q=null;
g.add.vstk.fillEnabled.v=!0;if(w.type=="SoFi"){D="SoCo";q=k8.rS}if(w.type=="GrFl"){D="GdFl";q=k8.DK}if(w.type=="patternFill"){D="PtFl";
q=k8.lf}if(D!=null){g.add[D]={classID:"null"};for(var P=0;P<q.length;P++){var C=q[P];g.add[D][C]=w.h.v[C]}}};
dq.prototype.GS=function(u){var g=this.VF,K=u.cpth,X=K.cmds.join(""),w=K.crds,D=X+" "+w.join(","),q=UDOC.G.isBox(K,this.awr);
if(q&&this.xO==null)return;if(D==this.xO)return;this.gn();if(!q){this.xO=D;g.g.push(g.z1());var C=g.Wk();
C.Q9("Mask");C.add.lsct=g4.Ab;C.wS="pass";C.R3=24;var a=C.add.vmsk=new l.tU;a._=this.dM(u.cpth);if(UDOC.G.isBox(K)){this.hj=f.J.Xh(a._);
this.hj.wu(3,3)}else this.hj=null;this.asj=C}};dq.prototype.gn=function(){var u=this.VF;if(this.xO!=null){var g=u.g.length-1,P=g,K=!1;
while(P>=0&&u.g[P].add.lsct!=g4.wR)P--;var X=this.hj;if(X){var w=new dS,D=g;while(D>P){w=u.g[D].FE(this.VF,!1,!0);
D--}K=X.kB(w)}if(K){this.FC.splice(P,1);u.g.splice(P,1)}else{u.g.push(this.asj)}this.xO=null}};dq.Ms=function(u,g,K){var X,w;
if(u.length!=null){X="SoFi";var D=JSON.parse(k8.QO[k8.order.indexOf("SoFi")]);w={t:"Objc",v:D};w.v.Clr.v=dq.Cr(u)}else{var q=dq.atR(u,g,K);
X="GrFl";w={t:"Objc",v:q}}return{type:X,h:w}};dq.atR=function(u,g,K){var X=JSON.parse(k8.QO[k8.order.indexOf("GrFl")]),w=X.Grad.v;
w.Intr.v=0;var D=dq.zI(u.mat);D.concat(g);var q=new j4(0,0),C=new j4(K.m,0),a=u.crds;if(u.typ=="rad"){X.Type.v.GrdT="Rdl";
var x=.7;q.x=(1-x)*a[0]+x*a[3];q.y=(1-x)*a[1]+x*a[4];C.x=q.x;C.y=q.y;C.x+=Math.max(a[2],a[5])}else{X.Type.v.GrdT="Lnr";
q.x=a[0];q.y=a[1];C.x=a[2];C.y=a[3];q.x=C.x+.5*(q.x-C.x);q.y=C.y+.5*(q.y-C.y)}q=D.HB(q);C=D.HB(C);f.X.N5(q,C,K,X);
var H=u.grad;f.X.Ah(H,w);return X};dq.prototype.PutText=function(u,g,K,X){var w=g.charCodeAt(0),r=null;
if(this.hs!=-1&&this.hs!=this.az)return;if(g.length==0||g.length==1&&(w==0||w==8203))return;this.GS(u);
var D=this.VF,q=u.font,C=dq.zI(u.ctm);C.concat(this.sj);var a=dq.zI(q.Tm);a.concat(C);var x=R.S.CJ(a),H=new eV(1/x,0,0,-1/x,0,0);
H.concat(a);var $=q.Tfs*x,c=D.g.length-1;while(c>=0&&D.g[c].add.TySh==null)c--;if(H.U*H.U+H.nA*H.nA<.001&&X==null&&c>=0&&D.g[c].add.TySh&&D.g[c].opacity==Math.round(255*u.ca)){var U=D.g[c],O=this.FC[c],A=U.add.TySh.D,m=(A.OR+O.WE-H.OR)/$,i=Math.abs(m),e=g.indexOf(" ")==-1,S=A._x==H._x&&A.U==H.U&&A.nA==H.nA&&A.kR==H.kR,E=S&&Math.abs(O.n9-H.ic)<1e-5&&i<.6,Z=H.ic-O.n9;
if(E){r=U;O.WE=H.OR-A.OR;if(m>.2&&e&&[".",",","?",":","!"].indexOf(g)==-1)g=" "+g}else if(S&&Math.abs(H.OR-A.OR)<1e-5&&0<Z&&Z<$*1.7&&O.a0N==$){r=U;
this.tL(O);O.n9=H.ic;g="\n"+g}}if(r==null){c=D.g.length;this.FC[c]={p7:[],WE:0,n9:H.ic,aE:"",a0N:$};
r=D.Wk();D.g.push(r);r.add.lnsr="rend";r.add.TySh=fS.t5(0,0);r.add.TySh.D=H}var O=this.FC[c];O.WE+=K*$;
O.aE+=g;var N=r.add.TySh.Fd,J=fS.PU(N);if(X){fS.YM(N,1);var y=[0,0,Math.ceil(X[0]*x),Math.ceil(X[1]*x)];
fS.N2(N,y)}var o=J.length-1,B=o+g.length;fS.G4(N,o,g);if(this.zh==null)this.zh=fS.pP(N,o,o);var t=this.zh;
t.QX.FontSize=Math.round($);t.QX.Tracking=Math.round(q.Tc*100);t.QX.Underline=q.Tun==1;t.QX.FillColor={Type:1,Values:[1,u.colr[0],u.colr[1],u.colr[2]]};
if(q.Tal!=null)t.Sh.Justification=q.Tal;if(O.p7.length!=0){t.QX.AutoLeading=!1;t.QX.Leading=O.n9-O.p7[O.p7.length-1].y}var W=q.Tf;
W=W.replace(/#2B/g,"+");W=W.replace(/#2C/g,"-");W=W.split("+").pop();var F={"NimbusRomNo9L-Medi":"NimbusRomNo9L-Med","NimbusRomNo9L-Regu":"NimbusRomNo9L-Reg","NimbusRomNo9L-MediItal":"NimbusRomNo9L-MedIta","NimbusRomNo9L-ReguItal":"NimbusRomNo9L-RegIta",CMTT9:"NimbusMono-Regular",Arial:"ArialMT","BebasNeue-Regular":"BebasNeueRegular"};
if(F[W])W=F[W];fS.rt(t,W);fS.xm(N,o,B-1,t);r.km();r.opacity=Math.round(255*u.ca)};dq.prototype.tL=function(u){u.p7.push({QM:u.WE,m7:u.aE.slice(u.p7.length==0?0:1)+"\n",y:u.n9,C9:u.a0N});
u.WE=0;u.aE=""};dq.prototype.BL=function(u,g,K){return new Uint8Array(eH.IB("PNG").si([[u.buffer,0]],g,K))};
dq.prototype.PutImage=function(u,g,K,X,w,D,q){if(this.hs!=-1&&this.hs!=this.az)return;var C=this.VF,a=u.font.Tmode;
if(a==7&&C.g[C.g.length-1].add.TySh){return}this.GS(u);var x=dq.zI(u.ctm);x.concat(this.sj);var H=new eV(1/K,0,0,-1/X,0,1);
H.concat(x);x=H;g=dq.GQ(g,K,X,D,!1);if(w)w=dq.GQ(w,K,X,q,!0);if(w==null){if(g.length==K*X*4)g=this.BL(g,K,X)}else{g=this.cs(g,K,X,D,!1);
w=this.cs(w,K,X,q,!0);var $=f.L(K*X);f.hk(w,$,0);f.K1($,g,3);g=this.BL(g,K,X)}var r=C.Sw(g,"Bitmap",0,0),c=r.rect.clone();
c.x=c.y=0;var U=f.p.JS(c).v;f.p.D(U,x,U);r.add.SoLd.Trnf=R.S.c2(U);r.add.SoLd.nonAffineTransform=R.S.c2(U);
r.Qu(C,!1);dq.hD(u,r);C.g.push(r)};dq.hD=function(u,g){g.opacity=Math.round(255*u.ca);var K=dq.za[u.bmode];
if(K==null)console.log("Unknown blend mode",K);else g.wS=K};dq.za={"/Normal":"norm","/Multiply":"mul ","/Screen":"scrn","/Overlay":"over","/Darken":"dark","/Lighten":"lite","/ColorDodge":"div ","/ColorBurn":"idiv","/HardLight":"hLit","/SoftLight":"sLit","/Difference":"diff","/Exclusion":"smud","/Hue":"hue ","/Saturation":"sat ","/Color":"colr","/Luminosity":"lum "};
dq.gt=function(u){for(var g in dq.za)if(dq.za[g]==u)return g};dq.GQ=function(u,g,K,X,w){var D=eH.jN(u.buffer);
if(D=="jpg"){try{u=new Uint8Array(eH.IB("JPG").a8$(u.buffer))}catch(fc){u=new Uint8Array(g*K*4)}}else if(D=="jb2"){u=new Uint8Array(eH.IB("JPG").Tu(u.buffer,X,w)[0].data)}else if(u.length!=g*K*4){var q=new Uint8Array(g*K*4),C=Math.ceil(g/8),a=new Uint8Array(K*C);
UTIF.decode._decodeG4(u,0,u.length,a,0,g,1);var x=a[0]==(w?255:0);for(var H=0;H<K;H++){var $=C*H;for(var r=0;
r<g;r++){var P=H*g+r,c=P*4,U=(a[$+(r>>3)]>>7-(r&7)&1)*255;if(x)U=255-U;q[c]=U;q[c+1]=U;q[c+2]=U;q[c+3]=255}}u=q}return u};
dq.prototype.cs=function(u,g,K,X,w){if(u.length!=g*K*4){var D=eH.jN(u.buffer);if(D=="jb2")throw"e";var q=eH.IB(D);
if(q==null||D=="tga")q=eH.IB("jpg");u=new Uint8Array(q.Tu(u,X,w)[0].data)}return u};dq.prototype.ShowPage=function(){var u=this.VF;
this.az++;var g=this.hO;this.gn();var K=u.Wk();u.g.push(K);var X=new dS(Math.round(this.Tv.x),Math.round(this.Tv.y),Math.round(g[2]-g[0]),Math.round(g[3]-g[1]));
if(X.fg())X.m=X.n=2e3;this.C$=this.C$.RN(X);K.ab(X);K.add.artb.artboardBackgroundType.v=1;K.Q9("Page "+this.az);
K.add.lsct=g4.Ab;K.wS="pass";K.R3=24};dq.prototype.Print=function(u){console.log("Print:",u)};dq.prototype.Done=function(){var u=this.VF;
if(this.az==1)u.g[u.g.length-1].add.lsct=g4.DM;u.DX(this.az);for(var P=0;P<u.g.length;P++){var g=u.g[P],K=g.add.vmsk,X=g.add.TySh,w=this.FC[P];
g.LP();if(K){var D=!1;for(var q=0;q<K._.length;q++){var C=K._[q];if((C.type==0||C.type==3)&&C.length>32767)D=!0}if(D){u.g.splice(P,1);
P--;continue}}g.th(u);if(X&&w.p7.length!=0){this.tL(w);var a=X.Fd,x=w.p7.length,H=w.p7[0],$=0,r=0;for(var q=0;
q<x;q++)$=Math.max($,w.p7[q].QM);fS.YM(a,1);X.D.ic-=H.C9*.7;fS.N2(a,[0,0,Math.ceil($*1.1),Math.ceil(w.p7[x-1].y-H.y+H.C9*2)])}if(X){var a=X.Fd;
fS.aa8(a);var c=fS.PU(a).split("\n");for(var q=0;q<c.length-1;q++){var U=c[q],O=0;for(var A=0;A<U.length;
A++){var m=U.charCodeAt(A);if(1473<=m&&m<=1524)O++}if(O>U.length/2){c[q]=U.split("").reverse().join("");
var i=a.EngineDict.ParagraphRun.RunArray[q].ParagraphSheet.Properties;i._Direction=1;i.Justification=fS.zB(i)}}fS.T5(a,c.join("\n"))}}u.Ey=!0;
u.m=this.C$.m;u.n=this.C$.n;u.buffer=f.L(this.C$.$()*4)};var ik={};ik.P8=function(u,g,K,X,w,D){if(w==null)w=u.m;
if(D==null)D=u.n;var q=!1,C=[u.root],a=u.root.children;if(u.add.artd){q=!0;for(var P=0;P<a.length;P++)if(a[P].j.add.artb==null)q=!1;
if(q)C=a}var x=new dS(0,0,u.m,u.n),H=g[0];H=H.replace(/,/g," ").replace(/\-/g," - ").replace(/  +/g," ").trim();
H=H.split(" ");var $=[];for(var P=0;P<H.length;P++){var r=H[P];if(r=="-"){var c=$.pop(),U=parseInt(H[P+1]);
while(c<U){$.push(c);c++}}else $.push(parseInt(r))}H=$;for(var P=0;P<H.length;P++)if(isNaN(H[P])||H[P]<1||H[P]>C.length){H.splice(P,1);
P--}var O=w/u.m,A=D/u.n,m=O*72/u.wY,i=A*72/u.wY,e=g[5];if(e==null)e=0;var S=72*e,E=72*e;for(var Z=0;
Z<C.length;Z++){var P=Z;if(g[2])P=C.length-1-Z;if(H.length!=0&&H.indexOf(P+1)==-1)continue;var N=C[P],J=q?N.j.T0():x;
if(!N.j.AG())continue;var y=Math.round(J.m*m+2*S),o=Math.round(J.n*i+2*E);K.StartPage(0,0,y,o);var B=UDOC.getState([[0,0,y,o]]),t=new eV;
t.translate(-J.x,-J.y-J.n);t.scale(m,-i);t.translate(S,E);if(q){var W=N.j.add.artb,F=W.artboardBackgroundType.v;
if(F!=1&&F!=3){var G=N.j.o6(),L=S,Q=E,T=L+J.m,j=Q+J.n;B.colr=[(G>>>0&255)/255,(G>>>8&255)/255,(G>>>16&255)/255];
B.pth={cmds:["M","L","L","L","Z"],crds:[L,Q,T,Q,T,j,L,j]};K.Fill(B)}}if(g[3]){var p=u.KS();if(!x.$z(J)){p=f.L(J.$()*4);
f.bV(u.KS(),x,p,J)}if(g[1]!=100){var M=eH.IB("JPG").si([[p.buffer]],J.m,J.n,[g[1]]);p=new Uint8Array(M)}var n=new eV;
n.translate(J.x,J.y);ik.I9(B,K,p,J,n,t)}else{ik.xW(u,N,B,K,t,g,X);if(S!=0){var L=S,Q=E,T=L+J.m,j=Q+J.n,d=T+S,V=j+S;
B.ca=1;B.colr=[1,1,1];B.pth={cmds:"M L L L Z M L L L Z".split(" "),crds:[0,0,0,V,d,V,d,0,L,Q,T,Q,T,j,L,j]};
K.Fill(B)}}K.ShowPage()}K.Done()};ik.Uu=function(u){u=f.X.Ld(u);return[u.w/255,u.A/255,u.U/255]};ik.xW=function(u,g,K,X,w,D,q){var C=g.j,a=C.add.lsct,x=C.add.lmfx,H=C.add.vmsk,$=C.add.vstk,r=C.add.TySh,A,m;
if(!C.AG())return;var c=C.opacity/255,U=C.add.iOpa!=null?C.add.iOpa/255:1;K.bmode=dq.gt(C.wS);K.ca=K.CA=c*U;
var O=x;if(O)O=O.solidFillMulti.v[0];if(O)O=O.v;if(O&&!O.enab.v)O=null;var i=C.rect;if(C.y8()&&(!C.xp()||C.gJ&&C.gJ.Pi)){if(C.xp){A=C.gJ.Pi;
i=C.gJ.ahO}else{A=f.L(C.rect.$());f.hk(C.buffer,A,3)}m=bW.b0(x,C.add.fxrp,A,i,u,i).type;var e=["DrSh","OrGl"];
if(U!=1||$&&!$.fillEnabled.v){var S=A.slice(0);f.CD(S);for(var P=0;P<e.length;P++){var E=m[e[P]];for(var Z=0;
Z<E.length;Z++){var N=E[Z],J=N._a.clone();J.x+=i.x;J.y+=i.y;f.ea(S,i,N.Fg,J)}}}}if(m)ik.Te(C,A,i,m,K,X,w,D,!0);
if(C.xp()){for(var P=0;P<g.children.length;P++)ik.xW(u,g.children[P],K,X,w,D,q)}else if(H&&C.HS()&&C.add.PtFl==null){var y=H._,o=f.J.Xh(y),B=!1;
if($.fillEnabled.v){var t=bW.o9(x,C.add),W=t[0],F=t[1];K.colr=ik.KE(W?W:F,w,o);B=!0}var G=bW.fq(x);if(!$.strokeEnabled.v&&G)$=G;
var L=f.p.ii(y,$.strokeEnabled.v),Q=L.Zc;f.p.D(Q.v,w,Q.v);K.pth={cmds:Q.F,crds:Q.v};ik.Ty(X,K,B,$,w,o,L.ij!=0)}else if(r&&D[4]){var T=r.Fd,j=new ec(T,q),Q=dR.sg(j,r),p=f.p.Bz(Q),M=bW.fq(x);
for(var n in p){var d=parseInt(n.slice(1,7),16),V=0;K.colr=O?ik.Uu(O.Clr.v):ik.N7(d);var z=p[n];f.p.D(z.v,w,z.v);
z=f.p.a7B(z);K.pth={cmds:z.F,crds:z.v};var $=M;if(n.length>7){$=JSON.parse(JSON.stringify(k8.Sq.default));
var I=n.slice(7).split("-"),d=parseInt(I[1].slice(1),16),v=ik.N7(d);$.strokeEnabled.v=!0;$.strokeStyleLineWidth.v.val=parseFloat(I[2]);
$.strokeStyleContent.v.Clr.v=O?O.Clr.v:f.X.Gp({w:v[0]*255,A:v[1]*255,U:v[2]*255});$.strokeStyleMiterLimit.v=parseFloat(I[2])}ik.Ty(X,K,!0,$,w,null,!1)}}else if(r){var T=JSON.parse(JSON.stringify(r.Fd));
fS.aa8(T);var gj=r.D.clone(),jA=new eV(1,0,0,-1,0,0);jA.concat(gj);jA.concat(w);var Y=fS.PU(T),j=new ec(T,q);
for(var P=0;P<j.Sh.length;P++){var jv=j.Sh[P];if(jv.gE.length==1&&jv.gE[0].Pa)continue;for(var Z=0;Z<jv.Ik.length;
Z++){var iR=jv.Ik[Z],cj=jv.ew.y+iR.ew.y,j8=jv.gE[iR.start].start,as=jv.gE[iR.end-1].end,gW=fS.aec(T,j8,as);
for(var af=0;af<gW.length;af++){var at=j.tJ(j8),jd=gW[af],fM=fS.pP(T,j8,j8),hS=fM._L[fM.QX.Font].Name;
K.font.Tf=hS;var n=fS.Ld(fM.QX.FillColor);K.colr=O?ik.Uu(O.Clr.v):[n.w/255,n.A/255,n.U/255];var dr=K.font.Tfs=Math.round(fM.QX.FontSize),cB=Y.slice(j8,j8+jd);
if(fM.QX.FontCaps==2)cB=cB.toUpperCase();var b1=new eV;b1.translate(at.mf.x,-cj);b1.concat(jA);K.ctm=[b1._x,b1.U,b1.nA,b1.kR,b1.OR,b1.ic];
X.PutText(K,cB,0);for(var ic=0;ic<2;ic++){var dV=fM.QX[ic==0?"Strikethrough":"Underline"];if(!dV)continue;
var eS=j.tJ(j8+jd-1),a2=ic==0?.27:-.2,d3=dr*a2,cE=dr*(a2+.07),V=eS.mf.x+eS.mf.m-at.mf.x,eP=[0,d3,V,d3,V,cE,0,cE];
f.p.D(eP,b1,eP);K.pth={cmds:["M","L","L","L","Z"],crds:eP};X.Fill(K)}K.ctm=[1,0,0,1,0,0];j8+=jd}}}}else if(!C.rect.fg()){var jm,bD,f1=!1,ft=new eV,ie=C.add.SoLd,b2=!0;
if(ie)b2=f.Q.gr(R.S.TU(ie.Trnf));if(ie&&b2){var dh=ie.Idnt.v,aY=u.lW(dh,ie.Crop?ie.Crop.v:null),i5="";
if(aY==null)return;var eF=aY.Z4,de=eH.jN(aY.raw.buffer);if(D[6].indexOf(de)!=-1){jm=aY.raw;f1=!0}else jm=eF[0];
bD=eF[1];ft=f.Q.Rm(ie)}else{jm=C.buffer;bD=C.rect;ft.translate(bD.x,bD.y)}if(O&&!f1)jm=bW.awq(jm,O,bD);
ik.I9(K,X,jm,bD,ft,w);if(O&&f1){var eP=[0,0,bD.m,0,bD.m,bD.n,0,bD.n];f.p.D(eP,ft,eP);f.p.D(eP,w,eP);
var eA=JSON.parse(JSON.stringify(K));eA.ca=O.Opct.v.val/100;eA.pth={cmds:["M","L","L","L","Z"],crds:eP};
eA.colr=ik.Uu(O.Clr.v);X.Fill(eA)}}if(m)ik.Te(C,A,i,m,K,X,w,D,!1)};ik.Ty=function(u,g,K,X,w,D,q){var C=!1,a=0,x=0;
if(X&&X.strokeEnabled.v){var H=X.strokeStyleContent.v,$=X.strokeStyleLineDashSet.v;a=k8.Sq.kM.indexOf(X.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
g.COLR=ik.KE(H,w,D);x=X.strokeStyleLineWidth.v.val*w.CJ();g.mlimit=X.strokeStyleMiterLimit.v;g.doff=X.strokeStyleLineDashOffset.v.val;
g.ljoin=k8.Sq.join.indexOf(X.strokeStyleLineJoinType.v.strokeStyleLineJoinType);g.lcap=k8.Sq.gg.indexOf(X.strokeStyleLineCapType.v.strokeStyleLineCapType);
g.dash=[];for(var P=0;P<$.length;P++)g.dash.push($[P].v.val*g.lwidth);if(g.dash.length==1&&g.dash[0]==0)g.dash=[];
C=!0}var r=a==2;if(K&&!r)u.Fill(g,q);if(C){g.lwidth=x*(a==2?2:1);u.Stroke(g)}if(K&&r)u.Fill(g,q)};ik.N7=function(u){return[(u>>>16&255)/255,(u>>>8&255)/255,(u&255)/255]};
ik.KE=function(u,g,K){if(u.Clr)return ik.Uu(u.Clr.v);var X=u,w=X.Rvrs?X.Rvrs.v:!1,D=X.Type.v.GrdT,q=[],C,a=D=="Rdl"||D=="Dmnd"?"rad":"lin",x=f.X.pE(X,K),H=g.HB(x[0]),$=g.HB(x[1]);
if(a=="rad")C=[H.x,H.y,0,H.x,H.y,j4.uh(H,$)];else{H.fP($.x+(H.x-$.x)*2,$.y+(H.y-$.y)*2);C=[H.x,H.y,$.x,$.y]}var r=X.Grad.v.Clrs.v;
for(var P=0;P<r.length;P++){var c=r[P].v,U=c.Lctn.v/4096;q.push([w?1-U:U,ik.Uu(c.Clr.v)])}if(w)q.reverse();
return{typ:a,mat:[1,0,0,1,0,0],grad:q,crds:C}};ik.Te=function(u,g,K,X,w,D,q,C,a){var x=K.clone(),H=g;
if(u.add.TySh&&!C[3]&&!C[4])return;var $=w.ca,r=w.bmode;for(var P=k8.order.length-1;P>=0;P--){var c=k8.order[P];
if(c=="GrFl"||c=="SoFi")continue;if((u.add.vmsk||u.add.TySh)&&c=="FrFX")continue;var U=X[c],O=P>7||c=="FrFX";
if(O!=a)continue;for(var A=0;A<U.length;A++){var m=U[A];if(m._a==null)m=m.FG?m.FG:m.Ej;var i=m._a.clone();
i.offset(x.x,x.y);if(!O){if(!x.kB(i)){var e=x.RN(i),S=f.L(e.$());f.x5(H,x,S,e);H=S;x=e}f.ea(H,x,m.Fg,i)}if(O&&c=="FrFX"&&m.Le)f.ea(m.Le,i,m.Fg,i);
var E=new eV;E.translate(i.x,i.y);w.ca=m.fc;w.bmode=dq.gt(m.$X);ik.I9(w,D,m.Fg,i,E,q)}}w.ca=$;w.bmode=r};
ik.I9=function(u,g,K,X,w,D){var q=new eV;q.scale(X.m,-X.n);q.translate(0,X.n);q.concat(w);q.concat(D);
u.ctm=[q._x,q.U,q.nA,q.kR,q.OR,q.ic];g.PutImage(u,K,X.m,X.n);u.ctm=[1,0,0,1,0,0]};var fs={};fs.h7=function(u){var g=new Uint8Array(u);
return fs.Vo(g,0)};fs.Vo=function(u,g){var K=k.r,X=k.u6,w={z0:X(u,g,4),u:g+8,size:K(u,g+4)},D=w.z0=="FORM"||w.z0=="LIST"||w.z0=="CAT ";
if(D)w.lv=X(u,g+8,4);if(w.size<0||w.u+w.size>u.length)throw"e";if(D){w.sub=[];g+=12;var q=w.u+w.size;
while(g<q){var C=fs.Vo(u,g);w.sub.push(C);g+=8+C.size+(C.size&1)}}return w};var k9={};k9.h7=function(u,g){var K=new Uint8Array(u);
return k9.Vo(K,0,g)};k9.Vo=function(u,g,K){var X=k.yY,w=k.u6,D={z0:w(u,g,4),u:g+8,size:X(u,g+4)};if(K&&K[D.size]!=null)D.size=K[D.size];
if(D.z0=="RIFF"||D.z0=="LIST"){D.lv=w(u,g+8,4)}if(D.size<0||D.u+D.size>u.length)throw"e";if(D.z0=="RIFF"||D.z0=="LIST"&&(D.lv!="cmpr"&&D.lv!="stlt")){D.sub=[];
g+=12;var q=D.u+D.size;while(g<q){var C=k9.Vo(u,g,K);D.sub.push(C);g+=8+C.size+(C.size&1)}}return D};
function cY(){}cY.h7=function(u,g){var K=new Uint8Array(u);g.Ey=!0;var X=k.u6(K,0,2);if(X=="WL"){alert("Unsupported CDR version")}else{var w=cY.uj,D=k9.h7(K.buffer),q={data:K,u:0,Oq:cY.awa(K[11])},C,a,U=300;
q.M0=q.Oq<600?16:32;cY.hc(q,D.sub,g,0);if(w(D,"cmpr")==null){C=w(D,"page");a=C}else{var x=w(D,"cmpr").sub;
C=x[0];a=x.slice(1)[1];var H=w(C,"filt").sub,$=w(C,"otlt").sub;C.U3={};for(var P=0;P<H.length;P++)C.U3[H[P].sub[0].h.id]=H[P].sub[0].h;
C.sT={};for(var P=0;P<$.length;P++)C.sT[$[P].h.id]=$[P].h}var r=w(C,"mcfg").h,c=r.acI;U/=ge.gA(new dS(0,0,Math.round(c.x*U),Math.round(c.y*U)),8192*8192);
var O=Math.round(c.x*U),A=Math.round(c.y*U);g.m=O;g.n=A;g.buffer=f.L(g.m*g.n*4);var m=new eV(U,0,0,-U,c.x*U/2,c.y*U/2);
cY.OK(a,C,g,m);g.DX(1);g.g[g.g.length-1].ab(new dS(0,0,O,A))}};cY.uj=function(u,g){var K=null;if(u.sub==null)return K;
for(var P=0;P<u.sub.length;P++){var X=u.sub[P];if(X.z0==g||X.lv==g)K=X}return K};cY.OK=function(u,g,K,X){var w=cY.uj,D=u.lv?u.lv:u.z0,q=w(u,"lgob"),C=w(u,"txsm"),a,x;
if(q){a=w(q,"trfl");x=w(q,"loda")}else if(w(u,"lobj"))x=w(u,"lobj");var H=a?a.sub[0].Oi.clone():new eV;
H.concat(X);var $=K.Wk();if(D=="page"||D=="layr"||D=="grp "){$.Q9((D=="page"?"Page":"Group")+" "+K.g.length);
$.add.lsct=g4.DM;$.wS="pass";$.R3=24;var r=[];if(D=="page")r=w(u,"gobj").sub;if(D=="layr")r=u.sub.slice(2);
if(D=="grp ")r=u.sub.slice(4);if(r.length==0)return;K.g.push(K.z1());for(var P=r.length-1;P>=0;P--)cY.OK(r[P],g,K,X)}else if(D=="obj "&&x.h&&x.h.path){$.Q9("Object "+K.g.length);
var c,U;if(g.U3){c=g.U3[x.h.au9];U=g.sT[x.h.ahY]}var O=$.getName(),A=c&&c.type!=0,m=A&&c.h!=null?c.h:[0,0,0];
$.R3|=16;$.add.vstk=JSON.parse(JSON.stringify(k8.Sq.default));var i=$.add.vstk;i.strokeEnabled.v=!1;
$.add.vmsk=new l.tU;if(U&&U.ae7!=1){i.strokeEnabled.v=!0;i.strokeStyleLineAlignment.v.strokeStyleLineAlignment="strokeStyleAlignCenter";
i.strokeStyleLineWidth.v.val=U.lineWidth*X.CJ();var e=U.color;i.strokeStyleContent.v.Clr.v=f.X.Gp({w:e[0]*255,A:e[1]*255,U:e[2]*255})}var S=x.h.path;
$.add.vmsk._=f.p.Ic(S,!1);f.J.Cg($.add.vmsk._,H);dq.GI(m,$,H,f.J.Xh($.add.vmsk._));i.fillEnabled.v=A;
$.LP();$.th(K)}else if(D=="obj "&&C){var E=x.h.ac3,Z=x.h.aoD,y="";$.add.TySh=fS.t5(0,0);var N=H.CJ();
$.add.TySh.D.translate(H.OR,H.ic);var J=$.add.TySh.Fd,o=C.h.f9;for(var P=0;P<o.length;P++){var B=o[P],t=y.length;
y+=B.text+"\n";fS.G4(J,t,B.text+"\n");var W=cY.aee(B.a3y,g),F=fS.pP(J,t,y.length);if(W.align==3)F.Sh.Justification=1;
else F.Sh.Justification=0;var G=W.fill.h;F.QX.FillColor={Type:1,Values:[1,G[0],G[1],G[2]]};F.QX.FontSize=Math.round(W.amt.fontSize*H.CJ());
fS.xm(J,t,y.length-1,F)}if(Z){fS.YM(J,0)}else{fS.YM(J,1);fS.N2(J,[0,0,Math.round(E.x*H._x),Math.round(-E.y*H.kR)])}$.Q9(y.slice(0,10))}else{$=null}if($)K.g.push($)};
cY.aee=function(u,g){var K=cY.uj(g,"stlt").h,X=JSON.parse(JSON.stringify(K.qw[u]));if(X.BJ!=0){var w=K.qw[X.BJ];
for(var D in w)if(X[D]==null||X[D]==0)X[D]=w[D];delete X.BJ}X.align=K.adM[X.aao];X.fill=g.U3[K.ao5[X.apm]];
X.agS=g.sT[K.acf[X.a1W]];X.amt=K.acK[X.ajo];return X};cY.avM=function(P){var eJ=P.data[P.u];P.u+=1;return eJ};
cY.Ma=function(P){var eJ=k.bh(P.data,P.u);P.u+=2;return eJ};cY.X_=function(P){var eJ=k.yY(P.data,P.u);
P.u+=4;return eJ};cY.avw=function(P){var eJ=k.yY(P.data,P.u);P.u+=8;return eJ};cY.Ys=function(P){var eJ=k.rL(P.data,P.u);
P.u+=2;return eJ};cY.Ta=function(P){var eJ=k.q$(P.data,P.u);P.u+=4;return eJ};cY.Qa=function(P){var eJ=k.Iy(P.data,P.u);
P.u+=8;return eJ};cY.JM=function(P){if(P.u>=P.data.length)throw"e";var u=0;while(P.data[P.u+u]!=0)u++;
var g=k.u6(P.data,P.u,u);P.u+=u+1;return g};cY.atq=function(u){if(u.Oq<600)return Math.PI*cY.Ys(u)/1800;
return Math.PI*cY.Ta(u)/18e7};cY.awT=function(u){if(u.Oq<1500)return cY.XV(u);else return cY.Qa(u)/254e3};
cY.XV=function(u){if(u.Oq<600)return cY.Ys(u)/1e3;else return cY.Ta(u)/254e3};cY.adw=function(u){if(u.Oq<600)return cY.Ma(u);
else return cY.X_(u)};cY.a35=function(u){if(u.Oq<600)return CRDParser.Ys(u);else return cY.Ta(u)};cY.hc=function(u,g,K,X){var w=cY,D=w.avM,q=w.Ma,C=w.X_,a=w.avw,x=w.Ys,H=w.Ta,$=w.Qa,r=w.XV,c=w.awT,U=w.atq,O=w.adw,A=w.a35;
for(var m=0;m<g.length;m++){var i=u.Oq,e=g[m];u.u=e.u+(e.z0=="LIST"?4:0);if(e.z0=="vrsn"){var S=q(u);
u.Oq=S;console.log("Version",S);u.M0=S<600?16:32}else if(e.z0=="DISP"){}else if(e.z0=="LIST"&&e.lv=="cmpr"){var E=C(u),Z=C(u),N=C(u),J=C(u),y=new Uint8Array(u.data.buffer,u.u+8+2,E-6-8),o=pako.inflateRaw(y),F=0;
u.u+=E;y=new Uint8Array(u.data.buffer,u.u+8+2);var B=pako.inflateRaw(y),t=[];for(var W=0;W<B.length;
W+=4)t.push(k.yY(B,W));e.sub=[];while(F<o.length){var G=k9.Vo(o,F,t);F=G.u+G.size;e.sub.push(G)}var L={data:o,u:0,Oq:i,M0:u.M0};
cY.hc(L,e.sub,K,X+1)}else if(e.z0=="LIST"&&e.lv=="stlt"){var Q=u.u,iR=32;e.h={};var T=C(u);if(T==0)return;
e.h.ao5=cY.CH(u,i>=1300);e.h.acf=cY.CH(u);e.h.acK={};var j=C(u);for(var P=0;P<j;P++){var p=C(u);u.u+=i<1e3?12:20;
var M=q(u),n=q(u);u.u+=8;var d=r(u);u.u+=i<1e3?12:20;e.h.acK[p]={a7l:M,a2B:n,fontSize:d}}e.h.adM=cY.CH(u);
var V=C(u);u.u+=52*V;var z=C(u);u.u+=152*z;var I=C(u);u.u+=784*I;var v=C(u);for(var P=0;P<v;P++){u.u+=40;
if(i>1300)u.u+=4;if(i>=1300){if(C(u))u.u+=68;else u.u+=12}else{u.u+=20;if(i>=1e3)u.u+=8;if(C(u))u.u+=8;
u.u+=8}}var gj=C(u);e.h.apr={};for(var P=0;P<gj;P++){var jA=C(u),Y={};u.u+=12;Y.right=r(u);Y.a0f=r(u);
Y.left=r(u);e.h.apr[jA]=Y}var jv=C(u);if(i>=1300)iR+=4;u.u+=iR*jv;var cj=C(u);u.u+=28*cj;if(i>800){var j8=C(u);
u.u+=12*j8}e.h.qw={};for(var P=0;P<T;P++){var as=C(u),gW=C(u),af={};af.BJ=C(u);u.u+=8;var at=C(u);if(i>=1200)at*=2;
u.u+=at;af.apm=C(u);af.a1W=C(u);if(as>1){af.ajo=C(u);af.aao=C(u);af.a4R=C(u);af.alc=C(u);if(i>800)af.a1r=C(u)}if(as>2){af.a9J=C(u);
af.awl=C(u);af.avY=C(u);af.a3v=C(u);af.ahl=C(u)}e.h.qw[gW]=af}}else if(e.z0=="LIST")cY.hc(u,e.sub,K,X+1);
else if(e.z0=="txsm"){e.h={};if(i<600)throw"e";if(i<700)throw"e";if(i>=1600)throw"e";if(i>=1500)u.u+=37;
else u.u+=36;if(C(u)){if(i<800)u.u+=32}if(i<800)u.u+=4;e.h.a1F=C(u);e.h.f9=[];u.u+=48;if(i>=800){if(C(u)){u.u+=32;
if(i>=1300)u.u+=8}}if(i>=1500)u.u+=12;var as=C(u),jd=1,fM=!1;if(!as){if(i>=800)u.u+=4;if(i>800)u.u+=2;
if(i>=1400)u.u+=2;u.u+=24;if(i<800)u.u+=8;jd=C(u)}for(var W=0;W<jd;W++){var hS=C(u),P=0;if(i>=1300&&as)u.u++;
u.u++;var T=C(u),dr=[];for(P=0;P<T;P++){var cB=D(u),ic=0;D(u);var b1=D(u);if(i>=800)ic=D(u);var af={};
if(b1&1){af.a7l=q(u);var dV=q(u);if(dV)af.a5b=dV}if(b1&2)u.u+=4;if(b1&4)af.auF=r(u);if(b1&8)u.u+=4;if(b1&16)u.u+=4;
if(b1&32)u.u+=4;if(b1&64){af.apm=C(u);if(i>=1500)u.u+=48}if(b1&128){af.a1W=C(u)}if(ic&8){if(i>=1300){var eS=C(u);
if(u.u+eS*2>=u.data.length){fM=!0;break}u.u+=eS*2}else u.u+=4}if(ic&32){var a2=D(u);if(a2)u.u+=52}if(cB==2)if(i>=1300)u.u+=48;
dr.push(af)}if(fM){break}var d3=C(u);if(u.u+d3*4>u.data.length)break;var cE=[];for(P=0;P<d3;P++){var eP=0;
if(i>=1200)eP=a(u)&4294967295;else eP=C(u);cE[P]=eP>>16|eP&1}var jm=d3;if(i>=1200)jm=C(u);var bD=cY.JM(u);
e.h.f9.push({a3y:hS,text:bD,qw:dr})}}else if(e.z0=="font"){var f1=q(u),ft=q(u);u.u+=14;var ie=cY.JM(u);
e.h={id:f1,aqN:ft,name:ie}}else if(["IKEY","ICMT","pfrd","bcfg"].indexOf(e.z0)!=-1){}else if(e.z0=="flgs")e.h=C(u);
else if(e.z0=="bbox"){var b2=r(u),dh=r(u),aY=r(u),eF=r(u);e.h=new dS(b2,dh,aY-b2,eF-dh)}else if(e.z0=="fild"){var de=C(u),i5=0,c4;
if(i>=1300){u.u+=4;i5=q(u);u.u+=2}var eA=q(u);if(eA==0){}else if(eA==1){u.u+=i>=1300?13:2;c4=cY.$_(u)}else if(eA==2){u.u+=i>=1300?8:2;
var jC=D(u),hd=0;if(i>=1300){u.u+=17;hd=x(u)}else if(i>=600){u.u+=19;hd=H(u)}else{u.u+=11;hd=x(u)}var iG=U(u),cC=.5+A(u),cL=.5+A(u)-.5;
if(i>=600)u.u+=2;var dw=O(u)&255,eY=D(u)/100;u.u++;var cf=O(u)&65535;if(i>=1300)u.u+=3;var d7=[];for(var P=0;
P<cf;P++){var hs=cY.$_(u);if(i>=1300){if(i5==158||i>=1600&&i5==150)u.u+=26;else u.u+=5}var hz=O(u)/100;
if(i>=1300)u.u+=3;d7.push([hz,hs])}c4={typ:jC==1?"lin":"rad",crds:[cC-Math.cos(iG)/2,cL-Math.sin(iG)/2,cC,cL],grad:d7,mat:[1,0,0,1,0,0]}}else console.log("Unknown fill type",eA);
e.h={id:de,type:eA,h:c4}}else if(e.z0=="outl"){var bx=C(u);if(i>=1300){var dO=0,hN=0;while(dO!=1){u.u+=hN;
dO=C(u);hN=C(u)}}var jn=q(u),iP=q(u),io=q(u);if(i<1300&&i>=600)u.u+=2;var jD=r(u),dg=q(u)/100;if(i>=600)u.u+=2;
var j1=U(u);if(i>=1300)u.u+=46;else if(i>=600)u.u+=52;var c4=cY.$_(u,bx==270963208||bx==276198e3,bx);
e.h={id:bx,ae7:jn,adm:iP,amo:io,lineWidth:jD,color:c4}}else if(e.z0=="mcfg"){if(1300<=i)u.u+=12;else if(900<=i)u.u+=4;
else if(600<=i&&i<700)u.u+=28;var iO=0,ck=0;if(i<400){u.u+=2;var b2=r(u),dh=r(u),aY=r(u),eF=r(u);iO=Math.abs(aY-b2);
ck=Math.abs(eF-dh)}else{iO=r(u);ck=r(u)}e.h={acI:new j4(iO,ck)}}else if(e.z0=="loda"||e.z0=="lobj"){var Q=u.u,cZ=O(u),bY=O(u),ke=O(u),bQ=O(u),jh=O(u),hk=[],c8=[];
u.u=Q+ke;for(var P=0;P<bY;P++)hk[P]=O(u);u.u=Q+bQ;for(var P=bY-1;P>=0;P--)c8[P]=O(u);e.h={};for(var P=0;
P<bY;P++){u.u=Q+hk[P];var bM=c8[P];if(bM==10)e.h.ahY=C(u);else if(bM==20)e.h.au9=C(u);else if(bM==200)e.h.a0z=O(u);
else if(bM==30){if(i<400)jh--;if(jh==1){var b2=c(u),dh=c(u),dE=0,h3=0,eL=0,hX=0;if(i<1500){hX=c(u);eL=i<900?hX:c(u);
h3=i<900?hX:c(u);dE=i<900?hX:c(u)}else throw"e";e.h.path=f.p.Cs(f.J.eQ.Rect(0,0,b2,dh,dE))}else if(jh==2){var hm=r(u),c7=r(u),jS=U(u),fW=U(u),aR=Math.abs(hm),jV=Math.abs(c7);
e.h.path=f.p.Cs(f.J.eQ.tj(0,0,aR,-jV))}else if(jh==3){e.h.path=cY.anx(u)}else if(jh==4){e.h.aoD=cY.ad0(u)}else if(jh==6){e.h.ac3=cY.axB(u)}else if(jh==37){e.h.path=cY.qL(u)}else console.log(jh)}}}else if(e.z0=="trfd"){var Q=u.u,cZ=O(u),bY=O(u),ke=O(u);
u.u=Q+ke;var hk=[];for(var P=0;P<bY;P++)hk[P]=O(u);for(var P=0;P<bY;P++){u.u=Q+hk[P];if(i>=1300)u.u+=8;
var gx=q(u);if(gx==8){var h5,iV,b2,cd,jE,dh;if(i>=600)u.u+=6;if(i>=500){h5=$(u);iV=$(u);b2=$(u)/(i<600?1e3:254e3);
cd=$(u);jE=$(u);dh=$(u)/(i<600?1e3:254e3)}else throw"e";e.Oi=new eV(h5,cd,iV,jE,b2,dh)}else console.log(gx)}}else if(!1){console.log(e);
var cq=Math.min(e.size,32);console.log(k.fD(data,e.u,cq));console.log(k.a3G(data,e.u,cq))}}};cY.CH=function(u,g){var K=cY.X_,X={},w=K(u);
for(var P=0;P<w;P++){var D=K(u);u.u+=4;var q=K(u);X[D]=q;if(g)u.u+=48}return X};cY.ad0=function(u){var g=cY,K=g.XV,X=K(u),w=K(u);
return new j4(X,w)};cY.axB=function(u){var g=cY,K=g.XV;u.u+=4;var X=K(u),w=K(u);return new j4(X,w)};
cY.qL=function(u){var g=cY,K=g.X_,X=g.Ma,w=g.XV;u.u+=4;var D=X(u)+X(u);u.u+=16;var q=cY.e0(u,D);return q};
cY.anx=function(u){var g=cY.Ma(u);u.u+=2;return cY.e0(u,g)};cY.e0=function(u,g){var K=cY,X=K.XV,w=u.Oq<600?2:4,D=u.u,q={v:[],F:[]},C=0,a=0,x=0;
for(var P=0;P<g;P++){var C=X(u),a=X(u),H=u.data[D+g*w*2+P];if(!(H&64)&&!(H&128)){q.v.push(C,a);q.F.push("M");
x+=2}else if(H&64&&!(H&128)){q.v.push(C,a);q.F.push("L");x+=2}else if(!(H&64)&&H&128){q.v.push(C,a);
q.F.push("C");x+=6}else if(H&64&&H&128){q.v.push(C,a)}}if(x!=q.v.length)throw"e";return q};cY.akz=function(u,g){var K=k.yY;
g+=8;var X=K(u,g);g+=4;var w=K(u,g);g+=4;g+=4*7;var D=g,q=f.L(X*w*4);g+=1024;for(var C=0;C<w;C++)for(var a=0;
a<X;a++){var P=C*X+a,x=(w-C-1)*X+a,H=u[g+P]<<2,$=x<<2;q[$+0]=u[D+H+2];q[$+1]=u[D+H+1];q[$+2]=u[D+H+0];
q[$+3]=255}return{Fg:q,rect:new dS(0,0,X,w)}};cY.awa=function(u){if(u==32)return 300;else if(u<49)return 0;
else if(u<58)return 100*(u-48);else if(u<65)return 0;return 100*(u-55)};cY.$_=function(u,g,K){var X=cY.Ma,w=cY.X_,D=u.Oq,q=0,C=0;
if(D>=500){q=X(u);if(q==1&&D>=1300)q=25;if(q==25||q==30){var a=0;if(q==30){q=25;a=30}else{a=X(u);u.u+=4}var x=X(u),H=X(u)}else if(q==14)throw"e";
else{u.u+=6;C=w(u)}}else throw"e";var $=[];if(q==2||q==9||q==17){var r=[C>>>0&255,C>>>8&255,C>>>16&255,C>>>24&255];
if(q==2)for(var P=0;P<4;P++)r[P]=Math.round(255*r[P]/100);for(var P=0;P<4;P++)r[P]/=255;$=UDOC.C.cmykToRgb(r)}else if(q==1||q==5){$=[C>>>0&255,C>>>8&255,C>>>16&255];
for(var P=0;P<3;P++)$[P]=$[P]/255}else console.log("Unknown color model "+q,C,C.toString(16));return $};
var bj=function(){var u,g,K=new ArrayBuffer(4),X=new Uint8Array(K),w=new Uint32Array(K),D=new Float32Array(K);
function q(r,c){for(var U=0;U<r.length;U++)if(r[U][0]==c)return r[U]}function C(){var r=0,c=0,U=0;do{U=u[g++];
r|=(U&127)<<c;c+=7}while(U&128&&c<35);return r>>>0}function a(r,c,U,O,A){u=r;g=c;var m=O[0]=="mesg",i=O[2],e={},S=1,E=m?1e9:i.length;
while(S<=E){var Z=S;if(m){Z=C();if(Z==0)break}var N=q(i,Z),J=N[2],y=N[1]==1,o=y?C():1,B=new Array(o);
if(J==3){if(!y)throw"e";B=u.slice(g,g+o);g+=o}else for(var P=0;P<o;P++){var t;if((J&1)==1){if(J==1)t=u[g++]==1;
else if(J==3)t=u[g++];else if(J==5){var W=C();t=W&1?~(W>>>1):W>>>1}else if(J==7)t=C();else if(J==9){if(u[g]==0){t=0;
g++}else{X[0]=u[g];X[1]=u[g+1];X[2]=u[g+2];X[3]=u[g+3];var F=w[0];w[0]=F<<23|F>>>9;t=D[0];g+=4}}else if(J==11){var G=x(u,g);
t=G[0];g+=G[1]+1}else throw J}else{var L=U[J>>>1];if(L[0]=="enum"){var Q=u[g++];if(Q>127)throw"e";t=L[2][Q]}else{var T=a(u,g,U,L,A+1);
t=T[0];g=T[1]}}B[P]=t}e[N[3]]=y?B:B[0];S++}return[e,g]}function x(r,c){var U=c;while(r[U]!=0)U++;return[k.KO(r,c,U-c),U-c]}function H(r,c){var U=c;
while(r[U]!=0)U++;for(var P=c;P<U;P++)if(r[P]>127)throw"e";return k.u6(r,c,U-c)}function $(r){u=r;g=1;
var c=[];while(g<r.length){var U=g,O=c.length,A=H(r,g);g+=A.length+1;var m=C();if(m>2)throw"e";var i=C(),e=[];
for(var P=0;P<i;P++){var S=H(r,g);g+=S.length+1;var E=C(),Z=C(),N=C();e.push(m==0?S:[N,Z,E,S])}c.push([["enum","strc","mesg"][m],A,e])}return c}return{a6m:$,a9o:a}}();
function fa(){}fa.h7=function(u,g){var K=new Uint8Array(u),X=8,w=k.yY(K,X),x=0,L=0;X+=4;var D=[];while(X<K.length){var q=k.yY(K,X);
X+=4;var C=K.slice(X,X+q);if(K[X]==137&&K[X+1]==80){}else C=UZIP.inflateRaw(C);D.push(C);X+=q}var a=bj.a6m(D[0]);
for(var P=0;P<a.length;P++)if(a[P][1]=="Message")x=P;var H=bj.a9o(D[1],0,a,a[x],0)[0],$={Gx:{},f3:{},a6N:{}},r=H.nodeChanges;
for(var c=0;c<r.length;c++){var U=r[c],O=U.guid;$.f3[O.sessionID+","+O.localID]=U}for(var c=0;c<r.length;
c++){var U=r[c],O=U.parentIndex;if(O){var A=fa.o5($.f3,O.guid);if(A.children==null)A.children=[];A.children.push(U)}}var m=r[0],i=m.children,e=new dS,S=[],E=[];
for(var O=0;O<i.length;O++){var Z=i[O],N=Z.children;if(Z.name=="Internal Only Canvas"||N==null)continue;
var J=new dS;for(var P=0;P<N.length;P++){var y=N[P],o=y.transform,B=y.size;if(o.m00==1&&o.m10==0&&o.m01==0&&o.m11==1){var t=new dS(o.m02,o.m12,B.x,B.y);
J=J.RN(t)}}var W=e.n==0?0:e.n+100,F=J.clone();F.x=0;F.y=W;e=e.RN(F);S[O]=J;E[O]=W}var G=ge.gA(new dS(0,0,e.m,e.n),8192*8192);
g.m=Math.round(e.m/G);g.n=Math.round(e.n/G);g.buffer=f.L(g.m*g.n*4);for(var O=0;O<i.length;O++){var Z=i[O],N=Z.children;
if(Z.name=="Internal Only Canvas"||N==null)continue;N.sort(fa.jt);var Q=new eV(1,0,0,1,-S[O].x,E[O]-S[O].y);
Q.scale(1/G,1/G);for(var P=0;P<N.length;P++){var y=N[P];fa.OK(y,[],Q,H.blobs,g,0,$);L++}}g.DX(L);g.Ey=!0;
if(G!=1)alert("File scaled down "+G+"x")};fa.OK=function(u,g,K,X,w,D,q){var C=fa,o=!1,B,F,G,L;g=JSON.parse(JSON.stringify(g));
var a=u.overrideKey?u.overrideKey:u.guid;for(var P=0;P<g.length;P++){var x=g[P],H=x.guidPath.guids;if(C.ab0(H[0],a)){if(H.length==1){var $={};
for(var r in u)$[r]=x[r]!=null?x[r]:u[r];u=$}else x.guidPath.guids=H.slice(1)}}var c=u.type,U=u.children,O=u.size,A=u.effects,m=w.Wk();
m.Q9(u.name);m.H4(u.visible);m.opacity=Math.round(u.opacity*255);var i=C.vs(u.transform),e=i.clone();
e.concat(K);var S=new dS(Math.round(e.OR),Math.round(e.ic),Math.round(O.x*e.CJ()),Math.round(O.y*e.CJ()));
if(S.m==0||isNaN(S.m))S.m=100;if(S.n==0||isNaN(S.n))S.n=100;var E=u.fillPaints,Z=u.inheritFillStyleID;
if(Z){var $=C.o5(q.f3,Z);if($)E=$.fillPaints}if(E==null)E=[];var E=C.Xw(E),N=E[0],J=u.strokePaints,Z=u.inheritFillStyleIDForStroke;
if(Z){var $=C.o5(q.f3,Z);if($)J=$.fillPaints}if(J==null)J=[];var J=C.Xw(J),y="BOOLEAN_OPERATION LINE RECTANGLE ROUNDED_RECTANGLE ELLIPSE VECTOR REGULAR_POLYGON STAR".split(" ").indexOf(c)!=-1;
if(y||c=="FRAME"){B=new l.tU;C.Az(u,X,B);o=f.J.nS(B._);f.J.Cg(B._,e);var t=f.p.Cf(f.J.Xh(B._));if(!t.fg())S=t;
if(q.Gx.Ze&&N){var W=l.tU.SL(q.Gx.Ze._);for(var P=2;P<W.length;P++)if(W[P].yk!=null)W[P].yk=3;B._=B._.concat(W.slice(2))}}if(N&&N.type=="IMAGE"){L=N.imageScaleMode;
F=C.KS(X,N.image.dataBlob);var Q=F.ZE.m/F.ZE.n,T=O.x/O.y;G=Math.abs(Q-T)}if(c=="FRAME"){}else if(y&&o&&F&&(L=="FIT"||L=="FILL"&&G<=.05)){var j=X[N.image.dataBlob].bytes,p=w.Sw(j,m.getName(),0,0);
p.R3=m.R3;p.opacity=m.opacity;m=p;var M=new dS(0,0,O.x,O.y);if(L=="FIT"){var n=F.ZE.m,d=F.ZE.n,V=Math.min(O.x/n,O.y/d),z=n*V,I=d*V;
M=new dS(M.x+(M.m-z)/2,M.y+(M.n-I)/2,z,I)}var v=f.p.JS(M).v;f.p.D(v,e,v);m.add.SoLd.Trnf=R.S.c2(v);m.add.SoLd.nonAffineTransform=R.S.c2(v);
var gj=[],A=u.effects,jA=N.paintFilter;if(A)for(var P=0;P<A.length;P++)if(A[P].type=="FOREGROUND_BLUR"){var Y=A[P],jv=dJ.GU("GsnB",{});
gj.push(jv);jv.v.enab.v=Y.visible;jv.v.Fltr.v.Rds.v.val=Y.radius/2.4}if(jA&&jA.exposure!=0){var jv=dJ.GU("brit",{});
gj.push(jv);jv.v.Fltr.v.Brgh.v=Math.round(jA.exposure*160);jv.v.Fltr.v.useLegacy.v=!0}if(jA&&jA.vibrance!=0){var jv=dJ.GU("vibA",{});
gj.push(jv);console.log(jv);jv.v.Fltr.v.Strt.v=Math.round(Math.round(jA.vibrance*100))}if(gj.length!=0){m.add.SoLd.filterFX=dJ.Ae();
w.T8({id:m.add.SoLd.placed.v,rect:new dS,buffer:f.L(1),B:new l.I2});m.add.SoLd.filterFX.v.filterFXList.v=gj}m.Qu(w,!1);
C.rV(q,m,w)}else if(y){C.IW(m,B,u,N,J,e,S,X,w,q);if(A)for(var P=0;P<A.length;P++){var Y=A[P];if(Y.type!="FOREGROUND_BLUR")continue;
B.Lp=Y.radius/2.4}m.LP();m.th(w)}else if(c=="TEXT"){var iR=u.textData,cj=iR.layoutSize,j8=["LEFT","RIGHT","CENTER"].indexOf(u.textAlignHorizontal);
m.add.lnsr="rend";m.add.TySh=fS.t5(0,0);m.add.TySh.kI=new dS(0,0,100,100);var as=e.clone();m.add.TySh.D=as;
var gW=m.add.TySh.Fd,af=iR.characters;if(u.textCase=="TITLE"){for(var P=0;P<af.length;P++)if(P==0||af[P-1]==" "){var at=af.slice(0,P),jd=af.slice(P+1);
af=at+af[P].toUpperCase()+jd}}af=af.replace(/\u2028/g,"\n");af=af.replace(/\u2029/g,"\n");af=af.replace(/\r\n/g," \n");
fS.G4(gW,0,af);var fM=u.textAutoResize,hS=iR.baselines;if(fM=="WIDTH_AND_HEIGHT"){var dr=j8==0?0:j8==1?cj.x:cj.x/2,cB=hS?hS[0].position.y:0;
as.translate(dr*e.CJ(),cB*e.CJ());fS.YM(gW,0)}else if(fM=="HEIGHT"||fM=="NONE"||fM==null){var cB=hS?hS[0].position.y-u.fontSize*.7:0;
as.translate(0,cB*e.CJ());fS.YM(gW,1);fS.N2(gW,[0,0,Math.round(cj.x),Math.round((fM=="NONE"?1.8:1)*cj.y)])}else throw fM;
if(af!=""){var b1=fS.pP(gW,0,1);C.oN(u,e,O,b1,m,X,w,q);fS.xm(gW,0,af.length,b1);var ic=iR.characterStyleIDs,dV=iR.styleOverrideTable;
if(ic){ic=ic.slice(0);for(var P=0;P<ic.length;P++)if(af[P]=="\n")ic[P]=-P-1;var eS=[0],a2=0,d3=0;for(var P=0;
P<ic.length;P++){d3++;var cE=ic[P];if(P==0||cE==ic[P-1]){}else{eS.push(d3-1,P);d3=1}}eS.push(d3);for(var P=0;
P<eS.length;P+=2){var eP=eS[P],jm=eS[P+1];if(af[eP]=="\n")continue;var cE=ic[eP];if(cE!=0){var bD;for(var f1=0;
f1<dV.length;f1++)if(dV[f1].styleID==cE)bD=dV[f1];var b1=fS.pP(gW,eP,eP+1);C.oN(bD,e,O,b1,m,X,w,q);fS.xm(gW,eP,eP+jm-1,b1)}}}}}else if(c=="SYMBOL"){}else if(c=="INSTANCE"){var ft=u.symbolData,ie=ft.symbolOverrides,$=C.o5(q.f3,ft.symbolID);
if($)U=$.children;else console.log(u.name,"symbol not found",ft.symbolID);g=g.slice(0);for(var P=0;P<ie.length;
P++)g.push(ie[P])}else console.log(c);if(!1){}else if(U&&!y){w.g.push(w.z1());var b2=!1,dh=D==0&&c!="SYMBOL"&&c!="INSTANCE";
if(dh){if(S.fg())console.log(S);m.ab(S)}N=E[E.length-1];if(dh&&N&&N.type=="SOLID"){var aY=N.color;m.add.artb.artboardBackgroundType.v=4;
m.add.artb.Clr=C.$_(aY)}else if((N||J[0])&&B){var eF=w.Wk();eF.Q9("Background");C.IW(eF,B,u,N,J,e,S,X,w,q);
eF.LP();eF.th(w);w.g.push(eF);b2=!0}U.sort(C.jt);var de=q.Gx;q.Gx={};for(var i5=0;i5<U.length;i5++)C.OK(U[i5],g,e,X,w,D+1,q);
q.Gx=de;m.add.lsct=!1?g4.DM:g4.Ab;m.wS="pass";var eA=m.AG();m.R3=24;m.H4(eA);var c4=D!=0&&E.length!=0&&!u.frameMaskDisabled&&u.containerSupportsFillStrokeAndCorners;
if(!b2&&c4&&B){m.add.vmsk=B;m.LP();m.th(w)}else C.rV(q,m,w);w.g.push(m)}else if(u.mask){if(B){q.Gx.Ze=B}}else{var jC=[],cf=1;
if(A)for(var hd=0;hd<A.length;hd++){var Y=A[hd],iG=Y.color,cC=Y.type,cL=["DROP_SHADOW","INNER_SHADOW"].indexOf(cC);
if(cL!=-1){var dw=["DrSh","IrSh"][cL],eY=JSON.parse(k8.QO[k8.order.indexOf(dw)]);jC.push([dw,eY]);eY.enab.v=Y.visible;
eY.Md.v.BlnM=b0.HF(C.avc(Y.blendMode));eY.Opct.v.val=Math.round(100*iG.a);eY.blur.v.val=Math.round(Y.radius*e.CJ());
eY.Clr=C.$_(iG);var dr=Y.offset.x,cB=Y.offset.y;eY.uglg.v=!1;eY.lagl.v.val=Math.round(180/Math.PI*Math.atan2(cB,-dr));
eY.Dstn.v.val=Math.round(Math.sqrt(dr*dr+cB*cB)*e.CJ())}}if(c=="TEXT"&&E[0]&&E[0].type!="SOLID")cf=0;
for(var P=cf;P<E.length;P++){var d7=E[P],hs=C.Pc(u,d7,e,S,X,w,q);if(hs[0]=="GdFl")jC.push(["GrFl",hs[1]]);
else if(hs[0]=="SoCo")jC.push(["SoFi",hs[1]]);else if(hs[0]=="PtFl")jC.push(["patternFill",hs[1]]);else throw hs}if(!y)for(var P=0;
P<J.length;P++){var d7=J[P],hs=C.Pc(u,d7,e,S,X,w,q);if(hs[0]=="SoCo"){var eY=JSON.parse(k8.QO[k8.order.indexOf("FrFX")]);
jC.push(["FrFX",eY]);eY.enab=hs[1].enab;eY.Opct=hs[1].Opct;eY.Md=hs[1].Md;eY.Clr=hs[1].Clr;eY.Sz.v.val=u.strokeWeight}}if(jC.length!=0){var hz=JSON.parse(k8.default);
for(var P=0;P<k8.order.length;P++)hz[k8.pg[P]]={t:"VlLs",v:[]};for(var P=0;P<jC.length;P++){var dO=jC[P],dw=k8.pg[k8.order.indexOf(dO[0])];
hz[dw].v.unshift({t:"Objc",v:dO[1]})}if(U==null)m.add.lmfx=hz}w.g.push(m)}};fa.IW=function(u,g,K,X,w,D,q,C,a,x){var H=fa;
u.R3|=16;u.add.vmsk=g;var $=u.add.vstk=JSON.parse(JSON.stringify(k8.Sq.default)),r=H.Pc(K,X,D,q,C,a,x);
if(r[0]=="None"){$.fillEnabled.v=!1;u.add.SoCo=r[1]}else{H.Py(r,u);u.add[r[0]]=r[1]}var r=H.Pc(K,w[0],D,q,C,a,x);
if(r[0]!="None"){var $=u.add.vstk;$.strokeEnabled.v=!0;$.strokeStyleLineWidth.v.val=K.strokeWeight*D.CJ();
$.strokeStyleLineAlignment.v.strokeStyleLineAlignment=k8.Sq.kM[["INSIDE","CENTER","OUTSIDE"].indexOf(K.strokeAlign)];
var c={SoCo:"SoFi",GdFl:"GrFl",PtFl:"patternFill"}[r[0]],U=["SoFi","GrFl","patternFill"].indexOf(c),O=[k8.rS,k8.DK,k8.lf][U];
$.strokeStyleContent.v={classID:k8.Sq.lv[0]};var A=K.dashPattern;if(A)$.strokeStyleLineDashSet.v=bW.jZ(A,1/K.strokeWeight);
var m=$.strokeStyleContent.v={classID:k8.Sq.lv[U]};for(var P=0;P<O.length;P++)m[O[P]]=r[1][O[P]];if(!$.fillEnabled.v)H.Py(r,u)}};
fa.Py=function(u,g){var K=u[1].Opct.v.val;if(K!=100)g.opacity=Math.round(g.opacity/255*(K/100)*255)};
fa.jt=function(u,g){var K=u.parentIndex.position,X=g.parentIndex.position;return K>X?1:-1};fa.Xw=function(u){for(var P=1;
P<u.length;P++){var g=u[P];if(g.type=="IMAGE"&&g.opacity==1){u=u.slice(P);break}}for(var P=0;P<u.length;
P++){var g=u[P],K=g.imageThumbnail;if(g.type=="IMAGE"&&(g.image==null||g.image.dataBlob==null)&&K&&K.dataBlob)g.image=K;
if(!g.visible||g.type=="IMAGE"&&g.image.dataBlob==null){u.splice(P,1);P--}}return u};fa.rV=function(u,g,K){if(u.Gx.Ze){g.add.vmsk=u.Gx.Ze.clone();
g.LP();g.th(K)}};fa.oN=function(u,g,K,X,w,D,q,C){var a=u.fontSize,x=u.lineHeight,H=u.fontName,$=u.textAlignHorizontal,r=u.textTracking,c=u.textCase,U=u.textDecoration;
if(a==null)a=X.QX.FontSize;if(H)fS.rt(X,H.postscript);if(a!=null)X.QX.FontSize=Math.round(a);if(U=="UNDERLINE")X.QX.Underline=!0;
if(r)X.QX.Tracking=Math.round(r*1e3);if(c)X.QX.FontCaps=c=="UPPER"?2:0;if(x&&(x.units!="PERCENT"||x.value!=100)){if(a==null)a=15;
var O=x.value;if(x.units=="PERCENT")O=1*a*O/100;if(x.units=="RAW")O=1*a*O;X.QX.AutoLeading=!1;X.QX.Leading=Math.round(O)}if($)X.Sh.Justification=["LEFT","RIGHT","CENTER"].indexOf($);
var A=u.fillPaints,m=u.inheritFillStyleID;if(m){var i=fa.o5(C.f3,m);if(i)A=i.fillPaints}if(A&&A[0]){var e=fa.Pc(u,A[0],g,K,D,q,C);
if(e[0]=="SoCo"){var S=f.X.Ld(e[1].Clr.v);X.QX.FillColor={Type:1,Values:[1,S.w/255,S.A/255,S.U/255]};
fa.Py(e,w)}}};fa.Pc=function(u,g,K,X,w,D,q){var C=fa,a,x,H=u.size;if(g){var $=g.type,r=["GRADIENT_LINEAR","GRADIENT_RADIAL","GRADIENT_DIAMOND","GRADIENT_ANGULAR"].indexOf($);
if($=="SOLID"){a="SoCo";var c=g.color;x=JSON.parse(k8.QO[k8.order.indexOf("SoFi")]);x.Clr=C.$_(c)}else if(r!=-1){var U=JSON.parse(k8.QO[k8.order.indexOf("GrFl")]),O=U.Grad.v;
O.Intr.v=0;U.Type.v.GrdT=["Lnr","Rdl","Dmnd","Angl"][r];var A=[],m=g.stops;for(var P=0;P<m.length;P++){var i=m[P],e=i.color;
A.push([i.position,[e.r,e.g,e.b],e.a])}f.X.Ah(A,O);var S=C.vs(g.transform);S.CD();var E=S.clone();if(H)E.scale(H.x,H.y);
E.concat(K);var Z=new j4(0,.5),N=new j4(1,.5);Z=E.HB(Z);N=E.HB(N);if(!0){Z.x=N.x+.5*(Z.x-N.x);Z.y=N.y+.5*(Z.y-N.y)}f.X.N5(Z,N,X,U);
if(r==3){if(E._x*E.kR-E.U*E.nA<0)U.Rvrs.v=!U.Rvrs.v}a="GdFl";x=U}else if($=="IMAGE"){var U=JSON.parse(k8.QO[k8.order.indexOf("patternFill")]),J=g.image.dataBlob,y=q.a6N[J];
if(y==null){var o=C.KS(w,J);y=q.a6N[J]={};y.id=f0.AO()+"-d71c-11e5-b1ae-a548a96e5f9f";y.e4=[new Uint8Array(o.data),o.ZE];
y.name="someImage";D.q_(y)}var B=["FILL","FIT","STRETCH","TILE"].indexOf(g.imageScaleMode),S=C.vs(g.transform);
S.CD();var t=B==3?g.scale:1;bW.aw$(y,U,H.x,H.y,B,K,S,t);a="PtFl";x=U}else throw $;if(x)x.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(g.opacity*100)}}}else{a="None";
x={classID:"null",Clr:{t:"Objc",v:f.X.Gp({w:0,A:0,U:0})}}}return[a,x]};fa.KS=function(u,g){var K=u[g];
if(K.rslt)return K.rslt;var X=K.bytes.buffer,w=eH.jN(X),D=eH.IB(w);try{K.rslt=D.Tu(X)[0]}catch(fc){K.rslt={data:f.L(4),ZE:new dS(0,0,1,1)}}return K.rslt};
fa.Az=function(u,g,K){var X=u.type,w=u.size,D=u.cornerRadius,x;if(D==null)D=0;var q=w.x,C=w.y,a=[D,D,D,D],H=["rectangleTopLeftCornerRadius","rectangleTopRightCornerRadius","rectangleBottomRightCornerRadius","rectangleBottomLeftCornerRadius"];
for(var P=0;P<4;P++)if(u[H[P]]!=null)a[P]=u[H[P]];if(X=="RECTANGLE"||X=="ROUNDED_RECTANGLE"||X=="FRAME"){x=f.J.eQ.Rect(0,0,q,C,a)}else if(X=="ELLIPSE"){var $=u.arcData,r=$?$.startingAngle:0,c=$?$.endingAngle:2*Math.PI,U=$?$.innerRadius:0;
if(r==0&&c>1.999*Math.PI)x=f.J.eQ.tj(0,0,q,C,0);else x=f.J.eQ.a7F(q/2,C/2,C/2,r,c);if(U!=0&&U!=1){var O=l.tU.SL(x).slice(3);
O.reverse();for(var P=0;P<O.length;P++){var A=O[P],m=A.Rw;A.Rw=A.CL;A.CL=m}var i=new eV;i.translate(-q/2,-C/2);
i.scale(U,U);i.translate(q/2,C/2);f.J.Cg(O,i);x=x.concat(O);x[2].length*=2}}else if(X=="LINE"){x=f.J.eQ.Rect(0,0,q,C,0);
x.pop();x.pop();x[2].length=2}else if(X=="STAR"){x=f.J.eQ.p8(q/2,C/2,q/2,2*Math.PI*(1/4),5,0,u.starInnerScale)}else if(X=="REGULAR_POLYGON"){x=f.J.eQ.gf(.5,.5,.5,Math.PI/2,u.count,0);
var e=new eV;e.scale(q,C);f.J.Cg(x,e)}else if(X=="BOOLEAN_OPERATION"){x=[{type:6},{type:8,all:0}];var S=u.children,E=["XOR","UNION","SUBTRACT","INTERSECT"].indexOf(u.booleanOperation);
if(E==-1)throw u;if(S==null)S=[];for(var P=0;P<S.length;P++){var Z=S[P],N=new l.tU,J=fa.Az(Z,g,N);if(N._==null)continue;
f.J.Cg(N._,fa.vs(Z.transform));x=x.concat(N._.slice(2))}for(var P=3;P<x.length;P++)if(x[P].yk!=null)x[P].yk=E}else if(X=="VECTOR"){var y,o,M=3;
if(!0){var B=u.vectorData;if(B==null)return;y=B.normalizedSize;o=B.vectorNetworkBlob}var t=g[o].bytes,W=new Uint32Array(t.buffer),F=new Float32Array(t.buffer),G=W[0],L=W[1],Q=W[2],T=[],j=[],p=[],n=M+G*3,d=n+L*7;
for(var P=0;P<G;P++){var V=M+P*3,z=new j4(F[V+1],F[V+2]);T.push(z)}for(var P=0;P<L;P++){var I=n+P*7;
j.push([W[I+0],W[I+1],F[I+2],F[I+3],W[I+4],F[I+5],F[I+6]])}for(var P=0;P<Q;P++){var v=W[d+1],gj=p[P]=[];
d+=2;for(var jA=0;jA<v;jA++){var Y=W[d++],jv=gj[jA]=[];for(var iR=0;iR<Y;iR++)jv[iR]=W[d+iR];d+=Y}}if(d!=W.length)throw"e";
if(Q==0){var cj=-1;for(var P=0;P<L;P++){if(cj==-1){}else{var j8=-1;for(var jA=P;jA<L;jA++)if(j[jA][4]==cj)j8=jA;
for(var jA=P;jA<L;jA++)if(j[jA][1]==cj)j8=jA;if(j8!=-1){var as=0,m=j[j8];j[j8]=j[P];j[P]=m;if(m[1]!=cj){as=m[1];
m[1]=m[4];m[4]=as;as=m[2];m[2]=m[5];m[5]=as;as=m[3];m[3]=m[6];m[6]=as}}}cj=j[P][4]}p.push([[]]);for(var P=0;
P<L;P++)p[0][0].push(P)}var gW=[],af=[];for(var at=0;at<p.length;at++){for(var jd=0;jd<p[at].length;
jd++){var fM=p[at][jd],hS=0;if(fM.length>1){var dr=j[fM[0]],cB=j[fM[1]];hS=dr[4]==cB[1]?1:0}for(var P=0;
P<fM.length;P++){var b1=j[fM[P]],ic=1,dV=4;if(hS==0){ic=4;dV=1}var eS=T[b1[ic]],a2=T[b1[dV]];if(P==0){af.push("M");
gW.push(eS.x,eS.y)}af.push("C");gW.push(eS.x+b1[ic+1],eS.y+b1[ic+2],a2.x+b1[dV+1],a2.y+b1[dV+2],a2.x,a2.y)}}}x=f.p.Ic({v:gW,F:af},!1);
if(D!=0){var a=[],d3=x[2].length;for(var P=0;P<d3;P++)a.push(D);if(f.J.zf(x))f.J.LY(x,2,a)}var cE=new eV;
cE.scale(y.x==0?1:w.x/y.x,y.y==0?1:w.y/y.y);f.J.Cg(x,cE)}K._=x};fa.o5=function(u,g){return u[g.sessionID+","+g.localID]};
fa.ab0=function(u,g){return u.sessionID==g.sessionID&&u.localID==g.localID};fa.avc=function(u){var g={NORMAL:"norm",MULTIPLY:"mul ",SCREEN:"scrn",COLOR_DODGE:"div ",COLOR_BURN:"idiv",HARD_LIGHT:"hLit",DARKEN:"dark",LUMINOSITY:"lum ",OVERLAY:"over"}[u];
if(g==null)throw u;return g};fa.$_=function(u){return{t:"Objc",v:f.X.Gp({w:u.r*255,A:u.g*255,U:u.b*255})}};
fa.vs=function(u){var g=[u.m00,u.m10,u.m01,u.m11,u.m02,u.m12];for(var P=0;P<6;P++)if(Math.abs(g[P])<1e-20)g[P]=0;
return new eV(g[0],g[1],g[2],g[3],g[4],g[5])};function h2(){}h2.h7=function(){var u=k.u6;function g(c,U,O,A){var m=A?[]:{};
while(U<c.length-1&&c[U]!=125){var i=u(c,U,3),e=u(c,U+3,1),S;U+=4;U++;if(e=="v"){var E=g(c,U,O+1,i=="ELM"||i=="TIL");
S=E.h;U=E.u}else if(e=="i"||e=="f"){var Z=U;while(c[Z]!=125)Z++;var N=u(c,U,Z-U);S=e=="i"?parseInt(N,16):parseFloat(N);
U=Z+1}else if(e=="s"){var J=k.Z_(c,U),N="";U+=2;for(var P=0;P<J;P++)N+=String.fromCharCode(c[U+2*P+1]);
S=N;U=U+2*J+1}else if(e=="b"){S=c[U]==49;U=U+2}else throw"e";if(A)m.push([i,S]);else if(m[i]==null)m[i]=S;
else{if(!(m[i]instanceof Array))m[i]=[m[i]];m[i].push(S)}}U++;return{h:m,u:U}}function K(c,U){var O=X(c).slice(1),c=U.Clr.v;
c.Rd.v=O[0]*255;c.Grn.v=O[1]*255;c.Bl.v=O[2]*255}function X(c){return[(c>>>24&255)/255,(c>>>16&255)/255,(c>>>8&255)/255,(c>>>0&255)/255]}function w(c,U){var O=U&4278190080|(U&255)<<16|(U>>>8&255)<<8|U>>>16&255;
new Uint32Array(c.buffer).fill(O)}function D(c,U){var O=c.TSZ,A=c.WPX,m=c.HPX,i=c.TIL,e=new dS(0,0,A,m),S=f.L(A*m*4),E=0;
for(var Z=0;Z<m;Z+=O)for(var N=0;N<A;N+=O){var J=new dS(N,Z,O,O),y,o=i[E];if(o[0]=="TMC"){y=f.L(J.$()*4);
w(y,o[1])}else if(o[0]=="TID"){y=U[o[1]]}f.bV(y,J,S,e);E++}return[S,e]}function q(c,U){c=new Uint8Array(c);
var O=8,A,m={},L=0;while(O<c.length){var i=k.r(c,O);O+=4;var e=u(c,O,4);O+=4;if(e=="mkTS"){var S=pako.inflate(c.slice(O,O+i)),E=g(S,0,0);
A=E.h}else if(e=="mkBT"){var Z=k.r(c,O+4),N=k.r(c,O+8),S=pako.inflate(c.slice(O+76,O+i));if(N==0)for(var P=0;
P<S.length;P+=4){var J=S[P],y=S[P+1],o=S[P+2],B=S[P+3];S[P+3]=J;S[P+2]=B;S[P+1]=o;S[P]=y}else{var t=f.L(S.length*4);
t.fill(255);f.qM(S,t);S=t}m[Z]=S}O+=i+4}var W=A.PDC,F=W?W instanceof Array?W:[W]:[A.MKB],G=new dS;for(var P=0;
P<F.length;P++){var Q=F[P];G=G.RN(new dS(0,L,Q.WID,Q.HIT));L+=Q.HIT+100}U.m=G.m;U.n=G.n;U.buffer=f.L(G.$()*4);
U.DX(F.length);L=0;for(var T=0;T<F.length;T++){U.g.push(U.z1());var Q=F[T],j=Q.WID,p=Q.HIT,M=Q.BGC,n=(Q.LYL?Q:A).LYL.LAY,z=3;
for(var P=0;P<n.length;P++)a(n[P],U,null,m,new eV(1,0,0,1,-Q.XLC,-Q.YLC+L));var d=U.Wk();U.g.push(d);
var V=new dS(0,L,j,p);L+=p+100;d.ab(V);if(M>>>24!=0){var I=f.X.Gp({w:M>>>16&255,A:M>>>8&255,U:M>>>0&255});
d.add.artb.Clr={t:"Objc",v:I};z=4}d.add.artb.artboardBackgroundType.v=z;d.Q9(Q.PGN?Q.PGN:"Page "+(T+1));
d.add.lsct=g4.Ab;d.wS="pass";d.R3=24}}function C(c,U,O){var A=c[U];return A instanceof Array?A[O]:A}function a(c,U,O,A,m){var i=U.Wk();
if(c.VIS!=null)i.H4(c.VIS);if(c.VIF!=null)i.H4(c.VIF.VIS);if(c.OPA!=null)i.opacity=Math.round(255*c.OPA/1e3);
i.wS=c.CLL||O=="GRP"?"pass":"norm";if(c.BLD!=null){var e=c.BLD,S={"0":"norm","2":"mul ","4":"over","5":"scrn","7":"diss","9":"dark","10":"lite","37":"idiv","30":"norm","39":"lbrn","41":"vLit"}[e+""];
if(S==null)console.log(c.OBN,e);else i.wS=S;if(e==30)i.opacity>>>=1}if(c.CLL){i.Q9(c.LNM);U.g.push(U.z1());
var E=c.CLL.CEL;if(E.length==null)E=[E];for(var Z=E.length-1;Z>=0;Z--){var N=E[Z].ELM;for(var P=N.length-1;
P>=0;P--)a(N[P][1],U,N[P][0],A,m)}i.add.lsct=c.DIS?g4.DM:g4.Ab;i.R3|=24}else if(O=="GRP"){var J=i.add.lmfx=H(c.EFL),y;
U.g.push(U.z1());var N=c.ELM;if(c.MNA){y=N[0][1];N=N.slice(1)}i.Q9("Group: "+N.length+" objects");for(var P=N.length-1;
P>=0;P--)a(N[P][1],U,N[P][0],A,m);if(y){if(c.MRX){var o=D(y,A),B=i.B=new l.I2;B.rect=o[1].clone();B.rect.x=y.XLC;
B.rect.y=y.YLC+m.ic;B.channel=f.L(B.rect.$());f.hk(o[0],B.channel,0);f.CD(B.channel)}else{x(i,y,m);i.LP();
i.th(U)}}i.add.lsct=g4.Ab;i.R3|=24}else if(O=="IMG"){i.Q9(c.OBN?c.OBN:"Bitmap");var o=D(c,A);i.rect=o[1].clone();
i.rect.x=c.XLC;i.rect.y=c.YLC+m.ic;i.buffer=o[0]}else if(O=="TXT"){var t=c.TFS,W=t.TRN instanceof Array?t.TRN.length:1,Q="",T="Arial",j=20,p=0;
i.add.lnsr="rend";i.add.TySh=fS.t5(0,0);i.add.TySh.kI=new dS(0,0,100,100);var F=new eV(1,0,0,1,c.LFT,c.TOP);
if(c.MTX){var G=c.MTX,B=new eV(G.M00,G.M01,G.M10,G.M11,G.M20,G.M21);F.concat(B)}F.concat(m);i.add.TySh.D=F;
var L=i.add.TySh.Fd;for(var P=0;P<W;P++){var M=C(t,"TRN",P);if(M==null)continue;M=M.replaceAll("\x18","'").replaceAll("\x19","'").replaceAll("\x1C","'").replaceAll("\x1D","'");
fS.G4(L,Q.length,M);var n=fS.pP(L,0,1),d=C(t,"FON",P);if(d)T=d;fS.rt(n,T);var V=C(t,"PTS",P);if(V!=null)j=V;
n.QX.FontSize=Math.round(j);var z=C(t,"FCL",P);if(z!=null)p=z;n.QX.FillColor={Type:1,Values:X(p)};fS.xm(L,Q.length,Q.length+M.length,n);
Q+=M}i.Q9(Q.slice(0,255));var I=c.RIT-c.LFT,v=c.BOT-c.TOP;if(c.IMG){a(c.IMG,U,"IMG",A,m);var gj=U.g.pop();
i.buffer=gj.buffer;i.rect=gj.rect.clone()}fS.YM(L,1);fS.N2(L,[0,0,I,v])}else if(O=="PTH"){i.Q9(c.OBN?c.OBN:"Path");
i.R3|=16;var jA=!1;x(i,c,m);var Y=i.add.vmsk,jv=i.add.vstk,iR=f.J.Xh(Y._),cj=c.PAT,j8=cj.BPL,as=cj.FPL,gW=cj.TXF;
if(as&&as.FEF)Y.Lp+=as.FEF/2.4;if(j8){var af=j8.CAT;jv.strokeEnabled.v=!0;jv.strokeStyleLineWidth.v.val=j8.BDI;
jv.strokeStyleLineAlignment.v.strokeStyleLineAlignment=k8.Sq.kM[c.BRP];K(cj.BCL,jv.strokeStyleContent.v);
if(af!="bc_Basic"&&af!="bc_Pencil")jA=!0}if(as==null){jv.fillEnabled.v=!1;i.add.SoCo=JSON.parse(k8.QO[k8.order.indexOf("SoFi")]);
K(0,i.add.SoCo)}else if(as.CAT=="fc_Solid"){i.add.SoCo=JSON.parse(k8.QO[k8.order.indexOf("SoFi")]);K(c.PAT.FCL,i.add.SoCo)}else if(as.CAT=="fc_Linear"||as.CAT=="fc_Circular"||as.CAT=="fc_Elliptical"){var at=as.CAT=="fc_Linear",jd=i.add.GdFl=JSON.parse(k8.QO[k8.order.indexOf("GrFl")]),fM=jd.Grad.v,hS=[],dr=as.FGL,cB,b1=[];
if(dr.FGY){var ic=dr.FGY,cB=ic.FG0.FGI,b1=ic.FG1.FGI}else cB=dr.FGV.FGI;for(var P=0;P<cB.length;P++){var dV=cB[P],eS=X(dV.FGC),a2=1;
if(b1.length==cB.length)a2=X(b1[P].FGC)[0];hS.push([dV.FGP,eS.slice(1),a2])}jd.Type.v.GrdT=at?"Lnr":"Rdl";
f.X.Ah(hS,fM);fM.Intr.v=0;var d3=c.PRI?c.PRI:c,cE=new j4(d3.PSX,d3.PSY),eP=new j4(d3.PEX,d3.PEY);if(as.CAT=="fc_Elliptical"&&d3.PFX!=null){var jm=new j4(d3.PFX,d3.PFY),bD=j4.uh(cE,eP),f1=j4.uh(cE,jm);
if(f1<bD){var ft=bD;bD=f1;f1=ft}eP=new j4(cE.x+(bD+f1)/2,cE.y);if(bD/f1<.5)jA=!0}if(at){cE.x=(cE.x+eP.x)/2;
cE.y=(cE.y+eP.y)/2}f.X.N5(cE,eP,iR,jd)}else console.log(as.CAT);var J=i.add.lmfx=H(c.EFL,Y);if(as&&as.FTB!=0&&gW){var o=D(gW.MSK,A),ie={};
ie.id=f0.AO()+"-d71c-11e5-b1ae-a548a96e5f9f";ie.name="someImage";ie.e4=o;U.q_(ie);var b2=o[0];for(var P=0;
P<b2.length;P+=4){b2[P+3]=255-b2[P];b2[P]=b2[P+1]=b2[P+2]=255}var jd=JSON.parse(k8.QO[k8.order.indexOf("patternFill")]);
jd.Opct.v.val=Math.round(as.FTB/10);jd.Algn.v=!0;jd.Ptrn.v.Idnt.v=ie.id;J.patternFillMulti.v.unshift({t:"Objc",v:jd})}if(jA&&c.IMG){a(c.IMG,U,"IMG",A,m);
var dh=U.g[U.g.length-1];dh.opacity=i.opacity;return}i.LP();i.th(U)}else if(O=="URL")return;else{console.log("unknown layer type",O,c);
i.Q9("Layer")}U.g.push(i)}function x(c,U,O){if(U.PBL==null)return;var A=c.add.vmsk=new l.tU,m=c.add.vstk=JSON.parse(JSON.stringify(k8.Sq.default)),i=U.PBL.PBP;
if(!(i instanceof Array))i=[i];for(var e=0;e<i.length;e++){var S=i[e].PBT;if(S==null)continue;if(!(S instanceof Array))S=[S];
var E=i[e].ISC?0:3;A._.push({type:E,length:S.length,yk:0,VB:2,MO:0,TY:0});for(var P=0;P<S.length;P++){var Z=S[P],N=Z.XLC,J=Z.YLC,y=[N,J,N,J,N,J],o="XPC YPC XLC YLC XSC YSC".split(" ");
for(var B=0;B<6;B++){var t=o[B],W=Z[t];if(W!=null)y[B]=W}A._.push({type:E+2,G:new j4(N,J),Rw:new j4(y[0],y[1]),CL:new j4(y[4],y[5])})}}f.J.Cg(A._,O)}function H(c,U){var O=JSON.parse(k8.default);
for(var P=0;P<k8.order.length;P++)O[k8.pg[P]]={t:"VlLs",v:[]};if(c==null)return O;var A=c.EPS;if(!(A instanceof Array))A=[A];
for(var P=0;P<A.length;P++){var m=A[P].DCE,i={};for(var e=0;e<m.length;e++)i[m[e].DCK]=m[e].DCV;if(i.EffectIsVisible=="false")continue;
var S=i.mkbFile_WriteOnly_TemporaryEffectUiName;if(S=="Gaussian Blur..."&&U){U.Lp+=parseFloat(i.gaussian_blur_radius);
continue}var E=["Drop Shadow","Inner Bevel","Inner Glow","Glow"].indexOf(S);if(E==-1){continue}var Z=["DrSh","ebbl","IrGl","OrGl"][E],N=k8.pg[k8.order.indexOf(Z)],J=JSON.parse(k8.QO[k8.order.indexOf(Z)]);
O[N].v.unshift({t:"Objc",v:J});if(Z=="DrSh"){J.uglg.v=!1;$(i,"ShadowDistance",J,"Dstn");$(i,"ShadowBlur",J,"blur");
$(i,"ShadowAngle",J,"lagl",180);J.Opct.v.val=100;r(i,"ShadowColor",J,"Clr")}if(Z=="IrGl"){J.Md.v.BlnM="Nrml";
var y=i.MaskSoftness,o=i.GlowWidth;if(y&&o){y=parseInt(y);o=parseInt(o);J.blur.v.val=o+y;J.Ckmt.v.val=Math.round(100*o/(o+y))}$(i,"BevelContrast",J,"Opct");
r(i,"OuterBevelColor",J,"Clr")}if(Z=="OrGl"){J.Md.v.BlnM="Nrml";var y=i.MaskSoftness,o=i.GlowWidth;if(y&&o){y=parseInt(y);
o=parseInt(o);J.blur.v.val=o+y}$(i,"BevelContrast",J,"Opct");r(i,"OuterBevelColor",J,"Clr")}if(Z=="ebbl"){J.uglg.v=!1;
$(i,"BevelWidth",J,"blur");$(i,"AngleSoftness",J,"Sftn");$(i,"BevelContrast",J,"srgR");$(i,"LightAngle",J,"lagl")}}return O}function $(c,U,O,A,m){var i=c[U];
if(m==null)m=0;if(i)O[A].v.val=parseInt(i)+m}function r(c,U,O,A){var m=c[U];if(m){m=m.slice(1);if(m.length==6)m=m+"ff";
if(m.length!=8)throw"e";var i=X(parseInt(m,16)),e=O[A].v;e.Rd.v=i[0]*255;e.Grn.v=i[1]*255;e.Bl.v=i[2]*255;
O.Opct.v.val=Math.round(O.Opct.v.val/100*i[3]*100)}}return q}();function hI(){}hI.h7=function(){function u(o,B){var t=!1,W=Date.now(),F=i(o,t),cB=1;
if(t)console.log("part found",Date.now()-W);W=Date.now();var G=m(F),L=G.Layer,Q=G.Header;if(t)console.log(G);
var T=L[0];T=G.Layer[0];if(t)console.log("document parsed",Date.now()-W);W=Date.now();G.Setup.Gradient=A(G.Setup.Gradient,F);
if(t)console.log("grads loaded",Date.now()-W);W=Date.now();G.Setup.Pattern=O(G.Setup.Pattern,F);if(t)console.log("patts loaded",Date.now()-W);
W=Date.now();G.Setup.DocumentData=U(G.Setup.DocumentData,F).pop();if(t)console.log("docdata loaded",Date.now()-W);
W=Date.now();G.Setup.SVGFilter=U(G.Setup.SVGFilter,F);if(t)console.log("svgfilter loaded",Date.now()-W);
W=Date.now();var j=Q.Cropmarks,p=Q.BoundingBox.split(" ").map(parseFloat),M=Q.ArtSize?Q.ArtSize.split(" ").map(parseFloat):[p[2]-p[0],p[3]-p[1]];
B.m=Math.round(M[0]);B.n=Math.round(M[1]);var n=[1,0,0,1,-p[0]+(B.m-(p[2]-p[0]))/2,-p[1]+(B.n-(p[3]-p[1]))/2];
n[3]=-1;n[5]=B.n-n[5];if(j){j=j.split(" ").map(parseFloat);B.m=Math.round(j[2]-j[0]);B.n=Math.round(j[3]-j[1]);
n=[1,0,0,-1,-j[0],B.n+j[1]]}var d=G.Setup.DocumentData;if(d&&d[0]&&d[0].ArtboardArray){var V=d[0].ArtboardArray;
if(V.length!=1)console.log(V.length,"artboards");var z=new dS;for(var P=0;P<V.length;P++){var I=V[P],v=I.PositionPoint1,gj=I.PositionPoint2,jA=v[0],Y=Math.min(v[1],gj[1]),jv=gj[0],iR=Math.max(v[1],gj[1]);
z=z.RN(new dS(jA,Y,jv-jA,iR-Y))}B.m=Math.round(z.m);B.n=Math.round(z.n);n[4]=-z.x;n[5]=z.y+B.n}if(d&&d[0]&&d[0]["#document"]){var cj=d[0]["#document"],j8=cj["xmlnode-children"][0];
if(j8&&j8["xmlnode-children"])j8=j8["xmlnode-children"][0];if(j8["xmlnode-nodename"]=="variableSets"){var as=j8["xmlnode-children"][0]["xmlnode-children"],gW=as[0],af=as[1],at=y(gW);
B.dI=gr.E5("<variableSets><variableSet>"+at+"</variableSet></variableSets>");if(af){var jd=y(af),fM=B.h8=gr.hd(jd);
for(var P=0;P<fM.length;P++)for(var hS=0;hS<fM[P].length;hS++)fM[P][hS]=fM[P][hS].trim()}}}var dr=Math.max(B.m,B.n);
while(dr*cB<1200)cB++;while(dr*cB>6e3)cB*=.5;B.m=Math.round(B.m*cB);B.n=Math.round(B.n*cB);B.wY=Math.round(72*cB);
B.buffer=f.L(B.m*B.n*4);for(var P=0;P<6;P++)n[P]*=cB;for(var b1=0;b1<L.length;b1++){var ic=L[b1];ic.Raster=g(ic);
var dV=r(F,ic);K(B,dV,n,G,ic,F)}if(t)console.log("layers created",Date.now()-W);W=Date.now()}function g(o){var B=o.Layer,t=o.Raster;
if(t==null)t=[];if(B){for(var P=0;P<B.length;P++){var W=B[P],F=W.Raster=g(W);t=t.concat(F)}t.sort(function(G,L){return G._begin-L._begin})}return t}function K(o,B,t,W,F,G){var L="",Q=0,T="",j=!1,p=UDOC.G,M=UDOC.getState(),n="norm",d=1,V="SoCo",v=!1,gj=0,Y=null,jv=!1,iR=0,cj=null,j8,as,gW=0,af=0,at=0,hS=0,dr=!1;
M.ctm=t;var z=[0,0,0],I=[0,0,0],jA=[],jd=[],fM=[];for(var cB=0;cB<B.length;cB++){var b1=B[cB],a2=1e9;
if(b1[0]=="%"){if(b1=="%_/ArtDictionary :"&&iR==0)Y=[b1.slice(2)];else if(Y!=null){if(b1=="%_"&&iR==0){var ic=E(Y)[0],dV=ic.AI10_ArtUID;
if(dV&&!dV.startsWith("XMLID"))o.g[o.g.length-1].Q9(N(dV));Y=null}else{Y.push(b1.slice(jv?1:2));if(b1=="%_X=")iR++;
if(b1=="%_X+")iR--;if(b1=="%_/Binary : /ASCII85Decode ,")jv=!0;if(jv&&b1.endsWith("~>"))jv=!1}}else if(cj){j8+=(j8==""?"":" ")+b1.slice(2);
if(j8.endsWith("X#")){cj.push(j8.slice(0,j8.length-3));j8=""}}continue}else if(b1=="/Mesh X!"){cj=[];
j8="";continue}else if(b1=="/End X!"){X(cj,M,o);cj=null;continue}var eS="Xa XR m l c f U u *U w J j M d".split(" "),d3=-1,cE=b1.indexOf("(")!=-1;
for(var P=0;P<eS.length;P++){var eP=b1.indexOf(" "+eS[P]+" ");if(eP!=-1&&eP<a2&&!cE){a2=eP;d3=P}}if(d3!=-1){j=!0;
var jm=a2+1+eS[d3].length;B[cB]=b1.slice(0,jm);var bD=B[cB+1];if(bD==null||bD[0]=="%"||d3>9)B.splice(cB+1,0,b1.slice(jm));
else B[cB+1]=(b1.slice(jm)+" "+bD).replace(/\s\s+/g," ");cB--;continue}b1=b1.trim();var f1=b1.split(" "),ft=f1[f1.length-1],ie=ft.toLowerCase(),b2=f1.map(parseFloat);
if(ft=="m")p.moveTo(M,b2[0],b2[1]);else if(ft=="L"||ft=="l")p.lineTo(M,b2[0],b2[1]);else if(ft=="V"||ft=="v"||ft=="Y"||ft=="y")p.quadCurveTo(M,b2[0],b2[1],b2[2],b2[3]);
else if(ft=="C"||ft=="c")p.curveTo(M,b2[0],b2[1],b2[2],b2[3],b2[4],b2[5]);else if(ft=="H"||ft=="h"){if(ft==ie)p.closePath(M);
jA.push(JSON.parse(JSON.stringify(M.pth)))}else if(ft=="Xy"){n=["norm","mul ","scrn","over","sLit"][b2[0]];
d=b2[1];if(n==null){n="norm";console.log("unknown blend mode",b2[0])}}else if(ft=="Xd"){var dh=o.g[o.g.length-1];
dh.opacity=Math.round(255*d);dh.wS=dh.xp()&&n=="norm"?"pass":n}else if(ft=="AE")gW=b2[0];else if(ft=="Ae")af=b2[0];
else if(ft=="Xw")at=b2[0];else if(ft=="*"){var aY=M.pth.crds,eF=M.ctm,eP=aY[0]==aY[2]?0:1;o.m_.push([eP,aY[eP]]);
p.newPath(M)}else if(ft=="XN")as=b1.split(" ")[0];else if(ft=="XI"){var de=F.Raster,i5,eA;if(de==null||de.length==0){console.log("no Raster");
continue}if(b1!="XI"){continue}else{var c4=de[Q++].Data,jC=c4._begin,hd=c4._end;while(G[jC]!=88)jC++;
jC+=3;i5=G.slice(jC,hd);eA=B[cB-2].split(" ").map(parseFloat)}var iG=eA.slice(8),cC=iG[2],cL=iG[3],dw=cC*cL,eY=f.L(dw*4);
eY.fill(255);var cf=iG[7],d7=iG[8],hs=iG[6],hz=Math.ceil(cC*cf*hs/8);if(cf==1){if(hs==8)for(var P=0;
P<dw;P++)for(var bx=0;bx<3;bx++)eY[4*P+bx]=i5[P];else if(hs==1)for(var dO=0;dO<cL;dO++)for(var hN=0;
hN<cC;hN++)for(var bx=0;bx<3;bx++)eY[4*(dO*cC+hN)+bx]=255*(i5[dO*hz+(hN>>>3)]>>>7-(hN&7)&1);else throw hs}else if(cf==3)for(var P=0;
P<dw;P++)for(var bx=0;bx<3;bx++)eY[4*P+bx]=i5[3*P+bx];else if(cf==4||cf==5)for(var P=0;P<dw;P++){var jn=x([i5[cf*P+0]/255,i5[cf*P+1]/255,i5[cf*P+2]/255,i5[cf*P+3]/255]);
eY[4*P+0]=jn[0]*255;eY[4*P+1]=jn[1]*255;eY[4*P+2]=jn[2]*255}else if(cf==7)for(var P=0;P<dw;P++){eY[4*P+0]=i5[cf*P+0];
eY[4*P+1]=i5[cf*P+1];eY[4*P+2]=i5[cf*P+2]}else console.log("unknown number of channels",cf);if(d7==1){var iP=cL*hz;
for(var P=0;P<dw;P++)eY[4*P+3]=i5[iP+P]}var io=f.AE(eY,cC,cL)?"JPG":"PNG";if(cC*cL<700*700)io="PNG";
var jD=eH.IB(io).si([[eY.buffer]],cC,cL),dg=o.Sw(new Uint8Array(jD),"<Image>",0,0);o.g.push(dg);dg.wS=n;
dg.opacity=Math.round(255*d);dg.H4(at==0);var t=new eV;t.scale(1,-1);t.concat(a(eA.slice(1)));t.concat(a(M.ctm));
var j1=dg.rect.clone();j1.x=j1.y=0;var f1=f.p.JS(j1).v;f.p.D(f1,t,f1);dg.add.SoLd.Trnf=R.S.c2(f1);dg.add.SoLd.nonAffineTransform=R.S.c2(f1);
dg.Qu(o,!1)}else if(ft=="Ln"){L=D(b1)}else if(ft=="u"||ft=="q"||ft=="Lb"){jd.push(af==1);fM.push((ft=="Lb"?1-b2[0]:at)==0);
if(v)continue;o.g.push(o.z1())}else if(ft=="U"||ft=="Q"||ft=="LB"){if(jd.length==0||fM.length==0)throw cB;
var iO=jd.pop(),ck=fM.pop();if(ft=="LB")iO=gW==1;if(v)continue;var dg=o.Wk();dg.Q9((ft=="U"?"<Group>":"<Clip Group>")+T);
if(ft=="LB")dg.Q9(L);if(ft=="Q"&&jA.length!=0){var cZ=jA.pop(),bY=UDOC.G.isBox(cZ,[0,0,o.m,o.n]);if(!bY)H(dg,cZ,o)}dg.add.lsct=iO?g4.DM:g4.Ab;
dg.wS="pass";dg.R3=24;dg.H4(ck);o.g.push(dg);if(dr){if(o.g[o.g.length-3].getName()=="</Layer group>"){o.g.pop();
o.g.splice(o.g.length-2,1)}dr=!1}}else if(ft=="Bb"||ft=="Bh"||ft=="BB"){}else if(ft=="Bg"){var ke=W.Setup.Gradient,bQ=ke[D(b1)];
if(bQ==null){for(var jh in ke){bQ=ke[jh];break}}V="GdFl";z=w(bQ.rM,bQ.a5t)}else if(ft=="Bm"||ft=="Xm"){var hk=z.Type.v.GrdT;
if(hk=="Lnr"&&ft!="Xm"||hk=="Rdl"&&ft!="Bm")continue;var c8=new j4(0,0),bM=new j4(1,0),dE=new eV;dE.concat(a(b2));
dE.concat(a(M.ctm));c8=dE.HB(c8);bM=dE.HB(bM);var h3=f.p.pj(M.pth.crds);if(h3.fg())h3=f.p.pj([c8.x,c8.y,bM.x,bM.y]);
if(hk=="Lnr"){c8.x=(c8.x+bM.x)/2;c8.y=(c8.y+bM.y)/2}f.X.N5(c8,bM,h3,z)}else if(ft=="p"){var eL=D(b1),hX=W.Setup.Pattern[eL];
if(hX.raw==null){var h3=hX.Au,cC=Math.round(h3[2]-h3[0]),cL=Math.round(h3[3]-h3[1]),ic=new f0;ic.m=cC;
ic.n=cL;ic.buffer=f.L(cC*cL*4);K(ic,hX.p7,[1,0,0,-1,-hX.Au[0],cL+hX.Au[1]],W,F,G);hX.raw=new Uint8Array(eH.IB("PSD").si(ic))}var hm=b1.slice(b1.indexOf(")")+2),c7=hm.slice(0,hm.indexOf("[")-1).split(" ").map(parseFloat),jS=hm.slice(hm.indexOf("[")+1,hm.indexOf("]")).split(" ").map(parseFloat);
V="patt";z=[eL,c7,jS]}else if(ft=="J"||ft=="j"||ft=="w"||ft=="M"||ft=="d"){for(var P=1;P<f1.length;P++){var fW=f1[P],aR=b2[P-1];
if(fW=="w")M.lwidth=aR;if(fW=="j")M.ljoin=aR;if(fW=="J")M.lcap=aR;if(fW=="d"){var jV=b1.slice(b1.indexOf("[")+1,b1.indexOf("]")).trim();
if(jV.length!=0){var gx=jV.split(" ").map(parseFloat);M.dash=gx}}}}else if(ie=="xa"||ie=="xx"){var h5=b2[4]==null?b2.slice(0,3):[b2[4],b2[5],b2[6]];
if(ie=="xx"&&b2[b2.length-2]==2)h5=x(b2);V="SoCo";if(ft=="Xa"||ft=="Xx")z=h5;else I=h5}else if(ie=="xk"){var h5,iV=b2[b2.length-2],cd=b2[b2.length-3];
if(iV==0)h5=x(b2);else if(iV==1){h5=[b2[4],b2[5],b2[6]];for(var P=0;P<3;P++)h5[P]=cd*1+(1-cd)*h5[P]}else throw b1;
V="SoCo";if(ft=="Xk")z=h5;else I=h5}else if(ie=="k"||ie=="x"){if(ie=="x"){b2.pop();var jE=1-b2.pop();
for(var P=0;P<4;P++)b2[P]*=jE}var h5=x(b2);V="SoCo";if(ft==ie)z=h5;else I=h5}else if(ie=="g"){var h5=[b2[0],b2[0],b2[0]];
V="SoCo";if(ft==ie)z=h5;else I=h5}else if(ie=="n"){if(!v)p.newPath(M)}else if(ft=="*u"){v=!0;gj=0}else if(ft=="*U"||ie=="s"||ie=="f"||ie=="b"){if(ft!="*U"&&v){if(ie=="f"||ie=="b")gj|=1;
if(ie=="s"||ie=="b")gj|=2;continue}if(ft==ie)p.closePath(M);if(ft=="*U"){v=!1}var dg;if(V=="patt"){var hX=W.Setup.Pattern[z[0]];
dg=o.Sw(hX.raw,"<Pattern>",0,0);var j1=dg.rect.clone();j1.x=j1.y=0;var f1=f.p.JS(j1).v,jS=a(z[2]);jS.OR=jS.ic=0;
f.p.D(f1,jS,f1);dg.add.SoLd.Trnf=R.S.c2(f1);dg.add.SoLd.nonAffineTransform=R.S.c2(f1);dg.Qu(o,!1)}else{dg=o.Wk();
dg.R3|=16;var cq=dg.add.vstk=JSON.parse(JSON.stringify(k8.Sq.default));cq.strokeEnabled.v=cq.fillEnabled.v=!1;
if(V=="SoCo"){dg.add.SoCo=JSON.parse(k8.QO[k8.order.indexOf("SoFi")]);var es=dg.add.SoCo.Clr.v;q(es,z)}if(V=="GdFl")dg.add.GdFl=z;
if(ie=="f"||ie=="b"||ft=="*U"&&gj&1)cq.fillEnabled.v=!0;if(ie=="s"||ie=="b"||ft=="*U"&&gj&2)dq.lR(cq,M,1,dq.Cr(I))}dg.Q9("<"+(ft=="*U"?"Compound ":"")+"Path>"+T);
dg.wS=n;dg.opacity=Math.round(255*d);dg.H4(at==0);H(dg,M.pth,o);o.g.push(dg);p.newPath(M)}else if(ft==","&&f1[0]=="/XMLUID"){var dh=o.g[o.g.length-1];
for(var P=0;P<o.dI.length;P++)if("("+o.dI[P].docRef+")"==f1[2])o.dI[P].docRef="id('"+dh.add.lyid+"')"}else if(ft==","&&f1[1]=="/FreeUndo"){hS=b2[0]}else if(ft==","&&f1[1]=="/StoryIndex"){var cJ=W.Setup.TextDocument,gm=null;
if(!(cJ instanceof Array))cJ=W.Setup.TextDocument=c(cJ,G);var hB=cJ[0],bU=cJ[2];if(hB._DocumentResources)hB=cJ[0]=hi.a1g(hB);
else hi.agH(hB);var dg=o.Wk();dg.add.lnsr="rend";dg.add.TySh=fS.t5(0,0);var hg=b2[0];if(hS==1){for(var P=1;
P<60;P++){var bD=B[cB+P];if(bD.endsWith("/StoryIndex ,")){hg=parseFloat(bD.slice(2,bD.indexOf(" ")));
dr=!0;break}}hS=0}var fl=dH.a2J(hB),bl=dg.add.TySh.Fd=fl[hg];if(bl==null){console.log("text not found");
dr=!1;continue}dg.Q9(fS.PU(bl).slice(0,50));dg.wS=n;dg.opacity=Math.round(255*d);dg.H4(at==0);var jE=hB._1._1[hg]._1._0[0]._0;
jE=parseInt(jE.slice(1));var cn=hB._0._8._0,fX=cn[jE]._0;if(fX._0)gm=C(fX._0);else if(fX._1)gm=C(fX._1._0);
else gm=C(fX._2._2).slice(3);if(gm.length!=2){var h3=f.p.pj(gm);gm=[h3.x,h3.y];if(h3.$()!=0){fS.YM(bl,1);
fS.N2(bl,[0,0,Math.round(h3.m),Math.round(h3.n)])}}var dp=new eV,cW=new eV(1,0,0,1,gm[0],gm[1]),jH=new eV(1,0,0,1,-bU[0],-bU[1]),j2=a(M.ctm),dG=new eV;
if(fX._2&&fX._2._2){var t=C(fX._2._2);dG=new eV(t[0],t[1],t[2],t[3],t[4],t[5])}dp.concat(cW);dp.concat(dG);
dp.concat(jH);dp.scale(1,-1);dp.concat(j2);dg.add.TySh.D=dp;o.g.push(dg);o.Ey=!0}else if(j&&b2.length>3){var ac=!1;
for(var P=0;P<b2.length;P++)if(isNaN(b2[P]))ac=!0;if(!ac)B[cB+1]=(b1+" "+B[cB+1]).replace(/\s\s+/g," ")}}}function X(o,B,t){var W=UDOC.G,F=[],G=[],L="/DeviceGray",Q=1,T=[],j=1;
for(var p=0;p<o.length;p++){var M=o[p];if(M.endsWith(" /CS")){var n=M.indexOf("/NChannel"),d=M.indexOf("/Process");
if(M.startsWith("/DeviceRGB")){L="/DeviceRGB";Q=3}else if(M.startsWith("/DeviceGray")){L="/DeviceGray";
Q=1}else if(M.startsWith("/DeviceCMYK")){L="/DeviceCMYK";Q=4;T=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]]}else if(n!=-1){L="/DeviceCMYK";
Q=parseInt(M.slice(n-2,n-1));var V=1;for(var P=0;P<Q;P++){V=M.indexOf("[",V);T[Q-1-P]=M.slice(V+1,V+8).split(" ").map(parseFloat);
V++}}else if(d){L="/DeviceGray";Q=1}else throw M}else if(M[0]=="["){var z=M.indexOf("]"),I=M.slice(1,z).split(" ").map(parseFloat),v=M.slice(z+2),gj,jA,Y,jv,iR,cj;
if(v=="/Size"||v=="/P"||v=="/R")continue;if(v=="/S"||v=="/A"){gj=I[0];jA=I[1];Y=I[2];jv=I[3];iR=I[4];
cj=I[5]}else if(v=="/N"){var j8=Q+(j==1?0:1),as;gj=I[j8+0];jA=I[j8+1];Y=I[j8+2];jv=I[j8+3];iR=I[j8+5];
cj=I[j8+6];if(L=="/DeviceRGB")as=I.slice(0,3);else if(L=="/DeviceGray")as=[I[0],I[0],I[0]];else if(L=="/DeviceCMYK"){var gW=[0,0,0,0];
for(var P=0;P<Q;P++){var af=I[P],at=T[P];gW[0]+=af*at[0];gW[1]+=af*at[1];gW[2]+=af*at[2];gW[3]+=af*at[3]}as=x(gW)}else throw as;
as.push(I[Q]);G.push([as,gj,jA])}else throw v;F.push([v,iR,cj,gj,jA,Y,jv])}else if(M=="/E"){var jd=F.slice(0),fM=0;
for(var P=0;P<F.length;P++){var hS=F[P][0];if(hS=="/N"){fM++;continue}var dr=P,cB=P+1;while(F[cB][0]!="/N"&&cB<F.length)cB++;
if(fM==0||fM==3){for(var b1=0;b1<cB-dr;b1++)jd[dr+b1]=F[cB-1-b1]}else for(var b1=dr;b1<cB;b1++){var ic=jd[b1],dV=ic[1];
ic[1]=ic[5];ic[5]=dV;dV=ic[2];ic[2]=ic[6];ic[6]=dV}P=cB-1}F=[];for(var P=0;P<jd.length;P++){var ic=jd[P];
F.push(ic[1],ic[2],ic[3],ic[4],ic[5],ic[6])}var eS=F.length;W.moveTo(B,F[2],F[3]);for(var P=0;P<eS;P+=6){var Y=F[(P+4)%eS],jv=F[(P+5)%eS],iR=F[(P+6)%eS],cj=F[(P+7)%eS],gj=F[(P+8)%eS],jA=F[(P+9)%eS];
W.curveTo(B,Y,jv,iR,cj,gj,jA)}W.closePath(B);F=[]}else if(M.endsWith("/Version"))j=parseFloat(M[0])}var a2=t.Wk();
a2.R3|=16;a2.Q9("<Mesh>");var d3=a2.add.vstk=JSON.parse(JSON.stringify(k8.Sq.default));d3.strokeEnabled.v=!1;
if(G.length>=2){var cE=0,eP=0,jm=0;for(var P=0;P<G.length;P++)for(var b1=P+1;b1<G.length;b1++){var bD=G[P][0],f1=G[b1][0],ft=bD[0]-f1[0],ie=bD[1]-f1[1],b2=bD[2]-f1[2],dh=Math.sqrt(ft*ft+ie*ie+b2*b2);
if(dh>jm){jm=dh;cE=P;eP=b1}}var aY=G[cE],eF=G[eP],de=a2.add.GdFl=w(0,[[0,aY[0]],[1,eF[0]]]),i5=a(B.ctm),eA=i5.HB(new j4(aY[1],aY[2])),c4=i5.HB(new j4(eF[1],eF[2])),jC=f.p.pj(B.pth.crds);
eA.x=(eA.x+c4.x)/2;eA.y=(eA.y+c4.y)/2;f.X.N5(eA,c4,jC,de)}H(a2,B.pth,t);t.g.push(a2);W.newPath(B)}function w(o,B){var t=JSON.parse(k8.QO[k8.order.indexOf("GrFl")]),W=t.Grad.v;
W.Intr.v=0;t.Type.v.GrdT=["Lnr","Rdl"][o];f.X.Ah(B,W);return t}function D(o){return o.slice(o.indexOf("(")+1,o.indexOf(")"))}function q(o,B){o.Rd.v=B[0]*255;
o.Grn.v=B[1]*255;o.Bl.v=B[2]*255}function C(o){var B=[];for(var P=0;P<o.length;P++)B[P]=parseFloat(o[P].slice(1));
return B}function a(o){return new eV(o[0],o[1],o[2],o[3],o[4],o[5])}function x(o){return UDOC.C.cmykToRgb(o)}function H(o,B,t){o.add.vmsk=new l.tU;
if(B.crds.length!=0)o.add.vmsk._=$(B);o.LP();o.th(t)}function $(o){var B={v:o.crds,F:o.cmds},t=f.p.Ic(B,!1);
return t}function r(o,B){var t=[B._begin],W=B._end-B._begin,F=W,G=B.Raster,p=0;if(G){for(var P=0;P<G.length;
P++){var L=G[P].Data;if(L==null)break;var Q=L._begin+32,T=L._end;if(Q>T)Q=T;t.push(Q,T);F-=T-Q}}t.push(B._end);
var j=new Uint8Array(F);for(var P=0;P<t.length;P+=2){var Q=t[P],M=t[P+1]-Q;j.set(new Uint8Array(o.buffer,Q,M),p);
p+=M}return k.KO(j).split(/\r\n|\r|\n/)}function c(o,B){if(o==null)return[];var t=r(B,o),W="",F="",G=0,L;
for(var P=2;P<t.length;P++){var Q=t[P];if(Q[0]=="%"){if(G==0)W+=Q.slice(1);else F+=Q.slice(1)}else if(Q==";")G++;
else if(Q.endsWith("/RulerOrigin ,"))L=Q.split(" ").slice(0,2).map(parseFloat)}var T=[W,F],j=[];for(var P=0;
P<2;P++){var p=T[P],M=new Uint8Array(p.length);k.Gs(M,0,p);var n=FromPS.F.ASCII85Decode({buff:M,off:0}),d=fy.h7(n);
j.push(d)}j.push(L);return j}function U(o,B){if(o==null)return[];var t=r(B,o);t=t.slice(1);for(var P=0;
P<t.length;P++){var W=t[P];if(W[0]=="%")t[P]=W.slice(W[1]=="_"?2:1)}var F=E(t);return F}function O(o,B){var t={};
if(o==null)return t;for(var P=0;P<o.length;P++){var W=r(B,o[P]),F=W[1],G=D(F),L=F.slice(F.indexOf(")")+2).split(" ").map(parseFloat),Q=[];
for(var T=2;T<W.length;T++)Q.push(W[T].slice(2));t[G]={Au:L,p7:Q}}return t}function A(o,B){var t={},W,F;
if(o==null)return t;var G=[];for(var P=0;P<o.length;P++){var L=r(B,o[P]);for(var Q=0;Q<L.length;Q++){var T=L[Q];
if(T.endsWith("%_Bs")){var j=T.slice(0,T.length-4);if(!j.endsWith(" "))j+=" ";T=j+"%_BS"}if(T[0]=="("){var p=T.split(")");
W=p[0].slice(1);var M=p[1].split(" ");F=parseInt(M[1])}else if(T.endsWith("%_BS")){var p=T.split(" "),z,I=1;
p.pop();p=p.map(parseFloat);var n=p.pop(),d=p.pop(),V=p.pop();if(V==0)z=[p[0],p[0],p[0]];else if(V==2||V==4)z=[p[4],p[5],p[6]];
else if(V==1||V==3)z=x(p);else if(V==6){if(p.length==3)z=[p[0],p[0],p[0]];else z=x(p);I=p.pop()}else{throw V}G.push([n/100,z,I,d/100])}else if(T=="BD"){for(var v=0;
v<G.length-1;v++)G[v][3]=G[v+1][3];G.sort(function(gj,jA){return gj[0]-jA[0]});t[W]={rM:F,a5t:G};G=[]}}}return t}function m(o){var B="Gradient PluginObject Symbol Pattern PatternLayer BrushPattern Encoding Raster Layer Resource Place".split(" "),t=Date.now(),W=0,F=[],G={Header:{}},L=[G],Q=o.length;
while(W<Q){var T=W;while(T!=Q&&o[T]!=13&&o[T]!=10){T++}if(o[W]==37&&o[W+1]==95&&o[W+2]==37)W+=2;if(o[W]==37&&(o[W+1]==37||o[W+1]==65)){var j=k.u6(o,W,T-W);
if(j=="%%EOF")break;if(j=="%%EndComments"||j=="%EndComments"||j=="%AI5_Begin_NonPrinting"||j=="%AI5_End_NonPrinting--"||j.startsWith("%AI17_Begin_Content_if_version_gt")||j=="%AI17_End_Versioned_Content"){}else{var p=j.indexOf("Begin"),M=Math.max(j.indexOf("_End"),j.indexOf("%End"));
if(p!=-1){var n=j.slice(p+5).split(":")[0],d={_begin:W,_end:W},V=L[L.length-1];if(B.indexOf(n)!=-1){if(V[n]==null)V[n]=[];
V[n].push(d)}else{if(V[n]!=null){console.log(L);throw j}V[n]=d}L.push(d);if(j.startsWith("%%BeginData")){T=k.BK(o,"%%EndData",W)}else if(j=="%AI9_BeginDocumentData")T=k.BK(o,"%AI9_EndDocumentData",T);
else if(j=="%AI11_BeginTextDocument")T=k.BK(o,"%AI11_EndTextDocument",T)}else if(M!=-1){L.pop()._end=W}else if(L.length==1&&(j.startsWith("%AI")||j.startsWith("%%")&&j.indexOf(" ")!=-1)){var z=1;
if(j.startsWith("%AI"))while(j[z]!="_"&&z<j.length)z++;var I=j.indexOf(":");if(I==-1)I=j.indexOf(" ");
var v=j.slice(z+1,I),gj=j.slice(I+1).trim();G.Header[v]=gj}}}W=T;if(o[W]==13)W++;if(o[W]==10)W++}return G}function i(o,B){var t=Date.now(),W=new Uint8Array(o),F,G=W[2]==68;
if(B)console.log(!G?"EPS":"PDF");if(G){var L=k.BK(W,"/AIMetaData "),jv=!1,iR=!1;while(W[L]!=60)L--;L--;
var Q=k.BK(W,">>",L),T=k.u6(W,L+2,Q-L-2).split("/"),j=[];for(var P=0;P<T.length;P++){var p=T[P],M=p.startsWith("AIPrivateData"),n=p.startsWith("AIPDFPrivateData");
if(!M&&!n)continue;var d=p.trim().split(/\s+/),V=parseInt(d[1]),z=parseInt(d[0].slice(M?13:16));j.push([z,V])}if(B)console.log("--- map made",Date.now()-t);
t=Date.now();var I=FromPDF.indexOfXref(W),v=[],gj=FromPDF.readXrefTrail(W,I,v),jA={buff:W,off:0},Y=new Array(j.length),cj=L;
for(var P=0;P<j.length;P++){var z=j[P][0],V=j[P][1],j8=FromPDF.getIndirect(V,0,jA,v),as=j8.buff,gW=j8["/Filter"],af=0;
if(gW!=null&&typeof gW=="string")gW=[gW];var at=k.u6(as,af,af+20);if(at=="%AI12_CompressedData"){af+=20;
jv=!0}else if(at=="%AI24_ZStandard_Data"){af+=20;iR=!0}as=new Uint8Array(as.buffer,as.byteOffset+af,as.length-af);
if(gW)for(var jd=0;jd<gW.length;jd++){var fM=gW[jd];if(fM=="/FlateDecode")as=pako.inflate(as);else if(fM=="/ASCIIHexDecode")as=FromPS.F.HexDecode({buff:as,off:0});
else if(fM=="/ASCII85Decode")as=FromPS.F.ASCII85Decode({buff:as,off:0});else throw fM}Y[z-1]=as}if(B)console.log("--- arrays found",Date.now()-t);
t=Date.now();var hS=k.u6(Y[0],0,13);if(hS=="%%BoundingBox"||hS=="%AI7_Thumbnai")Y=Y.slice(1);if(hS=="%AI24_ZStanda"){Y[0]=Y[0].slice(20);
iR=!0}if(k.u6(Y[0],0,13)=="%AI12_Compres"){Y[0]=Y[0].slice(20);jv=!0}F=e(Y);if(B)console.log("--- concatenated",Date.now()-t);
t=Date.now();if(jv)F=UZIP.inflate(F);if(iR)F=eH.SH.OO(F);if(B)console.log("--- inflated",Date.now()-t);
t=Date.now()}else{var dr=k.KO(W);if(dr.indexOf("%AI5_BeginLayer")!=-1){F=W}else{var cB=dr.split(/[\n\r]+/),b1=[],ic=!1;
for(var dV=0;dV<cB.length;dV++){var eS=cB[dV].trim();if(eS=="%AI9_PrivateDataEnd"){ic=!1;break}else if(eS=="%AI9_DataStream"||eS=="%AI24_DataStream"){ic=!0}else if(ic)b1.push(eS.slice(1))}var a2=k.o0(b1.join("")),d3=FromPS.F.ASCII85Decode({buff:a2,off:0});
if(d3[0]==120&&d3[1]==156)F=UZIP.inflate(d3);else F=eH.SH.OO(d3)}}return F}function e(o){var B=0,W=0;
for(var P=0;P<o.length;P++)B+=o[P].length;var t=new Uint8Array(B);for(var P=0;P<o.length;P++){var F=o[P];
t.set(F,W);W+=F.length}return t}function S(o,B){for(var P=0;P<B.length;P++)if(o.startsWith(B[P]))return!0;
return!1}function E(o){var B=[],t=[],top=-1,W,F=null,G=null,L=0;for(var Q=0;Q<o.length;Q++){var T=o[Q];
if(W){T=W+T;W=null}var j="\t".repeat(B.length);if(F!=null){F.push(T);if(T.endsWith("~>")){var p=k.o0(F.join("")),M=FromPS.F.ASCII85Decode({off:0,buff:p});
B.push(M);t.push(!1);top++;F=null}}else if(G!=null){if(T=="X+"){if(L==1){B.push(G);t.push(!1);top++;
G=null}else L--}else if(T=="X=")L++;else G.push(T)}else if(T=="/Binary : /ASCII85Decode ,"){F=[]}else if(T=="X="){G=[];
L++}else if(T=="/SVGFilter :"||T=="; /Def ;")continue;else if(T.startsWith("/XMLUIDREF :")){var n=Z(T);
B[top][n[4]]=n[2]}else if(T.startsWith("/")&&T[1].toUpperCase()!=T[1].toLowerCase()){if(T.startsWith("/XMLUID")){var n=Z(T);
if(t[top])throw"e";B[top][n[4]]=n[2]}if(T.startsWith("/GObjRef")){var n=Z(T);if(!t[top])throw"e";B[top].push(n[2])}else{var d=T.startsWith("/Array")||T.startsWith("/Document");
B.push(d?[]:{});t.push(d);top++}}else if(T.endsWith(",")){var V,z,n=Z(T);n.pop();if(n[0]==";"||n.length==1){z=B.pop();
t.pop();top--;V=t[top]?null:n.pop()}else{V=t[top]?null:n.pop();var I=n.pop(),v=n[0];if(I=="/Int")z=parseInt(v);
else if(I=="/Real")z=parseFloat(v);else if(I=="/Bool")z=v=="1";else if(I=="/String"||I=="/UnicodeString")z=n.join("");
else if(I=="/RealMatrix"||I=="/RealPoint"||I=="/RealPointRelToROrigin")z=n.map(parseFloat);else throw I}if(t[top])B[top].push(z);
else B[top][V]=z}else if(T==";"){}else if(T==""){}else{if(T.indexOf("/RealPoint")!=-1){}else if(T.startsWith("(")&&T.endsWith(")")){}else if(T.endsWith("/RealMatrix")){}else throw T;
W=W?W+T:T}}return B}function Z(o){var B=0,t=[];while(B<o.length){var W=o[B],F=W.charCodeAt(0);if(W==" ")B++;
else if(W==","||W==";"||W==":"){t.push(W);B++}else if(W=="("){var G=B+1;while(!(o[G]==")"&&o[G-1]!="\\"))G++;
var L=o.slice(B+1,G);t.push(L);B=G+1}else if(W=="/"||W=="-"||48<=F&&F<=57){var G=B;while(o[G]!=" ")G++;
t.push(o.slice(B,G));B=G}else throw W}return t}function N(o){var B="";for(var P=0;P<o.length;P++){if(o[P]=="_"&&o[P+1]=="x"){var eJ=parseInt(o.slice(P+2,P+4),16);
B+=String.fromCharCode(eJ);P+=4}else if(o[P]=="_")B+=" ";else B+=o[P]}return B}function J(o){var B="xmlnode-nodename",t="xmlnode-nodevalue",W="xmlnode-attributes",F="xmlnode-children",G=o[B],L=o[W],Q=o[F],T={_nam:G};
for(var j in L){var p=L[j];if(Object.keys(p[W]).length!=0||p[F].length!=0)throw"e";if(p[B]!=j)throw"e";
T[j]=p[t]}if(Q.length==0)return T;var M=T.cln=[];for(var P=0;P<Q.length;P++)M.push(J(Q[P]));return T}function y(o){var B="xmlnode-nodename",t="xmlnode-nodevalue",W="xmlnode-attributes",F="xmlnode-children",G=o[B].split(":").pop().replace("#",""),L=o[W],Q=o[F],T="<"+G;
for(var j in L)if(j!="xmlns"&&j!="xmlns:v")T+=" "+j.split(":").pop()+"=\""+L[j][t]+"\"";T+=">"+(Q.length==0?"":"\n");
for(var P=0;P<Q.length;P++)T+=y(Q[P]);if(o[t])T+=o[t];return T+"</"+G+">\n"}return u}();function dl(){}dl.h7=function(){var u,g,K,X,w,m,i,e;
function D(F){return k.Iy(u,F)}function q(F){return k.bh(u,F)}function C(F){return k.yY(u,F)}function a(F){return k.q$(u,F)}function x(F,G){var L=[];
for(var P=0;P<G;P++)L.push(C(F+P*4));return L}function H(F,G){var L=[];for(var P=0;P<G;P++)L.push(D(F+P*8));
return L}function $(F){return C((F+1)*4096-12)}function r(F){return C((F+1)*4096-8)}function c(F,g,G,L){if(X[F]==null)X[F]=[];
X[F].push([L,new Uint8Array(u.buffer,g,G)])}function U(F,G,L,Q){var T=K[F],g=T*4096;g=g+C(g+4096-24-12-G*4);
var j=q(g),p=u[g+2],M=u[g+3];if(G!=p)throw p;if(M==0)c(Q,g+4,L,9);else{var n=q(g+6),d=C(g+8);c(Q,g+12,j-12,9);
U(d,n,L-(j-12),Q)}}function O(){var F=C(352),G=C(F*4096+128),L=C(936),Q=C(L*4096+128);K=x(Q*4096+128,4096-128-12>>>2);
X={};w={};for(var T=0;T<K.length;T++){var j=K[T],p=$(j);if(p!=6)continue;var g=j*4096,M=C(g);g+=4;for(var P=0;
P<M;P++){var n=C(g);g+=4;var d=C(g);g+=4;var V=C(g);g+=4;var z=C(g);g+=4;if(n==0)w[d]=V;else{var I=V&65535,v=V>>>16;
if(v==0)c(d,z*4096,I,8);else U(z,v,I,d)}}}var m={};for(var gj in X){var jA=X[gj],Y=jA.length;if(Y==1)m[gj]=jA[0][1];
else{var jv=0,g=0;for(var P=0;P<Y;P++)jv+=jA[P][1].length;var iR=m[gj]=new Uint8Array(jv);for(var P=0;
P<Y;P++){iR.set(jA[P][1],g);g+=jA[P][1].length}}}return m}function A(g,F){var G=F?C(g):q(g),L="";if(G==0)return"";
g+=F?4:2;while(L.length<G){var Q=u[g++],T=u[g++],j=0;Q+=(T&15)*256;T=T&240;for(var P=0;P<Q;P++){if(T==64)j=u[g++];
else if(T==128)j=u[g++]|u[g++]<<8;else throw T;L+=String.fromCharCode(j)}}return L}function S(g,F,G){var L=x(g,F);
for(var P=0;P<F;P++){G.push(P);if(L[P]>i)throw"e";L[P]=E(L[P],G);G.pop()}return L}function E(F,G){if(e.indexOf(F)!=-1)return"---"+F;
if(F==0)return null;if(m[F]==null)return null;if(!(m[F]instanceof Uint8Array))return m[F];var L=u,g=0;
u=m[F];e.push(F);var Q=w[F].toString(16),T=m[F]={_type:W[Q]?W[Q]:"typ-"+Q,_eid:F};while(g+8<u.length){var j=C(g);
g+=4;var p=j.toString(16),M=C(g);g+=4;var n=g+M;if(g+M>u.length){T._bin=u;break}Z(p,y,T,g,M,G);g=n}u=L;
e.pop();return T}function Z(F,G,L,g,Q,T){var j=G[F];T.push(j?j[0]==""?F:j[0]:F);if(j){var p=j[0],M=null,n=j[1];
if(p=="")p=n+"-"+F;if(B[n]&&Q!=B[n]){console.log(n);console.log(F,j);console.log(u.slice(g,g+Q));throw"e"}if(n=="mat")M=H(g,6);
else if(n=="rect")M=H(g,4);else if(n=="doub")M=D(g);else if(n=="pointArr"){var d=q(g);M=x(g+2,d*2)}else if(n=="uint")M=C(g);
else if(n=="pntr"||n=="ptr6"){M=E(C(g),T)}else if(n=="bool2"){if(q(g)!=0&&q(g)!=1)throw q(g);M=q(g)==1}else if(n=="bool4"){if(C(g)!=0&&C(g)!=1)throw C(g);
M=C(g)==1}else if(n=="color"){if(Q!=38&&Q!=30)throw Q;var V=C(g),z=q(g+4);M=[V];for(var P=0;P<z;P++)M.push(D(g+6+P*8))}else if(n=="path"){M=[];
var I=C(g);g+=4;for(var P=0;P<I;P++){var v=[];M.push(v);var gj=C(g);g+=4;for(var jA=0;jA<gj;jA++){var V=C(g);
g+=4;if(V<2){v.push([V,D(g),D(g+8),D(g+16),D(g+24),D(g+32),D(g+40)]);g+=48}else if(V==2){v.push([V,D(g),D(g+8)]);
g+=16}else throw V}}}else if(n=="ptrAndList"){var Y=C(g),jv=C(g+4);M=S(g+8,jv,T);M.unshift(E(Y,T))}else if(n=="ptrArray"||n=="ptrArrayX"){var iR=Q>>2;
if(n=="ptrArray"){iR=C(g);g+=4;if(Q!=4+iR*4)throw Q}M=S(g,iR,T)}else if(n=="cldrn"){var cj=C(g),j8=C(g+4),iR=C(g+8);
M=S(g+12,iR,T);if(Q!=12+iR*4){console.log(F,sa);throw"e"}if(cj==0)throw cj}else if(n=="aprnc"){var iR=C(g);
g+=4;M={};for(var P=0;P<iR;P++){var as=C(g),gW=q(g+4),af=q(g+6);g+=8;var at=t[as.toString(16)];if(at==null)at="prm-"+as.toString(16);
else at=J(at);M[at]=[];for(var jA=0;jA<af;jA++){var jd=C(g),fM=q(g+4),hS=null;g+=6;if(jd==28264)hS=D(g);
else if(jd==28263||jd==279)hS=E(C(g),T);else if(jd==28261)hS=q(g)==1;else if(jd==28265)hS=[D(g),D(g+4)];
else if(jd==28259||jd==28260||jd==23094)hS=u.slice(g,g+fM);else throw jd;M[at].push(hS);g+=fM}}}else if(n=="lopts"){M={a8a:q(g+0)==1,show:q(g+2)==1,ale:q(g+4)==1,rf:C(g+10),name:A(g+21)}}else if(n=="origin"){g++;
var d=C(g);g+=4;var dr=k.u6(u,g,d);g+=d;g+=16;var cB=A(g,!0);g+=4+2+cB.length;g+=19;var b1=A(g);g+=2+2+b1.length;
M={file:dr,id:cB,e7:b1}}else if(n=="string")M=A(g+3);else if(n=="textData"){var ic=g+Q,dV=C(g);g+=4;
var eS=C(g);g+=4;var z=q(g);g+=2;var a2=[];for(var P=0;P<z;P++){var d3=C(g);g+=4;if(dV==514)a2.push(A(g,!0));
else if(dV==515){var cE=C(g),F=C(g+4),eP=q(g+8);a2.push([cE,E(F,T)])}else if(dV==516){var cE=C(g),F=C(g+4),jm=q(g+8),bD=q(g+10);
a2.push([cE,E(F,T)])}else a2.push(u.slice(g,g+d3));g+=d3}if(ic-g!=12)throw ic-g;M=a2}else if(n=="storyProps"){var f1=C(g);
if(q(g+4)!=1)throw"e";var ft=E(C(g+6),T),z=C(g+10)+1;M={arj:f1,avE:ft,OX:S(g+14,z,T),akm:x(g+14+z*4,4)}}else if(n=="styleProps"){var ie=q(g);
g+=2;M={};for(var P=0;P<ie;P++){var b2=C(g);g+=4;var dh=b2.toString(16),aY=q(g);g+=2;var eF=q(g);g+=2;
if(eF!=1)throw"e";for(var jA=0;jA<eF;jA++){var de=C(g);g+=4;var i5=q(g);g+=2;Z(dh,o,M,g,i5,T);g+=i5}}}else if(n=="StyleName"){M=[C(g+4)]}else throw n;
if(M==null)throw"e";if(L[p]!=null){console.log(p,L[p],M);console.log(T.slice(0));console.log(eid,F,g,L[p],j,M);
throw"e"}L[p]=M}else{var eA=u.slice(g,g+Q);L["prop-"+F]=eA}T.pop()}function N(F){u=new Uint8Array(F);
m=O();var G=m[2147483649];G=k.KO(G,4,G.length-4);delete m[2147483649];i=0;for(var L in m)i=Math.max(i,parseInt(L));
e=[];var Q={};for(var L in m)Q[L]=m[L];for(var L in m)E(parseInt(L),[]);return m}function J(F){F=F.split(" ").join("");
return F[0].toLowerCase()+F.slice(1)}var y={"2d2":["","bool2"],"1623":["","bool2"],"2c32":["visible","bool2"],cd1f:["","bool2"],"118":["","bool4"],"1b8":["","bool4"],"2c2d":["locked","bool4"],"119":["bitmap","uint"],"117":["","uint"],"56c":["","uint"],bf31:["","uint"],ca58:["","uint"],cade:["","uint"],"313":["","pntr"],e02:["","pntr"],"170d":["bitmapFill","pntr"],"1b916":["","pntr"],"220":["obj228","ptrAndList"],"2ab":["story","ptrArrayX"],"302":["layer","ptr6"],"21f":["rect","rect"],"27e":["","rect"],"2d6":["rect","rect"],"565":["rect","rect"],"5dd":["rect","rect"],"1633":["rect","rect"],"151":["transform","mat"],"2de":["transform","mat"],"40d":["transform","mat"],"56e":["transform","mat"],"5cc":["transform","mat"],"262":["textData","textData"],"15b":["children","cldrn"],"2c8":["children","cldrn"],"303":["children","cldrn"],"503":["children","cldrn"],"28dc":["children","cldrn"],"104e5":["children","cldrn"],"1b95a":["children","cldrn"],"1f01":["color","color"],"162b":["path","path"],"6e03":["appearance","aprnc"],"304":["lopts","lopts"],"2c10":["name","string"],"8c92":["origin","origin"],"20f":["","ptrArrayX"],"210":["","ptrArrayX"],"211":["","ptrArrayX"],"222":["stories","ptrArrayX"],"223":["stoProps","storyProps"],"23f":["styProps","styleProps"],"230":["name","StyleName"],"301":["layers","ptrArray"],"501":["spreads","ptrArray"],"4c01":["sections","ptrArray"],"1401":["masterSpreads","ptrArray"],a67:["","ptrArray"],"1f05":["colors","ptrArray"],"1f0c":["","ptrArray"],"1f60":["","ptrArray"],"1f61":["","ptrArray"],"288a":["","ptrArray"],"377c":["","ptrArray"],"3e06":["","ptrArray"],"1081d":["","ptrArray"]},o={"1b01":["fillColor","pntr"],"1b03":["fontSize","doub"],"1b2a":["underline","bool2"]},B={mat:48,rect:32,doub:8,ptr6:6,uint:4,pntr:4,bool4:4,bool2:2},t={"10816":"Object Opacity","10891":"Stroke Opacity","10892":"Stroke Blending Mode","10893":"Stroke Knockout Group","10894":"Stroke Isolate Blending","108d8":"Fill Opacity","108d9":"Fill Blending Mode","108da":"Fill Knockout Group","108db":"Fill Isolate Blending","10817":"Object Blending Mode","10818":"Object Knockout Group","10819":"Object Isolate Blending","6e64":"Stroke Swatch","6e65":"Stroke Weight","6e66":"Stroke Tint","6e6e":"Stroke Type","6e68":"Fill Swatch","6e69":"Fill Tint","6e6b":"Stroke Cap","6e6c":"Stroke Join","6e6d":"Stroke Mitre Limit","6e8c":"Stroke Align Stroke","6e71":"Stroke Start Arrrowhead","6e72":"Stroke End Arrrowhead","6e89":"Stroke Gap Color Swatch","6e8a":"Stroke Gap Tint","6e84":"Stroke Arrowhead Align","6e95":"Stroke Start Arrowhead Scale","6e96":"Stroke End Arrowhead Scale","6e8f":"Corner 1 Shape","6e6f":"Corner 2 Shape","6e90":"Corner 3 Shape","6e91":"Corner 4 Shape","6e70":"Corner 1 Size","6e92":"Corner 2 Size","6e93":"Corner 3 Size","6e94":"Corner 4 Size","1081a":"Object Drop Shadow","1081f":"Object Drop Shadow Blending Mode","10837":"Object Drop Shadow Color","10895":"Stroke Drop Shadow","10899":"Stroke Drop Shadow Blending Mode","1084d":"Object Inner Shadow","1084f":"Object Inner Shadow Blending Mode","1eb8f":"GradientFeatherSetting GradientStart","1eb8e":"GradientFeatherSetting Length"},W={e01:"Document","302":"Layer","401":"Group","501":"Spread","227":"Column","201":"Story","205":"Style","263":"TextFrame","6201":"Path",ca18:"StoryText"};
return N}();function hC(){}hC.h7=function(){var u=0;function g(q,C){var a=dl.h7(q);u=0;var x=a[1];console.log(x);
var H=x.spreads,$=x.layers,r=[],c=new dS;for(var U=0;U<H.length;U++){var O=H[U],A=O.children,m=X(O),i=A[0].children[0],e=X(i);
e.concat(m);var S=K(i);r.push(S);S.offset(e.OR,e.ic);S=f.p.Cf(S);c=c.RN(S)}C.m=c.m;C.n=c.n;C.buffer=new Uint8Array(4*C.m*C.n);
C.Ey=!0;C.DX(H.length);for(var U=0;U<H.length;U++){var E=C.Wk(),Z=$[Math.min(U+1,$.length-1)].lopts;
E.R3=24;E.add.lsct=g4.DM;E.Q9(Z.name);E.H4(Z.show);if(Z.a8a)E.add.lspf=1<<31;var N=r[U].clone();N.offset(-c.x,-c.y);
N=f.p.Cf(N);E.ab(N);E.wS="pass";C.g.push(C.z1());var O=H[U],A=O.children,m=X(O);m.translate(-c.x,-c.y);
var J=A[2].children;for(var P=0;P<J.length;P++)D(J[P],C,m,a);C.g.push(E)}}function K(q){var C=q.rect;
return new dS(C[0],C[1],C[2],C[3])}function X(q){var C=q.transform;return new eV(C[0],C[1],C[2],C[3],C[4],C[5])}function w(q){var C=q.color,a=C[0],x;
if(a==5)x=C.slice(1);else if(a==6)x=UDOC.C.cmykToRgb(C.slice(1));else{console.log(C);throw a}return x}function D(q,C,a,x){a=a.clone();
a.concat(X(q));var H=q.path,$=q.appearance,r=q.visible,c=q.children,U=C.Wk();if(r!=null)U.H4(r);if(c&&c.length==1&&c[0].bitmapFill){U.Q9("bitmap");
var O=c[0],A=K(O),m=X(O);m.concat(a);var i=O.bitmapFill.bitmap;i=x[i]._bin;var e=C.Sw(i,"img.jpg",0,0);
e.R3=U.R3;U=e;var S=[0,0,A.m,0,A.m,A.n,0,A.n];f.p.D(S,m,S);U.add.SoLd.Trnf=R.S.c2(S);U.add.SoLd.nonAffineTransform=R.S.c2(S);
U.Qu(C,!1)}else if(q["bool2-1623"]){var E=c[0],A=K(E),m=X(E),L=0;m.concat(a);var Z=E.children[0],N=Z.obj228,J=N[0].story[1];
console.log(J);var y=J.stoProps.avE["ptrArrayX-211"][0].textData,o=J.stoProps.OX[0]["ptrArrayX-20f"][0].textData,B=J.stoProps.OX[1]["ptrArrayX-210"][0].textData,t=x[y[0][1].name[0]],W=t?t.styProps:{};
B=B.join("").replace(/\r/g,"\n");B=B.slice(0,B.length-1);U.Q9("text");U.add.lnsr="rend";U.add.TySh=fS.t5(0,0);
U.add.TySh.kI=A;U.add.TySh.D=m;var F=U.add.TySh.Fd;fS.G4(F,0,B);var G=fS.pP(F,0,B.length);G.QX.FontSize=10;
fS.xm(F,0,B.length,G);for(var P=0;P<o.length;P++){var Q=o[P][0],T=Math.min(L+Q,B.length-1),j=o[P][1],p=j.styProps;
if(p==null)p={};var M={};for(var n in W)M[n]=W[n];for(var n in p)M[n]=p[n];var G=fS.pP(F,L,T);if(M.underline)G.QX.Underline=!0;
if(M.fillColor){var d=w(M.fillColor);G.QX.FillColor={Type:1,Values:[1].concat(d)}}if(M.fontSize)G.QX.FontSize=M.fontSize;
fS.xm(F,L,T,G);L+=Q}fS.YM(F,1);fS.N2(F,[0,0,Math.round(A.m),Math.round(A.n)])}else if(H){U.Q9("path");
U.R3|=16;var V=U.add.vmsk=new l.tU,z=U.add.vstk=JSON.parse(JSON.stringify(k8.Sq.default)),I=[0,0,0];
if($){var v=$.strokeSwatch,gj=$.fillSwatch,jA=$.strokeWeight;z.strokeEnabled.v=v!=null;z.fillEnabled.v=gj!=null;
if(v){z.strokeStyleLineWidth.v.val=jA?jA[0]:1;I=w(v[0]);z.strokeStyleContent.v.Clr.v=f.X.Gp({w:I[0]*255,A:I[1]*255,U:I[2]*255})}if(gj){I=w(gj[0])}}U.add.SoCo={classID:"null",Clr:{t:"Objc",v:f.X.Gp({w:I[0]*255,A:I[1]*255,U:I[2]*255})}};
var Y=q["prop-6204"]?q["prop-6204"][2]!=9:!0;for(var jv=0;jv<H.length;jv++){var iR=H[jv],cj=iR.length,j8=Y?0:3;
V._.push({type:j8,length:cj,yk:0,VB:2,MO:0,TY:0});for(var P=0;P<cj;P++){var as=iR[P],j8=as[0],gW=new j4(as[1],as[2]),af=new j4(as[3],as[4]),at=new j4(as[5],as[6]);
if(j8==0)V._.push({type:j8+2,Rw:gW,G:af,CL:at});else if(j8==2)V._.push({type:j8+2,Rw:gW,G:gW,CL:gW});
else throw j8}}f.J.Cg(V._,a);U.LP();U.th(C)}else if(c){U.Q9("group");U.R3=24;U.add.lsct=g4.DM;C.g.push(C.z1());
for(var P=0;P<c.length;P++)D(c[P],C,a,x)}if(q.name)U.Q9(q.name);C.g.push(U)}return g}();var R={};R.Z=function(u){return window.devicePixelRatio||1};
R.jz=function(u,g){return(g.aoH=="touch"?12:8)*R.Z()/u.t.P};R.N8=function(u,g,K){this.name=u;this.id=g;
this.Rz=null;if(K!=null)this.Tt=K};R.N8.prototype.RR=function(u,g,K,X,w){};R.N8.prototype.enable=function(u,g,K,X,w,D){var q=new eG(h.E.Y,!0);
q.data={d:h.s.Tx,SD:"default"};g.c(q)};R.N8.prototype.disable=function(u,g,K,X,w){};R.N8.prototype.E8=function(u,g,K,X,w){return!1};
R.N8.prototype.R4=function(u,g,K,X,w){};R.N8.prototype.tB=function(u,g,K,X,w){};R.N8.prototype.ai=function(u,g,K,X,w){};
R.N8.prototype.RB=function(u,g,K,X,w,D){};R.N8.prototype.eY=function(u,g,K,X,w){};R.N8.prototype.BF=function(u,g,K,X){};
R.N8.prototype.DB=function(u,g,K,X){};R.N8.prototype.py=function(u,g){};R.N8.prototype.A3=function(u,g){};
R.N8.prototype.Z7=function(u,g,K,X,w){};R.N8.prototype.xY=function(u,g){};R.N8.prototype.Kx=function(u,g){return!1};
R.N8.prototype.HH=function(u,g){return!1};R.N8.prototype.Sn=function(){return!1};R.N8.prototype.uX=function(u,g){return!0};
R.N8.prototype.p9=function(){return null};R.N8.prototype.P7=function(u,g,K){};R.N8.prototype.i4=function(){return!1};
R.N8.prototype.Xv=function(u,g,K,X){};R.N8.prototype.track=function(u){var g=new eG(h.E.qf,!0);g.data=u;
u.wL=!0;this.Rz.c(g)};R.N8.wJ=function(u,g,K,X){var w=10*R.Z()*(u.aoH=="touch"?2:1),D=u.x+w,q=u.y-w,C=f.Xx.FZ(g.m,K.wY,X,K.m,!0),a=f.Xx.FZ(g.n,K.wY,X,K.n,!0);
while(C.length<a.length)C=" "+C;while(C.length>a.length)a=" "+a;R.N8.Jn(D,q,[fc.get([12,41]).charAt(0)+": "+C,fc.get([12,42]).charAt(0)+": "+a],K)};
R.N8.Jn=function(u,g,K,X){function w(x,O,A,m,i,e){x.beginPath();x.moveTo(O,A+e);x.arcTo(O,A+i,O+e,A+i,e);
x.arcTo(O+m,A+i,O+m,A+i-e,e);x.arcTo(O+m,A,O+m-e,A,e);x.arcTo(O,A,O,A+e,e)}var D=R.Z(),q=Math.round,C=q(11*D),a=R.N8.cy,H=0;
if(a==null)a=R.N8.cy=document.createElement("canvas");var x=a.getContext("2d");x.font=C+"px monospace";
for(var P=0;P<K.length;P++)H=Math.max(H,x.measureText(K[P]).width);var $=q(H+12*D),r=q((K.length*14+5)*D),c=new dS(u,g-r,$,r);
if(a.width!=$||a.height!=r){a.width=$;a.height=r}x.clearRect(0,0,$,r);x.fillStyle="rgba(0,0,3,0.8)";
w(x,0,0,$,r,q(4*D));x.fill();x.fillStyle="rgba(255,255,255,1)";for(var P=0;P<K.length;P++)x.fillText(K[P],q(6*D),q((P+1)*13*D));
var U=[x.getImageData(0,0,$,r).data,c.clone()];if(X)X.H.kj=[U];return U};R.N8.cy=null;R.Hx="0";R.C1="1";
R.Dq="2";R.S2="3";R.l0="5";R.VK="6";R.GE="7";R.YB="8";R.eu="9";R.XQ="10";R.it="11";R.m8="12";R.Y3="13";
R.G9="14";R.I6="16";R.NI="18";R.e_="19";R.L3="20";R.uY="21";R.hT="22";R.ei="23";R.vV="24";R.u3="25";
R.AY="27";R.Es="31";R.gW="32";R.g$="34";R.ll="35";R.s0="36";R.x8="37";R.Um="38";R.$S="39";R.Xi="40";
R.WV="41";R.kg="42";R.$l="43";R.mi="44";R.$d="47";R.E3="48";R.AP="51";R.Td="52";R.Zl="54";R.vk="55";
R.se="56";R.iC="57";R.fC="58";R.JN="59";R.wt="60";R.d0="61";R.ZQ="70";R.fr="100";R.Gw="101";R.i2="102";
R.RX="103";R.wd="120";R.sM="230";R.a4n="231";R.QV="232";R.QA="233";R.vz="234";R.DQ="235";R.d$="236";
R.nJ=function(u){var g=R.VE,K=null;for(var X in g)if(g[X][1].indexOf(u[1].classID)!=-1)K=X;return K};
R.VE={};R.VE[R.ei]=["tools/brush",["PbTl"]];R.VE[R.vV]=["tools/pencil",["PcTl"]];R.VE[R.Es]=["tools/eraser",["ErTl"]];
R.Xo=function(u,g,K){R.N8.call(this,u,g,K);this.Xm={brush:u?cO.Nt():null,bmode:"norm",opacity:1,flow:1,smth:0,samp:0,prsr:[!1,!1],emode:0,wconf:[40,!0,!0],sall:!1,algnd:!1,sfrom:0,alt:[!1],expo:.5,rng:1,strn:.5,pdetail:!0,smode:1,qsmode:0,setop:0,patch:0};
this.nC=null;this.vD=null;this._Q=null;this.xN=null;this.Nz=null;this.ar=null;this.Kk=null;this.NM=null;
this.kb=null;this.ef=null;this.tF=null;this.zO=null;this.OZ=null;this.A0=1;this.VH=!1;this.z2=null;this.caller=null};
R.Xo.prototype=new R.N8;R.Xo.prototype.HH=function(u,g){return u.HT&&g.a(hW.jl)};R.Xo.prototype.tB=function(u,g,K,X,w){if(X.a(hW.Dd)){this.ar=new j4(w.x,w.y);
var D=this.Xm.brush.Brsh.v,q=D.Dmtr.v.val,C=D.Hrdn!=null?D.Hrdn.v.val:-1;this.Kk=[q,C,!0,JSON.parse(JSON.stringify(this.Xm.brush)),w];
this.Hb(K)}};R.Xo.prototype.Bf=function(u,g,K){var X=this.Kk,w=u.t.P,D=K.x-X[4].x,q=K.y-X[4].y,C=X[0],a=X[1],x=Math.abs(D)>Math.abs(q);
if(x&&X[2]){var H=Math.round(2*D/w);C+=H;K.x-=D-.5*H*w}if(!x&&!X[2]&&a!=-1){var H=Math.round(.25*q);
a+=H;K.y-=q-4*H}C=Math.max(1,C);a=X[1]==-1?-1:Math.max(0,Math.min(100,a));var $=X[3];$.Brsh.v.Dmtr.v.val=C;
if(a!=-1)$.Brsh.v.Hrdn.v.val=a;this.Kk=[C,a,x,$,K];var r=aM.K6($,g.d3.Ft,w),c=r[1];c.x=Math.round(this.ar.x-c.m/2);
c.y=Math.round(this.ar.y-c.n/2);u.H.B3=[r];var U=u.t.wQ(this.ar.x,this.ar.y);u.H.g6={ep:[],co:[U.x-C/2,U.y,U.x+C/2,U.y]};
if(a!=-1)u.H.g6.co.push(U.x+50/w,U.y-a/2,U.x+50/w,U.y+a/2);u.cK=!0};R.Xo.prototype.eY=function(u,g,K,X,w){if(this.id==R.L3||this.id==R.uY)return;
if(this.ar){this.ar=null;this.T$(JSON.parse(JSON.stringify(this.Kk[3])));u.H.B3=[];u.H.g6=null;u.cK=!0;
return}var D=new eG(h.E.Y,!0);D.data={d:h.s.SI,b:this.id,aj0:"showBrushOpts",wC:new j4(w.Tn+4,w.GC)};
g.c(D)};R.Xo.prototype.T$=function(u){var g=new eG(h.E.Y,!0);g.data={d:h.s.zS,M3:hO.xD,WM:u};this.caller.c(g)};
R.Xo.cH=function(u,g,K,X,w,D){if(u==null)u="FrgC";if(g==null)g="norm";if(K==null)K=1;if(w==null)w=!1;
var q={classID:"Fl",Usng:{t:"enum",v:{FlCn:u}},Opct:{t:"UntF",v:{type:"#Prc",val:Math.round(K*100)}},PrsT:{t:"bool",v:w},Md:{t:"enum",v:{BlnM:b0.HF(g)}}};
if(u=="Clr")q.Clr={t:"Objc",v:X};if(u=="contentAware")q.contentAwareColorAdaptationFill={t:"bool",v:!0};
if(u=="Ptrn")q.Ptrn={t:"Objc",v:D};return{$T:"fill",NA:q}};R.Xo.prototype.RR=function(u,g,K,X,w){this.Rz=g;
var D=K.qT.length;if(D==0&&!K.KL())return;var q=D!=0?-1-K.qT[0]:K.z[0],C=K.g[q];if(u.d=="fromAction"){var a=u.yK,x=a.NA;
if(x&&x.null&&x.null.v[0]&&x.null.v[0].v.classID=="Path"){var H=K.f$(),$=H[0],r=H[1],c=$[r.length==0?0:r[0]].add.vmsk;
if(a.$T=="fill"){var U=c.Zv(),O=w.FK,A=this.Xm,m=O>>16&255,i=O>>8&255,e=O>>0&255;this.tb(K,C,U,m,i,e,Math.round(A.opacity*255),A.bmode,"Fill Path")}else{for(var S=0;
S<1e3;S++){var E=f.J.Ei(c._,S,!0);if(E==-1){this.RB(K,g,w,X,null);break}var Z=c._[E],N=c._.slice(E,E+1+Z.length),J=f.p.Cs(N,!0).v,y=J.slice(0,8);
for(var o=8;o<J.length;o+=6)y.push(J[o-2],J[o-1],J[o],J[o+1],J[o+2],J[o+3],J[o+4],J[o+5]);var B={};B.Points=y;
B.TextOnPathTRange=c.WS.slice(0);var B=ec.pC(B,2),t=B[0];if(S==0)this.R4(K,g,w,X,K.t.h5(t[0],t[1]));
else this.vD.moveTo(t[0],t[1]);for(var P=2;P<t.length;P+=2){var W=K.t.h5(t[P],t[P+1]);W.HT=!0;this.ai(K,g,w,X,W,this.Xm.flow)}}}}else if(a.$T=="fill"){var F=x.PrsT?x.PrsT.v:!1,G=C?C.add.lspf:0;
if(F&&C){C.add.lspf=G==null?1:G|1}var L=(x.Opct?x.Opct.v.val:100)/100,Q=x.Md?b0.x3(x.Md.v.BlnM):"norm",T=x.Usng.v.FlCn;
if(T=="contentAware"){if(K.q==null){alert("Select an area to heal first.");return}if(!K.KL())return;
this._U(K);this.Wn(K,0);var j=K.q,p=f.L(j.rect.$()*4);f.K1(j.channel,p,3);this.fJ(K,"sheal",p,j.rect,j.rect);
this.O(K,j.rect);this.finish(K,j.rect)}else if(T=="Ptrn"){var M=w.u7,n=K.q?K.q.rect.clone():new dS(0,0,K.m,K.n),d=f.L(n.$()*4);
bW.n5(x,d,n,M,new j4(0,0));this.OS(K,C,K.q,d,"norm",[6,48,0,2])}else{var O;if(T=="FrgC")O=w.FK;else if(T=="BckC")O=w.ui;
else if(T=="Blck")O=0;else if(T=="Wht")O=16777215;else if(T=="Gry")O=8421504;else if(T=="Clr"){var V=f.X.Ld(x.Clr.v);
O=V.w<<16|V.A<<8|V.U}var m=O>>16&255,i=O>>8&255,e=O>>0&255;this.tb(K,C,K.q,m,i,e,Math.round(255*L),Q,[2,3])}if(F&&C){C.add.lspf=G==null?0:G}}else if(a.$T=="delete"){var z=q<0?1:C.oF,j=K.q,jA;
if(j==null)return;var I=q<0?K.g1[-q-1]:z<=0?null:z==1?C.Zv():C.nE(K).B,n=z<=0?C.rect:I.rect,v=z<=0?j.rect.I3(n):j.rect.clone();
if(v.fg())return;var gj=v.$();if(z<=0){jA=f.L(gj*4);f.bV(C.buffer,C.rect,jA,v)}else{jA=f.L(gj);I.extend(v);
f.x5(I.channel,I.rect,jA,v)}if(0<=q&&C.A1(K,j)){if(z<=0){f.D4(jA,0);f.bV(C.Ag.Au,C.Ag.tX,jA,v)}else{jA.fill(255);
f.x5(C.Ag.Au,C.Ag.tX,jA,v)}}else{if(z<=0){var Y=f.L(jA.length>>2);f.hk(jA,Y,3);f.i.XE(f.Ph(j.rect.$()),j.rect,Y,v,j.channel,v,1);
f.K1(Y,jA,3)}else{var jv=f.L(j.rect.$()),m=w.ui>>>16&255,i=w.ui>>8&255,e=w.ui>>0&255;jv.fill(Math.round(f.Yi(m,i,e)));
f.i.XE(jv,j.rect,jA,v,j.channel,v,1)}}this.YS(K,!0,[2,2],q,z,v,jA)}}if(u.d=="stroke"){var iR=u.a5W,j=K.q;
if(j==null){j={rect:C.rect.clone(),channel:f.L(C.rect.$())};f.hk(C.buffer,j.channel,3)}var cj=bW.EU(iR),j8=R.uO.a9Y(j,Math.ceil(cj[0]),Math.ceil(cj[1])),O=f.X.Ld(iR.Clr.v),m=Math.round(O.w),i=Math.round(O.A),e=Math.round(O.U);
this.tb(K,C,j8,m,i,e,Math.round(255*iR.Opct.v.val/100),b0.x3(iR.Md.v.BlnM),[14,9])}if(u.d=="fillBMP"){this.OS(K,C,K.q,u.HA,u.$X,u.Uz)}if(u.d=="draw"){var as=u.xl,gW=as.rect;
this._U(K);var af=K.g[K.z[0]];if(u.aa2&&af&&af.oF<=0&&K.qT.length==0){gW=R.aD.a5M(as,K);af.buffer=as.buffer.slice(0);
af.rect=gW.clone()}else{var at=this.Xm.bmode;this.Xm.bmode="norm";this.fJ(K,"draw",as.buffer,gW,gW.I3(new dS(0,0,K.m,K.n)));
this.Xm.bmode=at}this.O(K,gW);K.X5=!0;this.finish(K,gW,u.Uz,u.aa2)}};R.Xo.prototype.tb=function(u,g,K,X,w,D,q,C,a){var x=K==null?new dS(0,0,u.m,u.n):K.rect,H=q<<24|D<<16|w<<8|X<<0,$=f.L(x.$()*4);
f.D4($,H);this.OS(u,g,K,$,C,a)};R.Xo.prototype.OS=function(u,g,K,X,w,D){var q=u.qT.length!=0?-1-u.qT[0]:u.z[0],C=q<0?1:g.oF,a=q<0?u.g1[-1-q]:C<=0?null:C==1?g.Zv():g.nE(u).B,x=C<=0?g.rect:a.rect,H=K==null?new dS(0,0,u.m,u.n):K.rect,$=K==null?f.Bx(u.m*u.n):K.channel,r=H.$(),c,U=null;
if(C<=0){c=f.L(r*4);f.bV(g.buffer,g.rect,c,H)}else{c=f.L(r);a.extend(H);f.x5(a.channel,a.rect,c,H)}if(K!=null)f.CY($,X);
if(C>0){U=f.L(r);f.uT(X,U)}if(0<=q&&K&&g.A1(u,K)){var O=g.Ag._C,A=g.Ag._C.slice(0);if(C<=0)f.me(X,A);
else f.me(U,A);var m=new g9([2,3],this);m.data={d:"drawtemp",j:u.z[0],lK:C,aiL:O,asL:A};u.AV(m);this.py(m.data,u)}else{if(C<=0){var i;
if(g.Kf(0)){i=f.L(H.$());f.hk(c,i,3)}f.i.L_(w,X,H,c,H,H,1);if(g.Kf(0))f.K1(i,c,3)}else f.i.XE(U,H,c,H,$,H,1);
this.YS(u,!0,D,q,C,H,c)}};R.Xo.prototype.Kx=function(u){if(hW.j6.indexOf(u)!=-1)return!0;return!1};R.Xo.prototype.BF=function(u,g,K,X){var w=this.Xm.brush,D=X.a(hW.Dd),q=D!=this.VH,C=R.Xo.HP(w,X);
if(C!=null)this.T$(C);if(!X.a(hW.A5)&&X.Oe()!=-1){var a=hW.fV(Math.round(this.Xm.opacity*100),X.Oe())/100;
this.hV({opacity:a},g)}if(this.id==R.YB&&q&&u!=null){var x=this.Xm.qsmode;if(x==2)x=u.q==null?0:1;else x=2;
this.hV({qsmode:x},g)}this.VH=D;if(q){if(u)this.A0=u.t.P;this.Hb(K,X)}};R.Xo.HP=function(u,g){var K=u.Brsh.v.Dmtr.v.val,X=u.Brsh.v.Hrdn!=null?u.Brsh.v.Hrdn.v.val:-1,w=K,D=X,q=g.a(hW.jl);
if(g.a(hW.iy)){if(q)X=25*Math.floor((X-1)/25);else{if(K<=10)K--;else if(K<=50)K=5*Math.floor((K-1)/5);
else if(K<=100)K=10*Math.floor((K-1)/10);else if(K<=200)K=25*Math.floor((K-1)/25);else if(K<=400)K=50*Math.floor((K-1)/50);
else K=100*Math.floor((K-1)/100)}}if(g.a(hW.JO)){if(q)X=25*Math.ceil((X+1)/25);else{if(K<10)K++;else if(K<50)K=5*Math.ceil((K+1)/5);
else if(K<100)K=10*Math.ceil((K+1)/10);else if(K<200)K=25*Math.ceil((K+1)/25);else if(K<400)K=50*Math.ceil((K+1)/50);
else K=100*Math.ceil((K+1)/100)}}K=Math.max(1,K);X=Math.max(0,Math.min(100,X));if(D==-1)X=-1;if(K!=w||X!=D){var C=JSON.parse(JSON.stringify(u));
C.Brsh.v.Dmtr.v.val=K;if(D!=-1)C.Brsh.v.Hrdn.v.val=X;return C}return null};R.Xo.prototype.Hb=function(u,g,K,X){if(u.d3.list.length==0)return;
var w=this.id,D;if((w==R.AY||w==R.e_||w==R.ei||w==R.vV)&&(g!=null&&g.a(hW.Dd)||this.Xm.alt[0]))D="crosshair";
else{var q=this.A0,C=this.Xm.brush;if((w==R.AY||w==R.e_)&&K&&this.zO&&this.zO.length==this.tF.$()*4){var a=K.t.wQ(X.x,X.y),x=this.agL(a),H=this.zO,$=this.tF,r=new dS($.x+x.x,$.y+x.y,$.m,$.n),c=aM.K6(C,u.d3.Ft,q),U=c[0],O=c[1],A=Math.ceil(O.m/q),m=new dS(Math.round(a.x-A/2),Math.round(a.y-A/2),A,A),i=f.L(m.$()*4),e,S;
f.bV(H,r,i,m);if(q==1){e=i;S=m}else{var E=new eV(q,0,0,q,0,0),Z=R.S.qp([i,m],E,!0);S=O.clone();S.x=Z.rect.x;
S.y=Z.rect.y;if(S.$z(Z.rect))e=Z.buffer;else{e=f.L(S.$()*4);f.bV(Z.buffer,Z.rect,e,S)}}var N=this.Xm.opacity/255;
for(var P=0;P<e.length;P+=4)e[P+3]=N*(U[P+3]*e[P+3]);aM.aig(new Uint32Array(e.buffer),S,4278190080,4294967295);
D={Wf:e,mf:S,ze:new j4(S.m/2,S.n/2)}}else D=aM.n7(C,u.d3.Ft,q,w==R.u3)}var J=new eG(h.E.Y,!0);J.data={d:h.s.Tx,SD:D};
if(this.caller)this.caller.c(J)};R.Xo.prototype.enable=function(u,g,K,X){this.nC=K;this.caller=g;this.T$(JSON.parse(JSON.stringify(this.Xm.brush)));
if(u&&u.t.P!=0)this.A0=u.t.P;this.Hb(K,X)};R.Xo.prototype.xY=function(u,g){if(g==hO.xD){this.Xm.brush=u.d3.T1;
this.Hb(u)}};R.Xo.prototype.Z7=function(u,g,K,X,w){for(var D in u)this.Xm[D]=u[D];if(this.Xm.alt[0])this.Hb(w,X,K)};
R.Xo.prototype.Lg=function(u){var g=u.qT.length!=0?-1-u.qT[0]:u.z[0],K=u.g[g],X=g<0?1:K.oF,w=g<0?u.g1[-g-1]:X<=0?null:X==1?K.Zv():K.nE(u).B,D=w?w.channel:K.buffer,q=(w?w.rect:K.rect).clone();
return[K,X,w,D,q]};R.Xo.prototype._U=function(u,g){this.OZ=u.q==null?null:{rect:u.q.rect.clone(),channel:u.q.channel.slice(0)};
var K=this.Lg(u),X=K[0],w=K[1],D=K[2];this.ef=K[3];this.kb=K[4];var q=new dS(0,0,u.m,u.n),C=q.RN(this.kb);
if((this.M1()&&w<=0||C.$z(this.kb))&&g!=!0)this.ef=this.ef.slice(0);else{if(D)D.extend(C);else X.extend(C)}};
R.Xo.prototype.Wn=function(u,g){var K=this.Lg(u),X=K[1],w=K[3],D=K[4],q=[w,D],C=g!=null?g:this.Xm.sfrom;
if(X<=0&&C!=0){q[1]=new dS(0,0,u.m,u.n);q[0]=u.KS(C==1&&u.z[0]!=u.g.length-1?u.z[0]:null).slice(0)}this.tF=q[1].clone();
this.zO=q[0].slice(0)};R.Xo.prototype.J6=function(u,g,K){if(u.a(hW.Dd)){var X=new eG(h.E.l,!0);X.b=R.G9;
X.data={d:"pickhere",akK:K};g.c(X);return!0}return!1};R.Xo.prototype.aH=function(u,g,K,X,w,D){if(this.id!=R.YB&&!u.KL(this.caller)){this.vD=null;
return}if(this.id!=R.YB&&this.vD)return;this._U(u);var q=new dS(0,0,u.m,u.n),C=null;if(D!=null){var a=u.qT.length!=0?-1-u.qT[0]:u.z[0],x=u.g[a],H=a<0?u.g1[-a-1]:x.oF<=0?null:x.oF==1?x.Zv():x.nE(u).B;
C=f.L(q.$()*4);if(H)R.Xo.MN(this.ef,this.kb,H.color,C,q);else f.bV(this.ef,this.kb,C,q)}var $=this.Xm;
if(this.vD&&this.id==R.YB&&$.qsmode!=0&&u.q!=null){}else{var r=g.FK,c=g.ui;if(this.z2=="erase"){var U=r;
r=c;c=U}var O=this.id==R.YB?this.kb:q;this.vD=new aM($.brush,g.d3.Ft,g.d3.oY,{Wg:w,T6:D,ak6:$.smth*50/u.t.P,cz:this.id==R.vV||$.emode==1,KH:$.prsr,Wr:u.Wr},r,c,O,C)}if(this.id==R.YB){this.vD.amE($.brush,$.qsmode==2?0:16777215)}var A=u.t.wQ(X.x,X.y);
if(K.a(hW.jl)&&this._Q){var m=this._Q;this.vD.moveTo(m.x,m.y,X.h0);this.vD.lineTo(.001*m.x+.999*A.x,.001*m.y+.999*A.y,X.h0);
this.vD.lineTo(A.x,A.y,X.h0)}else this.vD.moveTo(A.x,A.y,X.h0);this._Q=A;this.xN=A.clone();this.Nz=new cN(A,u.t.w0)};
R.Xo.prototype.jB=function(u,g,K){if(u&&u.t.P!=0&&u.t.P!=this.A0){this.A0=u.t.P;this.Hb(K)}};R.Xo.prototype.ja=function(u,g,K,X){if(this.vD==null)return;
var w=u.g[u.z[0]],D=u.t.wQ(X.x,X.y),q=this.Nz.Jk(D,K);if(q.$z(this._Q))return 1;this.vD.lineTo(q.x,q.y,X.h0);
this._Q=q;if(this.id==R.AY||this.id==R.e_){var C=this.Hp(),a=11;C=u.t.h5(D.x-C.x,D.y-C.y);var x=a>>>1,H=new dS(Math.round(C.x)-x,Math.round(C.y)-x,a,a),$=f.L(H.$()*4);
f.D4(16777215);for(var P=0;P<a;P++)$[(P*a+x)*4+3]=$[(a*x+P)*4+3]=255;u.H.kj=[[$,H]];u.cK=!0}};R.Xo.prototype.DB=function(u,g,K,X){if(K.Wp!=this.id)return;
if(this.id!=R.YB||u==null)return;if(u.q==null||u.z[0]!=this.a6k){this.a6k=u.z[0];this.hV({qsmode:0},g)}};
R.Xo.prototype.O=function(u,g){if(u.qT.length!=0){u.cK=!0;return}var K=u.g[u.z[0]];if(g==null){g=this.vD.KC();
if(this.M1()&&K.oF<=0)g=g.I3(this.kb)}var X=K.oF;if(X==1||X==3){var w=Math.round((X==1?K.Zv():K.nE(u).B).Lp*2.4);
g=g.clone();g.wu(w,w)}if(g.fg())return;if(X<=0){K.O(g)}if(X==1){K.Zv().vl=!0;K.th(u,g)}if(X==3){K.O(g)}u.O(u.root.IS(g,u,u.z[0],!0))};
R.Xo.prototype.RB=function(u,g,K,X,w){if(this.vD==null)return;this.vD.finish();if(this.id!=R.NI&&this.id!=R.e_&&this.id!=R.YB)this.J0(u);
if(this.id==R.AY||this.id==R.e_){u.H.kj=[];u.cK=!0}if(this.id==R.YB){var D=u.q;u.q=this.OZ;var q=new eG(h.E.l,!0);
q.data={d:"setsel",Uz:this.name,q:D};q.b=R.C1;g.c(q);if(this.Xm.qsmode==0)this.hV({qsmode:1},g)}else{this.finish(u,this.vD.qv());
this.vD=null;this.NM=null}this.dir=0};R.Xo.prototype.hV=function(u,g){for(var K in u)this.Xm[K]=u[K];
var X=new eG(h.E.Y,!0);X.data={d:h.s.SI,b:this.id,ap:u};g.c(X)};R.Xo.prototype.M1=function(){var u=this.id;
return u==R.YB||u==R.Es||u==R.$S||u==R.Xi||u==R.WV||u==R.hT};R.Xo.prototype.finish=function(u,g,K,X,w){var D=u.qT.length!=0?-1-u.qT[0]:u.z[0],q=u.g[D],C=D<0?1:q.oF,a=D<0?u.g1[-D-1]:C<=0?null:C==1?q.Zv():q.nE(u).B,x=a?a.rect:q.rect,r;
if(this.M1()||!x.$z(this.kb)){if(a==null){if(this.M1())q.b3();else{var H=g.RN(this.kb),$=f.L(H.$()*4);
f.bV(q.buffer,q.rect,$,H);q.buffer=$;q.rect=H}}else a.b3();this.O(u,x)}if(C<=0){r=f.L(g.$()*4);f.bV(this.ef,this.kb,r,g)}else{r=f.L(g.$());
r.fill(a.color);f.x5(this.ef,this.kb,r,g)}this.YS(u,!1,K?K:this.name,D,C,g,r,X,w)};R.Xo.prototype.YS=function(u,g,K,X,w,D,q,C,a){var x=q;
if(w>0){x=f.L(D.$()*4);R.Xo.MN(q,D,0,x,D)}var H=new g9(K,this);H.data=[{j:X,lK:w,mf:D,ee:x}];if(C)H.data.UC=[u.q,null];
if(a)H.data.UC=[this.OZ,u.q];u.AV(H);if(g)this.py(H.data,u);else if(C)u.q=null;R.st.aq4(u,H.data)};R.Xo.prototype.A3=function(u,g){this.k0(u,g,!1)};
R.Xo.prototype.py=function(u,g){this.k0(u,g,!0)};R.Xo.prototype.k0=function(u,g,K){if(u.d=="drawtemp"){var X=K?u.asL:u.aiL,w=g.g[u.j];
w.Ag._C=X;w.gi(g,0,0,g.q);w.O();g.X5=!0}else{R.st.ou(g,u);if(u.UC){g.q=u.UC[K?1:0];g.Ym=!0}}g.O()};R.Xo.prototype.J0=function(u){this.fJ(u,this.z2,this.vD.k8(),this.vD.WA(),this.vD.KC());
this.O(u)};R.Xo.prototype.fJ=function(u,g,K,X,w){var D=this.Xm,q=u.g[u.z[0]],C=u.qT.length!=0?u.g1[u.qT[0]]:q.oF<=0?null:q.oF==1?q.Zv():q.nE(u).B,a=f.L(w.$()*4),x,H=q.Kf(0);
if(C==null){if(this.id==R.uY&&g=="heal")f.bV(q.buffer,q.rect,a,w);else f.bV(this.ef,this.kb,a,w);if(H){x=f.L(w.$());
f.hk(a,x,3)}}else{R.Xo.MN(this.ef,this.kb,C.color,a,w)}if(u.q&&g!="qselect"){var $=w.I3(u.q.rect),r=f.L($.$()*4);
if(g=="copy"){var c=f.L($.$());f.x5(u.q.channel,u.q.rect,c,$);f.bV(a,w,r,$);f.i.$c(K,X,r,$,c,$,0,$,1,!1)}else{f.bV(K,X,r,$);
f.ea(u.q.channel,u.q.rect,r,$)}K=r;X=$}function U(m,at){var fM=Math.max(at.x,Math.min(at.x+at.m-1,m.x)),hS=Math.max(at.y,Math.min(at.y+at.n-1,m.y));
return new j4(fM,hS)}if(g=="idraw"||g=="ierase"){if(this.NM==null)this.NM=f.L(this.kb.$());var O=this.Xm.samp,A=this.nC.ui,m=U(this._Q,w),i=O==0?m:this.xN,e=i.x,S=i.y,E=R.li.aoW(this.ef,this.kb,[i,new j4(e-2,S),new j4(e+2,S),new j4(e,S-2),new j4(e,S+2)]);
if(O==2)E=[[A>>>16&255,A>>>8&255,A>>>0&255,255]];var Z=R.li.ajV(a,w,m,E,this.Xm.wconf),N=f.L(w.$());
f.x5(this.NM,this.kb,N,w);f.Mn.RN(Z,N,N);f.x5(N,w,this.NM,this.kb);f.ea(N,w,K,X);g=g.slice(1)}if(g=="erase"&&(R.st.akL(u)!=16777215||C))g="draw";
if(g=="draw")f.i.L_(D.bmode,K,X,a,w,w,D.opacity);else if(g=="erase"){var J=f.L(w.$()*4);f.bV(K,X,J,w);
if(C==null){var y=f.L(w.$());f.hk(J,y,3);f.MG(y,D.opacity);f.CD(y);f.ea(y,w,a,w)}else{f.D4(J,0,4278190080);
f.i.L_("norm",J,w,a,w,w,D.opacity)}}else if(g=="clone"||g=="heal"){var o=this.Hp(),B=this.tF.clone();
B.offset(o.x,o.y);var t=w.clone();t.wu(1,1);var W=f.L(t.$()*4),F=f.L(t.$());f.bV(K,X,W,t);f.hk(W,F,3);
f.D4(W,0);if(C==null){f.bV(this.zO,B,W,t);var G=f.L(t.$());f.hk(W,G,3);f.PD(G,F)}else R.Xo.MN(this.zO,B,C.color,W,t);
if(g=="clone"){f.K1(F,W,3);f.i.L_(D.bmode,W,t,a,w,w,D.opacity)}if(g=="heal"){var L=F.slice(0);f.round(L,20);
var Q=f.L(t.$()*4);if(C==null)f.bV(this.ef,this.kb,Q,t);else R.Xo.MN(this.ef,this.kb,C.color,Q,t);f.i.$c(W,t,Q,t,L,t,0,t,1,!1);
f.Z3.HX(Q,L,t);f.i.$c(Q,t,a,w,F,t,0,w,1,!1)}}else if(g=="dodge"||g=="burn"){var W=f.L(w.$()*4),p=1,M=0,n=0,d=0;
f.bV(K,X,W,w);var T=w.$()*4,j=R.Xo.bc;if(this.VH){if(g=="dodge")g="burn";else g="dodge"}var V=D.rng;
if(g=="dodge"){M=[1-p/2,1,1+p][V];n=[1,1/(1+p),1][V];d=[p/2,0,0][V]}if(g=="burn"){M=[1/(1-p/2),1,1-p/2][V];
n=[1,1+p,1][V];d=[-(p/2)/(1-p/2),0,0][V]}for(var P=0;P<T;P+=4){var z=W[P+3];a[P+0]=j(a[P+0],M,n,d,z);
a[P+1]=j(a[P+1],M,n,d,z);a[P+2]=j(a[P+2],M,n,d,z)}}else if(g=="sponge"||g=="redeye"){var W=f.L(w.$()*4),F=f.L(w.$());
f.bV(K,X,W,w);f.hk(W,F,3);f.me(a,W);var I=D.smode;if(this.VH)I=1-I;var v=dJ.mt("hue2");if(g=="sponge")bV.mu(v,0,[0,[-50,46][I],[6,5][I]]);
else bV.mu(v,1,{hm:[265,305,25,55],qy:[0,-90,-70]});var gj=jO.Zq("hue2",v);jO.o4(gj,W,W,w);f.i.$c(W,w,a,w,F,w,0,w,1,!1)}else if(g=="copy")f.bV(K,X,a,w);
else if(g=="sheal"){var W=f.L(w.$()*4),F=f.L(w.$());f.bV(K,X,W,w);f.hk(W,F,3);W.fill(0);var jA=this.zO,Y=this.tF;
if(C){jA=f.L(Y.$()*4);R.Xo.MN(this.zO,Y,0,jA,Y)}var jv=f.MQ.HX(jA,Y,F,W,w);if(jv!=0)f.bV(jA,Y,W,w);if(this.Xm.sfrom==0)f.bV(W,w,a,w);
else{f.bV(this.ef,this.kb,a,w);f.K1(F,W,3);f.i.L_("norm",W,w,a,w,w,1)}}else if(g=="qselect"){var iR=this.kb,cj=iR.m,j8=iR.n,as=cj*j8,gW=this.vD.k8(),E=this.ef,af=R.uO.OW,F=af.fs;
F.fill(128);for(var P=0;P<as;P++){var at=gW[P<<2],jd=gW[(P<<2)+3];if(jd==255&&(at==0||at==255))F[P]=at}F[0]=F[cj-1]=0;
F[(j8>>>1)*cj]=F[(j8>>>1)*cj+cj-1]=0;R.tv.D8(af,!0);u.q={rect:iR,channel:af.q.slice(0)};u.Ym=!0}if(C==null){if(H)f.K1(x,a,3);
f.bV(a,w,q.buffer,q.rect)}else R.Xo.qx(a,w,C)};R.Xo.Hp=function(){return null};R.Xo.bc=function(u,g,K,X,w){var D=u*(1/255),q=X+g*Math.pow(D,K),C=Math.round(q*w+D*(255-w));
return Math.max(0,Math.min(255,C))};R.Xo.MN=function(u,g,K,X,w){var D=f.L(w.$());D.fill(K);f.x5(u,g,D,w);
X.fill(255);f.qM(D,X)};R.Xo.qx=function(u,g,K){var X=f.L(g.$());f.uT(u,X);f.x5(X,g,K.channel,K.rect)};
R.uO=function(u,g,K){R.N8.call(this,u,g,K);this.Xm={binop:0,feat:0,cstr:{m7:0,x:3,y:2},wconf:[16,!0,!0],anta:!0,sall:!1};
this.B0=new j4(-1,-1);this.Wu=new j4(-1,-1);this.B1="default";this.Rz=null;this.ahM=!0;this.Cu=!1;this.kp=new jX;
this.Yd=!1;this.Dc=null;this.CP=null;this.pF=!1;this.ku=!1};R.uO.prototype=new R.N8;R.uO.prototype.au3=function(){var u=this.Xm,g=[u.binop,u.feat];
if(this.id==R.eu)g.push(u.wconf);return g};R.uO.prototype.akA=function(u,g,K){var X=this.Xm;X.binop=u[0];
X.feat=u[1];X.wconf=u[2];var w=new eG(h.E.Y,!0);w.data={d:h.s.SI,b:this.id,Xm:X};K.c(w)};R.uO.OW={key:""};
R.uO.aS=function(u,g,K){var X={$T:u,NA:{classID:"setd",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}};
if(g)X.NA.T=g;if(K!=null)X.NA.AntA={t:"bool",v:K};return X};R.uO.nv=function(u,g,K){return R.uO.aS("set",{t:"Objc",v:{classID:u,Top:{t:"UntF",v:{type:"#Pxl",val:g.y}},Left:{t:"UntF",v:{type:"#Pxl",val:g.x}},Btom:{t:"UntF",v:{type:"#Pxl",val:g.y+g.n}},Rght:{t:"UntF",v:{type:"#Pxl",val:g.x+g.m}}}},K)};
R.uO.Ws=function(u,g,K){var X=[],w=[],q="set";for(var P=0;P<u.length;P+=2){X.push(u[P]);w.push(u[P+1])}var D={t:"Objc",v:{classID:"Plgn",Pts:{t:"ObAr",v:{classID:"Pnt",arr:[{id:"Hrzn",type:"UnFl",uID:"#Pxl",arr:X},{id:"Vrtc",type:"UnFl",uID:"#Pxl",arr:w}]}}}};
if(g)q=["set","addTo","subtractFrom","interfaceWhite"][g];return R.uO.aS(q,D,K)};R.uO.afW=function(u,g,K){var X={t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Pxl",val:u.x}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:u.y}}}},w=R.uO.aS("set",X);
w.NA.Tlrn={t:"long",v:g[0]};w.NA.AntA={t:"bool",v:g[1]};w.NA.Cntg={t:"bool",v:g[2]};if(K==!0)w.NA.Mrgd={t:"bool",v:K};
return w};R.uO.IX=function(u){return R.uO.aS("set",{t:"enum",v:{Ordn:u?"Al":"None"}})};R.uO.ahs=function(u,g,K){var X={classID:"null"};
if(u!="border")X.selectionModifyEffectAtCanvasBounds={t:"bool",v:K};var w={e:"By",c:"By",b:"Wdth",f:"Rds",s:"Rds"}[u[0]];
X[w]={t:"UntF",v:{type:"#Pxl",val:g}};return{$T:u,NA:X}};R.uO.yI=function(u,g,K){var X={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},w={t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:g}}]};
if(K)w.v.push({t:"name",v:{classID:"Lyr",val:K}});var D=[{classID:"null",null:X,T:w},{classID:"null",null:w,T:X},{classID:"null",null:w,From:X},{classID:"null",null:w,With:X}],q=["set","add","subtract","interfaceIconFrameDimmed"];
return{$T:q[u],NA:D[u]}};R.uO.Ov=function(u,g){var K=new eG(h.E.Y,!0);K.data={d:h.s.zS,M3:hO.D9};if(!g.yO)u.c(K);
K.data={d:h.s.zS,M3:hO.vY};if(!g.Pk.bA)u.c(K)};R.uO.prototype.RR=function(u,g,K,X,w){R.uO.Ov(g,w);this.Rz=g;
var D=u.d,q,C,a=new dS(0,0,K.m,K.n),jm=!1,bD,f1,ft,ie;if(D=="fromAction"){var x=u.yK,H=x.$T,$=x.NA,r=$?$.selectionModifyEffectAtCanvasBounds:null,c=r&&r.v;
if(H=="colorRange"){if($.Clrs){var U=$.Clrs.v.Clrs,O=0,A=255,m=["Shdw","Mdtn","Hghl"].indexOf(U),E=.4;
if(m==0)A=60;else if(m==1){O=100;A=150}else O=190;var i=["shadows","midtones","highlights"][m],e=$[i+"LowerLimit"],S=$[i+"UpperLimit"];
if(e)O=e.v;if(S)A=S.v;var Z=$[i+"Fuzziness"];if(Z)E=Z.v/100;q=R.uO.HV(K,O,A,E,!0)}else{var O=$.Mnm.v,A=$.Mxm.v,E;
O={CU:O.Lmnc.v,_x:O.A.v,U:O.B.v};A={CU:A.Lmnc.v,_x:A.A.v,U:A.B.v};E=$.Fzns.v/200;q=R.uO.HV(K,O,A,E)}C=[7,8]}else if(H=="inverse"){if(K.q==null){alert("No selection!");
return}q={channel:f.L(a.$()),rect:a};f.x5(K.q.channel,K.q.rect,q.channel,q.rect);f.CD(q.channel);C=[7,2]}else if(H=="expand"){var N=$.By.v.val,J=K.q.rect.clone();
J.wu(N,N);var y=f.L(J.$()),o=f.L(J.$());f.x5(K.q.channel,K.q.rect,o,J);f.style.stroke(o,y,J,N);q={channel:y,rect:J};
C=[7,4]}else if(H=="contract"){var N=$.By.v.val,B=K.q.rect.clone();B.wu(1,1);if(!c)B=B.I3(a);var o=f.L(B.$()),t=f.L(o.length);
f.x5(K.q.channel,K.q.rect,o,B);f.CD(o);f.style.stroke(o,t,B,N);f.CD(t);q={channel:t,rect:B};f.b3(q);
C=[7,5]}else if(H=="border"){var N=$.Wdth.v.val;q=R.uO.a9Y(K.q,N/2,N/2);C=[7,9]}else if(H=="feather"||H=="smoothness"){var N=$.Rds.v.val;
q=R.uO.adk(K.q,N,H=="smoothness",a,c);C=H=="feather"?[7,6]:[19,3,0]}else if(H=="move"){var W=$.T.v,J=K.q.rect.clone();
J.x+=W.Hrzn.v.val;J.y+=W.Vrtc.v.val;q={channel:K.q.channel,rect:J};C=[7,7]}else{var F=$.null.v,G=$.AntA!=null&&$.AntA.v;
function L(eY){var cf=eY.Top.v.val,eF=eY.Left.v.val;return new dS(eF,cf,eY.Rght.v.val-eF,eY.Btom.v.val-cf)}function Q(eY){var cf=eY[0].arr,d7=eY[1].arr,hs={v:[],F:[]};
for(var P=0;P<cf.length;P++){hs.F.push(P==0?"M":"L");hs.v.push(cf[P],d7[P])}hs.F.push("Z");return hs}var T=["set","addTo","subtractFrom","interfaceWhite"].indexOf(H),j=$.T?$.T.v:null;
if(j&&j.classID=="Elps"){q=this.aj9(R.RE.ama(L(j)));C=[10,4]}else if(j&&j.classID=="Rctn"){var p=L(j);
q={channel:f.L(p.$()),rect:p.clone()};q.channel.fill(255);C=[10,15]}else if(j&&j.classID=="ObSl"){var p=L(j),M=R.uO.OW,n=M.rect,d=M.fs,V=n.m,z=n.n,I=p.x-n.x,v=I+p.m-1,gj=Math.max(I,Math.min(v,I+v>>>1)),jA=p.y-n.y,Y=jA+p.n-1,jv=Math.max(jA,Math.min(Y,jA+Y>>>1)),iR=Math.max(I,0),cj=Math.min(v,V),j8=Math.max(jA,0),as=Math.min(Y,z);
d.fill(128);if(0<=jA)for(var gW=iR;gW<cj;gW++)d[jA*V+gW]=0;if(Y<z)for(var gW=iR;gW<cj;gW++)d[Y*V+gW]=0;
if(0<=I)for(var af=j8;af<as;af++)d[af*V+I]=0;if(v<V)for(var af=j8;af<as;af++)d[af*V+v]=0;var at=R.kG.a5U,jd=Math.round(p.m*at),fM=Math.round(p.n*at);
for(var gW=Math.max(0,gj-jd);gW<Math.min(V,gj+jd);gW++)d[jv*V+gW]=255;for(var af=Math.max(0,jv-fM);af<Math.min(z,jv+fM);
af++)d[af*V+gj]=255;R.tv.D8(M,!0);q={channel:M.q.slice(0),rect:n.clone()};C=[10,44]}else if(j&&j.classID=="Plgn"){q=this.aj9(Q(j.Pts.v.arr));
C=[10,9]}else if(j&&j.classID=="Pnt"){q=R.li.a17(K,new j4(j.Hrzn.v.val,j.Vrtc.v.val),[$.Tlrn.v,G,$.Cntg==null||$.Cntg.v],$.Mrgd?$.Mrgd.v:!1);
C=[10,12]}else if(j&&j.Ordn=="None"){q=null;C=[7,1]}else if(j&&j.Ordn=="Al"){var hS=a;if(K.z.length!=0){var dr=K.root.WX(K.z[0]);
while(dr.parent&&dr.parent.parent)dr=dr.parent;if(dr.j.add.artb)hS=dr.j.T0()}q={channel:f.L(hS.$()),rect:hS};
q.channel.fill(255);C=[7,0]}else if(j&&j[0]&&j[0].v.keyID=="WrPt"){var cB={d:"frompath",ZX:[-1,0,0]};
this.RR(cB,g,K,X,w);return}else{var b1=["set","add","subtract","interfaceIconFrameDimmed"].indexOf(H),ic=H=="set"?j:F,dV=ic[0].v.enum,cB;
if(dV=="Trsp"||dV=="Msk"||dV=="vectorMask"||dV=="Trgt"){var eS=K.z[0];if(ic.length==2)eS=bd.d6(K,ic[1]);
var a2=["Trsp","Msk","vectorMask"].indexOf(dV);if(dV=="Trgt"&&K.g[eS].oF==1)a2=1;cB={d:"fromlayer",ZX:[eS,a2,b1]}}else{if(ic[0].t=="name"){var eS=0;
for(var P=0;P<K.g1.length;P++)if(K.g1[P].name==ic[0].v.val)eS=P;cB={d:"fromchannel",ZX:[-5-eS,0,b1]}}else{var d3=["RGB","Rd","Grn","Bl"].indexOf(dV);
cB={d:"fromchannel",ZX:[-1-d3,0,b1]}}}this.RR(cB,g,K,X,w);return}if(!G&&q)f.round(q.channel);if($.Fthr)q=R.uO.adk(q,$.Fthr.v.val,!1);
if(H!="set"&&K.q!=null)q=f.Mn.$i(q,K.q,T)}if(H=="expand"||H=="contract")if(!c&&!a.contains(q.rect)){var cE=q.rect.I3(a),eP=f.L(cE.$());
f.x5(q.channel,q.rect,eP,cE);q.channel=eP;q.rect=cE}}if(D=="qmask"){jm=!0;var b2=K.N6(),dh=new dS(0,0,K.m,K.n);
if(b2){q=b2.rect.$z(dh)&&f.yh(b2.channel,255)?null:{rect:b2.rect.clone(),channel:b2.channel.slice(0)};
bD=b2}else{q=null;f1=new l.I2;f1.color=0;f1.name="Quick Mask";f1.dd=!0;if(K.q){f1.rect=K.q.rect.clone();
f1.channel=K.q.channel.slice(0)}else{f1.rect=dh;f1.channel=f.L(f1.rect.$());f1.channel.fill(255)}}C=[6,6,1];
K.X5=!0}if(D=="setsel"){q=u.q;C=u.Uz}if(D=="crange"){var O=u.PS,A=u.n4;q=R.uO.HV(K,O,A,u.tY);C=[7,8]}if(D=="fromlayer"||D=="fromchannel"||D=="frompath"){var aY=u.ZX[0],a2=u.ZX[1],T=u.ZX[2];
if(D=="fromlayer"){if(aY==null)aY=K.z[0];var eF=K.g[aY];if(a2==0){var de=eF.rect,i5=eF.buffer;if(de.fg())return;
var eA=f.L(i5.length>>>2);f.hk(i5,eA,3);q={channel:eA,rect:de.clone()}}else{if(eF.B==null)eF.th(K);var c4=a2==1?eF.Zv():eF.B;
q=R.uO.Iu(c4,a)}this.track(R.uO.yI(T,["Trsp","Msk"][a2],eF.getName()))}else if(D=="frompath"){var jC=K.f$(),hd=jC[1],jC=jC[0];
if(aY==null)if(jC.length==0||hd.length==0)return;var iG=jC[hd[0]];if(aY!=null)for(var P=0;P<jC.length;
P++)if(jC[P].Mw==aY)iG=jC[P];var c4=iG.add.vmsk.Zv(),cC=c4.WA();if(cC.$()==0)return;var eA=c4.wf();if(u.ZX[3]!=null)this.ahM=u.ZX[3];
if(this.ahM){eA=eA.slice(0);f.round(eA)}ft=[JSON.stringify(K.qe),JSON.stringify(K.J9)];ie=["[]","[]"];
K.qe=[];K.J9=[];q={channel:eA,rect:cC}}else{if(aY==null)aY=R.uO.jS(K);q=R.uO.dw(K,aY)}if(T!=0&&K.q)q=f.Mn.$i(q,K.q,T);
C=[14,11]}if(q!=null&&f.yh(q.channel,0)){q=null;C=[7,1]}if(q)f.b3(q);var cL=new g9(C,this);cL.data={d:"changesel",OZ:K.q,V5:q,N6:jm,asD:bD,adR:f1,kK:ft,ad5:ie};
K.AV(cL);this.py(cL.data,K)};R.uO.jS=function(u){var g=0;if(u.qT.length!=0)g=-5-u.qT[0];else if(JSON.stringify(u.t.PK)=="[1,1,1]")g=-1;
else g=-2-u.t.PK.indexOf(1);return g};R.uO.dw=function(u,g){var K,X=new dS(0,0,u.m,u.n);if(-5<g&g<0){var w=-g-1,D=u.KS(),q=f.L(X.$());
if(w==0)f.uT(D,q);else f.hk(D,q,w-1);K={channel:q,rect:X.clone()}}if(g<-4){K=R.uO.Iu(u.g1[-g-5],X)}return K};
R.uO.Iu=function(u,g){var K,X;if(u.Ld()==0){X=u.WA().clone();if(X.$()==0)return;K=u.wf()}else{X=g;K=f.L(X.$());
u.WC(X,K)}return{channel:K,rect:X}};R.uO.prototype.HH=function(u){return this.Yd||u.HT&&this.id!=R.l0};
R.uO.prototype.y2=function(u,g,K){var X=new eG(g,!0);X.data=K;u.c(X)};R.uO.prototype.zq=function(u,g){var K=new eG(h.E.Y,!0);
K.data={d:h.s.Tx,SD:g};u.c(K)};R.uO.prototype.WA=function(u,g,K){g=u.q==null||this.kp.IC(1)||this.kp.TO(1)?g:null;
var X=this.B0,w=this.Wu;if(K){X.x=Math.max(0,Math.min(u.m,X.x));X.y=Math.max(0,Math.min(u.n,X.y));w.x=Math.max(0,Math.min(u.m,w.x));
w.y=Math.max(0,Math.min(u.n,w.y))}var D=R.kN.ts(X,w,g,!0,this.Xm.cstr),q=D[0].x,C=D[0].y;return new dS(q,C,D[1].x-q,D[1].y-C)};
R.uO.prototype.R4=function(u,g,K,X,w){this.ku=!0;if(this.E9())return;this.Rz=g;this.Cu=!1;this.kp.R4(X);
this.B0=u.t.wQ(w.x,w.y);this.B0=R.NP.s2(u,this.B0,K);if(this.vg(u,this.B0,X)){this.Yd=!0;this.Dc=u.q.rect.clone();
return}this.o1(u,K,X,w);u.t.T9=new dS};R.uO.prototype.vg=function(u,g,K){var X=K.a(hW.jl),w=K.a(hW.Dd);
if(u.q&&!X&&!w&&this.Xm.binop==0)return f.mZ(g,u.q.channel,u.q.rect);return!1};R.uO.prototype.ai=function(u,g,K,X,w){this.Rz=g;
if(this.pF)return;var D=u.t.wQ(w.x,w.y);if(j4.uh(this.B0,D)*u.t.P>5){this.Cu=!0;this.kp.ai()}if(X.a(hW.hE)){if(this.CP==null)this.CP=new j4(D.x-this.B0.x,D.y-this.B0.y);
this.B0.x=D.x-this.CP.x;this.B0.y=D.y-this.CP.y}else this.CP=null;this.Wu=D;if(!this.Yd)this.Wu=R.NP.s2(u,this.Wu,K);
if(this.vg(u,this.Wu,X))this.zq(g,"move");else this.zq(g,this.B1);if(this.Yd){var q=this.Dc.clone();
q.x+=this.Wu.x-this.B0.x;q.y+=this.Wu.y-this.B0.y;var C=R.NP.tl(u,q,K);u.q.rect.x=Math.round(this.Wu.x-this.B0.x+this.Dc.x+C[0]);
u.q.rect.y=Math.round(this.Wu.y-this.B0.y+this.Dc.y+C[1]);u.Ym=!0;R.NP.Pf(u,q,C);return}this.XS(u,K,X,w);
if(u.t.T9)u.t.T9=this.WA(u,X)};R.uO.prototype.E9=function(){return!1};R.uO.prototype.RB=function(u,g,K,X,w,D){var q=this.ku;
this.ku=!1;if(D||!q)return;u.t.T9=null;this.Wu=u.t.wQ(w.x,w.y);this.Wu=R.NP.s2(u,this.Wu,K);if(this.Yd){this.Yd=!1;
if(u!=null&&u.H.Ba){u.H.Ba=null;u.cK=!0}if(this.Wu.$z(this.B0)&&this.QK()==0){this.y2(g,h.E.qf,R.uO.IX());
return}this.uo(u,this.Dc,u.q.rect.clone());return}this.ws(u,K,X,w);R.uO.Ov(g,K);this.kp.RB();this.aU(g)};
R.uO.prototype.uo=function(u,g,K){var X=u.mM();if(X!=null&&X.b==this&&X.data.d=="movesel"){}else{X=new g9([7,7],this);
X.data={d:"movesel",vf:g};u.AV(X)}X.data.Lu=K;this.py(X.data,u)};R.uO.prototype.tB=function(u,g,K,X,w){this.pF=!0};
R.uO.prototype.eY=function(u,g,K,X,w){var D=new eG(h.E.Y,!0);D.data={d:h.s.SI,b:this.id,y5:w,VF:u,Jo:K};
g.c(D);this.pF=!1};R.uO.prototype.BF=function(u,g,K,X){this.kp.BF(X);if(u!=null&&u.q!=null){var w=X.mj();
if(w.x!=0||w.y!=0){var D=u.q.rect.clone();D.x+=w.x;D.y+=w.y;this.uo(u,u.q.rect.clone(),D)}}this.aU(g)};
R.uO.prototype.aU=function(u){var g=new eG(h.E.Y,!0);g.data={d:h.s.SI,b:this.id,fc:this.QK()};u.c(g)};
R.uO.prototype.QK=function(){var u=this.kp.IC(0),g=this.kp.TO(0);return R.uO.Be(this.Xm.binop,u,g)};
R.uO.Be=function(u,g,K){if(g)u=1;if(K)u=2;if(g&&K)u=3;return u};R.uO.prototype.finish=function(u,g,K,X){var w=u.q,D=this.getSelection(u,g,K,X);
if(D==null)D=R.uO.IX();else{var q=this.Xm.feat,C=this.QK();if(q!=0)D.NA.Fthr={t:"UntF",v:{type:"#Pxl",val:q}};
if(C!=0&&C!=4)D.$T=["","addTo","subtractFrom","interfaceWhite",""][C]}this.y2(this.Rz,h.E.qf,D);this.B0.fP(-1,-1);
this.Wu.fP(-1,-1)};R.uO.prototype.getSelection=function(u,g,K,X){return null};R.uO.prototype.o1=function(u,g,K,X){};
R.uO.prototype.XS=function(u,g,K,X){};R.uO.prototype.ws=function(u,g,K,X){};R.uO.prototype.A3=function(u,g){var K=u.d;
if(K=="changesel")g.q=u.OZ;if(K=="movesel")g.q.rect=u.vf;if(u.N6){if(u.asD){g.qT=[g.g1.length];g.g1.push(u.asD)}else{g.g1.pop();
g.qT=[]}}if(u.kK){g.qe=JSON.parse(u.kK[0]);g.J9=JSON.parse(u.kK[1])}g.Ym=!0};R.uO.prototype.py=function(u,g){var K=u.d;
if(K=="changesel")g.q=u.V5;if(K=="movesel")g.q.rect=u.Lu;if(u.N6){if(u.adR){g.qT=[g.g1.length];g.g1.push(u.adR)}else{g.g1.pop();
g.qT=[]}}if(u.kK){g.qe=JSON.parse(u.ad5[0]);g.J9=JSON.parse(u.ad5[1])}g.Ym=!0};R.uO.prototype.Z7=function(u){this.Xm=u.Xm};
R.uO.prototype.aj9=function(u){var g=f.p.Ha(u.v);if(g.fg())return null;var K=f.jW(g.m,g.n);K.save();
K.beginPath();K.translate(-g.x,-g.y);Typr.U.pathToContext({cmds:u.F,crds:u.v},K);K.closePath();K.fill();
K.restore();var X=f.L(g.$()),w=K.getImageData(0,0,g.m,g.n);f.hk(w.data,X,3);return{rect:g,channel:X}};
R.uO.adk=function(u,g,K,X,w){if(K)g=Math.round(g*.7);var D=Math.ceil(2.6*g),q=u.rect.clone();q.wu(D,D);
if(X&&!w)q=q.I3(X);var C=f.L(q.$()),a=f.L(C.length);f.x5(u.channel,u.rect,a,q);f.zg.td(a,C,q,g);if(K){var x=C.length;
for(var P=0;P<x;P++){var H=(C[P]-128)*g*2.5;C[P]=Math.max(0,Math.min(255,Math.round(128+H)))}}return{channel:C,rect:q}};
R.uO.a9Y=function(u,g,K){var X=Math.max(1,Math.ceil(K)),w=u.rect.clone();w.wu(X,X);var D=w.$(),q={channel:f.L(D),rect:w},C=f.L(D);
f.x5(u.channel,u.rect,C,q.rect);if(K!=0)f.style.stroke(C,q.channel,q.rect,K);else f.me(C,q.channel);
var a=f.L(D);f.CD(C);if(g!=0)f.style.stroke(C,a,q.rect,g);else f.me(C,a);f.Mn.I3(q.channel,a,q.channel);
return q};R.uO.HV=function(u,g,K,X,w){var D=new dS(0,0,u.m,u.n),q=u.KS();if(u.q){var C=u.q.rect.I3(D),a=f.L(C.$()*4);
f.bV(q,D,a,C);D=C;q=a}var x=D.$(),H=f.L(x),$=1/X;if(w){if(g>=K)g=K-1;var r=g*(1-X),c=g,U=K,O=K+(255-K)*X,A=r==c?0:1/(c-r),m=U==O?0:1/(O-U);
for(var P=0;P<x;P++){var i=P<<2,e=f.Yi(q[i],q[i+1],q[i+2]),S=0;if(e<r)S=0;else if(e<c)S=(e-r)*A;else if(e<=U)S=1;
else if(e<=O)S=1-(e-U)*m;else S=0;H[P]=q[i+3]*S*S}}else for(var P=0;P<x;P++){var i=P<<2,E=f.iu(q[i],q[i+1],q[i+2]),S=f.Wh(E,g,K,X,$);
H[P]=q[i+3]*S}return{rect:D,channel:H}};R.at=function(){R.Xo.call(this,[10,18],R.s0,"tools/blur");this.z2="copy"};
R.at.prototype=new R.Xo;R.at.prototype.R4=function(u,g,K,X,w){var D=X.a(hW.Dd)?aM.Vc:aM.s0;this.aH(u,K,X,w,this.Xm.strn,D);
if(this.vD==null)return;this.J0(u)};R.at.prototype.ai=function(u,g,K,X,w){this.jB(u,g,K);if(this.ar)this.Bf(u,K,w);
if(this.vD==null)return;if(!w.HT)return;this.ja(u,K,X,w);this.J0(u)};R.OL=function(){R.Xo.call(this,[10,0],R.ei,"tools/brush");
this.z2="draw"};R.OL.prototype=new R.Xo;R.OL.prototype.R4=function(u,g,K,X,w){if(this.J6(X,g,w))return;
this.aH(u,K,X,w,this.Xm.flow);if(this.vD==null)return;this.J0(u)};R.OL.prototype.ai=function(u,g,K,X,w){this.jB(u,g,K);
if(this.ar)this.Bf(u,K,w);if(this.vD==null)return;if(!w.HT)return;this.ja(u,K,X,w);this.J0(u)};R.VJ=function(){R.Xo.call(this,[10,42],R.u3,"tools/crepl");
this.z2="idraw";this.Xm.bmode="hue "};R.VJ.prototype=new R.Xo;R.VJ.prototype.R4=function(u,g,K,X,w){if(this.J6(X,g,w))return;
this.aH(u,K,X,w,this.Xm.flow);if(this.vD==null)return;this.J0(u)};R.VJ.prototype.ai=function(u,g,K,X,w){this.jB(u,g,K);
if(this.ar)this.Bf(u,K,w);if(this.vD==null)return;if(!w.HT)return;this.ja(u,K,X,w);this.J0(u)};R.jX=function(){R.Xo.call(this,[10,43],R.hT,"tools/redeye");
this.Xm.smode=0;this.z2="redeye"};R.jX.prototype=new R.Xo;R.jX.prototype.R4=function(u,g,K,X,w){this.aH(u,K,X,w,this.Xm.flow);
if(this.vD==null)return;this.J0(u)};R.jX.prototype.ai=function(u,g,K,X,w){this.jB(u,g,K);if(this.ar)this.Bf(u,K,w);
if(this.vD==null)return;if(!w.HT)return;this.ja(u,K,X,w);this.J0(u)};R.W0=function(){R.Xo.call(this,[10,38],R.vV,"tools/pencil");
this.z2="draw"};R.W0.prototype=new R.Xo;R.W0.prototype.R4=function(u,g,K,X,w){if(this.J6(X,g,w))return;
this.aH(u,K,X,w,this.Xm.flow);if(this.vD==null)return;this.J0(u)};R.W0.prototype.ai=function(u,g,K,X,w){this.jB(u,g,K);
if(this.ar)this.Bf(u,K,w);if(this.vD==null)return;if(!w.HT)return;this.ja(u,K,X,w);this.J0(u)};R.x$=function(){R.Xo.call(this,[10,22],R.Xi,"tools/burn");
this.z2="burn"};R.x$.prototype=new R.Xo;R.x$.prototype.R4=function(u,g,K,X,w){this.aH(u,K,X,w,this.Xm.expo/Math.E);
if(this.vD==null)return;this.J0(u)};R.x$.prototype.ai=function(u,g,K,X,w){this.jB(u,g,K);if(this.ar)this.Bf(u,K,w);
if(this.vD==null)return;if(!w.HT)return;this.ja(u,K,X,w);this.J0(u)};R.Su=function(u,g,K){R.Xo.call(this,u==""?null:u?u:[10,1],g?g:R.AY,K?K:"tools/clone");
this.z2="clone";this.SB=null;this.u=null};R.Su.prototype=new R.Xo;R.Su.prototype.R4=function(u,g,K,X,w){var D=this.Xm,q=D.alt[0];
if(X.a(hW.Dd)||X.a(hW.ex)||q){this.SB=u.t.wQ(w.x,w.y);this.u=null;if(q)this.hV({alt:[!1]},g);this.Wn(u);
this.Hb(K,X,u,w);return}if(this.SB==null){alert(fc.get([15,7,0]));return}this.Hb(K,X);this.aH(u,K,X,w,this.Xm.flow);
if(this.vD==null)return;this.u=this.agL(u.t.wQ(w.x,w.y));this.J0(u)};R.Su.prototype.agL=function(u){var g=this.u;
if(g==null||!this.Xm.algnd)g=new j4(Math.round(u.x-this.SB.x),Math.round(u.y-this.SB.y));return g};R.Su.prototype.ai=function(u,g,K,X,w){this.jB(u,g,K);
if(this.ar)this.Bf(u,K,w);if(this.vD==null){if(this.SB!=null)this.Hb(K,X,u,w);return}if(!w.HT||this.SB==null)return;
this.ja(u,K,X,w);this.J0(u)};R.Su.prototype.Hp=function(){return this.u};R.SO=function(u,g,K){R.N8.call(this,u,g,K);
this.Wa={oR:{m7:0,x:0,y:0},Tg:!1};this.E4=!1;this.EF=null;this.cursor=null;this.ahb=0;this.xd=null;this.B0=null;
this.hv=null;this.ol=!1};R.SO.prototype=new R.N8;R.SO.prototype.Sn=function(){return this.EF!=null};
R.SO.prototype.HH=function(u){return this.B0!=null||this.EF&&this.EF.agm()};R.SO.prototype.R4=function(u,g,K,X,w){this.xd=w;
var D=u.t.wQ(w.x,w.y);D.x=Math.round(D.x);D.y=Math.round(D.y);var q=this.Wa.oR,C=q.m7!=0?q.x/q.y:null,a=this.ol;
this.ol=!1;if(this.EF){var x=this.EF.vw(D,u.t.P);if(a&&x==null){this.EF.clear(u);this.EF=null}else{this.EF.R4(u,K,X,D,C,!1,w);
return}}this.B0=R.NP.s2(u,D,K)};R.SO.prototype.Ji=function(u,g,K){if(K==null)K=[u.x,u.y,u.x+u.m,u.y,u.x+u.m,u.y+u.n,u.x,u.y+u.n];
return new cR(K,!0,!1,this.id==R.it,!0,g,this.id==R.it?2:0,this.id==R.it?4:3)};R.SO.prototype.Hb=function(u){var g=new eG(h.E.Y,!0);
g.data={d:h.s.Tx,SD:this.cursor};u.c(g)};R.SO.prototype.enable=function(u,g,K,X){this.Rz=g;this.cursor="crosshair";
this.Hb(g);if(u!=null&&this.EF==null){var w=u.q?{RM:"cropby",avo:3}:{RM:"config",Wa:this.Wa,atw:!0};
this.Z7(w,g,u,X,K);if(u.q==null&&this.Wa.oR.m7==0)this.ol=!0}};R.SO.prototype.ai=function(u,g,K,X,w){this.xd=w;
var D=u.t.wQ(w.x,w.y);if(!w.HT){var q="crosshair";if(this.EF){var C=this.EF.vw(D,u.t.P,null,w);if(C)q=C;
else q="default"}if(q!=this.cursor){this.cursor=q;this.Hb(g)}}if(this.EF)this.EF.ai(u,K,X,D);else if(this.B0){if(this.E4){u.H.vn={F:["M","L"],v:[this.B0.x,this.B0.y,D.x,D.y]}}else{var a=R.kN.ts(this.B0,R.NP.s2(u,D,K),X,!0,this.Wa.oR),x=a[0].x,H=a[0].y,$=this.hv=new dS(x,H,a[1].x-x,a[1].y-H);
u.H.vn=f.p.JS($);R.N8.wJ(w,$,u,K)}u.cK=!0}};R.SO.aiF=function(u,g,K){var X,w,C,a;if(g<=K){X=g;w=K}else{X=K;
w=g}var D=u-Math.floor((u+Math.PI)/(2*Math.PI))*2*Math.PI;D=Math.abs(D);if(D>Math.PI/2)D=Math.PI-D;var q=X/(w*Math.sin(D)+X*Math.cos(D));
if(g<=K){C=X*q;a=w*q}else{C=w*q;a=X*q}return{QM:C,xQ:a}};R.SO.prototype.RB=function(u,g,K,X,w){this.xd=w;
var D=u.t.wQ(w.x,w.y);if(this.EF==null){var q=this.hv;if(this.B0&&(q||this.E4)){if(this.E4){var C=this.B0,a=D;
if(C.x>a.x){var x=C;C=a;a=x}var C=Math.atan2(-(a.y-C.y),a.x-C.x),H=R.SO.aiF(C,u.m,u.n),$=[0,0,H.QM,0,H.QM,H.xQ,0,H.xQ],r=new eV;
r.translate(-H.QM/2,-H.xQ/2);r.rotate(C);r.translate(u.m/2,u.n/2);f.p.D($,r,$);this.EF=this.Ji(q,!1,$);
u.H.vn=null;this.E4=!1}else{var c=this.Wa.oR;this.EF=this.Ji(q,c.m7!=0)}this.EF.mr(u,K);this.hv=null;
this.y2(g,h.E.Y,{d:h.s.SI,b:this.id,c4:!0});this.B0=null;u.H.kj=[];u.cK=!0}return}this.EF.RB(u,K,X,D);
this.y2(g,h.E.Y,{d:h.s.SI,b:this.id,c4:!0});var $=this.EF.zP();if(Math.abs($[0]-$[4])<2&&Math.abs($[1]-$[5])<2){this.disable(u,g,null,X);
return}if(Date.now()-this.ahb<200&&this.EF.yB(D)){this.xU(u,K);this.disable(u,g,K,X);return}this.ahb=Date.now()};
R.SO.prototype.BF=function(u,g,K,X){var w=this.EF;if(w==null||this.xd&&this.xd.HT)return;if(X.a(hW.R0)){this.xU(u,K);
this.disable(u,g,K,X)}else if(X.a(hW.m0)){this.disable(u,g,K,X)}else w.BF(u,K,X)};R.SO.aiJ=function(u,g,K){var X={classID:"null",T:{t:"Objc",v:{classID:"Rctn",Top:{t:"UntF",v:{type:"#Pxl",val:u[1]}},Left:{t:"UntF",v:{type:"#Pxl",val:u[0]}},Btom:{t:"UntF",v:{type:"#Pxl",val:u[1]+u[3]}},Rght:{t:"UntF",v:{type:"#Pxl",val:u[0]+u[2]}}}},Angl:{t:"UntF",v:{type:"#Ang",val:g!=null?g:0}},Dlt:{t:"bool",v:K!=null?K:!0},cropAspectRatioModeKey:{t:"enum",v:{cropAspectRatioModeClass:"pureAspectRatio"}},CnsP:{t:"bool",v:!1}};
return{$T:"crop",NA:X}};R.SO.or=function(u,g){if(g==null)g=[!0,!0,!0,!0];var K={classID:"trim",trimBasedOn:{t:"enum",v:{trimBasedOn:["topLeftPixelColor","bottomRightPixelColor","Trns"][u]}}},X=["Top","Left","Btom","Rght"];
for(var P=0;P<4;P++)K[X[P]]={t:"bool",v:g[P]};return{$T:"trim",NA:K}};R.SO.aou=function(u,g,K,X){var w={classID:"null"};
if(X!=null){w.Wdth={t:"UntF",v:{type:"#Pxl",val:u}};w.Hght={t:"UntF",v:{type:"#Pxl",val:g}};w.Intr={t:"enum",v:{Intp:["Nrst","Blnr","bicubicSharper"][X]}}}if(K!=null)w.Rslt={t:"UntF",v:{type:"#Rsl",val:K}};
return{$T:"imageSize",NA:w}};R.SO.aeB=function(u,g,K){if(K==null)K=4;var X=Math.floor(K/3),w=K%3;return{$T:"canvasSize",NA:{classID:"null",Wdth:{t:"UntF",v:{type:"#Pxl",val:u}},Hght:{t:"UntF",v:{type:"#Pxl",val:g}},Hrzn:{t:"enum",v:{HrzL:["Left","Cntr","Rght"][w]}},Vrtc:{t:"enum",v:{VrtL:["Top","Cntr","Btom"][X]}}}}};
R.SO.prototype.RR=function(u,g,K,X,w){var D=new dS(0,0,K.m,K.n),q=[11,3],C=K.wY,a=K.m/2,x=K.n/2,H=1,z,I;
if(u.d=="fromAction"){var $=u.yK,r=$.$T,c=$.NA,U=K.m/K.n,O=c.Wdth?c.Wdth.v.val:-1,A=c.Hght?c.Hght.v.val:-1,C=c.Rslt?c.Rslt.v.val:null,m=c.Wdth?c.Wdth.v.type:c.Hght?c.Hght.v.type:-1,i=1,e;
if(m=="#Prc"){if(O!=-1)O=Math.round(K.m*O/100);if(A!=-1)A=Math.round(K.n*A/100)}if(r=="imageSize"){if(c.Intr){if(c.Intr.v.Intp=="Nrst")i=0;
if(c.Intr.v.Intp=="bicubicSharper")i=2;if(O==-1&&A==-1){var S=C/K.wY;O=Math.round(K.m*S);A=Math.round(K.n*S)}if(c.CnsP&&c.CnsP.v){if(O==-1)O=Math.round(A*U);
if(A==-1)A=Math.round(O/U)}}else{if(m=="#Prc")C=Math.round(K.wY*(K.m/O));else if(m==-1)C=Math.round(C);
else throw"e";O=K.m;A=K.n}e={d:"imgsize",_8:O,GV:A,zU:C,eg:i}}else if(r=="canvasSize"){if(O==-1)O=K.m;
if(A==-1)A=K.n;if(c.Rltv&&c.Rltv.v==!0){if(c.Wdth)O+=K.m;if(c.Hght)A+=K.n}var E=c.Vrtc?c.Vrtc.v.VrtL:"Cntr",Z=c.Hrzn?c.Hrzn.v.HrzL:"Cntr";
e={d:"canvsize",_8:O,GV:A,$P:3*["Top","Cntr","Btom"].indexOf(E)+["Left","Cntr","Rght"].indexOf(Z)}}else if(r=="revealAll"){e={d:"revealAll"}}else if(r=="trim"){var N={topLeftPixelColor:0,bottomRightPixelColor:1,Trns:2}[c.trimBasedOn.v.trimBasedOn];
if(N==null)throw"e";var J=["Top","Left","Btom","Rght"],y=[!0,!0,!0,!0];for(var P=0;P<4;P++)if(c[J[P]])y[P]=c[J[P]].v;
e={d:"trim",anN:N,e9:y}}else if(r=="crop"){var o,B,t,W;if(c.T){var F=c.T.v,o=Math.round(F.Left.v.val),B=Math.round(F.Top.v.val),t=Math.round(F.Rght.v.val)-o,W=Math.round(F.Btom.v.val)-B}else{var G=K.g[K.z[0]],L=G.rect;
L=L.I3(new dS(0,0,K.m,K.n));o=L.x;B=L.y;t=L.m;W=L.n}e={d:"canvsize",_8:t,GV:W,u:new j4(o,B),ano:c.Dlt!=null&&c.Dlt.v}}else console.log($);
if(e)this.RR(e,g,K,X,w);return}else if(u.d=="imgsize"){D=new dS(0,0,u._8,u.GV);if(u.zU)C=u.zU;H=u.eg}else if(u.d=="canvsize"){var Q=u.$P!=null?u.$P:0;
D=new dS(0,0,u._8,u.GV);var T=K.m-u._8,j=K.n-u.GV,p=Math.round(T/2),M=Math.round(j/2);if(Q==1||Q==4||Q==7)D.x=p;
if(Q==2||Q==5||Q==8)D.x=T;if(Q==3||Q==4||Q==5)D.y=M;if(Q==6||Q==7||Q==8)D.y=j;if(u.u){D.x=u.u.x;D.y=u.u.y}}else if(u.d=="rot"&&(u.h+2*Math.PI)%(Math.PI/2)!=0){var n=f.p.JS(D).v,d=new eV;
d.translate(-a,-x);d.rotate(u.h);d.translate(a,x);f.p.D(n,d,n);D=f.p.Ha(n)}else if(u.d=="rot"&&u.h!=Math.PI&&u.h!=-Math.PI){D=new dS(a-K.n/2,x-K.m/2,K.n,K.m);
if((K.m+K.n&1)==1){a=Math.floor(a);x=Math.floor(x);D=new dS(a-Math.floor(K.n/2),x-Math.floor(K.m/2),K.n,K.m);
if((K.m&1)==1&&u.h!=-Math.PI/2)D.y--;if((K.n&1)==1&&u.h==-Math.PI/2)D.x--}}else if(u.d=="trim"){q=[11,12,0];
var V=K.KS(),L=new dS(0,0,K.m,K.n);D=f.Yg(V,L,u.anN,u.e9);if(D.fg())D=L}else if(u.d=="cropbysel"){q=[11,12,1];
D=K.q.rect.clone()}else if(u.d=="revealAll"){q=[11,12,2];D=K.root.WA(K,!0)}var v=u.d=="canvsize"&&u.ano;
if(u.d=="imgsize"||u.d=="rot"||u.d=="scl"||v){var gj=new eV;if(u.d=="imgsize"){q=[11,10];gj.scale(u._8/K.m,u.GV/K.n)}else if(v){}else{gj.translate(-a,-x);
if(u.d=="rot")gj.rotate(u.h);if(u.d=="scl")gj.scale(u.h.x,u.h.y);gj.translate(a,x);q=u.Uz}I=f.Q.$D(gj);
z=this.lO(K,w,!0,I,H,v?D:null)}else if(u.d=="auto-align"){if(K.z.length<2){alert("Select two or more layers.");
return}var jA=[];for(var P=0;P<K.z.length;P++){var G=K.g[K.z[P]];if(!G.UR()&&G.add.SoLd==null){alert("Unsupported layer selected.");
return}if(G.rect.fg()){alert("Empty layer selected.");return}jA.push([G.buffer,G.rect])}var Y=f.sI.wj(jA,0);
if(Y==null){alert("No similarity found.");return}I=Y[1];var jv=K.z;K.z=K.z.slice(1);z=this.lO(K,w,!1,Y.slice(1),H);
K.z=jv;D=K.root.WA(K,!0);q=[2,10,1]}var iR=new dS(0,0,K.m,K.n);if(!D.fg()&&(!D.$z(iR)||z!=null)){var cj=new g9(q,this);
cj.data={acs:K.wY,zU:C,Tp:z,AN:I,qq:R.SO.aa1(K,D,iR,z!=null)};R.SO.awx(K,cj.data,D);K.AV(cj);this.py(cj.data,K)}};
R.SO.aa1=function(u,g,K,X){if(u.BD.length==0)return null;var w=JSON.stringify(u.BD),D=JSON.parse(w);
R.gC.akt(D,g,K,X);D=JSON.stringify(D);return[w,D]};R.SO.prototype.lO=function(u,g,K,X,w,D){var q={g:[],_J:null,yb:null};
if(K){for(var P=0;P<u.g.length;P++)q.g.push(P);for(var P=0;P<u.Ml.length;P++)q.g.push(-1-P);for(var P=0;
P<u.g1.length;P++)q.g.push(-1e3-P)}else q.g=u.z.slice(0);q._J=R.S.lD(u,q.g,!0);R.S.Om(u,g,q.g,q._J,w,X,null,!0,D);
q.yb=R.S.lD(u,q.g,!0);return q};R.SO.prototype.py=function(u,g){if(u.zU)g.wY=u.zU;if(u.qq)g.BD=JSON.parse(u.qq[1]);
if(u.Tp){R.SO.Ce(g,f.Q.Y$(u.AN));R.S.G2(g,u.Tp.g,u.Tp.yb)}R.SO.k3(g,u)};R.SO.prototype.A3=function(u,g){if(u.acs)g.wY=u.acs;
if(u.qq)g.BD=JSON.parse(u.qq[0]);R.SO.pL(g,u);if(u.IZ)g.t.u.fQ(u.IZ);g.a1E();if(u.Tp){var K=f.Q.Y$(u.AN).clone();
K.CD();R.SO.Ce(g,K);R.S.G2(g,u.Tp.g,u.Tp._J)}};R.SO.Ce=function(u,g){for(var P=0;P<u.g.length;P++){var K=u.g[P];
if(K.add.artb==null)continue;var X=f.p.JS(K.T0()).v;f.p.D(X,g,X);var w=f.p.Ha(X);K.ab(w)}};R.SO.zr=function(u){var g=new dS,K=0,X=u.root.children.length;
for(var P=0;P<X;P++){var w=u.root.children[P].j;if(w.add.artb==null)continue;g=g.RN(w.T0());K++}var D=new dS(0,0,u.m,u.n);
if(!g.fg()&&!D.$z(g))return g;return null};R.SO.CE=function(u){var g=R.SO.zr(u);if(g)R.SO.Tg(u,g,!0);
return g};R.SO.Tg=function(u,g,K){var X=u.m,w=u.n,D=g.m,q=g.n,C=g.x==0&&g.y==0;if(C&&X==D&&w==q)return;
u.m=D;u.n=q;var a=[];for(var P=0;P<u.g.length;P++)a.push(P);if(!C)R.NP.rI(u,a,null,-g.x,-g.y);for(var P=0;
P<u.g.length;P++){u.g[P].th(u)}u.a1E();if(K){var x=u.t.u,H=u.t.P;x.x+=Math.round((g.x+(D-X)/2)*H);x.y+=Math.round((g.y+(q-w)/2)*H)}else u.t.u.fP(0,0);
if(u.q)u.q.rect.offset(-g.x,-g.y);var $=u.xv();for(var r=0;r<$[0].length;r++)if($[1][r]==-1){var c=u.m_[r];
c[1]-=c[0]==0?g.x:g.y}for(var P=0;P<u.g1.length;P++)u.g1[P].rect.offset(-g.x,-g.y)};R.SO.prototype.Z7=function(u,g,K,X,w){if(u.RM=="commit"){this.xU(K,w);
this.disable(K,g,null,X)}else if(u.RM=="cancel"){this.disable(K,g,null,X)}var D=null,q=new dS(0,0,K.m,K.n),C=this.Wa.oR;
if(u.RM=="config"){this.Wa=u.Wa;C=this.Wa.oR;if(K==null||!u.atw)return;D=q;if(C.m7==1){var a=C.x/C.y;
if(D.m/a<D.n)D.n=Math.round(D.m/a);else D.m=Math.round(D.n*a)}if(C.m7==2){D.m=C.x;D.n=C.y}D.x=Math.round((K.m-D.m)/2);
D.y=Math.round((K.n-D.n)/2)}if(u.RM=="straighten"){alert("Draw a line in the image.");this.E4=!0}if(u.RM=="cropby"){if(K==null)return;
var x=u.avo,D;if(x==0)D=K.root.WA(K,!0);if(x==1){if(K.z.length==0)alert("No layer is selected.");else{var H=K.root.WX(K.z[0]);
D=H.WA(K,!0)}}if(x==2){if(K.z.length==0)alert("No layer is selected.");else{D=f.Yg(K.KS(),q,0);if(D.fg())D=q.clone()}}if(x==3){if(K.q!=null)D=K.q.rect;
else alert("There is no selection.")}if(x==4){D=new dS(0,0,K.m,K.n)}}if(D&&D.fg())D=null;if(D!=null){this.EF=this.Ji(D,C.m7!=0);
this.EF.mr(K,w);this.y2(g,h.E.Y,{d:h.s.SI,b:this.id,c4:!0})}};R.SO.prototype.xU=function(u,g){var K=this.EF.zP(),X=f.p.Ha(K),w=this.ah$(u,K),D=!1,q=this.Wa.oR,C=this.Wa.Tg,a=q.x,x=q.y,r;
if(this.id==R.XQ&&q.m7==2&&w.$()!=a*x){w=new dS(w.x,w.y,a,x);D=!0}var H=f.Q.xZ(K,w);H=f.Q.CD(H);var $=f.Q.gr(H),c=Math.atan2(H[3],H[0]);
if(Math.abs(c)>1e-9||!$||D||C)r=this.lO(u,g,!0,H,1,X);var U=new g9(this.name,this),O=new dS(0,0,u.m,u.n);
U.data={Tp:r,AN:H,IZ:u.t.u.clone(),qq:R.SO.aa1(u,w,O,!1)};R.SO.awx(u,U.data,w);u.AV(U);this.py(U.data,u);
this.track(R.SO.aiJ([X.x,X.y,X.m,X.n],null,C))};R.SO.awx=function(u,g,K){if(K==null)return;g.vf=new dS(0,0,u.m,u.n);
g.Lu=K};R.SO.k3=function(u,g){if(g.Lu==null)return;R.SO.Tg(u,g.Lu)};R.SO.pL=function(u,g){if(g.Lu==null)return;
var K=g.vf.clone();K.offset(-g.Lu.x,-g.Lu.y);R.SO.Tg(u,K)};R.SO.prototype.ah$=function(u,g){var K=f.Q.xZ(g),X=f.Q.gr(K),w=f.Q.Y$(K),D=w.OR,q=w.ic,C=Math.atan2(w.U,w._x);
w.rotate(C);var a=new dS(D,q,w._x,w.kR);if(!X){function x(e,P,S){var E=e[P]-e[S],Z=e[P+1]-e[S+1];return Math.sqrt(E*E+Z*Z)}var H=x(g,0,2),$=x(g,4,6),r=Math.max(H,$),c=x(g,2,4),U=x(g,6,0),O=Math.max(c,U),A=R.SO.arW(g,u.m/2,u.n/2),m,i;
if(isNaN(A)||A==Infinity||A==-Infinity||Math.min(A,1/A)<.1)A=(H+$)/(c+U);if(r/O>A){m=r*1;i=m/A}else{i=O*1;
m=i*A}a.m=m;a.n=i}a.x=Math.round(a.x);a.y=Math.round(a.y);a.m=Math.round(a.m);a.n=Math.round(a.n);return a};
R.SO.arW=function(u,g,K){var X=u[0]-g,w=u[1]-K,D=u[2]-g,q=u[3]-K,C=u[6]-g,a=u[7]-K,x=u[4]-g,H=u[5]-K,$=((w-H)*C-(X-x)*a+X*H-w*x)/((q-H)*C-(D-x)*a+D*H-q*x),r=((w-H)*D-(X-x)*q+X*H-w*x)/((a-H)*D-(C-x)*q+C*H-a*x),c=-((r*a-w)*($*q-w)+(r*C-X)*($*D-X))/((r-1)*($-1));
function U(A){return A*A}var O=Math.sqrt((U($-1)+U($*q-w)/c+U($*D-X)/c)/(U(r-1)+U(r*a-w)/c+U(r*C-X)/c));
if($==1&&r==1)O=Math.sqrt((U(q-w)+U(D-X))/(U(a-w)+U(C-X)));return O};R.SO.prototype.disable=function(u,g,K,X){if(u==null)return;
if(this.EF)this.EF.clear(u);this.EF=null;this.y2(g,h.E.Y,{d:h.s.SI,b:this.id,c4:!1})};R.SO.prototype.y2=function(u,g,K,X){var w=new eG(g,!0);
w.data=K;if(X)w.b=X;u.c(w)};R.axa=function(){R.SO.call(this,[10,2],R.XQ,"tools/rcrop")};R.axa.prototype=new R.SO;
R.axs=function(){R.SO.call(this,[10,39],R.it,"tools/pcrop")};R.axs.prototype=new R.SO;R.Ad=function(){R.Xo.call(this,[10,21],R.$S,"tools/dodge");
this.z2="dodge"};R.Ad.prototype=new R.Xo;R.Ad.prototype.R4=function(u,g,K,X,w){this.aH(u,K,X,w,this.Xm.expo/Math.PI);
if(this.vD==null)return;this.J0(u)};R.Ad.prototype.ai=function(u,g,K,X,w){this.jB(u,g,K);if(this.ar)this.Bf(u,K,w);
if(this.vD==null)return;if(!w.HT)return;this.ja(u,K,X,w);this.J0(u)};R.J2=function(){R.Xo.call(this,[10,3],R.Es,"tools/eraser");
this.z2="erase"};R.J2.prototype=new R.Xo;R.J2.prototype.R4=function(u,g,K,X,w){this.aH(u,K,X,w,this.Xm.flow);
if(this.vD==null)return;this.J0(u)};R.J2.prototype.ai=function(u,g,K,X,w){this.jB(u,g,K);if(this.ar)this.Bf(u,K,w);
if(this.vD==null)return;if(!w.HT)return;var D=this.ja(u,K,X,w);this.J0(u)};R.ph=function(){R.Xo.call(this,[10,45],R.gW,"tools/beraser");
this.z2="ierase"};R.ph.prototype=new R.Xo;R.ph.prototype.R4=function(u,g,K,X,w){if(this.J6(X,g,w))return;
this.aH(u,K,X,w,this.Xm.flow);if(this.vD==null)return;this.J0(u)};R.ph.prototype.ai=function(u,g,K,X,w){this.jB(u,g,K);
if(this.ar)this.Bf(u,K,w);if(this.vD==null)return;if(!w.HT)return;this.ja(u,K,X,w);this.J0(u)};R.Pn=function(){R.uO.call(this,[10,15],R.C1,"tools/rselect");
this.B1="crosshair"};R.Pn.prototype=new R.uO;R.Pn.prototype.XS=function(u,g,K,X){if(!X.HT||!this.Cu)return;
var w=this.WA(u,K,!0);u.H.vn=f.p.JS(w);u.cK=!0;R.N8.wJ(X,w,u,g)};R.Pn.prototype.ws=function(u,g,K,X){u.H.vn=null;
u.H.kj=[];u.cK=!0;this.finish(u,g,K,X)};R.Pn.prototype.getSelection=function(u,g,K,X){if(this.B0.$z(this.Wu)||!this.Cu)return null;
var w=this.WA(u,K,!0);if(w.fg())return null;return R.uO.nv("Rctn",w,this.Xm.anta)};R.RE=function(){R.uO.call(this,[10,4],R.Dq,"tools/eselect");
this.B1="crosshair"};R.RE.prototype=new R.uO;R.RE.prototype.XS=function(u,g,K,X){if(!X.HT||!this.Cu)return;
var w=this.WA(u,K);u.H.vn=R.RE.ama(w);u.cK=!0;R.N8.wJ(X,w,u,g)};R.RE.prototype.ws=function(u,g,K,X){u.H.vn=null;
u.H.kj=[];u.cK=!0;this.finish(u,g,K,X)};R.RE.prototype.getSelection=function(u,g,K,X){if(this.B0.$z(this.Wu)||!this.Cu)return null;
var w=this.WA(u,K);if(!w.Vg(new dS(0,0,u.m,u.n)))return null;return R.uO.nv("Elps",w,this.Xm.anta)};
R.RE.ama=function(u){var g=u.x,K=u.y,X=u.x+u.m,w=u.y+u.n,D=(g+X)/2,q=(K+w)/2,C=(g-X)/2,a=(K-w)/2,x=.5522848,H={v:[D,q-a],F:["M","C","C","C","C"]};
H.v.push(D+x*C,q-a,D+C,q-x*a,D+C,q);H.v.push(D+C,q+x*a,D+x*C,q+a,D,q+a);H.v.push(D-x*C,q+a,D-C,q+x*a,D-C,q);
H.v.push(D-C,q-x*a,D-x*C,q-a,D,q-a);return H};R.U2=function(u){R.N8.call(this,[10,5],u?R.RX:R.G9,"tools/eyedropper");
this.Q6=null;this.pT=0;this.oA=null;this.fd=1;this.c5=2;this.aoo=!0;this.dt=!1};R.U2.prototype=new R.N8;
R.U2.prototype.HH=function(u){return u.HT};R.U2.prototype.RR=function(u,g,K,X,w){if(u.d=="pickhere")this.Zd(K,g,w,null,u.akK);
if(u.d=="supertool")this.Q6=u.b};R.U2.prototype.R4=function(u,g,K,X,w){var D=this.Q6;if(D){D.R4(u,g,K,X,w);
return}this.pT=K.FK;this.oA=w;var q=this.Zd(u,null,K,X,w);this.Hb(u,g,q,w)};R.U2.prototype.ai=function(u,g,K,X,w){var D=this.Q6;
if(D){D.ai(u,g,K,X,w);return}var q=this.oA;if(q){var C=w.x-q.x,a=w.y-q.y,x=1,H=new j4(q.x+C*x,q.y+a*x),$=this.Zd(u,null,K,X,H);
this.Hb(u,g,$,H,new j4(C*(1-x),a*(1-x)))}};R.U2.prototype.Hb=function(u,g,K,X,w){var D=this.aoo,q=this.dt,x=12,H=11;
if(u.t.P>4)q=!1;if(!q&&!D)return;if(w==null)w=new j4(0,0);var C=new dS(0,0,u.m,u.n),a=u.KS(),$=(x*2+1)*H,r=new j4($/2,$/2),c=new dS(0,0,$,$),U=f.L(c.$()*4),O=u.t.wQ(X.x,X.y),A=Math.floor(O.x),m=Math.floor(O.y),i=new eV;
i.scale(1/H,1/H);i.translate(A-x,m-x);if(q)f.scale.pM(a,C,i,U,c);var e=(x-3.4)*H,S=(x-1.7)*H,E=x*H;for(var Z=0;
Z<$;Z++)for(var N=0;N<$;N++){var J=j4.uh(new j4(N,Z),r);if(J>e){if(D){var y=Math.max(0,e-J+1),o=(Z*$+N)*4,B=U[o+3]<<24|U[o]<<16|U[o+1]<<8|U[o+2],t=255<<24|(Z<E+H*.5?K:this.pT);
if(J>S){y=Math.max(0,S-J+1);B=t;t=4286611584}else if(!q){B=t&16777215}U[o+0]=(1-y)*(t>>>16&255)+y*(B>>>16&255);
U[o+1]=(1-y)*(t>>>8&255)+y*(B>>>8&255);U[o+2]=(1-y)*(t>>>0&255)+y*(B>>>0&255);U[o+3]=(1-y)*(t>>>24&255)+y*(B>>>24&255)}if(J>E){U[(Z*$+N)*4+3]=Math.max(0,255*(E-J+1))}}}function W(P){var I=P<<2;
U[I]=0;U[I+1]=0;U[I+2]=0;U[I+3]=255}function F(P){var I=P<<2;U[I]=255;U[I+1]=255;U[I+2]=255;U[I+3]=255}var G=this.fd*H+2,L=$-G>>>1,Q=L+G-1;
if(q&&G<$)for(var P=0;P<G;P++){var T=L*$+L+P,j=Q*$+L+P,p=(L+P)*$+L,M=(L+P)*$+Q;W(T);W(j);W(p);W(M);if(P!=0&&P!=G-1){F(T+$);
F(j-$);F(p+1);F(M-1)}}if(!q)for(var P=-9;P<=9;P++){if(-3<P&&P<3)continue;var n=$>>>1,N=n*$+n+P,Z=(n+P)*$+n;
F(N-$);W(N);F(N+$);F(Z-1);W(Z);F(Z+1)}var d=R.N8.Jn(0,0,["#"+f.ae(K),"RGB "+(K>>>16&255)+","+(K>>>8&255)+","+(K>>>0&255)]),C=d[1];
C.y=0;C.x=$-C.m>>>1;f.bV(d[0],C,U,c);var V={Wf:U,mf:c,ze:new j4(r.x+w.x,r.y+w.y)},z=new eG(h.E.Y,!0);
z.data={d:h.s.Tx,SD:V};g.c(z)};R.U2.prototype.RB=function(u,g,K,X,w,D){this.Zd(u,g,K,X,w);var q=this.Q6;
if(q){q.RB(u,g,K,X,w);return}if(this.oA){this.oA=null;if(D)this.Zd(u,g,K,X,w,this.pT);var C=new eG(h.E.Y,!0);
C.data={d:h.s.Tx,SD:"default"};g.c(C)}};R.U2.prototype.Zd=function(u,g,K,X,w,D){if(D==null)D=R.U2.RG(u,w,this.fd,this.c5);
var q=new eG(h.E.Y);q.data={d:h.s.zS,M3:hO.YJ,KR:X&&X.a(hW.Dd)?1:0,h:D};if(g)g.c(q);return D};R.U2.RG=function(u,g,K,X){if(X==null)X=2;
var w=u.t.wQ(g.x,g.y),D,q,C=u.z.length==1&&u.g[u.z[0]].oF>0,a=u.qT.length!=0,S=0,E=0,Z=0;if(C||a){var x;
if(a)x=u.g1[u.qT[0]];else{var H=u.g[u.z[0]];x=H.oF==1?H.Zv():H.adc()}q=x.WA();if(!q.TB(w))return x.color==0?0:16777215;
D=f.L(q.$()*4);D.fill(255);var $=x.wf();f.qM($,D)}else if(X==0&&u.z.length!=0){var H=u.g[u.z[0]];D=H.buffer;
q=H.rect}else{D=X==2?u.KS():u.KS(u.z[0]);q=new dS(0,0,u.m,u.n)}var r=Math.floor(w.x)-q.x,c=Math.floor(w.y)-q.y,U=(K-1)/2,O=Math.max(0,r-U),A=Math.max(0,c-U),m=Math.min(q.m,r+U+1),i=Math.min(q.n,c+U+1),e=(m-O)*(i-A);
for(var r=O;r<m;r++)for(var c=A;c<i;c++){var P=4*(c*q.m+r);S+=D[P];E+=D[P+1];Z+=D[P+2]}S=Math.round(S/e);
E=Math.round(E/e);Z=Math.round(Z/e);return S<<16|E<<8|Z};R.U2.prototype.Z7=function(u){var g=u.Xm;this.fd=[1,3,5,11,31][g[0]];
this.c5=g[1];this.aoo=g[2];this.dt=g[3]};R.xR=function(){R.N8.call(this,[10,6],R.g$,"tools/gradient");
this.Xm={X:JSON.parse(k8.v2.afw).v,lF:"Lnr",JU:!1,avv:!1,aop:"norm",Wg:1};this.JQ=!1;this.IU=null};R.xR.prototype=new R.N8;
R.xR.prototype.enable=function(u,g,K,X){var w=new eG(h.E.Y,!0);w.data={d:h.s.Tx,SD:"default"};g.c(w)};
R.xR.prototype.Z7=function(u){this.Xm=u.M3};R.xR.prototype.R4=function(u,g,K,X,w){if(!u.KL())return;
this.IU=u.t.wQ(w.x,w.y);this.IU=R.NP.s2(u,this.IU,K);this.JQ=!0};R.xR.prototype.ai=function(u,g,K,X,w){if(!this.JQ)return;
var D=u.t.wQ(w.x,w.y);D=R.NP.s2(u,D,K);if(X.a(hW.jl))D=R.xR.AH(this.IU,D);u.H.vn={v:[this.IU.x,this.IU.y,D.x,D.y],F:["M","L"]};
u.H.hR=[this.IU.x,this.IU.y,D.x,D.y];u.cK=!0};R.xR.prototype.RB=function(u,g,K,X,w){if(!this.JQ)return;
var D=u.g[u.z[0]],q=u.t.wQ(w.x,w.y);q=R.NP.s2(u,q,K);if(X.a(hW.jl))q=R.xR.AH(this.IU,q);var C=q.tm(this.IU),a=j4.B9(this.IU,q,.5),x=Math.atan2(C.y,C.x),H=j4.uh(this.IU,q),$=Math.sin(x),r=Math.cos(x);
if(H>2){var c;if(u.q)c=u.q.rect;else c=new dS(0,0,u.m,u.n);var U=f.L(c.$()*4),O=this.Xm,A=O.lF;if(A!="Lnr"){H*=2;
a=this.IU}f.X.oi(O.X,U,c,[r*1/H,$*1/H,-$*1/H,r*1/H],a.x,a.y,O.JU,k8.X.types.indexOf(A),K.FK,K.ui,null,O.avv);
var m=Math.round(O.Wg*256),i=U.length;if(m!=256)for(var P=0;P<i;P+=4)U[P+3]=U[P+3]*m>>>8;var e=new eG(h.E.l);
e.b=R.Es;e.data={d:"fillBMP",HA:U,$X:O.aop,Uz:this.name};g.c(e)}u.H.vn=null;u.H.hR=[];u.cK=!0;this.JQ=!1};
R.xR.AH=function(u,g){if(u.$z(g))return u;var K=g.x-u.x,X=g.y-u.y,w=Math.abs(K),D=Math.abs(X);if(w>D)D=w/2>D?0:w;
if(D>w)w=D/2>w?0:D;w=K>0?w:-w;D=X>0?D:-D;var q=Math.sqrt(K*K+X*X)/Math.sqrt(w*w+D*D);return new j4(u.x+w*q,u.y+D*q)};
R.xR.Ja=function(u,g,K,X,w,D,q){if(q==null)q=document.createElement("canvas");var C=q.getContext("2d");
q.width=g;q.height=K;var a=new dS(0,0,g,K),x=f.L(g*K*4);f.er(x,g,K,4);var H=Math.sin(X),$=Math.cos(X),r=f.L(g*K*4);
f.X.oi(u,r,a,[$*1/g,H*1/g,-H*1/K,$*1/K],g/2,K/2,!1,0,w,D);f.i.L_("norm",r,a,x,a,a,1);var c=C.getImageData(0,0,g,K);
f.me(x,c.data);C.putImageData(c,0,0);return q.toDataURL()};R.xR.aiH=function(u,g,K){var X=JSON.parse(JSON.stringify(u));
if(X.Clrs)for(var P=0;P<X.Clrs.v.length;P++){var w=X.Clrs.v[P].v,D=w.Type.v.Clry;if(D=="UsrS")continue;
var q=D=="FrgC"?g:K;w.Type.v.Clry="UsrS";w.Clr={t:"Objc",v:f.X.Gp({w:q>>16&255,A:q>>8&255,U:q&255})}}return X};
R.Rr=function(){R.N8.call(this,[10,7],R.JN,"tools/hand");this.oA=new j4(0,0);this.LZ=null;this.w$=0};
R.Rr.prototype=new R.N8;R.Rr.prototype.RR=function(u,g,K,X,w){var D=u.d;if(D=="setcls"){K.t.PK=u.PK;
K.cK=!0;K.vH=!0}if(D=="scroll"&&!X.a(hW.Dd)){if(X.a(hW.A5))R.Rr.t1(K,K.t.u.x-u.vA.y,K.t.u.y-u.vA.x);
else R.Rr.t1(K,K.t.u.x-u.vA.x,K.t.u.y-u.vA.y)}};R.Rr.prototype.enable=function(u,g,K,X){this.LZ=null;
var w=new eG(h.E.Y,!0);w.data={d:h.s.Tx,SD:"grab"};g.c(w);if(u&&Date.now()-this.w$<300){w.type=h.E.l;
w.b=R.d0;w.data={d:"adapt",h:"fitscr"};g.c(w)}this.w$=Date.now()};R.Rr.prototype.R4=function(u,g,K,X,w){this.LZ=u.t.u.clone();
this.oA.fP(w.x,w.y)};R.Rr.prototype.ai=function(u,g,K,X,w){if(!w.HT)return;if(this.LZ==null)this.R4(u,g,K,X,w);
R.Rr.t1(u,this.LZ.x+(w.x-this.oA.x),this.LZ.y+(w.y-this.oA.y))};R.Rr.prototype.RB=function(u,g,K,X,w){this.LZ=null};
R.Rr.t1=function(u,g,K){var X=u.t.P,w=u.t.Aj,D=w.m,q=w.n,C=u.m*X,a=u.n*X,x=C<D&&a<q,H=D/2+C/2-64,$=q/2+a/2-64;
u.t.u.fP(Math.max(-H,Math.min(H,g)),Math.max(-$,Math.min($,K)));u.vH=!0};R.OC=function(){R.N8.call(this,[10,47],R.wt,"tools/rview");
this.oA=new j4(0,0);this._Q=null;this.pv=null;this.w$=0};R.OC.prototype=new R.N8;R.OC.prototype.enable=function(u,g,K,X){this.LZ=null;
var w=new eG(h.E.Y,!0);w.data={d:h.s.Tx,SD:"grab"};g.c(w);if(u&&Date.now()-this.w$<300&&u.t.w0!=0){u.t.w0=0;
u.cK=!0}this.w$=Date.now();if(u)this.ct(u,g)};R.OC.prototype.disable=function(u,g,K,X,w){if(u)this.ct(u,g)};
R.OC.prototype.Xv=function(u,g,K,X){if(u)this.ct(u,g)};R.OC.prototype.R4=function(u,g,K,X,w){this.oA.fP(w.x,w.y);
var D=u.t;this._Q=D.wQ(D.Aj.m/2,D.Aj.n/2);this.pv=D.bD();var q=D.wQ(D.Aj.m/2,D.Aj.n/2),C=Math.min(D.Aj.m,D.Aj.n)*.35/D.P,a=C*.2,x=q.x,H=q.y;
u.H.vn={F:"M L L L L L".split(" "),v:[x,H,x,H-C,x+a,H,x,H+C,x-a,H,x,H-C]};u.cK=!0};R.OC.prototype.aj8=function(u){var g=u.t,K=g.wQ(g.Aj.m/2,g.Aj.n/2);
u.H.vn={F:["M","L"],v:[K.x,K.y,K.x,K.y-200]}};R.OC.prototype.ai=function(u,g,K,X,w){if(!w.HT)return;
var D=u.t,q=this._Q,C=this.oA,a=new j4(D.Aj.m/2,D.Aj.n/2),x=Math.atan2(w.y-a.y,w.x-a.x),H=Math.atan2(C.y-a.y,C.x-a.x),$=Math.atan2(this.pv.U,this.pv._x),r=x-H,c=Math.PI/4;
if(X.a(hW.jl)){r=$+c*Math.round((r-$)/c)}this.apX(u,g,this.pv.clone(),q,r)};R.OC.prototype.RB=function(u,g,K,X,w){u.H.vn=null;
u.cK=!0};R.OC.prototype.Z7=function(u,g,K,X){this.apX(K,g,null,null,u.IT-K.t.w0);K.t.w0=u.IT};R.OC.prototype.apX=function(u,g,K,X,w){var D=u.t;
if(K==null)K=D.bD();if(X==null)X=D.wQ(D.Aj.m/2,D.Aj.n/2);K.translate(-X.x,-X.y);K.rotate(w);K.translate(X.x,X.y);
D.a5D(K);if(u.m*D.P<D.Aj.m&&u.n*D.P<D.Aj.n)D.u.fP(0,0);u.cK=!0;this.ct(u,g)};R.OC.prototype.ct=function(u,g){var K=new eG(h.E.Y,!0);
K.data={d:h.s.SI,b:this.id,IT:u.t.w0};g.c(K)};R.EJ=function(){R.Su.call(this,[10,25],R.e_,"tools/hbrush")};
R.EJ.prototype=new R.Su("");R.EJ.prototype.RB=function(u,g,K,X,w){if(this.vD==null)return;this.fJ(u,"heal",this.vD.k8(),this.vD.WA(),this.vD.qv());
this.O(u,this.vD.qv());R.Xo.prototype.RB.call(this,u,g,K,X,w);if(!this.Xm.algnd)this.u=null};R.bE=function(u){R.N8.call(this,u?["VAR0 VAR1",[22,4,1],[10,8]]:[10,8],u?R.E3:R.$d,u?"tools/vtype":"tools/htype");
this.zk=[];this.Jo=null;this.caller=null;this.wV=1;this.nX=null;this.aiz=0;this._V=0;this.asQ=null;this.Kv=null;
this.rN=null;this.r1=null;this.fI=null;this.xj=null;this.aq$=null;this.ke=null;this.EF=null;this.Bp=null;
this.af_=null;this.Zt=!1;this.Mc=!1;this.Vh=!1;this.bQ=null;this.d4=null;this.a6d=null;this.BX=!1;this.hx=!1;
this.gU=-1;this.Ts=-1;this.wN=document.createElement("textarea");this.wN.setAttribute("style","font-family:Arial; font-size:14px; z-index:-1; "+" position:absolute; top:0px; left:0px;  pointer-events: none; opacity:0; width:"+(window.innerWidth-10)+"px; height:150px;");
this.wN.addEventListener("input",this.Oh.bind(this),!1);this.wN.addEventListener("keydown",this.ag0.bind(this),!1);
this.wN.addEventListener("keyup",this.a0X.bind(this),!1)};R.bE.prototype=new R.N8;R.bE.prototype.HH=function(u){return u.HT};
R.bE.prototype.DB=function(u,g,K,X){if(this.rN!=null||this.id==R.E3)return;this.caller=g;var w=this.a0P(u);
if(w.length!=0){var D=null,q=[],C=[];for(var P=0;P<w.length;P++){var a=u.g[w[P]],x=a.add.TySh,H=0,$=fS.PU(x.Fd).length-2,r=fS.pP(x.Fd,H,$);
fS.o_(r,R.S.CJ(x.D));if(r.QX.Font!=null)r.QX.Font=r._L[r.QX.Font].Name;D=r._L;q.push(r.QX);C.push(r.Sh)}var r={_L:D,QX:fS.X7(q),Sh:fS.X7(C)};
if(r.QX.Font!=null)fS.rt(r,r.QX.Font);this.akk(g,r,x)}};R.bE.prototype.a0P=function(u){var g=[];for(var P=0;
P<u.z.length;P++)if(u.g[u.z[P]]&&u.g[u.z[P]].add.TySh)g.push(u.z[P]);return g};R.bE.prototype.RR=function(u,g,K,X,w){var D=u.d=="insertGlyph";
if((D||u.d=="insertText")&&this.rN){var q=D?String.fromCharCode(65533):u.h,C=this.wN,a=C.value,x=C.selectionStart,H=C.selectionEnd;
C.value=a.slice(0,x)+q+a.slice(H);C.selectionStart=C.selectionEnd=x+q.length;this.Oh(null,D?u.h:null);
C.focus()}if(u.d=="updateStyles"){if(this.rN==null){var $=this.a0P(K),r=!1;if($.length!=0){this.v7(K,g,w,$);
for(var P=0;P<$.length;P++){var c=K.g[$[P]],U=c.add.TySh;fS.d2(U,this.wV);this.rN=c;var O=fS.PU(U.Fd);
this.gU=0;this.Ts=O.length-1;fS.xm(U.Fd,this.gU,this.Ts,this.Ku(w,U));var A=this.wk(K,w);if(A==!1)r=!0}if(r){this.BX=!0;
return}this.xy(K,g)}return}this.cq(w)}if(u.d.startsWith("warp")){var m=this.hx;if(u.d=="warp"||u.d=="warpCancel"){if(this.rN==null)return;
if(u.d=="warp")this.rN.add.TySh.YU=u.zv;else this.rN.add.TySh.YU=this.aq$;this.wk(K,w);if(!m)this.Sd(K)}if(u.d!="warp")this.wN.focus();
if((u.d=="warpConfirm"||u.d=="warpCancel")&&m){this.hx=!1;if(u.d=="warpConfirm")this.xy(K,g);else this.oE(K,g)}}if(u.d=="editCurr"){if(w.Wp!=R.$d){this.nX=w.Wp;
var i=new eG(h.E.Y,!0);i.data={d:h.s.LK,b:R.$d};g.c(i)}if(this.rN!=null)this.disable(K,g,w,X);this.Jo=w;
this.caller=g;this.v7(K,g,w,[u.QQ]);var O=fS.PU(this.rN.add.TySh.Fd);this.gU=0;this.Ts=O.length-1;this.Sd(K);
this.Oy();this.wN.focus()}if(u.d=="switchPntPrgr"){if(this.rN)return;var c=K.g[K.z[0]],U=c.add.TySh,e=U.D.CJ(),S=JSON.parse(JSON.stringify(U.Fd)),E=fS._k(S),Z=E==1?fS.f5(S):[0,0,Math.round(c.rect.m*1.05/e),Math.round(c.rect.n*1.25/e)],N=fS.pP(S,0,0),J=N._L[N.QX.Font].Name,y=w.aX.VD(J),o=[0,Z[2],Z[2]/2][N.Sh.Justification%3],B=y?ec.Ro(y,J,N.QX):N.QX.FontSize*.8;
fS.YM(S,1-E);if(E==0){o=-o;B=-B;fS.N2(S,[0,0,Z[2],Z[3]])}var t=new eV(1,0,0,1,o,B);t.concat(U.D);this.RR({NN:K.z[0],d:"newED",ez:S,D:t,a19:[16,3,E==1?0:1]},g,K,X,w)}if(u.d=="newED"){var c=K.g[u.NN],U=c.add.TySh,W=this.bP(K,[u.NN]);
U.Fd=u.ez;if(u.D)U.D=u.D;if(dR.k$(U,w.aX,g)){var F=new ec(U.Fd,w.aX),G=dR.tr(F,U);c.rect=G.mf;c.buffer=G.Fg;
c.O();K.O()}else K.Ey=!0;var L=new g9(u.a19?u.a19:this.name,this);L.data={t6:W,Lr:this.bP(K,[u.NN])};
K.AV(L)}if(u.d=="fromAction"){var Q=u.yK.NA.Usng.v,T=Q.TxtC.v,j=[];for(var P=0;P<2;P++){var p=T[P==0?"Hrzn":"Vrtc"].v,q=p.val;
if(p.type=="#Prc")q=(P==0?K.m:K.n)*(q/100);j[P]=q}this.Aa(K,g,w,X,K.t.h5(j[0],j[1]));var c=K.g[K.z[0]],U=c.add.TySh,M=U.Fd,a=fS.PU(M);
fS.A8(M,0,a.length-1);fS.G4(M,0,Q.Txt.v.replace(/\r/g,"\n"));a=fS.PU(M);for(var E=0;E<2;E++){var n=Q[E==0?"Txtt":"paragraphStyleRange"].v;
for(var P=0;P<n.length;P++){var d=n[P].v,x=d.From.v,H=Math.min(d.T.v-1,a.length-1);d=d[E==0?"TxtS":"paragraphStyle"].v;
var V=fS.pP(M,x,H),z=E==0?V.QX:V.Sh;for(var I in d){var v=d[I].v;if(I=="Sz")z.FontSize=Math.round(v.val);
else if(I=="fontPostScriptName")fS.rt(V,v);else if(I=="Algn")z.Justification={Left:1,Cntr:2}[v.Alg];
else if(I=="leading")z.Leading=d[I].v.val;else if(I=="baselineShift")z.BaselineShift=d[I].v.val;else if(I=="autoLeading")z.AutoLeading=d[I].v;
else if(I=="syntheticBold")z.FauxBold=d[I].v;else if(I=="syntheticItalic")z.FauxItalic=d[I].v;else if(I=="Trck")z.Tracking=d[I].v;
else if(I=="verticalScale")z.VerticalScale=d[I].v/100;else if(I=="horizontalScale")z.HorizontalScale=d[I].v/100;
else if(I=="Clr")z.FillColor={Type:1,Values:[1,v.Rd.v/255,v.Grn.v/255,v.Bl.v/255]}}fS.xm(M,x,H,V)}}var F=new ec(U.Fd,w.aX),G=dR.tr(F,U);
c.rect=G.mf;c.buffer=G.Fg;c.O();K.O();this.xy(K,g)}};R.bE.prototype.cq=function(u){var g=Math.min(this.gU,this.Ts),K=Math.max(this.gU,this.Ts),X=this.rN.add.TySh;
fS.d2(X,this.wV);var w=this.Ku(u,X);fS.xm(X.Fd,g,K-1,w);var D=this.caller.MA(),q=this.wk(D,u);if(q)this.Sd(D);
if(document.activeElement.tagName.toLowerCase()!="input")this.wN.focus()};R.bE.prototype.Kx=function(u){return this.zk.indexOf(u)!=-1};
R.bE.prototype.enable=function(u,g,K,X){var w=this.wN;g.e.appendChild(w);this.ke="default";this.Hb(g)};
R.bE.prototype.Sn=function(){return this.rN!=null};R.bE.ah=function(u,g){for(var P=u.g.length-1;P>=0;
P--){var K=u.g[P];if(K.add.TySh&&K.rect.TB(g)&&u.aiP(P)){var X=K.Kf(2)||K.Kf(31);return X?-2:P}}return-1};
R.bE.prototype.R4=function(u,g,K,X,w){this.Jo=K;this.caller=g;var D=u.t.wQ(w.x,w.y),q=this.rN==null;
if(q){var C=R.bE.ah(u,D);if(C==-2){alert(fc.get([6,57,0]));return}if(C>=0&&!X.a(hW.jl)){if(!dR.k$(u.g[C].add.TySh,K.aX,g)){alert("Fonts not loaded yet");
return}this.v7(u,g,K,[C])}else{this.Vh=!0;this.bQ=w;return}}var a=q?-1:fS._k(this.rN.add.TySh.Fd),x=this.Bp?this.Bp:this.EF;
if(x&&x.R4(u,K,X,D,null,null,w)&&f.zv.My(this.rN.add.TySh.YU)||!q&&f.p.xt(D,this.rN.rect)>20/u.t.P&&(a==0||a==1)){this.Zt=!0;
this.d4=D;this.a6d=this.rN.add.TySh.D.clone();if(this.gU==-1&&this.Ts==-1)this.gU=this.Ts=this.rh(D)}else{if(this.fI==null){alert("Fonts not loaded yet");
return}this.Mc=!0;this.gU=this.Ts=this.rh(D);var H=Date.now();if(H-this.aiz>300)this._V=0;this._V++;
this.aiz=H;if(this._V==2)this.abW();if(this._V==3)this.aiv();if(this._V>1){this.Mc=!1}}this.Oy();this.Sd(u)};
R.bE.prototype.v7=function(u,g,K,X){var w=u.g[X[0]];this.rN=w;this.y2(g,h.E.Y,{d:h.s.SI,b:this.id,RM:"showactive"});
this.r1=X;u.z=X.slice(0);u.dh();u.xE=!0;this.xj=this.bP(u,X);this.If(w.add.TySh);this.wk(u,K)};R.bE.prototype.If=function(u){if(fS._k(u.Fd)!=1)return;
var g=fS.f5(u.Fd);g=new dS(0,0,g[2]-g[0],g[3]-g[1]);var K=[g.x,g.y,g.x+g.m,g.y,g.x+g.m,g.y+g.n,g.x,g.y+g.n];
f.p.D(K,u.D,K);this.EF=new cR(K,!1,!1,!1,!0)};R.bE.prototype.abW=function(){var u=fS.PU(this.rN.add.TySh.Fd);
this.gU=this.abU(u,this.gU);this.Ts=this.a5S(u,this.gU)};R.bE.prototype.abU=function(u,g){var K=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",X=[];
for(var P=0;P<K.length;P++)X.push(K.charAt(P));var w=X.indexOf(u[g])==-1?!0:!1;for(var P=g-1;P>=0;P--)if(X.indexOf(u.charAt(P))!=-1==w)return P+1;
return 0};R.bE.prototype.a5S=function(u,g){var K=" \t\n,.?!_-+=@#$%^&*'\"(){}[]\\/<>:;|",X=[];for(var P=0;
P<K.length;P++)X.push(K.charAt(P));var w=X.indexOf(u[g])==-1?!0:!1;for(var P=g+1;P<u.length;P++)if(X.indexOf(u.charAt(P))!=-1==w)return P;
return u.length-1};R.bE.prototype.aiv=function(){var u=this.fI.a9l(this.gU);this.gU=u[0];this.Ts=u[1]};
R.bE.prototype.Hb=function(u){var g=new eG(h.E.Y,!0);g.data={d:h.s.Tx,SD:this.ke};u.c(g)};R.bE.prototype.ai=function(u,g,K,X,w){var D=u.t.wQ(w.x,w.y),q=this.rN;
if(!w.HT){var C="default",a=this.EF,x=this.Bp?this.Bp:a;if(x&&f.zv.My(q.add.TySh.YU)){var H=x.vw(D,u.t.P,null,w);
if(H)C=H;else if(x==a&&a.yB(D))C="text"}else if(q&&f.p.xt(D,q.rect)>20/u.t.P)C="move";else if(R.bE.ah(u,D)>=0)C="text";
if(C!=this.ke){this.ke=C;this.Hb(g)}}var $=this.bQ;if(this.Vh&&Math.min(w.x-$.x,w.y-$.y)>4/u.t.P){this.Vh=!1;
this.Aa(u,g,K,X,w);q=this.rN;this.Zt=!0;this.EF=new cR(null,!1,!1,!1,!0);var r=u.t.wQ(this.bQ.x,this.bQ.y);
r.x=Math.round(r.x);r.y=Math.round(r.y);this.EF.R4(u,K,X,r,null,null,w,u.t.w0)}if(this.Zt){var c=q.add.TySh;
if(this.Bp){this.Bp.ai(u,K,X,D);var U=f.Q.Y$(f.Q.xZ(this.Bp.zP(),this.af_));c.D=U;this.wk(u,K);fS.qL(c)}else if(this.EF){this.EF.ai(u,K,X,D);
var O=c.D.clone(),A=Math.atan2(O.U,O._x);O.rotate(A);var U=f.Q.Y$(f.Q.xZ(this.EF.zP())),m=Math.atan2(U.U,U._x);
U.rotate(m);if(!isNaN(U._x)&&U._x*U.kR-U.U*U.nA!=0){var i=new dS(0,0,U._x/O._x,U.kR/O.kR),e=Math.round(i.m),S=Math.round(i.n),E=c.Fd.Curve;
if(E){var Z=fS.f5(c.Fd),N=new eV(e/Z[2],0,0,S/Z[3],0,0);f.p.D(E.Points,N,E.Points);fS.qL(c)}fS.N2(c.Fd,[0,0,e,S]);
c.D=f.Q.Y$(f.Q.xZ(this.EF.zP(),i));this.wk(u,K);fS.qL(c)}}else{var J=D.x-this.d4.x,y=D.y-this.d4.y;c.D=this.a6d.clone();
var o=new j4(c.D.OR+J,c.D.ic+y);o=R.NP.s2(u,o,K);c.D.OR=o.x;c.D.ic=o.y;this.wk(u,K)}}if(this.Mc)this.Ts=this.rh(D);
if(this.Zt||this.Mc)this.Sd(u)};R.bE.prototype.Aa=function(u,g,K,X,w){var D=u.f$(),q=D[0],C=D[1],a=u.Wk();
a.add.lnsr="rend";var x=u.g.slice(0);a.Q9("Text layer "+x.length);this.rN=a;var H=u.z.length==0?u.g.length-1:u.z[u.z.length-1],$=H+1;
if(x[H].add.lsct==g4.DM)$--;this.xj={_7:x.slice(0),OZ:u.z.slice(0)};x.splice($,0,a);u.z=[$];this.gU=this.Ts=0;
u.$O(x);this.xj.j1=x.slice(0);this.xj.V5=u.z.slice(0);this.y2(g,h.E.Y,{d:h.s.SI,b:this.id,RM:"showactive"});
var r=u.t.wQ(w.x,w.y),c=K.vF;console.log(c);if(this.id==R.E3){c=JSON.parse(JSON.stringify(c));c.QX.BaselineDirection=1}a.add.TySh=fS.t5(r.x,r.y,c,u.t.w0);
var U=a.add.TySh,O=U.Fd;if(this.id==R.E3)O._LineOrientation=2;fS.d2(U,this.wV);if(w.HT)fS.YM(O,1);else{fS.YM(O,0);
var A=q[C.pop()],m=A?A.add.vmsk:null;if(m&&!X.a(hW.jl)){m=m.clone();var i=m._,S,E;for(var P=0;P<i.length;
P++)if(i[P].yk!=null)i[P].yk=0;var e=5/u.t.P;S=f.J.mZ(m._,r,!0,e);if(S.Mw==-1)S=f.J.mZ(m._,r);if(S.Mw!=-1){fS.YM(O,1);
var Z=f.J.Ei(i,S.Mw),N=f.J.GA(i,S.Mw)-1;i=m._=i.slice(0,2).concat(i.slice(Z,Z+N+1));m.z=[];U.add={vmsk:m,vogk:l.LP(i)};
O.Curve={};fS.Z$(U);if(S.Gx!=null){var J=ec.pC(O.Curve);f.p.D(J[0],U.D,J[0]);var y=f.p.ZD(J[0],r.x,r.y),o=K.vF.Sh.Justification;
if(o==2||o==5){var B=(J[2][y]+J[3]*.5)%J[3];y=ec.Ih(B,J[2])}var t=J[1][y];t=t%N;m.WS=[t,t];fS.Z$(U)}else this.If(U)}}}return a};
R.bE.prototype.RB=function(u,g,K,X,w,D){if(D){this.Vh=!1;return}if(this.rN==null&&!this.Vh)return;var q=u.t.wQ(w.x,w.y),C=this.Vh;
if(this.Vh){this.Vh=!1;this.Aa(u,g,K,X,w);this.Mc=!0}if(this.Zt||this.Mc){this.Sd(u);this.Oy();if(C)this.cq(K)}if(this.Zt&&this.EF)this.EF.RB(u,K,X,q);
this.Zt=this.Mc=!1;this.wN.focus()};R.bE.prototype.Oy=function(){var u=this.rN.add.TySh,g=Math.min(this.gU,this.Ts),K=Math.max(this.gU,this.Ts),X,w;
if(g==K){var D=fS.PU(u.Fd);if(g==0||D.charAt(g-1)=="\n")X=w=g;else X=w=g-1}else{X=g;w=K-1}var q=fS.pP(u.Fd,X,w);
fS.o_(q,R.S.CJ(u.D));this.akk(this.caller,q,u)};R.bE.prototype.akk=function(u,g,K){this.y2(u,h.E.Y,{d:h.s.zS,M3:hO.pH,vF:g});
var X=this.wV=fS.RT(K);this.y2(this.caller,h.E.Y,{d:h.s.SI,b:this.id,RM:"changeAA",a5:X})};R.bE.prototype.a5B=function(){var u=this.rN;
if(u&&!this.Zt&&this.Bp!=null){var g=this.caller.MA();this.Bp.RB(g,this.Jo,null,null);this.Bp=null;this.If(u.add.TySh);
this.Sd(g)}};R.bE.prototype.disable=function(u,g,K,X){var w=this.rN;this.xy(u,g)};R.bE.prototype.Z7=function(u,g,K,X,w){if(this.hx)return;
if(u.RM=="commit")this.xy(K,g);if(u.RM=="cancel")this.oE(K,g);if(u.RM=="changeAA"){this.wV=u.a5;if(K!=null)this.RR({d:"updateStyles"},g,K,X,w)}if(u.RM=="showwarp"){if(K==null)return;
if(this.rN==null){var D=K.g[K.z[0]],q=D.add.TySh;if(q==null)return;this.v7(K,g,w,[K.z[0]]);this.wN.focus();
this.hx=!0}this.aq$=this.rN.add.TySh.YU;var C=new eG(h.E.Y,!0);C.data={d:h.s.KP,Pu:"textwarp"};g.c(C)}};
R.bE.prototype.xY=function(u,g){if(g!=hO.em)return;if(this.BX){this.BX=!1;var K=this.caller.MA(),X=this.r1;
for(var P=0;P<X.length;P++){this.rN=K.g[X[P]];this.wk(K,u)}this.xy(K,this.caller);return}if(this.rN)this.cq(u)};
R.bE.prototype.Ku=function(u,g){var K=JSON.parse(JSON.stringify(u.vF));fS.o_(K,1/R.S.CJ(g.D));return K};
R.bE.prototype.py=function(u,g){if(u.t6!=null)this.Yr(g,u.Lr);else this.a05(g,u.j1,u.V5)};R.bE.prototype.A3=function(u,g){if(u.t6!=null)this.Yr(g,u.t6);
else this.a05(g,u._7,u.OZ)};R.bE.prototype.Yr=function(u,g){for(var P=0;P<g.length;P++){var K=g[P],X=K.NN,w=u.g[X];
w.buffer=K.ee;w.rect=K.mf.clone();w.O();var D=w.add.TySh;D.YU=K.zv;D.kI=K.kI.clone();D.D=K.D.clone();
D.Fd=JSON.parse(JSON.stringify(K.Fd));w.km()}u.O()};R.bE.prototype.bP=function(u,g){var K=[];for(var P=0;
P<g.length;P++){var X=g[P],w=u.g[X],D=w.add.TySh;K.push({NN:X,D:D.D.clone(),zv:JSON.parse(JSON.stringify(D.YU)),kI:D.kI.clone(),Fd:JSON.parse(JSON.stringify(D.Fd)),ee:w.buffer.slice(0),mf:w.rect.clone()})}return K};
R.bE.prototype.a05=function(u,g,K){u.z=K;u.$O(g);u.O();u.X5=!0};R.bE.prototype.wk=function(u,g,K){if(K==null)K=!1;
var X=this.rN.add.TySh;if(!dR.k$(X,g.aX,this.caller))return!1;this.fI=new ec(X.Fd,g.aX);if(!K){var w=fS.PU(X.Fd);
this.wN.value=w.slice(0,w.length-1)}var D=dR.tr(this.fI,X);if(f.zv.My(X.YU))X.kI=new dS;else{if(fS._k(X.Fd)==1){var q=fS.f5(X.Fd),eJ=D.kI.y;
X.kI=new dS(0,eJ,q[2]-q[0],q[3]-q[1]-eJ)}else{X.kI=D.kI}}var C=this.rN.rect;this.rN.rect=D.mf;this.rN.buffer=D.Fg;
this.rN.O();u.Y0();u.O(u.root.IS(D.mf.RN(C),u,u.g.indexOf(this.rN)));return!0};R.bE.prototype.Oh=function(u,g){if(this.rN==null||this.hx)return;
var K=this.wN.selectionStart,X=this.rN.add.TySh,w=fS.PU(X.Fd),D=this.wN.value+"\n",q=Math.min(this.gU,this.Ts),C=Math.max(this.gU,this.Ts),r=!1;
this.gU=Math.min(K,q);if(D.length-K<w.length-this.Ts)this.Ts=w.length-D.length+K;if(w!=D){while(this.gU>0&&w.charAt(this.gU-1)!=D.charAt(this.gU-1))this.gU--}var a=w.substring(0,this.gU),x=w.substring(this.Ts,w.length),H=D.substring(this.gU,D.length-x.length);
fS.A8(X.Fd,this.gU,this.Ts);fS.G4(X.Fd,this.gU,H);if(g!=null)fS.apt(X.Fd,this.gU,g);var $=this.Ku(this.Jo,X),c=-1,U=Array.from(H);
for(var P=0;P<U.length;P++)c=Math.max(c,U[P].codePointAt(0));if(c!=-1&&c>128&&c!=65533&&$.QX.Font!=null){var O=$._L[$.QX.Font].Name,A=this.Jo.aX.ed(c,O,$._L);
if(O!=A){fS.rt($,A);r=!0}}if(this.Kv!=null&&H==this.Kv){var m=JSON.parse(this.asQ);$.QX=m.QX;$._L=m._L;
r=!0}fS.xm(X.Fd,this.gU,this.gU+H.length-1,$);this.gU=this.Ts=a.length+H.length;var i=this.caller.MA(),e=this.wk(i,this.Jo,!0);
if(e)this.Sd(i,!0);if(r)this.Oy()};R.bE.prototype.a0X=function(u){var g=hW;if(!u.ctrlKey)this.a5B();
u.stopPropagation()};R.bE.prototype.ag0=function(u){u.stopPropagation();var g=u.ctrlKey||u.metaKey,K=hW,a=0,x=0,W=!1;
if(this.rN==null||this.hx)return;if(this.rN==null)return;var X=this.caller.MA();if(this.Bp==null&&g){var w=this.rN.add.TySh,D=fS._k(w.Fd),q;
if(D==1){q=fS.f5(w.Fd);q=new dS(0,0,q[2]-q[0],q[3]-q[1])}else q=this.fI.U4();var C=[q.x,q.y,q.x+q.m,q.y,q.x+q.m,q.y+q.n,q.x,q.y+q.n];
f.p.D(C,w.D,C);this.Bp=new cR(C,!0,!0,!1,!1);this.af_=q;this.Sd(X)}if(K.zN(u.code,K.hU))a=1;if(K.zN(u.code,K.jn))a=-1;
if(K.zN(u.code,K.t$))x=-1;if(K.zN(u.code,K.t_))x=1;var H=K.zN(u.code,hW.rD),$=K.zN(u.code,hW.aff);if(K.zN(u.code,hW.R0)&&g){this.xy(X,this.caller);
return}if(K.zN(u.code,hW.m0)){this.oE(X,this.caller);return}if(K.zN(u.code,hW.zu)){u.preventDefault();
var r=this.wN,c=r.value,U=r.selectionStart,O=r.selectionEnd;r.value=c.substring(0,U)+"\t"+c.substring(O);
r.selectionStart=r.selectionEnd=U+1;this.Oh(null);return}var A=K.zN(u.code,K.RD),m=K.zN(u.code,K.gZ);
if(g&&(A||m)){u.preventDefault();var i=new eG(h.E.l,!0);i.b=R.d0;i.data={d:"zoom",bZ:A};this.caller.c(i)}if(u.altKey&&a!=0){var e=this.gU==this.Ts,S=JSON.parse(JSON.stringify(this.Jo.vF));
if(e){S.QX.Kerning+=20*a;S.QX.AutoKerning=!1}else S.QX.Tracking+=20*a;u.preventDefault();var Z=new eG(h.E.Y,!0);
Z.data={d:h.s.zS,M3:hO.pH,vF:S};this.caller.c(Z);var i=new eG(h.E.l,!0);i.b=R.$d;i.data={d:"updateStyles"};
this.caller.c(i);return}if((K.zN(u.code,K.JR)||K.zN(u.code,K.O3))&&g){var N=this.gU,J=this.Ts;if(N>J){var y=N;
N=J;J=y}var w=this.rN.add.TySh,B=fS.PU(w.Fd);if(N!=J){this.Kv=B.slice(N,J);this.asQ=JSON.stringify(this.Jo.vF)}}var t=fS.PU(this.rN.add.TySh.Fd);
if(a!=0||x!=0||H||$){u.preventDefault();var F=this.gU;if(a!=0){if(g&&a==-1)F=this.abU(t,this.gU-1);else if(g&&a==1)F=this.a5S(t,this.gU);
else{var r=this.wN,c=r.value;F=this.gU+a;if(F!=0&&c.codePointAt(F-1)>65535)F+=a}}else if(x!=0){var G=this.fI.tJ(this.gU);
if(x==-1&&G.w_==0)F=0;else if(x==1&&G.w_==this.fI.a98()-1)F=99999999999;else F=this.fI.alR(new j4(G.mf.x+G.mf.m/2,0),G.w_+x)}else if(H){var L=this.gU-1;
while(L>0&&t.charCodeAt(L)!=10)L--;F=L==0?0:L+1}else if($){var L=this.gU;while(L<t.length-1&&t.charCodeAt(L)!=10)L++;
F=L}F=Math.max(0,Math.min(t.length-1,F));if(u.shiftKey)this.gU=F;else this.gU=this.Ts=F;W=!0}if(K.zN(u.code,hW.s)&&g){this.gU=0;
this.Ts=t.length-1;W=!0}if(W){this.Oy();this.Sd(X)}};R.bE.aj1=function(u,g){var K=u.length;if(K!=g.length)return!1;
for(var P=0;P<K;P++)if(u[P].NN!=g[P].NN)return!1;return!0};R.bE.prototype.xy=function(u,g){if(this.rN==null)return;
this.rN.km();var K=this.xj;if(K instanceof Array){var X=this.bP(u,this.r1),w=u.mM();if(w!=null&&w.b==this&&w.data.t6&&R.bE.aj1(w.data.t6,K))w.data.Lr=X;
else{var D=new g9(this.name,this);D.data={t6:K,Lr:X};u.AV(D)}}else{var D=new g9(this.name,this);D.data={_7:K._7,j1:K.j1,OZ:K.OZ,V5:K.V5};
u.AV(D)}this.escape(u,g)};R.bE.prototype.oE=function(u,g){if(this.rN==null)return;if(this.xj instanceof Array){this.Yr(u,this.xj);
if(this.rN)fS.qL(this.rN.add.TySh)}else{u.z=this.xj.OZ;u.$O(this.xj._7)}u.O();this.escape(u,g)};R.bE.prototype.escape=function(u,g){this.a5B();
this.rN=null;this.r1=null;this.fI=null;this.EF=null;this.wN.blur();u.H.vn=null;u.H.fe=null;u.H.hR=[];
u.cK=!0;this.Zt=!1;this.Mc=!1;this.gU=this.Ts=-1;this.y2(g,h.E.Y,{d:h.s.SI,b:this.id,RM:"hideactive"});
if(this.nX){var K=new eG(h.E.Y,!0);K.data={d:h.s.LK,b:this.nX};g.c(K);this.nX=null}};R.bE.prototype.y2=function(u,g,K,X){var w=new eG(g,!0);
w.data=K;if(X)w.b=X;u.c(w)};R.bE.prototype.rh=function(u){var g=this.rN.add.TySh,K=this.fI,X=g.D.clone();
X.CD();var w=X.HB(u),D=fS.WA(g,K),q=f.zv.s8(g.YU,D),C=f.uc.amv(q,w);if(C==null)C=new Float64Array(2);
w=new j4(D.x+C[0]*D.m,D.y+C[1]*D.n);if(K.ko){var a=K.ko.clone();a.CD();w=a.HB(w)}var x=K.alR(w);return x};
R.bE.prototype.Sd=function(u,g){if(g==null)g=!1;var K=this.rN.add.TySh,X=fS._k(K.Fd),w=this.fI,D=w?fS.WA(K,w):null;
u.H.hR=[];u.H.vn=null;u.H.fe=null;var q=this.Bp?this.Bp:this.EF;if(q){q.mr(u,this.Jo,!f.zv.My(K.YU));
var C=K.D.clone();C.CD();if(w&&w.ko&&w.rM==1){var a=w.ko.clone();a.CD();C.concat(a)}f.p.D(u.H.hR,C,u.H.hR);
f.p.D(u.H.vn.v,C,u.H.vn.v);if(w&&w.ko==null&&w.anP()){var x=D.m-20,H=D.n+8;u.H.vn.v.push(x,H,x+10,H,x+5,H-5,x+5,H+5);
u.H.vn.F.push("M","L","M","L")}}else if(X==0)this.akf(u,K,w);else u.H.vn={v:[],F:[]};var $=Math.min(this.gU,this.Ts),r=Math.max(this.gU,this.Ts);
if(!g){this.wN.selectionStart=$;this.wN.selectionEnd=r}if(w!=null){var c=function(q,S){var E=q.x,Z=q.y+q.n,N=new eV;
N.translate(-E,-Z);N.rotate(-S);N.translate(E,Z);q.y+=q.n*.27;var e=f.p.JS(q);f.p.D(e.v,N,e.v);return e};
if($==r){$=Math.max($,0);var U=w.tJ($);if(U){var O=U.mf,A=this.Jo.vF.QX.FontSize;if(A!=null&&A!=0){A/=K.D.CJ();
O.y+=O.n-A;O.n=A}var m=w.alE($);if(m!=null&&m.TW==1)O.x+=O.m;var i=c(O,U.w0).v;u.H.vn.F.push("M","L");
u.H.vn.v.push(i[0],i[1]-1,i[6],i[7]-1)}}else{u.H.fe={v:[],F:[]};for(var P=$;P<r;P++){var U=w.tJ(P),e=c(U.mf,U.w0);
f.p.concat(u.H.fe,e)}}}u.H.vn=dR.XU(u.H.vn,K,w);u.H.fe=dR.XU(u.H.fe,K,w);u.H.hR=dR.XU({v:u.H.hR},K,w).v;
u.cK=!0};R.bE.prototype.akf=function(u,g,K){if(K==null)return;u.H.hR.push(0,0);if(u.H.vn==null)u.H.vn={F:[],v:[]};
for(var P=0;P<K.Sh.length;P++){var X=K.Sh[P];for(var w=0;w<X.Ik.length;w++){var D=X.Ik[w],q=X.ew.x+D.ew.x+D.mf.x,C=X.ew.y+D.ew.y+D.mf.y+D.mf.n;
u.H.vn.F.push("M","L");u.H.vn.v.push(q,C,q+D.mf.m,C)}}u.cK=!0};R.afR=function(){R.bE.call(this,!0)};
R.afR.prototype=new R.bE;R.Fn=function(){R.uO.call(this,[10,9],R.l0,"tools/lasso");this.B1="crosshair";
this.IH=null;this._D=null;this.d4=null};R.Fn.prototype=new R.uO;R.Fn.prototype.o1=function(u,g,K,X){this.IH=this.B0;
this._D={v:[this.IH.x,this.IH.y],F:["M"]}};R.Fn.prototype.XS=function(u,g,K,X){this.d4=X;var w=this._D;
if(w==null)return;if(!X.HT){if(this._D!=null&&this.jD>1&&K.a(hW.Dd)){w.v.pop();w.v.pop();w.v.push(this.Wu.x,this.Wu.y);
u.H.vn=w;u.cK=!0}return}w.F.push("L");w.v.push(this.Wu.x,this.Wu.y);this.IH=this.Wu;if(this.Cu){u.H.vn=w;
u.cK=!0}};R.Fn.prototype.Sn=function(){return this._D!=null};R.Fn.prototype.E9=function(){return this._D!=null};
R.Fn.prototype.BF=function(u,g,K,X){R.uO.prototype.BF.call(this,u,g,K,X);if(this._D&&this.jD>1&&this.d4&&!this.d4.HT&&!X.a(hW.Dd))this.a2W(u,K,X)};
R.Fn.prototype.ws=function(u,g,K,X){this.d4=X;var w=this._D;if(w==null)return;if(this.jD>1&&K.a(hW.Dd)){w.F.push("L");
w.v.push(this.Wu.x,this.Wu.y);return}this.a2W(u,g,K)};R.Fn.prototype.a2W=function(u,g,K){this.finish(u,g,K,this.d4);
this._D=null;u.H.vn=null;u.cK=!0};R.Fn.prototype.getSelection=function(u,g,K,X){if(this.B0.$z(this.Wu)||!this.Cu)return null;
return R.uO.Ws(this._D.v,null,this.Xm.anta)};R.NP=function(){R.N8.call(this,[10,11],R.Hx,"tools/move");
this.te=new j4(0,0);this.Wt=new j4(0,0);this.H$=null;this.Nz=null;this.DW=new j4(0,0);this.i3=null;this.nC=null;
this.Rz=null;this.w$=0;this.ZA=null;this.uf=[];this.oL=null;this.Rt=null;this.JQ=!1;this.d=0;this.It=null;
this.fb=null;this._T=null;this.jK=!1;this.Xm={$C:!1,Jp:!1,g6:!1};this.a5e=!1;this.aoZ=!1;this.EF=null;
this.R7=null;this.aa9=null;var u=[];for(var P=0;P<f.Xx.TD.length;P++)u.push({name:f.Xx.TD[P],K:function(g,K,X){return{Qw:K.Pk.TQ==X}}});
this.Op=new aT(u);this.Op.f("select",this.ub,this)};R.NP.prototype=new R.N8;R.N8.prototype.HH=function(u){return this.JQ&&this.d!=2};
R.NP.prototype.i4=function(){return this.JQ&&(this.d==0||this.d==1)};R.NP.prototype.Xv=function(u,g,K,X){this.f4(u,-this.DW.x,-this.DW.y);
this.DW.fP(0,0);this.al(u,null,K);this.LI(u)};R.NP.prototype.p9=function(){var u=this.Xm;return[u.$C?1:0,u.Jp?1:0,u.g6?1:0]};
R.NP.prototype.P7=function(u,g,K){var X=this.Xm;if(u&&u[0]!=null)X.$C=u[0]==1;if(u&&u[1]!=null)X.Jp=u[1]==1;
if(u&&u[2]!=null)X.g6=u[2]==1;var w=new eG(h.E.Y,!0);w.data={d:h.s.SI,b:this.id,YW:X,apz:g};K.c(w)};
R.NP.a2Z=function(u,g,K,X,w,D,q){if(q==null)q=[!1,!0];var C=u.C6(null,w,!0),a,x;if(u.add.artd&&u.z.length==1&&u.g[u.z[0]].add.artb){var H=u.g[u.z[0]].T0();
a=u.Hf(C,H,H)[0]}else{var $=new dS(0,0,u.m,u.n),a=u.Hf(C,q[0]?$:null,q[1]?null:$)[0];delete a.add.artd;
if(q[1]){var r=f.Yg(a.KS(),new dS(0,0,a.m,a.n),2);R.SO.Tg(a,r)}}if(K!=1){var c=new dS(0,0,Math.round(a.m*K),Math.round(a.n*K));
R.SO.Tg(a,c);var U=[];for(var P=0;P<a.g.length;P++)U.push(P);var O=R.S.lD(a,U,!0);R.SO.Ce(a,new eV(K,0,0,K,0,0));
R.S.Om(a,X,U,O,1,f.Q.$D(new eV(K,0,0,K,0,0)),null,!0);a.Z9()}else if(x){a.O();a.Z9()}var A=[];for(var P=0;
P<g.length;P++)if(a.m*a.n!=0)A.push(eH.rs(a,g[P].toUpperCase(),null,null,D?D[P]:null,X));return A};R.NP.prototype.axD=function(u,g,K,X,w){if(u==null||u.z.length==0)return;
var D=R.NP.a2Z(u,[g],K,X,null)[0],q=new eG(h.E.Y,!0);q.data={d:h.s.IJ,data:D,name:u.g[u.z[0]].getName()+(K==1?"":"@"+K+"x")+"."+g};
w.c(q)};R.NP.prototype.Z7=function(u,g,K,X,w){if(u.KR=="getPNG"){this.axD(K,"png",u.$W,w,g)}else if(u.KR=="getSVG"){this.axD(K,"svg",u.$W,w,g)}if(u.KR=="prms"){this.Xm=u;
this.LI(K)}};R.NP.a8y=function(u){var eJ=u.length,K=0;u.sort(function(D,q){return D[0]+D[1]/2-(q[0]+q[1]/2)});
var g=u[eJ-1][0]+u[eJ-1][1]-u[0][0];for(var P=0;P<eJ;P++)K+=u[P][1];var X=Math.round((g-K)/(eJ-1)),w=u[0][0];
for(var P=0;P<eJ;P++){u[P][0]=w;w+=u[P][1]+X}};R.NP.prototype.RR=function(u,g,K,X,w){var D=u.d;if(D=="trsl"){var q=Math.round(u.gu),C=Math.round(u.ri);
this.DW.fP(q,C);this.yJ(K,g,X,w,!1,u.j);this.f4(K,q,C);this.al(K,null,w)}else if(D=="fcmy"){var D=new g9(["RGB","CMYK"][u.h]+" Color",this);
D.data={d:u.d,gY:K.add.fcmy==null?0:K.add.fcmy,a5:u.h};K.AV(D);this.py(D.data,K)}else if(D=="pview"){var D=new g9("Pattern Preview",this);
D.data={d:u.d};K.AV(D);this.py(D.data,K)}else if(D=="lockguides"){if(K)K.Qz=!K.Qz}else if(D=="gids"||D=="gidsFromLayer"){var a=u.fb,x,H;
if(a==null)a=K.xv();if(D=="gids"){x=u.rK;var $=a[0].length,r=x[0].length;H=$==r?[23,2]:$>r?[23,3]:[23,4];
if(r==0)H=[11,15,0]}else if(D=="gidsFromLayer"){var c=[],U=[],O=K.kE();for(var P=0;P<K.z.length;P++){var A=K.g[K.z[P]].rect;
if(A.fg())continue;c.push([0,A.x],[1,A.y],[0,A.x+A.m],[1,A.y+A.n]);U.push(O,O,O,O)}H=[11,15,1];x=K.xv();
R.NP.qE(x,[c,U])}if(JSON.stringify(a)==JSON.stringify(x))return;var D=new g9(H,this);D.data={d:2,fb:a,rK:x};
K.AV(D);this.py(D.data,K)}else if(D=="algn"){var m=u.h;if(K==null)return;if(K.z.length<2&&!(K.q!=null&&m!=3&&m!=7)){alert(fc.get([15,7,5]));
return}var i=K.q;K.q=null;var A=i?i.rect:R.S.WA(K);this.yJ(K,g,X,w,!1);if(!this.JQ)return;var e=this.ZA,S={},E=[],Z=[],N=[];
for(var P=0;P<e.length;P++){var J=e[P];while(K.g[J].getName()=="</Layer group>")J++;var y=K.root.WX(J),o=y;
while(y.parent!=null){y=y.parent;if(e.indexOf(y.index)!=-1)o=y}var B=Z.indexOf(o.index);if(B==-1){B=Z.length;
Z.push(o.index)}E[P]=B}var t=[],W=[],F=[];for(var P=0;P<Z.length;P++){var G=R.S.WA(K,K.C6(!0,Z[P]));
F.push(G);var L=m==3?[G.y,G.n]:[G.x,G.m];t[P]=L;W.push(L)}R.NP.a8y(W);for(var P=0;P<Z.length;P++){var G=F[P],Q=G.x,T=G.y;
if(m==0)Q=A.x;if(m==1)Q=A.x+(A.m-G.m)/2;if(m==2)Q=A.x+(A.m-G.m);if(m==3)T=t[P][0];if(m==4)T=A.y;if(m==5)T=A.y+(A.n-G.n)/2;
if(m==6)T=A.y+(A.n-G.n);if(m==7)Q=t[P][0];N.push(Math.round(Q-G.x),Math.round(T-G.y))}var j=[];for(var P=0;
P<e.length;P++){var p=E[P];j[2*P]=N[2*p];j[2*P+1]=N[2*p+1]}this.f4(K,0,0,null,j);var M=m==3||m==7?[20,4,6]:[20,4,m<3?m:m-1];
this.al(K,null,w,j,M);K.q=i}else if(D=="disabAuto"){this.P7([!1],null,g)}};R.NP.qE=function(u,g){for(var P=0;
P<g[0].length;P++){var K=g[0][P],X=g[1][P],w=!1;for(var D=0;D<u[0].length;D++){var q=u[0][D],C=u[1][D];
if(K[0]==q[0]&&K[1]==q[1]&&X==C)w=!0}if(!w){u[0].push(K.slice(0));u[1].push(X)}}};R.NP.prototype.enable=function(u,g,K,X,w){this.nC=K;
this.Rz=g;this.jK=w?!0:!1;this.LI(u);this.Hb("default",g)};R.NP.prototype.disable=function(u,g,K,X){this.a6Z(u)};
R.NP.prototype.a6Z=function(u){if(u==null)return;if(this.EF){this.EF.clear(u);this.EF=null}if(u.H.g6){u.H.g6=null;
u.cK=!0}if(u.H.Ba){u.H.Ba=null;u.cK=!0}if(u.H.e1[this.id]){delete u.H.e1[this.id];u.cK=!0}if(u.H.kj.length!=0){u.H.kj=[];
u.cK=!0}};R.NP.prototype.DB=function(u,g,K,X){if(K.Wp!=this.id)return;this.LI(u)};R.NP.prototype.LI=function(u,g){if(u==null)return;
var K=this.Xm;this.a6Z(u);if(!this.jK){var X;if(K.Jp||K.g6)X=f.p.Cf(R.S.WA(u));if(K.Jp&&!X.fg()){this.EF=new cR([X.x,X.y,X.x+X.m,X.y,X.x+X.m,X.y+X.n,X.x,X.y+X.n],!0);
this.EF.mr(u,this.nC)}if(K.g6){var w=null,H=null,$=!1;if(u.kE()!=-1)w=u.g[u.kE()].T0();else w=new dS(0,0,u.m,u.n);
u.H.g6={ep:[X],co:[]};var D=u.H.g6.co,q=X.x+X.m,C=X.y+X.n,a=X.x+Math.floor(X.m/2),x=X.y+Math.floor(X.n/2);
if(g){var r=u.root.mZ(new j4(Math.floor(g.x),Math.floor(g.y)));if(r){H=f.p.Cf(r.j.FE(u));if(H.Vg(X)){$=(H.kB(X)||X.kB(H))&&!X.$z(H);
if(!$)H=null}}}this.axu(X,D);if(H!=null){u.H.g6.ep.push(H);var c=H.x+H.m,U=H.y+H.n,O=H.x+Math.floor(H.m/2),A=H.y+Math.floor(H.n/2);
if($){var m=a,i=x;if(X.kB(H)){m=O;i=A}D.push(X.x,i,H.x,i);D.push(q,i,c,i);D.push(m,X.y,m,H.y);D.push(m,C,m,U)}else{this.axu(H,D);
var e=C<H.y||U<X.y,S=q<H.x||c<X.x;if(q<H.x)D.push(q,x,H.x,x);if(c<X.x)D.push(c,x,X.x,x);if(C<H.y)D.push(a,C,a,H.y);
if(U<X.y)D.push(a,U,a,X.y);if(e&&!S){if(X.x<H.x)D.push(X.x,A,H.x,A);if(H.x<X.x)D.push(H.x,x,X.x,x)}}}else{if(X.y>w.y)D.push(a,w.y,a,X.y);
if(C<w.y+w.n)D.push(a,C,a,w.y+w.n);if(X.x>w.x)D.push(w.x,x,X.x,x);if(q<w.x+w.m)D.push(q,x,w.x+w.m,x)}u.cK=!0}}if(this.d==2&&this.JQ){var E=new dS(0,0,u.m,u.n),Z=u.kE();
if(Z!=-1){var N=u.xv(),J=N[1][this.ZA];if(J==-1)J=Z;E=u.g[J].T0()}var y=u.m_[this.ZA],o=y[0],B=(o==0?"X":"Y")+": "+f.Xx.FZ(y[1]-(o==0?E.x:E.y),u.wY,this.nC,o==0?E.m:E.n,!0);
R.N8.Jn(Math.round(this.H$.x)+10,Math.round(this.H$.y)-10,[B],u);u.cK=!0}if(this.d==3&&this.JQ){var t=f.p.JS(this.It);
u.H.e1[this.id]={vn:t};u.cK=!0}};R.NP.prototype.axu=function(u,g){var K=u.m,X=u.n,w=u.x+Math.floor(K*.2),D=u.y+Math.floor(X*.2);
g.push(w,u.y,w,u.y+X);g.push(u.x,D,u.x+K,D)};R.NP.prototype.Hb=function(u,g){var K={d:h.s.Tx,SD:u},X=new eG(h.E.Y,!0);
X.data=K;g.c(X)};R.NP.prototype.Rd=function(u){var g=this.R7.l3()[0],K=this.i3,X=this.aa9[g];this.a9s(K,X)};
R.NP.prototype.ub=function(u){var g=JSON.parse(JSON.stringify(this.nC.Pk));g.TQ=this.Op.l3()[0];var K=new eG(h.E.Y,!0);
K.data={d:h.s.zS,M3:hO.ne,a5:g};this.Rz.c(K)};R.NP.prototype.eY=function(u,g,K,X,w){if(this.JQ)this.RB(u,g,K,X,w);
this.i3=u;this.nC=K;this.Rz=g;var D=u.t.wQ(w.x,w.y),q;if(R.NP.Ix(K,w,u.t)){q=this.Op}else{if(this.R7)this.R7.removeEventListener("select",this.Rd);
var C=[];u.root.mZ(D,C);if(C.length==0)return;var a=[];this.aa9=C;for(var P=0;P<C.length;P++)a.push({name:u.g[C[P]].getName()});
q=this.R7=new aT(a);q.f("select",this.Rd,this)}q.parent=g;q.N();q.update(u,K);var x=new eG(h.E.Y,!0);
x.data={d:h.s.dC,qD:q,x:w.Tn+2,y:w.GC+1};g.c(x)};R.NP.prototype.E8=function(u,g,K,X,w){var D=R.NP.gs(u,w);
return D!=-1||R.NP.Ix(K,w,u.t)};R.NP.gs=function(u,g){if(u==null||u.add.artd==null)return-1;var K=u.t.wQ(g.x,g.y),X=12*R.Z()/u.t.P;
for(var P=0;P<u.g.length;P++){var w=u.g[P];if(!w.AG()||w.add.artb==null)continue;var D=w.T0(),q=new dS(D.x,D.y-1.7*X,X*w.getName().length*.5,X);
if(q.TB(K))return P}return-1};R.NP.prototype.R4=function(u,g,K,X,w){var D=R.NP.gs(u,w),q=R.NP.af5(u,u.t.wQ(w.x,w.y));
if(D!=-1){u.z=[D];if(K.Wp==R.Hx){var C=new eG(h.E.Y);C.data={d:h.s.LK,b:R.ZQ};g.c(C)}return}if(q!=-1){u.t.l_=q;
u.vH=!0;var C=new eG(h.E.Y,!0);C.data={d:h.s.QI,Pu:cA.vZ.aep};g.c(C);return}this.H$=w;this.te.fP(w.x,w.y);
this.Wt=u.t.wQ(w.x,w.y);this.Nz=new cN(this.Wt);this.yJ(u,g,X,K,!0)};R.NP.Ix=function(u,g,K,X){var w=f.Xx.Wo,D=K.Aj.n;
return u.OB&&(0<g.x&&g.x<w||0<g.y&&g.y<w||X&&0<g.x&&g.x<4*w&&D-w<g.y&&g.y<D)};R.NP.prototype.yJ=function(u,g,K,X,w,D){var q,C=this.Wt,a=!1;
if(w){var x=X.yO&&X.Pk.m_;if(R.NP.Ix(X,this.te,u.t)){q=u.xv();var H=u.xv(),$=null;if(this.te.x<f.Xx.Wo){$=[0,C.x]}if(this.te.y<f.Xx.Wo){$=[1,C.y]}H[0].push($);
H[1].push(u.kE());u.r4(H);if(!x){var r=new eG(h.E.Y);if(!X.Pk.m_){r.data={d:h.s.zS,M3:hO.Yc};g.c(r)}if(!X.yO){r.data={d:h.s.zS,M3:hO.D9};
g.c(r)}x=!0}}var c=this.arC(u,C);if(x&&c!=null&&!u.Qz){this.d=2;this.fb=q?q:u.xv();this.ZA=c;this.JQ=!0;
this.Rt=R.S.WA(u);return}if(u.qT.length!=0){this.d=4;this.Rt=u.g1[u.qT[0]].rect.clone();this.JQ=!0;return}if(this.EF&&this.EF.vw(C,u.t.P,!0,this.H$)!=null){var r=new eG(h.E.Y);
r.data={d:h.s.LK,b:R.fr,aam:!0};g.c(r);return}if(u.q&&u.q.rect.TB(C)){var U=Math.round(C.x),O=Math.round(C.y),A=u.q.rect;
a=u.q.channel[(O-A.y)*A.m+U-A.x]>128}if(!a&&(!this.jK&&this.Xm.$C||this.jK&&this.Xm.$C&&(K.a(hW.jl)||u.z.length<2))){var m=this.aim(u,C,K);
if(!m){u.z=[];u.J9=null;u.X5=u.Qv=!0;this.d=3;this.It=new dS;this.JQ=!0;return}}if(K.a(hW.Dd)&&!a){var i=new eG(h.E.l);
i.b=R.QA;i.data={d:l.bm,awF:!0};g.c(i)}}if(u.qT.length!=0){this.d=4;this.Rt=u.g1[u.qT[0]].rect.clone();
this.JQ=!0;return}this.ZA=u.C6(D==null,D,null,!0);for(var P=0;P<this.ZA.length;P++){var e=this.ZA[P],S=u.g[e];
if(S.Kf(2)||S.Kf(31)||u.Yt(e)){alert(fc.get([6,57,0]));return}}if(u.add.artd&&w){var E=this.ZA,Z=!1;
for(var P=0;P<E.length;P++)if(u.g[E[P]].add.artb)Z=!0;if(!Z){this.oL=[u,u.g.slice(0),u.z.slice(0),-1];
this.ZA.sort(function(F,G){return F-G})}}this.uf=R.NP.alp(u,this.ZA);this.d=0;if(u.q&&(!w||a)&&u.z.length==1&&u.KL(!1)){if(!u.ai3()){this.JQ=!1;
return}var N=u.g[u.z[0]],J=K.a(hW.Dd);this.d=1;var y=u.history[u.YQ];if(y.b==this&&y.data.d==1&&y.data.j==u.z[0]&&N.oF==N.Ag.oF&&!J){this._T=y}else{var o=N.Ag,B=!1,t;
if(!N.A1(u,u.q)||J){B=!0;N.ZK(u,u.q,J)}if(N.Ag.oF<=0){t=f.L(N.Ag._C.length>>2);f.hk(N.Ag._C,t,3)}else t=u.q.channel.slice(0);
var W={rect:N.Ag.ij.clone(),channel:t};this._T=new g9(J?[12,53]:[12,54],this);this._T.data={d:1,j:u.z[0],Ag:N.Ag,wE:o,nD:B,OZ:u.q,V5:W,kR:new j4(0,0)};
u.AV(this._T);u.q=W;u.Ym=!0}}this.JQ=!0;this.Rt=R.S.WA(u)};R.NP.prototype.aim=function(u,g,K){var X=u.root.mZ(new j4(Math.floor(g.x),Math.floor(g.y)));
if(X){if(X.j.add.vmsk)u.cK=!0;var w=u.g.indexOf(X.j);if(K.a(hW.jl)){var D=u.z.indexOf(w);if(D==-1)u.z.push(w);
else if(u.z.length>1)u.z.splice(D,1)}else if(u.z.indexOf(w)==-1){this.a9s(u,w)}}return X!=null};R.NP.prototype.a9s=function(u,g){u.g[g].oF=0;
u.z=[g];u.J9=null;u.dh();u.xE=!0;u.X5=!0};R.NP.af5=function(u,g){var K=u.add.Anno;if(K==null||K.length==0)return-1;
var X=30/u.t.P;for(var P=0;P<K.length;P++)if(new dS(K[P][0],K[P][1],X,X).TB(g))return P;return-1};R.NP.prototype.ai=function(u,g,K,X,w){this.H$=w;
var D=u.t.wQ(w.x,w.y),c,U;if(this.Nz&&this.d<2)D=this.Nz.Jk(D,X);if(!this.JQ){if(K.yO&&K.Pk.m_&&u&&!u.Qz){var q=this.arC(u,D),C="default",a=R.NP.gs(u,w);
if(q!=null)C=["col-resize","row-resize"][u.m_[q][0]];else if(this.EF){var x=this.EF.vw(D,u.t.P,null,w);
if(x)C=x}else if(a!=-1||R.NP.af5(u,D)!=-1){C="pointer"}this.Hb(C,g)}this.LI(u,D);return}var H=this.Wt,$=Math.round(D.x-H.x)-this.DW.x,r=Math.round(D.y-H.y)-this.DW.y;
if(this.Rt){if(this.d==2){var O=[];if(u.q)O.push(u.q.rect);if(this.Rt)O.push(this.Rt);if(u.t.T9)O.push(u.t.T9);
D=R.NP.s2(u,D,K,[!1,O,!0])}else{U=this.Rt.clone();U.offset(this.DW.x+$,this.DW.y+r);c=R.NP.tl(u,U,K);
var A=this.Nz.amZ(X);if(A==1){c[0]=0;c[2]=1e9}if(A==2){c[1]=0;c[3]=1e9}$+=Math.round(c[0]);r+=Math.round(c[1])}}this.DW.x+=$;
this.DW.y+=r;var m=this.oL;if(m&&u==m[0]){u.$O(m[1]);u.z=m[2].slice(0);m[3]=-1}this.f4(u,$,r,D,null,X.a(hW.jl));
if(m&&u==m[0]){var i=this.Rt.clone();i.offset(this.DW.x,this.DW.y);var e=D,a=u.kE(),S=-1;for(var P=0;
P<u.g.length;P++){var E=u.g[P];if(!E.AG()||E.add.artb==null)continue;var Z=E.T0();if(Z.TB(e))S=P}if(S!=-1&&S!=a){var N=R.aD.GG(u,this.ZA,S,!0,null,!1);
u.$O(N[0]);u.z=N[1];m[3]=S}}this.LI(u,D);if(c)R.NP.Pf(u,U,c)};R.NP.prototype.arC=function(u,g){var K=R.jz(u,this.H$);
g=[g.x,g.y];var X=u.xv(),w=u.kE();for(var P=0;P<X[0].length;P++){var D=X[0][P],q=X[1][P];if(q!=-1&&q!=w)continue;
if(Math.abs(D[1]-g[D[0]])<K)return P}return null};R.NP.prototype.f4=function(u,g,K,X,w,D){if(this.d==0){if(w)R.NP.M2(u,this.ZA,this.uf,w);
else R.NP.rI(u,this.ZA,this.uf,g,K)}else if(this.d==1){var q=this._T.data;q.kR.offset(g,K);R.NP.$Q(u,q.j,g,K)}else if(this.d==2){var C=1e-5;
if(D)C=u.t.P<=1?10:1;else if(u.t.P<=1)C=1;var a=C*Math.round(X.x/C),x=C*Math.round(X.y/C),H=[a,x],$=u.m_[this.ZA];
$[1]=H[$[0]]}else if(this.d==3){var r=this.Wt,c=f.p.Ha([r.x,r.y,X.x,X.y]);this.It=c;var U=[];u.root.axA(c,U);
if(JSON.stringify(u.z)!=JSON.stringify(U)){u.z=U;u.X5=u.Qv=!0}}else if(this.d==4){for(var P=0;P<u.qT.length;
P++)u.g1[u.qT[P]].rect.offset(g,K);u.cK=!0}};R.NP.$Q=function(u,g,K,X){var w=u.g[g];u.q.rect.offset(K,X);
w.gi(u,K,X,u.q);u.Ym=!0;u.O()};R.NP.prototype.RB=function(u,g,K,X,w,D){this.al(u,w,K);this.LI(u);if(Date.now()-this.w$<300&&!D){var q=R.bE.ah(u,u.t.wQ(w.x,w.y));
if(R.NP.Ix(K,w,u.t,!0)){var C=new eG(h.E.Y);if(w.y>u.t.Aj.n-20){C.data={d:h.s.KP,Pu:"doczoom",gY:u.t.P*100,Nv:{T:h.E.l,b:R.d0,M:{d:"pzoom"}}}}else{C.data={d:h.s.KP,Pu:"preferences"}}g.c(C)}else if(q>=0){var a=new eG(h.E.l,!0);
a.b=R.$d;a.data={d:"editCurr",QQ:q};g.c(a)}}this.w$=Date.now();R.SO.CE(u)};R.NP.prototype.al=function(u,g,K,X,w){if(!this.JQ)return;
this.JQ=!1;if(this.d==0){if(X){this.amH(u,null,X,w)}else{if(this.DW.x==0&&this.DW.y==0)return;this.amH(u,this.DW.clone())}u.vH=!0}else if(this.d==2){var D=0;
g=[g.x,g.y];var q=this.ZA,C=u.m_[q],jY=this.fb[0].length,a=u.m_.length;if(K.OB&&g[C[0]]<f.Xx.Wo){var x=u.xv();
x[0].splice(q,1);x[1].splice(q,1);u.r4(x);D=1;if(jY==a-1)return}if(jY<a)D=2;var H=new g9([[23,2],[23,3],[23,4]][D],this);
H.data={d:2,fb:this.fb,rK:u.xv()};u.AV(H)}else if(this.d==4){var H=new g9([12,54],this);H.data={d:4,z:u.qT.slice(0),u:this.DW.clone()};
u.AV(H)}this.DW.fP(0,0)};R.NP.prototype.BF=function(u,g,K,X){var w=X.mj();if(u!=null&&(w.x!=0||w.y!=0)){if(X.a(hW.Dd)&&u.q==null){var D=new eG(h.E.l);
D.b=R.QA;D.data={d:l.bm,awF:!0};g.c(D)}this.DW.fP(w.x,w.y);this.yJ(u,g,X,K,!1);if(!this.JQ)return;this.f4(u,w.x,w.y);
this.al(u,null,K);this.LI(u)}var q=X.a(hW.A5);if(!this.jK&&this.aoZ!=q){if(q){this.a5e=this.Xm.$C;this.Xm.$C=!0}else{this.Xm.$C=this.a5e}this.aoZ=q;
var C=new eG(h.E.Y,!0);C.data={d:h.s.SI,b:this.id,YW:this.Xm};g.c(C)}};R.NP.prototype.A3=function(u,g){if(u.d==0){var K=u.TX;
if(K){g.$O(K._7);g.z=K.Uj.slice(0);g.O();g.X5=!0}R.NP.M2(g,u.z,u.MZ,u.dB,!0);R.SO.CE(g)}else if(u.d=="fcmy"){if(u.gY==0)delete g.add.fcmy;
else g.add.fcmy=u.gY;g.cK=!0}else if(u.d=="pview"){g.Wr=!g.Wr;g.O()}else if(u.d==2){g.r4(u.fb);g.cK=!0}else if(u.d==4){for(var P=0;
P<u.z.length;P++)g.g1[u.z[P]].rect.offset(-u.u.x,-u.u.y);g.cK=!0}else{var X=g.g[u.j];if(u.nD){X.VL(g,u.wE);
g.q=u.OZ;g.Ym=!0;g.O();X.O()}else{R.NP.$Q(g,u.j,-u.kR.x,-u.kR.y)}}};R.NP.prototype.py=function(u,g){if(u.d==0){R.NP.M2(g,u.z,u.MZ,u.dB);
var K=u.TX;if(K){g.$O(K.j1);g.z=K.eh.slice(0);g.O();g.X5=!0}R.SO.CE(g)}else if(u.d=="fcmy"){if(u.a5==0)delete g.add.fcmy;
else g.add.fcmy=u.a5;g.cK=!0}else if(u.d=="pview"){g.Wr=!g.Wr;g.O()}else if(u.d==2){g.r4(u.rK);g.cK=!0}else if(u.d==4){for(var P=0;
P<u.z.length;P++)g.g1[u.z[P]].rect.offset(u.u.x,u.u.y);g.cK=!0}else{var X=g.g[u.j];if(u.nD){X.Ag=u.Ag;
g.q=u.V5;R.NP.$Q(g,u.j,0,0);X.O()}else{R.NP.$Q(g,u.j,u.kR.x,u.kR.y)}}};R.NP.prototype.amH=function(u,g,K,X){if(K){var w=!0;
for(var P=0;P<K.length;P++)if(K[P]!=0)w=!1;if(w)return}var D=u.history[u.YQ],q=this.oL,C=q!=null&&q[3]!=-1&&q[0]==u;
if(!C&&K==null&&D.data&&D.b==this&&D.data.d==0&&JSON.stringify(D.data.z)==JSON.stringify(this.ZA)&&JSON.stringify(D.data.MZ)==JSON.stringify(this.uf)){var a=D.data.dB,x=D.data.atD.NA.T.v;
x.Hrzn.v.val+=g.x;x.Vrtc.v.val+=g.y;for(var P=0;P<a.length;P+=2){a[P]+=g.x;a[P+1]+=g.y}}else{if(g==null)g=new j4(K[0],K[1]);
var H={$T:"move",NA:{classID:"null",null:bd.Af("Lyr",!0),T:{t:"Objc",v:{classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Rlt",val:g.x}},Vrtc:{t:"UntF",v:{type:"#Rlt",val:g.y}}}}}},$=null;
if(C)$={_7:q[1],Uj:q[2],j1:u.g.slice(0),eh:u.z.slice(0)};this.oL=null;var r=new g9(X?X:[12,54],this);
if(K)r.data={d:0,z:this.ZA,MZ:this.uf,TX:$,dB:K};else r.data={d:0,z:this.ZA,MZ:this.uf,TX:$,dB:R.NP.a6n(this.ZA,g.x,g.y)};
r.data.atD=H;u.AV(r);this.track(H)}};R.NP.a6n=function(u,g,K){var X=[];for(var P=0;P<u.length;P++)X.push(g,K);
return X};R.NP.rI=function(u,g,K,X,w){R.NP.M2(u,g,K,R.NP.a6n(g,X,w))};R.NP.M2=function(u,g,K,X,w){if(g.length==0)return;
if(K==null){K=[];for(var P=0;P<g.length;P++){K.push(u.g[g[P]].WK(u,!0))}}var D=new dS,q=new dS(0,0,u.m,u.n);
for(var P=0;P<g.length;P++){var C=X[2*P],a=X[2*P+1];if(w){C=-C;a=-a}var x=u.g[g[P]],H=K[P];if(x.add.fxrp&&(H.indexOf(0)!=-1||x.HS()))x.add.fxrp.offset(C,a);
for(var $=0;$<H.length;$++){var r=H[$];if(r==0){x.rect.offset(C,a);if(x.ov()&&x.nE(u))x.nE(u).rect.offset(C,a);
if(x.add.artb){var c=x.T0();c.offset(C,a);x.ab(c);var U=x.add.artb.guideIndeces;U=U?U.v:[];for(var O=0;
O<U.length;O++){var A=u.m_[U[O].v];A[1]+=A[0]==0?C:a}}if(x.add.TySh){x.add.TySh.D.translate(C,a);if(x.add.TySh.add){x.add.TySh.add.vmsk.offset(C,a)}}if(x.add.SoLd){var m=new eV(1,0,0,1,C,a),i=x.add.SoLd,e=R.S.TU(i.Trnf),S=R.S.TU(i.nonAffineTransform);
f.p.D(e,m,e);f.p.D(S,m,S);i.Trnf=R.S.c2(e);i.nonAffineTransform=R.S.c2(S);R.S.ag1(i,m)}}if(r==1)x.Zv().rect.offset(C,a);
if(r==2){x.add.vmsk.offset(C,a);if(x.add.vogk)f.b1.D(x.add.vogk,[1,0,C,0,1,a,0,0],[])}if(r==3){x.nE(u).B.rect.offset(C,a);
if(H.length==1)x.O()}}if(H.length>0){var E=x.add.GdFl;if(E==null)E=x.add.PtFl;if(x.HS()&&!x.l7()&&x.add.vmsk!=null&&f.J.fB(x.add.vmsk._)&&x.add.vmsk._X==255&&(E==null||E.Algn&&E.Algn.v)){x.rect.offset(C,a)}else x.th(u);
var Z=u.root.IS(x.FE(u),u,g[P]);if(x.add.artb)Z=Z.RN(x.T0());D=D.RN(Z);Z.offset(-C,-a);D=D.RN(Z);if(x.y8()&&x.B&&x.B.color==255)D=D.RN(q);
x.a18()}}u.O(f.p.Cf(D))};R.NP.alp=function(u,g){var K=[];for(var P=0;P<g.length;P++){var X=u.g[g[P]];
K.push(X.WK(u))}return K};R.NP.Pf=function(u,g,K){var X=u.H.Ba={v:[],F:[]},w=g.x+K[0],D=g.y+K[1];if(K[2]!=1e9){X.F.push("M","L");
X.v.push(K[2],D,K[2],D+g.n)}if(K[3]!=1e9){X.F.push("M","L");X.v.push(w,K[3],w+g.m,K[3])}u.cK=!0};R.NP.s2=function(u,g,K,X){var w=R.NP.a8v(u,[[g.x],[g.y]],K,X);
return new j4(g.x+w[0],g.y+w[1])};R.NP.tl=function(u,g,K,X,w){var D=w==!0?1:.5,q=R.NP.a8v(u,[[g.x,g.x+Math.round(g.m*D),g.x+g.m],[g.y,g.y+Math.round(g.n*D),g.y+g.n]],K,X);
return q};R.NP.a8v=function(u,g,K,X){if(X==null)X=[!0,null,!0];var w=[0,0,1e9,1e9];if(!K.l5)return w;
var D=JSON.parse(JSON.stringify(g));for(var q=0;q<2;q++){var C=1e9,a=g[q],x=0;for(var H=0;H<a.length;
H++){var $=R.NP.aqx(u,a[H],D[1-q][H],q,K,X);if($!=1e9)D[q][H]=$;if($!=1e9&&Math.abs($-a[H])<Math.abs(C)){C=$-a[H];
x=$}}if(C!=1e9){w[q]=C;w[q+2]=x}}return w};R.NP.aqx=function(u,g,K,X,w,D){var q=1e9,C=w.Cw,a=w.Pk,x=[u.root];
while(x.length!=0&&C[2]){var H=x.pop(),$=H.j,r=$.rect;if(!$.AG())continue;if(H.children)for(var P=0;
P<H.children.length;P++)x.push(H.children[P]);if(u.z.indexOf(H.index)!=-1||r.fg())continue;if(X==0){var c=r.m,U=c>>>1;
if(Math.abs(r.x-g)<Math.abs(q-g))q=r.x;if(Math.abs(r.x+U-g)<Math.abs(q-g))q=r.x+U;if(Math.abs(r.x+c-g)<Math.abs(q-g))q=r.x+c}else{var O=r.n,A=O>>>1;
if(Math.abs(r.y-g)<Math.abs(q-g))q=r.y;if(Math.abs(r.y+A-g)<Math.abs(q-g))q=r.y+A;if(Math.abs(r.y+O-g)<Math.abs(q-g))q=r.y+O}}if(D[0]&&C[0]&&a.m_&&w.yO){var m=u.xv(),i=m[0],e=m[1],S=u.kE();
for(var P=0;P<i.length;P++)if((e[P]==-1||e[P]==S)&&i[P][0]==X&&Math.abs(i[P][1]-g)<Math.abs(q-g))q=i[P][1]}if(C[1]&&a.Dl&&w.yO){var E=Math.round(f.Xx.KJ(a.ot,u.wY,u.m,a.eF));
if(X==1&&a.Mv==1){var Z=K*.5*Math.sqrt(4/3),N;E*=Math.sqrt(4/3);N=Math.round((g-Z)/E)*E+Z;if(Math.abs(N-g)<Math.abs(q-g))q=N;
N=Math.round((g+Z)/E)*E-Z;if(Math.abs(N-g)<Math.abs(q-g))q=N}else{var N=Math.round(g/E)*E;if(Math.abs(N-g)<Math.abs(q-g))q=N}}var J=u.BD;
if(C[3]&&a.BD&&w.yO&&J.length!=0){for(var P=0;P<J.length;P++){if(!D[2]&&u.di.indexOf(P)!=-1)continue;
var y=R.gC.tK(J,P);for(var o=0;o<3;o+=2)if(y[o+X]!=g&&Math.abs(y[o+X]-g)<Math.abs(q-g))q=y[o+X]}}if(D[1])for(var B=0;
B<D[1].length;B++){var r=D[1][B],c=r.m,O=r.n,t=[r.x,r.y,r.x+(c>>>1),r.y+(O>>>1),r.x+c,r.y+O];for(var P=0;
P<6;P+=2)if(Math.abs(t[P+X]-g)<Math.abs(q-g))q=t[P+X]}if(C[4]){var r=new dS(0,0,u.m,u.n),S=u.kE();if(S!=-1)r=u.g[S].T0();
var c=r.m,O=r.n,t=[r.x,r.y,r.x+(c>>>1),r.y+(O>>>1),r.x+c,r.y+O];for(var P=0;P<6;P+=2)if(Math.abs(t[P+X]-g)<Math.abs(q-g))q=t[P+X]}var W=Math.abs(q-g)<=4*R.Z()/u.t.P?q:1e9;
return W};R.li=function(){R.uO.call(this,[10,12],R.eu,"tools/mwand")};R.li.prototype=new R.uO;R.li.prototype.p9=R.uO.prototype.au3;
R.li.prototype.P7=R.uO.prototype.akA;R.li.prototype.o1=function(u,g,K,X){this.finish(u,g,K,X)};R.li.prototype.getSelection=function(u,g,K,X){var w=this.Wu,D=R.uO.afW(new j4(Math.floor(w.x),Math.floor(w.y)),this.Xm.wconf,this.Xm.sall);
return D};R.li.a17=function(u,g,K,X,w){if(u.z.length!=1){alert("More than one layer selected.");return null}var D=u.g[u.z[0]],q=null,C;
if(w)q=D.oF<=0?null:D.oF==1?D.Zv():D.nE(u).B;if(q==null&&D.add.lsct!=null&&D.add.lsct!=g4.Zk){alert("No layer selected.");
return null}if(g.x<0||g.x>u.m||g.y<0||g.y>u.n)return null;var a=new dS(0,0,u.m,u.n);if(X){C=u.KS()}else if(q==null&&a.$z(D.rect))C=D.buffer;
else{C=f.L(a.$()*4);if(q==null)f.bV(D.buffer,D.rect,C,a);else R.Xo.MN(q.channel,q.rect,q.color,C,a)}var x=R.li.ajV(C,a,g,null,K),H=f.LE(x,a),$=f.L(H.$());
f.x5(x,a,$,H);return{rect:H,channel:$}};R.li.aoW=function(u,g,K){var X=g.m,w=g.n,q=0,C=0,a=0,x=0;u=new Uint32Array(u.buffer);
var D=[],H=K.length;for(var P=0;P<H;P++){var $=K[P],r=Math.round($.x-.5-g.x),c=Math.round($.y-.5-g.y);
r=Math.max(0,Math.min(X-1,r));c=Math.max(0,Math.min(w-1,c));var U=c*X+r,O=u[U];D.push([O&255,O>>8&255,O>>16&255,O>>>24])}return D};
R.li.ajV=function(u,g,K,X,w){u=new Uint32Array(u.buffer);var D=g.m,q=g.n,C=D*q;if(X==null)X=R.li.aoW(u,g,[K]);
var a=Math.round(K.x-.5-g.x),x=Math.round(K.y-.5-g.y),H=x*D+a,$=Date.now(),r=f.L(D*q),c=w[0],U=1/c,O=w[1]&&c>0?255:0;
if(w[2]){var A=f.L(r.length),m=new Uint32Array(C),i=1;m[0]=a<<16|x;A[H]=1;while(i>0){var e=m[i-1];i--;
var S=e>>>16,E=e&65535,P=E*D+S,Z=R.li.UY(u[P],X);if(Z>c){var N=O*(1-Math.max(0,Math.min(1,(Z-c)*U)));
r[P]=~~N}else{r[P]=255;if(E!=q-1&&A[P+D]==0){m[i++]=S<<16|E+1;A[P+D]=1}if(E!=0&&A[P-D]==0){m[i++]=S<<16|E-1;
A[P-D]=1}if(S!=D-1&&A[P+1]==0){m[i++]=S+1<<16|E;A[P+1]=1}if(S!=0&&A[P-1]==0){m[i++]=S-1<<16|E;A[P-1]=1}}}}else{for(var P=0;
P<C;P++){var Z=R.li.UY(u[P],X);if(Z<=c)r[P]=255}for(var E=0;E<q;E++)for(var S=0;S<D;S++){var P=E*D+S;
if(r[P]==0&&(S>0&&(r[P-1]==255||E>0&&r[P-D-1]==255||E<q-1&&r[P+D-1]==255)||S<D-1&&(r[P+1]==255||E>0&&r[P-D+1]==255||E<q-1&&r[P+D+1]==255)||E>0&&r[P-D]==255||E<q-1&&r[P+D]==255)){var Z=R.li.UY(u[P],X),N=O*(1-Math.max(0,Math.min(1,(Z-c)*U)));
r[P]=~~N}}}return r};R.li.UY=function(u,g){var K=g.length,X=R.li.adT(u,g[0]),P=1;while(P!=K){X=Math.min(X,R.li.adT(u,g[P]));
P++}return X};R.li.adT=function(u,g){var K=u&255,X=u>>>8&255,w=u>>>16&255,D=u>>>24&255;if(g[3]==0)return D<5?0:255;
var q=Math.max(Math.abs(K-g[0]),Math.max(Math.abs(X-g[1]),Math.abs(w-g[2])));return D==0?255:q};R.aj=function(u,g){if(g)R.Xo.call(this);
else if(u)R.Xo.call(this,[10,49],R.uY,"tools/camove");else R.Xo.call(this,[10,26],R.L3,"tools/patch");
this.IH=null;this._D=null;this.u=null;this.ew=null;this.ie=new j4;this.Lk=null;this.Ek=null};R.aj.prototype=new R.Xo;
R.aj.prototype.R4=function(u,g,K,X,w){var D=u.t.wQ(w.x,w.y);if(u.q&&f.mZ(D,u.q.channel,u.q.rect)){var q=new dS(0,0,u.m,u.n),C=q.I3(u.q.rect);
if(!u.KL()||C.fg())return;if(!0){var a=f.L(C.$());f.x5(u.q.channel,u.q.rect,a,C);u.q={channel:a,rect:C}}this._U(u);
this.Wn(u);this.ew=D;this.ie=new j4(D.x-u.q.rect.x,D.y-u.q.rect.y);this.Ek=f.L(u.q.rect.$()*4);this.Ek.fill(255);
if(this.Xm.patch==1){var x=u.g[u.z[0]];x.ZK(u,u.q,!0);if(x.Ag==null)this.ew=null}this.Lk=u.q.rect.clone()}else{this._D={v:[D.x,D.y],F:["M"]};
this.IH=D}};R.aj.prototype.ai=function(u,g,K,X,w){var D=u.t.wQ(w.x,w.y);if(this.ew){if(this.Xm.patch==1){if(u.qT.length==0){var q=u.g[u.z[0]].Ag,C=D.x-this.ie.x,a=D.y-this.ie.y;
R.NP.$Q(u,u.z[0],Math.round(C-q.ij.x),Math.round(a-q.ij.y))}}else this.aqY(u,D,"clone")}if(this.IH){this._D.F.push("L");
this._D.v.push(D.x,D.y);this.IH=D;u.H.vn=this._D;u.cK=!0}};R.aj.prototype.RB=function(u,g,K,X,w){var D=u.t.wQ(w.x,w.y);
if(this.ew){var q=u.q.rect.clone();if(this.id==R.uY){var C=u.g[u.z[0]];C.VL(u,C.Ag);u.q.rect=this.Lk.clone();
var a=f.L(u.q.rect.$()*4);f.K1(u.q.channel,a,3);this.fJ(u,"sheal",a,u.q.rect,u.q.rect);u.q.rect=q;q=q.RN(this.Lk)}this.aqY(u,D,"heal");
this.finish(u,q,null,null,!0);u.O(q);this.ew=null}if(this.IH){var x=R.uO.Be(this.Xm.setop,X.a(hW.jl),X.a(hW.Dd)),H=new eG(h.E.qf,!0);
if(this._D.v.length<=4)H.data=R.uO.IX();else H.data=R.uO.Ws(this._D.v,x);g.c(H);this.IH=null;u.H.vn=null;
u.cK=!0}};R.aj.prototype.Hp=function(){return this.u};R.aj.prototype.Z7=function(u,g,K,X,w){R.Xo.prototype.Z7.call(this,u,g,K,X,w);
this.Hb(w,X)};R.aj.prototype.Hb=function(u,g){var K="auto;";if(g!=null&&g.a(hW.jl)&&!g.a(hW.Dd)||this.Xm.setop=="union")K="copy";
var X=new eG(h.E.Y,!0);X.data={d:h.s.Tx,SD:K};if(this.caller)this.caller.c(X)};R.aj.prototype.aqY=function(u,g,K){var X=new j4(Math.round(this.ew.x-g.x),Math.round(this.ew.y-g.y));
if(this.Xm.patch==1)X.fP(-X.x,-X.y);this.u=X;this.fJ(u,K,this.Ek,u.q.rect,u.q.rect);this.O(u,u.q.rect)};
R.aq7=function(){R.aj.call(this,!0);this.Xm.patch=1};R.aq7.prototype=new R.aj(!0,!0);R.uJ=function(){R.Xo.call(this,[10,13],R.ll,"tools/pbucket");
this.$E=!1};R.uJ.prototype=new R.Xo;R.uJ.prototype.enable=function(u,g,K,X){var w=new eG(h.E.Y,!0);w.data={d:h.s.Tx,SD:"default"};
g.c(w)};R.uJ.prototype.xY=function(u,g){};R.uJ.prototype.R4=function(u,g,K,X,w){this.$E=!0};R.uJ.prototype.RB=function(u,g,K,X,w,D){var q=this.$E;
this.$E=!1;if(!q||D)return;if(this.J6(X,g,w))return;if(!u.KL())return;var C=u.t.wQ(w.x,w.y),a=R.li.a17(u,C,this.Xm.wconf,this.Xm.sall,!0);
if(a==null)return;var x=f.L(a.rect.$()*4);f.D4(x,(K.FK&255)<<16|(K.FK>>8&255)<<8|(K.FK>>16&255)<<0);
f.K1(a.channel,x,3);this._U(u);this.fJ(u,"draw",x,a.rect,a.rect);this.O(u,a.rect);this.finish(u,a.rect)};
R.O_=function(){R.uO.call(this,[10,14],R.VK,"tools/plasso");this.B1="crosshair";this.zk=[];this.fx=null;
this._D=null;this.acT=0};R.O_.prototype=new R.uO;R.O_.prototype.disable=function(u,g,K,X){this.b2(u)};
R.O_.prototype.o1=function(u,g,K,X){this.zk=[hW.cG,hW.jA]};R.O_.prototype.Kx=function(u){return this.zk.indexOf(u)!=-1};
R.O_.prototype.HH=function(u){return this._D!=null};R.O_.prototype.E9=function(){return this._D!=null};
R.O_.prototype.Sn=function(){return this._D!=null};R.O_.prototype.XS=function(u,g,K,X){if(this._D==null)return;
var w=this._D,D=w.v,q=D.length-2,C=this.Wu;if(this.kp.TO(1)&&K.a(hW.Dd)&&X.HT){D.push(0,0);w.F.push("L");
q+=2}else if(K.a(hW.jl))C=R.xR.AH(new j4(D[q-2],D[q-1]),C);D[q]=C.x;D[q+1]=C.y;u.H.vn=w;u.cK=!0};R.O_.prototype.ws=function(u,g,K,X){var w=Date.now();
if(this._D==null)this._D={v:[this.Wu.x,this.Wu.y,this.Wu.x,this.Wu.y],F:["M","L"]};else{this.XS(u,g,K,X);
if(w-this.acT<250||j4.uh(this.Wu,new j4(this._D.v[0],this._D.v[1]))<R.jz(u,X)){this.fx=this._D;this.finish(u,g,K,X);
this.b2(u);return}this._D.F.push("L");this._D.v.push(this.Wu.x,this.Wu.y)}this.acT=w;u.H.vn=this._D};
R.O_.prototype.b2=function(u){this._D=null;this.zk=[];if(u!=null){u.H.vn=null;u.cK=!0}};R.O_.prototype.BF=function(u,g,K,X){R.uO.prototype.BF.call(this,u,g,K,X);
if(X.a(hW.m0)&&this._D==null&&this.fx&&u.q!=null){var w=new eG(h.E.l);w.b=R.QV;w.data={d:"h_stepbck"};
g.c(w);this.o1(u,K,X,null);this._D=this.fx;return}if(this._D==null)return;if(X.a(hW.cG)||X.a(hW.jA)){this._D.v.pop();
this._D.v.pop();this._D.F.pop();this.XS(u,K,X)}if(X.a(hW.R0)){if(this._D.v.length>4){this.fx=this._D;
this.finish(u,K,X)}this._D=null}if(X.a(hW.m0)){this._D=null}u.H.vn=this._D;u.cK=!0};R.O_.prototype.getSelection=function(u,g,K,X){return R.uO.Ws(this._D.v,null,this.Xm.anta)};
R.NZ=function(){R.uO.call(this,[10,10],R.GE,"tools/mlasso");this.B1="crosshair";this.zk=[];this._=[];
this.R9=[];this.Ik=[];this.a4=null;this.nh=null;this.W$=null;this.w$=0;this.CF=0};R.NZ.prototype=new R.uO;
R.NZ.prototype.disable=function(u,g,K,X){this.clear(u)};R.NZ.prototype.HH=function(u){return this._.length!=0};
R.NZ.prototype.Sn=function(){return this._.length!=0};R.NZ.prototype.Kx=function(u){return this.zk.indexOf(u)!=-1};
R.NZ.prototype.o1=function(u,g,K,X){this.zk=[hW.cG,hW.jA];var w=this.QP(this.B0,u);if(this._.length!=0&&(j4.uh(w,this._[0])<R.jz(u,X)||Date.now()-this.w$<300)){this.Yv(u,this._[0]);
this.finish(u,g,K);this.clear(u);return}this.w$=Date.now();if(this._.length!=0)w=this.IA(w,u);else{var D=u.m,q=u.n,C=f.L(D*q),a=u.KS(),x=D*q*4;
for(var P=0;P<x;P+=4)C[P>>>2]=~~(.5+f.Yi(a[P],a[P+1],a[P+2])*(a[P+3]*(1/255)));this.a4=f.wD.aon(C,D,q);
this.W$=new Uint16Array(C.length)}this.Yv(u,w);this.CF=K.a(hW.Dd)?1:0;this.P2(u)};R.NZ.prototype.Yv=function(u,g){var K=this._;
this.R9[K.length]=this.Ik.length;if(K.length!=0){f.wD.tZ(this.nh,g.y*u.m+g.x);var X=this.aq(u,g);X.reverse();
var w=R.NZ.afL(u,X);this.Ik=this.Ik.concat(w)}K.push(g);this.ack(u)};R.NZ.prototype.ack=function(u){var g=this._[this._.length-1],K=g.y*u.m+g.x;
this.nh=f.wD.ag4(this.a4.ny,this.a4.I4,K);this.W$.fill(0)};R.NZ.prototype.QP=function(u,g){return new j4(Math.floor(Math.max(0,Math.min(g.m-1,u.x))),Math.floor(Math.max(0,Math.min(g.n-1,u.y))))};
R.NZ.prototype.clear=function(u){this.Ik=[];this._=[];this.R9=[];this.a4=null;this.nh=null;this.W$=null;
if(u!=null){u.H.vn=null;u.H.hR=[];u.cK=!0}this.zk=[]};R.NZ.prototype.XS=function(u,g,K,X){var w=this._,D=w.length;
if(D==0)return;var q=this.IA(this.QP(this.Wu,u),u),C=this.aq(u,q);for(var P=0;P<C.length;P++){var a=C[P],x=new j4(a%u.m,Math.floor(a/u.m));
if(this.W$[a]>30&&j4.uh(x,w[D-1])>20){this.Yv(u,x);return}this.W$[a]++}if(this.CF==1&&X.HT)this.Yv(u,q);
this.P2(u)};R.NZ.prototype.P2=function(u){var g=this._;if(g.length!=0){var K=this.IA(this.QP(this.Wu,u),u),X=this.aq(u,K);
X.reverse();var w=R.NZ.afL(u,X),D=this.Ik.concat(w),q=u.H.vn={v:D,F:["M"]};for(var P=2;P<D.length;P+=2)q.F.push("L")}u.H.hR=[];
for(var P=0;P<g.length;P++)u.H.hR.push(g[P].x+.5,g[P].y+.5);u.cK=!0};R.NZ.prototype.ws=function(u,g,K,X){};
R.NZ.prototype.BF=function(u,g,K,X){if(this._.length==0)return;if(X.a(hW.cG)||X.a(hW.jA)){this._.pop();
this.Ik=this.Ik.slice(0,this.R9[this._.length]);this.R9.pop();if(this._.length==0)this.clear(u);else this.ack(u);
this.P2(u)}if(X.a(hW.R0)){var w=this.QP(this.Wu,u);this.Yv(u,w);this.finish(u,K,X);this.clear(u)}if(X.a(hW.m0)){this.clear(u)}};
R.NZ.prototype.getSelection=function(u,g,K,X){return R.uO.Ws(this.Ik,null,this.Xm.anta)};R.NZ.prototype.aq=function(u,g){var K=this._[this._.length-1],X=K.y*u.m+K.x,w=g.y*u.m+g.x;
if(this.CF==1)return[w,X];var D=[w];while(w!=X){w=this.nh.P_[w];D.push(w);if(D.length>5e3){console.log(D);
throw"e"}}return D};R.NZ.afL=function(u,g){var K=[],X=u.m;for(var P=0;P<g.length;P++){var w=g[P];K.push(w%X+.5,Math.floor(w/X)+.5)}return K};
R.NZ.prototype.IA=function(u,g){var K=g.m,X=g.n,w=u.clone(),q=3;f.wD.tZ(this.nh,u.y*K+u.x);var D=this.nh.ir[u.y*K+u.x];
for(var C=-q+1;C<q;C++)for(var a=-q+1;a<q;a++){var x=u.x+a,H=u.y+C;if(x<0||x>=K||H<0||H>=X)continue;
f.wD.tZ(this.nh,H*K+x);if(this.nh.ir[H*K+x]<D)w.fP(x,H)}return w};R.bR=function(){R.N8.call(this,[10,36],R.I6,"tools/ruler");
this.WS=null;this.US=null;this._W=null;this.MR=null;this.Xf=null};R.bR.prototype=new R.N8;R.bR.prototype.HH=function(u){return u.HT};
R.bR.prototype.enable=function(u,g,K,X){R.N8.prototype.enable.call(this,u,g,X,K);if(u)this.LI(u)};R.bR.prototype.disable=function(u,g,K,X){if(u)this.b2(u)};
R.bR.prototype.RR=function(u,g,K,X,w){this.WS=this._W=null;this.LI(K)};R.bR.prototype.R4=function(u,g,K,X,w){var D=R.jz(u,w),q=u.t.wQ(w.x,w.y);
q.x=Math.round(q.x);q.y=Math.round(q.y);var C=this.WS;this.US=C?C.slice(0):null;var a=C&&j4.uh(q,C[0])<D,x=C&&j4.uh(q,C[1])<D,H=C&&C[2]&&j4.uh(q,C[2])<D;
if(a||x||H){if(X.a(hW.Dd)&&C.length==2){if(x){var $=C[0];C[0]=C[1];C[1]=$}C[2]=C[0].clone();this._W=[2]}else this._W=[a?0:x?1:2]}else if(C&&R.bR.a20(C[0],C[1],q)<D&&Math.min(C[0].x,C[1].x)-5<=q.x&&q.x<=Math.max(C[0].x,C[1].x)+5&&Math.min(C[0].y,C[1].y)-5<=q.y&&q.y<=Math.max(C[0].y,C[1].y)+5){this._W=[];
this.Xf=[];for(var P=0;P<C.length;P++){this._W.push(P);this.Xf.push(C[P].clone())}this.MR=q}else{this.WS=[q.clone(),q.clone()];
this._W=[1]}};R.bR.prototype.ai=function(u,g,K,X,w){if(this._W==null)return;var D=this.WS,q=this._W,C=u.t.wQ(w.x,w.y);
C.x=Math.round(C.x);C.y=Math.round(C.y);if(q.length>1){var a=C.x-this.MR.x,x=C.y-this.MR.y;for(var P=0;
P<D.length;P++){D[P]=this.Xf[P].clone();D[P].offset(a,x)}}else{D[q[0]].fP(C.x,C.y);if(X.a(hW.jl)){D[q[0]]=R.xR.AH(D[1-q[0]],D[q[0]])}}this.LI(u);
this.y2(g,h.E.Y,{d:h.s.SI,b:this.id,a9m:D[0],fO:D[1],yR:D[2],wY:u.wY,a7D:u.m});u.t.T9=f.p.Ha([D[0].x,D[0].y,D[1].x,D[1].y]);
console.log(u.t.T9)};R.bR.prototype.RB=function(u,g,K,X,w,D){this._W=null;if(D){this.WS=this.US.slice(0);
this.LI(u)}};R.bR.prototype.y2=function(u,g,K){var X=new eG(g,!0);X.data=K;u.c(X)};R.bR.prototype.LI=function(u){var g=this.WS;
if(g==null)this.b2(u);else{var K=[g[1].x,g[1].y,g[0].x,g[0].y],X=["M","L"];if(g.length>2){K.push(g[2].x,g[2].y);
X.push("L")}u.H.vn={F:X,v:K};u.H.hR=K}u.cK=!0};R.bR.prototype.b2=function(u){u.H.vn=null;u.H.hR=[]};
R.bR.a20=function(u,g,K){var X=g.x-u.x,w=g.y-u.y,D=Math.abs(w*K.x-X*K.y+g.x*u.y-g.y*u.x),q=Math.sqrt(X*X+w*w);
return q==0?0:D/q};R.xf=function(){R.Xo.call(this,[10,19],R.x8,"tools/sharpen");this.z2="copy"};R.xf.prototype=new R.Xo;
R.xf.prototype.R4=function(u,g,K,X,w){var D=this.Xm.pdetail?aM.Vc:aM.x8;if(X.a(hW.Dd))D=aM.s0;this.aH(u,K,X,w,this.Xm.strn,D);
if(this.vD==null)return;this.J0(u)};R.xf.prototype.ai=function(u,g,K,X,w){this.jB(u,g,K);if(this.ar)this.Bf(u,K,w);
if(this.vD==null)return;if(!w.HT)return;this.ja(u,K,X,w);this.J0(u)};R.Wv=function(){R.Xo.call(this,[10,24],R.NI,"tools/shbrush");
this.z2="draw";this.Xm.opacity=.5};R.Wv.prototype=new R.Xo;R.Wv.prototype.R4=function(u,g,K,X,w){this.aH(u,K,X,w,1);
if(this.vD==null)return;this.Wn(u);this.J0(u)};R.Wv.prototype.ai=function(u,g,K,X,w){this.jB(u,g,K);
if(this.ar)this.Bf(u,K,w);if(this.vD==null)return;if(!w.HT)return;this.ja(u,K,X,w);this.J0(u)};R.Wv.prototype.RB=function(u,g,K,X,w){if(this.vD==null)return;
this.fJ(u,"sheal",this.vD.k8(),this.vD.WA(),this.vD.qv(),null);this.O(u,this.vD.qv());R.Xo.prototype.RB.call(this,u,g,K,X,w)};
R.CC=function(){R.Xo.call(this,[10,20],R.Um,"tools/smudge");this.z2="copy"};R.CC.prototype=new R.Xo;
R.CC.prototype.R4=function(u,g,K,X,w){this.aH(u,K,X,w,this.Xm.strn,aM.Um);if(this.vD==null)return;this.J0(u)};
R.CC.prototype.ai=function(u,g,K,X,w){this.jB(u,g,K);if(this.ar)this.Bf(u,K,w);if(this.vD==null)return;
if(!w.HT)return;this.ja(u,K,X,w);this.J0(u)};R.O8=function(){R.Xo.call(this,[10,23],R.WV,"tools/sponge");
this.z2="sponge"};R.O8.prototype=new R.Xo;R.O8.prototype.R4=function(u,g,K,X,w){this.aH(u,K,X,w,this.Xm.flow);
if(this.vD==null)return;this.J0(u)};R.O8.prototype.ai=function(u,g,K,X,w){this.jB(u,g,K);if(this.ar)this.Bf(u,K,w);
if(this.vD==null)return;if(!w.HT)return;this.ja(u,K,X,w);this.J0(u)};R.Pd=function(){R.N8.call(this,[10,17],R.d0,"tools/zoom");
this.CD=!1;this.bZ=!0;this.aN=0;this.k5=null;this.IU=null;this.JA=0;this.IZ=null;this.hH=0;this.Op=new aT([{name:[8,0],l9:"Ctrl + +"},{name:[8,1],l9:"Ctrl + -",nf:!0},{name:[20,3],l9:"Ctrl + 0"},{name:["VAR0: 100%",[20,2]],l9:"Ctrl + 1"}],[{T:h.E.l,b:R.d0,M:{d:"zoom",bZ:!0}},{T:h.E.l,b:R.d0,M:{d:"zoom",bZ:!1}},{T:h.E.l,b:R.d0,M:{d:"adapt",h:"fitscr"}},{T:h.E.l,b:R.d0,M:{d:"adapt",h:"pixel"}}])};
R.Pd.prototype=new R.N8;R.Pd.prototype.eY=function(u,g,K,X,w){var D=this.Op;D.N();D.parent=g;D.update(u,K);
var q=new eG(h.E.Y,!0);q.data={d:h.s.dC,qD:D,x:w.Tn+2,y:w.GC+1};g.c(q)};R.Pd.prototype.enable=function(u,g,K,X){this.xg(g,X);
if(u&&Date.now()-this.aN<300)this.RR({d:"adapt",h:"pixel"},g,u,X,K);this.aN=Date.now()};R.Pd.prototype.R4=function(u,g,K,X,w){this.IU=new j4(w.x,w.y);
this.JA=u.t.P;this.IZ=u.t.u.clone()};R.Pd.prototype.ai=function(u,g,K,X,w){if(this.IU==null)return;var D=Math.exp(Math.log(this.JA)+(w.x-this.IU.x)/64);
D=Math.max(.02,Math.min(R.Pd.M_[0],D));u.t.P=this.JA;u.t.u=this.IZ.clone();this.RR({d:"zoom",P:D,H$:this.IU},g,u,X,K)};
R.Pd.prototype.RB=function(u,g,K,X,w){if(j4.uh(this.IU,w)<4){var D=this.aiU(X);this.RR({d:"zoom",bZ:D,H$:w},g,u,X,K)}this.IU=null};
R.Pd.M_=[64,32,16,12,8,6,5,4,3,2,1,2/3,1/2,1/2*(2/3),1/4,1/4*(2/3),1/8,1/8*(2/3),1/16,1/16*(2/3),1/32,1/32*(2/3),1/64];
R.Pd.a9A=function(u,g,K,X){var w=1;while(u*w*1/2>K||g*w*1/2>X)w*=1/2;if(u*w*2/3>K||g*w*2/3>X)w*=1/2;
else if(u*w>K||g*w>X)w*=2/3;return w};R.Pd.a01=function(u,g){var K=R.Pd.aaK(u);if(g&&K==0)return u;if(!g&&K==R.Pd.M_.length-1)return u;
return R.Pd.M_[g?K-1:K+1]};R.Pd.aaK=function(u){var g=0;while(R.Pd.M_[g]>u)g++;return g};R.Pd.Zs=function(u,g,K,X){var w=u.UJ;
if(X==0||X==null){X=R.Pd.a01(u.P,K);if(X==u.P)return}var D=u.wQ(g.x,g.y);if(w.m*X<=u.Aj.m&&w.n*X<=u.Aj.n){u.u.fP(0,0);
u.P=X}else{var q=u.bD(),C=u.P/X;q.translate(-D.x,-D.y);q.scale(C,C);q.translate(D.x,D.y);u.a5D(q)}};
R.Pd.prototype.RR=function(u,g,K,X,w){if(u.d=="pzoom"){if(typeof u.h=="string")return;u={d:"zoom",P:u.h/100}}var D=0,q=!1,C=null;
if(u.d=="adapt"){var a=0;if(u.h=="pixel")a=1;if(u.h=="fitscr"){var a=0,x=K.t.Aj.m,H=K.t.Aj.n,$=w.OB?f.Xx.Wo+4:8;
a=Math.min((x-$*2)/K.m,(H-$*2)/K.n)}C=new j4(Math.round(K.t.Aj.m/2),Math.round(K.t.Aj.n/2));D=a;R.Pd.Zs(K.t,C,q,D);
K.vH=!0}if(u.d.startsWith("multi")){function r(N){var J=N[0].x-N[1].x,y=N[0].y-N[1].y;return Math.sqrt(J*J+y*y)}function c(N){return new j4((N[0].x+N[1].x)/2,(N[0].y+N[1].y)/2)}var U=u.Fx,O=c(U);
if(u.d=="multidown"){this.k5=[U,K.t.P,K.t.wQ(O.x,O.y)]}else{var A=R.Pd.M_;D=this.k5[1]*r(U)/r(this.k5[0]);
D=Math.max(A[A.length-1],Math.min(A[0],D));if(D!=K.t.P)R.Pd.Zs(K.t,O,q,D);var m=this.k5[2],i=K.t.h5(m.x,m.y),e=K.t.u;
e.x=Math.round(e.x+O.x-i.x);e.y=Math.round(e.y+O.y-i.y);K.vH=!0}}if(u.d=="scroll"){C=u.H$;this.hH+=u.vA.y;
var S=14;if(this.hH<-S){q=!0;this.hH=Math.max(this.hH+S,-(S-1))}else if(this.hH>S){q=!1;this.hH=Math.min(this.hH-S,S-1)}else return;
R.Pd.Zs(K.t,C,q,D);K.vH=!0}if(u.d=="zoom"){C=u.H$?u.H$:new j4(Math.round(K.t.Aj.m/2),Math.round(K.t.Aj.n/2));
if(u.P!=null)D=u.P;else q=u.bZ;R.Pd.Zs(K.t,C,q,D);K.vH=!0}if(u.d=="mskView"){var E=K.g[K.z[0]];if(E.oF<=0){E.oF=1;
K.X5=!0}var Z=E.oF==3?E.nE(K).B:E.Zv();if(u.h==0){K.t.PK=[1,1,1];Z.dd=!1}if(u.h==1){K.t.PK=[1,1,1];Z.dd=!0}if(u.h==2){K.t.PK=[0,0,0];
Z.dd=!0}for(var P=0;P<K.g1.length;P++)K.g1[P].dd=!1;K.qT=[];K.cK=!0}};R.Pd.prototype.BF=function(u,g,K,X){if(this.CD!=X.a(hW.Dd)){this.CD=X.a(hW.Dd);
var w={d:h.s.SI,b:this.id,CD:this.CD},D=new eG(h.E.Y,!0);D.data=w;g.c(D);this.xg(g,X)}};R.Pd.prototype.xg=function(u,g){var K=new eG(h.E.Y,!0),X=this.aiU(g);
K.data={d:h.s.Tx,SD:X?"zoom-in":"zoom-out"};u.c(K)};R.Pd.prototype.Z7=function(u,g,K,X){this.bZ=u.bZ;
this.xg(g,X)};R.Pd.prototype.aiU=function(u){var g=this.bZ;if(u.a(hW.hE)&&u.a(hW.A5))g=!0;if(this.CD)g=!g;
return g};R.Pd.aqR=function(u,g){if(u.a(hW.RD)||u.a(hW.a7G)){g.b=R.d0;g.data={d:"zoom",bZ:!0}}if(u.a(hW.gZ)){g.b=R.d0;
g.data={d:"zoom",bZ:!1}}if(u.a(hW.cj)){g.b=R.d0;g.data={d:"adapt",h:"fitscr"}}if(u.a(hW.ih)){g.b=R.d0;
g.data={d:"adapt",h:"pixel"}}};R.jV=function(u,g,K){R.N8.call(this,u,g,K);this.As=null;this.nC=null;
this.Rz=null;this.ao1=0};R.jV.prototype=new R.N8;R.jV.tN=function(u){var g={t:"obj ",v:[{t:"prop",v:{classID:"Path",keyID:"WrPt"}}]},K=u==0?{classID:"null",null:g,WhPt:{t:"bool",v:!0}}:{classID:"Strk",null:g,Usng:{t:"type",v:{classID:"PbTl"}},__name:"Stroke"};
return{$T:u==0?"fill":"stroke",NA:K}};R.jV.prototype.enable=function(u,g,K,X,w){this.nC=K;var D=new eG(h.E.Y,!0);
D.data={d:h.s.Tx,SD:"default"};g.c(D)};R.jV.prototype.eY=function(u,g,K,X,w){var D=u.f$(),q=D[0],C=D[1];
if(C.length==0)return;var a=q[C[0]],x=a.add.vmsk,H=u.t.wQ(w.x,w.y),$=4*R.Z()/u.t.P,r=new dS(H.x-$,H.y-$,$*2,$*2),c=f.J.q4(x._,r)[0];
if(c.length!=0){x.s4=c;u.cK=!0}var U=f.J.mZ(x._,H).Mw;if(U!=-1){x.z=[U];u.cK=!0}var O=new eG(h.E.Y,!0);
O.data={d:h.s.SI,b:this.id,y5:w,VF:u,Jo:K};g.c(O)};R.jV.prototype.a29=function(u,g){var K=new eG(h.E.Y,!0);
K.data={d:h.s.zS,M3:hO.D9};if(!g.yO)u.c(K);K.data={d:h.s.zS,M3:hO.Vp};if(!g.Pk.Ml)u.c(K)};R.jV.prototype.DB=function(u,g,K,X){if(K.Wp!=this.id)return;
if(u.z.length==0)return;var w=u.g[u.z[0]],D=w.add.vmsk,q=w.add.vstk,C=R.jV.cQ(u,u.z[0]);this.As=u;this.Rz=g;
if(w.HS()&&D!=null&&(JSON.stringify(q)!=JSON.stringify(K.kd)||JSON.stringify(C)!=JSON.stringify(K.Bl))){this.ao1=Date.now();
var a=new eG(h.E.Y,!0);a.data={d:h.s.zS,M3:hO.dV,h:C};g.c(a);a.data={d:h.s.zS,M3:hO.bb,h:q};g.c(a)}};
R.jV.prototype.xY=function(u,g){if(this.As==null)return;if(g==hO.Jr||g==hO.dV||g==hO.bb){if(Date.now()-this.ao1<50)return;
var K=g==hO.dV,X=this.As,w=K?u.Bl:u.kd,D=[],q=X.z;for(var P=0;P<q.length;P++){var C=q[P],a=X.g[C];if(!a.HS()||a.add.vmsk==null)continue;
D.push(C)}var x=new eG(h.E.l,!0);x.b=R.QA;x.data={d:l.ia,t7:D,FX:K,h:w};if(D.length!=0)this.Rz.c(x)}};
R.jV.prototype.a7h=function(u){if(typeof u=="number"){var g=new eG(h.E.qf,!0);g.data=R.kN.cH(0);g.data.NA.Usng.v.Type.v.Clr.v=f.X.Gp({w:u>>>16&255,A:u>>>8&255,U:u>>>0&255});
this.Rz.c(g)}};R.jV.prototype.RR=function(u,g,K,X,w){this.Rz=g;if(u.d=="newfill"){if(u.rM==0){var D=new eG(h.E.Y,!0);
D.data={d:h.s.KP,Pu:"colorpicker",QF:w.FK,ob:this.a7h.bind(this)};g.c(D)}}else if(u.d=="pathedit"){var q=u.KR,C="",a=K.Ml.slice(0),x=K.qe.slice(0),H=K.Ml.slice(0),$=K.qe.slice(0);
if(q=="rnm"){var r=-1-u.Mw,c=a[r],U=f0.ox(u.name,c.add);if(r!=0)H[r]=U;else{$=[H.length];H.push(U);H[0]=f0.ox("Work Path")}C="Rename"}else if(q=="new"){var U=f0.ox("Path "+a.length);
if(u.a3I){var O=K.f$(),A=O[0],m=O[1],i=A[m[0]];U.add.vmsk=i.add.vmsk.clone();U.add.vogk=JSON.parse(JSON.stringify(i.add.vogk));
if(i.Mw==-1){var e=H[$[0]]=f0.ox("Path "+a.length);e.name=i.name;e.Mw=i.Mw}}H.push(U);$=[H.length-1];
C="New"}else if(q=="del"){if($.length==0)return;$.sort(function(F,n){return F-n});if($[0]==0){H[0]=f0.ox(a[0].name);
$=$.slice(1)}var S=0;while($.length!=0){H.splice($[0]-S,1);$=$.slice(1);S++}C="Delete"}else if(q=="fromsel"){var E=H[0]=f0.ox("Work Path");
$=[0];if(K.q==null)return;var Z=K.q.channel.slice(0);for(var P=0;P<Z.length;P++)Z[P]=Z[P]>128?2:1;var N=K.q.rect.clone();
N.wu(1,1);var J=f.L(N.$());f.x5(Z,K.q.rect,J,N);var y=eo.O$(J,N.m,N.n,Math.round(N.$()*5e-4)),A=eo.f$(y),B=new eV(1,0,0,1,-1+K.q.rect.x,-1+K.q.rect.y);
for(var P=0;P<A.length;P++)f.p.D(A[P].path.v,B,A[P].path.v);for(var P=0;P<A.length;P++){var t=A[P];if(t.color==1&&t.parent==-1)continue;
var W=f.p.Ic(A[P].path,!1);E.add.vmsk._=E.add.vmsk._.concat(W.slice(2))}E.add.vogk=l.LP(E.add.vmsk._);
C="Selection to"}var F=new g9(C+" Path",this);F.data={US:a,eO:x,apG:H,BT:$};if(q=="fromsel"){F.data.OZ=K.q;
F.data.V5=null}K.AV(F);this.py(F.data,K)}else{var G=u.Uz,O=K.f$(u.d=="append"),A=O[0],m=O[1],E=A[m[0]],L=E.add.vmsk,Q=E.add.vogk,T=L.clone(),j=L.clone(),p=JSON.stringify(Q);
if(u.d=="remove"){if(u.g9&&j.s4.length!=0){j._=f.J.a1N(j._,j.s4,Q,u.alJ);var M=f.J.nM(j._);for(var P=0;
P<j.z.length;P++)if(j.z[P]>=M){j.z.splice(P,1);P--}j.s4=[];G="Delete Anchors"}else{if(j.z.length==0)return;
var S=0;for(var P=0;P<j.z.length;P++){Q.splice(j.z[P]+S,1);S--}j._=f.J.afZ(j._,j.z);j.z=[];j.s4=[];if(G==null)G="Delete Paths"}}if(u.d=="append"){R.jV.jc(u.a5h,j,Q)}this.wU(K,E.Mw,j,Q);
this.og(K,G,E.Mw,T,j.clone(),null,p,JSON.stringify(Q))}};R.jV.Vu=function(u,g){var K=f.J.a4k(u._,u.z),X=[];
for(var P=0;P<u.z.length;P++)X.push(JSON.parse(JSON.stringify(g[u.z[P]])));return[K,X]};R.jV.jc=function(u,g,K){var X=f.J.nM(g._),w=f.J.nM(u[0]);
g._=g._.concat(u[0].slice(2));g.z=[];for(var P=0;P<w;P++)g.z.push(X+P);for(var P=0;P<w;P++)K.push(JSON.parse(JSON.stringify(u[1][P])))};
R.jV.prototype.Kx=function(u,g){if(g==null)return!1;var K=g.f$(),X=K[0],w=K[1];if(w.length==0)return!1;
var D=X[w[0]],q=D.add.vmsk;if(q&&q.z.length+q.s4.length!=0)return[hW.cG,hW.jA].indexOf(u)!=-1};R.jV.prototype.BF=function(u,g,K,X){if(u==null)return;
var w=u.f$(),D=w[0],q=w[1];if(q.length==0)return;var C=D[q[0]],a=C.add.vmsk;if(X.a(hW.m0)||X.a(hW.R0)||this.id==R.kg&&X.a(hW.eo)){a.s4=[];
u.cK=!0}if(a.z.length!=0){var x=X.mj();if(x.x!=0||x.y!=0){var H=a.clone(),$=a.clone(),r=new eV(1,0,0,1,x.x,x.y),c=C.add.vogk,U=JSON.stringify(c);
if(X.a(hW.Dd)){var O=R.jV.Vu($,c);R.jV.jc(O,$,c)}f.J.Cg($._,r,$.z);f.b1.D(c,f.Q.$D(r),$.z);this.wU(u,C.Mw,$,c);
this.og(u,"Move Paths",C.Mw,H,$.clone(),!0,U,JSON.stringify(c))}if(X.a(hW.cG)||X.a(hW.jA))this.RR({d:"remove",g9:this.id==R.kg},g,u,X,K)}};
R.jV.prototype.og=function(u,g,K,X,w,D,q,C){var a=new g9(g,this);a.data={XR:K,BH:X,K2:w,a61:D,ad3:q,R8:C};
u.AV(a)};R.jV.prototype.py=function(u,g){if(u.XR!=null)this.wU(g,u.XR,u.K2.clone(),JSON.parse(u.R8));
else{g.Ml=u.apG.slice(0);g.qe=u.BT.slice(0);g.cK=g.X5=!0}if(u.OZ||u.V5){g.q=u.V5;g.Ym=!0}};R.jV.prototype.A3=function(u,g){if(u.XR!=null)this.wU(g,u.XR,u.BH.clone(),JSON.parse(u.ad3));
else{g.Ml=u.US.slice(0);g.qe=u.eO.slice(0);g.cK=g.X5=!0}if(u.OZ||u.V5){g.q=u.OZ;g.Ym=!0}};R.jV.prototype.wU=function(u,g,K,X){var w=g<0?u.Ml[-1-g]:g<1e6?u.g[g]:u.g[g-1e6].add.TySh,D=w.add.vmsk;
D.channel=null;D.vl=!0;if(D.ad){D.ad.channel=null;D.ad.vl=!0}w.add.vmsk=K;w.add.vogk=X;if(1e6<=g){fS.Z$(w);
var q=u.g[g-1e6],C=w,a=this.nC,x=new ec(C.Fd,a.aX),H=dR.tr(x,C);q.rect=H.mf;q.buffer=H.Fg;q.O();u.O()}else if(0<=g){K.vl=!0;
w.th(u);u.O()}u.cK=u.X5=!0};R.jV.cQ=function(u,g){var K=u.g[g],X=K.add.vstk,w=null;if(X&&!X.fillEnabled.v)w={lB:0};
else if(K.add.SoCo)w={lB:1,Gu:K.add.SoCo};else if(K.add.GdFl)w={lB:2,Gu:K.add.GdFl};else if(K.add.PtFl)w={lB:3,Gu:K.add.PtFl};
return w};R.jV.qi=function(u,g){var K=u.add.vmsk,X=u.add.vstk,w=g.lB;if(X)X.fillEnabled.v=w!=0;if(w>0){var D=["SoCo","GdFl","PtFl"][w-1];
for(var P=0;P<3;P++)delete u.add[["SoCo","GdFl","PtFl"][P]];u.add[D]=g.Gu}};R.kN=function(u,g,K,X){R.jV.call(this,u,g,K);
this.Xm={shape:jr.mt(),pshape:0,binop:0,crad:0,irad:40,length:4,sides:5,width:5,tolr:5,tsiz:300,cstr:{m7:0},anta:!0,aopts:[!1,!1,50,100,0]};
this.a7N=X;this.W2=null;this.l$=null;this.Ib=null;this.kp=new jX};R.kN.prototype=new R.jV;R.kN.prototype.HH=function(u){return u.HT&&this.id!=R.$l};
R.kN.prototype.enable=function(u,g,K,X,w){this.nC=K;var D=new eG(h.E.Y,!0);D.data={d:h.s.Tx,SD:"crosshair"};
g.c(D)};R.kN.prototype.BF=function(u,g,K,X){R.jV.prototype.BF.call(this,u,g,K,X);this.kp.BF(X);this.aU(g,K)};
R.kN.prototype.aU=function(u,g){var K=new eG(h.E.Y,!0);K.data={d:h.s.SI,b:this.id,fc:this.QK(g)};u.c(K)};
R.kN.prototype.QK=function(u){var g=this.kp.IC(0),K=this.kp.TO(0),X=R.uO.Be(this.Xm.binop,g,K);if(u._B==1&&X==0)X=1;
return X};R.kN.prototype.R5=function(u,g,K,X){};R.kN.prototype.R4=function(u,g,K,X,w){var D=K._B;if(D!=2)this.a29(g,K);
if(D==2&&!u.KL())return;var q=u.t.wQ(w.x,w.y);q=R.NP.s2(u,q,K);this.Ib=[q.x,q.y];this.W2=q;this.l$=new j4(0,0);
this.kp.R4(X)};R.kN.prototype.aps=function(u,g,K,X){var w=[this.W2.clone(),g.clone()];K=this.kp.IC(1)||K.a(hW.jl)||this.kp.TO(1)?K:null;
if(this.a7N)w=R.kN.ts(w[0],w[1],K,!0,this.Xm.cstr);if(u)u.t.T9=new dS(w[0].x,w[0].y,w[1].x-w[0].x,w[1].y-w[0].y);
return this.R5(w[0],w[1],this.kp.IC(1)&&K.a(hW.jl),this.Ib,u.t,X)};R.kN.prototype.a5Z=function(u,g,K){var X=u.t.wQ(g.x,g.y);
if(this.id==R.$l)return X;var w=this.Xm.cstr;if(w.m7==2){var D=new dS(X.x-w.x,X.y-w.y,w.x,w.y),q=R.NP.tl(u,D,K);
X.x+=q[0];X.y+=q[1];R.NP.Pf(u,D,q)}else X=R.NP.s2(u,X,K);return X};R.kN.prototype.ai=function(u,g,K,X,w){if(this.W2==null)return;
var D=this.Ib,q=D.length,C=w?this.a5Z(u,w,K):new j4(D[q-2],D[q-1]);if(X.a(hW.hE))this.W2=C.tm(this.l$);
else this.l$=C.tm(this.W2);D.push(C.x,C.y);if(this.Xm.shape==null)this.Xm.shape=K.uV[0];var a=this.aps(u,C,X,!0)[0],x=f.p.Cs(a);
u.H.vn=x;if(this.id!=R.$l&&this.id!=R.se&&this.id!=R.iC)R.N8.wJ(w,u.t.T9,u,K);u.cK=!0;this.kp.ai()};
R.kN.prototype.ajH=function(u,g,K,X){var w=u[4].clone();if(X){w.x-=g/2;w.y-=K/2}if(this.id==R.se){g/=2;
K/=2;w.x+=g;w.y+=K;K=-K;g=0}var D=this.R5(w,new j4(w.x+g,w.y+K),!1,this.Ib);this.a6a(u[0],u[1],u[2],D)};
R.kN.prototype.a6a=function(u,g,K,X){var w=new eG(h.E.qf,!0);w.data=R.kN.a3j(X[1],K);g.c(w);if(X[1].v.classID=="customShape"&&X[1].v.Nm.v.startsWith("--")){var D=u.f$(),q=D[0],C=D[1],a=q[C.pop()],x=a.add.vmsk,H=a.add.vogk,$=x.clone();
$._=X[0];this.wU(u,a.Mw,$,H)}};R.kN.prototype.RB=function(u,g,K,X,w,D){if(this.W2==null)return;var q=this.a5Z(u,w,K),C=this.QK(K),a=K._B,x=this.Ib,H=x.length;
if(this.id==R.$l&&H<=4){}else if(H<=4){q.x=Math.round(q.x);q.y=Math.round(q.y);var $=new eG(h.E.Y);$.data={d:h.s.KP,Pu:"createshape",ary:this.ajH.bind(this),aiD:this.name,afj:[u,g,K,X,q]};
if(!D)g.c($)}else if(H!=2){var r=this.aps(u,q,X),c=r[0],U=u.f$(!0),O=U[0],A=U[1],m=A.length-1;if(a==1&&c.length>2||a==0&&C!=0&&m!=-1&&O[A[m]].Mw>=0){c[2].yk=[1,2,3,0][C-1];
var i=O[A.pop()],e=i.add.vmsk,S=i.add.vogk,E=e.clone(),Z=e.clone(),N=JSON.stringify(S);Z._=Z._.concat(c.slice(2));
Z.z=[f.J.nM(Z._)-1];var J=f.b1.AC(r[1]);S.push(J?J:f.b1.Ph());this.wU(u,i.Mw,Z,S);this.og(u,this.name,i.Mw,E,Z,null,N,JSON.stringify(S))}else if(a==0){this.a6a(u,g,K,r)}else if(a==2){var Z=new l.tU;
Z._=Z._.concat(c.slice(2));var y=Z.Zv();if(!this.Xm.anta)f.round(y.channel);var o=f.L(y.rect.$()*4);
f.D4(o,(K.FK&255)<<16|(K.FK>>8&255)<<8|(K.FK>>16&255)<<0);f.K1(y.channel,o,3);var B=new eG(h.E.l,!0);
B.b=R.ei;B.data={d:"draw",xl:{buffer:o,rect:y.rect.clone()},Uz:this.name};g.c(B)}}this.W2=null;u.H.vn=null;
u.H.Ba=null;u.H.kj=[];u.t.T9=null;u.cK=!0;this.kp.RB();this.aU(g,K)};R.kN.prototype.Z7=function(u,g,K,X,w){for(var K in u)this.Xm[K]=u[K]};
R.kN.ts=function(u,g,K,X,w){var D=u.x,q=u.y,C=g.x,a=g.y;if(w&&w.m7==2){if(X){C=Math.round(C);a=Math.round(a)}D=C-w.x;
q=a-w.y}else{var x=0;if(w&&w.m7==1)x=w.y/w.x;else if(K&&K.a(hW.jl))x=1;if(x!=0){if(X){if(D<C)D=Math.floor(D);
else D=Math.ceil(D);if(q<a)q=Math.floor(q);else q=Math.ceil(q)}var H=Math.abs(C-D),$=Math.abs(a-q),r=H;
if($/H<x)r*=$/H/x;C=C>D?D+r:D-r;a=a>q?q+r*x:q-r*x}if(K&&K.a(hW.Dd)){D-=C-D;q-=a-q}}var u=new j4(D,q),g=new j4(C,a);
if(X)R.kN.av0(u,g);return[u,g]};R.kN.av0=function(u,g){if(u.x>g.x){var K=u.x;u.x=g.x;g.x=K}if(u.y>g.y){var K=u.y;
u.y=g.y;g.y=K}u.x=Math.floor(u.x);u.y=Math.floor(u.y);g.x=Math.ceil(g.x);g.y=Math.ceil(g.y)};R.kN.a49=function(){return{classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"contentLayer"}}]},Usng:{t:"Objc",v:{classID:"contentLayer",Type:{t:"Objc",v:{}}}}}};
R.kN.cH=function(u,g){var K=R.kN.a49();if(g==null)g=JSON.parse(JSON.stringify(k8.DL[u]));R.aD.Gj(g,K.Usng.v.Type.v,u);
return{$T:"make",NA:K}};R.kN.a3j=function(u,g){var K=g.Bl,X=JSON.parse(JSON.stringify(g.kd));if(K.lB==0)X.fillEnabled.v=!1;
var w=R.kN.cH(Math.max(0,K.lB-1),K.Gu);w.NA.Usng.v.Shp=u;w.NA.Usng.v.strokeStyle={t:"Objc",v:X};return w};
R.qQ=function(u){R.jV.call(this,u==0?[10,29]:[10,51],u==0?R.kg:R.mi,u==0?"tools/pen":"tools/cpen");this.CF=u;
this.Dv=null;this.i0=null;this.Qj=null;this.asH=0;this.Wy=null;this.EQ=!1;this.c$=!1;this.N9=!1;this.EN=!1;
this.aN=0};R.qQ.prototype=new R.jV;R.qQ.prototype.HH=function(u){return this.i0!=null};R.qQ.prototype.BF=function(u,g,K,X){if(!X.a(hW.Dd))this.N9=!1;
if(this.CF==1&&(X.a(hW.cG)||X.a(hW.jA))&&this.Kx(hW.cG,u)){this.RR({d:"remove",g9:!0},g,u,X,K);return}R.jV.prototype.BF.call(this,u,g,K,X)};
R.qQ.prototype.R4=function(u,g,K,X,w){this.Dv=w;this.a29(g,K);var D=u.t.wQ(w.x,w.y),O,A;D.x=Math.round(D.x);
D.y=Math.round(D.y);var q=R.NP.s2(u,D,K),C=K._B,a=this.asH;if(C==2)C=0;var x=u.f$(C==1),H=x[0],$=x[1],r=H[$.pop()],c=r?r.add.vmsk:null;
if(C==0&&a!=0&&r&&r.Mw>=0)C=1;var U=R.jz(u,w);if(c)O=f.J.mZ(c._,D,!0,U);var m=X.a(hW.Dd);if(C==0&&(c==null||c.s4.length==0&&O.Mw==-1)){var i=new eG(h.E.qf,!0),e=f.b1.Nh("customShape",[0,0,1,1],null,null,null,"--");
i.data=R.kN.a3j(e,K);g.c(i);this.EN=!0;x=u.f$(!0);H=x[0];$=x[1];r=H[$.pop()];c=r.add.vmsk;c._=c._.slice(0,2)}var S=r.add.vogk;
this.i0=c.clone();this.Qj=JSON.stringify(S);var E=c._,Z=f.J.nM(E);A=f.J.q4(c._,new dS(D.x-U,D.y-U,U*2,U*2),c.s4);
O=f.J.mZ(c._,D,!0,U);var N=A[0].length+A[1].length+A[2].length;if(O.Mw!=-1&&A[0].length==0){var J=f.J.Ei(E,O.Mw);
while(E[J].length<=O.Gx){O.Gx-=E[J].length;J+=E[J].length+1}E[J].length++;var y={type:4,Rw:q.clone(),G:q.clone(),CL:q.clone()};
E.splice(J+2+O.Gx,0,y);c.s4=[J+2+O.Gx];if(this.CF==1){y.Rw.x+=2;this.dm(c)}}else if(N!=0&&m){var B=0;
for(var P=0;P<3;P++)if(A[P].length!=0){B=A[P][0];this.c$=P==1;break}if(A[0].length!=0){var t=c._.length-1,W=c._[B];
W.CL=W.G.clone();var F=W.type>=3?3:0;if(B!=t){W.Rw=W.G.clone();W.type=F+1;this.N9=!0}else W.type=F+2}c.s4=[B]}else if(A[0].length==1&&E[A[0][0]-1]&&(E[A[0][0]-1].G!=null||E[A[0][0]-1].type==0||E[A[0][0]-1].length==1)){var B=A[0][0];
if(this.CF==1){var G=E[B],L=G.G,Q=Math.abs(f.p.a3X(G.Rw.x,G.Rw.y,L.x,L.y,G.CL.x,G.CL.y));if(Q>.01){G.Rw=L.clone();
G.CL=L.clone()}if(Date.now()-this.aN<300){var T=G.Rw.$z(L)&&G.CL.$z(L);if(T)G.CL.offset(2,2);else{G.Rw=L.clone();
G.CL=L.clone()}this.aN=0}else this.aN=Date.now();c.s4=[B];this.dm(c)}else{var J=f.J.Ei(E,f.J.eA(E,B)),e=E[J],j=J+e.length;
if(B!=j||e.type==0){E[J].length--;E.splice(B,1);j--;if(e.length==0){E.splice(J,1);j=-1}}if(j!=-1)c.s4=[j];
else c.s4=[]}}else{var p=0;if(c.s4.length!=1){c.z=[Z];E.push({type:3,length:1,yk:[1,2,3,0][Math.max(0,a-1)],VB:0,MO:0,TY:0});
p=E.length;S.push(f.b1.Ph())}else{var G=c.s4[0],M=f.J.eA(E,G),J=f.J.Ei(E,M);G=J+E[J].length;if(j4.uh(D,E[J+1].G)<U){E[J].type=0;
c.s4=[J+1];this.Wy=q;this.EQ=!0;this.wU(u,r.Mw,c,S);u.cK=!0;return}E[J].length++;p=G+1;if(G==J+1&&E[J].length!=2)p=J+1}if(X.a(hW.jl)&&E[p-1]&&E[p-1].G)q=R.xR.AH(E[p-1].G,q);
var y={type:4,Rw:q.clone(),G:q.clone(),CL:q.clone()};E.splice(p,0,y);c.s4=[p];this.Wy=q;if(this.CF==1){y.Rw.x+=2;
this.dm(c)}this.aN=Date.now()}this.wU(u,r.Mw,c,S);u.cK=!0};R.qQ.prototype.dm=function(u){var g=u._,K=u.s4[0],X=f.J.Ei(g,f.J.eA(g,K))+1,w=g[X-1].length;
if(w<3)return;var D=[],q=[];for(var P=0;P<5;P++){var C=X+(K-X-2+P+5*w)%w;q.push(C);var a=g[C].G;D.push(a.x,a.y)}var x=f.p.ahe(D);
for(var P=1;P<4;P++){var H=P*4,$=g[q[P]],a=$.G,r=$.Rw.$z(a)&&$.CL.$z(a);if(!r){$.Rw.fP(x[H],x[H+1]);
$.CL.fP(x[H+2],x[H+3])}else{$.Rw=a.clone();$.CL=a.clone()}}};R.qQ.prototype.ai=function(u,g,K,X,w){if(this.i0==null)return;
var D=this.Dv;if(D&&j4.uh(D,w)<R.jz({t:{P:1}},w))return;this.Dv=null;var q=u.t.wQ(w.x,w.y),C=R.NP.s2(u,q,K),a=u.f$(K._B==1),x=a[0],H=a[1],$=x[H.pop()],r=$.add.vmsk,c=r._,U=c[r.s4[0]];
if(this.CF==1){var O=U.G.$z(U.Rw)&&U.G.$z(U.CL);U.G=q.clone();U.Rw=q.clone();U.CL=q.clone();if(!O)U.Rw.x+=2;
this.dm(r)}else if(X.a(hW.hE)){if(X.a(hW.jl))C=R.xR.AH(this.Wy,C);var A=U.G.tm(U.CL),m=U.Rw.tm(U.G);
U.CL=C;U.G=C.add(A);U.Rw=U.G.add(m)}else{if(X.a(hW.jl))C=R.xR.AH(U.G,C);if(this.c$){var i=U.Rw;U.Rw=U.CL;
U.CL=i}if(this.EQ){var e=j4.uh(U.G,C),S=e==0?0:j4.uh(U.G,U.CL)/e;U.CL.x=U.G.x+S*(C.x-U.G.x);U.CL.y=U.G.y+S*(C.y-U.G.y)}else U.CL=C;
if(X.a(hW.Dd)&&!this.N9)U.type=5;else{U.type=4;U.Rw=U.G.add(U.G.tm(C))}this.Wy=C;if(this.c$){var i=U.Rw;
U.Rw=U.CL;U.CL=i}}this.wU(u,$.Mw,r,$.add.vogk);u.cK=!0};R.qQ.prototype.RB=function(u,g,K,X,w){if(this.i0==null)return;
var D=u.f$(K._B==1),q=D[0],C=D[1],a=q[C.pop()],x=a.add.vmsk,H=a.add.vogk;if(this.EQ){x.s4=[];this.wU(u,a.Mw,x,a.add.vogk)}var $=this.i0._.length,r=x._.length;
if(!this.EN)this.og(u,this.EQ?"Close Path":($==r?"Move":$<r?"Add":"Delete")+" Anchor Point",a.Mw,this.i0,x.clone(),null,this.Qj,JSON.stringify(H));
this.EN=!1;this.EQ=!1;this.c$=!1;this.N9=!1;this.i0=null};R.qQ.prototype.Z7=function(u,g,K,X,w){this.asH=u.binop};
R._N=function(){R.kN.call(this,[10,30],R.$l,"tools/fpen",!1)};R._N.prototype=new R.kN;R._N.prototype.R5=function(u,g,K,X,w,D){var q=X.length-1,C=Math.sqrt((X[q-1]-X[0])*(X[q-1]-X[0])+(X[q]-X[1])*(X[q]-X[1]))<6/w.P;
return[f.J.aZ(X,C,D),f.b1.Nh("customShape",[0,0,1,1],null,null,null,"--")]};R.aQ=function(){R.jV.call(this,[10,27],R.AP,"tools/pselect");
this.oD=null;this.fw=!1;this._D=null;this.i0=null;this.MW=null;this.Qj=null;this.KU=null;this.Rt=null;
this.$b=null;this.Nz=null};R.aQ.prototype=new R.jV;R.aQ.prototype.HH=function(u){return u.HT};R.aQ.prototype.R4=function(u,g,K,X,w){var D=u.t.wQ(w.x,w.y),q=u.f$(),C=q[0],a=q[1],x,H;
for(var P=0;P<a.length;P++){var $=C[a[P]],r=$.add.vmsk,c=f.J.mZ(r._,D).Mw;if(c!=-1){this._D=x=$;H=c}for(var U=0;
U<r.WS.length;U++){var O=f.J.fn(r._,r.WS[U]);if(O==null)continue;var A=j4.uh(O,D);if(A<4*R.Z()/u.t.P){var m=u.g[$.Mw-1e6].add.TySh,i=m.Fd.Curve,e=m.D,S=i.Reversed;
i.Reversed=!1;var i=ec.pC(m.Fd.Curve);i.Reversed=S;f.p.D(i[0],e,i[0]);this.$b=[i,U,e._x*e.kR-e.U*e.nA];
this._D=x=$;H=0}}if(this.$b)break}if(x!=null){var r=x.add.vmsk;r.s4=[];var E=r.z.indexOf(H);if(X.a(hW.jl)){if(E==-1){r.z.push(H);
this.fw=!0}else r.z.splice(E,1)}else{if(E==-1)r.z=[H];this.fw=!0}this.Rt=f.J.Xh(r._,r.z)}this.oD=D;this.Nz=new cN(D);
u.X5=!0;u.cK=!0};R.aQ.prototype.ai=function(u,g,K,X,w){if(this.oD==null)return;var D=u.t.wQ(w.x,w.y);
if(this.fw){D=this.Nz.Jk(D,X);var q=this._D;if(this.i0==null){this.i0=this.MW=q.add.vmsk.clone();this.Qj=this.KU=JSON.stringify(q.add.vogk);
if(X.a(hW.Dd)){var C=this.i0.clone(),a=JSON.parse(this.Qj),x=R.jV.Vu(C,a);R.jV.jc(x,C,a);this.MW=C;this.KU=JSON.stringify(a)}}var C=this.MW.clone(),a=JSON.parse(this.KU);
if(this.$b){var H=this.$b,$=H[0][0],r=f.p.ZD($,D.x,D.y);C.WS[H[1]]=H[0][1][r];var c=$[r*2],U=$[r*2+1],O=($[r*2+2]-c)*(D.y-U)-($[r*2+3]-U)*(D.x-c);
if(H[2]<0)O=-O;C.JU=O>0}else{var A=this.Rt.clone(),m=A.x,i=A.y;A.offset(D.x-this.oD.x,D.y-this.oD.y);
A.x=Math.round(A.x);A.y=Math.round(A.y);var e=R.NP.tl(u,A,K),S=new eV(1,0,0,1,A.x-m+e[0],A.y-i+e[1]);
f.J.Cg(C._,S,C.z);f.b1.D(a,f.Q.$D(S),C.z);R.NP.Pf(u,A,e)}this.wU(u,q.Mw,C,a)}else{var E=this.oD;u.H.vn=f.p.JS(new dS(E.x,E.y,D.x-E.x,D.y-E.y));
u.cK=!0}};R.aQ.prototype.RB=function(u,g,K,X,w){if(this.oD==null)return;var D=u.t.wQ(w.x,w.y),q=this._D,C=q?q.add.vmsk:null;
if(this.fw){var a=JSON.stringify(q.add.vogk);if(!this.oD.$z(D))this.og(u,"Move Paths",q.Mw,this.i0,C,null,this.Qj,a);
if(u!=null&&u.H.Ba){u.H.Ba=null;u.cK=!0}}else{if(C){var x=this.oD,H=new dS(x.x,x.y,D.x-x.x,D.y-x.y),$=f.J.abY(C._,H);
if(X.a(hW.jl)){for(var P=0;P<$.length;P++)if(C.z.indexOf($[P])==-1)C.z.push($[P])}else C.z=$}u.H.vn=null;
u.cK=!0}this.oD=null;this.i0=null;this.$b=null;this.fw=!1;this.Nz=null};R.aQ.prototype.DB=function(u,g,K,X){R.jV.prototype.DB.call(this,u,g,K,X);
if(K.Wp!=this.id)return;if(u.z.length==0)return;var w=u.f$(),D=w[0],q=w[1];if(q.length==0)return;var C=D[q[0]],a=C.add.vmsk,x=C.add.vstk,H=C.add.vogk,$=new eG(h.E.Y,!0);
$.data={d:h.s.SI,b:this.id,RM:"main",Ze:a?a:null,b1:H};g.c($)};R.aQ.prototype.Z7=function(u,g,K,X,w){var D=u.ZX;
if(D.Ze){var q=K.f$(),C=q[0],a=q[1];if(a.length==0)return;var x=C[a[0]],H=x.add.vmsk.clone(),$=JSON.stringify(x.add.vogk),r=D.Ze;
this.wU(K,x.Mw,r,D.b1);var c=[18,5];if(H._.length==r._.length)c=H.z[0]==r.z[0]?"Fill Rule":"Path Order";
this.og(K,c,x.Mw,H,r,null,$,JSON.stringify(D.b1))}};R.Hv=function(){R.jV.call(this,[10,28],R.Td,"tools/dselect");
this.bC=-1;this.No=-1;this.ZO=null;this.oD=null;this._D=null;this.i0=null;this.Qj=null;this.As=null;
this.w$=0;this.kH={psnap:!1};this.Nz=null};R.Hv.prototype=new R.jV;R.Hv.prototype.HH=function(u){return u.HT};
R.Hv.prototype.Z7=function(u){this.kH=u};R.Hv.prototype.RR=function(u,g,K,X,w){if(u.d=="crnr"){if(K==null)return;
var D=K.f$(),q=D[0],C=D[1];if(C.length==0){alert("No paths selected");return}var a=q[C[0]],x=a.add.vmsk;
if(x.s4.length==0){alert("No corners selected");return}for(var P=0;P<x.s4.length;P++){var H=x._[x.s4[P]];
if(!H.G.$z(H.CL)||!H.G.$z(H.Rw)){alert("Only sharp corners can be rounded");return}}if(this.i0==null){this.i0=a.add.vmsk.clone();
this.Qj=JSON.stringify(a.add.vogk);this._D=a;this.As=K}var $=new eG(h.E.Y,!0);$.data={d:h.s.KP,Pu:"cornerradius",gY:5,r5:this.aoq.bind(this)};
g.c($)}else R.jV.prototype.RR.call(this,u,g,K,X,w)};R.Hv.prototype.aoq=function(u){if(u=="confirm"){var g=this.As,K=this._D,X=K.add.vmsk,w=K.add.vogk;
this.og(g,[12,94,0],K.Mw,this.i0,X,null,this.Qj,JSON.stringify(w));this.b2();return}var X=this.i0.clone(),w=JSON.parse(this.Qj),D=X.s4;
if(u=="cancel"){}else{var q=[];for(var P=0;P<D.length;P++){var C=D[P],a=f.J.eA(X._,C,!0),$=0;if(q.indexOf(a)!=-1)continue;
q.push(a);var x=f.J.Ei(X._,a,!0),H=X._[x].length,r=[];for(var c=0;c<H;c++){var U=X.s4.indexOf(x+c+1)==-1?0:u;
r.push(U);if(U!=0)$++}f.J.LY(X._,x,r);for(var c=0;c<D.length;c++)if(D[c]>x+H)D[c]+=$}this.HN(X,w);X.s4=[]}this.wU(this.As,this._D.Mw,X,w);
if(u=="cancel")this.b2()};R.Hv.prototype.disable=function(u,g,K,X){this.JW(u)};R.Hv.prototype.R4=function(u,g,K,X,w){this.JW(u);
var D=u.t.wQ(w.x,w.y),$,r,c;this.ZO=D.clone();var q=u.f$(),C=q[0],a=q[1];if(a.length==0)return;var x=R.jz(u,w),H=new dS(D.x-x,D.y-x,x*2,x*2);
for(var U=0;U<a.length;U++){$=this._D=C[a[U]];r=$.add.vmsk;c=f.J.q4(r._,H);if(c[0].length+c[1].length+c[2].length!=0)break}var O=[!1,!1,!1];
for(var P=0;P<3;P++){for(var A=0;A<c[P].length;A++){var m=c[P][A],i=r._[m];if(r.s4.indexOf(m)!=-1||P==1&&r.s4.indexOf(m-1)!=-1&&!i.G.$z(i.Rw)||P==2&&r.s4.indexOf(m+1)!=-1&&!i.G.$z(i.CL)){c[P]=[m];
O[P]=!0;break}}}if(c[0].length!=0&&(O[0]||!O[1]&&!O[2])){var e=c[0][0],S=r.s4.indexOf(e);if(X.a(hW.jl)){if(S==-1)r.s4.push(e);
else{r.s4.splice(S,1);u.cK=!0;return}}else if(S==-1)r.s4=[e];this.bC=e;this.No=0}else if(c[1].length!=0&&O[1]){this.bC=c[1][0];
this.No=1}else if(c[2].length!=0&&O[2]){this.bC=c[2][0];this.No=2}else{var E=f.J.mZ(r._,D,!0,x);if(E.Mw==-1)this.oD=D;
else{r.z=[E.Mw];r.s4=[]}}if(this.i0==null){this.i0=$.add.vmsk.clone();this.Qj=JSON.stringify($.add.vogk)}this.Nz=new cN(D);
u.cK=!0};R.Hv.prototype.ai=function(u,g,K,X,w){if(u==null)return;var D=u.t.wQ(w.x,w.y),q=this._D;if(this.bC!=-1){var C=this.i0.clone(),a=q.add.vogk,x=C._[this.bC];
x=[x.G,x.Rw,x.CL][this.No];if(X.a(hW.jl)){if(this.No==0){D=this.Nz.Jk(D,X);D.x+=x.x-this.ZO.x;D.y+=x.y-this.ZO.y}else D=R.xR.AH(C._[this.bC].G,D)}else{if(this.kH.psnap){D.x=Math.round(D.x);
D.y=Math.round(D.y)}D=R.NP.s2(u,D,K)}if(this.No==0){var H=new eV(1,0,0,1,D.x-x.x,D.y-x.y);f.J.Cg(C._,H,null,C.s4)}else{var $=C._[this.bC],r=$.Rw,c=$.CL;
if(this.No==2){r=$.CL;c=$.Rw}if(X.a(hW.Dd)&&($.type==1||$.type==4))$.type++;r.fP(D.x,D.y);if($.type==1||$.type==4){var U=j4.uh(r,$.G),O=j4.uh(c,$.G);
if(O!=0){c.x=$.G.x-(r.x-$.G.x)*(O/U);c.y=$.G.y-(r.y-$.G.y)*(O/U)}}}this.HN(C,a);this.wU(u,q.Mw,C,a)}else if(this.oD!=null){var A=this.oD;
u.H.vn=f.p.JS(new dS(A.x,A.y,D.x-A.x,D.y-A.y));u.cK=!0}else{var m=u.f$(),i=m[0],e=m[1],q,C,Z;if(e.length==0)return;
var S=R.jz(u,w),E=new dS(D.x-S,D.y-S,S*2,S*2);for(var N=0;N<e.length;N++){q=i[e[N]];C=q.add.vmsk;Z=f.J.q4(C._,E);
if(Z[0].length+Z[1].length+Z[2].length!=0)break}this.JW(u);for(var P=0;P<3;P++){for(var J=0;J<Z[P].length;
J++){var y=Z[P][J],o=C._[y];o=P==0?o.G:P==1?o.Rw:o.CL;u.H.Vk.push(u.H.HC.length>>>1);u.H.HC.push(o.x,o.y);
u.cK=!0}}}};R.Hv.prototype.JW=function(u){if(u&&u.H.HC.length!=0){u.H.HC=[];u.H.Vk=[];u.cK=!0}};R.Hv.prototype.RB=function(u,g,K,X,w){var D=u.t.wQ(w.x,w.y),q=this._D,C=q?q.add.vmsk:null,a=q?q.add.vogk:null;
if(this.bC!=-1){if(Date.now()-this.w$<300){var x=C._[this.bC],H=this.No,$=null;if(H==0){var r=x.Rw.$z(x.G),c=x.CL.$z(x.G);
if(!r&&!c){$="Anchor Type";if(x.type==1||x.type==4)x.type++;else{x.type--;x.CL=x.G.add(x.G.tm(x.Rw))}}else{$="Add Handles";
if(r&&c){x.Rw.x-=30;x.CL.x+=30}else if(r)x.Rw=x.G.add(x.G.tm(x.CL));else if(c)x.CL=x.G.add(x.G.tm(x.Rw))}}else{$="Remove Handle";
if(H==1)x.Rw.fQ(x.G);else x.CL.fQ(x.G)}this.HN(C,a);this.wU(u,q.Mw,C,a);this.og(u,$,q.Mw,this.i0,C,null,this.Qj,JSON.stringify(a))}else if(!this.ZO.$z(D)){this.og(u,"Drag Anchors",q.Mw,this.i0,C,null,this.Qj,JSON.stringify(a))}this.w$=Date.now()}else if(this.oD!=null){var U=this.oD,O=new dS(U.x,U.y,D.x-U.x,D.y-U.y);
if(O.m<0)O.x+=O.m;if(O.n<0)O.y+=O.n;O.m=Math.abs(O.m);O.n=Math.abs(O.n);var A=f.J.q4(C._,O);C.s4=A[0].concat(X.a(hW.jl)?C.s4:[]);
u.H.vn=null}this.b2();u.cK=!0};R.Hv.prototype.b2=function(){this._D=null;this.i0=null;this.oD=null;this.bC=this.No=-1;
this.Nz=null};R.Hv.prototype.HN=function(u,g){for(var P=0;P<u.s4.length;P++){var K=f.J.eA(u._,u.s4[P]);
f.b1.mS(g,K)}};R.Hv.prototype.BF=function(u,g,K,X){if(u==null)return;var w=u.f$(),D=w[0],q=w[1];if(q.length==0)return;
var C=D[q[0]],a=C.add.vmsk;if(a==null||a.s4.length==0)return;var x=C.add.vogk,H=JSON.stringify(x),$=X.mj();
if($.x!=0||$.y!=0){var r=a.clone(),c=a.clone(),U=new eV(1,0,0,1,$.x,$.y);f.J.Cg(c._,U,null,c.s4);this.HN(c,x);
this.wU(u,C.Mw,c,x);this.og(u,"Move Anchors",u.z[0],r,c.clone(),!0,H,JSON.stringify(x))}if(X.a(hW.cG)||X.a(hW.jA))this.RR({d:"remove",g9:!0,alJ:!0},g,u,X,K)};
R.Hv.prototype.og=function(u,g,K,X,w,D,q,C){var a=u.mM();if(D&&a!=null&&a.b==this&&a.data.a61&&a.data.XR==K&&JSON.stringify(a.data.BH.s4)==JSON.stringify(X.s4)){a.data.K2=w;
a.data.R8=C}else{var a=new g9(g,this);a.data={XR:K,BH:X,K2:w,a61:D,ad3:q,R8:C};u.AV(a)}};R.Rect=function(){R.kN.call(this,[10,32],R.Zl,"tools/rect",!0)};
R.Rect.prototype=new R.kN;R.Rect.prototype.R5=function(u,g,K){var X=this.Xm.crad,w=g.x-u.x,D=g.y-u.y;
return[f.J.eQ.Rect(u.x,u.y,w,D,X),f.b1.Nh("Rctn",[u.x,u.y,g.x,g.y],[X,X,X,X])]};R.tj=function(){R.kN.call(this,[10,33],R.vk,"tools/ellipse",!0)};
R.tj.prototype=new R.kN;R.tj.prototype.R5=function(u,g,K){var X=g.x-u.x,w=g.y-u.y;return[f.J.eQ.tj(u.x,u.y,X,w),f.b1.Nh("Elps",[u.x,u.y,g.x,g.y])]};
R.YX=function(){R.kN.call(this,[10,34],R.se,"tools/pshape",!1);this.Xm.aopts=[!1,!0,50,100,0]};R.YX.prototype=new R.kN;
R.YX.prototype.R5=function(u,g,K){var X=this.Xm.pshape,w=this.Xm.crad,D=this.Xm.irad/100,q=this.Xm.sides,C=this.Xm.width,a=this.Xm.aopts,x=this.Xm.length,A;
g=g.clone();var H=u.x,$=u.y,r=g.x,c=g.y,U=Math.sqrt((r-H)*(r-H)+(c-$)*(c-$)),O=Math.atan2(-c+$,r-H);
if(K)O=Math.round(O*180/Math.PI/15)*15*Math.PI/180;if(X==0)A=f.J.eQ.gf(H,$,U,O,q,w);if(X==1)A=f.J.eQ.p8(H,$,U,O,q,w,D);
if(X==2)A=f.J.eQ.l6(u.x,u.y,g.x,g.y,C,a);if(X==3)A=f.J.eQ.ail(H,$,U,O,x);return[A,f.b1.Nh("customShape",[u.x,u.y,g.x,g.y],null,null,null,"--")]};
R.YX.prototype.BF=function(u,g,K,X){R.kN.prototype.BF.call(this,u,g,K,X);var w=X.mj(),D=this.Xm,q,C;
if(w.y!=0){var a=-w.y,x=D.pshape;if(x<2){q="sides";C=Math.max(3,Math.min(100,D.sides+a))}else if(x==2){q="width";
C=Math.max(1,Math.min(100,D.width+a))}else if(x==3){q="length";C=Math.max(4,Math.min(40,D.length+a))}}if(w.x!=0){q="pshape";
C=Math.max(0,Math.min(3,D.pshape+w.x))}if(q){var H=new eG(h.E.Y,!0),$={};$[q]=C;D[q]=C;H.data={d:h.s.SI,b:this.id,KR:"vals",agP:$};
g.c(H);this.ai(u,g,K,X)}};R.L7=function(){R.kN.call(this,[10,35],R.iC,"tools/line",!1)};R.L7.prototype=new R.kN;
R.L7.prototype.R5=function(u,g,K){var X=this.Xm.width,w=this.Xm.aopts;g=g.clone();if(K){g=R.xR.AH(u,g)}return[f.J.eQ.l6(u.x,u.y,g.x,g.y,X,w),f.b1.Nh("Ln",null,null,[u.x,u.y,g.x,g.y],X,null,w)]};
R.M5=function(){R.kN.call(this,[10,31],R.fC,"tools/cshape",!0)};R.M5.prototype=new R.kN;R.M5.prototype.R5=function(u,g,K){var X=this.Xm.shape,w=X.Au.m/X.Au.n,D=l.tU.SL(X._);
g=g.clone();var q=g.x-u.x,C=g.y-u.y;f.J.Cg(D,new eV(q,0,0,C,u.x,u.y));return[D,f.b1.Nh("customShape",[u.x,u.y,g.x,g.y],null,null,null,X.VW)]};
R.S=function(u,g,K){R.N8.call(this,u,g,K);this.Kn=0;this.g=null;this.X6=null;this.Jo=null;this.eg=1;
this.dA=!1;this.cursor=null;this.wE=null;this.OZ=null;this.nD=!1;this._J=null;this.ao4=0;this.sU=null;
this.CF=0;this.vf=null;this.EF=null;this.hC=null;this.FU=null;this.asw=null;this.$s=null};R.S.prototype=new R.N8;
R.S.__=function(u,g){var K={classID:"null",null:bd.Af("Dcmn",!0)};if(u)K.Angl={t:"UntF",v:{type:"#Ang",val:g}};
else K.Axis={t:"enum",v:{Ornt:g}};return{$T:u?"rotateEventEnum":"flip",NA:K}};R.S.prototype.eY=function(u,g,K,X,w){var D=new eG(h.E.Y,!0);
D.data={d:h.s.SI,b:this.id,y5:w,VF:u,Jo:K};g.c(D);this.pF=!1};R.S.prototype.HH=function(u){return this.EF&&this.EF.agm()};
R.S.prototype.RR=function(u,g,K,X,w){this.Jo=w;if(u.d=="again"&&this.sU==null)return;if(!this.uX(K,w))return;
if(this.EF){this.arM(u,this.EF.sR());this.Lj(K,w,0,!0);this.Z1(K);return}this.a8K(K,u.j==null,u.j);this.alz(K);
this.arM(u);this.xy(K,g,u.Uz,!1)};R.S.prototype.arM=function(u,g){var K=this.vf;if(g==null){var X=u.$P!=null?u.$P:4;
g=this.EF.ahZ()[X]}var w=g.x,D=g.y;if(u.d=="rot"&&u.h!=Math.PI&&(K.m+K.n&1)==1){w=Math.floor(w);D=Math.floor(D)}var q=new eV;
q.translate(-w,-D);if(u.d=="rot")q.rotate(u.h);if(u.d=="scl")q.scale(u.h.x,u.h.y);if(u.d=="mat")q.concat(u.h);
q.translate(w,D);if(u.d=="again")q=this.sU;var C=this.EF.zP();f.p.D(C,q,C);this.EF.xw(C)};R.S.prototype.Sn=function(){return!0};
R.S.prototype.uX=function(u,g){if(u==null)return!1;if(this.id==R.Gw)return u.q!=null;var K=u.C6(!0,null,null,!0);
if(this.id==R.i2&&u.g[K[0]].rect.fg()){alert("Layer is empty.");return!1}for(var P=0;P<K.length;P++){var X=u.g[K[P]];
if(X.Kf(2)||X.Kf(31)){alert(fc.get([6,57,0]));return!1}if(X.add.artb){alert("You can not transform the whole artboard");
return!1}if(X.add.TySh)if(!dR.k$(X.add.TySh,g.aX))return!1;if(X.add.SoLd){if(K.length==1&&!f.zv.My(X.add.SoLd.warp.v)&&(X.Zv()&&X.Zv().Bo||X.add.vmsk&&X.add.vmsk.Bo)){alert("Unlink masks before transforming Smart Object");
return!1}if(!u.axx(X.add.SoLd.Idnt.v)){alert("Unsupported format of the smart object ("+u.zQ(X.add.SoLd.Idnt.v).$V+")");
return!1}}}if(u.q==null)return!0;if(!u.KL())return!1;return u.ai3()};R.S.prototype.R4=function(u,g,K,X,w){var D=this.aqc(w,u),q=D[0],C=D[1],a=this.CF==0?this.EF:this.hC;
u.t.P*=C;this.dA=a.R4(u,K,X,q,null,null,w);u.t.P/=C;if(this.dA&&a.yB(q)){if(Date.now()-this.ao4<250)this.xy(u,g,null,!0);
this.ao4=Date.now()}};R.S.prototype.Hb=function(u){var g=new eG(h.E.Y,!0);g.data={d:h.s.Tx,SD:this.cursor};
u.c(g)};R.S.prototype.aqc=function(u,g){var K=1;u=g.t.wQ(u.x,u.y);if(this.CF==1){var X=f.Q.xZ(this.EF.zP(),this.vf);
K=f.Q.Y$(X).CJ();var w=f.Q.CD(X);u=f.Q.a4u(w,u)}return[u,K]};R.S.prototype.ai=function(u,g,K,X,w){var D=this.aqc(w,u),q=D[0],C=D[1],a=this.CF==0?this.EF:this.hC;
if(!w.HT){var x="default";if(a){var H=a.vw(q,u.t.P*C,null,w);if(H)x=H}if(x!=this.cursor){this.cursor=x;
this.Hb(g)}}if(!this.dA)return;u.t.P*=C;a.ai(u,K,X,q);u.t.P/=C;this.Lj(u,K,0,!0);this.Z1(u);this.iM(g)};
R.S.prototype.RB=function(u,g,K,X,w){var D=u.t.wQ(w.x,w.y);this.EF.RB(u,K,X,D);this.dA=!1};R.S.prototype.BF=function(u,g,K,X){if(X.a(hW.R0))this.xy(u,g,null,!0);
else if(X.a(hW.m0))this.oE(u,g);else{var w=this.EF.BF(u,K,X);if(w){this.Lj(u,K,0,!0);this.iM(g)}}};R.S.prototype.Z7=function(u,g,K,X){if(u.RM=="commit")this.xy(K,g,null,!0);
else if(u.RM=="cancel")this.oE(K,g);else if(u.RM=="switchWarp"){this.CF=1-this.CF;this.anE();this.Z1(K);
this.iM(g)}else if(u.RM=="wrp"){this.hC.aeT(u.lo);this.Z1(K);this.Lj(K,this.Jo,0,!0)}else if(u.RM=="ctyp"){this.EF.ajg(u.kq);
this.Z1(K);this.iM(g)}else if(u.RM=="cen"){this.EF.awJ(u.ze);this.Z1(K);this.Lj(K,this.Jo,0,!0)}else if(u.RM=="trn"){var w=f.Q.$D(u.hB),D=this.vf,q=f.Q.xZ(this.EF.zP(),this.vf);
w[6]=q[6],w[7]=q[7];var C=[D.x,D.y,D.x+D.m,D.y,D.x+D.m,D.y+D.n,D.x,D.y+D.n];f.Q.D(w,C);this.eg=u.eg;
this.EF.xw(C);this.Z1(K);this.Lj(K,this.Jo,0,!0)}};R.S.prototype.Z1=function(u){if(this.CF==0)this.EF.mr(u,this.Jo);
else{this.hC.mr(u);var g=f.Q.xZ(this.EF.zP(),this.vf);f.Q.D(g,u.H.vn.v);f.Q.D(g,u.H.hR)}};R.S.prototype.xy=function(u,g,K,X){this.Lj(u,this.Jo,this.eg);
var w=new g9(K?K:this.name,this);if(this.Kn==0)w.data={type:this.Kn,g:this.g,_J:this.X6,yb:R.S.lD(u,this.g)};
else if(this.Kn==1){var D=u.g[this.g[0]],q;if(D.Ag.oF<=0){q=f.L(D.Ag.ij.$());f.hk(D.Ag._C,q,3)}else q=u.q.channel;
var C={rect:D.Ag.ij.clone(),channel:q};w.data={type:this.Kn,j:this.g[0],OZ:this.OZ,V5:C,wE:this.wE,nD:this.nD,Ag:D.Ag,_J:this._J,yb:{mf:D.Ag.ij,ee:D.Ag._C}}}else if(this.Kn==2){w.data={type:this.Kn,OZ:this.OZ,V5:{rect:u.q.rect.clone(),channel:u.q.channel.slice(0)}}}u.AV(w);
var a=this.vf,x=new j4(a.x+a.m/2,a.y+a.n/2),H=f.Q.xZ(this.EF.zP(),a),$=f.Q.Y$(H),r=new eV;r.translate(x.x,x.y);
r.concat($);r.translate(-x.x,-x.y);$=r.clone();var c=-Math.atan2(-$.U,$._x),U=new eV;U.rotate(c);$.concat(U);
function O(i,e){return{t:"UntF",v:{type:["#Pxl","#Prc","#Ang"][e],val:i}}}var A=bd.Af("Lyr",!0);if(this.id==R.Gw)A.v[0]={t:"prop",v:{classID:"Chnl",keyID:"fsel"}};
var m={classID:"null",null:A,FTcs:{t:"enum",v:{QCSt:"Qcsa"}},Intr:{t:"enum",v:{Intp:"Bcbc"}},Ofst:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:O(r.OR,0),Vrtc:O(r.ic,0)}},Skew:{t:"Objc",v:{classID:"Pnt",Hrzn:O(Math.atan($.nA)*180/Math.PI,2),Vrtc:O(0,2)}},Wdth:O($._x*100,1),Hght:O($.kR*100,1),Angl:O(c*180/Math.PI,2)};
this.Rz=g;this.track({$T:"transform",NA:m});this.escape(u,g,X)};R.S.prototype.oE=function(u,g){if(this.Kn==0)R.S.G2(u,this.g,this.X6);
else if(this.Kn==1){var K=u.g[this.g[0]];u.q=this.OZ;if(!this.nD){K.Ag.ij=this._J.mf;K.Ag._C=this._J.ee;
K.gi(u,0,0,u.q)}else{K.VL(u,this.wE)}u.O();u.Ym=!0}else if(this.Kn==2){u.q=this.OZ;u.Ym=!0}this.escape(u,g,!0)};
R.S.prototype.escape=function(u,g,K){this.EF.clear(u);this.EF=null;this.hC=null;this.$s=null;this.CF=0;
if(K)this.y2(g,h.E.Y,{d:h.s.SQ})};R.S.prototype.py=function(u,g){if(u.type==0)R.S.G2(g,u.g,u.yb);else{if(u.type==1){var K=g.g[u.j];
if(u.nD){K.Ag=u.Ag}else{K.Ag.ij=u.yb.mf;K.Ag._C=u.yb.ee}K.gi(g,0,0,g.q);g.O()}g.q={rect:u.V5.rect.clone(),channel:u.V5.channel.slice(0)};
g.Ym=!0}};R.S.prototype.A3=function(u,g){if(u.type==0)R.S.G2(g,u.g,u._J);else{if(u.type==1){var K=g.g[u.j];
if(u.nD){K.VL(g,u.wE)}else{K.Ag.ij=u._J.mf;K.Ag._C=u._J.ee;K.gi(g,0,0,g.q)}g.O()}g.q=u.OZ;g.Ym=!0}};
R.S.prototype.a8K=function(u,g,K){u.f$();var X=[];if(K==null)for(var P=0;P<u.qe.length;P++)if(u.Ml[u.qe[P]].add.vmsk._.length>2)X.push(-1-u.qe[P]);
var w=[],D=u.t.PK;if(D[0]+D[1]+D[2]==3)if(K!=null||X.length==0||u.J9!=null&&u.J9.length!=0){if(u.z.length==1){var q=u.g[u.z[0]];
if(q.xp()&&q.vC)w=[u.z[0]]}if(w.length==0)w=u.C6(g,K,null,!0)}w=w.concat(X);for(var P=0;P<u.qT.length;
P++)w.push(-1e3-u.qT[P]);this.g=w};R.S.prototype.enable=function(u,g,K,X,w,D){if(this.cursor==null)this.cursor="default";
this.Hb(g);if(this.EF)return;this.Jo=K;this.a8K(u,!0);this.alz(u,D&&D.Yw!=null&&D.Yw!=-1?D.Yw:null);
this.iM(g);this.Z1(u);if(D&&D.Yw==-1)this.Z7({RM:"switchWarp"},g,u,X)};R.S.prototype.iM=function(u){var g={d:h.s.SI,b:this.id};
if(this.CF==0){var K=f.Q.xZ(this.EF.zP(),this.vf),X=f.Q.Y$(K);g.hB={Oi:X,kq:this.EF.a60(),ze:this.EF.sR(),mf:this.vf.clone()}}else{g.lo=this.hC.ZH()}g.abJ=this.hC!=null;
this.y2(u,h.E.Y,g)};R.S.prototype.alz=function(u,g){var K=this.id==R.Gw,X=!0,w=this.g[0],D=u.g[w],C=null,a=null;
if(K){this.Kn=2;this.OZ=u.q}else if(u.q&&this.g.length==1&&w>=0&&!D.rect.fg()){this.Kn=1;this.OZ=u.q;
this.wE=D.Ag;this.nD=!1;if(!D.A1(u,u.q)){this.nD=!0;D.ZK(u,u.q,!1)}this._J={ee:D.Ag._C,mf:D.Ag.ij}}else{this.Kn=0;
this.X6=R.S.lD(u,this.g,null);for(var P=0;P<this.X6.length;P++)if(this.X6[P][3]!=null)X=!1}var q=this.Kn==1;
if(this.X6&&this.X6.length==1){var x=this.X6[0];if(x[2]!=null&&x[2].b1){var H=x[2].Ze.z;if(H.length<2){a=x[2].b1[H.length==0?0:H[0]].v;
if(!f.b1.N4(a))a=null}}if(x[3]==null)q=!0;if(x[4]!=null){C=u.g[this.g[0]].add.SoLd;if(x[1]||x[2])q=!1}}var $=K?u.q.rect.clone():R.S.WA(u,this.g);
this.vf=$;if(!K&&C){var r=R.S.TU(C.nonAffineTransform);this.vf=f.p.pj(f.zv.s8(C.warp.v));if(q)this.hC=new gn(C.warp.v);
this.FU=f.Q.xZ(r,this.vf);this.EF=new cR(r,!0,!0,X,!1,!1,g)}else{if(q||K)this.hC=new gn(f.zv.L(this.vf));
this.FU=[1,0,0,0,1,0,0,0];if(this.id==R.i2)g=3;this.EF=new cR([$.x,$.y,$.x+$.m,$.y,$.x+$.m,$.y+$.n,$.x,$.y+$.n],!0,!0,X,!1,!1,g)}this.asw=[1,0,0,0,1,0,0,0];
if(this.id==R.i2){var c,U;if(this.X6){var O=this.X6[0][0],A=O.Xb;c=A[0];U=A[1]}else if(this._J){c=this._J.ee;
U=this._J.mf}this.$s=f.KV.a8_(c,U.m,U.n)}};R.S.WA=function(u,g){if(g==null)g=u.C6(!0,null,null,!0);var K=new dS,X=new dS;
if(u.q&&g.length==1&&g[0]>=0)K=u.q.rect.clone();else for(var P=0;P<g.length;P++){var w=g[P],D=0<=w?u.g[w]:-1e3<w?u.Ml[-1-w]:u.g1[-1e3-w],q=D.add?D.add.vmsk:null,C=0<=w?D.FE(u,g.length==1,!1,!0):-1e3<w?f.J.Xh(q._,g.length==1&&q.z.length!=0?q.z:null):D.rect.clone();
K=K.RN(C);if(w>0&&D.add.artb)X=X.RN(D.T0())}return!X.fg()?X:K};R.S.prototype.y2=function(u,g,K,X){var w=new eG(g,!0);
w.data=K;if(X)w.b=X;u.c(w)};R.S.lD=function(u,g,K){var X=[];for(var P=0;P<g.length;P++){var w=g[P],D,q;
if(w>=0){D=u.g[w];q=D.WK(u,K,!0)}else if(w>-1e3){D=u.Ml[-1-w];q=[2]}else{X.push([null,null,null,null,null,null,null,u.g1[-1e3-w].clone()]);
continue}var C=[];if(q.indexOf(0)!=-1){var a={Xb:[D.buffer.slice(0),D.rect.clone()]};C.push(a);if(D.ov()){var x=D.nE(u);
a.a3E=x.buffer.slice(0);a.awM=x.rect.clone()}}else C.push(null);if(q.indexOf(1)!=-1)C.push(D.Zv().clone());
else C.push(null);if(q.indexOf(2)!=-1)C.push({Ze:D.add.vmsk.clone(),Sq:D.add.vstk?JSON.parse(JSON.stringify(D.add.vstk)):null,Gu:D.add.vstk?R.jV.cQ(u,w):null,b1:D.add.vogk?JSON.parse(JSON.stringify(D.add.vogk)):null});
else C.push(null);if(D.add.TySh&&C[0]){fS.Z$(D.add.TySh);C.push(D.add.TySh.D.clone())}else C.push(null);
if(D.add.SoLd&&C[0])C.push(JSON.parse(JSON.stringify(D.add.SoLd)));else C.push(null);if(q.indexOf(3)!=-1)C.push(D.nE(u).B.clone());
else C.push(null);if(D.add.lmfx)C.push(JSON.stringify(D.add.lmfx));else C.push(null);X.push(C)}return X};
R.S.G2=function(u,g,K){for(var P=0;P<g.length;P++){var X=g[P],w=0<=X?u.g[X]:-1e3<X?u.Ml[-1-X]:u.g1[-1e3-X],D=K[P];
if(D[0]){w.rect=D[0].Xb[1].clone();w.buffer=D[0].Xb[0].slice(0);if(w.ov()){var q=w.nE(u);q.buffer=D[0].a3E.slice(0);
q.rect=D[0].awM.clone()}}if(D[1]){w.Zv().channel=D[1].channel.slice(0);w.Zv().rect=D[1].rect.clone();
w.Zv().vl=!0}if(D[2]){w.add.vmsk=D[2].Ze.clone();if(D[2].Gu)R.jV.qi(w,D[2].Gu);if(D[2].Sq)w.add.vstk=JSON.parse(JSON.stringify(D[2].Sq));
if(D[2].b1)w.add.vogk=JSON.parse(JSON.stringify(D[2].b1))}if(D[3]){w.add.TySh.D=D[3].clone();fS.qL(w.add.TySh)}if(D[4]){w.add.SoLd=JSON.parse(JSON.stringify(D[4]))}if(D[5]){var C=w.nE(u).B;
C.channel=D[5].channel.slice(0);C.rect=D[5].rect.clone()}if(D[6]){w.add.lmfx=JSON.parse(D[6])}if(D[7]){w.channel=D[7].channel.slice(0);
w.rect=D[7].rect.clone();w.vl=!0}if(0<=X){w.th(u);w.O()}}u.O()};R.S.CJ=function(u){var g=u.clone(),K=Math.atan2(-g.U,g._x),X=new eV;
X.rotate(-K);g.concat(X);return(Math.abs(g._x)+Math.abs(g.kR))/2};R.S.Om=function(u,g,K,X,w,D,q,C,a,x){if(typeof D[0]=="number"){var H=[];
for(var P=0;P<K.length;P++)H[P]=D;D=H}for(var P=0;P<K.length;P++){var $=D[P],r=f.Q.Y$($),c=R.S.CJ(r),U=K[P],O=0<=U?u.g[U]:-1e3<U?u.Ml[-1-U]:u.g1[-1e3-U],A=X[P];
if(O.add&&O.add.lmfx&&C)bW.pZ(O.add.lmfx,c);if(A[0]&&!A[3]&&!A[4]&&!A[5]){var m=A[0].Xb;if(a){var i=a.clone(),e=f.L(i.$()*4);
f.bV(m[0],m[1],e,i);m=[e,i]}var S=R.S.rY(m,w,$,q,w==0?O.buffer.buffer:null,null,null,x);if(S){O.rect=S.rect;
O.buffer=S.buffer}}if(A[1]){var E=O.Zv();R.S.HD(u,A[1],E,w,$,q);if(a){var i=O.rect.I3(a),Z=f.L(i.$());
f.x5(E.channel,E.rect,Z,i);E.channel=Z;E.rect=i}}if(A[2]){var N=q&&!f.zv.My(q),J=A[2].Ze.clone(),y=K.length==1&&J.z.length!=0,o=K.length==1&&J.s4.length>1;
if(o)y=!1;var B=y?J.z:null,t=o?J.s4:null;if(N){var W=f.zv.s8(q);f.Q.D($,W);f.J.au5(J._,W,B,t)}else f.J.asp(J._,$,B,t);
if(O.add.vstk&&C){O.add.vstk.strokeStyleLineWidth.v.val=A[2].Sq.strokeStyleLineWidth.v.val*c;var F=A[2].Gu;
if(F&&F.lB==3){F=JSON.parse(JSON.stringify(F));var G=F.Gu.phase.v;F.Gu.Scl.v.val=Math.round(F.Gu.Scl.v.val*c);
G.Hrzn.v=Math.round(G.Hrzn.v*c);G.Vrtc.v=Math.round(G.Vrtc.v*c);R.jV.qi(O,F)}}if(O.add.vogk){O.add.vogk=JSON.parse(JSON.stringify(A[2].b1));
if(N||o)f.b1.a6D(O.add.vogk);else f.b1.D(O.add.vogk,$,K.length>1?[]:J.z,C)}J.Lp*=c;O.add.vmsk=J;if(O.add.vogk)f.b1.p6(O.add.vogk,O.add.vmsk)}if(A[3]){var L=A[3].clone();
L.concat(r);O.add.TySh.D=L;fS.qL(O.add.TySh);var Q=new ec(O.add.TySh.Fd,g.aX),T=dR.tr(Q,O.add.TySh);
O.rect=T.mf;O.buffer=T.Fg}if(A[4]){var j=O.add.SoLd,p=R.S.TU(A[4].nonAffineTransform);f.Q.D($,p);var M=f.p.Ha(p);
if(cR.u5(p)){if(q){var n=f.p.pj(f.zv.s8(A[4].warp.v)),Z=f.Q.xZ(p,n),d=f.p.pj(f.zv.s8(q));p=[d.x,d.y,d.x+d.m,d.y,d.x+d.m,d.y+d.n,d.x,d.y+d.n];
f.Q.D(Z,p);j.warp.v=q}var V=f.Q.xZ(p),z=p;if(!f.Q.gr(V)){V[6]=V[7]=0;z=[0,0,1,0,1,1,0,1];f.Q.D(V,z)}j.Trnf=R.S.c2(z);
j.nonAffineTransform=R.S.c2(p);if(j.filterFX)j.filterFX=JSON.parse(JSON.stringify(A[4].filterFX));R.S.ag1(j,r);
O.Qu(u,w==0,g.aX)}}if(A[5])R.S.HD(u,A[5],O.nE(u).B,w,$,q);if(A[7])R.S.HD(u,A[7],O,w,$,q);if(0<=U){if(w!=0)O.b3();
O.th(u);O.O()}}u.O()};R.S.qp=function(u,g,K,X,w,D){if(K==null)K=!1;return R.S.rY(u,K?0:1,f.Q.$D(g),null,X,w,D,K)};
R.S.rY=function(u,g,K,X,w,D,q,C){if(C==null)C=!1;if(C&&q)throw"e";var a={},r=0,c=.3;if(X&&!f.zv.My(X)){var x=f.zv.s8(X);
f.Q.D(K,x);a.rect=f.p.Ha(x);a.buffer=f.L(a.rect.$()*4);f.uc.drawImage(x,u[0],u[1].m,u[1].n,a.buffer,a.rect,g==0);
return a}f.mm(u);var H=u[0],$=u[1],U=$.$()*R.S.CJ(f.Q.Y$(K));if(C&&U>4e6)c=U>8e6?2.2:1.2;while(r+3<u.length&&u[r+3].$()>16&&f.Q.gr(K)&&R.S.CJ(f.Q.Y$(K))<c){r+=2;
var O=u[r],A=u[r+1],m=$.m/A.m,i=$.n/A.n;K=f.Q.X7(K,[1,0,$.x,0,1,$.y,0,0]);K=f.Q.X7(K,[m,0,0,0,i,0,0,0]);
K=f.Q.X7(K,[1,0,-$.x,0,1,-$.y,0,0]);$=A;H=O}var e=f.Q.X7(K,f.Q.$D(new eV($.m,0,0,$.n,$.x,$.y))),S=[0,0,1,0,1,1,0,1];
f.Q.D(e,S);a.rect=f.p.Ha(S);if(q)a.rect=a.rect.I3(q);if(C){while((a.rect.m&3)!=0)a.rect.m++;while((a.rect.n&3)!=0)a.rect.n++}if(!cR.u5(S)||a.rect.m>1e5||a.rect.n>1e5||a.rect.$()>3e4*3e4)return null;
var E=a.rect.$()*4;if(w&&w.byteLength>=E&&E>=w.byteLength>>2){a.buffer=new Uint8Array(w)}else{a.buffer=f.L(E)}f.Q.drawImage(e,H,$.m,$.n,a.buffer,a.rect,g==0,D,C);
if(g==2&&a.buffer){var Z=a.rect.m,N=a.rect.n,J;J=[0,-1,0,-1,16,-1,0,-1,0];J=f.Xg.eW(J);var y=a.buffer.slice(0);
f.Xg.L4(y,a.buffer,Z,N,J,255,!1,!0)}if(a.buffer)return a};R.S.HD=function(u,g,K,X,w,D){if(g.color==255)f.CD(g.channel);
var q=g.rect,C=f.L(q.$()*4);f.K1(g.channel,C,3);var a=R.S.rY([C,q],X,w,D);if(a){K.rect=a.rect;K.channel=f.L(a.rect.$());
f.hk(a.buffer,K.channel,3);K.vl=!0}if(g.color==255){f.CD(g.channel);if(a)f.CD(K.channel)}};R.S.ag1=function(u,g){var K=u.filterFX;
if(K)K=K.v.filterFXList;if(K)K=K.v;if(K)for(var X=0;X<K.length;X++){var w=K[X].v.Fltr;if(w==null||w.v.classID!="rigidTransform")continue;
w=w.v;console.log(w);var D=[];for(var q=0;q<4;q++)D.push(w["PuX"+q].v,w["PuY"+q].v);f.p.D(D,g,D);for(var q=0;
q<4;q++){w["PuX"+q].v=D[q*2];w["PuY"+q].v=D[q*2+1]}var C=["PinP","posFinalPins"],a=["originalVertexArray","deformedVertexArray"],x=w.puppetShapeList.v;
for(var H=0;H<x.length;H++){var $=x[H].v;for(var r=0;r<C.length;r++){var c=R.S.TU($[C[r]]);f.p.D(c,g,c);
$[C[r]]=R.S.c2(c);var U=new Uint8Array($[a[r]].v),O=new Float32Array(U.buffer);f.p.D(O,g,O);var A=[];
for(var m=0;m<U.length;m++)A[m]=U[m];$[a[r]].v=A}}}};R.S.TU=function(u){var g=[],K=u.v.length;for(var P=0;
P<K;P++)g.push(u.v[P].v);return g};R.S.c2=function(u){var g={t:"VlLs",v:[]},K=u.length;for(var P=0;P<K;
P++)g.v.push({t:"doub",v:u[P]});return g};R.S.prototype.anE=function(){var u=f.p.pj(f.zv.s8(this.hC.ZH())),g=f.Q.xZ(this.EF.zP(),this.vf),K=[u.x,u.y,u.x+u.m,u.y,u.x+u.m,u.y+u.n,u.x,u.y+u.n];
f.Q.D(g,K);this.EF.xw(K);this.vf=u};R.S.prototype.Lj=function(u,g,K,X){var w=f.Q.xZ(this.EF.zP(),this.vf);
w=f.Q.X7(w,f.Q.CD(this.FU));var D=this.hC?this.hC.ZH():null;if(this.Kn==0){var q=this.sU=f.Q.Y$(w);if(this.id==R.i2){var C=this.X6[0][0],a=C.Xb,x=a[1],H=~~(x.m*Math.max(0,q._x)),$=~~(x.n*Math.max(0,q.kR)),r=new dS(Math.round(q._x*x.x+q.OR),Math.round(q.kR*x.y+q.ic),H,$),c=f.KV.D(this.$s,r),U=u.g[this.g[0]];
U.buffer=c;U.rect=r;U.O();u.O()}else R.S.Om(u,g,this.g,this.X6,K,w,D,null,null,X)}else if(this.Kn==1){var O=u.g[this.g[0]],x=this._J.mf;
if(O.oF<=0){var A=this._J.ee,m=this.OZ,i=null;if(D&&!f.zv.My(D)&&!m.rect.$z(x)){var c=f.L(m.rect.$()*4);
f.bV(A,x,c,m.rect);A=c;x=m.rect}if(this.id==R.i2){var q=this.sU=f.Q.Y$(w),H=~~(x.m*Math.max(0,q._x)),$=~~(x.n*Math.max(0,q.kR)),r=new dS(Math.round(q._x*x.x+q.OR),Math.round(q.kR*x.y+q.ic),H,$),c=f.KV.D(this.$s,r);
i={buffer:c,rect:r}}else i=R.S.rY([A,x],K,w,D);if(i){O.Ag._C=i.buffer;O.Ag.ij=i.rect;var e=f.L(i.rect.$());
f.hk(O.Ag._C,e,3);u.q={channel:e,rect:O.Ag.ij.clone()}}}else{var S=f.L(x.$()*4);f.K1(this._J.ee,S,3);
var i=R.S.rY([S,x],K,w,D);if(i){O.Ag._C=f.L(i.rect.$());f.hk(i.buffer,O.Ag._C,3);O.Ag.ij=i.rect}this.aoX(u,K,w,D)}O.gi(u,0,0,u.q);
if(K!=0){O.b3();f.b3(u.q)}u.Ym=!0;u.O()}else if(this.Kn==2)this.aoX(u,K,w,D)};R.S.prototype.aoX=function(u,g,K,X){var w=this.OZ.rect,D=f.L(w.$()*4);
f.K1(this.OZ.channel,D,3);var q=R.S.rY([D,w],g,K,X),C=f.L(q.rect.$());f.hk(q.buffer,C,3);u.q={channel:C,rect:q.rect};
u.Ym=!0};R.S.prototype.disable=function(u,g,K,X){if(this.EF)this.xy(u,g,null,!0)};R.adz=function(){R.S.call(this,[10,16],R.fr,"tools/transform")};
R.adz.prototype=new R.S;R.a2a=function(){R.S.call(this,[7,10],R.Gw,"tools/transform")};R.a2a.prototype=new R.S;
R.atC=function(){R.S.call(this,[10,48],R.i2,"tools/transform")};R.atC.prototype=new R.S;R.wX=function(u,g,K){R.N8.call(this,[10,46],R.wd,"tools/transform");
this.w7=[1,1,2,!0];this.YL="rigidTransform";this.fj=null;this.aar=null;this.Ol=null;this.x1=null;this.d4=null;
this.xK=null;this.PX=[]};R.wX.prototype=new R.N8;R.wX.prototype.Sn=function(){return!0};R.wX.a70=function(u){if(u==null)return!1;
if(u.z.length!=1)return!1;var g=u.g[u.z[0]];return g.add.SoLd||u.KL(!1)};R.wX.prototype.uX=function(u,g){return R.wX.a70(u)};
R.wX.prototype.enable=function(u,g,K,X,w,D,q){this.aar=D.El;var C=D.El,a,O=null;if(C){var x=u.g[C.j];
if(x.add.SoLd.filterFX!=null){var H=x.add.SoLd.filterFX.v.filterFXList.v;if(H[C.index])a=JSON.parse(JSON.stringify(H[C.index].v.Fltr.v))}}var $=a==null,x=u.g[u.z[0]],r=x.buffer,c=x.rect,U=x.add.SoLd;
if(U){var A=U.nonAffineTransform.v;O=[];for(var P=0;P<4;P++)O.push(A[P*2].v,A[P*2+1].v);if($)this.UI("edit",g);
var m=x.nE(u);r=m.buffer;c=m.rect}this.fj={buffer:r.slice(0),rect:c.clone(),a5F:O};if($)a=R.wX.m4(this.fj,this.w7);
this.Ol=a;this.x1=R.wX.XY(this.Ol,this.w7);this.Tq();this.LI(u);if($)this.Fc(g);var i=new eG(h.E.Y,!0);
i.data={d:h.s.SI,b:this.id,M3:this.w7};g.c(i);i.data={d:h.s.Tx,SD:"default"};g.c(i)};R.wX.prototype.disable=function(u,g,K,X){if(this.x1)this.xy(u,g,!0)};
R.wX.prototype.Tq=function(u){var g=this.x1;this.PX=[];for(var P=0;P<g.length;P++){var K=g[P];for(var X=0;
X<K.z.length;X++)this.PX.push([P,K.z[P]]);K.$y=f.qZ.K9(K);if(u)f.qZ.EG(K)}};R.wX.prototype.Z7=function(u,g,K,X){if(u.RM=="commit")this.xy(K,g,!0);
else if(u.RM=="cancel")this.oE(K,g,!0);else if(u.RM=="prm"){var w=!1;for(var P=0;P<3;P++)if(this.w7[P]!=u.M3[P])w=!0;
this.w7=u.M3;if(w){this.Ol=R.wX.m4(this.fj,this.w7,this.Ol);this.x1=R.wX.XY(this.Ol,this.w7);this.Tq(!0);
this.Fc(g)}this.LI(K)}else if(u.RM=="moveDepth"){var D=this.x1;for(var q=0;q<D.length;q++){var C=D[q];
for(var P=0;P<C.z.length;P++){var a=C.z[P];C.$k[a]+=u.anY?1:-1}}this.Fc(g)}};R.wX.prototype.Kx=function(u,g){return u==hW.cG||u==hW.jA};
R.wX.prototype.BF=function(u,g,K,X){var w=X.mj();if(X.a(hW.R0))this.xy(u,g,!0);else if(X.a(hW.m0))this.oE(u,g,!0);
else if(X.a(hW.cG)||X.a(hW.jA)){var D=this.x1;for(var q=0;q<D.length;q++){var C=D[q];C.z.sort(function(H,$){return $-H});
for(var P=0;P<C.z.length;P++){var a=C.z[P],x=a*2;C.$k.splice(a,1);C.dL.splice(a,1);C.a7.splice(a,1);
C.vv.splice(a,1);C.Rb.splice(x,2);C.Zy.splice(x,2)}C.z=[];if(C.vv.length==0){C.xo=C.On.slice(0);C.aT=C.On.slice(0)}}this.Tq(!0);
this.Fc(g);this.LI(u)}else if(w.x!=0||w.y!=0){this.a3x(u,w.x,w.y,g);this.xG=null}};R.wX.prototype.xy=function(u,g,K){this.UI("confirm",g);
this.escape(u,g,K)};R.wX.prototype.oE=function(u,g,K){this.UI("cancel",g);this.escape(u,g,K)};R.wX.prototype.escape=function(u,g,K){u.H.vn=null;
u.H.HC=[];u.cK=!0;this.x1=null;var X=new eG(h.E.Y,!0);X.data={d:h.s.SQ};if(K)g.c(X)};R.wX.prototype.R4=function(u,g,K,X,w){var D=u.t.wQ(w.x,w.y),q=D.x,C=D.y,a=this.x1,x=null,H=[0,2,4,1.2,1.2,1.2],$=-1,r=R.jz(u,w);
for(var P=0;P<a.length;P++){var c=a[P],U=f.p.ZD(c.Zy,q,C,r);if(U!=-1)x=[P,U];if($==-1&&f.qZ.i6.amb(c.aT,c.eb,q,C))$=P}if(x==null&&$!=-1){var c=a[$];
R.wX.ar_(c,q,C,q,C,0);x=[$,c.vv.length-1];c.$y=f.qZ.K9(c)}this.d4=D;if(x){var O=a[x[0]].z.indexOf(x[1])!=-1;
if(X.a(hW.jl)&&!O){a[x[0]].z.push(x[1]);this.PX.push(x)}else if(!O){a[x[0]].z=[x[1]];this.PX=[x]}}this.LI(u)};
R.wX.ar_=function(u,g,K,X,w,D){var q=f.p.ZD(u.aT,g,K);u.vv.push(q);u.Zy.push(X,w);u.Rb.push(u.aT[q*2]-g,u.aT[q*2+1]-K);
u.a7.push(0);u.dL.push(!1);u.$k.push(D)};R.wX.prototype.ai=function(u,g,K,X,w){var D=u.t.wQ(w.x,w.y),q=this.d4;
if(q)this.a3x(u,D.x-q.x,D.y-q.y,g)};R.wX.prototype.a3x=function(u,g,K,X){var w={},D=this.PX,q=this.x1;
if(this.xG==null){this.xG=[];for(var P=0;P<q.length;P++)this.xG.push(q[P].Zy.slice(0))}for(var P=0;P<D.length;
P++){var C=this.PX[P],a=C[0],x=q[C[0]],H=C[1]*2;x.Zy[H+0]=this.xG[a][H+0]+g;x.Zy[H+1]=this.xG[a][H+1]+K;
w[a]=a}for(var a in w)f.qZ.EG(this.x1[w[a]]);this.LI(u);this.Fc(X)};R.wX.prototype.UI=function(u,g){var K=new eG(h.E.l,!0);
K.b=R.DQ;K.data={d:u,El:this.aar,YL:this.YL,jp:this.Ol};g.c(K)};R.wX.prototype.RB=function(u,g,K,X,w){this.d4=null;
this.xG=null};R.wX.prototype.Fc=function(u){R.wX.ao2(this.x1,this.w7,this.Ol);this.UI("edit",u)};R.wX.prototype.LI=function(u){var g=this.x1,K=this.Ol;
u.H.vn={v:[],F:[]};u.H.HC=[];u.H.Vk=[];for(var P=0;P<g.length;P++){var X=g[P];for(var w=0;w<X.z.length;
w++)u.H.Vk.push((u.H.HC.length>>>1)+X.z[w]);u.H.HC=u.H.HC.concat(X.Zy);if(this.w7[3])f.p.concat(u.H.vn,f.p.anU(X.aT,X.eb))}u.cK=!0};
R.wX.m4=function(u,g,K){var X=u.buffer,w=u.rect,D=u.a5F,q=dJ.mt("rigidTransform");if(D)for(var P=0;P<4;
P++){q["PuX"+P].v=D[P*2];q["PuY"+P].v=D[P*2+1]}var C=q.puppetShapeList.v,a=f.qZ.agh(X,w.m,w.n,g[1],g[2]),x=[];
for(var H=0;H<a.length;H++){var $={classID:"puppetShape",rigidType:{t:"bool",v:!0},VrsM:{t:"long",v:1},VrsN:{t:"long",v:0},originalVertexArray:{t:"tdta",v:[]},deformedVertexArray:{t:"tdta",v:[]},indexArray:{t:"tdta",v:[]},pinOffsets:{t:"VlLs",v:[]},posFinalPins:{t:"VlLs",v:[]},pinVertexIndices:{t:"VlLs",v:[]},PinP:{t:"VlLs",v:[]},PnRt:{t:"VlLs",v:[]},PnOv:{t:"VlLs",v:[]},PnDp:{t:"VlLs",v:[]},meshQuality:{t:"long",v:2},meshExpansion:{t:"long",v:2},meshRigidity:{t:"long",v:2},imageResolution:{t:"doub",v:72},selectedPin:{t:"VlLs",v:[]}};
$.meshBoundaryPath={t:"Objc",v:{classID:"pathClass",pathComponents:{t:"VlLs",v:[{t:"Objc",v:{classID:"PaCm",shapeOperation:{t:"enum",v:{shapeOperation:"xor"}},SbpL:{t:"VlLs",v:[{t:"Objc",v:{classID:"Sbpl",Clsp:{t:"bool",v:!0},Pts:{t:"VlLs",v:[]}}}]}}}]}}};
var r=a[H];C.push({t:"Objc",v:$});var c=r.On.slice(0);f.p.D(c,new eV(1,0,0,1,w.x,w.y),c);var U=r.eb;
for(var P=0;P<U.length;P+=3){var O=U[P+1];U[P+1]=U[P+2];U[P+2]=O}x.push({eb:U,On:c,xo:c,aT:c,vv:[],Rb:[],Zy:[],$y:null,z:[],a7:[],dL:[],$k:[]})}if(K){var A=R.wX.XY(K,[]),m=x[0];
for(var P=0;P<A.length;P++){var i=A[P];for(var e=0;e<i.z.length;e++)m.z.push((m.Zy.length>>>1)+i.z[e]);
for(var e=0;e<i.vv.length;e++){var S=i.vv[e]*2,E=i.On[S]-i.Rb[e*2],Z=i.On[S+1]-i.Rb[e*2+1];R.wX.ar_(m,E,Z,i.Zy[e*2],i.Zy[e*2+1],i.$k[e])}}}R.wX.ao2(x,g,q);
return q};R.wX.XY=function(u,g){var K=R.S.TU,X=u.puppetShapeList.v,w=[];for(var D=0;D<X.length;D++){var q=X[D].v;
g[0]=q.meshRigidity.v-1;g[1]=q.meshQuality.v-1;g[2]=q.meshExpansion.v;var C=q.pinVertexIndices.v.length,a=q.meshBoundaryPath.v.pathComponents.v;
if(a.length!=0){var x=a[0].v.SbpL.v[0].v.Pts;x.v=[]}var H=new Uint32Array(new Uint8Array(q.indexArray.v).buffer),$=new Float32Array(new Uint8Array(q.originalVertexArray.v).buffer),r=new Float32Array(new Uint8Array(q.deformedVertexArray.v).buffer),c=[],U=[],O=[];
for(var P=0;P<H.length;P++)c.push(H[P]);for(var P=0;P<$.length;P++){U.push($[P]);O.push(r[P])}var A=K(q.pinVertexIndices),m=K(q.pinOffsets),i=K(q.posFinalPins),e=K(q.PnRt),S=K(q.PnOv),E=K(q.PnDp),Z=K(q.selectedPin);
w.push({eb:c,On:U,xo:O.slice(0),aT:O,vv:A,Rb:m,Zy:i,$y:null,a7:e,dL:S,$k:E,z:Z})}return w};R.wX.ao2=function(u,g,K){function X(r,c){var U=[];
for(var P=0;P<r.length;P++)U.push({t:c,v:r[P]});return U}function w(r,c,U){var O=new(U?Uint32Array:Float32Array)(r),A=new Uint8Array(O.buffer);
for(var P=0;P<A.length;P++)c[P]=A[P]}var D=K.puppetShapeList.v;for(var q=0;q<D.length;q++){var C=u[q],a=D[q].v;
a.meshRigidity.v=g[0]+1;a.meshQuality.v=g[1]+1;a.meshExpansion.v=g[2];w(C.eb,a.indexArray.v,!0);w(C.On,a.originalVertexArray.v);
w(C.aT,a.deformedVertexArray.v);var x=[];for(var P=0;P<C.vv.length;P++){var H=C.vv[P]*2,$=P*2;x[$]=C.On[H]-C.Rb[$];
x[$+1]=C.On[H+1]-C.Rb[$+1]}a.PinP.v=X(x,"doub");a.pinVertexIndices.v=X(C.vv,"long");a.pinOffsets.v=X(C.Rb,"doub");
a.posFinalPins.v=X(C.Zy,"doub");a.PnRt.v=X(C.a7,"long");a.PnOv.v=X(C.dL,"bool");a.PnDp.v=X(C.$k,"doub");
a.selectedPin.v=X(C.z,"long")}};R.gC=function(u,g,K){R.N8.call(this,u?u:[10,40],g?g:R.m8,K?K:"tools/slice");
this.FQ=null;this.Rz=null;this.wz=null;this.adg=null;this.Ee=null;this.Op=null};R.gC.prototype=new R.N8;
R.gC.mZ=function(u,g){var K=-1;for(var P=0;P<u.length;P++){var X=R.gC.tK(u,P);if(X[0]<=g.x&&g.x<=X[2]&&X[1]<=g.y&&g.y<=X[3]){K=P;
break}}return K};R.gC.prototype.RR=function(u,g,K,X,w){if(K==null)return;this.Oc(K);if(u.d=="fromAction"){var D=K.xv(),q=K.kE(),C=q==-1?new dS(0,0,K.m,K.n):K.g[q].T0(),a=[C.x,C.x+C.m],x=[C.y,C.y+C.n];
for(var P=0;P<D[0].length;P++){var H=D[0][P],$=Math.round(H[1]),r=D[1][P];if(r!=-1&&r!=q)continue;if(H[0]==0&&a.indexOf($)==-1)a.push($);
if(H[0]==1&&x.indexOf($)==-1)x.push($)}a.sort(function(N,J){return N-J});x.sort(function(N,J){return N-J});
for(var c=1;c<x.length;c++)for(var U=1;U<a.length;U++){K.BD.push(R.gC.fm());R.gC.Bu(K.BD,K.BD.length-1,[a[U-1],x[c-1],a[U],x[c]]);
K.cK=!0}}else if(u.d=="reorder"){if(K.di.length==0)return;var O=K.BD,A=K.di;A.sort(function(N,J){return N-J});
console.log(A);var m=O.slice(0),i=[],e=[];for(var P=0;P<A.length;P++){var S=A[P],E=O[S];e.push(E);m.splice(m.indexOf(E),1)}var Z=Math.max(0,Math.min(m.length,A[0]-u.dir));
for(var P=0;P<e.length;P++){m.splice(Z+P,0,e[P]);i.push(Z+P)}K.BD=m;K.di=i}else if(u.d=="delete"){var O=K.BD.slice(0);
for(var P=0;P<K.di.length;P++)K.BD.splice(K.BD.indexOf(O[K.di[P]]),1);K.di=[]}else if(u.d=="deleteAll"){K.BD=[];
K.di=[]}else{K.BD[K.di[0]].v=u;K.cK=!0}this.gm(K)};R.gC.prototype.enable=function(u,g,K,X,w,D){R.N8.prototype.enable.call(this,u,g,K,X,w,D);
if(!K.Pk.BD){var q=new eG(h.E.Y,!0);q.data={d:h.s.zS,M3:hO.wH};g.c(q)}};R.gC.prototype.disable=function(){this.FQ=null;
this.Rz=null};R.gC.prototype.eY=function(u,g,K,X,w){var D=u.t.wQ(w.x,w.y),q=R.gC.mZ(u.BD,D);if(q==-1)return;
this.FQ=u;this.Rz=g;u.di=[q];u.cK=!0;if(this.Op==null){this.Op=new aT([{name:[5,4]},{name:[8,11,1],L2:!0}]);
this.Op.f("select",this.ub,this)}var C=this.Op;C.parent=g;C.N();C.update(u,K);var a=new eG(h.E.Y,!0);
a.data={d:h.s.dC,qD:C,x:w.Tn+2,y:w.GC+1};g.c(a)};R.gC.prototype.ub=function(u){var g=this.Op.l3()[0],K=this.FQ;
if(g==0){this.Oc(K);K.BD.splice(K.di[0],1);K.di=[];K.cK=!0;this.gm(K)}if(g==1){var X=new eG(h.E.Y,!0);
X.data={d:h.s.KP,Pu:"soptions",h:K.BD[K.di[0]].v};this.Rz.c(X)}};R.gC.prototype.R4=function(u,g,K,X,w){if(u==null)return;
this.Oc(u);var D=u.t.wQ(w.x,w.y);D=R.NP.s2(u,D,K,[!0,null,!1]);D.x=Math.round(D.x);D.y=Math.round(D.y);
this.Ee=D;u.BD.unshift(R.gC.fm());u.di=[0];R.gC.Bu(u.BD,0,[D.x,D.y,D.x+20,D.y+20]);u.cK=!0};R.gC.prototype.ai=function(u,g,K,X,w){if(this.wz==null)return;
var D=u.t.wQ(w.x,w.y),q=this.Ee;D=R.NP.s2(u,D,K,[!0,null,!1]);D.x=Math.round(D.x);D.y=Math.round(D.y);
var C=[q.x,q.y,D.x,D.y];R.gC.apR(C);R.gC.Bu(u.BD,0,C);u.cK=!0};R.gC.prototype.RB=function(u,g,K,X,w){this.gm(u);
this.Ee=null};R.gC.prototype.Oc=function(u){this.wz=JSON.stringify(u.BD);this.adg=JSON.stringify(u.di)};
R.gC.prototype.gm=function(u){var g=JSON.stringify(u.BD);if(g!=this.wz){var K=new g9(this.name,this);
K.data={_J:this.wz,yb:g,ab_:this.adg,a9f:JSON.stringify(u.di)};u.AV(K)}this.wz=null};R.gC.prototype.A3=function(u,g){g.BD=JSON.parse(u._J);
g.di=JSON.parse(u.ab_);g.cK=!0};R.gC.prototype.py=function(u,g){g.BD=JSON.parse(u.yb);g.di=JSON.parse(u.a9f);
g.cK=!0};R.gC.prototype.Kx=function(u,g){return g!=null&&g.di.length!=0&&(u==hW.cG||u==hW.jA)};R.gC.prototype.BF=function(u,g,K,X){if(u==null)return;
if(X.a(hW.cG)||X.a(hW.jA))this.RR({d:"delete"},g,u,X,K);var w=X.mj();if(w.x!=0||w.y!=0){this.Oc(u);R.gC.Mc(u,w);
this.gm(u)}};R.gC.prototype.Z7=function(u,g,K,X,w){};R.gC.akt=function(u,g,K,X){var w=new j4(-g.x,-g.y),D=g.m/K.m,q=g.n/K.n,C=[0,0,g.m,g.n];
for(var P=0;P<u.length;P++){var a=R.gC.tK(u,P);if(X){a[0]=Math.round(a[0]*D);a[1]=Math.round(a[1]*q);
a[2]=Math.round(a[2]*D);a[3]=Math.round(a[3]*q)}else{R.gC.qS(a,w);R.gC.a28(a,C)}if(a[0]>=a[2]||a[1]>=a[3]){u.splice(P,1);
P--;continue}R.gC.Bu(u,P,a)}};R.gC.Mc=function(u,g){var K=u.BD;for(var P=0;P<u.di.length;P++){var X=R.gC.tK(K,u.di[P]);
R.gC.qS(X,g);R.gC.Bu(K,u.di[P],X)}};R.gC.a28=function(u,g){if(u[0]<g[0])u[0]=g[0];if(u[1]<g[1])u[1]=g[1];
if(g[2]<u[2])u[2]=g[2];if(g[3]<u[3])u[3]=g[3]};R.gC.qS=function(u,g){u[0]=Math.round(u[0]+g.x);u[2]=Math.round(u[2]+g.x);
u[1]=Math.round(u[1]+g.y);u[3]=Math.round(u[3]+g.y)};R.gC.Bu=function(u,P,g){var K=u[P].v.bounds.v;K.Left.v=g[0];
K.Top.v=g[1];K.Rght.v=g[2];K.Btom.v=g[3]};R.gC.tK=function(u,P){var g=u[P].v.bounds.v;return[g.Left.v,g.Top.v,g.Rght.v,g.Btom.v,P]};
R.gC.apR=function(u){if(u[2]<u[0]){var g=u[0];u[0]=u[2];u[2]=g}if(u[2]==u[0])u[2]++;if(u[3]<u[1]){var g=u[1];
u[1]=u[3];u[3]=g}if(u[3]==u[1])u[3]++};R.gC.pj=function(u,g){var K=1e9,X=-1e9,w=1e9,D=-1e9;for(var P=0;
P<g.length;P++){var q=R.gC.tK(u,g[P]);K=Math.min(K,q[0]);w=Math.min(w,q[1]);X=Math.max(X,q[2]);D=Math.max(D,q[3])}return[K,w,X,D]};
R.gC.fm=function(){return{t:"Objc",v:{classID:"slice",sliceID:{t:"long",v:0},groupID:{t:"long",v:0},origin:{t:"enum",v:{ESliceOrigin:"userGenerated"}},Type:{t:"enum",v:{ESliceType:"Img"}},bounds:{t:"Objc",v:{classID:"Rct1",Top:{t:"long",v:0},Left:{t:"long",v:0},Btom:{t:"long",v:0},Rght:{t:"long",v:0}}},url:{t:"TEXT",v:""},null:{t:"TEXT",v:""},Msge:{t:"TEXT",v:""},altTag:{t:"TEXT",v:""},cellTextIsHTML:{t:"bool",v:!0},cellText:{t:"TEXT",v:""},horzAlign:{t:"enum",v:{ESliceHorzAlign:"default"}},vertAlign:{t:"enum",v:{ESliceVertAlign:"default"}},bgColorType:{t:"enum",v:{ESliceBGColorType:"None"}},topOutset:{t:"long",v:0},leftOutset:{t:"long",v:0},bottomOutset:{t:"long",v:0},rightOutset:{t:"long",v:0}}}};
R.b5=function(){R.gC.call(this,[10,41],R.Y3,"tools/sselect");this.Ee=null;this.CT=null;this.Tl=null;
this.xK=null;this.E7=!1};R.b5.prototype=new R.gC;R.b5.prototype.R4=function(u,g,K,X,w){if(u==null)return;
var D=u.t.wQ(w.x,w.y),q=R.b5.aic(D,4/u.t.P,u.BD,u.di);q.pop();if(q.length!=0){this.Ee=D;this.Tl=q;this.Oc(u);
return}var C=u.BD,a=R.gC.mZ(C,D);if(a==-1)u.di=[];else{var x=u.di.indexOf(a);if(X.a(hW.jl)){if(x==-1)u.di.push(a);
else u.di.splice(x,1)}else{u.di.sort(function(O,A){return O-A});if(x==-1)u.di=[a];this.Ee=D;this.Oc(u);
this.CT=R.gC.pj(C,u.di);this.xK=[];for(var P=0;P<u.di.length;P++)this.xK.push(R.gC.tK(C,u.di[P]));if(X.a(hW.Dd)){var H=C.slice(0),$=u.di,r=[];
for(var P=0;P<$.length;P++){var a=$[P],c=H[a],U=C.indexOf(c);r.push(U);C.splice(U,0,JSON.parse(JSON.stringify(c)))}u.di=r}}}u.cK=!0};
R.b5.prototype.ai=function(u,g,K,X,w){var D=u.t.wQ(w.x,w.y);if(this.Ee==null){var q=R.b5.aic(D,4/u.t.P,u.BD,u.di),C=q.pop(),a=q.length==0?"default":["ew","nwse","ns","nesw"][C]+"-resize",x=new eG(h.E.Y,!0);
x.data={d:h.s.Tx,SD:a};g.c(x);return}if(!this.E7&&D.$z(this.Ee))return;this.E7=!0;var H=u.BD,q=this.Tl;
if(q){D=R.NP.s2(u,D,K,[!0,null,!1]);var $=Math.round(D.x),r=Math.round(D.y);for(var P=0;P<q.length;P+=2){var c=R.gC.tK(H,q[P]),U=q[P+1];
c[U]=(U&1)==0?$:r;R.gC.apR(c);R.gC.Bu(H,q[P],c)}}else{var O=D.tm(this.Ee),A=this.CT.slice(0);R.gC.qS(A,O);
var m=new dS(A[0],A[1],A[2]-A[0],A[3]-A[1]),i=R.NP.tl(u,m,K,[!0,null,!1],!0);R.NP.Pf(u,m,i);O.x+=i[0];
O.y+=i[1];for(var P=0;P<u.di.length;P++)R.gC.Bu(H,u.di[P],this.xK[P]);R.gC.Mc(u,O)}u.cK=!0};R.b5.prototype.RB=function(u,g,K,X,w){if(this.Ee==null)return;
this.gm(u);u.H.Ba=null;u.cK=!0;this.Ee=null;this.Tl=null;this.xK=null;this.E7=!1};R.b5.aic=function(u,g,K,X){var w=u.x,D=u.y,q=[],C=-1,a=[];
for(var P=0;P<X.length;P++){var x=X[P],H=R.gC.tK(K,x),$=H[0],r=H[1],c=H[2],U=H[3];if(w<$-g||c+g<w||D<r-g||U+g<D)continue;
var O=[w<$+g,D<r+g,c-g<w,U-g<D],A=-1;for(var m=0;m<4;m++){if(O[m]&&O[m+1&3])A=1+2*(m&1);if(O[m])q.push(x,m)}if(A==-1){if(O[0]||O[2])A=0;
if(O[1]||O[3])A=2}if(A!=-1){C=A;a.push(x)}}var i=q.length;for(var P=0;P<i;P+=2){var x=q[P],e=q[P+1],S=R.gC.tK(K,x)[e];
for(var m=0;m<X.length;m++){var E=X[m];if(a.indexOf(E)!=-1)continue;var H=R.gC.tK(K,E);if(H[e&1]==S)q.push(E,e&1);
if(H[2+(e&1)]==S)q.push(E,2+(e&1))}}q.push(C);return q};R.kG=function(){R.uO.call(this,[10,44],R.S2,"tools/oselect");
this.B1="crosshair";this.ava=0};R.kG.prototype=new R.uO;R.kG.prototype.o1=function(u,g,K,X){if(Math.random()<1/(1+this.ava)){alert("The cross should be fully inside the object.",3500);
this.ava++}};R.kG.prototype.XS=function(u,g,K,X){R.tv.in(u,R.uO.OW,this.Rz);if(!X.HT||!this.Cu)return;
var w=this.WA(u,K,!1),D=w.m,q=w.n,C=w.x,a=w.y,x=w.x+D,H=w.y+q,$=C+D/2,r=a+q/2,c=R.kG.a5U;u.H.vn={v:[C,a,x,a,x,H,C,H,$-D*c,r,$+D*c,r,$,r-q*c,$,r+q*c],F:"M L L L Z M L M L".split(" ")};
u.cK=!0};R.kG.a5U=.12;R.kG.prototype.ws=function(u,g,K,X){u.H.vn=null;u.cK=!0;this.finish(u,g,K,X)};
R.kG.prototype.getSelection=function(u,g,K,X){if(this.B0.$z(this.Wu)||!this.Cu)return null;var w=this.WA(u,K,!1),D=u.g[u.z[0]];
if(w.fg()||!w.Vg(D.rect))return null;return R.uO.nv("ObSl",w)};R.tv=function(){R.Xo.call(this,[10,37],R.YB,"tools/qselect");
this.z2="qselect"};R.tv.prototype=new R.Xo;R.tv.prototype.R4=function(u,g,K,X,w){R.tv.in(u,R.uO.OW,g,!0);
this.aH(u,K,X,w,1);if(this.vD==null)return;this.J0(u)};R.tv.prototype.ai=function(u,g,K,X,w){this.jB(u,g,K);
R.tv.in(u,R.uO.OW,g);if(this.ar)this.Bf(u,K,w);if(this.vD==null)return;if(!w.HT)return;var D=this.ja(u,K,X,w);
if(D!=1)this.J0(u)};R.tv.in=function(u,g,K,X){if(u&&g.key!=R.tv.r3(u)){g.key=R.tv.r3(u);var w=u.g[u.z[0]].rect.$(),q="Image Analysis ...";
if(w==0)return;var D=w>1e6&&X!=!0,C=new eG(h.E.Y,!0);C.data={d:h.s.fE,Yo:q};if(D)K.c(C);var a=function(){var x=R.tv.anX(u);
for(var H in x)g[H]=x[H];var C=new eG(h.E.Y,!0);C.data={d:h.s.Rf,Yo:q};if(D)K.c(C)};if(X)a();else setTimeout(a,30)}};
R.tv.r3=function(u){var g=u.z[0],K=u.g[g],X=K.rect,w=X.m,D=X.n,q=w*D,C=K.buffer;return[g,X.x,X.y,w,D,C[0],C[1],C[2],C[3]].join(",")};
R.tv.anX=function(u){var g=u.z[0],K=u.g[g],X=K.rect,w=X.m,D=X.n,q=w*D,C=K.buffer,a=Date.now(),x=f.L(q);
x.fill(128);var H=f.ec.NB(C,w,D);console.log(Date.now()-a);var $={key:R.tv.r3(u),N$:C,rect:X.clone(),QM:w,xQ:D,tY:12,aie:!1,fs:x,sn:H,q:f.L(q),RJ:null,eK:null,Np:null};
R.tv.D8($);return $};R.tv.D8=function(u,g){var K=u.QM,X=u.xQ,w=0,D=0,q=Date.now(),C=u.RJ!=null&&f.ec.ajC(u.sn.eb,u.RJ.eb,u.RJ.ex,u.fs);
w=Date.now()-q;q=Date.now();if(!C&&!u.aie){u.RJ=f.ec.aZ(u.sn,K,X,u.fs,u.tY);if(!f.ec.ajC(u.sn.eb,u.RJ.eb,u.RJ.ex,u.fs)){u.aie=!0;
console.log("conflict")}u.eK=f.ec.a64(u.N$,K,X,u.RJ.eb,u.RJ.ex);u.Np=[u.eK[0].slice(0),[]];D=Date.now()-q;
q=Date.now()}var q=Date.now();if(g){u.Np[0].set(u.eK[0]);var a=u.eK[1],x=u.Np[1];for(var H=0;H<a.length;
H++)x[H]=a[H].slice(0);f.ec.aut(u.RJ.eb,K,X,u.RJ.ex,u.fs,u.q,u.Np)}};R.x0=function(){R.N8.call(this,[10,50],R.ZQ,"tools/artb");
this.PA=null;this.KQ=!1;this.EF=null;this.DU=!1;this.acG=null;this.y1=100;this.Fi=null;this.w$=0};R.x0.prototype=new R.N8;
R.x0.prototype.RR=function(u,g,K,X,w){this.E$(K,u.a1v,g,u.Yw)};R.x0.awL=function(u,g){var K=u[0],X=0,w=0;
if(K==0)w=-1;else if(K==1)X=1;else if(K==2)w=1;else X=-1;return[20/g.rP,u[1]+X*60/g.rP,u[2]+w*60/g.rP]};
R.x0.prototype.Z7=function(u,g,K,X,w){this.PA=u.M3;this.w$=Date.now()};R.x0.prototype.DB=function(u,g,K,X){if(K.Wp!=this.id)return;
if(u==null||u.z.length!=1){this.b2(u);return}var w=u.z[0],D=u.g[w],q=D.add.artb;if(q==null){this.b2(u);
return}if(this.DU)return;if(Date.now()-this.w$>50){this.PA={};var C=["artboardBackgroundType","Clr"];
for(var P=0;P<C.length;P++)if(q[C[P]])this.PA[C[P]]=JSON.parse(JSON.stringify(q[C[P]]));var a=new eG(h.E.Y,!0);
a.data={d:h.s.SI,b:this.id,YW:this.PA};g.c(a)}var x=D.T0(),H=f.p.JS(x).v,$=this.EF=new cR(H,!0,!1,!1,!0,!1,3,!1);
$.mr(u,K,!1);var r={v:[1,0],F:["M"]};for(var P=1;P<30;P++){var c=Math.PI*2*P/30;r.v.push(Math.cos(c),Math.sin(c));
r.F.push("L")}r.F.push("Z","M","L","M","L");r.v.push(-.5,0,.5,0,0,-.5,0,.5);var U=x.x+x.m/2,O=x.y+x.n/2,A=this.y1*1.1,m=this.acG=[U,x.y,x.x+x.m,O,U,x.y+x.n,x.x,O],i=[0,-A,A,0,0,A,-A,0],e=u.root.children;
u.H.dx=[];for(var P=0;P<4;P++){var S=new j4(m[P*2]+i[P*2],m[P*2+1]+i[P*2+1]),E=!1;for(var Z=0;Z<e.length;
Z++){var D=e[Z].j;if(D.add.artb==null)continue;var x=D.T0();if(x.TB(S))E=!0}if(E){m[P*2]=1e9;continue}u.H.dx.push([P,m[P*2],m[P*2+1]])}};
R.x0.prototype.disable=function(u,g,K,X,w){this.b2(u)};R.x0.prototype.b2=function(u){if(this.EF){this.EF.clear(u);
this.EF=null;u.H.dx=null}};R.x0.prototype.R4=function(u,g,K,X,w){this.w$=Date.now();var D=u.t.wQ(w.x,w.y),q=this.EF;
if(q){var C=new eG(h.E.l),a=q.ahF(null,D,u,w);if(a<9){this.DU=q.R4(u,K,X,D,null,!0,w);return}else if(q.yB(D)){C.b=R.Hx;
C.data={d:"disabAuto"};g.c(C);var x=new eG(h.E.Y);x.data={d:h.s.LK,b:R.Hx,aam:!0};g.c(x);return}else{var H=-1,$=u.H.dx;
for(var P=0;P<$.length;P++){var r=R.x0.awL($[P],u.t);if(j4.uh(D,new j4(r[1],r[2]))<r[0])H=$[P][0]}if(H!=-1){var c=u.g[u.z[0]].T0(),U=c.clone(),O=(H==0||H==2?c.n:c.m)+this.y1;
if(H==0||H==3)O=-O;if(H==0||H==2)c.y+=O;else c.x+=O;if(X.a(hW.Dd)){var A=new dS(0,0,u.m,u.n);C.b=R.QA;
C.data={d:l.bm};g.c(C);R.NP.rI(u,u.C6(null,u.z[0],null,!0),null,c.x-U.x,c.y-U.y);var m=R.SO.CE(u);if(m){var i=u.mM();
i.data.vf=A;i.data.Lu=m}u.z=i.data.eh=u.z.slice(u.z.length-1)}else this.E$(u,c,g);return}}}this.Fi=R.NP.s2(u,D,K)};
R.x0.prototype.E$=function(u,g,K,X){if(X==null)X=0;var w=u.g.slice(0),D=[u.g.length+1],q=u.Wk();q.Q9(fc.get([1,16,0])+" "+(u.add.artd==null?1:u.root.children.length+1));
q.add.lsct=g4.DM;q.ab(g);if(this.PA){var C=q.add.artb,a=this.PA;for(var x in a)C[x]=a[x]}q.wS="pass";
q.R3=24;if(X==0){if(u.add.artd||g.I3(new dS(0,0,u.m,u.n)).fg())w.push(u.z1());else w.unshift(u.z1())}else{var H=u.C6();
H.sort(function(O,A){return O-A});var $=R.aD.GG(u,H,w.length-1,!1,null,!1),r=$.pop(),c=$.pop();w=$.pop();
w.splice(u.g.length-H.length,0,u.z1())}w.push(q);var U=new eG(h.E.l);U.b=R.QA;U.data={d:l.Cv,j1:w,V5:D,Uz:[1,16,2]};
K.c(U)};R.x0.prototype.ai=function(u,g,K,X,w){var D=u.t.wQ(w.x,w.y),q=this.EF,C=this.Fi;if(q){if(this.DU){q.ai(u,K,X,D)}else{var a=q.vw(D,u.t.P,null,w);
if(a==null)a="default";var x=new eG(h.E.Y,!0);x.data={d:h.s.Tx,SD:a};g.c(x)}}if(C){var H=this.tK(u,D,X,K);
u.H.vn=f.p.JS(H);u.cK=!0;R.N8.wJ(w,H,u,K)}};R.x0.prototype.RB=function(u,g,K,X,w){var D=u.t.wQ(w.x,w.y),q=this.Fi;
if(this.DU){this.EF.RB(u,K,X,D);this.DU=!1;var C=f.p.Ha(this.EF.zP()),a=l.PN(C),x=u.g[u.z[0]],H=JSON.parse(JSON.stringify(x.add.artb));
H.artboardRect.v=a;var $=new eG(h.E.l,!0);$.b=R.QA;$.data={d:l.fK,sd:H};g.c($)}if(q){var r=this.tK(u,D,X,K);
if(r.$()>20)this.E$(u,r,g);u.H.vn=null;u.cK=!0;this.Fi=null;u.H.kj=[]}};R.x0.prototype.tK=function(u,g,K,X){var w=this.Fi,D=R.NP.s2(u,g,X),q=R.kN.ts(w,D,K,!0);
w=q[0];D=q[1];return f.p.Ha([w.x,w.y,D.x,D.y])};function cR(u,g,K,X,w,D,q,C){this.US=null;this.WS=u?u.slice(0):null;
this._h=4;this.Wu=null;this.Nu=null;this.zn=null;this.w8=-1;this.Kj=null;this.a2$=!1;this.a5u=[];for(var P=0;
P<8;P++)this.a5u.push(eH.a89(0,PIMG.rotate,-.5,-.5,-45-P*45));this.av5=g;this.a8m=K;this.agk=X;this.a4_=w;
this.BS=D;this.Yw=q;this.asS=C==null?1:C}cR.prototype.agm=function(){return this.w8!=-1};cR.prototype.zP=function(){return this.WS.slice(0)};
cR.prototype.xw=function(u){this.WS=u};cR.prototype.ahZ=function(){return this._F(this.WS)};cR.prototype.a60=function(){return this._h};
cR.prototype.ajg=function(u){this._h=u};cR.prototype.sR=function(u){if(u==null)u=this.WS;if(this._h==9)return this.Wu;
else return this._F(u)[this._h]};cR.prototype.awJ=function(u){if(this._h==9)this.Wu=u.clone();else{var g=this.sR(),K=new eV(1,0,0,1,u.x-g.x,u.y-g.y);
f.p.D(this.WS,K,this.WS)}};cR.prototype.vw=function(u,g,K,X){var w=this.FO(null,u,g,X),D;if(w==9)return"default";
if(w==10){if(K)return null;return!this.av5?"move":null}if(w==-1||w==4)return null;if(w==11){var q=this.sR().tm(u);
D=90-Math.atan2(q.y,q.x)*180/Math.PI;var C=Math.round(8*(D/360));C=(C+8)%8;return this.a5u[C]}else{var a=this.da(u,this.WS);
D=[135,90,45,180,0,0,225,270,315][w];var x=f.Q.xZ(this.WS);D+=Math.atan2(-x[3],x[0])*180/Math.PI;var H="ew nesw ns nwse ew nesw ns nwse".split(" "),C=Math.round(8*(D/360));
C=(C+8)%8;return H[C]+"-resize"}};cR.prototype.da=function(u,g){var K=f.Q.CD(f.Q.xZ(g)),X=new Float64Array(2);
f.Q.oT(u.x,u.y,K,X);return new j4(X[0],X[1])};cR.prototype.yB=function(u){var g=this.da(u,this.WS);return 0<=g.x&&g.x<=1&&0<=g.y&&g.y<=1};
cR.prototype.R4=function(u,g,K,X,w,D,q,C){this.a2$=D;this.Kj=X;var a=u.t.P,x;if(this.WS==null)X=R.NP.s2(u,X,g);
this.zn=X.clone();if(this.WS==null){if(C==null)C=0;var H=new eV;H.rotate(C);var $=H.HB(new j4(1,1));
this.zn.offset($.x,$.y);var r=w==null?1:1/w,c=this.WS=[0,0,1,0,1,r,0,r];H.translate(X.x,X.y);f.p.D(this.WS,H,this.WS);
x=8}else{x=this.FO(K,X,a,q);if(0<=x&&x<=8)this.zn=this._F(this.WS)[x];if(x==9){this._h=9;this.Wu=X.clone()}}this.US=this.WS.slice(0);
this.w8=x;this.mr(u,g);this.Nu=this.sR();return x!=-1};cR.prototype.ahF=function(u,g,K,X){return this.FO(u,g,K.t.P,X)};
cR.prototype.FO=function(u,g,K,X){var w=-1,D=this._F(),q=[0,2,6,8,1,3,5,7],C=X?R.jz({t:{P:K}},X):8*R.Z()/K;
if(w==-1)if(j4.uh(this.sR(),g)<C)w=9;if(w==-1)for(var P=0;P<q.length;P++)if(j4.uh(D[q[P]],g)<C)w=q[P];
if(w==-1&&u&&u.a(hW.Dd))w=9;if(w==-1||this.Yw==4){if(this.yB(g)){if(this.av5)w=10}else{var a=this.da(g,this.WS),x=new dS(0,0,1,1);
x.wu(.2,.2);w=x.TB(a)&&this.Yw!=3?11:10}}return w};cR.prototype.ai=function(u,g,K,X){if(this.w8==-1)return;
this.Kj=X;var w=K.a(hW.jl),D=K.a(hW.Dd),q=K.a(hW.A5),C=u.t.P,a=this.zn,x=this.w8,H=this._F(),$=R.NP.s2(u,a,g),r=R.NP.s2(u,X,g),c,U;
if(x==9){var H=this._F(),O=-1;for(var P=0;P<H.length;P++)if(j4.uh(H[P],r)*C<10)O=P;this._h=O==-1?9:O;
this.Wu=w?R.xR.AH($,r):r.clone()}else if(x==10){U=f.p.pj(this.US);var A=U.x,m=U.y;U.offset(X.x-a.x,X.y-a.y);
if(this.a2i()){U.x=Math.round(U.x);U.y=Math.round(U.y)}c=R.NP.tl(u,U,g);var i=new eV(1,0,0,1,U.x-A+c[0],U.y-m+c[1]);
f.p.D(this.US,i,this.WS)}else if(x==11){var e=this.sR(this.US),S=e.tm(X),E=e.tm(a),Z=Math.atan2(S.y,S.x),N=Math.atan2(E.y,E.x),i=new eV(1,0,0,1,-e.x,-e.y),J=Math.PI/12;
if(w)i.rotate(Math.round((N-Z)/J)*J);else i.rotate(N-Z);i.translate(e.x,e.y);f.p.D(this.US,i,this.WS)}else{var y,o=this.US,B=x==0||x==2||x==6||x==8;
if(this.Yw==1){if(B)w=D=q=!0}else if(this.Yw==2&&B&&this.a2$!=!0)q=!0;if(this.Yw==3)q=!1;if(this.agk&&B&&q){var P=[0,0,2,0,0,0,6,0,4,0][x],t=-1,W=r.x,F=r.y;
if(w){var G=P+6&7,L=P+10&7,Q=cR.a1t(o[P],o[P+1],o[G],o[G+1],r.x,r.y),T=cR.a1t(o[P],o[P+1],o[L],o[L+1],r.x,r.y),j=Q[2]<T[2]?Q:T;
W=j[0];F=j[1];if(D)t=Q[2]<T[2]?G:L}else if(D)t=P+4&7;y=o.slice(0);if(t!=-1){var p=o[t],M=o[t+1],n=(o[P]+p)/2,d=(o[P+1]+M)/2;
y[t]=n-(W-n);y[t+1]=d-(F-d)}y[P]=W;y[P+1]=F}else if(B&&D){var e=this.Nu,V=e.x,z=e.y,I=$.x-V,v=$.y-z,gj=1,jA=1;
if(Math.abs(I)>=1)gj=(r.x-V)/I;if(Math.abs(v)>=1)jA=(r.y-z)/v;if(w||this.BS)gj=jA=(gj+jA)/2;var i=new eV;
i.translate(-V,-z);i.scale(gj,jA);i.translate(V,z);y=o.slice(0);f.p.D(y,i,y)}else{if(this.a2i()){r.x=Math.round(r.x);
r.y=Math.round(r.y)}var Y=[0,1,2,5,8,7,6,3],jv=Y[(Y.indexOf(x)+4)%8],iR=[];for(var P=0;P<3;P++)for(var t=0;
t<3;t++)iR.push(new j4(t/2,P/2));var e=this.Nu,cj=this.da(r,o),j8=this.da(a,o),as=D&&(this._h==4||this._h==9)?this.da(e,o):iR[jv],gW=new eV,af=new eV,gj=(cj.x-as.x)/(j8.x-as.x);
if(gj==0)gj=1e-4;var jA=(cj.y-as.y)/(j8.y-as.y);if(jA==0)jA=1e-4;if(this.a4_){gj=Math.max(gj,0);jA=Math.max(jA,0)}if(x==0||x==2||x==6||x==8){if(w||this.BS)gW.scale(gj,gj);
else gW.scale(gj,jA)}if(x==1||x==3||x==5||x==7){var at=this.BS;if(x==1||x==7)gW.scale(at?jA:1,jA);else gW.scale(gj,at?gj:1);
if(this.a8m&&q){if(x==1||x==7)af.nA=(cj.x-as.x)/(cj.y-as.y);else af.U=(cj.y-as.y)/(cj.x-as.x)}}var i=new eV;
i.translate(-as.x,-as.y);i.concat(gW);i.concat(af);i.translate(as.x,as.y);y=[0,0,1,0,1,1,0,1];f.p.D(y,i,y);
var j=f.Q.xZ(o);f.Q.D(j,y)}if(cR.u5(y))this.WS=y}this.mr(u,g);if(c)R.NP.Pf(u,U,c)};cR.a1t=function(u,g,K,X,w,D){var q=K-u,C=X-g,a=w-u,x=D-g,H=q*q+C*C,$=a*q+x*C,r=$/H,c=u+r*q,U=g+r*C,O=w-c,A=D-U;
return[c,U,Math.sqrt(O*O+A*A)]};cR.prototype.a2i=function(){var u=this.WS;return Math.abs(u[1]-u[3])<1e-6&&Math.abs(u[2]-u[4])<1e-6||Math.abs(u[0]-u[2])<1e-6&&Math.abs(u[3]-u[5])<1e-6};
cR.u5=function(u){return f.p.Gk(u)||f.p.Gk([u[6],u[7],u[4],u[5],u[2],u[3],u[0],u[1]])};cR.prototype.RB=function(u,g,K,X){this.w8=-1;
this.Kj=null;u.H.Ba=null;u.H.kj=[];u.cK=!0};cR.prototype.BF=function(u,g,K){var X=K.mj();if(X.x||X.y){var w=new eV(1,0,0,1,X.x,X.y);
f.p.D(this.WS,w,this.WS);this.mr(u,g);return!0}return!1};cR.prototype._F=function(u){if(u==null)u=this.WS;
var g=u[6]-u[0],K=u[7]-u[1],X=u[4]-u[2],w=u[5]-u[3],D=[u[0],u[1],u[2],u[3],u[0]+g/2,u[1]+K/2,u[2]+X/2,u[3]+w/2,u[6],u[7],u[4],u[5]],q=[];
for(var P=0;P<3;P++){var C=P*4,a=D[C+0],x=D[C+1],H=D[C+2],$=D[C+3];q.push(new j4(a,x));q.push(new j4(a+(H-a)/2,x+($-x)/2));
q.push(new j4(H,$))}return q};cR.prototype.mr=function(u,g,K){if(K==null)K=!1;var X=this._F(),w=X[0],D=X[2],q=X[6],C=X[8];
u.H.vn={F:[],v:[]};u.H.vn.F.push("M","L","L","L","Z");u.H.vn.v.push(w.x,w.y,D.x,D.y,C.x,C.y,q.x,q.y);
var a=this.asS;if(a>1){var x=D.tm(w),H=q.tm(w),$=C.tm(D),r=C.tm(q);for(var P=1;P<a;P++){u.H.vn.F.push("M","L","M","L");
var c=P/a;u.H.vn.v.push(w.x+x.x*c,w.y+x.y*c,q.x+r.x*c,q.y+r.y*c);u.H.vn.v.push(w.x+H.x*c,w.y+H.y*c,D.x+$.x*c,D.y+$.y*c)}}u.t.T9=new dS(0,0,j4.uh(X[0],X[2]),j4.uh(X[0],X[6]));
if(this.w8!=-1&&this.w8<9&&this.Kj){var U=u.t.h5(this.Kj.x,this.Kj.y);R.N8.wJ(U,u.t.T9,u,g)}if(!K){u.H.hR=[];
for(var P=0;P<X.length;P++)if(P!=4)u.H.hR.push(X[P].x,X[P].y);var O=this.sR();u.H.hR.push(O.x,O.y)}u.cK=!0};
cR.prototype.clear=function(u){u.t.T9=null;u.H.Ba=null;u.H.vn=null;u.H.hR=[];u.cK=!0};function gn(u,g){this.zv=null;
this.w8=-1;this.aeT(u)}gn.prototype.ZH=function(){return JSON.parse(JSON.stringify(this.zv))};gn.prototype.aeT=function(u){this.zv=JSON.parse(JSON.stringify(u))};
gn.prototype.yB=function(u){return!0};gn.prototype.vw=function(u,g,K,X){var w=this.FO(u,g,X);if(w==-1)return"default";
return"pointer"};gn.prototype.R4=function(u,g,K,X,w,D,q){this.w8=this.FO(X,u.t.P,q);return this.w8!=-1};
gn.prototype.FO=function(u,g,K){var X=this.axe(),w=-1,D=1e6;for(var P=0;P<X.length;P++){var q=j4.uh(X[P],u);
if(q<D){w=P;D=q}}return D<(K?R.jz({t:{P:g}},K)*2:20*R.Z()/g)?w:-1};gn.prototype.ai=function(u,g,K,X){if(this.w8==-1)return;
var w=u.t.P,D=this.w8,q=f.zv.s8(this.zv);q[D*2]=X.x;q[D*2+1]=X.y;f.zv.vU(q,this.zv)};gn.prototype.RB=function(u,g,K,X){this.w8=-1;
u.cK=!0};gn.prototype.BF=function(u,g,K){var X=K.mj();if(X.x||X.y){var w=new eV(1,0,0,1,X.x,X.y);f.p.D(this.WS,w,this.WS);
this.mr(u)}};gn.prototype.axe=function(u){var g=f.zv.s8(this.zv),K=[];for(var P=0;P<g.length;P+=2)K.push(new j4(g[P],g[P+1]));
return K};gn.prototype.mr=function(u){var g=this.axe();u.H.vn={F:[],v:[]};u.H.vn.F.push("M","C","C","C","C");
var K=[0,1,2,3,7,11,15,14,13,12,8,4,0];for(var P=0;P<K.length;P++)u.H.vn.v.push(g[K[P]].x,g[K[P]].y);
u.H.vn.F.push("M","L","L","M","L","L","M","L","L","M","L","L");K=[4,0,1,2,3,7,11,15,14,13,12,8];for(var P=0;
P<K.length;P++)u.H.vn.v.push(g[K[P]].x,g[K[P]].y);u.H.hR=[];for(var P=0;P<g.length;P++)u.H.hR.push(g[P].x,g[P].y);
u.cK=!0};gn.prototype.clear=function(u){u.H.vn=null;u.H.hR=[];u.cK=!0};function jX(){this.H7=!1;this.nB=!1;
this.a7Q=!1;this.a9q=!1;this.E1=!1;this.VH=!1;this.bf=0;this.jD=0}jX.prototype.R4=function(u){this.H7=!0;
this.nB=!1;this.E1=u.a(hW.jl);this.VH=u.a(hW.Dd);this.bf=this.E1?0:1;this.jD=this.VH?0:1};jX.prototype.BF=function(u){var g=this.a9q=u.a(hW.jl),K=this.a7Q=u.a(hW.Dd);
if(this.nB){if(this.bf==0&&!g)this.bf++;if(this.bf==1&&g)this.bf++;if(this.jD==0&&!K)this.jD++;if(this.jD==1&&K)this.jD++}};
jX.prototype.ai=function(){this.nB=!0};jX.prototype.RB=function(){this.H7=!1};jX.prototype.TO=function(P){if(P==0)return this.H7?this.VH:this.a7Q;
if(P==1)return this.nB?this.jD==2:!1};jX.prototype.IC=function(P){if(P==0)return this.H7?this.E1:this.a9q;
if(P==1)return this.nB?this.bf==2:!1};R.History=function(){R.N8.call(this,"History",R.QV);this.cD=!0;
this.a1B=0};R.History.prototype=new R.N8;R.History.prototype.RR=function(u,g,K,X){K.vH=!0;if(u.d=="h_itemchange"){if(u.index<K.YQ)for(var P=K.YQ;
P>u.index;P--)this.A9(K);if(u.index>K.YQ)for(var P=K.YQ;P<u.index;P++)this.SV(K)}if(u.d=="h_stepfwd")this.SV(K);
if(u.d=="h_stepbck")this.A9(K);if(u.d=="h_undoredo"){var w=this.cD||this.a1B!=K.YQ;if(w){this.A9(K);
w=!1}else{this.SV(K);w=!0}this.cD=w;this.a1B=K.YQ}if(u.d=="h_clear"){if(!window.confirm("Do you really want to clear all states in History? You won't be able to undo it."))return;
K.history=[new g9([1,0],null)];K.YQ=0}else this.cD=!0};R.History.prototype.A9=function(u){if(u.YQ==0)return;
var g=u.history[u.YQ];g.b.A3(g.data,u);u.YQ--};R.History.prototype.SV=function(u){if(u.YQ==u.history.length-1)return;
var g=u.history[u.YQ+1];g.b.py(g.data,u);u.YQ++};R.aD=function(){R.N8.call(this,"Layers",R.QA);this.Rz=null};
R.aD.prototype=new R.N8;R.aD.prototype.RR=function(u,g,K,X,w){this.Rz=g;var D=u.d,q=u.j!=null?u.j:K.z.length!=0?K.z[0]:K.g.length-1,C=K.g[q];
K.X5=!0;var a=X.a(hW.Dd),x=X.a(hW.jl),H=X.a(hW.A5);if(D==l.zJ&&K.q==null&&(K.z.length>1||!K.KL(!1)))D=l.bm;
if(D==l.WG){var $=new g9([6,33],this),r=C.xp()?["pass"].concat(b0.t8):b0.t8,c=r[u.a5],U=u.j!=null?[u.j]:K.z,O=JSON.stringify(U),A=[];
for(var P=0;P<U.length;P++)A.push(K.g[U[P]].wS);$.data={d:D,t7:O,EP:A,a5:c};K.AV($);this.py($.data,K);
this.track(bd.kl("Md",{t:"enum",v:{BlnM:b0.HF(c)}}))}if(D==l.f2){var $,m=K.mM(),U=u.j!=null?[u.j]:K.z,O=JSON.stringify(U);
if(m&&m.data&&m.data.d==D&&m.data.t7==O)$=m;else{var i=bd.kl("Opct",{t:"UntF",v:{type:"#Prc",val:0}});
this.track(i);var A=[];for(var P=0;P<U.length;P++)A.push(K.g[U[P]].opacity);$=new g9([6,32],this);$.data={d:D,t7:O,EP:A,a5:u.a5,RI:i.NA};
K.AV($)}$.data.a5=u.a5;$.data.RI.T.v.Opct.v.val=Math.round(u.a5*100/255);this.py($.data,K)}if(D==l.HR){if(C.add.iOpa==null)C.add.iOpa=255;
var $,m=K.mM();if(m&&m.data&&m.data.d==D&&m.data.j==q)$=m;else{$=new g9("Fill Opacity Change",this);
$.data={d:D,j:q,EP:C.add.iOpa,a5:u.a5};K.AV($)}$.data.a5=u.a5;this.py($.data,K)}if(D==l.gB){var e=u.a5,S=u.j!=null?[u.j]:K.z.slice(0),E=[],Z=[],$;
for(var N=0;N<S.length;N++){var J=K.g[S[N]];if(J.add.lspf==null)J.add.lspf=0;var A=J.add.lspf,c=A;for(var P=0;
P<e[0].length;P++){var y=e[1][P],o=1<<y;if((c&o)==0&&e[0][P])c^=o;else if((c&o)!=0&&!e[0][P])c^=o}E.push(A);
Z.push(c)}var m=K.mM(),U=JSON.stringify(S);if(m&&m.data&&m.data.d==D&&JSON.stringify(m.data.t7)==U){$=m;
$.data.a5=Z}else{var $=new g9([6,57,1],this);$.data={d:D,t7:U,EP:E,a5:Z};K.AV($)}this.py($.data,K)}if(D==l.ry){var B="----",t=u.S_,c=null;
for(var P=0;P<dX.HO.BI.length;P++)if(C.add[dX.HO.BI[P]])B=dX.HO.BI[P];var W=C.add[B];if(t=="TySh")c=fS.t5(50,50,w.vF);
var $=new g9("Layer Type",this);$.data={d:D,j:q,aih:[B,W],S_:[t,c]};K.AV($);this.py($.data,K)}if(D==l.Lf){var S=[];
if(a){var F=K.mM(),G=F?F.data:null;if(F!=null&&F.b==this&&G.d==l.Lf&&G.t7.length!=1){var L=new eG(h.E.l);
L.b=R.QV;L.data={d:"h_stepbck"};g.c(L);if(G.j==q)return}var Q=K.root.WX(q),T=K.C6(null,q);while(Q.parent!=K.root){T.push(Q.parent.index);
Q=Q.parent}for(var P=0;P<K.g.length;P++){var j=K.g[P],p=j.AG(),M=T.indexOf(P)!=-1;if(!M&&p)S.push(P);
if(P==q&&!p)S.push(P)}}else if(u.t7)S=u.t7;else{S.push(q);var p=K.g[q].AG(),i={$T:p?"hide":"show",NA:{classID:p?"Hd":"Shw",null:{t:"VlLs",v:[bd.Af("Lyr",!0)]}}};
this.track(i)}var $=new g9("Layer visibility",this,!0);$.data={d:D,t7:S,j:q};K.AV($);this.py($.data,K)}if(D==l.pY){if(w.Wp==R.ZQ){var n=new eG(h.E.Y);
n.data={d:h.s.LK,b:R.Hx};g.c(n)}var d=u.a82,V=u.Ep,v,escape=!1,jv=!1;if(u.im){if(H&&(V==0||V==1||V==2)){var z=0;
if(x)z++;if(a)z+=2;var I=new eG(h.E.l,!0);I.b=R.C1;I.data={d:"fromlayer",ZX:[u.j,V,z]};g.c(I);return}}var i={$T:"select",NA:{classID:"null",MkVs:{t:"bool",v:!1}}};
if(K.t.PK.join("")!="111"){K.t.PK=[1,1,1];K.cK=!0}for(var P=0;P<K.g.length;P++){var j=K.g[P],gj=j.add.vmsk;
if(j.ov()){var jA=j.nE(K);if(jA&&jA.B&&jA.B.dd){jA.B.dd=!1;K.cK=!0}}var Y=j.Zv();if(Y&&Y.dd){Y.dd=!1;
K.cK=!0}if(gj){if(gj.z.length!=0)gj.z=[];if(gj.s4.length!=0)gj.s4=[]}}if(X.a(hW.A5)||u.FA==0){var iR=K.z.indexOf(q);
if(iR==-1)K.z.push(q);else if(K.z.length>1){if(u.FA!=0)K.z.splice(iR,1)}K.z.sort(function($,g_){return $-g_});
i.NA.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelection"}};v=q}else if(x&&!a&&V>0){D=V==1?l.vq:V==2?l.r7:l.eC;
escape=!0}else if((x||u.FA==1)&&K.z.length>0){var cj=Math.min(q,K.z[0]),j8=Math.max(q,K.z[K.z.length-1]);
K.z=[];for(var P=cj;P<=j8;P++)if(K.g[P].add.lsct!=g4.wR)K.z.push(P);i.NA.selectionModifier={t:"enum",v:{selectionModifierType:"addToSelectionContinuous"}};
v=q}else{v=q;if(q>=K.g.length)return;var j=K.g[q];if(j&&j.xp()&&u.a43)j.add.lsct=g4.DM;else if(K.z.length==1&&K.z[0]==q&&Math.max(0,V)==j.oF){jv=!0;
K.X5=!1}if(!jv){K.z=[q];K.dh()}}if(!jv){if(v!=null&&v<K.g.length){i.NA.null={t:"obj ",v:[{t:"name",v:{classID:"Lyr",val:K.g[v].getName()}}]},this.track(i)}if(!escape){console.log("no escape");
if(K.z.length==1){var as=K.z[0];for(var P=0;P<K.g.length;P++){if(P==as)continue;var J=K.g[P];J.oF=0;
J.vC=!1}var C=K.g[as];if(V==2){C.vC=!C.vC;K.qe=[]}else if(C){C.oF=V<=0?0:V}}else for(var P=0;P<K.g.length;
P++){var J=K.g[P];J.oF=0;J.vC=!1}K.J9=null;K.vH=!0}}if(u.im&&a){if((V==1||V==3)&&d!=null){var I=new eG(h.E.l,!0);
I.b=R.d0;I.data={d:"mskView",h:d!=0?0:x?1:2};g.c(I)}else{this.RR({d:l.pV,j:u.j},g,K,X,w)}}}if(D==l.vq||D==l.eC){var gW=D==l.vq,af=gW?C.Zv():C.nE(K).B;
if(af==null)return;var $=new g9(af.isEnabled?gW?[6,15]:[6,42]:gW?[6,14]:[6,41],this);$.data={d:D,j:q};
K.AV($);this.py($.data,K)}if(D==l.r7){var af=C.add.vmsk;if(af==null)return;var $=new g9(af.isEnabled?[6,17]:[6,16],this);
$.data={d:D,j:q};K.AV($);this.py($.data,K)}if(D==l.alX){var at=C.add.lsct==g4.DM?g4.Ab:g4.DM;if(X.a(hW.A5)){var jd=K.root.WX(K.g.indexOf(C)).parent;
for(var P=0;P<jd.children.length;P++){var fM=jd.children[P].j;if(fM.xp())fM.add.lsct=at}}else C.add.lsct=at;
K.vH=!0}if(D==l.pV){if(!K.jw(q))return;var $=new g9(C.tG?[6,19]:[6,18],this);$.data={d:D,j:q};K.AV($);
if(u.a5==null||u.a5!=C.tG)this.py($.data,K)}if(D==l.ar6){if(C.vh())C.R3-=32;else C.R3+=32;K.vH=!0}if(D==l.lY||D==l.g5){var $;
if(D==l.lY)$=new g9(C.add.lmfx.masterFXSwitch.v?[6,30]:[6,29],this);if(D==l.g5)$=new g9(C.add.SoLd.filterFX.v.enab.v?[6,44]:[6,43],this);
$.data={d:D,j:q};K.AV($);this.py($.data,K)}if(D==l.X9||D==l.NH){var as=u.index,$;if(D==l.X9)$=new g9(C.add.lmfx[k8.pg[as[0]]].v[as[1]].v.enab.v?[6,30]:[6,29],this);
if(D==l.NH)$=new g9(C.add.SoLd.filterFX.v.filterFXList.v[as].v.enab.v?[6,44]:[6,43],this);$.data={d:D,j:q,index:u.index};
K.AV($);this.py($.data,K)}if(D==l.um){if(u.src==u.WR)return;var hS=K.g[u.src],dr=K.g[u.WR],cB=hS.add.lmfx?JSON.stringify(hS.add.lmfx):"",b1=dr.add.lmfx?JSON.stringify(dr.add.lmfx):"";
if(dr.add.lmfx==null){dr.add.lmfx=JSON.parse(k8.default);for(var P=0;P<k8.order.length;P++)dr.add.lmfx[k8.pg[P]]={t:"VlLs",v:[]}}if(u.S5==null){dr.add.lmfx=JSON.parse(cB);
if(!a)delete hS.add.lmfx}else{var ic=u.S5[0],dV=k8.pg[ic];if(k8.a2e.indexOf(k8.order[ic])==-1)dr.add.lmfx[dV].v=[];
dr.add.lmfx[dV].v.push(hS.add.lmfx[dV].v[u.S5[1]]);if(!a)hS.add.lmfx[dV].v.splice(u.S5[1],1)}var eS=hS.add.lmfx?JSON.stringify(hS.add.lmfx):"",a2=dr.add.lmfx?JSON.stringify(dr.add.lmfx):"";
if(!dr.vh())dr.R3+=32;var $=new g9("Move Layer Styles",this);$.data={d:D,Pp:u.src,cb:u.WR,avT:cB,a9F:b1,alV:eS,aud:a2};
K.AV($);this.py($.data,K)}if(D==l.Jx){if(u.src!=null)q=u.src;var J=K.g[q],d3=JSON.stringify(J.add.SoLd),cE=JSON.parse(d3),eP=cE.filterFX.v.filterFXList.v;
eP.splice(u.S5,1);var $=new g9([6,53],this);$.data={d:l.eI,MZ:[{XR:q,v1:[d3,JSON.stringify(cE)]}]};K.AV($);
this.py($.data,K)}if(D==l.a6j){var jm=a,hS=K.g[u.src],dr=K.g[u.WR],bD=[];if(hS!=dr&&dr.add.SoLd==null){alert("Target layer is not a smart object!");
return}if(hS==dr&&!jm&&(u.S5==u.Rl||u.S5==-1))return;var f1=hS.nE(K),d3=JSON.stringify(hS.add.SoLd),cE=JSON.parse(d3),eP=cE.filterFX.v.filterFXList.v;
if(hS==dr){eP.splice(u.Rl,0,eP[u.S5]);if(!jm)eP.splice(u.S5+(u.S5<u.Rl?0:1),1);bD.push({XR:u.src,v1:[d3,JSON.stringify(cE)]})}else if(u.S5==-1){var ft=cE.filterFX;
if(!jm){delete cE.filterFX;bD.push({XR:u.src,v1:[d3,JSON.stringify(cE)],Al:[f1,null]})}var ie=dr.ov()?dr.nE(K):null,b2=f0.amY(f1),dh=JSON.stringify(dr.add.SoLd),aY=JSON.parse(dh);
aY.placed.v=b2.id;aY.filterFX=ft;bD.push({XR:u.WR,v1:[dh,JSON.stringify(aY)],Al:[ie,b2]})}else{var eF=eP[u.S5];
if(!jm){eP.splice(u.S5,1);bD.push({XR:u.src,v1:[d3,JSON.stringify(cE)]})}var dh=JSON.stringify(dr.add.SoLd),aY=JSON.parse(dh);
if(aY.filterFX==null)aY.filterFX=dJ.Ae();var de=aY.filterFX.v.filterFXList.v;de.splice(u.Rl,0,eF);var i5={XR:u.WR,v1:[dh,JSON.stringify(aY)]};
if(!dr.ov()){var b2=f0.adA(dr.add.SoLd.placed.v);i5.Al=[null,b2]}bD.push(i5)}var $=new g9([6,52],this);
$.data={d:l.eI,MZ:bD};K.AV($);this.py($.data,K)}if(D==l.y$){var af=C.Zv(),$=new g9(af.Bo?[6,26]:[6,25],this);
$.data={d:D,j:q};K.AV($);this.py($.data,K);this.track({$T:"set",NA:{classID:"setd",null:{t:"obj ",v:[bd.Af("Lyr",!0)]},T:{t:"Objc",v:{classID:"Lyr",Usrs:{t:"bool",v:af.Bo}}}}})}if(D==l.A7){var af=C.add.vmsk,$=new g9(af.Bo?[6,28]:[6,27],this);
$.data={d:D,j:q};K.AV($);this.py($.data,K)}if(D==l.Nb){var $=new g9("Variables / Datasets",this),eA=JSON.stringify([K.dI,K.h8]);
if(eA==u.h)return;$.data={d:D,adK:eA,a7S:u.h};K.AV($);this.py($.data,K)}if(D==l.q5){var c4=[],$;for(var P=0;
P<K.z.length;P++){var N=K.z[P],j=K.g[N];if(j.add.vogk)c4.push(N,JSON.stringify(j.add.vogk))}for(var P=0;
P<K.qe.length;P++){var N=K.qe[P],j=K.Ml[N];if(j.add.vogk)c4.push(-1-N,JSON.stringify(j.add.vogk))}f.b1.atk(K,u.h);
var jC=[];for(var P=0;P<K.z.length;P++){var N=K.z[P],j=K.g[N];if(j.add.vogk)jC.push(N,JSON.stringify(j.add.vogk))}for(var P=0;
P<K.qe.length;P++){var N=K.qe[P],j=K.Ml[N];if(j.add.vogk)jC.push(-1-N,JSON.stringify(j.add.vogk))}var m=K.mM();
if(m&&m.data&&m.data.d==D){var hd=!0;for(var P=0;P<c4.length;P+=2)if(c4[P]!=m.data.eT[P])hd=!1;if(hd){$=m;
$.data.ap=jC}}if($==null){var $=new g9([12,91,1],this);$.data={d:D,eT:c4,ap:jC};K.AV($)}this.py($.data,K)}if(D==l.fK){var iG=JSON.stringify(C.add.artb),cC=JSON.stringify(u.sd),$;
K.g[q].add.artb=JSON.parse(cC);var cL=new dS(0,0,K.m,K.n),dw=R.SO.zr(K),m=K.mM();if(m&&m.data&&m.data.d==D&&m.data.j==q){$=m;
$.data.sd=cC}if($==null){var $=new g9("Editing Artboard",this);$.data={d:D,j:q,ax4:iG,sd:cC,vf:cL};K.AV($)}$.data.Lu=dw;
this.py($.data,K)}if(D==l.Tz){var jC=K.g1.slice(0),eY=K.qT.slice(0),d7=K.q,hs=K.q;if(u.KR=="fromAction"){var hz=u.h.$T,bx=u.h.NA;
if(hz=="make"||hz=="duplicate"){var dO=jC.length,jn=!1,iP=!1;if(K.N6())dO--;var hN=new l.I2;hN.name="Alpha "+(dO+1);
if(hz=="make"){var io=bx.Nw.v;hN.color=255;eY=[dO];hN.dd=!0;hN.Lm=io.Opct.v;if(io.Nm)hN.name=io.Nm.v;
if(io.classID=="SCch"){jn=!0;hs=null;hN.rM=1}}else{var jD=bx.null.v[0].v;if(jD.keyID=="fsel")jn=!0;else{var dg=R.uO.jS(K);
hs=R.uO.dw(K,dg);hN.color=0;hN.rect=hs.rect;hN.channel=hs.channel}}if(jn){hN.color=0;if(K.q){hN.rect=K.q.rect.clone();
hN.channel=K.q.channel.slice(0)}if(iP){hN.color=255-hN.color;f.CD(hN.channel)}}jC.splice(dO,0,hN)}else if(hz=="delete"){if(C&&C.Zv()&&C.oF==1){this.RR({d:l.Bs},g,K,X,w);
return}var T=K.qT;T.sort(function($,g_){return g_-$});if(T.length==0)return;for(var P=0;P<T.length;P++)jC.splice(T[P],1);
eY=[]}else if(hz=="hide"){jC[eY[0]]=jC[eY[0]].clone();jC[eY[0]].dd=!1}}if(u.KR=="rnm"){jC[u.Mw]=jC[u.Mw].clone();
jC[u.Mw].name=u.name}var $=new g9("Channel Edit",this);$.data={d:D,eT:K.g1.slice(0),eO:K.qT.slice(0),ap:jC,BT:eY,OZ:d7,V5:hs};
this.py($.data,K);K.AV($)}if(D==l.Cv){var j1=new dS(0,0,K.m,K.n),$=new g9(u.Uz,this);$.data={d:l.Cv,_7:K.g.slice(0),j1:u.j1,Uj:K.z.slice(0),eh:u.V5};
K.AV($);this.py($.data,K);var iO=R.SO.CE(K);if(iO){$.data.vf=j1;$.data.Lu=iO}}if(D==l.B4){var ck=K.C6(null,u.j),bY=1e10;
if(ck.length==0)return;if(K.g.length==ck.length){alert("Project must have at least 1 layer");return}var cZ=[];
for(var P=0;P<K.g.length;P++)if(ck.indexOf(P)==-1)cZ.push(K.g[P]);for(var P=0;P<ck.length;P++)bY=Math.min(bY,ck[P]);
bY=Math.max(bY-1,0);while(cZ[bY].name=="</Layer group>")bY++;this.track({$T:"delete",NA:{classID:"Dlt",null:bd.Af("Lyr",!0)}});
var cL=new dS(0,0,K.m,K.n),$=new g9([6,31],this);$.data={d:l.Cv,_7:K.g.slice(0),j1:cZ,Uj:K.z.slice(0),eh:[bY]};
K.AV($);this.py($.data,K);var dw=R.SO.zr(K);if(dw){$.data.Lu=dw;$.data.vf=cL;R.SO.CE(K)}}if(D==l.MK){if(!X.a(hW.jl))return;
var $=new g9("Switch Layer Link",this);$.data={d:D,j:u.j};K.AV($);this.py($.data,K)}if(D==l.CO){var T=u.aqH?u.aqH:K.z,ke=0,hk=!1;
if(T.length==0)return;if(T.length==1&&K.g[T[0]].lz==0){alert(fc.get([15,7,5]));return}var bQ=[];for(var P=0;
P<K.g.length;P++){var jh=K.g[P].lz;bQ.push(jh);ke=Math.max(ke,jh)}var c8=-1,bM=-1;for(var P=0;P<T.length;
P++){var jh=K.g[T[P]].lz;if(jh==0)hk=!0;else if(c8==-1||c8==jh)c8=jh;else bM=jh}if(!hk)for(var P=0;P<T.length;
P++)K.g[T[P]].lz=0;else if(c8!=-1&&bM==-1)for(var P=0;P<T.length;P++)K.g[T[P]].lz=c8;else for(var P=0;
P<T.length;P++)K.g[T[P]].lz=ke+1;var dE=[];for(var P=0;P<K.g.length;P++){var jh=K.g[P].lz;if(dE[jh]==null)dE[jh]=0;
dE[jh]++}for(var P=0;P<K.g.length;P++){var jh=K.g[P].lz;if(dE[jh]==1)K.g[P].lz=0}var h3=bQ;bQ=[];for(var P=0;
P<K.g.length;P++){var jh=K.g[P].lz;bQ.push(jh);ke=Math.max(ke,jh)}var $=new g9(hk?[6,54,0]:[6,54,1],this);
$.data={d:l.CO,amX:h3,a6P:bQ};K.AV($);this.py($.data,K)}if(D==l.bm&&(u.j!=null||K.z.length!=0)||D==l.Bm){var eL=K.gp(D==l.bm?u.j:q,null,u.awF),hX;
if(D==l.Bm){var J=eL[0],hz=J.add.SoLd.Idnt.v,hm=K.zQ(hz).clone();J.add.SoLd.Idnt.v=hm.z0=f0.AO()+hz.slice(8);
K.add.lnk2.push(hm)}if(D==l.bm){var c7={$T:"duplicate",NA:{classID:"null",null:bd.Af("Lyr",!0)}};if(u.Ea){eL[0].Q9(u.Ea);
c7.Nm={t:"TEXT",v:u.Ea}}this.track(c7);u.a75=u.j}D=l.Xr;u.g=eL;u.Wx=K;u.eG=K}if(D==l.Xr){var jS,fW,aR=u.Wx,jV=u.eG,jE=0,cq=0,hg=!1,fl,gm=0,dp=0;
if(aR!=jV){console.log("ADDLAYERS different projs");var jS=new dS(0,0,aR.m,aR.n),fW=new dS(0,0,jV.m,jV.n),gx=[],h5=[];
for(var P=0;P<u.g.length;P++){var J=u.g[P];if(J.add.SoLd==null)continue;var hz=J.add.SoLd.Idnt.v;if(gx.indexOf(hz)==-1){gx.push(hz);
h5.push(f0.AO()+hz.slice(8))}J.add.SoLd.Idnt.v=h5[gx.indexOf(hz)];var f1=J.nE(aR);if(f1){aR.v8(f1);jV.T8(f1)}}if(gx.length>0){if(jV.add.lnk2==null)jV.add.lnk2=[];
for(var P=0;P<gx.length;P++){var iV=aR.zQ(gx[P]),hm=iV.clone();hm.z0=h5[P];jV.add.lnk2.push(hm)}}}var d7=jV.z.slice(0);
d7.sort(function($,g_){return $-g_});var cZ=jV.g.slice(0),hs=[],cd=-1;for(var P=0;P<d7.length;P++)cd=Math.max(cd,d7[P]);
if(u.a75!=null)cd=u.a75;var es=aR.kE();if(u.TS){cd=u.TS-1;var cJ=jV.g[u.TS].T0();jE+=cJ.x;cq+=cJ.y}if(es!=-1&&(aR!=jV||u.TS)){var hB=aR.g[es].T0();
jE-=hB.x;cq-=hB.y}var bU=jV.xv();cd++;for(var P=0;P<u.g.length;P++){var j=u.g[P],bl=j.add.artb;cZ.splice(cd,0,j);
hs.push(cd);cd++;if(bl){fl=!0;var cn=bl.guideIndeces;if(cn){cn=cn.v;console.log(cn);for(var fX=0;fX<cn.length;
fX++){bU[0].push(aR.m_[cn[fX].v].slice(0));bU[1].push(cZ.indexOf(j));hg=!0}}}}for(var P=0;P<u.g.length;
P++){var j=u.g[P];if(j.add.lsct==g4.wR){if(gm==0)dp++;gm++}else if(j.xp())gm--}if(dp==1)hs=[cd-1];var $=new g9([6,0],this);
$.data={d:l.Cv,_7:jV.g.slice(0),j1:cZ,Uj:d7,eh:hs};if(hg){$.data.D2=[jV.xv(),bU]}jV.AV($);this.py($.data,jV);
if(jE!=0||cq!=0)R.NP.rI(jV,jV.C6(),null,jE,cq);if(fl){$.data.vf=new dS(0,0,jV.m,jV.n);$.data.Lu=R.SO.zr(jV);
R.SO.CE(jV)}}if(D==l.a1Q){var cW=u.j!=null?[u.j]:K.C6(),cZ=K.g.slice(0);for(var P=0;P<cW.length;P++){var j=K.g[cW[P]].clone();
j.Yx(K);cZ.splice(cW[P],1,j)}var $=new g9([6,8],this);$.data={d:l.Cv,_7:K.g.slice(0),j1:cZ,Uj:K.z.slice(0),eh:K.z.slice(0)};
K.AV($);this.py($.data,K)}if(D==l.awI){var cZ=K.g.slice(0),j=cZ[K.z[0]]=cZ[K.z[0]].clone(),jH=j.add.lmfx,j2,cJ;
delete j.add.lmfx;var dG=K.z[0],ac=dG+1;if(j.xp()){var iv=K.g[K.z[0]].gJ;cJ=iv.ahO;j2=iv.Pi;var Q=K.root.WX(dG);
dG=Q.B5}else{cJ=j.rect;j2=f.L(cJ.$());f.hk(j.buffer,j2,3)}var fo=bW.b0(jH,j.add.fxrp,j2,cJ,K,cJ).type;
for(var P=0;P<k8.order.length;P++){var h7=k8.order[P],fn=fo[h7];fn.reverse();for(var fX=0;fX<fn.length;
fX++){var cw=fn[fX],U=K.Wk(),hP=P>7;if(h7=="ebbl"){if(cw.Ej||cw.FG){var c_=cw.Ej?cw.Ej:cw.FG;if(cw.Ej)delete cw.Ej;
else delete cw.FG;if(cw.FG||cw.Bd)fX--}else if(cw.Bd||cw.hr){var c_=cw.hr?cw.hr:cw.Bd;if(cw.hr){delete cw.hr;
if(cw.Bd)fX--}hP=!0}cw=c_}U.wS=cw.$X;U.opacity=Math.round(255*cw.fc);U.buffer=cw.Fg;U.rect=cw._a.clone();
U.rect.offset(cJ.x,cJ.y);if(h7=="FrFX"){U.buffer=U.buffer.slice(0);f.K1(cw.Le?cw.Le:cw.mR,U.buffer,3);
if(cw.Le){hP=!0;delete cw.Le;if(cw.mR)fX--}}U.tG=!hP;U.Q9(j.getName()+"'s "+fc.get(k8.names[P]));cZ.splice(hP?dG:ac,0,U);
if(hP)ac++}}var $=new g9("Styles to Layers",this);$.data={d:l.Cv,_7:K.g.slice(0),j1:cZ,Uj:K.z.slice(0),eh:[ac-1]};
K.AV($);this.py($.data,K)}if(D==l.Hd){var cW=K.C6(),cZ=K.g.slice(0),ip=new dS(0,0,K.m,K.n);for(var P=0;
P<cW.length;P++){var ay=K.g[cW[P]],iS=ay.AG();ay.H4(!0);var jl=K.root.WX(cW[P]);if(ay.xp())continue;
if(jl==null)continue;var j=ay.clone();j.Yx(K);var ee=jl.WA(K,!0),fP=K.g;K.$O([ay]);K.O();K.Z9();j.buffer=f.L(ee.$()*4);
f.bV(K.KS(),ip,j.buffer,ee);j.rect=ee;j.opacity=255;j.add.iOpa=255;j.wS="norm";j.O();j.gJ.je=!0;K.$O(fP);
if(j.add.lmfx)delete j.add.lmfx;j.B=j.ad=null;cZ.splice(cW[P],1,j);j.H4(iS);ay.H4(iS)}var $=new g9([6,34],this);
$.data={d:l.Cv,_7:K.g.slice(0),j1:cZ,Uj:K.z.slice(0),eh:K.z.slice(0)};K.AV($);this.py($.data,K)}if(D==l.ajt){var cW=K.C6(),cZ=K.g.slice(0);
for(var P=0;P<cW.length;P++){var j=K.g[cW[P]],e6=j.add.TySh;if(e6==null)continue;var J=new ec(e6.Fd,w.aX),bq=f.p.Bz(dR.sg(J,e6));
for(var bf in bq){var aJ=bq[bf],fM=j.clone();delete fM.add.TySh;fM.R3=fM.R3|1<<4;fM.add.SoCo=JSON.parse(JSON.stringify(k8.DL[0]));
var iM=fM.add.SoCo.Clr.v;iM.Rd.v=parseInt(bf.slice(1,3),16);iM.Grn.v=parseInt(bf.slice(3,5),16);iM.Bl.v=parseInt(bf.slice(5,7),16);
var ce=new l.tU;ce._=f.p.Ic(aJ,!1);if(fM.add.vmsk!=null){fM.add.vmsk.a2L();ce.concat(fM.add.vmsk)}fM.add.vmsk=ce;
fM.add.vstk=JSON.parse(JSON.stringify(k8.Sq.default));fM.LP();fM.th(K);cZ.splice(cZ.indexOf(j),0,fM)}cZ.splice(cZ.indexOf(j),1)}var hs=K.z.slice(0);
for(var P=hs.length-1;P>=0;P--)if(hs[P]>=cZ.length)hs.splice(P,1);var $=new g9([6,40],this);$.data={d:l.Cv,_7:K.g.slice(0),j1:cZ,Uj:K.z.slice(0),eh:hs};
K.AV($);this.py($.data,K)}if(D==l.anc){var dZ=K.z.length;if(dZ<2){alert("Select two or more layers.");
return}if(!K.zL())return;var fM=K.g[K.z[0]].clone(),cZ=[];for(var P=0;P<K.g.length;P++)if(K.z.indexOf(P)==-1)cZ.push(K.g[P]);
cZ.splice(K.z[0],0,fM);for(var P=1;P<dZ;P++)if(K.g[K.z[P]].rect.$()>2e6){alert("Blended areas are too large.");
return}for(var P=1;P<dZ;P++){var j=K.g[K.z[P]],bo=j.rect.clone();bo.wu(1,1);var g_=f.L(bo.$()*4);f.bV(j.buffer,j.rect,g_,bo);
fM.extend(bo);var ek=f.L(bo.$()*4);f.bV(fM.buffer,fM.rect,ek,bo);var $=f.L(bo.$());f.hk(g_,$,3);f.round($,200);
f.K1($,g_,3);f.i.L_("norm",g_,bo,ek,bo,bo,1);f.Z3.HX(ek,$,bo);f.bV(ek,bo,fM.buffer,fM.rect)}var $=new g9([2,10,0],this);
$.data={d:l.Cv,_7:K.g.slice(0),j1:cZ,Uj:K.z.slice(0),eh:[K.z[0]]};K.AV($);this.py($.data,K)}if(D==l.Dy){var cZ=K.g.slice(0),eY=K.z.slice(0);
for(var P=0;P<cZ.length;P++){var j=cZ[P],gj=j.add.vmsk;if(j.HS()&&gj&&j.add.vstk.strokeEnabled.v&&!j.add.vstk.fillEnabled.v){var jt=gj._,eg=0,d6=-1;
for(var fX=0;fX<jt.length;fX++){if((jt[fX].type==0||jt[fX].type==3)&&jt[fX].yk!=-1){eg++;if(jt[fX].type==3&&d6==-1){jt[fX].VB=jt[fX].yk=1;
d6=fX}}}if(eg>1&&d6!=-1&&eg<10){console.log("separating an open path into a new layer");j=j.clone();
gj=j.add.vmsk;jt=gj._;var U=jt[d6].length,hD=j.clone();hD.add.lyid=K.yE();gj._=jt.slice(0,2).concat(jt.slice(d6,d6+U+1));
gj.z=[];j.th(K);j.O();var bh=hD.add.vmsk._;hD.add.vmsk._=bh.slice(0,d6).concat(bh.slice(d6+U+1,bh.length));
hD.add.vmsk.z=[];hD.th(K);cZ[P]=j;cZ.splice(P+1,0,hD);for(var fX=0;fX<eY.length;fX++)if(eY[fX]>P)eY[fX]++;
var f3=eY.indexOf(P);if(f3!=-1){eY.splice(f3+1,0,P+1)}}}}if(cZ.length!=K.g.length){var $=new g9("Splitting open paths",this);
$.data={d:l.Cv,_7:K.g.slice(0),j1:cZ,Uj:K.z.slice(0),eh:eY};K.AV($);this.py($.data,K)}}if(D==l.Ll){this.RR({d:l.Dy},g,K,X,w);
var d7=K.z.slice(0),fP=K.g.slice(0),cW=K.C6();if(cW.length==0)return;K.a9_(cW,!1,u.e7);var $=new g9([6,36,0],this);
$.data={d:l.Cv,_7:fP,j1:K.g.slice(),Uj:d7,eh:K.z.slice(0)};K.AV($);this.py($.data,K)}if(D==l.abA){var d3=C.add.SoLd;
if(d3==null)return;var hz=d3.Idnt.v,h6=K.zQ(hz);h6.KS(!1);var hA=h6.Z4[0],bo=h6.Z4[1];if(f.b6(hA)){alert("The smart object contains transparency.");
return}var d1=eH.IB("jpg").si([[hA.buffer]],bo.m,bo.n,[90]);this.RR({d:l.HM,UJ:K,data:new Uint8Array(d1),id:hz,e7:"jpg"},g,K,X,w);
console.log(K.add);return}if(D==l.HM){var iV=u.UJ.zQ(u.id),hm=iV.clone();hm.raw=u.data;if(u.$V)hm.$V=u.$V;
if(u.e7){hm.Dh="    ";hm.lB="    ";hm.$V=hm.$V+"."+u.e7}else{hm.Dh="8BIM";hm.lB="8BPB";hm.$V=hm.$V+(hm.$V.endsWith(".psd")?"":".psd")}hm.KS(!1);
iV.KS(!1);var $=new g9([6,36,1],this);$.data={d:l.HM,id:u.id,DC:iV,y4:hm};u.UJ.AV($);this.py($.data,u.UJ)}if(D==l.uw){var $=new g9([6,36,4],this);
$.data={d:D,j:q,gY:C.add.SoLd.Impr.v.classID,a5:u.a5};K.AV($);this.py($.data,K)}if(D==l.ahh){var jb,k5;
if(u.OT){jb=u.UJ;k5=u.OT}else{u.UJ.Y0();u.UJ.St();u.UJ.O();u.UJ.Z9();u.UJ.KS();jb=eH.IB("PSD").si(u.UJ,0,0,[!0,!0]);
k5=u.UJ.name}if(!(jb instanceof ArrayBuffer))throw"e";jb=new Uint8Array(jb);var iR=u.QQ;if(iR==null){if(K.z.length==0)iR=K.z.length;
else{var hK=K.z[K.z.length-1],U=K.g[hK];iR=U.xp()?hK:hK+1}}var dj=new dS(0,0,K.m,K.n),ae=K.kE();if(ae!=-1)dj=K.g[ae].T0();
var h$=K.Sw(jb,k5,0,0,dj,w.aX,g),cZ=K.g.slice(0);cZ.splice(iR,0,h$);var $=new g9([6,36,2],this);$.data={d:l.Cv,_7:K.g.slice(),j1:cZ,Uj:K.z.slice(0),eh:[cZ.indexOf(h$)]};
K.AV($);this.py($.data,K)}if(D==l._t&&u.KR=="merge"){var bm=[],co=K.root.children,g0=0;for(var P=0;P<co.length;
P++){var Q=co[P],j=Q.j,fk=Q.children,hp=!0;if(!j.xp()||fk.length==0)continue;for(var fX=0;fX<fk.length;
fX++)if(!fk[fX].j.getName().startsWith("_a_")){hp=!1;break}if(hp)bm.push(K.g.indexOf(j))}var an=[];for(var P=0;
P<bm.length;P++)if(K.z.indexOf(bm[P])!=-1)an.push(bm[P]);if(an.length>=2)bm=an;if(bm.length<2){alert("At least two animation folders needed (whose layers start with \"_a_\").",3500);
return}var el=[];for(var P=0;P<bm.length;P++)el.push(K.g[bm[P]].getName());var fn=[];for(var hE=0;hE<bm.length;
hE++){var Q=K.root.WX(bm[hE]),i5=[[],[],0,hE];fn.push(i5);for(var P=0;P<Q.children.length;P++){var N=Q.children[P].index,j=Q.children[P].j,hN=j.getName(),h_=20,b5=hN.split(",");
if(b5.length>1){var ff=parseInt(b5.pop());if(!isNaN(ff)&&ff!=0)h_=ff}i5[0].push(j);i5[1].push(h_);i5[2]+=h_}}fn.sort(function($,g_){return g_[2]-$[2]});
var fZ=fn[0],gS=fZ[2];for(var fC=1;fC<fn.length;fC++){var i5=fn[fC],ch=1,fq=i5[1].slice(0),ir=0;while((ch+1)*i5[2]<=fZ[2]){ch++;
fq=fq.concat(i5[1])}i5[1]=fq;i5[2]*=ch;var fx=fZ[2]/i5[2];for(var P=0;P<i5[1].length;P++){var hb=Math.floor(i5[1][P]*fx);
i5[1][P]=hb;ir+=hb}while(ir<gS){ir++;i5[1][i5[1].length-1]++}i5[2]=ir}var i8=[],bw=[],hb=[];for(var P=0;
P<fn.length;P++){i8.push(0);bw.push(0)}while(g0<gS){var jI=1e9,dO=-1;for(var P=0;P<fn.length;P++){var eR=fn[P][1],dG=i8[P];
if(dG!=eR.length&&bw[P]+eR[dG]<g0+jI){dO=P;jI=bw[P]+eR[dG]-g0}}bw[dO]+=fn[dO][1][i8[dO]];i8[dO]++;if(jI!=0){hb.push(jI);
g0+=jI}}for(var P=1;P<hb.length;P++){var gV=hb[P];if(gV<16&&(hb[P-1]<16||P<hb.length-1&&16<=hb[P+1])){hb[P-1]+=gV;
hb.splice(P,1);P--}}var iS=[],ip=new dS(0,0,K.m,K.n);for(var P=0;P<K.g.length;P++){iS[P]=K.g[P].AG();
K.g[P].H4(!1)}var gy=K.z.slice(0);K.z=bm;var ck=K.C6();ck.sort(function($,g_){return $-g_});var cZ=[];
for(var P=0;P<K.g.length;P++){if(ck.indexOf(P)==-1)cZ.push(K.g[P])}fn.sort(function($,g_){return $[3]-g_[3]});
function eW(eR,f2){var P=0,ho=0;while(ho+eR[P]<=f2){ho+=eR[P];P++}return P}g0=0;cZ.splice(ck[0],0,K.z1());
for(var i4=0;i4<hb.length;i4++){var S=[];for(var P=0;P<fn.length;P++){var dG=eW(fn[P][1],g0)%fn[P][0].length,j=fn[P][0][dG];
S.push(j)}var j=K.Wk();for(var P=0;P<fn.length;P++){var fr=S[P],jd=K.g[bm[P]];fr.H4(!0);jd.H4(!0)}K.O();
K.Z9();var hA=K.KS();j.rect=f.Yg(hA,ip,2);j.buffer=f.L(j.rect.$()*4);f.bV(hA,ip,j.buffer,j.rect);for(var P=0;
P<fn.length;P++){var fr=S[P],jd=K.g[bm[P]];fr.H4(!1);jd.H4(!1)}j.H4(i4==0);j.Q9("_a_frm"+i4+","+hb[i4]);
cZ.splice(ck[0]+1+i4,0,j);g0+=hb[i4]}var j=K.Wk();j.Q9(el.join(" + "));j.wS="pass";j.add.lsct=g4.Ab;
j.R3=24;cZ.splice(ck[0]+1+hb.length,0,j);for(var P=0;P<K.g.length;P++)K.g[P].H4(iS[P]);var $=new g9([6,12,0],this);
$.data={d:l.Cv,_7:K.g,j1:cZ,Uj:gy,eh:[ck[0]+1+hb.length]};K.AV($);this.py($.data,K)}if(D==l.wG||D==l.En){var iK=K.z.length==1,eI=!0,h$=null,hs;
if(iK&&K.z[0]==0)return;var fP=K.g.slice(0),d7=K.z.slice(0);if(iK)K.z=[q,q-1];if(D==l.En){K.z=[];for(var P=0;
P<K.g.length;P++)if(K.g[P].AG())K.z.push(P)}var cW=K.C6();cW.sort(function($,g_){return $-g_});var cK=new dS,ip=new dS(0,0,K.m,K.n);
for(var P=0;P<cW.length;P++){var N=cW[P],j=K.g[N];if(j.xp()||j.getName()=="</Layer group>")continue;
eI=eI&&j.HS()&&j.add.vmsk!=null;cK=cK.RN(K.root.WX(N).WA(K,!0))}if(eI){var gj=null;for(var P=0;P<cW.length;
P++){var U=K.g[cW[P]];if(U.rect.$()==0)continue;if(h$==null){h$=U.clone();gj=h$.add.vmsk}else{var U=K.g[cW[P]],bh=l.tU.SL(U.add.vmsk._);
gj._=gj._.concat(bh.slice(2));h$.add.vogk=h$.add.vogk.concat(JSON.parse(JSON.stringify(U.add.vogk)))}}h$.add.vmsk.vl=!0;
h$.th(K)}else if(ip.kB(cK)){h$=K.Wk();h$.Q9(K.g[cW[cW.length-1]].getName());h$.rect=cK;h$.buffer=f.L(cK.$()*4);
var hx=K.add.artd;delete K.add.artd;var c3=K.KS(cW);if(hx)K.add.artd=hx;f.bV(c3,ip,h$.buffer,cK);h$.b3();
h$.O()}else{K.a9_(cW,!0);h$=K.g[K.z[0]];K.g.splice(K.z[0],1);var cl=K.zQ(h$.add.SoLd.Idnt.v);K.add.lnk2.splice(K.add.lnk2.indexOf(cl),1);
delete h$.add.SoLd}var aI=a,aB=-1;if(u.NA&&u.NA.Dplc&&u.NA.Dplc.v)aI=!0;if(aI&&D==l.En&&K.g[d7[0]].UR()&&K.g[d7[0]].rect.fg()){aB=d7[0]}if(aB!=-1||iK){var bI=K.g[aB!=-1?aB:q-1];
h$.Q9(bI.getName());h$.add.lclr=bI.add.lclr}var cZ=[];for(var P=0;P<K.g.length;P++)if(aI||cW.indexOf(P)==-1)if(P!=aB)cZ.push(K.g[P]);
var hH=cW[cW.length-1],iF=hH==K.g.length-1?null:K.g[hH+1],jp=iF?cZ.indexOf(iF):cZ.length;cZ.splice(jp,0,h$);
hs=[jp];var $=new g9([6,12,0],this);$.data={d:l.Cv,_7:fP,j1:cZ,Uj:d7,eh:hs};K.AV($);this.py($.data,K)}if(D==l.atQ){var fM=K.Wk();
fM.rect=new dS(0,0,K.m,K.n);fM.buffer=f.L(fM.rect.$()*4);f.D4(fM.buffer,4294967295);f.i.L_("norm",K.KS(),fM.rect,fM.buffer,fM.rect,fM.rect,1);
fM.Q9("Background");fM.add.lspf=1<<2;var $=new g9([6,12,1],this);$.data={d:l.Cv,_7:K.g.slice(),j1:[fM],Uj:K.z.slice(0),eh:[0]};
K.AV($);this.py($.data,K)}var iH=D==l.zJ||D==l.iD;if(D==l.Vq||D==l.yW||D==l.E2||D==l.Em||iH){var j=iH?K.gp()[0]:K.Wk(),d8=fc.get([0,3]),bc=u.Ea,gz=!1,gM,aD;
if(D==l.E2)d8=fc.get([12,76,1]);if(iH){if(K.q){var ay=K.g[K.z[0]],cF=ay.nP(K,K.q);if(cF==null){alert("Copied area is empty");
return}j.rect=cF.rect;j.buffer=cF.ee;j.Yx(K);j.H4(!0)}else bc=j.getName();j.add.lspf=0;j.tG=!1;if((j.R3&1)!=0)j.R3--}if(D==l.Em){j.rect=R.aD.a5M(u.xl,K);
j.buffer=u.xl.buffer.slice(0);if(u.T4&&K.q){j.B=new l.I2;j.B.rect=K.q.rect;j.B.color=0;j.B.channel=K.q.channel.slice(0)}}if(D==l.Vq){this.track({$T:"make",NA:{classID:"Mk",null:bd.Af("Lyr")}})}if(D==l.yW){j.R3|=16;
var c$=u.NA.Usng.v,d$=c$.Type.v,iC=jO.LC[d$.classID];d8=fc.get(jO.names[iC]);if(c$.Nm)bc=c$.Nm.v;j.add[iC]=dJ.mt(iC);
if(j.add[iC]==null)j.add[iC]={};for(var j7 in d$)j.add[iC][j7]=JSON.parse(JSON.stringify(d$[j7]));j.B=R.aD.agT(K);
j.oF=1}if(D==l.E2){j.R3|=16;var bx=u.NA,c$=bx.Usng.v,a$=c$.Type.v,ef=c$.Shp;if(c$.Nm)bc=c$.Nm.v;if(ef==null){var gf=K.f$(),bq=gf[0],hZ=gf[1];
if(hZ.length!=0&&bq[hZ[0]].Mw<0){var gU=bq[hZ[0]].add;j.add.vmsk=gU.vmsk.clone();j.add.vstk=JSON.parse(JSON.stringify(k8.Sq.default));
j.add.vogk=JSON.parse(JSON.stringify(gU.vogk));K.qe=[]}else j.B=R.aD.agT(K)}else{console.log(c$);j.add.vmsk=new l.tU;
j.add.vstk=JSON.parse(JSON.stringify(c$.strokeStyle?c$.strokeStyle.v:k8.Sq.default));j.add.vogk=[];if(ef){var aq=f.b1.AC(ef);
if(aq){j.add.vogk=[aq];j.add.vmsk._.push({type:0,yk:1,length:0});f.b1.p6(j.add.vogk,j.add.vmsk)}else{ef=ef.v;
var fi=ef.classID;if(fi=="Plgn"){var cu=ef.Cntr.v,hB=ef.corner.v;cu=new j4(cu.Hrzn.v.val,cu.Vrtc.v.val);
hB=new j4(hB.Hrzn.v.val,hB.Vrtc.v.val);j.add.vmsk._=f.J.eQ.gf(cu.x,cu.y,Math.sqrt(hB.x*hB.x+hB.y*hB.y),Math.atan2(hB.y,hB.x),ef.sides.v,0)}else if(fi=="customShape"){var bG=f.b1.RC(ef),dU=bG[2]-bG[0],b_=bG[3]-bG[1],dQ=w.uV,ar,ig;
for(var P=0;P<dQ.length;P++)if(dQ[P].VW==ef.Nm.v)ar=dQ[P];if(ar){ig=l.tU.SL(ar._);f.J.Cg(ig,new eV(dU,0,0,b_,bG[0],bG[1]))}else ig=f.J.eQ.Rect(bG[0],bG[1],dU,b_,0);
j.add.vmsk._=ig}j.LP()}}}var fm={solidColorLayer:0,gradientLayer:1,patternLayer:2}[a$.classID],cs=["SoCo","GdFl","PtFl"][fm];
j.add[cs]=JSON.parse(JSON.stringify(k8.DL[fm]));R.aD.Gj(a$,j.add[cs],fm);if(ef==null)d8=fc.get([6,48,0,fm]);
if(cs=="PtFl"){var iL=j.add[cs].Ptrn.v,b5=bW.ME(iL,w.u7);if(b5==null)b5=bW.ME(iL,K.add.Patt);iL.Idnt.v=b5.id;
K.q_(b5)}j.th(K)}var dZ=R.aD.q8(K,d8+" ");j.Q9(d8+" "+(dZ+1));if(bc)j.Q9(bc);var d9=K.z.length==0?K.g.length-1:K.z[K.z.length-1],hj=K.g[d9];
if(D==l.E2&&hj.UR()&&hj.rect.fg()){gz=!0;j.Q9(hj.getName());gM=d9}else{gM=d9+(D==l.Vq&&H&&!x?0:1);if(hj&&hj.add.lsct==g4.DM)gM--}if(u.apu)gM=Math.max(0,gM-1);
var cZ=K.g.slice(0);if(D==l.iD){var bu=cZ[K.z[0]]=cZ[K.z[0]].clone(),a8=K.q.channel.slice(0);f.CD(a8);
f.ea(a8,K.q.rect,bu.buffer,bu.rect)}cZ.splice(gM,gz?1:0,j);var cI=[5,2];if(D==l.Vq)cI=[6,13];if(D==l.yW)cI=[6,1];
if(D==l.E2){cI=[6,48,1];var ef=u.NA.Usng.v.Shp;if(ef){var ha={Rctn:[10,32],Ln:[10,35],Elps:[10,33],Plgn:[12,93,0],customShape:[10,31]}[ef.v.classID];
if(ha)cI=ha}}if(iH){cI=[6,49,D==l.zJ?0:1]}if(iH||D==l.E2||D==l.Em||D==l.yW)if(K.q)aD=[K.q,null];var $=new g9(cI,this);
$.data={d:l.Cv,_7:K.g.slice(0),j1:cZ,Uj:K.z.slice(0),eh:[gM],FF:aD};K.AV($);this.py($.data,K);if(D==l.E2&&ef==null&&fm!=0||D==l.yW){var n=new eG(h.E.Y);
n.data={d:h.s.QI,Pu:cA.vZ.Ua};g.c(n)}}if(D==l.nk){var j=K.Wk(),d8=fc.get([0,4]),dZ=R.aD.q8(K,d8+" ");
j.Q9(d8+" "+(dZ+1));j.wS="pass";j.add.lsct=g4.DM;j.R3=24;if(u.Ea)j.Q9(u.Ea);if(u.yz!=null)j.add.lclr=u.yz;
var df=K.z1(),d9=q,gM=d9+(H?0:1),cZ=K.g.slice(0);cZ.splice(gM,0,df,j);var $=new g9([6,20],this);$.data={d:l.Cv,_7:K.g.slice(0),j1:cZ,Uj:K.z.slice(0),eh:[gM+1]};
K.AV($);this.py($.data,K)}if(D==l.cR||D==l.Qb){var ew=D==l.cR?u.source:K.z[0],jy,c9,fN=K.z.indexOf(ew)!=-1,g1=a|u.a31,dL,jI=null;
if(fN)dL=K.C6();else dL=K.d1(ew);dL.sort(function($,g_){return $-g_});if(D==l.cR){jy=u.target;c9=u.GX>.5}else if(u.target!=null){jy=Math.min(u.target,K.g.length-1);
c9=u.target<K.g.length;K.xE=!0}else{var he=u.KR;c9=he>1;if(he==0){jy=K.g.length-1}if(he==1){jy=dL[dL.length-1]+1;
var U=K.d1(jy);if(U.indexOf(ew)==-1)jy+=U.length-1}if(he==2){jy=dL[0]-1;var U=K.d1(jy);if(U.indexOf(ew)==-1)jy-=U.length-1}if(he==3){jy=0;
if(K.g[0].add.lnsr=="bgnd")jy++}if(jy<0||jy>K.g.length-1)return;K.xE=!0}if(dL.indexOf(jy)!=-1&&!g1)return;
var b8=R.aD.GG(K,dL,jy,c9,g1?K.gp(fN?null:ew):null,D==l.cR&&u.GX>.8),c1=b8.pop(),eY=b8.pop(),cZ=b8.pop(),gu=K.z;
K.z=[ew];var es=K.kE();K.z=[jy];var fH=K.kE();if(fH==jy&&!c9)fH=-1;K.z=gu;if(ew==es){}else if(es!=fH){var jI=new j4(0,0);
if(es!=-1){var bo=K.g[es].T0();jI.x-=bo.x;jI.y-=bo.y}if(fH!=-1){var bo=K.g[fH].T0();jI.x+=bo.x;jI.y+=bo.y}}var $=new g9(g1?[6,0]:[6,35],this);
$.data={d:l.Cv,_7:K.g.slice(0),j1:cZ,Uj:K.z.slice(0),eh:eY,R_:jI};K.AV($);this.py($.data,K);var bx={classID:"move",null:bd.Af("Lyr",!0),T:{t:"obj ",v:[{t:"indx",v:{classID:"Lyr",val:c1+(c9?0:1)}}]},Adjs:{t:"bool",v:!1},Vrsn:{t:"long",v:5},Dplc:{t:"long",v:g1}};
this.track({$T:"move",NA:bx})}if(D==l.Nc){if(u.gS){if(C==null||!C.xp())return;var Q=K.root.WX(q),ap=K.g.indexOf(Q.aui),cZ=K.g.slice(0);
cZ.splice(q,1);cZ.splice(ap,1);var eY=[];for(var P=ap;P<q-1;P++)eY.push(P);var $=new g9("Ungroup Layers",this);
$.data={d:l.Cv,_7:K.g.slice(0),j1:cZ,Uj:K.z.slice(0),eh:eY};K.AV($);this.py($.data,K)}else{var j=K.Wk(),a4=fc.get([0,4])+" ";
j.Q9(a4+(R.aD.q8(K,a4)+1));j.wS="pass";if(u.Ea)j.Q9(u.Ea);if(u.yz!=null)j.add.lclr=u.yz;j.add.lsct=K.z.length==1?g4.DM:g4.Ab;
j.R3=24;var df=K.z1(),dL=K.C6();if(dL.length==0)return;dL.sort(function($,g_){return $-g_});var cZ=[];
for(var P=0;P<K.g.length;P++)if(dL.indexOf(P)==-1)cZ.push(K.g[P]);var d9=K.z[K.z.length-1]-dL.length;
cZ.splice(d9+1,0,df);for(var P=0;P<dL.length;P++)cZ.splice(d9+2+P,0,K.g[dL[P]]);cZ.splice(d9+2+dL.length,0,j);
var $=new g9([6,9],this);$.data={d:l.Cv,_7:K.g.slice(0),j1:cZ,Uj:K.z.slice(0),eh:[cZ.indexOf(j)]};K.AV($);
this.py($.data,K);var i={$T:"make",wL:!0};i.NA={classID:"Mk",null:bd.Af("layerSection"),From:bd.Af("Lyr",!0),Usng:{t:"Objc",v:{classID:"layerSection",Nm:{t:"TEXT",v:j.getName()}}}};
this.track(i)}}if(D==l.a0E){if(K.z.length!=1)return;var iR=K.z[0],d_=a;if(K.g[iR].Zv()==null&&!X.a(hW.A5)){D=l.wa;
u.Yw=K.q?!d_?"RvlS":"HdSl":!d_?"RvlA":"HdAl"}else{D=l.cP;u.aib=!0}}if(D==l.wa){if(K.z.length!=1)return;
var iR=K.z[0],j=K.g[iR];if(j.add.vmsk&&j.B==null)j.th(K);var fw=j.Zv();if(fw==null||u.at_){var $=new g9([6,21],this),fg=new l.I2,iW=u.Yw,e$=iW=="RvlS"||iW=="HdSl";
if(iW=="RvlS"||iW=="HdAl"||iW=="Trns")fg.color=0;if(e$){fg.channel=K.q.channel.slice(0);fg.rect=K.q.rect.clone();
if(iW=="HdSl")f.CD(fg.channel)}if(iW=="Trns"){fg.rect=j.rect.clone();fg.channel=f.L(j.rect.$());f.hk(j.buffer,fg.channel,3)}$.data={d:l.EK,Ti:[iR,fw,fg],FF:e$?[K.q,null]:null};
K.AV($);this.py($.data,K);K.g[iR].oF=1;this.track({$T:"make",NA:{__name:"Make",classID:"Mk",Nw:{t:"type",v:{classID:"Chnl"}},At:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Msk"}}]},Usng:{t:"enum",v:{UsrM:iW}}}})}}else if(D==l.avl){var hS=K.g[u.src],dr=K.g[u.WR],$=new g9([6,21],this),gw=hS.Zv(),bA=dr.Zv(),af=[u.src,gw,null,u.WR,bA,gw];
if(a||x){var hN=gw.clone();if(a)af=[u.WR,bA,hN];else af[5]=hN;if(x){f.CD(hN.channel);hN.color=255-hN.color}}$.data={d:l.EK,Ti:af};
K.AV($);this.py($.data,K)}if(D==l.Bs){if(K.z.length!=1)return;var iR=q,jP=K.g[iR].Zv();if(jP!=null){var $=new g9([6,22],this);
$.data={d:l.EK,Ti:[q,jP,null]};K.AV($);this.py($.data,K)}}if(D==l.yM){var fP=K.g.slice(0),fM=C.clone(),Y=fM.Zv();
f.ea(Y.WC(fM.rect),fM.rect,fM.buffer,fM.rect);R.aD.xe(K,fM);fM.b3();K.g[K.z[0]]=fM;var $=new g9([5,8],this);
$.data={d:l.Cv,_7:fP,j1:K.g.slice(),Uj:K.z.slice(0),eh:K.z.slice(0)};K.AV($);this.py($.data,K)}if(D==l.mI){if(K.z.length!=1)return;
var iR=K.z[0];if(K.g[iR].nE(K).B==null){var $=new g9([6,45],this);$.data={d:D,j:iR,B:new l.I2};K.AV($);
this.py($.data,K)}}if(D==l.lc){if(K.z.length!=1)return;var iR=K.z[0];if(K.g[iR].nE(K).B!=null){var $=new g9([6,46],this);
$.data={d:D,j:iR,B:K.g[iR].nE(K).B};K.AV($);this.py($.data,K)}}if(D==l.Dr){if(u.src==null&&K.z.length!=1)return;
if(u.src!=null)q=u.src;if(K.g[q].ov()){var $=new g9([6,47],this),d3=JSON.stringify(K.g[q].add.SoLd),cE=JSON.parse(d3);
delete cE.filterFX;$.data={d:l.eI,MZ:[{XR:q,v1:[d3,JSON.stringify(cE)],Al:[K.g[q].nE(K),null]}]};K.AV($);
this.py($.data,K)}}if(D==l.cP){if(K.z.length!=1)return;if(C.add.vmsk==null){var $=new g9([6,23],this),jt=K.f$(),T=jt[1],jt=jt[0],fg,aq;
if(u.aib&&T.length!=0){var gU=jt[T[0]].add;fg=gU.vmsk.clone();aq=gU.vogk}else{fg=new l.tU;aq=[];fg._[1].all=u.amj?0:1}$.data={d:D,j:q,fi:!0,B:fg,b1:JSON.stringify(aq),Sq:null};
if(C.HS()){$.data.Sq=JSON.stringify(k8.Sq.default)}K.AV($);this.py($.data,K)}}if(D==l.vR){var hS=K.g[u.src],dr=K.g[u.WR];
if(dr.add.vmsk)return;var $=new g9([6,23],this),gj=hS.add.vmsk;$.data={j:u.WR,fi:hS.vC,B:gj.clone(),b1:JSON.stringify(hS.add.vogk),Sq:hS.add.vstk?JSON.stringify(hS.add.vstk):null};
if(a){$.data.d=l.cP}else{$.data.d=D;$.data.src=u.src;$.data.WR=u.WR}K.AV($);this.py($.data,K)}if(D==l.NQ||D==l.bH){if(K.z.length!=1)return;
var j=K.g[q],gj=j.add.vmsk;if(gj!=null){var c2=D==l.bH,$=new g9(c2?[6,8]:[6,24],this);$.data={d:l.NQ,j:q,fi:j.vC,B:gj,b1:JSON.stringify(j.add.vogk),Sq:j.add.vstk?JSON.stringify(j.add.vstk):null};
if(c2){$.data.ad=gj.Zv(j.add.vstk)}K.AV($);this.py($.data,K)}}if(D==l.H3){var $=new g9("Metadata",this);
$.data={d:D,_J:JSON.stringify(K.jv),yb:JSON.stringify(u.yb)};K.AV($);this.py($.data,K)}if(D==l.BC){var dK=u.WR?u.WR:K,cQ=dK.name,bc=u.h+".psd";
if(cQ==bc)return;var $=new g9([6,37],this);$.data={d:D,asv:cQ,Ea:bc};if(u.acF!=!0)dK.AV($);this.py($.data,dK)}if(D==l._t&&u.KR.endsWith("makeframes")){var et=[],eK=u.KR.startsWith("make");
for(var P=0;P<K.z.length;P++){var N=K.z[P],j=K.g[N],b3=j.getName(),eT=b3.startsWith("_a_");if(eK==eT||j.add.lsct==g4.wR)continue;
var ca=eK?"_a_"+b3:b3.slice(3);et.push([N,b3,ca,j.add.lnsr,null])}var $=new g9([6,37],this);$.data={d:l.I1,M3:et};
K.AV($);this.py($.data,K)}if(D==l.I1){var cQ=C.getName(),bc=u.name.substring(0,255);if(cQ==bc)return;
var $=new g9([6,37],this);$.data={d:D,M3:[[q,cQ,bc,C.add.lnsr,null]]};K.AV($);this.py($.data,K);this.track(bd.kl("Nm",{t:"TEXT",v:bc}))}if(D==l.LS){var jw=K.C6(),bK=[],a7=[];
for(var P=0;P<jw.length;P++){bK.push(K.g[jw[P]].add.lclr);a7.push(u.ann)}var $=new g9([6,38],this);$.data={d:D,g:jw,a8i:bK,yz:a7};
K.AV($);this.py($.data,K)}if(D==l.GH){var $=K.history[K.YQ];if($!=null&&$.b==this&&$.data.d==D&&$.data.j==u.Yq&&$.data.a5.nZ==u.iJ.nZ)$.data.a5=u.iJ;
else{$=new g9("Mask Density / Feather",this);$.data={d:D,j:u.Yq,gY:K.g[u.Yq].dy(u.iJ.nZ),a5:u.iJ};K.AV($)}this.py($.data,K)}if(D==l.ia){var eM=JSON.stringify(u.h),jz=JSON.parse(eM),$=K.history[K.YQ];
if($!=null&&$.b==this&&$.data.d==D&&$.data.FX==u.FX&&$.data.t7.join(",")==u.t7.join(",")){for(var P=0;
P<u.t7.length;P++)$.data.iY[P]=jz;if($.data.NA&&jz.lB!=0)R.aD.Gj(jz.Gu,$.data.NA.T.v,jz.lB-1)}else{$=new g9([11,6],this);
$.data={d:D,t7:u.t7,FX:u.FX,anI:[],iY:[]};var bN=!1;for(var P=0;P<u.t7.length;P++){var N=u.t7[P],j=K.g[N],ey=u.FX?R.jV.cQ(K,N):JSON.parse(JSON.stringify(j.add.vstk));
$.data.anI.push(ey);$.data.iY.push(jz);if(JSON.stringify(ey)!=eM)bN=!0}if(!bN)return;K.AV($);if(u.FX&&jz.lB>0){var bx=$.data.NA={classID:"setd",null:bd.Af("contentLayer",!0),T:{t:"Objc",v:{}}},cs=["SoCo","GdFl","PtFl"][jz.lB-1];
R.aD.Gj(jz.Gu,bx.T.v,jz.lB-1);this.track({$T:"set",NA:bx})}}if(u.FX&&jz.lB==3)K.q_(bW.ME(jz.Gu.Ptrn.v,w.u7));
if(!u.FX){var dk=jz.strokeStyleContent.v;if(dk.classID==k8.Sq.lv[2])K.q_(bW.ME(dk.Ptrn.v,w.u7))}this.py($.data,K)}};
R.aD.GG=function(u,g,K,X,w,D){var q=u.g[K],C=[];if(w)C=u.g.slice(0);else for(var P=0;P<u.g.length;P++)if(g.indexOf(P)==-1)C.push(u.g[P]);
var a=C.indexOf(q);if(D&&q.xp()&&q.add.lsct==g4.Ab)a-=u.d1(K).length-1;var x=[];for(var P=0;P<g.length;
P++){var H=a+(X?0:1)+P,$=w?w[P]:u.g[g[P]];C.splice(H,0,$);x.push(H)}return[C,x,a]};R.aD.Gj=function(u,g,K){var X=[k8.rS,k8.DK,k8.lf][K];
if(g.classID==null)g.classID=["solidColorLayer","gradientLayer","patternLayer"][K];for(var P=0;P<X.length;
P++)if(u[X[P]])g[X[P]]=JSON.parse(JSON.stringify(u[X[P]]))};R.aD.agT=function(u){var g=new l.I2;if(u.q!=null){g.color=0;
g.channel=u.q.channel.slice(0);g.rect=u.q.rect.clone()}return g};R.aD.yX=function(u,g,K,X,w){var D=X.m/K.m,q=X.n/K.n,C=X.m/2,a=X.n/2,x=f.p.JS(X).v;
for(var P=0;P<u.g.length;P++){var H=u.g[P],$=H.add.SoLd;if($==null||$.Idnt.v!=g)continue;if(D!=1||q!=1){var r=R.S.TU($.nonAffineTransform),c=f.Q.xZ(r,X),U=new eV;
U.translate(-C,-a);U.scale(D,q);U.translate(C,a);var O=f.Q.X7(c,f.Q.$D(U)),A=x.slice(0);f.Q.D(O,A);$.Trnf=R.S.c2(A);
$.nonAffineTransform=R.S.c2(A);if(f.zv.My($.warp.v)){var m=$.warp.v.bounds.v;m.Rght.v.val=X.m;m.Btom.v.val=X.n}}H.Qu(u,null,w)}u.O()};
R.aD.atY=function(u,g,K){g.color=255-g.color;f.CD(g.channel);g.vl=!0;u.th(K);K.O()};R.aD.prototype.A3=function(u,g){var K=u.d,X=g.g[u.j];
g.X5=!0;if(K==l.HM){g.add.lnk2.splice(g.add.lnk2.indexOf(u.y4),1,u.DC);R.aD.yX(g,u.id,u.y4.Z4[1],u.DC.Z4[1])}if(K==l.uw){X.add.SoLd.Impr.v.classID=u.gY;
X.Qu(g)}if(K==l.WG){var w=JSON.parse(u.t7);for(var P=0;P<w.length;P++)g.g[w[P]].wS=u.EP[P];g.O()}if(K==l.f2){var w=JSON.parse(u.t7);
for(var P=0;P<w.length;P++)g.g[w[P]].opacity=u.EP[P];g.O()}if(K==l.gB){var w=JSON.parse(u.t7);for(var P=0;
P<w.length;P++)if(g.g[w[P]].add.lsct!=g4.wR)g.g[w[P]].add.lspf=u.EP[P]}if(K==l.ry){var D=u.S_,q=u.aih;
delete X.add[D[0]];if(q[0]!="----")X.add[q[0]]=q[1]}if(K==l.HR){X.add.iOpa=u.EP;g.O()}if(K==l.Lf){for(var P=0;
P<u.t7.length;P++){var C=g.g[u.t7[P]];C.H4(!C.AG())}g.O()}if(K==l.vq){var a=X.Zv();a.isEnabled=!a.isEnabled;
X.th(g);g.O()}if(K==l.eC){var a=X.nE(g).B;a.isEnabled=!a.isEnabled;X.O();g.O()}if(K==l.r7){var a=X.add.vmsk;
a.isEnabled=!a.isEnabled;if(!a.isEnabled){if(X.ad){X.B=X.ad;X.ad=null}else X.B=null}else if(X.B){X.ad=X.B;
X.B=null}X.th(g);g.O()}if(K==l.pV){X.tG=!X.tG;g.O()}if(K==l.lY){X.add.lmfx.masterFXSwitch.v=!X.add.lmfx.masterFXSwitch.v;
X.gJ.je=!0;g.O()}if(K==l.g5){X.add.SoLd.filterFX.v.enab.v=!X.add.SoLd.filterFX.v.enab.v;X.Th(g);g.O()}if(K==l.X9){var x=u.index,H=X.add.lmfx[k8.pg[x[0]]].v[x[1]].v;
H.enab.v=!H.enab.v;X.gJ.je=!0;g.O()}if(K==l.um){var $=g.g[u.Pp],r=g.g[u.cb],c=u.avT,U=u.a9F;if(c=="")delete $.add.lmfx;
else $.add.lmfx=JSON.parse(c);if(U=="")delete r.add.lmfx;else r.add.lmfx=JSON.parse(U);$.gJ.je=!0;r.gJ.je=!0;
g.O()}if(K==l.NH){var O=X.add.SoLd.filterFX.v.filterFXList.v[u.index].v;O.enab.v=!O.enab.v;X.Th(g);g.O()}if(K==l.a4Z){X.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(u.auj));
X.Th(g);g.O()}if(K==l.y$){var a=X.Zv();a.Bo=!a.Bo}if(K==l.A7){var a=X.add.vmsk;a.Bo=!a.Bo}if(K==l.Nb){var A=JSON.parse(u.adK);
g.dI=A[0];g.h8=A[1]}if(K==l.q5){var A=u.eT;for(var P=0;P<A.length;P+=2){var m=A[P],C=m>=0?g.g[m]:g.Ml[-1-m];
C.add.vogk=JSON.parse(A[P+1]);f.b1.p6(C.add.vogk,C.add.vmsk);if(m>=0)C.th(g)}g.O()}if(K==l.fK){X.add.artb=JSON.parse(u.ax4);
g.O();R.SO.pL(g,u)}if(K==l.Tz){g.q=u.OZ;g.g1=u.eT.slice(0);g.qT=u.eO.slice(0);g.cK=g.vH=!0}if(K==l.MK){X.rJ=!X.rJ}if(K==l.CO){var i=u.amX;
for(var P=0;P<i.length;P++)g.g[P].lz=i[P]}if(K==l.Cv){if(u.R_)R.NP.rI(g,g.z,null,-u.R_.x,-u.R_.y);if(u.Uj)g.z=u.Uj;
if(u.FF)g.q=u.FF[0];g.J9=null;g.O();g.$O(u._7);R.SO.pL(g,u);if(u.D2)g.r4(u.D2[0])}if(K==l.EK){for(var P=0;
P<u.Ti.length;P+=3)R.aD.xe(g,g.g[u.Ti[P]],u.Ti[P+1]);if(u.FF){var e=u.FF[0];if(e==null)delete g.q;else g.q=e}}if(K==l.mI){X.nE(g).B=null;
X.O();g.O()}if(K==l.lc){X.nE(g).B=u.B;X.O();g.O()}if(K==l.eI){R.aD.abu(g,u.MZ,0)}if(K==l.cP){R.aD.kx(g,X,!0)}if(K==l.vR){R.aD.kx(g,g.g[u.WR],u.B.isEnabled);
R.aD.MD(g,g.g[u.src],u)}if(K==l.NQ){if(u.ad)R.aD.xe(g,X,null);R.aD.MD(g,X,u)}if(K==l.H3){g.jv=JSON.parse(u._J)}if(K==l.BC){g.name=u.asv}if(K==l.I1){for(var P=0;
P<u.M3.length;P++){var S=u.M3[P],C=g.g[S[0]];C.Q9(S[1]);if(S[3])C.add.lnsr=S[3];else delete C.add.lnsr}}if(K==l.LS){for(var P=0;
P<u.g.length;P++)g.g[u.g[P]].add.lclr=u.a8i[P]}if(K==l.ia){var E=u.anI;for(var P=0;P<u.t7.length;P++){var C=g.g[u.t7[P]],Z=E[P];
if(!u.FX)C.add.vstk=JSON.parse(JSON.stringify(Z));else R.jV.qi(C,JSON.parse(JSON.stringify(Z)));C.QW(g)}g.O()}if(K==l.GH){X.aqe(u.gY);
X.th(g);g.O()}g.vH=!0};R.aD.prototype.py=function(u,g){var K=u.d,X=g.g[u.j];g.X5=!0;if(K==l.HM){g.add.lnk2.splice(g.add.lnk2.indexOf(u.DC),1,u.y4);
R.aD.yX(g,u.id,u.DC.Z4[1],u.y4.Z4[1])}if(K==l.uw){X.add.SoLd.Impr.v.classID=u.a5;X.Qu(g)}if(K==l.WG){var w=JSON.parse(u.t7);
for(var P=0;P<w.length;P++)g.g[w[P]].wS=u.a5;g.O()}if(K==l.f2){var w=JSON.parse(u.t7);for(var P=0;P<w.length;
P++)g.g[w[P]].opacity=u.a5;g.O()}if(K==l.gB){var w=JSON.parse(u.t7);for(var P=0;P<w.length;P++)if(g.g[w[P]].add.lsct!=g4.wR)g.g[w[P]].add.lspf=u.a5[P]}if(K==l.ry){var D=u.aih,q=u.S_;
delete X.add[D[0]];if(q[0]!="----")X.add[q[0]]=q[1]}if(K==l.HR){X.add.iOpa=u.a5;g.O()}if(K==l.Lf){for(var P=0;
P<u.t7.length;P++){var C=g.g[u.t7[P]];C.H4(!C.AG())}g.O()}if(K==l.vq){var a=X.Zv();a.isEnabled=!a.isEnabled;
X.th(g);g.O()}if(K==l.eC){var a=X.nE(g).B;a.isEnabled=!a.isEnabled;X.O();g.O()}if(K==l.r7){var a=X.add.vmsk;
a.isEnabled=!a.isEnabled;if(!a.isEnabled){if(X.ad){X.B=X.ad;X.ad=null}else X.B=null}else if(X.B){X.ad=X.B;
X.B=null}X.th(g);g.O()}if(K==l.pV){X.tG=!X.tG;g.O()}if(K==l.lY){X.add.lmfx.masterFXSwitch.v=!X.add.lmfx.masterFXSwitch.v;
X.gJ.je=!0;g.O()}if(K==l.g5){X.add.SoLd.filterFX.v.enab.v=!X.add.SoLd.filterFX.v.enab.v;X.Th(g);g.O()}if(K==l.X9){var x=u.index,H=X.add.lmfx[k8.pg[x[0]]].v[x[1]].v;
H.enab.v=!H.enab.v;X.gJ.je=!0;g.O()}if(K==l.um){var $=g.g[u.Pp],r=g.g[u.cb],c=u.alV,U=u.aud;if(c=="")delete $.add.lmfx;
else $.add.lmfx=JSON.parse(c);if(U=="")delete r.add.lmfx;else r.add.lmfx=JSON.parse(U);$.gJ.je=!0;r.gJ.je=!0;
g.O()}if(K==l.NH){var O=X.add.SoLd.filterFX.v.filterFXList.v[u.index].v;O.enab.v=!O.enab.v;X.Th(g);g.O()}if(K==l.a4Z){X.add.SoLd.filterFX.v=JSON.parse(JSON.stringify(u.ap$));
X.Th(g);g.O()}if(K==l.y$){var a=X.Zv();a.Bo=!a.Bo}if(K==l.A7){var a=X.add.vmsk;a.Bo=!a.Bo}if(K==l.Nb){var A=JSON.parse(u.a7S);
g.dI=A[0];g.h8=A[1]}if(K==l.q5){var A=u.ap;for(var P=0;P<A.length;P+=2){var m=A[P],C=m>=0?g.g[m]:g.Ml[-1-m];
C.add.vogk=JSON.parse(A[P+1]);f.b1.p6(C.add.vogk,C.add.vmsk);if(m>=0)C.th(g)}g.O()}if(K==l.fK){X.add.artb=JSON.parse(u.sd);
g.O();R.SO.k3(g,u)}if(K==l.Tz){g.q=u.V5;g.g1=u.ap.slice(0);g.qT=u.BT.slice(0);g.cK=g.vH=!0}if(K==l.MK){X.rJ=!X.rJ}if(K==l.CO){var i=u.a6P;
for(var P=0;P<i.length;P++)g.g[P].lz=i[P]}if(K==l.Cv){var e=u.j1,S=0,E;for(var P=0;P<e.length;P++){var C=e[P],Z=C.add.lsct;
if(Z==g4.wR)S++;else if(Z==g4.DM||Z==g4.Ab)S--;if(C.add.artb&&S!=0)E="Artboards can not be inside folders."}if(E){g.history.pop();
g.YQ--;alert(E);return}R.SO.k3(g,u);if(u.eh)g.z=u.eh;if(u.FF)g.q=u.FF[1];g.J9=null;g.O();g.$O(u.j1);
if(u.R_)R.NP.rI(g,g.z,null,u.R_.x,u.R_.y);if(u.D2)g.r4(u.D2[1])}if(K==l.EK){for(var P=0;P<u.Ti.length;
P+=3)R.aD.xe(g,g.g[u.Ti[P]],u.Ti[P+2]);if(u.FF){var N=u.FF[1];if(N==null)delete g.q;else g.q=N}}if(K==l.mI){X.nE(g).B=u.B;
X.oF=0;X.O();g.O()}if(K==l.lc){X.nE(g).B=null;X.oF=0;X.O();g.O()}if(K==l.eI){R.aD.abu(g,u.MZ,1)}if(K==l.cP){R.aD.MD(g,X,u)}if(K==l.vR){R.aD.kx(g,g.g[u.src],u.B.isEnabled);
R.aD.MD(g,g.g[u.WR],u)}if(K==l.NQ){R.aD.kx(g,X,u.B.isEnabled);if(u.ad)R.aD.xe(g,X,u.ad)}if(K==l.H3){g.jv=JSON.parse(u.yb)}if(K==l.BC){g.name=u.Ea}if(K==l.I1){for(var P=0;
P<u.M3.length;P++){var J=u.M3[P],C=g.g[J[0]];C.Q9(J[2]);if(J[4])C.add.lnsr=J[4];else delete C.add.lnsr}}if(K==l.LS){for(var P=0;
P<u.g.length;P++)g.g[u.g[P]].add.lclr=u.yz[P]}if(K==l.ia){var y=u.iY;for(var P=0;P<u.t7.length;P++){var C=g.g[u.t7[P]],o=y[P];
if(!u.FX)C.add.vstk=JSON.parse(JSON.stringify(o));else R.jV.qi(C,JSON.parse(JSON.stringify(o)));C.QW(g)}g.O()}if(K==l.GH){X.aqe(u.a5);
X.th(g);g.O()}g.vH=!0};R.aD.q8=function(u,g){var K=0;for(var P=0;P<u.g.length;P++){var X=u.g[P].getName();
if(X.startsWith(g)){var w=X.slice(g.length).trim(),D=parseInt(w);if(!isNaN(D)&&D+""==w&&D>K)K=D}}return K};
R.aD.abu=function(u,g,K){for(var P=0;P<g.length;P++){var X=g[P],w=u.g[X.XR];if(X.v1){w.add.SoLd=JSON.parse(X.v1[K])}if(X.Al){if(X.Al[1-K]!=null)u.v8(X.Al[1-K]);
if(X.Al[K]!=null)u.T8(X.Al[K]);else w.oF=0}w.Qu(u)}};R.aD.a5M=function(u,g){var K=u.kb,X=u.rect.clone();
if(K!=null&&(K.x!=g.m||K.y!=g.n)){X.x=Math.floor((g.m-X.m)/2);X.y=Math.floor((g.n-X.n)/2)}else if(K==null){var w=new dS(0,0,g.m,g.n),D=g.kE();
if(D!=-1)w=g.g[D].T0();X.x+=w.x;X.y+=w.y}return X};R.aD.aeN=function(u,g){if(g.ad)g.ad=null;else g.B=null;
g.th(u);u.O();g.oF=0};R.aD.xe=function(u,g,K){var X=g.Zv();if(X==null&&K==null)return;if(X)R.aD.aeN(u,g);
if(K==null)return;if(g.B)g.ad=K;else g.B=K;g.th(u);u.O()};R.aD.kx=function(u,g,K){if(g.ad&&K){g.B=g.ad;
g.ad=null}else if(g.B&&K){g.B=null}delete g.add.vogk;delete g.add.vstk;delete g.add.vmsk;g.th(u);g.vC=!1;
u.J9=[];u.O()};R.aD.MD=function(u,g,K){g.add.vogk=JSON.parse(K.b1);if(K.Sq)g.add.vstk=JSON.parse(K.Sq);
else delete g.add.vstk;g.add.vmsk=K.B.clone();if(g.B&&g.add.vmsk.isEnabled)g.ad=g.B;g.th(u);g.vC=K.fi;
u.J9=[u.g.indexOf(g)];u.qe=[];u.O()};R.hn=function(){R.N8.call(this,"Layer Styles",R.vz);this.Qt=null;
this.wn=null;this.Qd=null;this.QO=[];this.p_=null};R.hn.prototype=new R.N8;R.hn.prototype.RR=function(u,g,K,X,w){var D=u.j;
if(D==null)D=K.z[0];var q=K.g[D],C=u.Mw;if(this.Qt==null){this.Qd=R.hn.sb(K,q);this.Qt=JSON.stringify(this.Qd);
if(q.add.lmfx)this.wn=JSON.stringify(q.add.lmfx)}if(q.add.lmfx==null){q.add.lmfx=JSON.parse(k8.default);
for(var P=0;P<k8.order.length;P++)q.add.lmfx[k8.pg[P]]={t:"VlLs",v:[]}}if(u.d=="scaleeffects"){if(u.h=="confirm"||u.h=="cancel"){this.RR({d:u.h},g,K,X,w);
return}q.add.lmfx=JSON.parse(this.wn);bW.pZ(q.add.lmfx,u.h/100)}else if(u.d=="changeprop"){var a=null;
if(C!=0){var x=this.QO[C[0]];if(x==null)x=k8.QO[C[0]];x=JSON.parse(x);var H=q.add.lmfx[k8.pg[C[0]]].v;
if(H[C[1]]==null)H[C[1]]={t:"Objc",v:x};a=H[C[1]].v;for(var $ in x)if(a[$]==null)a[$]=x[$]}if(u.d=="changeprop"){if(C==0){this.Qd[u.ly].v=u.h;
R.hn.Hl(K,q,this.Qd)}else if(u.ly=="lagl"){if(a.uglg&&a.uglg.v){K.uy(u.h.val);this.Qd.gagl.v.val=K.pm()}else a[u.ly].v=u.h}else if(u.ly=="Lald"){if(a.uglg.v){K.jg(u.h.val);
this.Qd.asa=K.lb()}else a[u.ly].v=u.h}else if((C[0]==3||C[0]==8)&&(u.ly=="Clr"||u.ly=="Grad")){if(u.ly=="Clr"){a.Clr={t:"Objc",v:u.h};
delete a.Grad}if(u.ly=="Grad"){a.Grad={t:"Objc",v:u.h};delete a.Clr}}else{a[u.ly].v=u.h}if(C!=0)this.QO[C[0]]=JSON.stringify(a)}if(C!=0)if(a.Ptrn)K.q_(bW.ME(a.Ptrn.v,w.u7))}else if(u.d=="setstl"){var r=u.h.Lefx;
if(r)bW.an5(r,K,w.u7);bW.auX(u.h,q,null,K);this.Qd=R.hn.sb(K,q)}else if(u.d=="st_dupsingle"){var c=q.add.lmfx[k8.pg[u.cZ[0]]].v;
if(c[u.cZ[1]]==null)return;var U=JSON.parse(JSON.stringify(c[u.cZ[1]]));c.splice(u.cZ[1],0,U)}else if(u.d=="st_movsingle"){var O=u.cZ[1],c=q.add.lmfx[k8.pg[u.cZ[0]]].v;
if(c[u.cZ[1]]==null)return;var A=Math.max(0,Math.min(c.length-1,O+u.a9x)),m=c[A];c[A]=c[O];c[O]=m}else if(u.d=="cancel"){if(this.wn==null)delete q.add.lmfx;
else q.add.lmfx=JSON.parse(this.wn);R.hn.Hl(K,q,JSON.parse(this.Qt));this.Qt=null;this.wn=null}else if(u.d=="confirm"){var i=JSON.stringify(q.add.lmfx),e=new g9([11,6],this);
e.data={g:[D],yw:[this.wn],NY:[i],r8:[this.Qt],e2:[JSON.stringify(this.Qd)]};K.AV(e);this.Qt=null;this.wn=null;
if(i!=null){var S=JSON.parse(i);aG.Im(S);S.classID="Lefx";delete S.masterFXSwitch;var E=new eG(h.E.qf);
E.UG=!0;E.data={$T:"set",wL:!0};var Z=bd.Af("Lyr",!0);Z.v.splice(0,0,{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}});
E.data.NA={__name:"Set",classID:"setd",null:Z,T:{t:"Objc",v:S}};g.c(E)}}else if(u.d=="st_copy"){this.p_=[this.Qt,this.wn];
this.Qt=null;this.wn=null}else if(u.d=="st_paste"||u.d=="st_clear"){if(u.d=="st_paste"&&this.p_==null)return;
var N=u.j!=null?[u.j]:K.z.slice(0),J=[],y=[],B=[],t=[];for(var P=0;P<N.length;P++){var q=K.g[N[P]],W=R.hn.sb(K,q);
J.push(q.add.lmfx?JSON.stringify(q.add.lmfx):null);B.push(JSON.stringify(W));if(u.d=="st_paste"){y.push(this.p_[1]);
t.push(this.p_[0])}else{y.push(null);W.lrMd.v=0;W.Opct.v.val=100;W.iOpa.v.val=100;W.blIf={v:[]};for(var F=0;
F<10;F++)W.blIf.v.push(0,0,255,255);t.push(JSON.stringify(W))}}var e=new g9([11,6],this);e.data={g:N,yw:J,NY:y,r8:B,e2:t};
this.py(e.data,K);K.AV(e);this.Qt=null;this.wn=null}else{var G=this.Qd,S=null;if(u.d=="st_delsingle"){S=JSON.parse(this.wn);
S[k8.pg[u.cZ[0]]].v.splice(u.cZ[1],1);S=JSON.stringify(S)}if(S==null)delete q.add.lmfx;else q.add.lmfx=JSON.parse(S);
if(G!=null)R.hn.Hl(K,q,G);var e=new g9([11,6],this);e.data={g:[u.j],yw:[this.wn],NY:[S],r8:[this.Qt],e2:[JSON.stringify(G)]};
K.AV(e);this.Qt=null;this.wn=null}q.gJ.je=!0;K.X5=!0;K.O()};R.hn.sb=function(u,g){if(g.add.iOpa==null)g.add.iOpa=255;
if(g.add.brst==null)g.add.brst=[1,1,1];var K=g.xp()?["pass"].concat(b0.t8):b0.t8;return{lrMd:{v:K.indexOf(g.wS)},Opct:{v:{type:"#Prc",val:Math.round(g.opacity*100/255)},t:"UntF"},iOpa:{v:{type:"#Prc",val:Math.round(g.add.iOpa*100/255)},t:"UntF"},blIf:{v:g.Cc.slice(0)},brst:{v:g.add.brst},gagl:{t:"UntF",v:{type:"#Ang",val:u.pm()}},asa:u.lb(),xp:g.xp()}};
R.hn.Hl=function(u,g,K){var X=g.xp()?["pass"].concat(b0.t8):b0.t8;g.wS=X[K.lrMd.v];g.opacity=Math.round(K.Opct.v.val*255/100);
g.add.iOpa=Math.round(K.iOpa.v.val*255/100);g.Cc=K.blIf.v.slice(0);g.add.brst=K.brst.v.slice(0);u.uy(K.gagl.v.val);
u.jg(K.asa)};R.hn.prototype.A3=function(u,g){for(var P=0;P<u.g.length;P++){var K=g.g[u.g[P]],X=u.yw[P];
if(X==null)delete K.add.lmfx;else K.add.lmfx=JSON.parse(X);R.hn.Hl(g,K,JSON.parse(u.r8[P]));K.gJ.je=!0}g.X5=!0;
g.O()};R.hn.prototype.py=function(u,g){for(var P=0;P<u.g.length;P++){var K=g.g[u.g[P]],X=u.NY[P];if(X==null)delete K.add.lmfx;
else K.add.lmfx=JSON.parse(X);R.hn.Hl(g,K,JSON.parse(u.e2[P]));K.gJ.je=!0}g.X5=!0;g.O()};R.ha=function(){R.N8.call(this,"Layer Comps",R.d$)};
R.ha.prototype=new R.N8;R.ha.prototype.RR=function(u,g,K,X){var w=JSON.parse(JSON.stringify(K.Yf)),D=JSON.parse(JSON.stringify(K.Yf)),q=null,C=null,a=null,x=-1,H=!1;
if(u.d=="delLC"){var $=R.ha.fN(K.Yf,u.Mw),r=K.Yf.lastAppliedComp?K.Yf.lastAppliedComp.v:0;D.list.v.splice($,1);
if(r==u.Mw)delete D.lastAppliedComp;q="Delete Layer Comp"}if(u.d=="editLC"){var $=R.ha.fN(K.Yf,u.Mw),c=D.list.v[$].v;
if(u.Ea!=null)c.Nm.v=u.Ea;if(u.a3A!=null){var U=u.a3A,O=c.capturedInfo.v,A=O&(1<<U)-1;O=O>>U;if((O&1)==1)O--;
else O++;c.capturedInfo.v=(O<<U)+A}q="Layer Comp properties"}if(u.d=="setLC"){R.ha.Bc(K);if(u.Mw==0)delete D.lastAppliedComp;
else D.lastAppliedComp={t:"long",v:u.Mw};q="Switch Layer Comp";H=!0}if(u.d=="updLC"){R.ha.Bc(K);C=R.ha.a4e(K,u.Mw);
a=R.ha.d5(K,u.Mw);D.lastAppliedComp={t:"long",v:u.Mw};q="Update Layer Comp";x=u.Mw;H=!0}if(u.d=="addLC"){R.ha.Bc(K);
var m=1;for(var P=0;P<D.list.v.length;P++)m=Math.max(m,D.list.v[P].v.compID.v)+1;m+=Math.floor(Math.random()*1e4);
var i={t:"Objc",v:{classID:"Comp",Nm:{t:"TEXT",v:"New Comp "+(D.list.v.length+1)},compID:{t:"long",v:m},capturedInfo:{t:"long",v:7}}};
D.list.v.push(i);D.lastAppliedComp={t:"long",v:m};q="New Layer Comp";var e=R.ha.d5(K,m);R.ha.T7(K,e,m)}var S=new g9(q,this);
S.data={agn:w,a0L:D,adP:C,ao7:a,Mw:x,P2:H};this.py(S.data,K);K.AV(S)};R.ha.prototype.py=function(u,g){g.Yf=u.a0L;
g.X5=!0;if(u.ao7)R.ha.T7(g,u.ao7,u.Mw);if(u.P2){var K=g.Yf.lastAppliedComp?g.Yf.lastAppliedComp.v:0,X=R.ha.fN(g.Yf,K),w=X==-1?null:g.Yf.list.v[X].v,D=w?w.capturedInfo.v:7;
R.ha.DH(g,K,D);g.O()}};R.ha.prototype.A3=function(u,g){g.Yf=u.agn;g.X5=!0;if(u.adP)R.ha.T7(g,u.adP,u.Mw);
if(u.P2){var K=g.Yf.lastAppliedComp?g.Yf.lastAppliedComp.v:0,X=R.ha.fN(g.Yf,K),w=X==-1?null:g.Yf.list.v[X].v,D=w?w.capturedInfo.v:7;
R.ha.DH(g,K,D);g.O()}};R.ha.Bc=function(u){if(u.Yf.lastAppliedComp!=null||!u.Jg)return;var g=R.ha.d5(u,0);
R.ha.T7(u,g,0);u.Jg=!1};R.ha.W6=function(u,g,K){u.v.Hrzn.v+=g;u.v.Vrtc.v+=K};R.ha.fN=function(u,g){var K=u.list.v;
for(var P=0;P<K.length;P++)if(K[P].v.compID.v==g)return P;return-1};R.ha.a4b=function(u){var g=u.layerSettings.v,w=null;
if(g.length==0)return;var K="compList enab Ofst blendOptions Lefx FXRefPoint imageMask vectorMask layerSpecific".split(" "),X=g[0].v;
if(X.enab==null)X.enab={t:"bool",v:!0};if(X.Ofst==null)X.Ofst={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:0},Vrtc:{t:"long",v:0}}};
for(var P=0;P<g.length;P++){var D=g[P].v;if(w==null)w=JSON.parse(JSON.stringify(D));else for(var q=0;
q<K.length;q++){var C=K[q];if(D[C])w[C]=JSON.parse(JSON.stringify(D[C]))}g[P].v=JSON.parse(JSON.stringify(w))}};
R.ha.a5o=function(u,g){var K=u.add.shmd.cmls,X=K.layerSettings.v;for(var w=0;w<X.length;w++){var D=X[w].v,q=D.compList.v[0].v;
if(q==g)return w}return-1};R.ha.ae9=function(u,g){var K=R.ha.a5o(u,g);return K==-1?null:u.add.shmd.cmls.layerSettings.v[K].v};
R.ha.DH=function(u,g,K){for(var P=0;P<u.g.length;P++){var X=u.g[P],w=X.add.shmd.cmls;if(w==null)continue;
var D=w.layerSettings.v,q=R.ha.ae9(X,g);if(q==null){X.H4(!1);continue}if((K&1)!=0){if(q.enab)X.H4(q.enab.v);
else X.H4(!0)}if((K&2)!=0){if(q.Ofst){var C=q.Ofst.v,a=X.FE(u),x=Math.round(C.Hrzn.v-a.x),H=Math.round(C.Vrtc.v-a.y);
if(x!=0||H!=0)R.NP.rI(u,[P],null,x,H)}}if((K&4)!=0){if(q.Lefx){var $=JSON.parse(JSON.stringify(q.Lefx.v));
aG.cE($);if(JSON.stringify($)!=JSON.stringify(X.add.lmfx)){X.add.lmfx=$;X.gJ.je=!0}}else delete X.add.lmfx;
if(q.blendOptions){var r=q.blendOptions.v;if(r.Opct)X.opacity=Math.round(255*r.Opct.v.val/100);if(r.fillOpacity)X.add.iOpa=Math.round(255*r.fillOpacity.v.val/100);
if(r.Md)X.wS=X.add.lsct==g4.wR?"norm":b0.x3(r.Md.v.BlnM)}else{X.opacity=255;X.wS=X.xp()?"pass":"norm";
X.add.iOpa=255}}}};R.ha.a4e=function(u,g){var K={};for(var P=0;P<u.g.length;P++){var X=u.g[P];if(X.add.shmd==null||X.add.shmd.cmls==null)continue;
K["l"+X.add.lyid]=JSON.parse(JSON.stringify(R.ha.ae9(X,g)))}return K};R.ha.d5=function(u,g){var K={};
for(var P=0;P<u.g.length;P++){var X=u.g[P],w=X.add.lyid;K["l"+w]=R.ha.arB(u,X,g)}return K};R.ha.arB=function(u,g,K){var X=g.add.shmd?g.add.shmd.cmls:null,w={classID:"null"},D=g.FE(u),q={t:"Objc",v:{classID:"null",Hrzn:{t:"long",v:D.x},Vrtc:{t:"long",v:D.y}}};
w.compList={t:"VlLs",v:[{t:"long",v:K}]};w.enab={t:"bool",v:g.AG()};w.Ofst=JSON.parse(JSON.stringify(q));
w.FXRefPoint=JSON.parse(JSON.stringify(X&&X.origFXRefPoint?X.origFXRefPoint:q));w.blendOptions={t:"Objc",v:{classID:"null",Md:{t:"enum",v:{BlnM:b0.HF(g.wS)}},Opct:{t:"UntF",v:{type:"#Prc",val:100*g.opacity/255}},fillOpacity:{t:"UntF",v:{type:"#Prc",val:g.add.iOpa!=null?100*g.add.iOpa/255:100}}}};
if(g.add.vmsk){w.vectorMask={t:"Objc",v:{classID:"null"}};w.vectorMask.v.Ofst=JSON.parse(JSON.stringify(q))}if(g.add.lmfx){w.Lefx={t:"Objc",v:JSON.parse(JSON.stringify(g.add.lmfx))};
aG.Im(w.Lefx.v)}return w};R.ha.aml=function(u,g){var K=g.add.lyid;if(g.add.shmd==null)g.add.shmd={};
if(g.add.shmd.cmls==null){g.add.shmd.cmls={classID:"null",LyrI:{t:"long",v:K},layerSettings:{t:"VlLs",v:[{t:"Objc",v:R.ha.arB(u,g,0)}]}}}};
R.ha.T7=function(u,g,K){for(var P=0;P<u.g.length;P++){var X=u.g[P],w=X.add.lyid;R.ha.aml(u,X);var D=X.add.shmd.cmls,q=D.layerSettings.v,C=g["l"+w];
if(C!=null)C={t:"Objc",v:JSON.parse(JSON.stringify(C))};var a=R.ha.a5o(X,K);if(a==-1){if(C==null)continue;
else q.push(C)}else{if(C==null)q.splice(a,1);else q[a]=C}}};R.ha.cw=function(u,g){for(var P=0;P<u.g.length;
P++){var K=u.g[P],X=K.add.lyid;if(K.add.shmd==null||K.add.shmd.cmls==null)continue;var w=K.FE(u),D=Math.round(w.x),q=Math.round(w.y);
if(!g){D=-D;q=-q}var C=K.add.shmd.cmls,a=C.layerSettings.v;if(C.origFXRefPoint)R.ha.W6(C.origFXRefPoint,-D,-q);
for(var x=0;x<a.length;x++){var H=a[x].v;R.ha.W6(H.Ofst,D,q);var $=H.imageMask,r=H.vectorMask;if($&&$.v.Ofst)R.ha.W6($.v.Ofst,D,q);
if(r&&r.v.Ofst)R.ha.W6(r.v.Ofst,D,q)}}};R.st=function(){R.N8.call(this,"Adjust Edit",R.sM);this.yb=null;
this.pn=null};R.st.prototype=new R.N8;R.st.x2=function(u,g,K,X){if(X)g/=4;var w=0,D=0,q=255,C=0,a=0,x=255;
while(D+u[w]<g){D+=u[w];w++}while(C+u[q]<g){C+=u[q];q--}if(X){w-=Math.round(u[w]/(K/32));q+=Math.round(u[q]/(K/32));
if(w<0)a=Math.round(-w*255/(q-w));if(q>255)x=255-Math.round((q-255)*255/(q-w))}return[Math.max(w,0),Math.min(q,255),a,x,100]};
R.st.prototype.RR=function(u,g,K,X,w){var D=u.d;if(D=="auto"){var q=u.Qr,C=R.st.getData(K);for(var P=0;
P<C.length;P++){var a=C[P],x;if(q<3){}else{var H=dJ.mt("hue2");bV.mu(H,0,[0,-100,0]);x=jO.Zq("hue2",H)}jO.o4(x,a.ee,a.FV,a.mf)}R.st.V$(K,C);
R.st.VG(K,C,q<3?[4,16,q]:[19,7,0],this);K.O()}if(D=="edit_layer")this.ax3(u,g,K,X);if(D=="edit"||D=="confirm"||D=="cancel")this.cJ(u,g,K,w,!0);
if(D=="start"){if(K.z.length==0)return;var $=K.g[K.z[0]];if($.add.SoLd&&$.oF<=0&&K.qT.length==0){var r=new eG(h.E.l,!0);
r.b=R.DQ;r.data={d:"start",YL:u.W1,jp:u.jp};g.c(r);return}if(!K.zL(g,null,!0))return;if(_[u.W1]&&u.jp==null){if(K.z.length!=1)alert("Will be applied to "+K.z.length+" layers.");
var r=new eG(h.E.Y,!0);r.data={d:h.s.KP,Pu:"afw_"+u.W1};g.c(r)}else{this.cJ({d:"edit",jp:u.jp,YL:u.W1},g,K,w);
this.cJ({d:"confirm",YL:u.W1},g,K,w)}}};R.st.prototype.ax3=function(u,g,K,X){var w=u.d,D=K.z[0],q=K.g[D],C=jO.get(q.add),a=JSON.parse(JSON.stringify(q.add[C])),r;
for(var x in u.h)a[x]=u.h[x];var H=JSON.parse(JSON.stringify(a));for(var x in jO.LC)if(jO.LC[x]==C)H.classID=x;
var $=K.history[K.YQ];if($&&$.b==this&&$.data.gY!=null&&$.data.j==D)r=$;else{var c=new eG(h.E.qf,!0),U={classID:"setd",null:bd.Af("AdjL",!0),T:{t:"Objc",v:H}};
c.data={wL:!0,$T:"set",NA:U};g.c(c);var r=new g9([6,39],this);r.data={j:D,gY:q.add[C],a5:a,RI:U};K.AV(r)}r.data.a5=a;
r.data.RI.T.v=H;this.py(r.data,K)};R.st.getData=function(u,g,K){var X=[],w=new dS(0,0,u.m,u.n),D=u.qT.length!=0?[-1-u.qT[0]]:u.z;
for(var P=0;P<D.length;P++){var q=D[P],C=q<0?null:u.g[q],a={j:q,lK:q<0?1:C.oF};X.push(a);var x=u.g1[-1-q];
if(0<=q)x=C.oF<=0?null:C.oF==1?C.Zv():C.nE(u).B;var H=x?x.rect:C.rect;if(u.q)a.mf=x!=null?u.q.rect.I3(w):u.q.rect.I3(H);
else a.mf=g||x!=null?H.RN(w):H.clone();if(K)a.mf=K[P].mf.clone();var $=a.mf.$();a.ee=f.L($*4);if(x)R.Xo.MN(x.channel,x.rect,x.color,a.ee,a.mf);
else f.bV(C.buffer,H,a.ee,a.mf);a.FV=a.ee.slice(0);if(u.q){a.Ti=f.L($);f.x5(u.q.channel,u.q.rect,a.Ti,a.mf)}}return X};
R.st.ali=function(u,g,K){if(g==null)return g;var X=jO.In(u,g),D;if(X==-1)return g;var w=K.length>>>2,q=f.wB(K),C=.001*w;
if(X==0||X==2)D=[[0,255,0,255,100],R.st.x2(q[1],C,w,X==2),R.st.x2(q[2],C,w,X==2),R.st.x2(q[3],C,w,X==2)];
if(X==1)D=[R.st.x2(q[0],C*.33,w,!1),[0,255,0,255,100],[0,255,0,255,100],[0,255,0,255,100]];var a=dJ.mt("levl");
for(var P=0;P<4;P++)ad.mu(a,P,D[P]);return a};R.st.a84=function(u,g,K,X){var w,D;if(K.t=="name"){var q=0;
for(var C=0;C<u.g.length;C++)if(u.g[C].getName()==K.v.val)q=C;if(u==g&&q==X.j){w=X.ee;D=X.mf}else{var a=u.g[q];
w=a.buffer;D=a.rect}}else{D=new dS(0,0,u.m,u.n);w=u==g?X.Wf:u.KS()}return[w,D]};R.st.prototype.cJ=function(u,g,K,X){if(this.yb==null){if(u.YL=="aply")K.g[K.z[0]].extend(new dS(0,0,K.m,K.n));
this.yb=R.st.getData(K,null,u.YL=="fade"?K.mM().data:null);if(u.YL=="aply"||u.YL=="matc")this.yb[0].Wf=K.KS()}if(u.d=="edit"){this.pn=[u.YL,u.jp];
var w=this.yb[0],D=R.st.ali(u.YL,u.jp,w.ee),q=jO.Zq(u.YL,D);if(u.YL=="fade"||u.YL=="matc"||u.YL=="aply")q=u.jp;
if(q!=null){for(var C=0;C<this.yb.length;C++){var a=this.yb[C];if(u.J3)f.me(a.ee,a.FV);else if(u.YL=="fade"){var x=b0.x3(u.jp.Md.v.BlnM),H=u.jp.Opct.v.val/100,$=K.mM().data[C];
f.me($.ee,a.FV);if(x=="norm")f.i.$c(a.ee,a.mf,a.FV,a.mf,null,null,null,a.mf,H);else{var r=bW.Gv();r.Ak=!0;
for(var P=0;P<$.ee.length;P+=4)if($.ee[P+3]!=a.ee[P+3]){r=null;break}f.i.L_(x,a.ee,a.mf,a.FV,a.mf,a.mf,H,r)}}else if(u.YL=="matc"){var c;
if(q.noReference&&q.noReference.v)c=a.ee;else{var U=q.Srce.v,O=U[1].v.val,A=g.BE,m=K;for(var P=0;P<A.length;
P++)if(A[P].name==O)m=A[P];var i=R.st.a84(m,K,U[0],a);c=i[0]}cz(a.ee,a.mf.m,a.mf.n,c,a.FV,[q.Lght.v,q.ClrR.v,q.Fade.v,q.neutralizeColor?q.neutralizeColor.v:!1])}else if(u.YL=="aply"){q=q.With.v;
var e=q.T.v,i=R.st.a84(K,K,e[1],a),c=i[0],S=i[1],E=q.Clcl?q.Clcl.v.Clcn:null,x=E?b0.x3(E):"norm",H=q.Opct?q.Opct.v.val/100:1,Z=["RGB","Rd","Grn","Bl","Trsp"].indexOf(e[0].v.enum),D=q.Invr&&q.Invr.v;
if(D||Z!=0){c=c.slice(0);if(D)f.a6G(c);if(Z!=0){var N=f.L(S.$());f.hk(c,N,Z-1);if(Z==4)f.CD(N);for(var J=0;
J<3;J++)f.K1(N,c,J)}}if(E=="Add"||E=="Sbtr"){var y=1/q.Scl.v,o=q.Ofst.v,B=E=="Add"?1:-1,t=new Uint8ClampedArray(a.FV.buffer);
for(var P=0;P<c.length;P+=4){t[P]=(a.ee[P]+B*c[P])*y+o;t[P+1]=(a.ee[P+1]+B*c[P+1])*y+o;t[P+2]=(a.ee[P+2]+B*c[P+2])*y+o}}else{var r=bW.Gv();
r.Ak=q.PrsT&&q.PrsT.v;a.FV.fill(0);a.FV.set(a.ee);f.i.L_(x,c,S,a.FV,a.mf,a.mf,H,r)}}else jO.o4(q,a.ee,a.FV,a.mf)}R.st.V$(K,this.yb)}}if(u.d=="cancel"){R.st.a0B(K,this.yb);
this.yb=null}if(u.d=="confirm"){var W={fade:[2,11],aply:[2,12],matc:[4,18]},F=W[u.YL];if(F==null)F=jO.names[u.YL];
var G=jO.In(u.YL,this.pn[1]);if(G!=-1)F=[4,16,G];R.st.VG(K,this.yb,F,this);this.yb=null;if(G==-1)R.st._g(g,this.pn)}K.O()};
R.st._g=function(u,g){var K=g[0],X=g[1],w,D;if(jO.aA[K]){w=jO.aA[K];if(_[K])D=X}if(dJ.aA[K]){w=dJ.aA[K];
if(_[K])D=X}if(K=="fade"){w="fade";D=X}if(K=="matc"){w="matchColor";D=X}if(K=="aply"){w="applyImageEvent";
D=X}if(w==null)return;var q=new eG(h.E.qf,!0);q.data={wL:!0,$T:w};if(D){D=JSON.parse(JSON.stringify(D));
D.classID="null";delete D.__name;q.data.NA=D}u.c(q)};R.st.a0B=function(u,g){R.st.ou(u,g)};R.st.VG=function(u,g,K,X){for(var P=0;
P<g.length;P++){var w=g[P],D=u.g[w.j],q=w.j<0?u.g1[-1-w.j]:w.lK<=0?null:w.lK==1?D.Zv():D.nE(u).B;if(q){q.b3();
q.vl=!0;if(D)D.th(u)}else{D.b3();D.O()}delete w.FV;delete w.Ti}var C=new g9(K,X);C.data=g;u.AV(C);u.X5=!0};
R.st.V$=function(u,g,K){for(var P=0;P<g.length;P++){var X=g[P],w=u.g[X.j],D=K?X.ee:X.FV,q=X.mf;if(X.lK==0){w.extend(q);
if(X.Ti){f.bV(X.ee,q,w.buffer,w.rect);f.i.$c(D,q,w.buffer,w.rect,X.Ti,q,0,q,1)}else f.bV(D,q,w.buffer,w.rect)}else{var C=X.j<0?u.g1[-1-X.j]:X.lK==1?w.Zv():w.nE(u).B;
C.extend(q);if(X.Ti){var a=f.L(q.$()*4);f.me(X.ee,a);f.i.$c(D,q,a,q,X.Ti,q,0,q,1);R.Xo.qx(a,q,C)}else R.Xo.qx(D,q,C);
C.vl=!0;if(w)w.th(u)}if(w)w.O()}if(!K)R.st.aq4(u,g)};R.st.ou=function(u,g){for(var P=0;P<g.length;P++){var K=g[P],X=u.g[K.j],w=K.mf,D=f.L(w.$()*4);
if(K.lK==0){f.bV(X.buffer,X.rect,D,w);X.extend(w);f.bV(K.ee,w,X.buffer,X.rect);X.b3()}else{var q=K.j<0?u.g1[-1-K.j]:K.lK==1?X.Zv():X.nE(u).B;
R.Xo.MN(q.channel,q.rect,q.color,D,w);q.extend(w);R.Xo.qx(K.ee,w,q);q.b3();q.vl=!0;if(X)X.th(u)}K.ee=D;
if(X)X.O()}u.X5=!0};R.st.aq4=function(u,g){var K=R.st.akL(u),X=~K;if(K==16777215)return;for(var P=0;
P<g.length;P++){var w=g[P],D=u.g[w.j],q=w.mf;if(w.lK!=0)continue;D.extend(q);var C=q.x-D.rect.x,a=q.y-D.rect.y,x=D.rect.m,H=new Uint32Array(w.ee.buffer),$=new Uint32Array(D.buffer.buffer);
for(var r=0;r<q.n;r++)for(var c=0;c<q.m;c++){var U=r*q.m+c,O=(r+a)*x+(c+C);$[O]=$[O]&K|H[U]&X}D.b3();
D.O()}u.O()};R.st.akL=function(u){var g=u.t.PK;return g[2]*16711680|g[1]*65280|g[0]*255};R.st.prototype.A3=function(u,g){var K=g.g[u.j];
if(u.gY!=null)K.add[jO.get(K.add)]=u.gY;else R.st.ou(g,u);g.O()};R.st.prototype.py=function(u,g){var K=g.g[u.j];
if(u.gY!=null)K.add[jO.get(K.add)]=u.a5;else R.st.ou(g,u);g.O()};R.$j=function(){R.N8.call(this,"Filter Edit",R.DQ);
this.yb=null;this.s$=null;this.d=null;this.pn=null};R.$j.prototype=new R.N8;R.$j.prototype.RR=function(u,g,K,X,w){if(u.d=="start"){if(K.z.length==0)return;
var D=K.g[K.z[0]];if(D.add.SoLd&&D.oF<=0&&K.qT.length==0){}else if(!K.zL(g,null,!0))return;var q=u.YL;
if((_[q]||dJ.W[q])&&u.jp==null){if(K.z.length!=1)alert("Will be applied to "+K.z.length+" layers.");
var C=new eG(h.E.Y,!0);C.data=R.$j.a4S(q,this.rn(K,q));g.c(C)}else{var a={d:"edit",YL:q,jp:u.jp,El:this.rn(K)};
this.RR(a,g,K,X,w);a.d="confirm";delete a.jp;this.RR(a,g,K,X,w)}}if(u.d=="edit"||u.d=="cancel"||u.d=="confirm"){if(u.d=="edit")this.pn=[u.YL,u.jp];
if(u.El)this.auM(u,g,K,w);else this.aoG(u,g,K,w)}if(u.d=="applylast"&&this.pn!=null){var a={d:"edit",YL:this.pn[0],jp:this.pn[1],El:this.rn(K)};
this.RR(a,g,K,X,w);a.d="confirm";delete a.jp;this.RR(a,g,K,X,w)}};R.$j.a4S=function(u,g){var K=dJ.W[u];
if(K)return{d:h.s.LK,b:K,YW:{El:g}};else return{d:h.s.KP,Pu:"afw_"+u,El:g}};R.$j.prototype.rn=function(u,g){var K=u.g[u.z[0]],X;
if(K.add.SoLd&&K.oF<=0&&u.qT.length==0){X={j:u.z[0],index:0};if(K.add.SoLd.filterFX!=null){var w=K.add.SoLd.filterFX.v.filterFXList.v;
X.index=w.length;for(var P=0;P<w.length;P++)if(dJ.o8(w[P].v)==g&&dJ.W[g])X.index=P}}return X};R.$j.prototype.auM=function(u,g,K,X){var w=K.g[u.El.j],D=u.YL;
if(u.d=="edit"){if(this.d==null){var q=dJ.names[D];if(q==null)q=jO.names[D];if(D=="blendOptions")q=[14,10];
this.d=new g9(q,this);this.d.data={El:u.El,acU:JSON.parse(JSON.stringify(w.add.SoLd))}}if(!w.ov()){w.add.SoLd.filterFX=dJ.Ae();
this.d.data.Al=f0.adA(w.add.SoLd.placed.v);K.T8(this.d.data.Al);w.Qu(K)}var C=w.add.SoLd.filterFX.v.filterFXList.v;
if(C[u.El.index]==null){C.push(dJ.GU(D,X))}if(u.jp){C[u.El.index].v.enab.v=u.J3!=!0;if(D=="blendOptions")C[u.El.index].v.blendOptions.v=u.jp;
else C[u.El.index].v.Fltr.v=u.jp}this.d.data.asy=JSON.parse(JSON.stringify(w.add.SoLd));this.py(this.d.data,K)}if(u.d=="cancel"){if(this.d)this.A3(this.d.data,K);
this.d=null}if(u.d=="confirm"){if(this.d)K.AV(this.d);R.st._g(g,this.pn);this.d=null}};R.$j.prototype.JR=function(u){return{w:u>>>16,A:u>>>8&255,U:u&255}};
R.$j.prototype.aoG=function(u,g,K,X){if(this.yb==null){var w=dJ.RF(u.YL,u.jp);this.yb=R.st.getData(K,w.x!=0||w.y!=0)}if(u.d=="edit"){var D=JSON.stringify(u.jp);
if((u.jp==null||D!=this.s$)&&u.J3!=!0)for(var P=0;P<this.yb.length;P++){var q=this.yb[P],C={rect:q.mf,buffer:q.ee},a={rect:q.mf,buffer:q.FV};
if(u.YL=="Avrg"&&q.Ti){C.buffer=q.ee.slice(0);f.CY(q.Ti,C.buffer)}dJ.o4(u.YL,C,u.jp,this.JR(X.FK),this.JR(X.ui),a,[K.add.lnk2?K.add.lnk2:[],K.g[K.z[0]].Zv(),K.g1,K.f$()]);
if(u.YL=="Avrg"&&q.Ti){var x=q.ee.length;for(var P=0;P<x;P+=4)q.FV[P+3]=q.ee[P+3]}this.s$=D}R.st.V$(K,this.yb,u.J3)}if(u.d=="cancel"){R.st.a0B(K,this.yb);
this.yb=null;this.s$=null}if(u.d=="confirm"){R.st.VG(K,this.yb,dJ.names[u.YL],this);this.yb=null;this.s$=null;
R.st._g(g,this.pn)}K.O();K.X5=!0};R.$j.prototype.A3=function(u,g){if(u.El){var K=g.g[u.El.j];if(u.Al)g.v8(u.Al);
K.add.SoLd=JSON.parse(JSON.stringify(u.acU));if(K.ov())K.Th(g);else{K.Qu(g);K.oF=0}}else R.st.ou(g,u);
g.O();g.X5=!0};R.$j.prototype.py=function(u,g){if(u.El){var K=g.g[u.El.j];if(u.Al)g.T8(u.Al);K.add.SoLd=JSON.parse(JSON.stringify(u.asy));
if(K.ov())K.Th(g);else K.Qu(g);if(!K.vh())K.R3+=32}else R.st.ou(g,u);g.O();g.X5=!0};var hO={Jr:"0",ei:"1",WQ:"2",h9:"3",vO:"4",WO:"5",X4:"6",Hy:"7",l:"8",hJ:"8.5",vb:"8.8",ul:"9",em:"10",pH:"11",dV:"12",bb:"13",xD:"14",Hm:"15",iU:"16",YJ:"21",vX:"22",D9:"23",ne:"23.0",Yc:"23.1",pk:"23.2",Vp:"23.3",ZR:"23.4",wH:"23.5",vY:"23.6",akM:"30",Bv:"31",a0:"40",wv:"41",z6:"42"};
hO.$$={};hO.$$[hO.ei]=["abr","brushes",i3,[9,3]];hO.$$[hO.WQ]=["grd","gradients",aE,[12,37]];hO.$$[hO.h9]=["shc","contours",g3,[12,21]];
hO.$$[hO.vO]=["asl","styles",jk,[12,22]];hO.$$[hO.WO]=["pat","patterns",br,[12,62]];hO.$$[hO.X4]=["csh","shapes",jr,[12,77]];
hO.$$[hO.Hy]=["aco","swatches",fb,[9,8]];hO.$$[hO.l]=["atn","actions",ak,[9,9]];hO.$$[hO.hJ]=["tpl","tpresets",eN,[9,12]];
hO.$$[hO.vb]=["icc","profiles",bs,"ICCs"];function g9(u,g,K){if(K==null)K=!1;this.name=u;this.b=g;this.Eg=K;
this.data=null;this.a56=Date.now()}var bd={};bd.Af=function(u,g){var K={t:"Clss",v:{classID:u}};if(g)K={t:"Enmr",v:{classID:u,typeID:"Ordn",enum:"Trgt"}};
return{t:"obj ",v:[K]}};bd.kl=function(u,g){var K={classID:"Lyr"};K[u]=g;return{$T:"set",NA:{classID:"null",null:bd.Af("Lyr",!0),T:{t:"Objc",v:K}}}};
bd.aqS=function(u,g,K,X,w){var D=new eG(h.E.qf,!0),q=[],P=0,C=bd.rx(g,K,X,q);while(q.length!=0){var a=q.pop();
P++;if(!a.K)continue;console.log(P-1);if(a.$T=="conditional"){var x=u.g[u.z[0]],H=a.NA.null.v.Cndt,$=!1;
if(H=="Bckg")$=!1;else if(H=="Pxel"&&u.KL(!1))$=!0;else if(H=="Adjs"&&jO.get(x.add))$=!0;else if(H=="Shp"&&x.add.vogk)$=!0;
else if(H=="Grup"&&x.xp())$=!0;else if(H=="Opn"&&u!=null)$=!0;else if(H=="32Bt")$=!1;else if(H=="RGB")$=!0;
var r=a.NA.then,c=a.NA.else;if($&&r)bd.rx(g,r.v[0].v.val,r.v[1].v.val,q);if(!$&&c)bd.rx(g,c.v[0].v.val,c.v[1].v.val,q)}else if(a.$T=="stop"){if(a.NA.Cntn&&a.NA.Cntn.v==!0)window.confirm(a.NA.Msge.v);
else{alert(a.NA.Msge.v);break}}else if(a.$T=="play"){var U=a.NA.null.v,O=new eG(h.E.Y,!0);O.data={d:h.s.mC,ZX:[U[0].v.val,U[1].v.val]};
w.c(O)}else{D.data={$T:a.$T,NA:a.NA};w.c(D)}}};bd.rx=function(u,g,K,X){var w;for(var P=0;P<u.length;
P++){if(u[P].Uz!=K)continue;var D=u[P].Aj;for(var q=0;q<D.length;q++){if(D[q].Uz!=g)continue;w=D[q].Aj}}var C=w.length;
for(var P=0;P<C;P++)X.push(w[C-1-P])};bd.aaI=function(u){var g=u.$T,K=u.NA,X,q,C,a,x;if(K&&K.null)X=K.null.v[0];
if(K&&X==null&&K.At)X=K.At.v[0];if(X&&X.t=="obj ")X=X.v[0];var w=X?X.v.classID:null,D=["purge"];if(D.indexOf(g)!=-1)return g[0].toUpperCase()+g.slice(1);
if(g=="GEfc"||g=="paintDaubs")return hq.names[K.GEfk.v.GEft][1];x=jO.aA;for(q in x)if(x[q]==g)C=q;x=dJ.aA;
for(q in x)if(x[q]==g)a=q;if(C){var H=jO.In(C,K);if(H!=-1)return[4,16,H];return jO.names[C]}if(a)return dJ.names[a];
var $=bd.afo;if(g=="make"){if(X){if(w=="AdjL")return[6,1];else if(w=="layerSection")return K.From?[6,9]:[6,20];
else if(w=="Lyr")return[6,13];else if(w=="Chnl"&&X.v.enum=="Msk")return[6,2];else if(w=="contentLayer")return[6,48,1];
else if(w=="BckL")return"Make Background Layer";else if(w=="Path")return"Make Path";else if(w=="TxLr")return"Make Text Layer";
else if(w=="slice")return"Make Slices"}if(K.Nw){w=K.Nw.v.classID;if(w=="Dcmn")return[11,7];else if(w=="Chnl"||w=="SCch")return"New Channel"}}else if(g=="deselect"){if(w=="Path")return"Deselect current path";
else throw w}else if(g=="select"){if(w=="Chnl")return"Select "+(X.v.enum=="Msk"?"Mask ":"")+"Channel";
else if(w=="Mn")return"Select Panel \""+X.v.enum+"\"";else if(w=="Lyr"){if(X.t=="Enmr")return"Select "+{Bckw:"Backward",Frwr:"Forward",Back:"Back",Frnt:"Front"}[X.v.enum]+" Layer";
return"Select Layer \""+X.v.val+"\""}else if(w=="Path")return"Select Path";else if(w=="Brsh")return"Select Brush";
else if(w=="Dcmn")return"Select Document"}else if($[g]&&w=="Chnl"){var r=X.v.keyID=="fsel";return $[g]+" "+(r?"Selection":"Channel")}else if(g=="set"){if(w=="Lyr")return"Set Current Layer";
else if(w=="AdjL")return[6,39];else if(w=="contentLayer")return[6,48,2];else if(w=="Prpr"){var c=X.v.keyID;
if(c=="TxtS")return"Set Text Style";else if(c=="paragraphStyle")return"Set Paragraph Style";else if(c=="Lefx")return[11,6];
else console.log(c)}else if(w=="Clr")return"Set "+(X.v.keyID=="FrgC"?"Foreground":"Background")+" color";
else if(w=="Brsh")return"Set Brush";else console.log(w)}else if(g=="move"){if(w=="Lyr")return"Move Layer";
else if(w=="Chnl"&&X.v.keyID=="fsel")return[7,7];else console.log(w)}else if(g=="show"||g=="hide"){var U="";
if(w=="Lyr")+"Layer";if(w=="Chnl")+"Channel";return(g=="show"?"Show":"Hide")+" "+U}else if(g=="reset"){if(w=="Clr")return"Reset Colors"}else if(g=="exchange"){if(w=="Clr")return[22,7,0]}else if(g=="rotateEventEnum")return[2,5];
else if(g=="flip"){var O=K.Axis.v.Ornt=="Hrzn";return[[2,6],[22,4,O?2:3]]}if(w=="Chnl"){if(g=="duplicate"){if(X.v.keyID=="fsel")return"Selection to Channel";
else return"Duplicate Channel"}if(g=="delete")return"Delete Channel"}if(g=="transform")return X&&X.v.keyID=="fsel"?[7,10]:[10,16];
var A={cut:[5,0],copyEvent:[5,1],copyToLayer:[6,49,0],cutToLayer:[6,49,1],copyMerged:[5,7],paste:[5,2],close:[1,12,0],save:[1,2],groupEvent:[6,18],ungroup:[6,19],duplicate:[6,0],mergeLayersNew:[6,12,0],mergeVisible:"Merge Visible",flattenImage:[6,12,1],updatePlacedLayer:[6,36,1],fade:[2,11],applyImageEvent:[2,12],matchColor:[4,18],fill:[2,3],colorRange:[7,8],desaturate:[19,7,0],delete:K?w=="Lyr"?[6,31]:"Delete Path":[2,2],align:[20,4,0],applyLocking:[6,57,1],crop:[11,12,1],placedLayerEditContents:"Edit Contents",convertMode:"Convert Mode",newPlacedLayer:[6,7,0],selectNoLayers:"Deselect Layers",canvasSize:[11,3],imageSize:[11,10],rasterizeLayer:[6,8],revealAll:[11,12,2],collapseAllGroupsEvent:"Collapse All Groups",conditional:"If"},m=A[g];
if(m==null)m=bd.am6[g];if(m)return m;return g};bd.am6={border:[7,9],smoothness:[19,3,0],expand:[7,4],contract:[7,5],feather:[7,6],inverse:[7,2]};
bd.afo={set:"Set",add:"Add Transparency",addTo:"Add To",subtract:"Subtract Transparency",subtractFrom:"Subtract From",interfaceIconFrameDimmed:"Intersect Transparency",interfaceWhite:"Intersect With"};
bd.abX=function(u,g,K,X){var w=u.$T,D=u.NA,q=!1,C=new eG(h.E.l,!0),H,$,r,c;C.b=R.QA;var a=new eG(h.E.Y,!0),x=["purge","updatePlacedLayer","convertMode","convertToProfile"];
if(x.indexOf(w)!=-1)return;c=jO.aA;for(H in c)if(c[H]==w)$=H;c=dJ.aA;for(H in c)if(c[H]==w)r=H;if(w=="fade")$=w;
if(w=="matchColor")$="matc";if(w=="applyImageEvent")$="aply";if($){C.b=R.sM;C.data={d:"start",W1:$,jp:D}}else if(r){C.b=R.DQ;
C.data={d:"start",YL:r,jp:D}}else if(w=="GEfc"||w=="paintDaubs"){C.b=R.DQ;C.data={d:"start",YL:"GEfc",jp:D}}else if(w=="imageSize"||w=="canvasSize"||w=="revealAll"||w=="trim"||w=="crop"){C.b=R.XQ;
C.data={d:"fromAction",yK:u}}else if(w=="fill"||w=="stroke"||w=="delete"&&D==null){C.b=R.ei;C.data={d:"fromAction",yK:u}}else if(w=="colorRange"){C.b=R.C1;
C.data={d:"fromAction",yK:u}}else if(bd.am6[w]||bd.afo[w]&&(!1||D.With&&D.With.v[0].v.keyID=="fsel"||D.From&&D.From.v[0].v.keyID=="fsel"||D.null&&D.null.v[0].v.keyID=="fsel"||D.T.v[0]&&D.T.v[0].v.keyID=="fsel")){C.b=R.C1;
C.data={d:"fromAction",yK:u}}var U={copyToLayer:l.zJ,cutToLayer:l.iD,mergeLayersNew:l.wG,rasterizeLayer:l.a1Q,mergeVisible:l.En,flattenImage:l.atQ,newPlacedLayer:l.Ll};
if(U[w])C.data={d:U[w],NA:D};if(C.data){g.c(C);return}if(w=="collapseAllGroupsEvent"){for(var P=0;P<X.g.length;
P++){var O=X.g[P];if(O.xp())O.add.lsct=g4.Ab}X.vH=!0;return}if(w=="desaturate"){C.b=R.sM;C.data={d:"auto",Qr:3};
if(X&&X.g[X.z[0]].add.SoLd==null)g.c(C);return}if(w=="close"){if(D.Svng.v.YsN=="Ys"){a.data={d:h.s.Jl};
g.c(a)}a.data={d:h.s.AU,CV:X};g.c(a);return}if(w=="save"){a.data={d:h.s.Jl};g.c(a);return}if(w=="copyMerged"){a.data={d:h.s.AQ,LT:!0,vE:!0};
g.c(a);return}var U={placedLayerEditContents:h.s.agK,copyEvent:h.s.AQ,paste:h.s.Va};if(U[w])a.data={d:U[w],vE:!0};
if(a.data){g.c(a);return}console.log(w,D);var A=D.null?D.null.v:null,m=A?A[0].v.classID:"";if(w=="make"){if(D.null==null&&D.Nw)m=D.Nw.v.classID;
if(m=="AdjL"){C.data={d:l.yW,NA:D}}else if(m=="layerSection"){C.data=D.From?{d:l.Nc}:{d:l.nk};if(D.Usng){var i=D.Usng.v;
if(i.Nm)C.data.Ea=i.Nm.v;if(i.Clr)C.data.yz=bd.lq(i)}}else if(m=="Lyr"){if(D.Usng&&D.Usng.v.length==2)C.data={d:l.awI};
else{C.data={d:l.Vq};if(D.Usng)C.data.Ea=D.Usng.v.Nm.v;if(D.below&&D.below.v)C.data.apu=!0}}else if(m=="Chnl"&&D.At&&D.At.v[0].v.enum=="Msk"){C.data={d:l.wa,Yw:D.Usng.v.UsrM}}else if(m=="Chnl"||m=="SCch"){C.data={d:l.Tz,KR:"fromAction",h:u}}else if(m=="contentLayer"){C.data={d:l.E2,NA:D}}else if(m=="BckL"){X.g[X.z[0]].a1K();
return}else if(m=="Dcmn"){var e=D.Nw.v;a.data={d:h.s._1,UJ:f0.aja(e,K)}}else if(m=="Ptrn")a.data={d:h.s.L6,M3:0};
else if(m=="Path"){C.b=R.AP;C.data={d:"pathedit",KR:"fromsel"}}else if(m=="TxLr"){C.b=R.$d;C.data={d:"fromAction",yK:u}}else if(m=="slice"){C.b=R.m8;
C.data={d:"fromAction",yK:u}}else{console.log(w,m,D);throw"e"}}else if(w=="deselect"){if(m=="Path"){X.qe=[];
X.vH=X.cK=!0;return}else throw m}else if(w=="selectNoLayers"){X.z=[];X.X5=!0}else if(w=="select"){var S={PcTl:R.vV,PbTl:R.ei,moveTool:R.Hx,cloneStampTool:R.AY,typeCreateOrEditTool:R.$d,artboardTool:R.ZQ,marqueeRectTool:R.C1,typeVerticalCreateOrEditTool:R.E3,perspectiveCropTool:R.it,marqueeEllipTool:R.Dq,eyedropperTool:R.G9,eraserTool:R.Es,pathComponentSelectTool:R.AP,lassoTool:R.l0,backgroundEraserTool:R.gW,directSelectTool:R.Td,polySelTool:R.VK,rectangleTool:R.Zl,magneticLassoTool:R.GE,gradientTool:R.g$,quickSelectTool:R.YB,bucketTool:R.ll,ellipseTool:R.vk,magicWandTool:R.eu,blurTool:R.s0,polygonTool:R.se,cropTool:R.XQ,sharpenTool:R.x8,lineTool:R.iC,sliceTool:R.m8,smudgeTool:R.Um,customShapeTool:R.fC,sliceSelectTool:R.Y3,dodgeTool:R.$S,spotHealingBrushTool:R.NI,burnInTool:R.Xi,saturationTool:R.WV,penTool:R.kg,redEyeTool:R.hT,freeformPenTool:R.$l,rulerTool:R.I6,paintbrushTool:R.ei,handTool:R.JN,pencilTool:R.vV,zoomTool:R.d0,objectSelectTool:R.S2,healingBrushTool:R.e_,patchTool:R.L3,contentAwareMoveTool:R.uY,colorReplacementBrushTool:R.u3,curvaturePenTool:R.mi,rotareViewTool:R.wt};
if(m=="Lyr"){var E=D.selectionModifier,Z=E?E.v.selectionModifierType:null,N=bd.d6(X,A[0]);if(N==-1){alert("Layer "+A[0].v.val+" does not exist.");
return}C.data={d:l.pY,j:N,FA:Z?["addToSelection","addToSelectionContinuous"].indexOf(Z):null,Ep:0}}else if(m=="Path"){if(A[0].v.keyID=="WrPt"){X.qe=[0];
X.vH=X.cK=!0;return}else throw A[0]}else if(m=="Chnl"){C.data={d:l.pY,j:N,Ep:1}}else if(m=="Dcmn"){if(g.BE.length<2)return;
a.data={d:h.s.ahq,dir:D.null.v[0].v.val}}else if(m=="Brsh"){var J=K.d3.list,y;for(var P=0;P<J.length;
P++){if(J[P].v.Nm.v==A[0].v.val)y=J[P].v}a.data={d:h.s.zS,M3:hO.xD,WM:y}}else if(m=="Mn"){if(A[0].v.enum=="Scl")a.data={d:h.s.LK,b:R.fr,YW:{Yw:3}};
if(A[0].v.enum=="Plce")a.data={d:h.s.kc,awQ:!0};if(A[0].v.enum=="ZmIn"){C.b=R.d0;C.data={d:"zoom",bZ:!0}}if(A[0].v.enum=="ZmOt"){C.b=R.d0;
C.data={d:"zoom",bZ:!1}}if(A[0].v.enum=="FtOn"){C.b=R.d0;C.data={d:"adapt",h:"fitscr"}}}else if(S[m]){a.data={d:h.s.LK,b:S[m]}}else throw m}else if((w=="set"||w=="reset"||w=="exchange")&&m=="Clr"){a.data={d:h.s.zS,M3:hO.YJ,KR:w=="reset"?3:2};
if(w=="set"){a.data.KR=A[0].v.keyID=="FrgC"?0:1;var B=f.X.Ld(D.T.v);a.data.h=B.w<<16|B.A<<8|B.U}}else if(w=="set"){if(m=="AdjL"){var t=D.T.v.classID;
t=jO.LC[t];C.b=R.sM;if(t)C.data={d:"edit_layer",h:D.T.v}}else if(m=="Lyr"){var W=D.T.v,N=bd.d6(X,A[0]);
for(var F in W){if(F=="classID")continue;C.b=R.QA;if(F=="Nm")C.data={d:l.I1,name:W.Nm.v};else if(F=="Opct")C.data={d:l.f2,a5:Math.round(W.Opct.v.val*255/100)};
else if(F=="fillOpacity")C.data={d:l.HR,a5:Math.round(W.fillOpacity.v.val*255/100)};else if(F=="Md")C.data={d:l.WG,a5:b0.nG.indexOf(W.Md.v.BlnM)+(X.g[N].xp()?1:0)};
else if(F=="Usrs")C.data={d:l.y$,j:N};else if(F=="Blnd"){C.b=R.vz;C.data={d:"setstl",j:N,h:{blendOptions:{t:"objc",v:W}}};
g.c(C);C.data={d:"confirm",j:N}}else if(F=="userMaskFeather"||F=="userMaskDensity"){var G=W.userMaskFeather,L=W.userMaskDensity,N=X.z[0],Q=X.g[N].dy(0);
if(G)Q.ZN=G.v.val;if(L)Q.AM=L.v.val;C.data={d:l.GH,Yq:N,iJ:Q}}else if(F=="Clr"){var T=bd.lq(W);C.data={d:l.LS,ann:T}}else if(F=="Lefx")bd.av6(g,N,W.Lefx.v,K);
else{console.log(D);throw F}if(C.data){g.c(C);delete C.data}}C.data={};var O=X.g[N];O.ahQ()}else if(m=="Prpr"){var W=JSON.parse(JSON.stringify(D.T.v)),N=bd.d6(X,D.null.v[1]),O=X.g[N],j=A[0].v.keyID;
if(j=="TxtS"||j=="paragraphStyle"){var p=O.add.TySh,M=JSON.parse(JSON.stringify(p.Fd)),n=fS.PU(M),d=fS.pP(M,0,n.length-2);
if(j=="TxtS")fS.avh(W,d);else fS.ajD(W,d);fS.xm(M,0,n.length-1,d);C.b=R.$d;C.data={d:"newED",NN:N,ez:M}}else if(j=="Lefx"){for(var V in W)if(W[V].v){if(V=="Scl")W[V].v.val=100}bd.av6(g,N,W,K);
C.data={}}else throw j}else if(m=="contentLayer"){var N=bd.d6(X,A[0]),W=D.T.v;if(W.classID=="shapeStyle")W=W.FlCn.v;
var z={solidColorLayer:0,gradientLayer:1,patternLayer:2}[W.classID],I=R.jV.cQ(X,N),r=I.lB==z+1?I.Gu:k8.DL[z];
r=JSON.parse(JSON.stringify(r));R.aD.Gj(W,r,z);C.data={d:l.ia,t7:[N],FX:!0,h:{lB:z+1,Gu:r}}}else if(m=="Brsh"){var y=JSON.parse(JSON.stringify(K.d3.T1)),v=D.T.v;
if(v.masterDiameter)y.Brsh.v.Dmtr.v.val=v.masterDiameter.v.val;else console.log("unknown brush parameters");
a.data={d:h.s.zS,M3:hO.xD,WM:y}}else{console.log(A[0],D);throw m}}else if(w=="move"){if(m=="Lyr"){var W=D.T.v;
if(W.classID=="Ofst"){C.data={d:"trsl",gu:W.Hrzn.v.val,ri:W.Vrtc.v.val};C.b=R.Hx}else{var gj,jA;if(W[0].t=="Enmr"){if(W[0].v.enum=="Frnt")jA=0;
else if(W[0].v.enum=="Nxt")jA=1;else if(W[0].v.enum=="Prvs")jA=2;else if(W[0].v.enum=="Back")jA=3;else throw"e"}else gj=W[0].v.val;
C.data={d:l.Qb,target:gj,KR:jA,a31:D.Dplc?D.Dplc.v:!1}}}else if(m=="Chnl"&&A[0].v.keyID=="fsel"){C.b=R.C1;
C.data={d:"fromAction",yK:u}}}else if(w=="groupEvent"||w=="ungroup")C.data={d:l.pV};else if(w=="show"||w=="hide"){var Y=A[0].v;
for(var P=0;P<Y.length;P++){var jv=Y[P],m=jv.v.classID;if(m=="Lyr"){if(C.data==null)C.data={d:l.Lf,t7:[]};
var N=bd.d6(X,jv);if(N==-1)continue;var iR=X.g[N].AG();if(w=="show"&&iR||w=="hide"&&!iR)continue;C.data.t7.push(N)}else if(m=="Chnl"){C.data={d:l.Tz,KR:"fromAction",h:u}}else if(m=="filterFX"){if(jv.v.val!=null)C.data={d:l.NH,index:jv.v.val-1};
C.data={d:l.g5}}}}else if(w=="rotateEventEnum"){C.b=R.XQ;var cj=D.Angl.v.val;C.data={d:"rot",Uz:[2,5],h:-cj*Math.PI/180}}else if(w=="flip"){C.b=R.XQ;
var j8=D.Axis.v.Ornt=="Hrzn",as=j8?new j4(-1,1):new j4(1,-1);C.data={d:"scl",Uz:[[2,6],[22,4,j8?2:3]],h:as}}else if(w=="transform"){var gW=1,af=1,at=0,jd=0,fM=0,hS=0,dr=0;
if(D.Wdth)gW=D.Wdth.v.val/100;if(D.Hght)af=D.Hght.v.val/100;if(D.Skew){var cB=D.Skew.v;at=cB.Hrzn.v.val;
jd=cB.Vrtc.v.val}if(D.Ofst){var b1=D.Ofst.v;hS=b1.Hrzn.v.val;dr=b1.Vrtc.v.val}if(D.Angl)fM=D.Angl.v.val;
var ic=new eV;ic.concat(new eV(gW,gW*Math.tan(jd*Math.PI/180),af*Math.tan(at*Math.PI/180),af,0,0));ic.rotate(-fM*Math.PI/180);
ic.translate(hS,dr);var dV={Qcsa:4,Qcs0:0,Qcs1:2,Qcs2:8,Qcs3:6,Qcs4:1,Qcs5:5,Qcs6:7,Qcs7:3}[D.FTcs.v.QCSt];
if(dV==null)throw D.FTcs.v.QCSt;var A=D.null;if(A&&A.v instanceof Array)A=A.v[0];var N=A?bd.d6(X,A):null;
if(N==-1)N=null;C.b=A&&A.v.keyID=="fsel"?R.Gw:R.fr;C.data={d:"mat",$P:dV,h:ic}}else if(w=="duplicate"){if(m=="Chnl")C.data={d:l.Tz,KR:"fromAction",h:u};
else C.data={d:l.bm,Ea:D.Nm?D.Nm.v:null}}else if(w=="delete"){if(m=="filterFX"){if(A[0].v.val!=null)C.data={d:l.Jx,S5:A[0].v.val-1};
else C.data={d:l.Dr}}else if(m=="Path"){C.b=R.AP;C.data={d:"pathedit",KR:"del"}}else if(m=="Lyr")C.data={d:l.B4};
else if(m=="Chnl"&&A[0].v.enum=="Msk")C.data={d:l.Bs};else if(m=="Chnl")C.data={d:l.Tz,KR:"fromAction",h:u};
else throw m}else if(w=="align"){if(D.Aply&&D.Aply.v.projection=="Auto"){C.b=R.XQ;C.data={d:"auto-align"}}else{C.b=R.Hx;
var eS=D.Usng.v.ADSt,$={AdLf:0,AdCH:1,AdRg:2,AdTp:4,AdCV:5,AdBt:6}[eS];if($==null)throw eS;C.data={d:"algn",h:$}}}else if(w=="applyLocking"){var a2=D.layerLocking.v,d3;
if(a2.protectTransparency)d3=[[a2.protectTransparency.v],[0]];else if(a2.protectNone)d3=[[!1,!1,!1,!1],[0,1,2,31]];
else{console.log(a2);throw"e"}C.data={d:l.gB,a5:d3}}if(C.data)g.c(C);else if(a.data)g.c(a);else{console.log(u);
alert("Unknown action \""+w+"\"");throw"e"}};bd.av6=function(u,g,K,X){K=JSON.parse(JSON.stringify(K));
aG.cE(K);if(K.masterFXSwitch==null)K.masterFXSwitch={t:"bool",v:!0};console.log(K);var w=k8.pg;for(var D=0;
D<w.length;D++)if(K[w[D]]){for(var P=0;P<K[w[D]].v.length;P++){var q=K[w[D]].v[P].v,C=q.TrnS;if(C==null)C=q.MpgS;
if(C&&C.v.Crv==null){var a=C.v,x=a.Nm.v.split("=").pop(),H=X.UH;for(var $=0;$<H.length;$++){var r=H[$].Nm.v.split("=").pop();
if(r==x)a.Crv=JSON.parse(JSON.stringify(H[$].Crv))}if(C.v.Crv==null){console.log(C);throw"e"}}}}var c=new eG(h.E.l,!0);
c.b=R.vz;c.data={d:"setstl",j:g,h:{Lefx:{t:"objc",v:K}}};u.c(c);c.data={d:"confirm",j:g};u.c(c)};bd.lq=function(u){var g={None:0,Rd:1,Orng:2,Ylw:3,Grn:4,Bl:5,Vlt:6,Gry:7}[u.Clr.v.Clr];
if(g==null)throw u.Clr.v.Clr;return g};bd.d6=function(u,g){var K=1e6,X=0,w=u.g.length;for(var P=0;P<u.z.length;
P++){K=Math.min(K,u.z[P]);X=Math.max(X,u.z[P])}var D=g.t,q=-1;if(D=="name"){var C=g.v.val,q=-1;for(var P=0;
P<w;P++)if(u.g[P].getName()==C){q=P;break}}else if(D=="Enmr"){if(u.z.length!=0)q=u.z[0];if(g.v.enum=="Frwr")q=X+1;
if(g.v.enum=="Bckw")q=K-1;if(g.v.enum=="Back")q=0;if(g.v.enum=="Frnt")q=w-1;q=(q+w)%w}else if(D=="prop"){if(g.v.keyID=="Bckg")q=0}return q};
var jO={};jO.names={brit:[4,0],levl:[4,1],curv:[4,2],expA:[4,3],vibA:[4,4],hue2:[4,5],blnc:[4,6],blwh:[4,7],phfl:[4,8],mixr:[4,9],clrL:[4,10],nvrt:[4,11],post:[4,12],thrs:[4,13],grdm:[4,14],selc:[4,15],rplc:[4,17]};
jO.aq_=["expA","clrL","selc"];jO.pq=[[13,1,1],[13,1,3],[13,1,4],[13,1,11],[13,1,5],[13,1,12]];jO.arf=[[13,1,11],[13,1,12],[13,1,3],[13,1,10]];
jO.Kh=[[13,1,1],[13,1,4],[13,1,5]];jO.Yz={BrgC:"brit",Lvls:"levl",Crvs:"curv",Exps:"expA",vibrance:"vibA",HStr:"hue2",ClrB:"blnc",BanW:"blwh",photoFilter:"phfl",Invr:"nvrt",Pstr:"post",Thrs:"thrs",GrMp:"grdm",SlcC:"selc",ChnM:"mixr",colorLookup:"clrL",rplc:"rplc"};
jO.LC=function(){var u=JSON.parse(JSON.stringify(jO.Yz));delete u.GrMp;u.GdMp="grdm";return u}();jO.aA={brit:"brightnessEvent",levl:"levels",curv:"curves",expA:"exposure",vibA:"vibrance",hue2:"hueSaturation",blnc:"colorBalance",blwh:"blackAndWhite",phfl:"photoFilter",mixr:"channelMixer",clrL:"colorLookup",nvrt:"invert",post:"posterization",thrs:"thresholdClassEvent",grdm:"gradientMapEvent",selc:"selectiveColor",rplc:"replaceColor"};
jO.keys={levl:[hW.A5,hW.CU],curv:[hW.A5,hW.Qs],hue2:[hW.A5,hW.Pw],nvrt:[hW.A5,hW.ym],blnc:[hW.A5,hW.G8]};
jO.a8q=function(u){var g=dJ.mt("mixr");g.Mnch={t:"bool",v:u.wl};function K(X,P){var w={classID:"ChMx"},D={Rd:0,Grn:1,Bl:2,Cnst:4};
for(var q in D)w[q]={t:"UntF",v:{type:"#Prc",val:X[P+D[q]]}};return{t:"Objc",v:w}}if(u.wl)g.Gry=K(u.h,0);
else{g.Rd=K(u.h,0);g.Grn=K(u.h,5);g.Bl=K(u.h,10)}return g};jO.yZ=function(u){function g(X,w,P){var D={Rd:0,Grn:1,Bl:2,Cnst:4};
for(var q in D)if(X[q])w[P+D[q]]=X[q].v.val}var K={wl:!1,h:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};
if(u.Mnch&&u.Mnch.v)K.wl=!0;if(K.wl)g(u.Gry.v,K.h,0);else{g(u.Rd.v,K.h,0);g(u.Grn.v,K.h,5);g(u.Bl.v,K.h,10)}return K};
jO.get=function(u){for(var g in jO.names)if(u[g]!=null)return g;return null};jO.Zq=function(u,g){var K=jO.sH,X;
if(u=="brit"){var w=g.Brgh?g.Brgh.v:0,D=g.Cntr?g.Cntr.v:0,q=g.useLegacy?g.useLegacy.v:!1;if(q){var C=w/255,a=1+D/100;
if(a>1)a=1+Math.tan(Math.PI/2*D/101);var x=(1-a)/2,H=f.R$.Mj(C,C,C),$=[a,0,0,x,0,a,0,x,0,0,a,x,0,0,0,1],r=f.R$.multiply(H,$),c=new f.bs(256);
for(var P=0;P<256;P++)c.w[P]=P;f.R$.transform(c,c,r);X={type:K.zc,ko:c.w,FT:c.w,$X:c.w,mh:!1,sZ:!1}}else{var U=1024,O=-30+60*(D+100)/200,A=[];
for(var P=0;P<4;P++)A.push(f.f1.an(P/3*255,P/3*255,!0));A[1].v.Hrzn.v=64;A[1].v.Vrtc.v=64-O;A[2].v.Hrzn.v=128+64;
A[2].v.Vrtc.v=128+64+O;A.sort(function(jE,cq){return jE.v.Hrzn.v-cq.v.Hrzn.v});var m=f.f1.w5(A,U);function i(jE,U){var A=[],eJ=3;
for(var P=0;P<eJ+1;P++)A.push(f.f1.an(P/eJ*255,P/eJ*255,!0));A[1].v.Hrzn.v=130-jE*26;A[1].v.Vrtc.v=130+jE*51;
A[2].v.Hrzn.v=233-jE*48;A[2].v.Vrtc.v=233+jE*10;return f.f1.w5(A,U)}var e=i(Math.abs(w)/100,U);if(w<0){var S=[],E=1/U;
for(var P=0;P<U;P++){var Z=P*E,N=P;while(e[N]>Z&&N>1)N--;S[P]=N*E}e=S}var J=new Uint8Array(U);for(var P=0;
P<U;P++){var y=Math.round((U-1)*e[P]);J[P]=Math.round(255*m[y])}X={type:K.zc,ko:J,FT:J,$X:J,mh:!1,sZ:!1}}}if(u=="levl"){var o=[],B,t,H,W,F,G;
for(var P=0;P<4;P++)o.push(ad.Bi(g,P));B=-o[0][0]/255;t=1/(o[0][1]/255-o[0][0]/255);H=f.R$.multiply(f.R$.$a(t,t,t),f.R$.Mj(B,B,B));
W=f.R$.$a(1/(o[1][1]/255-o[1][0]/255),1/(o[2][1]/255-o[2][0]/255),1/(o[3][1]/255-o[3][0]/255));F=f.R$.Mj(-o[1][0]/255,-o[2][0]/255,-o[3][0]/255);
G=f.R$.multiply(W,F);var J=new f.bs(256);for(var P=0;P<256;P++)J.w[P]=J.A[P]=J.U[P]=P;var L=1/(o[0][4]/100),Q=1/(o[1][4]/100),T=1/(o[2][4]/100),j=1/(o[3][4]/100);
f.R$.transform(J,J,G);for(var P=0;P<256;P++){J.w[P]=Math.round(Math.max(0,Math.min(255,255*Math.pow(J.w[P]/255,Q))));
J.A[P]=Math.round(Math.max(0,Math.min(255,255*Math.pow(J.A[P]/255,T))));J.U[P]=Math.round(Math.max(0,Math.min(255,255*Math.pow(J.U[P]/255,j))))}f.R$.transform(J,J,H);
for(var P=0;P<256;P++){J.w[P]=Math.round(Math.max(0,Math.min(255,255*Math.pow(J.w[P]/255,L))));J.A[P]=Math.round(Math.max(0,Math.min(255,255*Math.pow(J.A[P]/255,L))));
J.U[P]=Math.round(Math.max(0,Math.min(255,255*Math.pow(J.U[P]/255,L))))}B=o[0][2]/255;t=o[0][3]/255-o[0][2]/255;
H=f.R$.multiply(f.R$.Mj(B,B,B),f.R$.$a(t,t,t));W=f.R$.$a(o[1][3]/255-o[1][2]/255,o[2][3]/255-o[2][2]/255,o[3][3]/255-o[3][2]/255);
F=f.R$.Mj(o[1][2]/255,o[2][2]/255,o[3][2]/255);G=f.R$.multiply(F,W);f.R$.transform(J,J,f.R$.multiply(H,G));
X={type:K.zc,ko:J.w,FT:J.A,$X:J.U,mh:!1,sZ:!1}}if(u=="curv"){var p=db.Bi(g,0).length==256?1:0,M=[];if(p==0){var n=f.f1.va(db.Bi(g,0),256);
for(var P=1;P<4;P++){var d=f.f1.va(db.Bi(g,P),256);M.push(f.f1.DJ(d,n))}}else{var V=[];for(var P=0;P<4;
P++){var z=new Uint8Array(256);V.push(z);var I=db.Bi(g,P);for(var N=0;N<256;N++)z[N]=I[N]}for(var P=1;
P<4;P++)M.push(f.f1.DJ(V[P],V[0]))}X={type:K.zc,ko:M[0],FT:M[1],$X:M[2],mh:!1,sZ:!1}}if(u=="expA"){var v=g.Exps,gj=g.Ofst,jA=g.gammaCorrection,Y=v?v.v:0,jv=gj?gj.v:0,iR=jA?jA.v:1,J=new Uint8Array(256);
for(var P=0;P<256;P++){var g=P/255,cj=Math.pow(Math.abs(jv),1/(Math.PI/2));if(jv>0){g=Math.max(jv/Math.E,g);
g=g*Math.exp(jv/1.75+Y/Math.PI);g=(1-cj)*g+cj*1}else{g=g*Math.exp(-jv*1.75+Y/Math.PI);g=g+-cj*1.14}g=Math.pow(g,1/iR);
g=Math.max(0,Math.min(1,g));J[P]=Math.round(g*255)}X={type:K.zc,ko:J,FT:J,$X:J,mh:!1,sZ:!1}}if(u=="vibA"){var j8=(g.vibrance?g.vibrance.v:0)/100,as=(g.Strt?g.Strt.v:0)/100,cj=1+j8*(j8>0?.25:.5),gW=.8+.2/cj;
X={type:K.dT,M3:[j8,as,gW,cj]}}if(u=="hue2"){var af=[],at=[],jd=[],fM=g.Clrz?g.Clrz.v:!1;for(var P=0;
P<256;P++){af[P]=P/255;at[P]=0;jd[P]=0}var hS=bV.Bi(g,0),dr=jO.l1(hS[1]/100);if(fM){var cB=hS[0]/360;
for(var P=0;P<256;P++){af[P]=cB;at[P]=dr}}else{for(var P=0;P<256;P++){var b1=af[P],ic=at[P];af[P]+=hS[0]/360;
for(var N=0;N<6;N++){var dV=bV.Bi(g,N+1),eS=dV.qy,a2=dV.hm,cj=0;for(var d3=1;d3<4;d3++)if(a2[d3]<a2[0])a2[d3]+=360;
var cE=a2[0],eP=a2[1],jm=a2[2],bD=a2[3],f1=b1*360;if(f1<a2[0])f1+=360;var ft=(f1-cE)/(eP-cE),ie=(f1-jm)/(bD-jm);
if(ft<0)cj=0;else if(ft<1)cj=ft;else if(ie<0)cj=1;else if(ie<1)cj=1-ie;else cj=0;var a=jO.l1(eS[1]/100);
af[P]+=cj*eS[0]/360;at[P]+=cj*a;jd[P]+=cj*eS[2]/100}}for(var P=0;P<256;P++){at[P]=(1+at[P])*(1+dr)-1;
jd[P]=Math.max(-1,Math.min(1,jd[P]))}}var b2=new Uint8Array(256),dh=new Uint8Array(256),aY=new Uint8Array(256);
for(var P=0;P<256;P++){var eF=af[P],as=at[P],de=jd[P];if(eF>1)eF--;if(eF<0)eF++;as=jO.ahU(as);as=(1+as)*.5;
de=(1+de)*.5;b2[P]=Math.round(255*eF);dh[P]=Math.round(255*as);aY[P]=Math.round(255*de)}var i5=hS[2]/100,eA=i5<0?-i5:i5,c4=i5<0?0:1;
X={type:K.Zp,afB:b2,DI:dh,anH:aY,alY:eA*c4,y3:1-eA,a1k:hS[2]/100,a6p:fM?1:0}}if(u=="nvrt"){var J=new Uint8Array(256);
for(var P=0;P<256;P++)J[P]=255-P;X={type:K.zc,ko:J,FT:J,$X:J,mh:!1,sZ:!1}}if(u=="post"){var jC=g.Lvls.v,J=new Uint8Array(256),cj=jC/255.001,hd=255/(jC-1);
for(var P=0;P<256;P++)J[P]=Math.floor(P*cj)*hd;X={type:K.zc,ko:J,FT:J,$X:J,mh:!1,sZ:!1}}if(u=="grdm"){var iG=g.Grad.v,cC=g.Rvrs,U=1024,cL;
if(iG.Clrs){var dw=f.X.QB(iG.Clrs.v,0,0);cL=f.X.cg(iG,dw,U,cC?cC.v:!1)}else{cL=f.X.Hw(iG,U,cC?cC.v:!1)}var eY=f.L(U),cf=f.L(U),d7=f.L(U);
f.hk(cL,eY,0);f.hk(cL,cf,1);f.hk(cL,d7,2);X={type:K.zc,ko:eY,FT:cf,$X:d7,mh:!0,sZ:!1}}if(u=="selc"){var hs=new Float32Array(9*3*2),hz=g.nz,bx=g.Mthd?g.Mthd.v.CrcM=="Absl":!1;
for(var N=0;N<9;N++){var dO=N*6,hN=hr.Bi(g,N),jn=hN[0]/100,iP=hN[1]/100,io=hN[2]/100,jD=hN[3]/100;if(bx){hs[dO]=hs[dO+1]=hs[dO+2]=1;
hs[dO+3]=jn*(1+jD)+jD;hs[dO+4]=iP*(1+jD)+jD;hs[dO+5]=io*(1+jD)+jD}else{hs[dO+0]=(1+jn)*(1+jD);hs[dO+1]=(1+iP)*(1+jD);
hs[dO+2]=(1+io)*(1+jD)}}X={type:K.ba,a1l:hs}}if(u=="blwh"){var dg="Rd Yllw Grn Cyn Bl Mgnt".split(" "),X=[],bY=0,ke=0;
for(var P=0;P<6;P++)X.push(g[dg[P]].v);X.push(g.useTint.v,g.tintColor.v);var j1=[];for(var P=0;P<6;P++)j1.push((X[P]-50)/50);
var iO=f.X.Ld(X[7]);iO.w/=255;iO.A/=255;iO.U/=255;var ck=f.UD(iO.w,iO.A,iO.U),de=f.qC(f.zm(ck.xQ,1,.5)),cZ=ck.C9*ck.jp;
if(de==.5)bY=ke=.5;else{bY=cZ*(.5-de)/(.5/de-1);ke=1-cZ*(.5-de)-1/(2*(1-de));ke/=1-1/(2*(1-de))}X={type:K.rz,a95:j1,_w:X[6]?1:0,a0p:ck.xQ,qC:de,a5c:cZ,sa:bY,a1I:ke}}if(u=="blnc"){var o=[],bQ=["ShdL","MdtL","HghL"];
for(var P=0;P<3;P++){if(g[bQ[P]]==null){o[P]=[0,0,0];continue}var jC=g[bQ[P]].v,jh=jC[0].v/100,hk=jC[1].v/100,c8=jC[2].v/100,bM=g.PrsL==null||g.PrsL.v?(Math.min(jh,hk,c8)+Math.max(jh,hk,c8))/2:0;
o[P]=[jh-bM,hk-bM,c8-bM]}var M=[f.L(256),f.L(256),f.L(256)];for(var N=0;N<3;N++)for(var P=0;P<256;P++){var Z=P*(1/255),dE=0,O=0,h3=0;
O=o[2][N];h3=Math.abs(O);if(O<0)dE=Math.pow(Z,Math.SQRT2);else dE=1.63*(Math.pow(Z+.04,.5)-.2);Z=h3*dE+(1-h3)*Z;
O=o[1][N];h3=Math.abs(O);if(O<0)dE=Math.pow(Z,2);else dE=Math.min(2.35*(Math.pow(Z+.09,.5)-.3),Math.pow(Z,1/2));
Z=h3*dE+(1-h3)*Z;O=o[0][N];h3=Math.abs(O);if(O<0)dE=Z<.4?0:Math.pow((Z-.4)/.6,Math.SQRT2);else dE=Math.pow(Z,Math.SQRT2/2);
Z=h3*dE+(1-h3)*Z;Z=Math.max(0,Math.min(1,Z));M[N][P]=Math.round(Z*255)}X={type:K.zc,ko:M[0],FT:M[1],$X:M[2],mh:!1,sZ:!1}}if(u=="phfl"){var eL=f.X.Ld(g.Clr.v),hX=[eL.w/255,eL.A/255,eL.U/255],hm=g.Dnst.v/100,M=[f.L(256),f.L(256),f.L(256)];
for(var N=0;N<3;N++)for(var P=0;P<256;P++){var Z=P*(1/255),c7=Z*hX[N];c7=Math.max(0,Math.min(1,c7));
Z=hm*c7+(1-hm)*Z;M[N][P]=Math.round(Z*255)}X={type:K.zc,ko:M[0],FT:M[1],$X:M[2],mh:!1,sZ:g.PrsL.v}}if(u=="thrs"){var J=f.L(256);
for(var P=g.Lvl.v;P<256;P++)J[P]=255;X={type:K.zc,ko:J,FT:J,$X:J,mh:!0,sZ:!1}}if(u=="mixr"){var jS=jO.yZ(g),r=[];
for(var P=0;P<jS.h.length;P++)if(P%5!=3)r.push(jS.h[P]/100);if(jS.wl){for(var fW=1;fW<3;fW++)for(var Z=0;
Z<4;Z++)r[fW*4+Z]=r[Z]}X={type:K.fU,Oi:r}}if(u=="rplc"){var aR=g.Mnm.v,jV=g.Mxm.v;X={type:K.ua,PS:[aR.Lmnc.v,aR.A.v,aR.B.v],n4:[jV.Lmnc.v,jV.A.v,jV.B.v],shift:[g.H.v/360,g.Strt.v/100,g.Lght.v/100],tY:g.Fzns.v/150}}if(u=="clrL"&&g.profile){var gx=new Uint8Array(g.profile.v),h5=ICC.R(gx.buffer),iV=[],cd=17,iV=ICC.U.sampleLUT(h5,cd);
X={type:K._6,ee:ICC.U.rgba8LUT(iV,cd),anp:iV,ny:cd}}return X};jO.In=function(u,g){var K=-1;if(u!="levl"||g==null)K=-1;
else if(g.Auto)K=0;else if(g.AuCo)K=1;else if(g.autoBlackWhite)K=2;return K};jO.sH={zc:0,Zp:1,dT:2,ba:3,rz:4,fU:5,ua:6,_6:7};
jO.l1=function(u){if(u<0)return u;return Math.pow(Math.tan(Math.PI/2*u),1.3)};jO.ahU=function(u){if(u<0)return u;
u=Math.pow(u,1/1.3);return Math.atan2(u,1)/(Math.PI/2)};jO.o4=function(u,g,K,X){var w=jO.sH,D=Date.now();
if(s.xA&&X.$()>300*300&&u.type!=w.zc&&u.type!=w._6){X=X.clone();X.x=X.y=0;var q=s.iS(0,X.m,X.n);q.set(g);
s.c9(q,X);q.xH(X);jO.vG(u,q.Gd,X);q.get(K);return}if(u.type==w._6){var C=u.anp,a=u.ny;ICC.U.applyLUT(C,a,g,K);
var x=g.length;for(var P=0;P<x;P+=4)K[P+3]=g[P+3]}if(u.type==w.fU)f.R$.FL(g,K,u.Oi);if(u.type==w.rz){var H=u.a5c,$=u.qC,r=u.sa,c=u.a1I,x=g.length;
for(var P=0;P<x;P+=4){var X=g[P]*(1/255),U=g[P+1]*(1/255),O=g[P+2]*(1/255),A=f.TT(X,U,O),m=0;for(var i=0;
i<6;i++)m+=Math.min(1,1.7*(1-A.I4))*A.C9*u.a95[i]*jO.aiX(A.xQ,i*(1/6));var e=Math.max(0,Math.min(1,A.I4*(1+m)));
if(u._w==1){var S=0;if(e<r)S=e*(.5/$);else if(e<c)S=e+H*(.5-$);else S=1-(1-e)*.5/(1-$);A.xQ=u.a0p;A.C9=Math.min(1,H+3*H*Math.abs(e-.5*(r+c)));
A.I4=S}else{A.xQ=0;A.C9=0;A.I4=e}var E=f.zm(A.xQ,A.C9,A.I4);K[P]=Math.round(E.w*255);K[P+1]=Math.round(E.A*255);
K[P+2]=Math.round(E.U*255)}}if(u.type==w.ba){var Z=u.a1l,x=g.length,N=1/255;for(var P=0;P<x;P+=4){var X=g[P]*N,U=g[P+1]*N,O=g[P+2]*N,A=f.TT(X,U,O),J=Math.max(X,Math.max(U,O)),y=Math.min(X,Math.min(U,O)),o=1-X,B=1-U,t=1-O,W=0,F=0,G=0;
for(var i=0;i<9;i++){var L=i*6,p=0;if(Z[L]==1&&Z[L+1]==1&&Z[L+2]==1&&Z[L+3]==0&&Z[L+4]==0&&Z[L+5]==0)continue;
var Q=o*Z[L]+Z[L+3],T=B*Z[L+1]+Z[L+4],j=t*Z[L+2]+Z[L+5];if(i<6)p=jO.aiX(A.xQ,i*(1/6))*A.C9*2*Math.min(A.I4,1-A.I4);
else if(i==6)p=Math.max(0,y-.5)*2;else if(i==7)p=1-(Math.abs(J-.5)+Math.abs(y-.5));else p=Math.max(0,.5-J)*2;
W+=(Math.max(0,Math.min(1,Q))-o)*p;F+=(Math.max(0,Math.min(1,T))-B)*p;G+=(Math.max(0,Math.min(1,j))-t)*p}o=Math.max(0,Math.min(1,o+W));
B=Math.max(0,Math.min(1,B+F));t=Math.max(0,Math.min(1,t+G));X=1-o;U=1-B;O=1-t;K[P]=Math.round(X*255);
K[P+1]=Math.round(U*255);K[P+2]=Math.round(O*255)}}if(u.type==w.zc){f.aua(g,K,u.ko,u.FT,u.$X,u.mh,u.sZ)}if(u.type==w.Zp){var M=new Uint32Array(g.buffer),n=new Uint32Array(K.buffer),x=M.length;
if(jO.MH==null){jO.MH=new Float64Array(256);for(var P=0;P<256;P++)jO.MH[P]=jO.l1(-1+2*P/255)}var d=jO.MH;
for(var P=0;P<x;P++){var V=M[P],X=(V&255)*(1/255),U=(V>>>8&255)*(1/255),O=(V>>>16&255)*(1/255),z=V>>>24,I=Math.min(X,U,O),v=Math.max(X,U,O),gj=0,jA=0,Y=0;
gj=f.TT(X,U,O).xQ;var jv=~~(gj*255+.5),iR=u.afB[jv]*(1/255),cj=u.DI[jv]*(1/255)*2-1,j8=u.anH[jv]*(1/255)*2-1,m=-j8,as=I;
if(0<j8){m=j8;as=v}var gW=u.alY+u.y3*m*as,af=u.y3*(1-m);X=gW+af*X;U=gW+af*U;O=gW+af*O;v=Math.max(X,U,O);
I=Math.min(X,U,O);Y=(v+I)*.5;if(v!=I){var at=v-I;jA=Y>.5?at/(2-(v+I)):at/(v+I)}var jd=cj;if(u.a6p==0){cj=d[Math.floor((1+cj)*127.5)];
jd=Math.min(jA*(1+cj),1)}var E=f.zm(iR,jd,Y);X=E.w;U=E.A;O=E.U;n[P]=z<<24|O*255<<16|U*255<<8|X*255}}if(u.type==w.ua){f.me(g,K);
var M=new Uint32Array(g.buffer),n=new Uint32Array(K.buffer),x=M.length,fM=u.tY,hS=1/fM,dr={CU:u.PS[0],_x:u.PS[1],U:u.PS[2]},cB={CU:u.n4[0],_x:u.n4[1],U:u.n4[2]};
for(var P=0;P<x;P++){var V=M[P],b1=V&255,ic=V>>>8&255,dV=V>>>16&255,X=b1*(1/255),U=ic*(1/255),O=dV*(1/255),z=V>>>24,eS=f.iu(b1,ic,dV),a2=f.Wh(eS,dr,cB,fM,hS);
if(a2==0)continue;var A=f.TT(X,U,O),iR=2+A.xQ+u.shift[0];A.xQ=iR-~~iR;A.C9=Math.max(0,Math.min(1,A.C9+u.shift[1]));
A.I4=Math.max(0,Math.min(1,A.I4+u.shift[2]));var E=f.zm(A.xQ,A.C9,A.I4);X=(1-a2)*X+a2*E.w;U=(1-a2)*U+a2*E.A;
O=(1-a2)*O+a2*E.U;n[P]=z<<24|O*255<<16|U*255<<8|X*255}}if(u.type==w.dT){var M=new Uint32Array(g.buffer),n=new Uint32Array(K.buffer),x=M.length,d3=u.M3[0],cE=u.M3[1],eP=u.M3[2],m=u.M3[3],jm=f.R$.sN([.299,.587,.114,-.147,-.289,.436,.615,-.515,-.1]),bD=f.R$.CD(jm),f1=2.4;
console.log(bD);function a(aY){return Math.max(0,Math.min(1,aY))}function ft(aY){return Math.pow(aY,f1)}function ie(aY){return Math.pow(aY,1/f1)}function b2(X,U,O,aY){X=ft(X);
U=ft(U);O=ft(O);var eF=f.R$.EM(jm,[X,U,O,1]);eF[0]*=eP;eF[1]*=m;eF[2]*=m;var E=f.R$.EM(bD,eF);E[0]=ie(a(E[0]));
E[1]=ie(a(E[1]));E[2]=ie(a(E[2]));return E}for(var P=0;P<x;P++){var V=M[P],X=(V&255)*(1/255),U=(V>>>8&255)*(1/255),O=(V>>>16&255)*(1/255),z=V>>>24,E=b2(X,U,O,d3);
X=E[0];U=E[1];O=E[2];var dh=f.TT(X,U,O);dh.C9=Math.max(0,Math.min(1,dh.C9*(1+cE)));E=f.zm(dh.xQ,dh.C9,dh.I4);
X=E.w;U=E.A;O=E.U;n[P]=z<<24|O*255<<16|U*255<<8|X*255}}};jO.vG=function(u,g,K){s.W1.vG(u,g)};jO.aiX=function(u,g){var K=f.XG(g,u)*6;
return Math.max(0,Math.min(1,K<0?1+K:1-K))};var dJ={};dJ.o8=function(u){var g=u.filterID.v;return g>16777215?k.ab9(g):u.Fltr.v.classID};
dJ.Jy=[{Gu:"GEfc"},{Gu:"LnCr"},{Gu:"LqFy",nf:!0},{Sm:"3D",rG:["lightFilterGradient"]},{Sm:[24,2],rG:"Avrg,Blr ,BlrM,boxblur,GsnB,Bokh,MtnB,RdlB,surfaceBlur".split(",")},{Sm:[24,4],rG:"Dspl,Kale,Pnch,Plr ,Rple,Shr ,Sphr,Twrl,Wave,ZgZg".split(",")},{Sm:[24,6],rG:["AdNs","Dspc","DstS","Mdn ","denoise"]},{Sm:[24,8],rG:"ClrH,Crst,Frgm,Mztn,Msc ,Pntl".split(",")},{Sm:[24,10],rG:["Flam","Clds","DfrC","Fbrs","LnsF"]},{Sm:[24,12],rG:["Shrp","ShrE","ShrM","smartSharpen","UnsM"]},{Sm:[24,14],rG:"Dfs ,Embs,FndE,oilPaint,Slrz,TrcC,Wnd ".split(",")},{Sm:[24,16],rG:"HghP,HsbP,Mxm ,Mnm ,Ofst,Rept,Ctoa,Dthr,Part".split(",")},{Sm:"Fourier",rG:["dDFT","iDFT"]}];
dJ.aA={LqFy:"LqFy",Avrg:"Avrg","Blr ":"blurEvent",BlrM:"blurMethod",boxblur:"boxblur",GsnB:"gaussianBlur",MtnB:"motionBlur",RdlB:"radialBlur",surfaceBlur:"surfaceBlur",lightFilterGradient:"lightFilterGradient",adaptCorrect:"adaptCorrect",Pnch:"pinch","Plr ":"polar",Rple:"ripple","Shr ":"shear",Sphr:"spherize",Twrl:"twirl",Wave:"wave",AdNs:"addNoise",DstS:"dustAndScratches","Mdn ":"median",denoise:"denoise",ClrH:"colorHalftone",Crst:"",Frgm:"",Mztn:"mezzotint","Msc ":"mosaic",Pntl:"",Flam:"",Clds:"clouds",DfrC:"differenceClouds",LnsF:"LnsF",Shrp:"sharpen",ShrM:"sharpenMore",smartSharpen:"smartSharpen",UnsM:"unsharpMask","Dfs ":"diffuse",FndE:"findEdges",oilPaint:"oilPaint",HghP:"highPass","Mxm ":"maximum","Mnm ":"minimum",Ofst:"offset"};
dJ.abH={AddNoise:"AdNs",Average:"Avrg",Blur:"Blr ",BlurMore:"BlrM",Clouds:"Clds",DifferenceClouds:"DfrC",DustAndScratches:"DstS",GaussianBlur:"GsnB",HighPass:"HghP",Maximum:"Mxm ",Minimum:"Mnm ",MotionBlur:"MtnB",Offset:"Ofst",Pinch:"Pnch",PolarCoordinates:"Plr ",Ripple:"Rple",Sharpen:"Shrp",SharpenMore:"ShrM",Twirl:"Twrl",UnsharpMask:"UnsM"};
dJ.W={rigidTransform:R.wd};dJ.names={lightFilterGradient:"Normal Map",rigidTransform:[10,46],LnCr:[24,1,1,0],LqFy:[24,1,0,0],GEfc:[24,0],Avrg:[24,3,0],"Blr ":[24,3,1],BlrM:[24,3,2],boxblur:[24,3,3],GsnB:[24,3,4],Bokh:[24,3,5],MtnB:[24,3,6],RdlB:[24,3,7],surfaceBlur:[24,3,10],Dspl:[24,5,0],Pnch:[24,5,1],"Plr ":[24,5,2],Rple:[24,5,3],"Shr ":[24,5,4],Sphr:[24,5,5],Twrl:[24,1,0,1,3],Wave:[24,5,6],ZgZg:"ZigZag",AdNs:[24,7,0],Dspc:[24,7,1],DstS:[24,7,2],"Mdn ":[24,7,3],denoise:"Reduce Noise",ClrH:[24,9,0],Crst:[24,9,1],Frgm:[24,9,3],Mztn:[24,9,4],"Msc ":[24,9,5],Pntl:[24,9,6],Flam:"Flame",Clds:[24,11,0],DfrC:[24,11,1],Fbrs:"Fibers",LnsF:[24,11,2],Shrp:[24,13,0],ShrE:[24,13,1],ShrM:[24,13,2],smartSharpen:[24,13,3],UnsM:[24,13,4],"Dfs ":[24,15,0],Embs:[24,15,1],FndE:[24,15,3],oilPaint:[24,15,4],Slrz:"Solarize",TrcC:"Trace Contour","Wnd ":"Wind",HghP:[24,17,1],HsbP:"HSB/HSL","Mxm ":[24,17,2],"Mnm ":[24,17,3],Ofst:[24,17,4],Rept:[24,17,5],Kale:"Kaleidoscope",Ctoa:"Color to Alpha",Dthr:[12,23,3],Part:"Particles",dDFT:"Fourier Transform",iDFT:"Inverse Fourier Transform",defr:"Defringe",adaptCorrect:["VAR0/VAR1",[19,6,0],[19,6,2]]};
dJ.mt=function(u){var g=null;if(u=="GEfc")g={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:hq.mt("GlwE")}]}};
if(u=="LqFy"){var K={QM:5,xQ:5,map:new Float32Array(5*5*2)},X=new Uint8Array(ix.hA(K)),w=[];for(var P=0;
P<X.length;P++)w.push(X[P]);g={__name:"Liquify",classID:"LqFy",LqMe:{t:"tdta",v:w}}}if(u=="rigidTransform"){g={__name:"Puppet Warp",classID:"rigidTransform",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},rigidType:{t:"bool",v:!0},puppetShapeList:{t:"VlLs",v:[]},PuX0:{t:"doub",v:0},PuX1:{t:"doub",v:1e3},PuX2:{t:"doub",v:1e3},PuX3:{t:"doub",v:0},PuY0:{t:"doub",v:0},PuY1:{t:"doub",v:0},PuY2:{t:"doub",v:1e3},PuY3:{t:"doub",v:1e3}}}if(u=="LnCr")g={__name:"Lens Correction",classID:"LnCr",LnAg:{t:"bool",v:!0},LnAc:{t:"bool",v:!1},LnAv:{t:"bool",v:!1},LnAs:{t:"bool",v:!1},LnIp:{t:"bool",v:!1},LnFo:{t:"doub",v:0},LnPr:{t:"TEXT",v:""},LnIa:{t:"doub",v:0},LnI0:{t:"doub",v:0},LnI1:{t:"doub",v:0},LnI2:{t:"doub",v:0},LnI3:{t:"doub",v:1},LnRa:{t:"doub",v:0},LnVp:{t:"doub",v:0},LnHp:{t:"doub",v:0},LnSi:{t:"doub",v:100},LnFt:{t:"long",v:2},LnSb:{t:"doub",v:0},LnSt:{t:"long",v:50},LnRc:{t:"doub",v:0},LnGm:{t:"doub",v:0},LnBy:{t:"doub",v:0},LnNa:{t:"long",v:64},LnIh:{t:"long",v:0},LnIv:{t:"long",v:0},LnIs:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:127},Grn:{t:"doub",v:127},Bl:{t:"doub",v:127}}},LnNm:{t:"bool",v:!1}};
if(u=="adaptCorrect")g={__name:"Shadow/Highlight",classID:"adaptCorrect",sdwM:{t:"Objc",v:{__name:"Parameters",classID:"adaptCorrectTones",Amnt:{t:"UntF",v:{type:"#Prc",val:50}},Wdth:{t:"UntF",v:{type:"#Prc",val:25}},Rds:{t:"long",v:12}}},hglM:{t:"Objc",v:{__name:"Parameters",classID:"adaptCorrectTones",Amnt:{t:"UntF",v:{type:"#Prc",val:0}},Wdth:{t:"UntF",v:{type:"#Prc",val:0}},Rds:{t:"long",v:0}}},BlcC:{t:"doub",v:0},WhtC:{t:"doub",v:0},Cntr:{t:"long",v:0},ClrC:{t:"long",v:0}};
if(u=="Dfs ")g={__name:"Diffuse",classID:"Dfs",Md:{t:"enum",v:{DfsM:"Nrml"}},FlRs:{t:"long",v:14061024}};
if(u=="Fbrs")g={__name:"Fibers",classID:"Fbrs",Vrnc:{t:"long",v:10},Strg:{t:"long",v:1},RndS:{t:"long",v:8438429}};
if(u=="Embs")g={__name:"Emboss",classID:"Embs",Angl:{t:"long",v:45},Hght:{t:"long",v:5},Amnt:{t:"long",v:100}};
if(u=="oilPaint")g={__name:"Oil Paint",classID:"oilPaint",lightingOn:{t:"bool",v:!0},stylization:{t:"doub",v:3},brushScale:{t:"doub",v:1},microBrush:{t:"doub",v:0},LghD:{t:"long",v:45},specularity:{t:"doub",v:1},cleanliness:{t:"doub",v:2}};
if(u=="TrcC")g={__name:"Trace Contour",classID:"TrcC",Lvl:{t:"long",v:128},Edg:{t:"enum",v:{CntE:"Lwr"}}};
if(u=="Wnd ")g={__name:"Wind",classID:"Wnd",WndM:{t:"enum",v:{WndM:"Wnd"}},Drct:{t:"enum",v:{Drct:"Rght"}}};
if(u=="lightFilterGradient")g={__name:"Generate Normals",classID:"lightFilterGradient",blur:{t:"doub",v:0},textureScale:{t:"doub",v:1},Scl:{t:"doub",v:1},Dtl:{t:"VlLs",v:[{t:"doub",v:1},{t:"doub",v:1},{t:"doub",v:1}]}};
if(u=="boxblur")g={__name:"Box Blur",classID:"boxblur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}}};if(u=="GsnB")g={__name:"Gaussian Blur",classID:"GsnB",Rds:{t:"UntF",v:{type:"#Pxl",val:7.2}}};
if(u=="Bokh")g={__name:"Lens Blur",classID:"Bokh",BkDi:{t:"enum",v:{BtDi:"BeIn"}},BkDp:{t:"long",v:0},BkDs:{t:"bool",v:!1},BkIs:{t:"enum",v:{BtIs:"BeS6"}},BkIb:{t:"doub",v:30},BkIc:{t:"long",v:0},BkIr:{t:"long",v:0},BkSb:{t:"doub",v:0},BkSt:{t:"long",v:255},BkNa:{t:"long",v:0},BkNt:{t:"enum",v:{BtNt:"BeNu"}},BkNm:{t:"bool",v:!1}};
if(u=="MtnB")g={__name:"Motion Blur",classID:"MtnB",Angl:{t:"long",v:0},Dstn:{t:"UntF",v:{type:"#Pxl",val:4}}};
if(u=="RdlB")g={__name:"Radial Blur",classID:"RdlB",Amnt:{t:"long",v:10},BlrM:{t:"enum",v:{BlrM:"Spn"}},BlrQ:{t:"enum",v:{BlrQ:"Gd"}},Cntr:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.5},Vrtc:{t:"doub",v:.5}}}};
if(u=="surfaceBlur")g={__name:"Surface Blur",classID:"surfaceBlur",Rds:{t:"UntF",v:{type:"#Pxl",val:15}},Thsh:{t:"long",v:15}};
if(u=="denoise")g={__name:"Reduce Noise",classID:"denoise",ClNs:{t:"UntF",v:{type:"#Prc",val:29}},Shrp:{t:"UntF",v:{type:"#Prc",val:0}},removeJPEGArtifact:{t:"bool",v:!1},channelDenoise:{t:"VlLs",v:[{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Cmps"}}]},Amnt:{t:"long",v:5},EdgF:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Rd"}}]},Amnt:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Grn"}}]},Amnt:{t:"long",v:0}}},{t:"Objc",v:{classID:"channelDenoiseParams",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"Bl"}}]},Amnt:{t:"long",v:0}}}]},preset:{t:"TEXT",v:"Default"}};
if(u=="Dspl")g={__name:"Displace",classID:"Dspl",HrzS:{t:"long",v:10},VrtS:{t:"long",v:10},DspM:{t:"enum",v:{DspM:"StrF"}},UndA:{t:"enum",v:{UndA:"RptE"}},DspF:{t:"Pth ",v:{sig:"txtu",pth:"file.psd\0"}}};
if(u=="Pnch")g={__name:"Pinch",classID:"Pnch",Amnt:{t:"long",v:-100}};if(u=="Plr ")g={__name:"Polar Coordinates",classID:"Plr",Cnvr:{t:"enum",v:{Cnvr:"RctP"}}};
if(u=="Rple")g={__name:"Ripple",classID:"Rple",Amnt:{t:"long",v:999},RplS:{t:"enum",v:{RplS:"Mdm"}}};
if(u=="Shr ")g={__name:"Shear",classID:"Shr",ShrP:{t:"VlLs",v:[{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:1}}},{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:128}}}]},UndA:{t:"enum",v:{UndA:"WrpA"}},ShrS:{t:"long",v:0},ShrE:{t:"long",v:1}};
if(u=="Sphr")g={__name:"Spherize",classID:"Sphr",Amnt:{t:"long",v:100},SphM:{t:"enum",v:{SphM:"Nrml"}}};
if(u=="Twrl")g={__name:"Twirl",classID:"Twrl",Angl:{t:"long",v:90}};if(u=="Wave")g={__name:"Wave",classID:"Wave",Wvtp:{t:"enum",v:{Wvtp:"WvSn"}},NmbG:{t:"long",v:1},WLMn:{t:"long",v:101},WLMx:{t:"long",v:102},AmMn:{t:"long",v:36},AmMx:{t:"long",v:37},SclH:{t:"long",v:100},SclV:{t:"long",v:100},UndA:{t:"enum",v:{UndA:"WrpA"}},RndS:{t:"long",v:743887}};
if(u=="ZgZg")g={__name:"ZigZag",classID:"ZgZg",Amnt:{t:"long",v:50},NmbR:{t:"long",v:10},ZZTy:{t:"enum",v:{ZZTy:"ArnC"}}};
if(u=="AdNs")g={__name:"Add Noise",classID:"AdNs",Dstr:{t:"enum",v:{Dstr:"Unfr"}},Nose:{t:"UntF",v:{type:"#Prc",val:20}},Mnch:{t:"bool",v:!1},FlRs:{t:"long",v:100691320}};
if(u=="DstS")g={__name:"Dust & Scratches",classID:"DstS",Rds:{t:"long",v:2},Thsh:{t:"long",v:26}};if(u=="Mdn ")g={__name:"Median",classID:"Mdn",Rds:{t:"UntF",v:{type:"#Pxl",val:7}}};
if(u=="ClrH")g={__name:"Color Halftone",classID:"ClrH",Rds:{t:"long",v:8},Ang1:{t:"long",v:10},Ang2:{t:"long",v:40},Ang3:{t:"long",v:70},Ang4:{t:"long",v:80}};
if(u=="Crst")g={__name:"Crystallize",classID:"Crst",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929224}};
if(u=="Mztn")g={__name:"Mezzotint",classID:"Mztn",MztT:{t:"enum",v:{MztT:"FnDt"}},FlRs:{t:"long",v:204994187}};
if(u=="Msc ")g={__name:"Mosaic",classID:"Msc",ClSz:{t:"UntF",v:{type:"#Pxl",val:12}}};if(u=="Pntl")g={__name:"Pointillize",classID:"Pntl",ClSz:{t:"long",v:10},FlRs:{t:"long",v:1554929236}};
if(u=="LnsF")g={__name:"Lens Flare",classID:"LnsF",Brgh:{t:"long",v:100},FlrC:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:.19140625},Vrtc:{t:"doub",v:.185628741979599}}},Lns:{t:"enum",v:{Lns:"Zm"}}};
if(u=="Dthr")g={__name:"Dither",classID:"Dthr",Plte:{t:"long",v:0}};if(u=="Part")g={__name:"Dither",classID:"Part",Cont:{t:"long",v:10},Size:{t:"long",v:8},Dpth:{t:"long",v:100},Brgh:{t:"long",v:800},Clr:{t:"Objc",v:{classID:"RGBC",Rd:{v:255,t:"doub"},Grn:{v:255,t:"doub"},Bl:{v:255,t:"doub"}}},Time:{t:"doub",v:0},Turb:{t:"long",v:0},Blnk:{t:"bool",v:!0},Fall:{t:"bool",v:!1},RndS:{t:"long",v:8438429}};
if(u=="Adobe Camera Raw Filter")g={__name:"Camera Raw Filter",classID:"Adobe Camera Raw Filter",CMod:{t:"TEXT",v:"Filter"},Sett:{t:"enum",v:{Sett:"Cst"}},WBal:{t:"enum",v:{WBal:"AsSh"}},Temp:{t:"long",v:0},Tint:{t:"long",v:0},CtoG:{t:"bool",v:!1},Strt:{t:"long",v:0},Shrp:{t:"long",v:0},LNR:{t:"long",v:0},CNR:{t:"long",v:0},VigA:{t:"long",v:0},BlkB:{t:"long",v:0},RHue:{t:"long",v:0},RSat:{t:"long",v:0},GHue:{t:"long",v:0},GSat:{t:"long",v:0},BHue:{t:"long",v:0},BSat:{t:"long",v:0},Vibr:{t:"long",v:0},HA_R:{t:"long",v:0},HA_O:{t:"long",v:0},HA_Y:{t:"long",v:0},HA_G:{t:"long",v:0},HA_A:{t:"long",v:0},HA_B:{t:"long",v:0},HA_P:{t:"long",v:0},HA_M:{t:"long",v:0},SA_R:{t:"long",v:0},SA_O:{t:"long",v:0},SA_Y:{t:"long",v:0},SA_G:{t:"long",v:0},SA_A:{t:"long",v:0},SA_B:{t:"long",v:0},SA_P:{t:"long",v:0},SA_M:{t:"long",v:0},LA_R:{t:"long",v:0},LA_O:{t:"long",v:0},LA_Y:{t:"long",v:0},LA_G:{t:"long",v:0},LA_A:{t:"long",v:0},LA_B:{t:"long",v:0},LA_P:{t:"long",v:0},LA_M:{t:"long",v:0},STSH:{t:"long",v:0},STSS:{t:"long",v:0},STHH:{t:"long",v:0},STHS:{t:"long",v:0},STB:{t:"long",v:0},PC_S:{t:"long",v:0},PC_D:{t:"long",v:0},PC_L:{t:"long",v:0},PC_H:{t:"long",v:0},PC_1:{t:"long",v:25},PC_2:{t:"long",v:50},PC_3:{t:"long",v:75},ShpR:{t:"doub",v:1},ShpD:{t:"long",v:25},ShpM:{t:"long",v:0},PCVA:{t:"long",v:0},GRNA:{t:"long",v:0},LPEn:{t:"long",v:0},MDis:{t:"long",v:0},PerV:{t:"long",v:0},PerH:{t:"long",v:0},PerR:{t:"doub",v:0},PerS:{t:"long",v:100},PerA:{t:"long",v:0},PerU:{t:"long",v:0},PerX:{t:"doub",v:0},PerY:{t:"doub",v:0},AuCA:{t:"long",v:0},Ex12:{t:"doub",v:0},Cr12:{t:"long",v:0},Hi12:{t:"long",v:0},Sh12:{t:"long",v:0},Wh12:{t:"long",v:0},Bk12:{t:"long",v:0},Cl12:{t:"long",v:0},DfPA:{t:"long",v:0},DPHL:{t:"long",v:30},DPHH:{t:"long",v:70},DfGA:{t:"long",v:0},DPGL:{t:"long",v:40},DPGH:{t:"long",v:60},Dhze:{t:"long",v:0},TMMs:{t:"long",v:0},Crv:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvR:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvG:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CrvB:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:255},{t:"long",v:255}]},CamP:{t:"TEXT",v:"Embedded"},CP_D:{t:"TEXT",v:"54650A341B5B5CCAE8442D0B43A92BCE"},PrVe:{t:"long",v:184549376},Rtch:{t:"TEXT",v:""},REye:{t:"TEXT",v:""},LCs:{t:"TEXT",v:""},Look:{t:"TEXT",v:""},Pset:{t:"TEXT",v:""}};
if(u=="smartSharpen")g={__name:"Smart Sharpen",classID:"smartSharpen",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},useLegacy:{t:"bool",v:!1},Amnt:{t:"UntF",v:{type:"#Prc",val:150}},Rds:{t:"UntF",v:{type:"#Pxl",val:1}},noiseReduction:{t:"UntF",v:{type:"#Prc",val:0}},blur:{t:"enum",v:{blurType:"GsnB"}}};
if(u=="UnsM")g={__name:"Unsharp Mask",classID:"UnsM",Amnt:{t:"UntF",v:{type:"#Prc",val:142}},Rds:{t:"UntF",v:{type:"#Pxl",val:4.5}},Thsh:{t:"long",v:0}};
if(u=="HghP")g={__name:"High Pass",classID:"HghP",Rds:{t:"UntF",v:{type:"#Pxl",val:3}}};if(u=="HsbP")g={__name:"HSB/HSL",classID:"HsbP",Inpt:{t:"enum",v:{ClrS:"RGBC"}},Otpt:{t:"enum",v:{ClrS:"HSBl"}}};
if(u=="Mxm ")g={__name:"Maximum",classID:"Mxm",Rds:{t:"UntF",v:{type:"#Pxl",val:8}},preserveShape:{t:"enum",v:{preserveShape:"squareness"}}};
if(u=="Mnm ")g={__name:"Minimum",classID:"Mnm",Rds:{t:"UntF",v:{type:"#Pxl",val:8}},preserveShape:{t:"enum",v:{preserveShape:"squareness"}}};
if(u=="Ofst")g={__name:"Offset",classID:"Ofst",Hrzn:{t:"long",v:144},Vrtc:{t:"long",v:278},Fl:{t:"enum",v:{FlMd:"Wrp"}}};
if(u=="Kale")g={__name:"Kaleidoscope",classID:"Kale",Mirr:{t:"long",v:6},MRot:{t:"long",v:0}};if(u=="Rept")g={__name:"Repeat",classID:"Rept",Scl:{v:{type:"#Prc",val:100},t:"UntF"},Rsft:{v:{type:"#Prc",val:0},t:"UntF"},SpcX:{v:{type:"#Prc",val:0},t:"UntF"},SpcY:{v:{type:"#Prc",val:0},t:"UntF"},SpcC:{t:"bool",v:!1},Angl:{t:"long",v:0}};
if(u=="Flam")g={__name:"Repeat",classID:"Flam",Type:{t:"long",v:0},Leng:{t:"long",v:140},RndL:{t:"bool",v:!1},Widt:{t:"long",v:100},Angl:{t:"long",v:0},Intr:{t:"long",v:100},Adpt:{t:"bool",v:!1},Qual:{t:"long",v:1},Clr:{v:{classID:"RGBC",Rd:{v:255,t:"doub"},Grn:{v:110,t:"doub"},Bl:{v:28,t:"doub"}},t:"Objc"},Turb:{t:"long",v:50},Jag:{t:"long",v:0},Opct:{v:{type:"#Prc",val:25},t:"UntF"},Lins:{t:"long",v:10},Botm:{t:"long",v:30},Styl:{t:"long",v:0},Shap:{t:"long",v:0},RnSh:{t:"bool",v:!1},Arng:{t:"long",v:18}};
if(u=="Ctoa")g={__name:"Color to Alpha",classID:"Ctoa",Trsp:{v:{type:"#Prc",val:0},t:"UntF"},Opct:{v:{type:"#Prc",val:100},t:"UntF"},Clr:{v:{classID:"RGBC",Rd:{v:0,t:"doub"},Grn:{v:0,t:"doub"},Bl:{v:0,t:"doub"}},t:"Objc"}};
if(u=="brit")g={__name:"Brightness/Contrast",classID:"BrgC",Brgh:{t:"long",v:0},Cntr:{t:"long",v:0},useLegacy:{t:"bool",v:!1}};
if(u=="levl")g={__name:"Levels",classID:"Lvls",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(u=="curv")g={__name:"Curves",classID:"Crvs",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Adjs:{t:"VlLs",v:[]}};
if(u=="expA")g={__name:"Exposure",classID:"Exps",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Exps:{t:"doub",v:0},Ofst:{t:"doub",v:0},gammaCorrection:{t:"doub",v:1}};
if(u=="vibA")g={__name:"Vibrance",classID:"vibrance",vibrance:{t:"long",v:0},Strt:{t:"long",v:0}};if(u=="hue2")g={__name:"Hue/Saturation",classID:"HStr",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Clrz:{t:"bool",v:!1},Adjs:{t:"VlLs",v:[]}};
if(u=="blnc")g={__name:"Color Balance",classID:"ClrB",ShdL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},MdtL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},HghL:{t:"VlLs",v:[{t:"long",v:0},{t:"long",v:0},{t:"long",v:0}]},PrsL:{t:"bool",v:!0}};
if(u=="blwh")g={__name:"Black & White",classID:"BanW",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Rd:{t:"long",v:40},Yllw:{t:"long",v:85},Grn:{t:"long",v:204},Cyn:{t:"long",v:60},Bl:{t:"long",v:20},Mgnt:{t:"long",v:80},useTint:{t:"bool",v:!0},tintColor:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:0}}}};
if(u=="phfl")g={__name:"Photo Filter",classID:"photoFilter",Clr:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:67.06},A:{t:"doub",v:32},B:{t:"doub",v:120}}},Dnst:{t:"long",v:80},PrsL:{t:"bool",v:!0}};
if(u=="grdm")g={__name:"Gradient Map",classID:"GrMp",Rvrs:{t:"bool",v:!1},Grad:JSON.parse(k8.QO[6]).Grad};
if(u=="selc")g={__name:"Selective Color",classID:"SlcC",presetKind:{t:"enum",v:{presetKindType:"presetKindCustom"}},Mthd:{t:"enum",v:{CrcM:"Rltv"}},ClrC:{t:"VlLs",v:[]}};
if(u=="thrs")g={__name:"Threshold",classID:"Thrs",Lvl:{t:"long",v:128}};if(u=="mixr")g={__name:"Channel Mixer",classID:"ChnM",presetKind:{t:"enum",v:{presetKindType:"presetKindDefault"}},Mnch:{t:"bool",v:!1},Rd:{t:"Objc",v:{classID:"ChMx",Rd:{t:"UntF",v:{type:"#Prc",val:100}}}},Grn:{t:"Objc",v:{classID:"ChMx",Grn:{t:"UntF",v:{type:"#Prc",val:100}}}},Bl:{t:"Objc",v:{classID:"ChMx",Bl:{t:"UntF",v:{type:"#Prc",val:100}}}}};
if(u=="clrL")g={__name:"Color Lookup",classID:"colorLookup"};if(u=="post")g={__name:"Posterize",classID:"Pstr",Lvls:{t:"long",v:3}};
if(u=="rplc")g={__name:"Replace Color",classID:"RplC",Fzns:{t:"long",v:55},Mnm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73.1},A:{t:"doub",v:23.95},B:{t:"doub",v:8.03}}},Mxm:{t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:73},A:{t:"doub",v:23},B:{t:"doub",v:8}}},H:{t:"long",v:-22},Strt:{t:"long",v:0},Lght:{t:"long",v:0}};
if(u=="fade")g={__name:"Fade",classID:"fade",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}};
if(u=="aply")g={classID:"null",With:{t:"Objc",v:{classID:"Clcl",T:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:"RGB"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}}]},Invr:{t:"bool",v:!1},Clcl:{t:"enum",v:{Clcn:"Nrml"}},Opct:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"long",v:128},Scl:{t:"doub",v:1},PrsT:{t:"bool",v:!1}}}};
if(u=="matc"){g={__name:"Match Color",classID:"matchColor",Lght:{t:"long",v:100},ClrR:{t:"long",v:100},Fade:{t:"long",v:0},fsel:{t:"bool",v:!0},neutralizeColor:{t:"bool",v:!1},noReference:{t:"bool",v:!0}}}if(u=="blendOptions")g={classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}};
return g};dJ.U7={sFlam:function(u,g){g[0]=u.Type.v;g[1]=u.Leng.v;g[2]=u.RndL.v;g[3]=u.Widt.v;g[4]=u.Angl.v;
g[5]=u.Intr.v;g[6]=u.Adpt.v;g[7]=u.Clr.v;g[8]=u.Qual.v;g[9]=u.Turb.v;g[10]=u.Jag.v;g[11]=u.Opct.v.val;
g[12]=u.Lins.v;g[13]=u.Botm.v;g[14]=u.Styl.v;g[15]=u.Shap.v;g[16]=u.RnSh.v;g[17]=u.Arng.v},gFlam:function(u,g){u.Type.v=g[0];
u.Leng.v=g[1];u.RndL.v=g[2];u.Widt.v=g[3];u.Angl.v=g[4];u.Intr.v=g[5];u.Adpt.v=g[6];u.Clr.v=g[7];u.Qual.v=g[8];
u.Turb.v=g[9];u.Jag.v=g[10];u.Opct.v.val=g[11];u.Lins.v=g[12];u.Botm.v=g[13];u.Styl.v=g[14];u.Shap.v=g[15];
u.RnSh.v=g[16];u.Arng.v=g[17]},sAdNs:function(u,g){g[0]=u.Nose.v.val;g[1]=["Gsn","Unfr"].indexOf(u.Dstr.v.Dstr);
g[2]=u.Mnch.v},gAdNs:function(u,g){u.Nose.v.val=g[0];u.Dstr.v.Dstr=["Gsn","Unfr"][g[1]];u.Mnch.v=g[2]},sDstS:function(u,g){g[0]=u.Rds.v;
g[1]=u.Thsh.v},gDstS:function(u,g){u.Rds.v=g[0];u.Thsh.v=g[1]},sGsnB:function(u,g){g[0]=u.Rds.v.val},gGsnB:function(u,g){u.Rds.v.val=g[0]},sHghP:function(u,g){g[0]=u.Rds.v.val},gHghP:function(u,g){u.Rds.v.val=g[0]},sHsbP:function(u,g){var K=["RGBC","HSBl","HSLC"];
g[0]=K.indexOf(u.Inpt.v.ClrS);g[1]=K.indexOf(u.Otpt.v.ClrS)},gHsbP:function(u,g){var K=["RGBC","HSBl","HSLC"];
u.Inpt.v.ClrS=K[g[0]];u.Otpt.v.ClrS=K[g[1]]},"sMxm ":function(u,g){var K="preserveShape";g[0]=u.Rds.v.val;
g[1]=u[K]?["squareness","Rndn"].indexOf(u[K].v[K]):0},"gMxm ":function(u,g){var K="preserveShape";u.Rds.v.val=g[0];
u[K]={t:"enum",v:{preserveShape:["squareness","Rndn"][g[1]]}}},"sMnm ":function(u,g){var K="preserveShape";
g[0]=u.Rds.v.val;g[1]=u[K]?["squareness","Rndn"].indexOf(u[K].v[K]):0},"gMnm ":function(u,g){var K="preserveShape";
u.Rds.v.val=g[0];u[K]={t:"enum",v:{preserveShape:["squareness","Rndn"][g[1]]}}},sMtnB:function(u,g){g[0]=[u.Angl.v];
g[1]=u.Dstn.v.val;console.log(g)},gMtnB:function(u,g){u.Angl.v=typeof g[0]=="number"?g[0]:g[0][0];u.Dstn.v.val=g[1]},sOfst:function(u,g){g[0]=u.Hrzn.v;
g[1]=u.Vrtc.v;g[2]=["Rpt","Bckg","Wrp"].indexOf(u.Fl.v.FlMd)},gOfst:function(u,g){u.Hrzn.v=g[0];u.Vrtc.v=g[1];
u.Fl.v.FlMd=["Rpt","Bckg","Wrp"][g[2]]},sPnch:function(u,g){g[0]=u.Amnt.v},gPnch:function(u,g){u.Amnt.v=g[0]},"sPlr ":function(u,g){g[0]=["RctP","PlrR"].indexOf(u.Cnvr.v.Cnvr)},"gPlr ":function(u,g){u.Cnvr.v.Cnvr=["RctP","PlrR"][g[0]]},sRple:function(u,g){g[0]=u.Amnt.v;
g[1]=["Sml","Mdm","Lrg"].indexOf(u.RplS.v.RplS)},gRple:function(u,g){u.Amnt.v=g[0];u.RplS.v.RplS=["Sml","Mdm","Lrg"][g[1]]},sTwrl:function(u,g){g[0]=u.Angl.v},gTwrl:function(u,g){u.Angl.v=g[0]},sZgZg:function(u,g){g[0]=u.Amnt.v;
g[1]=u.NmbR.v;g[2]=["ArnC","OtFr","PndR"].indexOf(u.ZZTy.v.ZZTy)},gZgZg:function(u,g){u.Amnt.v=g[0];
u.NmbR.v=g[1];u.ZZTy.v.ZZTy=["ArnC","OtFr","PndR"][g[2]]},sUnsM:function(u,g){g[0]=u.Amnt.v.val;g[1]=u.Rds.v.val;
g[2]=u.Thsh.v},gUnsM:function(u,g){u.Amnt.v.val=g[0];u.Rds.v.val=g[1];u.Thsh.v=g[2]}};dJ.a38=function(u){var g=new j4(0,0);
if(u.enab.v==!1)return g;var K=u.filterFXList.v;for(var P=0;P<K.length;P++){var X=K[P].v;if(X.enab.v==!1)continue;
var w=dJ.o8(X),D=dJ.RF(w,X.Fltr?X.Fltr.v:null);if(D.x>g.x)g.x=D.x;if(D.y>g.y)g.y=D.y}return g};dJ.RF=function(u,g){var K=0,X=0;
if(["GsnB","boxblur","smartSharpen","UnsM","HghP"].indexOf(u)!=-1){var w=g.Rds?g.Rds.v.val:1;K=X=w*2.57}if(u=="MtnB")K=X=g.Dstn.v.val;
if("Ofst,Rept,LqFy,Dspl,Pnch,Rple,Shr ,Sphr,Twrl,ZgZg,Wave,RdlB,Clds,DfrC,Plr ,LnCr,Wnd ,lightFilterGradient,rigidTransform,Frgm,Flam".split(",").indexOf(u)!=-1){K=X=1e4}if(u=="GEfc")return hq.RF(g);
return new j4(Math.ceil(K),Math.ceil(X))};dJ.Ae=function(){return{t:"Objc",v:{classID:"filterFXStyle",enab:{t:"bool",v:!0},validAtPosition:{t:"bool",v:!0},filterMaskEnable:{t:"bool",v:!0},filterMaskLinked:{t:"bool",v:!0},filterMaskExtendWithWhite:{t:"bool",v:!0},filterFXList:{t:"VlLs",v:[]}}}};
dJ.GU=function(u,g){var K={w:g.FK>>16,A:g.FK>>8&255,U:g.FK&255},X={w:g.ui>>16,A:g.ui>>8&255,U:g.ui&255},w=dJ.names[u];
if(w==null)w=jO.names[u];var D=u;for(var q in jO.Yz)if(jO.Yz[q]==u)D=q;var C={t:"Objc",v:{classID:"filterFX",Nm:{t:"TEXT",v:fc.get(w)},blendOptions:{t:"Objc",v:{classID:"blendOptions",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Md:{t:"enum",v:{BlnM:"Nrml"}}}},enab:{t:"bool",v:!0},hasoptions:{t:"bool",v:!0},FrgC:{t:"Objc",v:f.X.Gp(K)},BckC:{t:"Objc",v:f.X.Gp(X)},filterID:{t:"long",v:D.length==4?k.aju(D):777}}},a=dJ.mt(u);
if(a)C.v.Fltr={t:"Objc",v:a};return C};dJ.uC=function(u,g,K,X){var w=Date.now(),D=s.xA&&Math.max(X.m,X.n)<=s.CG.getParameter(s.CG.MAX_TEXTURE_SIZE);
if(u<1){var q=Math.round(u*5),C=[1,2,1,2,[40,26,13,6,4,2][q],2,1,2,1];C=f.Xg.eW(C);if(!D){f.xa(K);var a=K.slice(0);
f.Xg.L4(a,K,X.m,X.n,C,255);f.X$(K)}else{var x=X.m,H=X.n,$=s.iS(0,x,H);$.set(K);var r=s.iS(1,x,H),c=new Float32Array([1/x,1/H]);
s.c9(r);s.filter.vG({type:s.filter.alg,aY:c,amV:new Float32Array(C)},$.nI);r.get(K)}}else{var U=g==f.zg.tx?0:g==f.zg.SX?1:2,O=[];
while(U!=2&&u*[1,2.4][U]>20&&O.length<4){var A=f.So(K,X);O.push(K,X);K=A.Fg;X=A.rect;u/=2}var x=X.m,H=X.n;
if(!D||U==2&&u>15){f.xa(K);g(K,X,u);f.X$(K)}else{var $=s.iS(0,x,H);$.set(K);var r=s.iS(1,x,H),c=new Float32Array([1/x,1/H]);
if(U==0){var m=1;while(m<u)m<<=1;s.c9(r);s.filter.vG({type:s.filter.s0,aY:c,D$:u,YW:[0,0,m]},$.nI);s.c9($);
s.filter.vG({type:s.filter.s0,aY:c,D$:u,YW:[0,1,m]},r.nI);$.get(K)}else if(U==1){var i=3,e=f.zg.mT(u,i);
for(var P=0;P<i;P++){var S=e[P]>>>1,E=1;while(E<S)E<<=1;if(S==0)continue;s.c9(r);s.filter.vG({type:s.filter.s0,aY:c,D$:S,YW:[0,0,E]},$.nI);
s.c9($);s.filter.vG({type:s.filter.s0,aY:c,D$:S,YW:[0,1,E]},r.nI)}$.get(K)}else{var m=1;while(m<u)m<<=1;
s.c9(r);s.filter.vG({type:s.filter.s0,aY:c,D$:u,YW:[0,0,m]},$.nI);r.get(K)}}var Z=Date.now();while(O.length!=0){var N=O.pop(),J=O.pop();
f.scale.aki(K,X.m,X.n,J,N.m,N.n);K=J;X=N}}};dJ.aeM=function(u,g,K,X){for(var P=0;P<u.length;P++){K[P]=u[P]*(1/255);
X[P]=0}FFT.fft2d(K,X);var w=g>>>1,D=16384,q=128,a=100;while(q<g){q<<=1;D<<=2}var C=255/Math.log(D),x=-100;
for(var H=0;H<g;H++)for(var $=0;$<w;$++){var r=g+w+H&g-1,c=K[r*g+$],U=X[r*g+$],O=Math.sqrt(c*c+U*U),A=Math.atan2(U,c);
u[H*g+$]=Math.round(C*Math.log(O+1));u[H*g+w+$]=Math.round((Math.PI+A)*(255*.5/Math.PI))}};dJ.anu=function(u,g,K,X){K.fill(0);
X.fill(0);var w=g>>>1,D=16384,q=128;while(q<g){q<<=1;D<<=2}var C=255/Math.log(D),a=[],x=[],H=[];for(var P=0;
P<256;P++){a[P]=Math.exp(P/C)-1;var $=P*(2*Math.PI/255)-Math.PI;x[P]=Math.sin($);H[P]=Math.cos($)}for(var r=0;
r<g;r++)for(var c=0;c<w;c++){var U=g+w+r&g-1,O=a[u[r*g+c]],$=u[r*g+w+c],A=O*H[$],m=O*x[$];K[U*g+c]=A;
X[U*g+c]=m;if(c!=0){var i=U==0?U*g+g-c:(g-U)*g+(g-c);K[i]=A;X[i]=-m}}FFT.ifft2d(K,X);for(var P=0;P<u.length;
P++){u[P]=Math.max(0,Math.min(255,~~(.5+255*K[P])))}};dJ.alH=new ArrayBuffer(512);dJ.akl=function(u){var g=dJ.alH,K=u.length;
if(g.byteLength<K)dJ.alH=g=new ArrayBuffer(K);var X=new Uint8Array(g);for(var P=0;P<K;P+=4){X[P]=u[P];
X[P+1]=u[P+1];X[P+2]=u[P+2];X[P+3]=u[P+3]}return g};dJ.o4=function(u,g,K,X,w,D,q){if(D==null)D={buffer:f.L(g.buffer.length),rect:g.rect.clone()};
f.me(g.buffer,D.buffer);var C=K&&K.RndS?K.RndS.v>>>1:0;if(u=="GEfc"){var a=[];if(K.GEfs){var x=K.GEfs.v;
for(var P=0;P<x.length;P++){var H=x[P].v;if(H.GELv&&H.GELv.v==!1)continue;a.push(H)}}else a=[K];for(var P=0;
P<a.length;P++){var $;if(P==0)hq.o4(u,g,a[P],X,w,D,q);else{if($==null)$={buffer:f.L(g.buffer.length),rect:g.rect.clone()};
f.me(D.buffer,$.buffer);hq.o4(u,$,a[P],X,w,D,q)}}}if(u=="Adobe Camera Raw Filter"){var r=g.rect,c=r.m,U=r.n,O=c*U,A=O*4,m=O*3,i=new Float32Array(c*U*3),e=g.buffer;
for(var P=0;P<O;P++){var S=P*3,E=P*4;i[S]=e[E]*(1/255);i[S+1]=e[E+1]*(1/255);i[S+2]=e[E+2]*(1/255)}var Z=JSON.parse(JSON.stringify(K));
delete Z.Upri;delete Z.GuUr;var N=i.slice(0);i=N;e=D.buffer;for(var P=0;P<O;P++){var S=P*3,E=P*4;e[E]=255*Math.max(0,Math.min(1,i[S]));
e[E+1]=255*Math.max(0,Math.min(1,i[S+1]));e[E+2]=255*Math.max(0,Math.min(1,i[S+2]))}}if(u=="Fct "){var r=g.rect,c=r.m,U=r.n,O=c*U,A=O*4;
function J(bu){var hS=bu.slice(0);for(var p=0;p<3;p++)for(var M=0;M<3;M++)hS[p*3+M]=bu[(2-M)*3+p];return hS}function y(d8,eq,gu,fH){var hD=0;
for(var p=0;p<3;p++)for(var M=0;M<3;M++)hD+=eq[p*3+M]*d8[(fH-1+p)*c+gu-1+M];return hD}var o=[8,5,2,5,2,-1,2,-1,-4],B=[5,5,5,2,2,2,-1,-1,-1],t=[2,2,2,2,2,2,2,2,2],W=[];
W.push(o);for(var P=0;P<3;P++)W.push(J(W[W.length-1]));W.push(B);for(var P=0;P<3;P++)W.push(J(W[W.length-1]));
W.push(t);for(var P=0;P<9;P++)W[P]=f.Xg.eW(W[P]);var F=[-c-1,-c,-c+1,-1,0,1,c-1,c,c+1],G=[-1,-1,0,-1,1,-1,-1,0,0,0,1,0,-1,1,0,1,1,1],L=f.L(O),Q=new Float32Array(O),N=f.L(O);
for(var T=0;T<3;T++){f.hk(g.buffer,L,T);for(var j=0;j<1;j++){for(var p=1;p<U-1;p++)for(var M=1;M<c-1;
M++){var n=p*c+M,d=L[n];Q[n]=1e9;for(var P=0;P<9;P++){var V=y(L,W[P],M,p),z=(V-d)*(V-d);if(z<Q[n])Q[n]=z}}for(var p=1;
p<U-1;p++)for(var M=1;M<c-1;M++){var I=0,v=1e9;for(var P=0;P<9;P++){var gj=p*c+M+F[P],z=Q[gj];if(z<v){v=z;
I=L[gj]}}N[p*c+M]=I}L.set(N)}f.K1(N,D.buffer,T)}}if(u=="adaptCorrect"){var r=g.rect,c=r.m,U=r.n,O=c*U,A=O*4,jA=K.sdwM.v,Y=jA.Amnt.v.val/100,jv=jA.Wdth.v.val/100,iR=jA.Rds.v,cj=K.hglM.v,j8=cj.Amnt.v.val/100,as=cj.Wdth.v.val/100,gW=cj.Rds.v;
f.ED.a1V(g.buffer,D.buffer,c,U,Y,jv,iR,j8,as,gW,K.ClrC.v/100,K.Cntr.v/100)}if(u=="denoise"){var r=g.rect,c=r.m,U=r.n,af=K.channelDenoise.v[0].v;
f.UW.apO(g.buffer,c,U,D.buffer,af.Amnt.v/10,af.EdgF.v/100)}if(u=="HsbP"){var at=K.Inpt.v.ClrS,jd=K.Otpt.v.ClrS,r=g.rect,c=r.m,U=r.n,O=c*U;
for(var P=0;P<O;P++){var E=P*4,j=g.buffer[E]*(1/255),fM=g.buffer[E+1]*(1/255),hS=g.buffer[E+2]*(1/255);
if(at=="RGBC"){}else if(at=="HSLC"){var N=f.zm(j,fM,hS);j=N.w;fM=N.A;hS=N.U}else if(at=="HSBl"){var N=f.ar5(j,fM,hS);
j=N.w;fM=N.A;hS=N.U}var dr=j,cB=fM,b1=hS;if(jd=="RGBC"){}else if(jd=="HSLC"){var N=f.TT(j,fM,hS);dr=N.xQ;
cB=N.C9;b1=N.I4}else if(jd=="HSBl"){var N=f.a1S(j,fM,hS);dr=N.xQ;cB=N.C9;b1=N.U}D.buffer[E]=~~(255*dr);
D.buffer[E+1]=~~(255*cB);D.buffer[E+2]=~~(255*b1)}}if(u=="Fbrs"){var r=g.rect,c=r.m,U=r.n;f.R.aI(g.buffer,c,U,D.buffer,[K.Vrnc.v,K.Strg.v,C]);
var ic=f.L(c*U);f.hk(D.buffer,ic,0);f.CD(ic);hq.sl(ic,D.buffer,X,w)}if(u=="Frgm"){var r=g.rect,c=r.m,U=r.n,dV=g.buffer.slice(0);
f.xa(dV);f.R.a7C(dV,c,U,D.buffer);f.X$(D.buffer)}if(u=="Flam"){var r=g.rect,c=r.m,U=r.n,eS=K.Clr.v,a2={type:K.Type.v+1,length:K.Leng.v,asr:K.RndL.v,jk:K.Widt.v,a08:K.Angl.v,a7u:K.Intr.v,aj7:K.Adpt.v,color:{w:eS.Rd.v,A:eS.Grn.v,U:eS.Bl.v},lA:K.Qual.v+1,VN:K.Turb.v,TG:K.Jag.v,opacity:K.Opct.v.val,m2:K.Lins.v,a7r:K.Botm.v,style:K.Styl.v+1,shape:K.Shap.v+1,a88:K.RnSh.v,ahp:K.Arng.v,aqA:!1},d3=q[3],cE=d3[0],eP=d3[1],jm=cE[eP.length!=0?eP[0]:0];
if(jm==null){alert("Make a path first");return}var bD=jm.add.vmsk._,f1=f.J.nM(bD),ie=[];for(var b2=0;
b2<f1;b2++){var dh=f.J.Ei(bD,b2),aY=bD[dh];if(aY.length<2)continue;var eF=[];ie.push(eF);var de=aY.length-(aY.type==3?1:0);
for(var n=0;n<de;n++){var i5=bD[dh+1+n],eA=n==aY.length-1?bD[dh+1]:bD[dh+1+n+1],c4=i5.G,jC=i5.CL,o=eA.Rw,hd=eA.G,iG=Math.round(j4.uh(c4,hd)/5);
for(var cC=0;cC<iG;cC++){var cL=cC/iG,dw=1-cL,M=dw*dw*dw*c4.x+3*dw*dw*cL*jC.x+3*dw*cL*cL*o.x+cL*cL*cL*hd.x,p=dw*dw*dw*c4.y+3*dw*dw*cL*jC.y+3*dw*cL*cL*o.y+cL*cL*cL*hd.y;
eF.push(M,p)}}}var eY=[ie,a2],cf=Date.now(),d7=aZ(eY);kk(g.buffer,c,U,D.buffer,d7,eY)}if(u=="Dfs "){var r=g.rect,c=r.m,U=r.n,hs=["Nrml","DrkO","LghO","anisotropic"].indexOf(K.Md.v.DfsM);
if(hs<3)f.R.a8t(g.buffer,c,U,D.buffer,[hs]);else{var eY=[1.4,1.6,1,4,!1,2,[0,0,.001]],r=g.rect.clone();
r.x=r.y=0;f.Xt.filter(g.buffer,r,D.buffer,eY)}}if(u=="TrcC"){var r=g.rect,c=r.m,hz=c<<2,U=r.n,bx=K.Lvl.v,dO=K.Edg.v.CntE=="Lwr",hN=g.buffer,jn=D.buffer;
f.D4(jn,16777215,4278190080);function iP(cu,bG){jD(cu,bG);jD(cu+1,bG+1);jD(cu+2,bG+2)}function io(cu,bG){dg(cu,bG);
dg(cu+1,bG+1);dg(cu+2,bG+2)}function jD(cu,bG){var dr=hN[cu],cB=hN[bG];if(dr>=bx&&cB<bx)jn[cu]=0;if(dr<bx&&cB>=bx)jn[bG]=0}function dg(cu,bG){var dr=hN[cu],cB=hN[bG];
if(dr>bx&&cB<=bx)jn[bG]=0;if(dr<=bx&&cB>bx)jn[cu]=0}if(dO)for(var p=1;p<U;p++)for(var M=1;M<c;M++){var E=p*c+M<<2;
iP(E,E-4);iP(E,E-hz)}else for(var p=1;p<U;p++)for(var M=1;M<c;M++){var E=p*c+M<<2;io(E,E-4);io(E,E-hz)}}if(u=="Embs"){var r=g.rect,c=r.m,U=r.n,j1=-K.Angl.v*Math.PI/180,iO=K.Hght.v,ck=K.Amnt.v/100;
iO/=2;var cZ=Math.cos(j1)*iO,bY=Math.sin(j1)*iO,hN=g.buffer,jn=D.buffer;jn.fill(0);var ke=new Uint32Array(hN.buffer),N=new Uint8Array(4),bQ=new Uint32Array(N.buffer);
for(var p=0;p<U;p++)for(var M=0;M<c;M++){var jh=0,hk=0,c8=0;if(0<=M+cZ&&M+cZ<c&&0<=p+bY&&p+bY<U){f.Q.$o(M+cZ+.5,p+bY+.5,ke,c,U,bQ,0,0);
jh+=N[0]-128;hk+=N[1]-128;c8+=N[2]-128}if(0<=M-cZ&&M-cZ<c&&0<=p-bY&&p-bY<U){f.Q.$o(M-cZ+.5,p-bY+.5,ke,c,U,bQ,0,0);
jh-=N[0]-128;hk-=N[1]-128;c8-=N[2]-128}var E=p*c+M<<2;jn[E]=Math.max(0,Math.min(255,jh*ck+128));jn[E+1]=Math.max(0,Math.min(255,hk*ck+128));
jn[E+2]=Math.max(0,Math.min(255,c8*ck+128));jn[E+3]=hN[E+3]}}if(u=="ShrE"){var r=g.rect,c=r.m,U=r.n;
f.R.adO(g.buffer,c,U,D.buffer)}if(u=="Dspc"){var r=g.rect,c=r.m,U=r.n;f.R.a86(g.buffer,c,U,D.buffer)}if(u=="Slrz"){var bM=D.buffer,dE=128;
for(var P=0;P<bM.length;P+=4){if(bM[P]>dE)bM[P]=255-bM[P];if(bM[P+1]>dE)bM[P+1]=255-bM[P+1];if(bM[P+2]>dE)bM[P+2]=255-bM[P+2]}}if(u=="Wnd "){var r=g.rect,c=r.m,U=r.n,h3=["Wnd","Blst","Stgr"],eL=K.WndM.v.WndM;
f.R.Pu(g.buffer,c,U,D.buffer,[h3.indexOf(eL),K.Drct.v.Drct!="Left"])}if(u=="Bokh"){var r=g.rect,c=r.m,U=r.n,O=c*U,A=O*4,hX=g.buffer.slice(0),hm=K.BkDi.v.BtDi,c7=K.BkDc,jS=K.BkDs.v,fW=K.BkDp.v/255;
if(hm=="BeIn")fW=0;var aR=57*(.3+.7*((c+U)/2)/1750)*(K.BkIb.v/100)*(1+.2*Math.pow(fW,.1)),eJ=parseInt(K.BkIs.v.BtIs.slice(3)),jV=-K.BkIr.v*Math.PI/180,gx=[];
for(var P=0;P<8;P++){var h5=jV+P*(Math.PI*2/eJ),iV=jV+(P+1)*(Math.PI*2/eJ),cd=Math.cos(h5),jE=Math.sin(h5),cq=Math.cos(iV),es=Math.sin(iV),cJ=[0,0,0];
f.Oi.a3([[cd,jE,1,0],[cq,es,1,0],[1,1,1,1]],cJ);if(cJ[2]>0){cJ[0]*=-1;cJ[1]*=-1;cJ[2]*=-1}gx.push(cJ[0],cJ[1],cJ[2],0)}if(hm=="BeIn"){f.D4(hX,0,16777215);
fW=1}else if(hm=="BeIt"&&c7.v.BtDc=="BeCt"){}else{var hB;if(hm=="BeIt"&&c7.v.BtDc=="BeCm")hB=q[1];else if(hm=="BeIa")hB=q[2][c7.v];
if(hB==null){f.D4(hX,0,16777215)}else{var L;if(hB.rect.$z(r))L=hB.channel;else L=hB.WC(r);f.K1(L,hX,3)}}if(jS)for(var P=0;
P<A;P+=4)hX[P+3]=255-hX[P+3];if(s.xA){var bU=hX,hg=c,fl=U,bl=1,cn=(K.BkSb.v==0||K.BkSt.v==255)&&hm=="BeIn";
if(!cn){var fX=0;for(var P=0;P<A;P+=4)fX+=Math.abs(fW-hX[P+3]*(1/255));fX=fX/O*aR;var gm=3.14*fX*fX*c*U/3e6;
if(gm>2e3){alert("too large radius");return}}while(cn&&3*(aR/bl)*(aR/bl)*c*U>500*2e3*2e3){var dp=f.Mh(hX,new dS(0,0,hg,fl));
hX=dp.Fg;hg=dp.rect.m;fl=dp.rect.n;bl*=2}var cf=Date.now(),cW=s.iS(0,hg,fl);cW.set(hX);var jH=s.iS(1,c,U);
s.c9(jH);s.filter.vG({type:s.filter.auK,aY:new Float32Array([1/hg,1/fl]),a6H:fW,iw:aR/bl,af9:new Float32Array([K.BkSb.v/100,K.BkSt.v/255]),a4x:new Float32Array([K.BkNa.v/100,K.BkNt.v.BtNt=="BeNu"?0:1,K.BkNm.v?1:0]),aqt:new Float32Array(gx.slice(0,16)),a3q:new Float32Array(gx.slice(16))},cW.nI);
jH.get(D.buffer);var j2=D.buffer;for(var P=0;P<A;P+=4)j2[P+3]=g.buffer[P+3]}}if(u=="rigidTransform"){var cf=Date.now(),dG=dJ.akl,cW=g.buffer.slice(0),cw=0,hP=0;
f.xa(cW);f.D4(D.buffer,0);var c=g.rect.m,U=g.rect.n,ac=K.puppetShapeList.v,iv=[],fo=[],h7=[],fn=[];for(var n=0;
n<ac.length;n++){var c_=ac[n].v,fz=cw*2,S=hP*3,ip=c_.originalVertexArray.v.length>>>2,ay=c_.indexArray.v.length>>>2,iS=new Float32Array(dG(c_.originalVertexArray.v));
for(var P=0;P<ip;P++)iv[fz+P]=iS[P];var jl=new Float32Array(dG(c_.deformedVertexArray.v));for(var P=0;
P<ip;P++)fo[fz+P]=jl[P];var ee=new Uint32Array(dG(c_.indexArray.v));for(var P=0;P<ay;P++)h7[S+P]=cw+ee[P];
var fP=[],e6=[],bq=c_.PnDp.v;for(var P=0;P<bq.length;P++){fP.push(c_.pinVertexIndices.v[P].v);e6.push(bq[P].v)}var bf=f.qZ.a5Q(iS,ee,fP,e6);
for(var P=0;P<bf.length;P++)fn[cw+P]=bf[P];cw+=ip>>>1;hP+=~~(ay/3)}var j=g.rect,c=j.m,U=j.n;f.qZ.tr(cW,c,U,D.buffer,c,U,iv,fo,fn,h7);
f.X$(D.buffer)}if(u=="lightFilterGradient"){function aJ(c4){var eq=1/Math.sqrt(c4[0]*c4[0]+c4[1]*c4[1]+c4[2]*c4[2]);
c4[0]*=eq;c4[1]*=eq;c4[2]*=eq}var c=g.rect.m,U=g.rect.n,O=c*U,cf=Date.now(),iM=f.L(O),cB=.3,b1=.7;f.uT(D.buffer,iM);
var ce=f.L(O);f.zg.td(iM,ce,D.rect,16);var dZ=f.L(O);f.zg.td(iM,dZ,D.rect,8);var bo=iM,g_=new Float32Array(O),ek=K.Dtl.v,jt=ek[2].v,eg=ek[1].v,d6=ek[0].v,hD=K.Scl.v*40*K.textureScale.v/(jt+eg+d6);
jt*=hD;eg*=hD;d6*=hD;for(var P=0;P<O;P++){var bh=ce[P]*(1/255),f3=dZ[P]*(1/255),h6=bo[P]*(1/255);h6=h6*h6;
g_[P]=jt*bh+eg*f3+d6*h6}var hA=K.blur.v;if(hA!=0){var d1=g_.slice(0);f.zg.JE(d1,g_,D.rect,hA)}var jb=c-1,k5=U-1;
for(var p=1;p<k5;p++)for(var M=1;M<jb;M++){var P=p*c+M,E=P*4,hK=g_[P],cZ=cB*(g_[P+1]-hK)+b1*(hK-g_[P-1]),bY=cB*(g_[P+c]-hK)+b1*(hK-g_[P-c]),c4=[1,0,cZ],jC=[0,1,bY];
aJ(c4);aJ(jC);var iV=c4[0],dj=c4[2],ae=jC[1],h$=jC[2],bm=-dj*ae,co=-iV*h$,fk=iV*ae;D.buffer[E]=~~(127.5+bm*127.5);
D.buffer[E+1]=~~(127.5+co*127.5);D.buffer[E+2]=~~(127.5+fk*127.5)}}if(u=="defr"){var c=g.rect.m,U=g.rect.n;
fD(g.buffer,c,U,D.buffer)}if(u=="dDFT"||u=="iDFT"){function hp(eJ){if(eJ==0)return 1;eJ--;eJ|=eJ>>1;
eJ|=eJ>>2;eJ|=eJ>>4;eJ|=eJ>>8;eJ|=eJ>>16;return eJ+1}var c=g.rect.m,U=g.rect.n,an=hp(Math.max(c,U)),el=an>>>1,hE=new dS(0,0,an,an),h_=new dS(0,0,c,U);
h_.y=an-U>>>1;var b5=c>>>1,ff=new dS(0,h_.y,b5,U),fZ=new f.bs(c*U);f.Jw(g.buffer,fZ);var gS=new Float64Array(an*an),fC=new Float64Array(an*an),L=f.L(an*an);
FFT.init(an);var ch=[fZ.w,fZ.A,fZ.U];for(var P=0;P<3;P++){var fq=ch[P];L.fill(0);if(u=="dDFT"){f.x5(fq,h_,L,hE);
dJ.aeM(L,an,gS,fC);f.x5(L,hE,fq,h_,ff);ff.x+=b5;hE.x-=el-b5;f.x5(L,hE,fq,h_,ff);ff.x-=b5;hE.x+=el-b5}else{f.x5(fq,h_,L,hE,ff);
ff.x+=el;h_.x+=el-b5;f.x5(fq,h_,L,hE,ff);ff.x-=el;h_.x-=el-b5;dJ.anu(L,an,gS,fC);f.x5(L,hE,fq,h_)}}f.UP(fZ,D.buffer)}if(u=="Avrg"){var fx=0,ir=0,hb=0,g0=0,i8=1;
for(var P=0;P<g.buffer.length;P+=4){var bw=g.buffer[P+3];hb+=g.buffer[P]*bw;ir+=g.buffer[P+1]*bw;fx+=g.buffer[P+2]*bw;
g0+=bw}var jI=1/g0;fx=Math.round(i8*(fx*jI)+(1-i8)*255);ir=Math.round(i8*(ir*jI)+(1-i8)*255);hb=Math.round(i8*(hb*jI)+(1-i8)*255);
f.D4(D.buffer,fx<<16|ir<<8|hb,4278190080)}if(["GsnB","boxblur","smartSharpen","UnsM","HghP"].indexOf(u)!=-1){var gV=K.Rds?K.Rds.v.val:1,gy=u=="boxblur"?f.zg.tx:f.zg.SX;
dJ.uC(gV,gy,D.buffer,D.rect);if(u=="UnsM"||u=="smartSharpen"){var ck=(K.Amnt?K.Amnt.v.val:200)/100,eW=0;
if(u=="UnsM")eW=K.Thsh.v;else ck*=.75;for(var P=0;P<g.buffer.length;P++){if((P&3)==3){D.buffer[P]=g.buffer[P];
continue}var d=g.buffer[P],V=D.buffer[P],i4=ck*(d-V);if(i4>0)i4=Math.max(0,i4-eW);else i4=Math.min(0,i4+eW);
D.buffer[P]=Math.max(0,Math.min(255,d+i4))}}if(u=="HghP")for(var P=0;P<g.buffer.length;P++){if((P&3)==3){D.buffer[P]=g.buffer[P];
continue}var d=g.buffer[P],V=D.buffer[P];D.buffer[P]=Math.max(0,Math.min(255,128+d-V))}}if(u=="AdNs"){var fr=new Uint8ClampedArray(D.buffer.buffer),iK=255*K.Nose.v.val/100,eI;
if(K.Dstr.v.Dstr=="Gsn")eI=function(){return(Math.random()+Math.random()+Math.random()+Math.random()-2)*2};
else eI=function(){return Math.random()*2-1};for(var P=0;P<fr.length;P+=4){var j=fr[P],fM=fr[P+1],hS=fr[P+2],cK,hx,c3;
if(K.Mnch.v){cK=hx=c3=eI()}else{cK=eI();hx=eI();c3=eI()}j+=iK*cK;fM+=iK*hx;hS+=iK*c3;fr[P]=j;fr[P+1]=fM;
fr[P+2]=hS}}var cf=Date.now();if(u=="Mdn "||u=="DstS"||u=="Mxm "||u=="Mnm "||u=="surfaceBlur"){var j=0,aI=K.Thsh,c_=0;
if(aI)aI=aI.v;else aI=0;if(u=="Mdn "||u=="Mxm "||u=="Mnm "||u=="surfaceBlur")j=K.Rds.v.val;else j=K.Rds.v;
var aB=K.preserveShape;if(aB&&aB.v.preserveShape=="Rndn")c_=1;var c=g.rect.m,U=g.rect.n,bI=["Mnm ","Mxm ","surfaceBlur"].indexOf(u),hH=(c_==0?1:.75)*[.73,.73,1][bI]*(c*U*j*j)/1722387,iF=[.73,.9,1.4][bI]*(c*U*Math.sqrt(j))/6500;
if(s.xA&&bI!=-1&&(hH<iF||c_==1)&&hH<1500){var cW=s.iS(0,c,U);cW.set(g.buffer);var $=s.iS(1,c,U);s.c9($);
s.filter.vG({type:s.filter.a2A,aY:new Float32Array([1/c,1/U]),iw:j,aog:aI/255,YW:[c_,bI,10*Math.ceil(j/10)]},cW.nI);
$.get(D.buffer)}else{j=Math.round(j);f.yv.NT=.5;var gy=f.yv.kT;if(u=="Mxm ")gy=f.yv.Gq;if(u=="Mnm ")gy=f.yv.Pg;
if(u=="surfaceBlur")gy=f.yv.h_;f.yv.Sl(g.buffer,D.buffer,c,U,j,gy,[aI]);if(u=="DstS")for(var P=0;P<c*U*4;
P++){var jp=Math.abs(g.buffer[P]-D.buffer[P]);if(jp<=aI)D.buffer[P]=g.buffer[P]}}}if(u=="ClrH"){var ff=g.rect.clone();
ff.x=ff.y=0;var j=K.Rds.v;j=Math.round(j*Math.sqrt(2));var c=ff.m,U=ff.n,fZ=new f.bs(c*U);f.Jw(g.buffer,fZ);
f.CD(fZ.w);f.CD(fZ.A);f.CD(fZ.U);var iH=f.jW(c,U),j2=f.L(c*U*4);for(var d8=0;d8<3;d8++){var L=d8==0?fZ.w:d8==1?fZ.A:fZ.U,j1=Math.PI*K["Ang"+(d8+1)].v/180,bc=new eV(1/j,0,0,1/j,0,0);
bc.rotate(j1);f.K1(L,j2,3);var N=R.S.qp([j2,ff],bc,!0),h_=N.rect;iH.clearRect(0,0,c,U);var cF=Math.sin(j1),c$=Math.cos(j1);
for(var P=0;P<h_.n;P++)for(var cC=0;cC<h_.m;cC++){var M=(cC+h_.x+.5)*j,p=(P+h_.y+.5)*j,d$=M,iC=p;M=c$*d$-cF*iC;
p=cF*d$+c$*iC;var O=N.buffer[(P*h_.m+cC<<2)+3]*(1/255),gV=j*Math.sqrt(O*(1/Math.PI));iH.beginPath();
iH.arc(M,p,gV,0,2*Math.PI);iH.fill()}var j7=iH.getImageData(0,0,c,U);f.hk(j7.data,L,3)}f.CD(fZ.w);f.CD(fZ.A);
f.CD(fZ.U);f.UP(fZ,D.buffer)}if(u=="Crst"||u=="Pntl"){var c=g.rect.m,U=g.rect.n,gy=u=="Crst"?f.fa.afz:f.fa.aoz;
gy(g.buffer,c,U,D.buffer,K.ClSz.v,[Math.round(w.w),Math.round(w.A),Math.round(w.U)])}if(u=="Mztn"){var c=g.rect.m,U=g.rect.n,O=c*U,fZ=new f.bs(O),a$=[fZ.w,fZ.A,fZ.U];
f.Jw(g.buffer,fZ);var eL=K.MztT.v.MztT,ef={FnDt:[.1,0,.3,1.4],MdmD:[.9,0,.1,1.4],GrnD:[3,0,.2,1.4],CrsD:[7,0,.1,1.4],ShrL:[0,10,.16,3],MdmL:[0,22,.06,3],LngL:[0,25,.01,4.5],ShSt:[3,10,.05,4.4],MdmS:[4,25,.15,4],LngS:[4,30,.05,4]}[eL],cf=Date.now(),gf=[];
for(var P=0;P<O;P++){gf[P]=Math.random()}var O=c*U,hZ=Math.round(O*ef[0]),gU=O-c-1;for(var P=0;P<hZ;
P++){var aq=Math.random(),fi=1;if(aq<.5){fi=c;aq*=2}else aq=2*(aq-.5);var cu=Math.floor(aq*gU),bG=cu+fi;
gf[cu]=gf[bG]}var dU=Math.round(c*ef[1]);for(var p=0;p<U;p++)for(var P=0;P<dU;P++){var aq=f.i.wq(p*O+P),cu=p*c+Math.floor(aq*(c-1));
gf[cu]=gf[cu+1]}var dQ=new Float64Array(256);for(var P=0;P<256;P++){var ig=P/255,fm=2*(ig<.5?ig:1-ig);
fm=ef[2]+Math.pow(fm,ef[3])*(1-ef[2]);ig=ig<.5?fm*.5:1-fm*.5;dQ[P]=ig}for(var T=0;T<3;T++){var L=a$[T];
for(var p=0;p<U;p++){for(var M=0;M<c;M++){var P=p*c+M,cs=L[P],ig=dQ[cs],aq=gf[P];L[P]=aq>ig?0:255}}}f.UP(fZ,D.buffer)}if(u=="Msc "){var f1=K.ClSz.v.val,c=g.rect.m,U=g.rect.n,iL=Math.ceil(c/f1),d9=Math.ceil(U/f1),hj=f.L(iL*d9*4);
f.scale.wm(g.buffer,c,U,hj,iL,d9,1/f1);f.scale.wm(hj,iL,d9,D.buffer,c,U,f1)}if(u=="Clds"||u=="DfrC"){var c=D.rect.m,U=D.rect.n,O=c*U,gz=f.L(O);
if(u=="Clds")f.D4(D.buffer,4278190080);var gM=f.L(256*4);for(var P=0;P<256;P++){var E=P<<2,bu=P/255,ee=1-bu;
gM[E]=Math.round(bu*X.w+ee*w.w);gM[E+1]=Math.round(bu*X.A+ee*w.A);gM[E+2]=Math.round(bu*X.U+ee*w.U)}f.R.a7L(g.buffer,c,U,gz);
var a8=D.buffer;for(var P=0;P<O;P++){var E=P<<2,T=gz[P]<<2,j=gM[T],fM=gM[T+1],hS=gM[T+2];if(u=="Clds"){a8[E]=j;
a8[E+1]=fM;a8[E+2]=hS}else{a8[E]=Math.abs(a8[4*P]-j);a8[E+1]=Math.abs(a8[4*P+1]-fM);a8[E+2]=Math.abs(a8[4*P+2]-hS)}}}if(u=="LnsF"){var c=g.rect.m,U=g.rect.n,eL=["Zm","Nkn","Nkn1","PnVs"].indexOf(K.Lns.v.Lns),cI=K.FlrC.v,aD=[Math.min(eL,2),K.Brgh.v/100,cI.Hrzn.v,cI.Vrtc.v],cf=Date.now();
f.amK(g.buffer,c,U,D.buffer,aD)}var ha=["Blr ","BlrM","Shrp","ShrM"].indexOf(u);if(ha!=-1){var df=ha>1,c=g.rect.m,U=g.rect.n,ew=f.Xg.Ve[ha],jy=g.buffer.slice(0);
if(!df)f.xa(jy);f.Xg.L4(jy,D.buffer,c,U,ew,255,!1,df);if(!df)f.X$(D.buffer)}if(u=="MtnB"){var g1=-K.Angl.v*Math.PI/180,d2=K.Dstn.v.val/2,cf=Date.now(),c=g.rect.m,U=g.rect.n,r=g.rect.clone();
r.x=r.y=0;if(s.xA){var cf=Date.now(),dL=D.buffer;dL.set(g.buffer);f.xa(dL);var he=s.iS(0,c,U);he.set(dL);
var hN=f.L(4);hN[0]=Math.round(128+127*Math.cos(g1));hN[1]=Math.round(128+127*Math.sin(g1));new Uint32Array(dL.buffer).fill(new Uint32Array(hN.buffer)[0]);
var b8=s.iS(1,c,U);b8.set(dL);s.c9(he,r);he.xH(r);s.filter.vG({type:s.filter.Kg,YP:b8.nI,aY:new Float32Array([1/c,1/U]),ai_:d2/2,aku:1},he.Gd);
he.get(dL);f.X$(dL)}else{var bc=new eV;bc.rotate(g1);var N=R.S.qp([g.buffer,g.rect],bc,!1,null,!0);dJ.uC(d2,f.zg.ca,N.buffer,N.rect);
bc.CD();N=R.S.qp([N.buffer,N.rect],bc,!1,D.buffer.buffer,!0,D.rect)}console.log(Date.now()-cf)}if(u=="RdlB"){var c=g.rect.m,U=g.rect.n,ck=K.Amnt.v,c1=K.BlrM.v.BlrM=="Zm",d8=K.Cntr.v,gu=d8.Hrzn.v,fH=d8.Vrtc.v,cZ=Math.max(gu,1-gu)*c,bY=Math.max(fH,1-fH)*U,gV=Math.sqrt(cZ*cZ+bY*bY),ap=2*Math.PI*gV*1.5,d_=Math.round(ap),fw=Math.round(gV),ff=new dS(0,0,d_,fw),fg=f.L(d_*fw*4),iW=c1?4:1,hM=c1?.6:8*((c+U)/2)/1400,gw=.1,bl=1,jP=1;
f.Q.$e(g.buffer,c,U,fg,d_,fw,gu,fH,iW,gw,bl,jP);var c2=c1?f.L(d_*fw*4):null;if(c1){f.Q.ur(fg,c2,d_,fw);
var cL=c2;c2=fg;fg=cL;ff.m=fw;ff.n=d_}dJ.uC(hM*ck,f.zg.ca,fg,ff);if(c1){f.Q.ur(fg,c2,fw,d_);var cL=c2;
c2=fg;fg=cL;ff.m=d_;ff.n=fw}f.Q.bT(fg,d_,fw,D.buffer,c,U,gu,fH,iW,gw,bl,jP)}if(u=="Plr "){var c=g.rect.m,U=g.rect.n;
if(K.Cnvr.v.Cnvr=="RctP")f.Q.bT(g.buffer,c,U,D.buffer,c,U,.5,.5,1,0,2,c/U);else f.Q.$e(g.buffer,c,U,D.buffer,c,U,.5,.5,1,0,2,c/U)}if(u=="FndE"){var c=g.rect.m,U=g.rect.n;
f.Xg.Kb(g.buffer,D.buffer,c,U)}if(u=="oilPaint"){var j1=K.LghD.v*Math.PI/180,dK=[Math.cos(j1),Math.sin(j1),.001],eY=[K.stylization.v,K.cleanliness.v,K.brushScale.v,K.microBrush.v,K.lightingOn.v,K.specularity.v,dK],r=g.rect.clone();
r.x=r.y=0;f.Xt.filter(g.buffer,r,D.buffer,eY)}if(u=="Ofst"){var c=g.rect.m,U=g.rect.n,cQ=new Uint32Array(g.buffer.buffer),et=new Uint32Array(D.buffer.buffer),d$=K.Hrzn.v,iC=K.Vrtc.v,eK=K.Fl.v.FlMd;
f.D4(et,0);if(eK=="Bckg"||eK=="Rpt"){var ff=g.rect.clone();ff.offset(d$,iC);f.bV(cQ,ff,et,D.rect)}if(eK=="Rpt"){var cd,jE,cq,es,b3;
d$=Math.max(-c,Math.min(c,d$));iC=Math.max(-U,Math.min(U,iC));cd=d$>0?d$:0;cq=d$>0?c:c+d$;jE=iC>0?0:iC+U;
es=iC>0?iC:U;b3=iC>0?0:c*(U-1);for(var p=jE;p<es;p++)for(var M=cd;M<cq;M++)et[p*c+M]=cQ[b3+M-d$];cd=d$>0?0:c+d$;
cq=d$>0?d$:c;jE=iC>0?iC:0;es=iC>0?U:U+iC;b3=d$>0?0:c-1;for(var p=jE;p<es;p++)for(var M=cd;M<cq;M++)et[p*c+M]=cQ[b3+c*(p-iC)];
if(d$>=0&&iC>=0){cd=0;cq=d$;jE=0;es=iC;b3=0}if(d$>=0&&iC<0){cd=0;cq=d$;jE=U+iC;es=U;b3=c*(U-1)}if(d$<0&&iC>=0){cd=c+d$;
cq=c;jE=0;es=iC;b3=c-1}if(d$<0&&iC<0){cd=c+d$;cq=c;jE=U+iC;es=U;b3=c*U-1}for(var p=jE;p<es;p++)for(var M=cd;
M<cq;M++)et[p*c+M]=cQ[b3]}if(eK=="Wrp"){d$=(d$+100*c)%c;iC=(iC+100*U)%U;var ff=new dS(d$-c,iC-U,c,U);
f.bV(cQ,ff,et,D.rect);ff.offset(c,0);f.bV(cQ,ff,et,D.rect);ff.offset(0,U);f.bV(cQ,ff,et,D.rect);ff.offset(-c,0);
f.bV(cQ,ff,et,D.rect)}}if(u=="Rept"){var eT=K.Rsft.v.val/100,ca=K.SpcX.v.val/100;ca=Math.max(ca,-.99);
var jw=K.SpcY.v.val/100;jw=Math.max(jw,-.99);var bl=K.Scl.v.val/100,bc=new eV;bc.rotate(K.Angl.v*Math.PI/180);
bc.scale(bl,bl);var bK={buffer:g.buffer,rect:g.rect};f.Dk(bK);if(bK.rect.fg()){bK.buffer=g.buffer;bK.rect=g.rect}var a8=bK.buffer,ff=bK.rect,a7=f.Yg(a8,ff,0),eM=new Uint32Array(a8.buffer)[0];
if(!a7.fg()&&!a7.$z(ff)){var jz=f.L(a7.$()*4);f.bV(a8,ff,jz,a7);a8=jz;ff=a7}ff.x=ff.y=0;eM=ca==0&&jw==0||K.SpcC.v?eM:0;
function bN(M){return M<0?Math.ceil(M):Math.floor(M)}var ey=bc.HB(new j4(ff.m,0));ey.x=bN(ey.x);ey.y=bN(ey.y);
var dk=bc.HB(new j4(0,ff.n));dk.x=bN(dk.x);dk.y=bN(dk.y);var N=R.S.qp([a8,ff],bc,!1),h_=N.rect,jn=N.buffer,f2=Math.round(h_.x),ho=Math.round(h_.y),aP=Math.max(D.rect.m,D.rect.n)/Math.min(ff.m*bl*(1+ca),ff.n*bl*(1+jw));
aP=Math.ceil(aP*1.7);f.D4(D.buffer,eM);for(var p=-aP;p<aP;p++){for(var M=-aP;M<aP;M++){var iB=(M+p*eT)*(1+ca),bJ=p*(1+jw);
h_.x=f2+Math.round(iB*ey.x+bJ*dk.x);h_.y=ho+Math.round(iB*ey.y+bJ*dk.y);if(h_.Vg(D.rect))f.i.L_("norm",jn,h_,D.buffer,D.rect,h_,1)}}}if(u=="Ctoa"){var w=f.X.Ld(K.Clr.v),aI=K.Trsp.v.val/100,bv=K.Opct.v.val/100;
aI=bv==0?0:aI/bv;var c=g.rect.m,U=g.rect.n,iz=~~w.w,eB=~~w.A,gc=~~w.U,b3=g.buffer,gj=D.buffer;for(var p=0;
p<U;p++)for(var M=0;M<c;M++){var P=p*c+M,E=P<<2,ff=b3[E],gN=b3[E+1],a8=b3[E+2],bL=Math.abs(iz-ff),e5=Math.abs(eB-gN),gC=Math.abs(gc-a8),av=Math.max(bL,e5,gC)*(1/255);
av=Math.max(0,Math.min(1,av/bv));var bB=av==0?0:1/av,dF=aI==1?1:Math.max(0,Math.min(1,(av-aI)/(1-aI)));
gj[E]=Math.max(0,Math.min(255,(ff-iz*(1-av))*bB));gj[E+1]=Math.max(0,Math.min(255,(gN-eB*(1-av))*bB));
gj[E+2]=Math.max(0,Math.min(255,(a8-gc*(1-av))*bB));gj[E+3]=~~(.5+dF*255)}}if(u=="Dthr"){function aX(M){return~~(.5+255*f.sV(M/255))}var n=K.Plte.v,aF;
if(n==0)aF=[4278190080,4294967295];else{var ep=[[1,1,1],[2,2,2],[3,3,2]][n-1],h1=[1<<ep[0],1<<ep[1],1<<ep[2]],aw=[~~(255/(h1[0]-1)),~~(255/(h1[1]-1)),~~(255/(h1[2]-1))];
aF=[];for(var j=0;j<h1[0];j++)for(var fM=0;fM<h1[1];fM++)for(var hS=0;hS<h1[2];hS++)aF.push(255<<24|aX(hS*aw[2])<<16|aX(fM*aw[1])<<8|aX(j*aw[0]))}var c=g.rect.m,U=g.rect.n,O=c*U,gH=O*4,c8=g.buffer.slice(0),kc=D.buffer;
for(var P=0;P<gH;P++)c8[P]=~~(.5+255*f.sV(c8[P]/255));var go=f.L(c*U);UPNG.encode.dither(c8,c,U,aF,kc,go);
for(var P=0;P<gH;P++)kc[P]=~~(.5+255*f.lG(kc[P]/255))}if(u=="Part"){var em=[K.RndS.v,K.Cont.v/100,K.Size.v,K.Dpth.v/100,K.Brgh.v/100,f.X.Ld(K.Clr.v),K.Time.v,K.Blnk.v,K.Fall.v,K.Turb.v/100];
f.f9.eV(D.buffer,g.rect.m,g.rect.n,em)}if("LqFy,Dspl,Pnch,Sphr,Twrl,Rple,Shr ,Wave,LnCr,ZgZg,Kale".split(",").indexOf(u)!=-1){var i_=q[0],c=g.rect.m,U=g.rect.n,dQ,aC=0;
if(u=="LqFy")dQ=ix.h7(new Uint8Array(K.LqMe.v).buffer);else{var eC=3;dQ={QM:Math.floor(c/eC),xQ:Math.floor(U/eC)};
dQ.map=new Float32Array(dQ.QM*dQ.xQ*2);if(u=="LnCr"){var gu=.5*(dQ.QM-1),fH=.5*(dQ.xQ-1),jW=Math.max(Math.abs(0-gu),Math.abs(1-gu)),fR=Math.max(Math.abs(0-fH),Math.abs(1-fH)),be=Math.sqrt(jW*jW+fR*fR),je=0,bg=0,a_=-1,c0=2,bl=K.LnSi.v/100,c1=1/bl,cx=K.LnIa.v/100,jG=cx==0?1e-6:cx*4.6,ia=c1/be;
for(var p=0;p<dQ.xQ;p++){for(var M=0;M<dQ.QM;M++){var cZ=(M-gu)*ia,bY=(p-fH)*ia,j=Math.sqrt(cZ*cZ+bY*bY)*jG,b9=Math.atan(j),dt=cx>0?b9/j:j/b9,jP=gu+be*dt*cZ,gd=fH+be*dt*bY,P=p*dQ.QM+M<<1;
dQ.map[P]=jP-M;dQ.map[P+1]=gd-p}}}else if(u=="Kale"){var iL=dQ.QM,d9=dQ.xQ,iE=(iL-1)*.5,k5=(d9-1)*.5,bt=K.MRot.v*Math.PI/180+Math.PI/2+4*Math.PI,dz=K.Mirr.v,k7=Math.PI*2/dz,cP=.5*k7;
for(var p=0;p<d9;p++)for(var M=0;M<iL;M++){var cZ=M-iE,bY=p-k5,dY=Math.sqrt(cZ*cZ+bY*bY),j1=Math.atan2(bY,cZ)+bt;
j1=j1%k7;if(j1>cP)j1=k7-j1;var jP=iE+Math.cos(j1-bt)*dY,gd=k5+Math.sin(j1-bt)*dY,P=(p*iL+M)*2;dQ.map[P]=jP-M;
dQ.map[P+1]=gd-p}}else if(u=="Dspl"&&i_.length!=0){aC=K.UndA.v.UndA=="WrpA"?2:1;var bk=K.DspF.v.pth,km;
for(var P=0;P<i_.length;P++)if(i_[P].z0==bk)km=i_[P];if(km==null)km=i_[0];km.KS();var bL=km.Z4[1],f8=f.L(bL.$());
f.uT(km.Z4[0],f8);var dI=bL.m,ez=bL.n;dQ={QM:dI,xQ:ez};dQ.map=new Float32Array(dQ.QM*dQ.xQ*2);var bp=2.54*K.HrzS.v*dI/c,jF=2.54*K.VrtS.v*ez/U;
for(var p=0;p<dQ.xQ;p++){for(var M=0;M<dQ.QM;M++){var jp=-.5+f8[p*dI+M]*(1/255),P=p*dQ.QM+M<<1;dQ.map[P]=jp*bp;
dQ.map[P+1]=jp*jF}}}else if(u=="Pnch"||u=="Twrl"||u=="Sphr"||u=="ZgZg"){var ck=1,g1=Math.PI,iy=0,hU=1,b6=0,d8=3,f1=1.53,dt=1;
if(u=="Pnch"||u=="Sphr"||u=="ZgZg")ck=K.Amnt.v/100;if(u=="ZgZg"){hU=K.NmbR.v;b6=["ArnC","OtFr","PndR"].indexOf(K.ZZTy.v.ZZTy)}if(u=="Twrl")g1=K.Angl.v*Math.PI/180;
if(u=="Sphr")iy=["Nrml","HrzO","VrtO"].indexOf(K.SphM.v.SphM);function gy(M){M=Math.pow(M,1-M*.3-M*M*(M*M)*.5);
return-.225*Math.sin(M*Math.PI)}function dd(U,eq,j,cd,jE,cq,es,dt){var cZ=cq-cd,bY=es-jE,b4=cd-U,aU=jE-eq,bu=cZ*cZ+bY*bY,hS=2*(cZ*b4+bY*aU),d8=b4*b4+aU*aU-j*j,d0=Math.sqrt(hS*hS-4*bu*d8),eX=dt/(2*bu),j9=(-hS+d0)*eX,ab=(-hS-d0)*eX;
return dt*Math.min(j9,ab)}var iL=dQ.QM,d9=dQ.xQ,iE=dQ.QM/2,k5=dQ.xQ/2,ev=1/iE,j=Math.sqrt(d8*d8+1)/d8,fq=d8+Math.sqrt(1/(d8*d8));
if(ck<0){d8=1.72;j=1;fq=d8;f1=-1;dt=-1}for(var p=0;p<d9;p++){var bY=(p-k5)/k5;for(var M=0;M<iL;M++){var cZ=(M-iE)*ev;
if(iy==1)bY=0;else if(iy==2)cZ=0;var jf=Math.sqrt(cZ*cZ+bY*bY);if(jf<1&&jf!=0){var P=p*dQ.QM+M<<1;if(u=="Pnch"){var iu=-ck*gy(jf)/jf;
dQ.map[P]=cZ*iu*iE;dQ.map[P+1]=bY*iu*k5}else if(u=="Sphr"){var cL=dd(0,fq,j,0,0,jf,d8,dt),aV=f1*ck*(cL-1);
dQ.map[P]=cZ*aV*iE;dQ.map[P+1]=bY*aV*k5}else if(u=="Twrl"){var j1=Math.atan2(bY,cZ)-g1*(1-jf)*(1-jf),iq=Math.cos(j1),ba=Math.sin(j1);
dQ.map[P]=(jf*iq-cZ)*iE;dQ.map[P+1]=(jf*ba-bY)*k5}else if(u=="ZgZg"){var iq=0,ba=0,dW=ck*(.5-.5*Math.cos(jf*hU*2*Math.PI))*(1-jf);
if(b6==0){var j1=Math.atan2(bY,cZ)-3.5*dW;iq=jf*Math.cos(j1);ba=jf*Math.sin(j1)}if(b6==1){dW=100/c*dW/jf;
iq=(1-dW)*cZ;ba=(1-dW)*bY}if(b6==2){var t=512/c*dW*Math.PI/4;iq=t+cZ;ba=t+bY}dQ.map[P]=(iq-cZ)*iE;dQ.map[P+1]=(ba-bY)*k5}}}}}else if(u=="Shr "){var bD=JSON.parse(JSON.stringify(K.ShrP.v));
f.f1.D(bD,new eV(0,255/127,255/127,0,-2,0));var ex=f.f1.w5(bD,dQ.xQ,!0);aC=K.UndA.v.UndA=="WrpA"?2:1;
for(var p=0;p<dQ.xQ;p++){var cZ=-ex[p]*dQ.QM;for(var M=0;M<dQ.QM;M++){var P=p*dQ.QM+M<<1;dQ.map[P]=cZ}}}else if(u=="Wave"){var ga=K.NmbG.v,jq=K.WLMn.v,d5=K.WLMx.v,bC=K.AmMn.v*(Math.PI/4),hf=K.AmMx.v*(Math.PI/4),f4=K.SclH.v/100,bb=K.SclV.v/100,eL=K.Wvtp.v.Wvtp,dW=Math.sin;
if(eL=="WvTr")dW=function(M){M*=2/Math.PI;return-.5+Math.abs(M%2-1)};if(eL=="WvSq")dW=function(M){M*=2/Math.PI;
return 1+2*Math.floor(M%2-1)};var aS=[],cT=new f.i.TP(K.RndS.v);for(var P=0;P<ga;P++){aS.push(cT.get()*10);
aS.push(Math.PI*eC/(jq+cT.get()*(d5-jq)));aS.push(f4*(bC+cT.get()*(hf-bC))/eC);aS.push(cT.get()*10);
aS.push(Math.PI*eC/(jq+cT.get()*(d5-jq)));aS.push(bb*(bC+cT.get()*(hf-bC))/eC)}var g$=[],j$=[],cg=Math.max(dQ.QM,dQ.xQ);
for(var P=0;P<cg;P++){var cZ=0,bY=0;for(var cC=0;cC<ga;cC++){var gp=cC*6;cZ+=aS[gp+2]*dW(aS[gp]+P*aS[gp+1]);
bY+=aS[gp+5]*dW(aS[gp+3]+P*aS[gp+4])}g$[P]=bY;j$[P]=cZ}for(var p=0;p<dQ.xQ;p++){for(var M=0;M<dQ.QM;
M++){var P=p*dQ.QM+M<<1;dQ.map[P]=j$[p];dQ.map[P+1]=g$[M]}}aC=K.UndA.v.UndA=="WrpA"?2:1}else if(u=="Rple"){aC=1;
var ck=K.Amnt.v/100,aa=4,ej=[0,-.19,-.29,-.32,.92,.37,.93,.54,-.54,.42,-.29,-.58,-.67,.85,0,.64],eD=1,jZ=1,b4=0,eO=["Sml","Mdm","Lrg"].indexOf(K.RplS.v.RplS);
if(eO==0){eD=1;jZ=.2;b4=3}if(eO==2){eD=1;jZ=2;b4=-1;ej=ej.reverse()}var iN=function(M,p){var d8=Math.cos,hD=0;
for(var P=0;P<aa;P++)for(var cC=0;cC<aa;cC++)hD+=ej[P*aa+cC]*d8(M*(P+b4)-p*(cC+b4));return hD},im=Math.floor(50/eC),id=new Float32Array(im*im*2),cy=jZ*ck*.5/eC;
for(var p=0;p<im;p++)for(var M=0;M<im;M++){var gu=eD*M*2*Math.PI/im,fH=eD*p*2*Math.PI/im,am=iN(gu,fH),cZ=(iN(gu+.01,fH)-am)*100,bY=(iN(gu,fH+.01)-am)*100,P=(p*im+M)*2;
id[P]=cZ*cy;id[P+1]=bY*cy}for(var p=0;p<dQ.xQ;p++)for(var M=0;M<dQ.QM;M++){var ba=p%im,iq=M%im,P=p*dQ.QM+M<<1,da=ba*im+iq<<1;
dQ.map[P]=id[da];dQ.map[P+1]=id[da+1]}}}f.Ub.v9(g.buffer,D.buffer,c,U,null,dQ.map,dQ.QM,dQ.xQ,aC)}return D};
var hq={};hq.auO="BrSm BrsL BrDR BrsW BrbW BrSp".split(" ");hq.Z6="LDBt LDBL LDLf LDTL LDTp LDTR LDRg LDBR".split(" ");
hq.X3=["ScrC","ScrD","ScrL"];hq.du=["SDRD","SDHz","SDLD","SDVt"];hq.wM="TxBl TxCa TxFr TxTL TxBr TxBu TxSt".split(" ");
hq.XK="LPBt LPBL LPLf LPTL LPTp LPTR LPRg LPBR".split(" ");hq.f6="GrnR GrSf GrSr GrnC GrCn GrnE GrSt GrnH GrnV GrSp".split(" ");
hq.Jy=["Artistic","Brush Strokes",[24,4],"Sketch",[24,14],[12,67]];hq.names={ClrP:[0,"Colored Pencil"],Ct:[0,"Cutout"],DryB:[0,"Dry Brush"],FlmG:[0,"Film Grain"],Frsc:[0,"Fresco"],NGlw:[0,"Neon Glow"],PntD:[0,"Paint Daubs"],PltK:[0,"Palette Knife"],PlsW:[0,"Plastic Wrap"],PstE:[0,"Poster Edges"],RghP:[0,"Rough Pastels"],SmdS:[0,"Smudge Stick"],Spng:[0,"Sponge"],Undr:[0,"Underpainting"],Wtrc:[0,"Watercolor"],AccE:[1,"Accented Edges"],AngS:[1,"Angled Strokes"],Crsh:[1,"Crosshatch"],DrkS:[1,"Dark Strokes"],InkO:[1,"Ink Outlines"],Spt:[1,"Spatter"],SprS:[1,"Sprayed Strokes"],Smie:[1,"Sumi-e"],DfsG:[2,"Diffuse Glow"],Gls:[2,"Glass"],OcnR:[2,"Ocean Ripple"],BsRl:[3,"Bas Relief"],ChlC:[3,"Chalk & Charcoal"],Chrc:[3,"Charcoal"],Chrm:[3,"Chrome"],CntC:[3,"Cont\xE9 Crayon"],GraP:[3,"Graphic Pen"],HlfS:[3,"Halftone Pattern"],NtPr:[3,"Note Paper"],Phtc:[3,"Photocopy"],Plst:[3,"Plaster"],Rtcl:[3,"Reticulation"],Stmp:[3,"Stamp"],TrnE:[3,"Torn Edges"],WtrP:[3,"Water Paper"],GlwE:[4,"Glowing Edges"],Crql:[5,"Craquelure"],Grn:[5,"Grain"],MscT:[5,"Mosaic Tiles"],Ptch:[5,"Patchwork"],StnG:[5,"Stained Glass"],Txtz:[5,"Texturizer"]};
hq.mt=function(u){var g;if(u=="ClrP")g={Pncl:{t:"long",v:4},StrP:{t:"long",v:8},PprB:{t:"long",v:25}};
if(u=="Ct")g={NmbL:{t:"long",v:4},EdgS:{t:"long",v:3},EdgF:{t:"long",v:1}};if(u=="DryB")g={BrsS:{t:"long",v:4},BrsD:{t:"long",v:4},Txtr:{t:"long",v:2}};
if(u=="FlmG")g={Grn:{t:"long",v:4},HghA:{t:"long",v:0},Intn:{t:"long",v:10},FlRs:{t:"long",v:23068185}};
if(u=="Frsc")g={BrsS:{t:"long",v:2},BrsD:{t:"long",v:8},Txtr:{t:"long",v:1}};if(u=="NGlw")g={Sz:{t:"long",v:5},Brgh:{t:"long",v:15},Clr:{t:"Objc",v:{classID:"RGBC",Rd:{t:"doub",v:0},Grn:{t:"doub",v:0},Bl:{t:"doub",v:255}}}};
if(u=="PntD")g={Sz:{t:"long",v:10},Shrp:{t:"long",v:10},BrsT:{t:"enum",v:{BrsT:"BrSm"}}};if(u=="PltK")g={StrS:{t:"long",v:25},StDt:{t:"long",v:3},Sftn:{t:"long",v:2}};
if(u=="PlsW")g={HghS:{t:"long",v:20},Dtl:{t:"long",v:4},Smth:{t:"long",v:5}};if(u=="PstE")g={EdgT:{t:"long",v:2},EdgI:{t:"long",v:1},Pstr:{t:"long",v:2}};
if(u=="RghP")g={StrL:{t:"long",v:6},StDt:{t:"long",v:4},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:20},LghD:{t:"enum",v:{LghD:"LDBt"}},InvT:{t:"bool",v:!1}};
if(u=="SmdS")g={StrL:{t:"long",v:2},HghA:{t:"long",v:0},Intn:{t:"long",v:10},FlRs:{t:"long",v:6399750}};
if(u=="Spng")g={BrsS:{t:"long",v:2},Dfnt:{t:"long",v:12},Smth:{t:"long",v:5},FlRs:{t:"long",v:218877241}};
if(u=="Undr")g={BrsS:{t:"long",v:6},TxtC:{t:"long",v:16},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:4},LghD:{t:"enum",v:{LghD:"LDTp"}},InvT:{t:"bool",v:!1}};
if(u=="Wtrc")g={BrsD:{t:"long",v:9},ShdI:{t:"long",v:1},Txtr:{t:"long",v:3}};if(u=="AccE")g={EdgW:{t:"long",v:2},EdgB:{t:"long",v:38},Smth:{t:"long",v:5}};
if(u=="AngS")g={DrcB:{t:"long",v:50},StrL:{t:"long",v:15},Shrp:{t:"long",v:3}};if(u=="Crsh")g={StrL:{t:"long",v:9},Shrp:{t:"long",v:6},Strg:{t:"long",v:1}};
if(u=="DrkS")g={Blnc:{t:"long",v:5},BlcI:{t:"long",v:6},WhtI:{t:"long",v:2}};if(u=="InkO")g={StrL:{t:"long",v:4},DrkI:{t:"long",v:20},LghI:{t:"long",v:10}};
if(u=="Smie")g={StrW:{t:"long",v:10},StrP:{t:"long",v:5},Cntr:{t:"long",v:16}};if(u=="Spt")g={SprR:{t:"long",v:10},Smth:{t:"long",v:5},FlRs:{t:"long",v:10738420}};
if(u=="SprS")g={StrL:{t:"long",v:12},SprR:{t:"long",v:7},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:893120664}};
if(u=="DfsG")g={Grns:{t:"long",v:6},GlwA:{t:"long",v:10},ClrA:{t:"long",v:15},FlRs:{t:"long",v:325892160}};
if(u=="Gls")g={Dstr:{t:"long",v:3},Smth:{t:"long",v:1},TxtT:{t:"enum",v:{TxtT:"TxTL"}},Scln:{t:"long",v:100},InvT:{t:"bool",v:!1}};
if(u=="OcnR")g={RplS:{t:"long",v:5},RplM:{t:"long",v:15},FlRs:{t:"long",v:64008840}};if(u=="BsRl")g={Dtl:{t:"long",v:11},Smth:{t:"long",v:7},LghD:{t:"enum",v:{LghD:"LDBt"}}};
if(u=="ChlC")g={ChrA:{t:"long",v:6},ChlA:{t:"long",v:6},StrP:{t:"long",v:1},FlRs:{t:"long",v:314004633}};
if(u=="Chrc")g={ChAm:{t:"long",v:1},Dtl:{t:"long",v:5},LgDr:{t:"long",v:50},GELv:{t:"bool",v:!0}};if(u=="Chrm")g={Dtl:{t:"long",v:4},Smth:{t:"long",v:4}};
if(u=="CntC")g={FrgL:{t:"long",v:11},BckL:{t:"long",v:7},TxtT:{t:"enum",v:{TxtT:"TxCa"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:4},LghD:{t:"enum",v:{LghD:"LDTp"}},InvT:{t:"bool",v:!1}};
if(u=="GraP")g={StrL:{t:"long",v:7},LgDr:{t:"long",v:50},SDir:{t:"enum",v:{StrD:"SDRD"}},FlRs:{t:"long",v:55993248}};
if(u=="HlfS")g={HlSz:{t:"long",v:1},Cntr:{t:"long",v:5},ScrT:{t:"enum",v:{ScrT:"ScrD"}}};if(u=="NtPr")g={ImgB:{t:"long",v:25},Grns:{t:"long",v:10},Rlf:{t:"long",v:11},FlRs:{t:"long",v:52642770}};
if(u=="Phtc")g={Dtl:{t:"long",v:10},Drkn:{t:"long",v:4}};if(u=="Plst")g={ImgB:{t:"long",v:20},Smth:{t:"long",v:2},LghP:{t:"enum",v:{LghP:"LPTp"}}};
if(u=="Rtcl")g={Dnst:{t:"long",v:12},BlcL:{t:"long",v:40},WhtL:{t:"long",v:5},FlRs:{t:"long",v:301835400}};
if(u=="Stmp")g={LgDr:{t:"long",v:25},Smth:{t:"long",v:4}};if(u=="TrnE")g={ImgB:{t:"long",v:25},Smth:{t:"long",v:11},Cntr:{t:"long",v:17},FlRs:{t:"long",v:461109340}};
if(u=="WtrP")g={FbrL:{t:"long",v:15},Brgh:{t:"long",v:60},Cntr:{t:"long",v:80},FlRs:{t:"long",v:83852682}};
if(u=="GlwE")g={EdgW:{t:"long",v:1},EdgB:{t:"long",v:10},Smth:{t:"long",v:1}};if(u=="Crql")g={CrcS:{t:"long",v:15},CrcD:{t:"long",v:6},CrcB:{t:"long",v:9},FlRs:{t:"long",v:495615720}};
if(u=="Grn")g={Intn:{t:"long",v:40},Cntr:{t:"long",v:50},Grnt:{t:"enum",v:{Grnt:"GrnR"}},FlRs:{t:"long",v:217582197}};
if(u=="MscT")g={TlSz:{t:"long",v:12},GrtW:{t:"long",v:3},LghG:{t:"long",v:9},FlRs:{t:"long",v:25445584}};
if(u=="Ptch")g={SqrS:{t:"long",v:4},Rlf:{t:"long",v:8},FlRs:{t:"long",v:383529723}};if(u=="StnG")g={ClSz:{t:"long",v:10},BrdT:{t:"long",v:4},LghI:{t:"long",v:0},FlRs:{t:"long",v:319935998}};
if(u=="Txtz")g={TxtT:{t:"enum",v:{TxtT:"TxBr"}},Scln:{t:"long",v:100},Rlf:{t:"long",v:10},LghD:{t:"enum",v:{LghD:"LDBL"}},InvT:{t:"bool",v:!1}};
g.__name="Filter Gallery";g.classID="GEfc";g.GEfk={t:"enum",v:{GEft:u}};g.GELv={t:"bool",v:!0};return g};
hq.mh=function(u,g){for(var P=0;P<g.length;P++)~~(g[P]=(u[4*P]+u[4*P+1]+u[4*P+2])*(1/3))};hq.a1A=function(u,g,K,X){var w=UPNG.quantize(u,g);
w={eb:w.inds,RJ:w.plte};var D=Math.floor((K+X)*.015);if(D!=0)f.ec.arZ(w.eb,K,X,D);return w};hq.o4=function(u,g,K,X,w,D,q){u=K.GEfk.v.GEft;
var C=g.rect,a=C.m,x=C.n,H=a*x,$=K.FlRs?K.FlRs.v>>>1:0;function r(E){return E.w<<24|E.A<<16|E.U<<8|255}if(u=="ClrP")f.R.a47(g.buffer,a,x,D.buffer,[K.Pncl.v,K.StrP.v,K.PprB.v]);
if(u=="Ct"){var c=K.NmbL.v,U=K.EdgS.v,O=hq.a1A(g.buffer.buffer,c*2,a,x);for(var P=0;P<O.eb.length;P++)O.eb[P]++;
var A=new Uint8Array((a+2)*(x+2));f.x5(O.eb,new dS(1,1,a,x),A,new dS(0,0,a+2,x+2));var m=f.p.Pb(A,a+2,x+2,U,!1),i=new eV(1,0,0,1,-1,-1);
for(var P=0;P<m.length;P++)f.p.D(m[P].path.v,i,m[P].path.v);var e=[],S=O.RJ;for(var P=0;P<S.length;P++){var E=S[P].est.q;
e.push({w:Math.round(255*E[0]),A:Math.round(255*E[1]),U:Math.round(255*E[2]),_x:Math.round(255*E[3])})}var Z=f.jW(a,x);
for(var P=0;P<m.length;P++){var N=m[P],E=e[N.color-1];if(E._x==0)continue;Z.fillStyle="rgba("+E.w+","+E.A+","+E.U+","+E._x/255+")";
Z.beginPath();Typr.U.pathToContext({crds:N.path.v,cmds:N.path.F},Z);Z.fill()}if(!C.fg()){var J=Z.getImageData(0,0,a,x);
f.me(J.data,D.buffer)}}if(u=="DryB")f.R.a3k(g.buffer,a,x,D.buffer,[K.BrsS.v,K.BrsD.v,K.Txtr.v]);if(u=="FlmG")f.R.ax1(g.buffer,a,x,D.buffer,[K.Grn.v,K.HghA.v,K.Intn.v,$]);
if(u=="Frsc")f.R.a9Z(g.buffer,a,x,D.buffer,[K.BrsS.v,K.BrsD.v,K.Txtr.v]);if(u=="NGlw")f.R.ap6(g.buffer,a,x,D.buffer,[K.Sz.v,K.Brgh.v,r(f.X.Ld(K.Clr.v)),r(X),r(w)]);
if(u=="PltK")f.R.agb(g.buffer,a,x,D.buffer,[K.StrS.v,K.StDt.v,K.Sftn.v]);if(u=="PstE")f.R.aiZ(g.buffer,a,x,D.buffer,[K.EdgT.v,K.EdgI.v,K.Pstr.v]);
if(u=="RghP")f.R.axi(g.buffer,a,x,D.buffer,[K.StrL.v,K.StDt.v,hq.wM.indexOf(K.TxtT.v.TxtT),K.Scln.v,K.Rlf.v,hq.Z6.indexOf(K.LghD.v.LghD),K.InvT.v]);
if(u=="SmdS")f.R.akO(g.buffer,a,x,D.buffer,[K.StrL.v,K.HghA.v,K.Intn.v,K.FlRs.v,$]);if(u=="Spng")f.R.anj(g.buffer,a,x,D.buffer,[K.BrsS.v,K.Dfnt.v,K.Smth.v,K.FlRs.v,$]);
if(u=="Undr")f.R.acA(g.buffer,a,x,D.buffer,[K.BrsS.v,K.TxtC.v,hq.wM.indexOf(K.TxtT.v.TxtT),K.Scln.v,K.Rlf.v,hq.Z6.indexOf(K.LghD.v.LghD),K.InvT.v]);
if(u=="Wtrc")f.R.alm(g.buffer,a,x,D.buffer,[K.BrsD.v,K.ShdI.v,K.Txtr.v]);if(u=="AccE")f.R.acl(g.buffer,a,x,D.buffer,[K.EdgW.v,K.EdgB.v,K.Smth.v]);
if(u=="AngS")f.R.a3w(g.buffer,a,x,D.buffer,[K.DrcB.v,K.StrL.v,K.Shrp.v]);if(u=="Crsh")f.R.acV(g.buffer,a,x,D.buffer,[K.StrL.v,K.Shrp.v,K.Strg.v]);
if(u=="DrkS")f.R.aoP(g.buffer,a,x,D.buffer,[K.Blnc.v,K.BlcI.v,K.WhtI.v]);if(u=="InkO")f.R.atE(g.buffer,a,x,D.buffer,[K.StrL.v,K.DrkI.v,K.LghI.v]);
if(u=="Smie")f.R.a7X(g.buffer,a,x,D.buffer,[K.StrW.v,K.StrP.v,K.Cntr.v]);if(u=="DfsG")f.R.akW(g.buffer,a,x,D.buffer,[K.Grns.v,K.GlwA.v,K.ClrA.v,r(w),$]);
if(u=="CntC")f.R.anB(g.buffer,a,x,D.buffer,[K.FrgL.v,K.BckL.v,hq.wM.indexOf(K.TxtT.v.TxtT),K.Scln.v,K.Rlf.v,hq.Z6.indexOf(K.LghD.v.LghD),K.InvT.v,r(w),r(X)]);
if(u=="ChlC")f.R.a2z(g.buffer,a,x,D.buffer,[K.ChrA.v,K.ChlA.v,K.StrP.v,$,r(w),r(X)]);var y=u=="GraP"||u=="Chrc"||u=="Plst"||u=="Rtcl"||u=="Stmp"||u=="TrnE";
if(y){var o=f.L(a*x);if(u=="GraP")f.R.a51(g.buffer,a,x,D.buffer,[K.StrL.v,K.LgDr.v,hq.du.indexOf(K.SDir.v.StrD),$]);
if(u=="Chrc")f.R.ak2(g.buffer,a,x,D.buffer,[K.ChAm.v,K.Dtl.v,K.LgDr.v]);if(u=="Plst")f.R.a9W(g.buffer,a,x,D.buffer,[K.ImgB.v,hq.XK.indexOf(K.LghP.v.LghP),K.Smth.v]);
if(u=="Rtcl")f.R.ajm(g.buffer,a,x,D.buffer,[K.Dnst.v,K.BlcL.v,K.WhtL.v,$]);if(u=="Stmp")f.R.alb(g.buffer,a,x,D.buffer,[K.LgDr.v,K.Smth.v]);
if(u=="TrnE")f.R.a7t(g.buffer,a,x,D.buffer,[K.ImgB.v,K.Smth.v,K.Cntr.v,$]);f.hk(D.buffer,o,0);hq.sl(o,D.buffer,X,w)}if(u=="NtPr")f.R.ah1(g.buffer,a,x,D.buffer,[K.ImgB.v,K.Grns.v,K.Rlf.v,r(X),r(w),$]);
if(u=="WtrP")f.R.aau(g.buffer,a,x,D.buffer,[K.FbrL.v,K.Brgh.v,K.Cntr.v,$>>>1]);if(u=="Crql")f.R.a2I(g.buffer,a,x,D.buffer,[K.CrcS.v,K.CrcD.v,K.CrcB.v,$]);
if(u=="Grn")f.R.atI(g.buffer,a,x,D.buffer,[K.Intn.v,hq.f6.indexOf(K.Grnt.v.Grnt),K.Cntr.v,r(X),r(w),$]);
if(u=="MscT")f.R.a7e(g.buffer,a,x,D.buffer,[K.TlSz.v,K.GrtW.v,K.LghG.v,$]);if(u=="Ptch")f.R.a1$(g.buffer,a,x,D.buffer,[K.SqrS.v,K.Rlf.v,$]);
if(u=="Phtc"){function B(jC,hd,C,bM){f.zg.ni(jC,hd,C,bM);for(var P=0;P<H;P++)hd[P]=Math.max(0,Math.min(255,128+jC[P]-hd[P]))}var t=K.Dtl.v,W=K.Drkn.v,F=f.L(H);
f.uT(g.buffer,F);var G=f.L(H);B(F,G,C,1);if(t==1){t=2;W=Math.round(W/4)}var L=f.L(H);B(F,L,C,t);for(var P=0;
P<H;P++)F[P]=Math.max(0,Math.min(255,255-(G[P]-L[P])*W));hq.sl(F,D.buffer,X,w)}if(u=="Spt"||u=="SprS"){var Q,T=1,j=1;
Q={QM:Math.floor(a/j),xQ:Math.floor(x/j)};Q.map=new Float32Array(Q.QM*Q.xQ*2);var p=new f.i.TP(K.FlRs.v),M=new Float32Array(8192),n=K.SprR.v,d=n<20?.018*n:.36+(n-20)*.128;
if(u=="SprS"){d=.07+[0,.02,.04,.06,.08,.1,.12,.14,.16,.18,.2,.22,.24,.26,.28,.3,.34,.38,.5,.65,.75,.85,1,1.5,2.2,3][n]}for(var P=0;
P<8192;P++)M[P]=(-1+2*p.get())*d*70;for(var V=0;V<x;V++)for(var z=0;z<a;z++){var I=V*a+z<<1;Q.map[I]=M[I%7919];
Q.map[I+1]=M[(I+1)%7919]}var v=Q.map.slice(0),gj=u=="Spt"?K.Smth.v-1:1;if(u=="Spt"&&gj!=0){hq.aai(Q.map,v,a,x,gj);
hq.af4(v,Q.map,a,x,gj)}if(u=="SprS"){var jA=K.StrL.v>>>1,Y=jA==0?2:1;hq.aai(Q.map,v,a,x,Y);hq.af4(v,Q.map,a,x,Y);
if(jA!=0){var jv=hq.du.indexOf(K.SDir.v.StrD),iR=[1,1,1,0][jv],cj=[-1,0,1,1][jv],j8=2*jA+1,as=1/j8;for(var V=0;
V<x;V++)for(var z=0;z<a;z++){var I=V*a+z<<1,gW=0,af=0;for(var P=0;P<j8;P++){var at=Math.max(0,Math.min(a-1,z-(jA+P)*iR)),jd=Math.max(0,Math.min(x-1,V-(jA+P)*cj)),fM=jd*a+at<<1;
gW+=Q.map[fM];af+=Q.map[fM+1]}v[I]=gW*as;v[I+1]=af*as}Q.map=v}}f.Ub.v9(g.buffer,D.buffer,a,x,null,Q.map,Q.QM,Q.xQ,T)}if(u=="BsRl"||u=="PlsW"||u=="Chrm"){var hS=Date.now(),dr=f.L(H),cB=dr.slice(0);
f.uT(g.buffer,dr);var t=K.Dtl.v,b1=K.Smth.v;if(t!=15){f.zg.td(dr,cB,C,Math.round((15-t)*.5));f.me(cB,dr)}var ic=1.4/a,dV=1.4/x,eS=new Float32Array(H),a2=new Float32Array(H),d3=new Float32Array(D.buffer.buffer);
for(var V=0;V<x;V++)for(var z=0;z<a;z++){var P=V*a+z,iR=z==a-1?dr[P]-dr[P-1]:dr[P+1]-dr[P],cj=V==x-1?dr[P]-dr[P-a]:dr[P+a]-dr[P],cE=z*ic-.7,eP=V*dV-.7;
eS[P]=iR==0?cE:iR*.4;a2[P]=cj==0?eP:cj*.4}if(u=="BsRl"){var jm=(2+hq.Z6.indexOf(K.LghD.v.LghD))*Math.PI*.25,gW=Math.cos(jm);
if(Math.abs(gW)<.1)gW=0;gW=Math.sign(gW);var af=Math.sin(jm);if(Math.abs(af)<.1)af=0;af=Math.sign(af);
var bD=1/(gW*gW+af*af);for(var V=0;V<x;V++)for(var z=0;z<a;z++){var P=V*a+z,f1=Math.max(-1,Math.min(1,gW*eS[P])),ie=Math.max(-1,Math.min(1,af*a2[P]));
cB[P]=128+127*(f1+ie)*bD}if(b1!=1){f.zg.td(cB,dr,C,Math.round((b1-1)*.5));f.me(dr,cB)}hq.sl(cB,D.buffer,X,w)}else{if(u=="Chrm")b1=5+b1;
if(b1>1)hq.uC(eS,a2,d3,C,b1-1);if(u=="PlsW"){var b2=new Uint8Array(eS.buffer);for(var P=0;P<H;P++){var dh=P<<2,iR=eS[P],cj=a2[P],aY=1/(Math.sqrt(1+iR*iR)*Math.sqrt(1+cj*cj)),eF=aY*aY,de=eF*eF,E=~~(255*(de*de*eF));
b2[dh+0]=E;b2[dh+1]=E;b2[dh+2]=E;b2[dh+3]=E}D.buffer.set(g.buffer);f.i.L_("norm",b2,C,D.buffer,C,C,K.HghS.v/20)}else if(u=="Chrm"){var i5=D.buffer,eA=a>>>1,c4=x>>>1;
for(var P=0;P<H;P++){var dh=P<<2,iR=eS[P],cj=a2[P],jC={x:1,y:0,pt:iR};bW.JT(jC);var hd={x:0,y:1,pt:cj};
bW.JT(hd);var iG=bW.ask(jC,hd),cC=1/iG.pt,cL=~~Math.max(0,Math.min(a-1,eA-iG.x*cC*eA)),dw=~~Math.max(0,Math.min(x-1,c4-iG.y*cC*c4)),E=dr[dw*a+cL];
i5[dh+0]=E;i5[dh+1]=E;i5[dh+2]=E}}}}if(u=="Gls"||u=="OcnR"||u=="Txtz"){var eY=u=="OcnR"?2:hq.wM.indexOf(K.TxtT.v.TxtT),cf=hq.Ql(eY),d7=cf[0],dr=cf[1],hs=d7.m,hz=d7.n,j8=24,j1=0,iO,ck;
function bx(dp,cW,jH){return~~(dO*(dp+cW)+8192)&127}var eS=new Float32Array(H),a2=new Float32Array(H),d3=new Float32Array(D.buffer.buffer),dO=u=="OcnR"?1/(1+(K.RplS.v-1)*.1):100/K.Scln.v;
if(eY==3)dO*=32/22.2;var hS=Date.now(),hN=dO,ic=1.4/a,dV=1.4/x;if(u=="Txtz"){hN*=1/255;j8=256}for(var V=0;
V<x;V++){var jn=bx(V,C.y,hz),jd=jn+1&127;for(var z=0;z<a;z++){var P=V*a+z,iP=bx(z,C.x,hs),at=iP+1&127,io=0,jD=0,dg=0;
if(u=="Txtz"){io=f.Q.lN(dO*z,dO*V,dr,128,128);jD=f.Q.lN(dO*z,dO*V+1,dr,128,128);dg=f.Q.lN(dO*z+1,dO*V,dr,128,128)}else{io=dr[jn*hs+iP];
jD=dr[jd*hs+iP];dg=dr[jn*hs+at]}eS[P]=Math.max(-j8,Math.min((dg-io)*hN,j8));a2[P]=Math.max(-j8,Math.min((jD-io)*hN,j8))}}if(u=="Txtz")hq.axl(eS,a2,d3,C,6);
else hq.uC(eS,a2,d3,C,u=="Txtz"?1:u=="OcnR"?3.5/dO:K.Smth.v);if(u=="Txtz")j1=K.InvT.v?-1:1;else if(u=="Gls"){j1=[1,.4,.5,.5][eY]*(Math.exp(K.Dstr.v*.155)-1);
if(K.InvT.v)j1=-j1}else{j1=.5*(Math.exp(K.RplM.v*.155)-1)}var i5=D.buffer;if(u=="Txtz"){var jm=(2+hq.Z6.indexOf(K.LghD.v.LghD))*Math.PI*.25,gW=Math.cos(jm),af=Math.sin(jm);
iO={x:gW,y:af,pt:0};bW.JT(iO);ck=K.Rlf.v;ck=ck/4+Math.max(0,(ck-35)*2)}function cZ(jC,hd,ke){var jS=f.i.overF(hd,jC,1),dp=(1-ke)*jC+ke*(ke*hd+(1-ke)*jS);
return dp*255}for(var V=0;V<x;V++)for(var z=0;z<a;z++){var P=V*a+z,dh=P<<2,iR=eS[P],cj=a2[P],jC={x:1,y:0,pt:iR};
bW.JT(jC);var hd={x:0,y:1,pt:cj};bW.JT(hd);var iG=bW.ask(jC,hd);if(u=="Txtz"){var bY=bW.afP(iG,iO)*j1,ke=1,E=1;
if(bY<0){E=0;bY=-bY}ke=Math.min(1,bY*ck);i5[dh+0]=~~cZ(g.buffer[dh]*(1/255),E,ke);i5[dh+1]=~~cZ(g.buffer[dh+1]*(1/255),E,ke);
i5[dh+2]=~~cZ(g.buffer[dh+2]*(1/255),E,ke)}else{var cC=j1/iG.pt,cL=~~Math.max(0,Math.min(a-1,z-iG.x*cC)),dw=~~Math.max(0,Math.min(x-1,V-iG.y*cC)),bQ=dw*a+cL<<2;
i5[dh+0]=g.buffer[bQ];i5[dh+1]=g.buffer[bQ+1];i5[dh+2]=g.buffer[bQ+2]}}}if(u=="PntD"){var jh=K.Shrp.v*.4,hk=K.BrsT.v.BrsT,c8={BrSm:[.75],BrsL:[.85],BrDR:[.68],BrsW:[.75],BrbW:[.78],BrSp:[.62]}[hk],bM=Math.round(K.Sz.v*.5);
f.yv.NT=c8[0];var dE=f.yv.kT;f.yv.Sl(g.buffer,D.buffer,a,x,bM,dE,[]);var h3=[-.7,-1,-.7,-1,10,-1,-.7,-1,-.7];
h3=f.Xg.eW(h3);var eL=D.buffer.slice(0);f.Xg.L4(eL,D.buffer,a,x,h3,0);for(var P=0;P<g.buffer.length;
P++){var hX=D.buffer[P]-eL[P];D.buffer[P]=Math.max(0,Math.min(255,eL[P]+jh*hX))}}if(u=="GlwE"){var hm=D.buffer.slice(0);
f.yv.NT=.5;var dE=f.yv.kT;f.yv.Sl(g.buffer,hm,a,x,K.Smth.v>>>1,dE,[]);f.Xg.Kb(hm,D.buffer,a,x);f.me(D.buffer,hm);
f.CD(hm);f.D4(hm,4278190080,16777215);f.yv.Sl(hm,D.buffer,a,x,K.EdgW.v>>>1,f.yv.Gq,[]);var c7=K.EdgB.v/10;
for(var P=0;P<hm.length;P++){if((P&3)==3)continue;var jS=D.buffer[P];D.buffer[P]=Math.max(0,Math.min(255,jS*c7))}}if(u=="StnG"){f.fa.a1G(g.buffer,a,x,D.buffer,K.ClSz.v,[Math.round(X.w),Math.round(X.A),Math.round(X.U)],K.BrdT.v)}if(u=="HlfS"){var fW=K.HlSz.v,aR=fW*2+1,jV=K.Cntr.v,gx=hq.X3.indexOf(K.ScrT.v.ScrT),H=a*x,h5=H*4,iV=f.L(H),cd=g.buffer,hB=0,bU=0;
hq.mh(cd,iV);var jE=iV.slice(0);f.zg.zR(jE,iV,C,fW);var cq=Math.PI/aR,es=new Float64Array(a),gW=new Float64Array(a),cJ=new Float64Array(2*a);
for(var z=0;z<a;z++){var iP=(z-(a>>>1))*cq;es[z]=iP*iP;gW[z]=Math.cos(iP);var iR=z<<1;cJ[iR]=Math.sin(iR*(1/4.5));
cJ[iR+1]=Math.sin((iR+1)*(1/4.5))}for(var V=0;V<x;V++){var jn=(V-(x>>>1))*cq,af=Math.cos(jn),hg=jn*jn;
for(var z=0;z<a;z++){var E=af;if(gx==0){var fl=.5+Math.sqrt(es[z]+hg)*4.5;E=cJ[~~fl]}else if(gx==1){E=gW[z]*af}var P=V*a+z,bl=iV[P]*(.75+.25*E),ke=cd[(P<<2)+3]*(1/255),cn=Math.max(0,Math.min(255,~~bl));
hB+=cn*ke,bU+=ke;iV[P]=cn}}hB/=bU;var fX=128+1.26*(hB-128),c7=.08+.25*Math.abs((128-hB)/128),gm=1+c7*jV;
for(var P=0;P<H;P++){var bl=fX+(iV[P]-fX)*gm;iV[P]=Math.max(0,Math.min(255,~~bl))}if(jV>46)f.round(iV);
hq.sl(iV,D.buffer,X,w)}for(var P=0;P<g.buffer.length;P+=4)D.buffer[P+3]=g.buffer[P+3]};hq.sl=function(u,g,K,X){var w=u.length,D=K.w,q=K.A,C=K.U,a=X.w,x=X.A,H=X.U;
for(var P=0;P<w;P++){var $=u[P]*(1/255),r=1-$,c=P<<2;g[c]=~~(D*r+a*$);g[c+1]=~~(q*r+x*$);g[c+2]=~~(C*r+H*$)}};
hq.Ql=function(u){if(u==6)u=2;var g="blocks canvas frosted tinylens brick burlap".split(" ")[u];if(hq.qh==null)hq.qh=[];
if(hq.qh[u]==null){var K,X;if(u==2){X=new dS(0,0,128,128);var w=dJ.mt("AdNs");w.Mnch.v=!0;w.Dstr.v.Dstr="Gsn";
w.Nose.v.val=50;var K=f.L(X.$()*4),D=K.slice(0);new Uint32Array(D.buffer).fill(4286611584);dJ.o4("AdNs",{buffer:D,rect:X},w,0,0,{buffer:K,rect:X})}else{var q=eH.bW.get("tex/"+g,!0)[0];
X=q.ZE;K=new Uint8Array(q.data)}var C=f.L(X.$());f.hk(K,C,0);hq.qh[u]=[X,C]}return hq.qh[u]};hq.uC=function(u,g,K,X,w){if(w<=1){w=Math.round(w);
hq.axl(u,g,K,X,[1,16,4][w]);return}var D=w*.42;if(u){f.zg.JE(u,K,X,D,3);u.set(K)}if(g){f.zg.JE(g,K,X,D,3);
g.set(K)}};hq.axl=function(u,g,K,X,w){var D=f.Xg.eW([1,2,1,2,w,2,1,2,1]);if(u){K.set(u);f.Xg.S0(u,K,X.m,X.n,D);
u.set(K)}if(g){K.set(g);f.Xg.S0(g,K,X.m,X.n,D);g.set(K)}};hq.RF=function(u){if(u==null)return new j4(0,0);
var g=0,K=u.GEfs?u.GEfs.v:[{v:u}];for(var P=0;P<K.length;P++){var X=K[P].v,D=1e4;if(X.GELv&&!X.GELv.v)continue;
var w=X.GEfk.v.GEft;if(w=="GlwE"||w=="Phtc"||w=="BsRl"||w=="PlsW"||w=="Chrm"||w=="Gls"||w=="OcnR")D=0;
g=Math.max(g,D)}return new j4(g,g)};hq.af8=function(u){var g=[0,0,0,0,0,0,0,0,0,0,0,0,0],K=[0,.6,.7,.8,1,1.2,1.4,1.6,1.8,2,2.2,2.6,3,4,5][u];
for(var P=0;P<13;P++){var X=P-6;g[P]=1/(K*Math.sqrt(2*Math.PI))*Math.exp(-.5*(X/K)*(X/K))}return g};
hq.aai=function(u,g,K,X,w){var D=hq.af8(w),q=6,C=13;for(var a=0;a<X;a++)for(var x=0;x<K;x++){var H=a*K+x<<1,$=0,r=0;
for(var P=0;P<C;P++){var c=x+P-q,U=c<0?0:c>=K?K-1:c,O=(a*K+U)*2,A=D[P];$+=A*u[O];r+=A*u[O+1]}g[H]=$;
g[H+1]=r}};hq.af4=function(u,g,K,X,w){var D=hq.af8(w),q=6,C=13;for(var a=0;a<X;a++)for(var x=0;x<K;x++){var H=a*K+x<<1,$=0,r=0;
for(var P=0;P<C;P++){var c=a+P-q,U=c<0?0:c>=X?X-1:c,O=(U*K+x)*2,A=D[P];$+=A*u[O];r+=A*u[O+1]}g[H]=$;
g[H+1]=r}};function b0(){}b0.CX=[2,5,5,7,4,4];b0.t8="norm,diss,dark,mul ,idiv,lbrn,dkCl,lite,scrn,div ,lddg,lgCl,over,sLit,hLit,vLit,lLit,pLit,hMix,diff,smud,fsub,fdiv,hue ,sat ,colr,lum ".split(",");
b0.nG="Nrml Dslv Drkn Mltp CBrn linearBurn darkerColor Lghn Scrn CDdg linearDodge lighterColor Ovrl SftL HrdL vividLight linearLight pinLight hardMix Dfrn Xclu blendSubtraction blendDivide H Strt Clr Lmns".split(" ");
b0.ET=[[15,10,0],[15,10,1],[15,10,2],[15,10,3],[15,10,4],[15,10,5],[15,10,6],[15,10,7],[15,10,8],[15,10,9],[15,10,10],[15,10,11],[15,10,12],[15,10,13],[15,10,14],[15,10,15],[15,10,16],[15,10,17],[15,10,18],[15,10,19],[15,10,20],[15,10,21],[15,10,22],[15,10,23],[15,10,24],[15,10,25],[15,10,26]];
b0.ahv=["normal",null,"darken","multiply","color-burn",null,null,"lighten","screen","color-dodge",null,null,"overlay","soft-light","hard-light",null,null,null,null,"difference","exclusion",null,null,"hue","saturation","color","luminosity"];
b0.x3=function(u){if(u=="passThrough")return"pass";return b0.t8[b0.nG.indexOf(u)]};b0.HF=function(u){if(u=="pass")return"passThrough";
return b0.nG[b0.t8.indexOf(u)]};b0.getName=function(u){return b0.ET[b0.t8.indexOf(u)]};function l(){this.rect=null;
this.buffer=null;this.wS="norm";this.opacity=255;this.tG=!1;this.R3=0;this.lz=0;this.rJ=!0;this.Cc=[];
for(var P=0;P<10;P++)this.Cc.push(0,0,255,255);this.name=null;this.add={};this.tP=null;this._y=null;
this.B=null;this.ad=null;this.a6o=30;this.oU=null;this.PL=null;this.hW=null;this.sQ=null;this.oF=0;this.vC=!1;
this.Ag=null;this.gJ=new l.$f}l.$f=function(){this.QY=!0;this.je=!0;this.Pi=f.L(0);this.ams=f.L(0);this.k6=null;
this.qw={};this.ade=null;this.lT=null;this.Cx=null;this.yC=null;this.Q7=null;this.Vi=null;this.oS=null;
this.Lz=null;this.$Y=null;this.v_=null;this.Tc=null;this.CK=null;this.cX=!1};l.$f.prototype.at3=function(){this.QY=null;
this.je=!1;this.k6=null;this.cX=s.xA};l.$f.prototype.a3p=function(){bW.awh(this.qw);this.Pi=f.L(0);this.ams=f.L(0);
if(this.yC)this.yC.delete();if(this.Q7)this.Q7.delete();this.yC=null;this.Q7=null;var u=[this.Vi,this.oS,this.Lz,this.$Y,this.v_,this.Tc];
for(var P=0;P<6;P++)if(u[P]!=null&&u[P]instanceof s.bs)u[P].delete();this.Vi=null;this.oS=null;this.Lz=null;
this.$Y=null;this.v_=null;this.Tc=null};l.prototype.O=function(u){if(u==null)u=this.rect.clone();if(this.gJ.k6==null)this.gJ.k6=u;
else this.gJ.k6=this.gJ.k6.RN(u)};l.prototype.xp=function(){return this.add.lsct==g4.DM||this.add.lsct==g4.Ab};
l.prototype.HS=function(){var u=this.add;return u.SoCo!=null||u.GdFl!=null||u.PtFl!=null};l.prototype.a18=function(){var u=this.add.lmfx;
if(u==null)return;var g=["GrFl","patternFill"];for(var P=0;P<g.length;P++){var K=k8.pg[k8.order.indexOf(g[P])],X=u[K].v;
if(X.length==0)continue;for(var w=0;w<X.length;w++){var D=X[w].v;if(D.enab.v&&(D.Algn==null||!D.Algn.v))this.gJ.je=!0}}};
l.prototype.aum=function(){var u=this.B,g=this.gJ.QY;if(this.HS())u=this.Zv();if(!s.xA)return u.wf();
if(this.gJ.Q7==null||g||s.xA!=this.gJ.cX){var K=u.WA(),X=this.gJ.Q7,w=null;if(g!=!0&&g!=null){w=g.clone();
w.offset(-K.x,-K.y)}if(X==null||X.m!=K.m||X.n!=K.n){X=this.gJ.Q7=new s.Gr(K.m,K.n);w=null}X.set(u.wf(),w)}return this.gJ.Q7};
l.prototype.aab=function(u){var g=this.rect,K=this.buffer;if(!s.xA){var X=this.Jz(u,K,g);if(X){K=X.Fg;
g=X.rect}return K}if(this.gJ.k6!=null||s.xA!=this.gJ.cX){var X=this.Jz(u,K,g);if(X){K=X.Fg;g=X.rect}var w=g;
if(s.xA!=this.gJ.cX||this.gJ.yC==null||this.gJ.yC.m!=w.m||this.gJ.yC.n!=w.n){if(this.gJ.yC)this.gJ.yC.delete();
this.gJ.yC=new s.bs(w.m,w.n);this.gJ.yC.set(K)}else{var D=this.gJ.k6.clone();D.offset(-g.x,-g.y);this.gJ.yC.set(K,D)}}return this.gJ.yC};
l.prototype.l7=function(){var u=this.B;if(this.HS())u=this.Zv();return u!=null&&u.isEnabled&&(!u.rect.fg()||u.Ld()!=255)};
l.prototype.Jz=function(u,g,K){if(this.ov()){var X=this.nE(u);if(X.B&&X.B.isEnabled&&(!X.B.rect.fg()||X.B.color==0)){var w=this.add.SoLd.filterFX.v;
X.B._X=w.filterMaskDensity?w.filterMaskDensity.v:255;X.B.Lp=w.filterMaskFeather?w.filterMaskFeather.v:0;
var D=X.buffer,q=X.rect;if(q.$()<K.$()){q=K;D=f.L(q.$()*4);f.bV(X.buffer,X.rect,D,q)}var C=X.B.WC(K);
f.CD(C);g=g.slice(0);f.i.$c(D,q,g,K,C,K,0,K,1);return{Fg:g,rect:K}}}};l.prototype.ahi=function(){var u={Go:!1,su:!1,f8:0,Q_:0};
if(this.add.vmsk&&this.add.vmsk.isEnabled)u.su=!0;if(this.Zv()&&this.Zv().isEnabled)u.Go=!0;if(u.Go&&u.su){u.f8=this.Zv().rect.x-this.add.vmsk.Zv().rect.x;
u.Q_=this.Zv().rect.y-this.add.vmsk.Zv().rect.y}return u};l.prototype.th=function(u,g){if(g&&this.Zv().Lp!=0){g=g.clone();
var K=Math.round(this.Zv().Lp*2.4);g.wu(K,K)}var X=!1;if(this.add.lsct==g4.wR)return;var w=this,D=this.Zv()!=null&&this.Zv().vl,q=this.add.vmsk!=null&&this.add.vmsk.vl,C=this.ahi(),a=JSON.stringify(C)!=this.gJ.ade||C.Go&&D||C.su&&q;
if(a){if(C.su){var x=this.add.vmsk.Zv();if(C.Go){this.B=this.Zv().X7(x);this.gJ.lT=new j4(this.B.rect.x-this.Zv().rect.x,this.B.rect.y-this.Zv().rect.y)}else this.B=x}if(this.B)X=!0;
if(this.B)this.gJ.Cx=new j4(this.rect.x-this.B.rect.x,this.rect.y-this.B.rect.y);if(C.Go)this.Zv().vl=!1;
if(C.su)this.add.vmsk.vl=!1;this.O(g)}else{if(C.Go&&C.su){this.B.rect.x=this.Zv().rect.x+this.gJ.lT.x;
this.B.rect.y=this.Zv().rect.y+this.gJ.lT.y}}if(w.HS()){this.QW(u)}if(w.UR()){var H;if(this.B)H=new j4(this.rect.x-this.B.rect.x,this.rect.y-this.B.rect.y);
if(this.B&&this.B.isEnabled&&(this.gJ.Cx==null||!H.$z(this.gJ.Cx))){this.gJ.Cx=H;this.O(g);X=!0}}if(jO.get(w.add)!=null)X=!0;
if(X){var $=this.gJ.QY;if(g&&$&&$!=!0)$=$.RN(g);else $=g?g:!0;this.gJ.QY=$}this.gJ.ade=JSON.stringify(C)};
l.prototype.QW=function(u){var g=this,K=g.add.vstk,X=new dS(0,0,u.m,u.n),w,D=g.add.vmsk?this.add.vmsk.Zv():null,a=!0,$;
if(D&&D.isEnabled&&D.Ld()==0)w=D.WA().clone();else w=X;var q=g.Zv();if(q&&q.isEnabled&&q.Ld()==0)w=w.I3(g.B.WA());
var C=D&&K;if(K&&(!K.strokeEnabled.v||K.strokeStyleLineWidth.v.val==0))C=!1;if(K&&!K.fillEnabled.v&&C)a=!1;
var x=f.L(w.$()*4);if(a){if(g.add.SoCo)bW.OH(x,g.add.SoCo.Clr.v);if(g.add.GdFl){var H=D&&D.color==0?f.J.Xh(g.add.vmsk._,null,!0):null;
bW.ql(g.add.GdFl,x,w,u,null,H)}if(g.add.PtFl)bW.n5(g.add.PtFl,x,w,u.add.Patt,g.add.fxrp)}if(C)$=k8.Sq.kM.indexOf(K.strokeStyleLineAlignment.v.strokeStyleLineAlignment);
if(D){var r=D._X;if(C)D._X=255;var c=f.L(w.$());if(D.Ld()!=0)c.fill(Math.round(D.Ld()));if(D&&D.isEnabled){var U=D.WA(),O=D.wf();
if(U.$z(w))f.me(O,c);else f.x5(O,U,c,w)}if(C&&$==2){}else{if(g.add.SoCo&&a){f.K1(c,x,3)}else f.ea(c,w,x,w)}if(C)D._X=r}g.buffer=x;
g.rect=w;if(C){var A=K.strokeStyleContent.v,m=k8.Sq.lv.indexOf(A.classID),i=this.add.vmsk.Zv(K);if($!=0&&!g.rect.$z(X))g.extend(g.rect.RN(i.WA()));
var r=i._X;i._X=255;var e=i.WC(g.rect);i._X=r;if(i.color==255)f.CD(e);var S=f.L(g.rect.$()*4);if(m==0)bW.OH(S,A.Clr.v);
if(m==1)bW.ql(A,S,g.rect,u,null,D.color==0?D.rect:null);if(m==2)bW.n5(A,S,g.rect,u.add.Patt,g.add.fxrp);
var E=K.strokeStyleOpacity.v.val/100;if(E!=1)f.MG(e,E);if(i.color==255)$=2-$;if($<2){f.i.$c(S,g.rect,g.buffer,g.rect,e,g.rect,255,g.rect,1,!1);
if($==0)f.CY(c,g.buffer)}if($==2){f.CY(e,S);f.CD(c);f.i.$c(S,g.rect,g.buffer,g.rect,c,w,255,g.rect,1,!1);
f.CD(c)}if(i._X!=255){var Z=S.slice(0);f.D4(Z,4278190080,16777215);f.i.L_("norm",Z,g.rect,g.buffer,g.rect,g.rect,1-i._X/255)}r=D._X;
D._X=255;this.ams=D.WC(g.rect);D._X=r}this.O()};l.prototype.Qu=function(u,g,K){var X=this,w=X.add.SoLd.Idnt.v,D=X.add.SoLd,q=f.p.pj(R.S.TU(D.nonAffineTransform)),C=u.lW(w,D.Crop?D.Crop.v:null,[q.m,q.n],D.Impr.v.classID,K),c=1;
if(C==null)return;var a=C.Z4;D.Sz.v.Wdth.v=a[1].m;D.Sz.v.Hght.v=a[1].n;var x=C.wY==null?D.Rslt.v.val:C.wY,H=D.warp.v,$=R.S.TU(D.nonAffineTransform),r=a[1].clone();
r.m*=c;r.n*=c;r.x=(a[1].m-r.m)/2;r.y=(a[1].n-r.n)/2;var U=f.Q.xZ($,r);if(H&&!f.zv.My(H)){var q=f.p.pj(f.zv.s8(H)),O=q.x,A=q.y,m=1/q.m,i=1/q.n;
U=f.Q.xZ($);U=f.Q.X7(U,[m,0,-O*m,0,i,-A*i,0,0])}var e=R.S.rY(a,g?0:1,U,H,null,null,null,g);if(e==null){X.buffer=f.L();
X.rect=new dS}else if(X.ov()){var S=X.nE(u);S.buffer=e.buffer;S.rect=e.rect.clone();this.Th(u,g)}else{X.buffer=e.buffer;
X.rect=e.rect}X.th(u);X.O();u.O()};l.prototype.Th=function(u,g){if(g==null)g=!1;var K=this.nE(u),X=this.add.SoLd.filterFX.v,w=dJ.a38(X),D=new dS(0,0,u.m,u.n),q=K.rect.RN(D),C=K.rect.clone();
C.wu(w.x,w.y);var a={buffer:null,rect:q.I3(C)};a.buffer=f.L(a.rect.$()*4);f.bV(K.buffer,K.rect,a.buffer,a.rect);
if(X.enab.v&&g==!1){var x=X.filterFXList.v;for(var P=0;P<x.length;P++){var H=x[P].v;if(H.enab.v==!1)continue;
var $=H.blendOptions.v,r=b0.x3($.Md.v.BlnM),c=$.Opct.v.val/100,U=f.X.Ld(H.FrgC.v),O=f.X.Ld(H.BckC.v),A=dJ.o8(H),m={buffer:f.L(a.buffer.length),rect:a.rect.clone()},i=H.Fltr?H.Fltr.v:null;
if(jO.Yz[A]!=null){var e=jO.Yz[A],S=jO.Zq(e,i);if(S)jO.o4(S,a.buffer,m.buffer,a.rect)}else dJ.o4(A,a,i,U,O,m,[u.add.lnk2?u.add.lnk2:[],this.Zv(),u.g1]);
if(r=="norm"&&c==1)a=m;else if(r=="norm"){f.i.$c(m.buffer,m.rect,a.buffer,a.rect,null,null,null,a.rect,c)}else{f.i.L_(r,m.buffer,m.rect,a.buffer,a.rect,a.rect,c)}}}this.rect=a.rect;
this.buffer=a.buffer;this.b3();this.O();u.O()};l.prototype.ZK=function(u,g,K){this.Ag=this.aqC(u,g,K)};
l.prototype.nP=function(u,g){var K=this.aqC(u,g,!0);if(K==null)return null;var X={Ep:K.oF,ee:K._C,rect:K.ij};
if(X.Ep==1||X.Ep==3){var w=X.rect,D=f.L(w.m*w.n*4);f.K1(X.ee,D,0);f.K1(X.ee,D,1);f.K1(X.ee,D,2);f.x6(u.q.channel,u.q.rect,D,w);
X.ee=D}return X};l.prototype.aqC=function(u,g,K){var X,w,D,q,C,a,x;if(this.oF<=0){var H=f.L(this.rect.$());
f.hk(this.buffer,H,3);X=f.Mn.$i(g,{channel:H,rect:this.rect},3);if(X==null)return null;var $=f.LE(X.channel,X.rect);
q=X.rect.clone();C=this.rect.clone();w=f.L(q.$()*4);f.bV(this.buffer,C,w,q);f.K1(X.channel,w,3);D=this.buffer.slice(0);
if(!K){var r=g.channel.slice(0);f.CD(r);f.ea(r,g.rect,D,C)}a=this.buffer.slice(0);x=this.rect.clone()}if(this.oF==1||this.oF==3){var c=this.oF==1?this.Zv():this.nE(u).B;
q=g.rect.clone();C=c.rect.clone();w=c.a3P(q);var D=c.channel.slice(0);if(!K)f.i.XE(c.color==255?f.Bx(q.$()):f.Ph(q.$()),q,D,C,g.channel,q,1);
a=c.channel.slice(0);x=c.rect.clone()}return{oF:this.oF,_C:w,ij:q,Au:D,tX:C,ds:a,yN:x}};l.prototype.VL=function(u,g){var K=this.Ag;
if(K.oF==0){this.rect=K.yN;this.buffer=K.ds;this.O()}if(K.oF==1||K.oF==3){var X=K.oF==1?this.Zv():this.nE(u).B;
X.channel=K.ds;X.rect=K.yN;if(this.oF==1){X.vl=!0;this.th(u)}if(this.oF==3)this.O()}this.Ag=g};l.prototype.A1=function(u,g){if(this.oF<=0&&g.rect.$z(this.rect)){var K=f.L(this.rect.$());
f.hk(this.buffer,K,3);if(f.$z(u.q.channel,K)){var X=this.rect,w=this.buffer;this.Ag={oF:this.oF,_C:w.slice(0),ij:X.clone(),Au:f.L(0),tX:new dS,ds:f.L(0),yN:new dS};
return!0}}var D=this.Ag;if(D==null)return!1;if(D.oF!=this.oF)return!1;if(!g.rect.$z(D.ij))return!1;var q=D.tX.RN(D.ij);
if(D.oF<=0){if(!q.$z(this.rect))return!1;var C=f.L(D._C.length>>2);f.hk(D._C,C,3);if(!f.$z(g.channel,C))return!1;
var a=f.L(q.m*q.n*4);f.bV(D.Au,D.tX,a,q);f.i.L_("norm",D._C,D.ij,a,q,q,1);return f.$z(a,this.buffer)}if(D.oF==1||D.oF==3){var x=D.oF==1?this.Zv():this.nE(u).B;
if(!q.$z(x.rect))return!1;var H=f.L(q.$());H.fill(x.color);f.x5(D.Au,D.tX,H,q);f.i.XE(D._C,D.ij,H,q,g.channel,q,1);
return f.$z(H,x.channel)}};l.prototype.gi=function(u,g,K,X){var w=this.Ag;w.ij.offset(g,K);var D=w.tX.RN(w.ij);
if(w.oF<=0){var q=f.L(D.$()*4);f.bV(w.Au,w.tX,q,D);f.i.L_("norm",w._C,w.ij,q,D,D,1);this.buffer=q;this.rect=D;
this.O()}else{var C=this.oF==1?this.Zv():this.nE(u).B,a=f.L(D.$());a.fill(C.color);f.x5(w.Au,w.tX,a,D);
f.i.XE(w._C,w.ij,a,D,X.channel,D,1);C.channel=a;C.rect=D.clone();if(this.oF==1){C.vl=!0;this.th(u)}if(this.oF==3)this.O()}};
l.prototype.a91=function(){var u=[-1,0,1,2];if(this.B)u.push(-2);if(this.ad)u.push(-3);return u};l.prototype.getName=function(){return this.add.luni?this.add.luni:this.name};
l.prototype.Q9=function(eJ){this.add.luni=this.name=eJ};l.prototype.km=function(u){var g=this.add.lnsr,K=this.add.TySh;
if(g=="rend"&&K){var X=fS.PU(K.Fd);this.Q9(X.slice(0,X.length-1).replace(/(?:\r\n|\r|\n)/g," ").slice(0,32))}};
l.prototype.AG=function(){return(this.R3&1<<1)==0};l.prototype.UR=function(){return(this.R3&1<<4)==0};
l.prototype.vh=function(){return(this.R3&1<<5)!=0};l.prototype.a1K=function(){var u=this;if(u.add.lnsr!="bgnd"){u.add.lnsr="bgnd";
u.Q9("Background");u.add.lspf=1<<2}};l.prototype.ahQ=function(){var u=this;if(u.add.lnsr=="bgnd"){delete u.add.lnsr;
u.Q9("Layer 0");u.add.lspf=0}};l.prototype.Kf=function(u){var g=this.add.lspf;return g==null?!1:(g>>u&1)!=0};
l.prototype.H4=function(u){if(u&&!this.AG())this.R3-=2;if(!u&&this.AG())this.R3+=2};l.prototype.uU=function(){var u=this.add.lmfx;
if(u==null)return!1;for(var g in u){if(g=="masterFXSwitch")continue;if(g=="Scl")continue;if(g=="classID")continue;
if(u[g].v.length>0)return!0}return!1};l.prototype.ov=function(){return this.add.SoLd!=null&&this.add.SoLd.filterFX!=null};
l.prototype.y8=function(){var u=this.add.lmfx;if(u==null)return!1;if(!u.masterFXSwitch.v)return!1;for(var g in u){if(g=="masterFXSwitch")continue;
if(g=="Scl")continue;if(g=="classID")continue;var K=u[g].v;for(var P=0;P<K.length;P++)if(K[P].v.enab.v)return!0}return!1};
l.prototype.FE=function(u,g,K,X){var w=new dS,D=this.WK(u,K,X);if(D.indexOf(0)!=-1)w=w.RN(this.rect);
if(D.indexOf(1)!=-1){var q=this.Zv(),C=q.WA();w=K&&q.Ld()==0?w.fg()?C:w.I3(C):w.RN(C)}if(D.indexOf(2)!=-1){var a=this.add.vmsk,x=this.add.vstk,H;
if(g){H=f.J.Xh(a._,a.z.length!=0?a.z:null)}else H=f.J.Xh(a._);if(!X&&x&&x.strokeEnabled.v){var $=x.strokeStyleLineAlignment.v.strokeStyleLineAlignment,r=x.strokeStyleLineJoinType.v.strokeStyleLineJoinType;
if($!="strokeStyleAlignInside"){var c=x.strokeStyleLineWidth.v.val;if(r=="strokeStyleMiterJoin")H=new dS(0,0,u.m,u.n);
else H.wu(c,c)}}w=w.RN(H)}if(D.indexOf(3)!=-1)w=w.RN(this.nE(u).B.WA());if(D.length==0&&this.HS())w=X?new dS(0,0,0,0):new dS(0,0,u.m,u.n);
return w};l.prototype.o6=function(){var u=this.add.artb,g=u.artboardBackgroundType.v,K=0;if(g==1)K=4294967295;
else if(g==2)K=4278190080;else if(g==3)K=0;else if(g==4){K=u.Clr.v;K=255<<24|K.Bl.v<<16|K.Grn.v<<8|K.Rd.v}else throw g;
return K};l.prototype.T0=function(){var u=this.add.artb.artboardRect.v,g=u.Btom.v,K=u.Left.v,X=u.Rght.v,top=u.Top.v;
return new dS(K,top,X-K,g-top)};l.prototype.ab=function(u){var g=l.PN(u);if(this.add.artb==null)this.add.artb={classID:"artboard",artboardRect:{t:"Objc",v:null},artboardBackgroundType:{t:"long",v:1}};
this.add.artb.artboardRect.v=g};l.PN=function(u){var g={classID:"classFloatRect",Top:{t:"doub",v:0},Left:{t:"doub",v:0},Btom:{t:"doub",v:0},Rght:{t:"doub",v:0}};
g.Btom.v=u.y+u.n;g.Left.v=u.x;g.Rght.v=u.x+u.m;g.Top.v=u.y;return g};l.prototype.WK=function(u,g,K){var X=[],w=this;
if(!g&&w.vC&&K){X.push(2)}else if(w.oF<=0||g){if(w.UR())if(!this.rect.fg())X.push(0);if(w.Zv()&&!w.Zv().rect.fg())if(w.Zv().Bo||g)X.push(1);
if(w.add.vmsk)if(w.add.vmsk.Bo||g)X.push(2);if(w.ov()&&w.nE(u).B&&!w.nE(u).B.rect.fg())X.push(3)}else if(w.oF==1){X.push(1);
if(w.Zv().Bo&&!w.Zv().rect.fg()){if(w.UR())if(!this.rect.fg())X.push(0);if(w.add.vmsk)if(w.add.vmsk.Bo)X.push(2)}}else if(w.oF==3&&!w.nE(u).B.rect.fg())X.push(3);
if(w.add.artb&&X.indexOf(0)==-1)X.push(0);X.sort();return X};l.prototype.Zv=function(){var u=this;return u.ad?u.ad:u.add.vmsk&&u.add.vmsk.isEnabled?null:u.B};
l.prototype.nE=function(u){var g=this.add.SoLd.placed.v,K=u.add.FEid;if(K==null)return null;for(var P=0;
P<K.length;P++)if(K[P].id==g)return K[P];return null};l.prototype.extend=function(u){f.acZ(this,u)};
l.prototype.ato=function(u,g,K){var X=u.clone();if(this.y8()){var w=this.add.lmfx,D=g.root.WX(g.g.indexOf(this)),q=w.gradientFillMulti.v,C=!1;
for(var P=0;P<q.length;P++)if(q[P].v.enab.v&&q[P].v.Algn.v)C=!0;if(C)X=X.RN(D.WA(g,!1));var a=bW.arw(this.add.lmfx,g,K);
X.offset(a.x,a.y);X.m+=a.m;X.n+=a.n}return X};l.prototype.b3=function(){if(this.UR())f.Dk(this);var u=this.Zv();
if(u)u.b3()};l.prototype.clone=function(){var u=new l;u.rect=this.rect.clone();u.buffer=this.buffer.slice(0);
u.wS=this.wS;u.opacity=this.opacity;u.tG=this.tG;u.R3=this.R3;u.name=this.name;u.Cc=this.Cc.slice(0);
if(this.B)u.B=this.B.clone();if(this.ad)u.ad=this.ad.clone();for(var g in this.add)u.add[g]=aG.clone(g,this.add[g]);
return u};l.prototype.Yx=function(u){var g=this;if(g.add.TySh)delete g.add.TySh;if(g.add.SoLd){var K=this.Jz(u,this.buffer,this.rect);
if(K){this.buffer=K.Fg;this.rect=K.rect;this.O()}delete g.add.SoLd}if(g.add.SoCo||g.add.GdFl||g.add.PtFl){if(g.add.vogk)delete g.add.vogk;
if(g.add.SoCo)delete g.add.SoCo;if(g.add.GdFl)delete g.add.GdFl;if(g.add.PtFl)delete g.add.PtFl;if(g.add.vmsk){console.log(g.ad,g.B);
delete g.add.vmsk;if(g.ad==null&&g.B)delete g.B;else if(g.ad!=null&&g.B!=null){g.B=g.ad;delete g.ad}}}if(!g.xp()&&jO.get(g.add)==null&&!this.UR())this.R3-=16};
l.prototype.dy=function(u){var g=255,K=0;if(u==2){var X=this.add.SoLd.filterFX.v;if(X.filterMaskDensity)g=X.filterMaskDensity.v;
if(X.filterMaskFeather)K=X.filterMaskFeather.v}else{var w=u==0?this.Zv():this.add.vmsk;g=w._X;K=w.Lp}return{nZ:u,AM:g,ZN:K}};
l.prototype.aqe=function(u){if(u.nZ==2){var g=this.add.SoLd.filterFX.v;if(u.AM==255)delete g.filterMaskDensity;
else g.filterMaskDensity={t:"long",v:u.AM};if(u.ZN==0)delete g.filterMaskFeather;else g.filterMaskFeather={t:"doub",v:u.ZN};
this.O()}else{var K=u.nZ==0?this.Zv():this.add.vmsk;K._X=u.AM;K.Lp=u.ZN;K.vl=!0}};l.prototype.LP=function(){var u=this,g=u.add.vmsk;
if(g==null)return;u.add.vogk=f.b1.ave(g._)};l.LP=function(u){var g=[],K=f.J.nM(u);for(var X=0;X<K;X++)g.push(f.b1.Ph());
return g};var g4={Zk:0,DM:1,Ab:2,wR:3};l.I2=function(){this.name="Mask";this.dd=!1;this.QF={w:255,A:0,U:0};
this.Lm=50;this.rM=0;this.color=255;this.Bo=!0;this.isEnabled=!0;this.NR=!1;this._X=255;this.Lp=0;this.rect=new dS;
this.channel=f.L(0);this.Bp=null;this.a5w=null;this.vl=!0};l.I2.prototype.X7=function(u){if(!this.isEnabled)return u;
var g=new l.I2;g.color=Math.round(this.Ld()*u.Ld()/255);if(this.Ld()==0&&u.Ld()==0)g.rect=this.WA().I3(u.WA());
else if(u.Ld()==0)g.rect=u.WA().clone();else if(this.Ld()==0)g.rect=this.WA().clone();else g.rect=this.WA().RN(u.WA());
g.channel=this.WC(g.rect);g._X=255;g.Lp=0;var K=u.WC(g.rect);f.awj(K,g.rect,g.channel,g.rect);return g};
l.I2.prototype.WA=function(){if(this.Lp==0)return this.rect;var u=Math.ceil(this.Lp*2.2),g=this.rect.clone();
if(g.y==0){if(g.x==0)g.m+=u;else g.wu(u,0);g.n+=u}else g.wu(u,u);return g};l.I2.prototype.wf=function(){if(this.Lp==0&&this._X==255)return this.channel;
if(this.Lp==0){var u=this.channel.slice(0);f.CD(u);f.MG(u,this._X/255);f.CD(u);return u}var g=this.WA(),K=this.a3P(g),u=f.L(g.$());
f.zg.td(K,u,g,this.Lp);if(this._X!=255){f.CD(u);f.MG(u,this._X/255);f.CD(u)}return u};l.I2.prototype.Ld=function(){return Math.round(255-(255-this.color)*(this._X/255))};
l.I2.prototype.extend=function(u){f.extend(this,u,this.color)};l.I2.prototype.b3=function(){if(this.color==255)f.CD(this.channel);
f.b3(this);if(this.color==255)f.CD(this.channel)};l.I2.prototype.clone=function(){var u=new l.I2;u.name=this.name;
u.dd=this.dd;u.QF=this.QF;u.Lm=this.Lm;u.rM=this.rM;u.color=this.color;u.Bo=this.Bo;u.isEnabled=this.isEnabled;
u.NR=this.NR;u._X=this._X;u.Lp=this.Lp;u.rect=this.rect.clone();u.channel=this.channel.slice(0);return u};
l.I2.prototype.a3P=function(u,g){if(g==null)g=f.L(u.$());g.fill(this.color);f.x5(this.channel,this.rect,g,u);
return g};l.I2.prototype.WC=function(u,g){var K=this.WA(),X=this.wf();if(g==null)g=f.L(u.$());g.fill(this.Ld());
f.x5(X,K,g,u);return g};l.tU=function(){this.Bo=!0;this.isEnabled=!0;this._X=255;this.Lp=0;this._=[{type:6},{type:8,all:0}];
this.WS=[-3,-3];this.JU=!1;this.ad=null;this.vl=!0;this.z=[];this.s4=[]};l.tU.prototype.offset=function(u,g){this.ad=this.Zv();
f.J.Cg(this._,new eV(1,0,0,1,u,g));this.ad.rect.offset(u,g)};l.tU.prototype.Zv=function(u){if(!this.vl&&this.ad&&u==null){this.ad.isEnabled=this.isEnabled;
return this.ad}var g=f.J.Xh(this._),K="strokeStyleLineAlignment",X="strokeStyleLineJoinType";if(g.$()>3e4*3e4)g=new dS(0,0,100,100);
if(u&&u[K].v[K]!="strokeStyleAlignInside"){var w=1;if(u[X].v[X]=="strokeStyleMiterJoin"){var D=f.J.air(this._),q=D/2,C=Math.sin(q),a=Math.cos(q);
a/=C;C=1;var w=Math.sqrt(a*a+C*C);if(isNaN(w)||w<1)w=1}w*=u[K].v[K]=="strokeStyleAlignOutside"?1:.5;
var x=Math.ceil(u.strokeStyleLineWidth.v.val*w);x=Math.min(x,600);g.wu(x,x)}g=f.p.Cf(g);var H=new l.I2;
H.color=f.J.fB(this._)?0:255;H.Bo=this.Bo;H.isEnabled=this.isEnabled;H.NR=!0;H.rect=g;H._X=this._X;H.Lp=this.Lp;
H.channel=f.L(H.rect.$());if(!g.fg())f.J.acW(this._,H.channel,H.rect,u);if(u==null){this.ad=H;this.vl=!1}return H};
l.tU.prototype.clone=function(){var u=new l.tU;u.Bo=this.Bo;u.isEnabled=this.isEnabled;u._X=this._X;
u.Lp=this.Lp;u._=l.tU.SL(this._);u.WS=this.WS.slice(0);u.JU=this.JU;u.z=this.z.slice(0);u.s4=this.s4.slice(0);
return u};l.tU.prototype.concat=function(u){var g=u._.slice(2);if(g.length==0)return;g[0].yk=3;this._=this._.concat(g)};
l.tU.SL=function(u){var g=[];for(var P=0;P<u.length;P++){var K=u[P];if(K.type>5||K.type==0||K.type==3)g.push(JSON.parse(JSON.stringify(K)));
else g.push({type:K.type,Rw:K.Rw.clone(),G:K.G.clone(),CL:K.CL.clone()})}return g};l.tU.a6Y=function(u,g,K){if(u.length!=g.length)return!1;
for(var P=2;P<u.length;P++){var X=u[P],w=g[P];if(X.type!=w.type)return!1;if(X.type==0||X.type==3){if(X.length!=w.length||!K&&X.yk!=w.yk)return!1}else if(!X.Rw.$z(w.Rw)||!X.G.$z(w.G)||!X.CL.$z(w.CL))return!1}return!0};
l.tU.prototype.a2L=function(){var u=this._;for(var P=3;P<u.length;P++)if(u[P].type==0||u[P].type==3)u[P].yk=-1};
l.lk=function(){this.type=null;this.dl=2;this.z0=null;this.$V="";this.lB="";this.Dh="";this.open=0;this.raw=null;
this.Z4=null;this.abO="";this.Ey=!1};l.lk.prototype.clone=function(){var u=new l.lk;u.type=this.type;
u.dl=this.dl;u.z0=this.z0;u.$V=this.$V;u.lB=this.lB;u.Dh=this.Dh;u.open=this.open;u.raw=new Uint8Array(this.raw.buffer.slice(0));
return u};l.lk.prototype.KS=function(u,g,K,X,w){if(K==null)K="none";var D=this,q=eH.jN(D.raw.buffer),C=q=="svg"||q=="pdf";
if(D.Z4){var a=g&&C&&Math.max(D.Z4[1].m,D.Z4[1].n)<Math.max(g[0],g[1]);if(!a&&K==this.abO&&!D.Ey)return}this.abO=K;
if(!C)u=0;if(q==null){alert("Unsupported format: "+k.u6(D.raw,0,4));return null}var x=eH.IB(q);if(x.eE){var H=new f0(name+(q=="psd"?"":"-"+q)+".psd"),$;
x.Tu(D.raw.buffer,H,g);var r=new dS(0,0,H.m,H.n);if("avrg maxx medn minn rang stdv summ vari".split(" ").indexOf(K)!=-1){var c=[];
for(var P=0;P<H.g.length;P++){var U=H.g[P],O=U.buffer;if(!U.rect.$z(r)){O=f.L(r.$()*4);f.bV(U.buffer,U.rect,O,r);
console.log("resizing")}c.push(O)}$=f.L(r.$()*4);f.stack.stack(c,$,K)}else{for(var P=0;P<H.g.length;
P++)if(H.g[P].HS())H.g[P].th(H);if(X&&H.Ey){var A=dR.ahE(H,X,w);D.Ey=!A;if(A)dR.a9r(H,X,w)}H.Y0();H.O();
H.Z9();$=H.KS()}D.Z4=[$,r];D.wY=H.wY!=null&&H.wY!=0?H.wY:72}else if(x){var m=x.Tu(D.raw.buffer)[0];D.Z4=[new Uint8Array(m.data),m.ZE];
D.wY=m.wY!=null&&m.wY!=0?m.wY:72}if(D.Z4){if(u==1){var O=D.Z4[0],i=D.Z4[1],e=f.L(i.$());f.hk(O,e,3);
var S=f.LE(e,i),E=f.L(S.$()*4);f.bV(O,i,E,S);D.Z4=[E,S]}f.mm(D.Z4)}};l.bm="0";l.B4="2";l.CO="2.5";l.MK="2.6";
l.Ll="3";l.HM="4";l.uw="4.5";l.abA="4.6";l.ahh="5";l.Bm="5.5";l.a1Q="6";l.Hd="7";l.awI="8";l.wG="9";
l.En="9.3";l.atQ="9.5";l._t="9.6";l.vq="10";l.r7="11";l.eC="12";l.wa="13";l.Bs="13.1";l.avl="13.2";l.yM="13.3";
l.EK="13.4";l.cP="14";l.NQ="14.1";l.vR="14.2";l.bH="14.3";l.y$="17";l.A7="18";l.a0E="19";l.q5="19.5";
l.Tz="19.6";l.fK="19.7";l.Nb="19.8";l.WG="20";l.f2="21";l.gB="21.5";l.HR="22";l.ry="22.5";l.Lf="23";
l.aeb="24";l.pY="25";l.alX="26";l.ar6="27";l.lY="28";l.X9="29";l.Xr="30";l.pV="31";l.Vq="32";l.nk="33";
l.yW="34";l.Em="35";l.cR="36";l.um="36.5";l.Nc="37";l.Qb="37.5";l.a4$="37.6";l.I1="38";l.BC="38.5";l.H3="38.6";
l.Cv="39";l.LS="40";l.ajt="41";l.anc="42";l.g5="50";l.NH="51";l.mI="52";l.lc="53";l.Dr="54";l.a6j="54.5";
l.Jx="54.6";l.a4Z="54.7";l.eI="54.8";l.ia="55";l.E2="56";l.zJ="57";l.iD="58";l.GH="59";l.Dy="60";function fU(){this.depth=0;
this.index=-1;this.j=null;this.aui=null;this.B5=-1;this.children=null;this.parent=null;this.G7=null}fU.prototype.auS=function(u,g){if(this.depth!=0)u.push(this.j.getName());
if(this.children)for(var P=0;P<this.children.length;P++)this.children[P].auS(u,g);if(u.length>g.jp.length)g.jp=u.slice(0);
if(this.depth!=0)u.pop()};fU.prototype.agi=function(){var u=0;if(this.j.xp()){for(var P=0;P<this.children.length;
P++)u+=this.children[P].agi()}else if(this.j.buffer)u+=this.j.buffer.length;return u};fU.prototype.WX=function(u){var g=this.G7[u];
return this.G7[u]};fU.prototype.axA=function(u,g){var K=this.j;if(!K.AG()||K.Kf(2)||K.Kf(31))return null;
if(K.l7()){var X=K.B.rect.Vg(u);if(!X&&K.B.color==0)return}if(K.xp()){for(var P=0;P<this.children.length;
P++){var eJ=this.children[P];eJ.axA(u,g)}}else if(K.rect.Vg(u))g.push(this.index)};fU.prototype.mZ=function(u,g){var K=this.j;
if(!K.AG()||K.Kf(2)||K.Kf(31))return null;if(K.l7()){if(K.B.rect.TB(u)){if(!f.mZ(u,K.B.channel,K.B.rect))return null}else if(K.B.color==0)return null}if(K.xp()){if(K.add.artb&&!K.T0().TB(u))return null;
for(var P=this.children.length-1;P>=0;P--){var eJ=this.children[P],X=eJ.mZ(u,g);if(X&&g==null)return X}return null}else if(K.add.TySh&&K.rect.TB(u)||f.a6Q(u,K.buffer,K.rect)){if(g==null)return this;
else g.push(this.index)}return null};fU.prototype.aoa=function(u){var g=this.j;if(!g.AG()||g.Kf(2)||g.Kf(31))return null;
var K=g.add.vmsk;if(K&&K.isEnabled){var X=f.J.mZ(K._,u).Mw;if(X!=-1)return{a6u:this,ain:X}}if(g.xp()){if(g.add.artb&&!g.T0().TB(u))return null;
for(var P=this.children.length-1;P>=0;P--){var eJ=this.children[P],w=eJ.aoa(u);if(w)return w}return null}return null};
fU.prototype.agw=function(u,g){u.push(this.index);if(this.j.xp()){u.push(this.B5);if(g)if(this.j.oF==1&&this.j.Zv().Bo==!1)return;
for(var P=0;P<this.children.length;P++)this.children[P].agw(u)}};fU.Vb=function(){var u=document.createElement("canvas");
return u.getContext("2d")};fU.prototype.Ja=function(u,g,K){var X=this.j,D,q;if(X.xp()&&X.add.artb!=null)g=X.T0();
var w=32*R.Z();if(g.m>g.n){D=w;q=Math.floor(w*(g.n/g.m))}else{D=Math.floor(w*(g.m/g.n));q=w}if(X.HS()&&X.add.vmsk==null||X.add.TySh)D=q=Math.max(q,16);
else{D=Math.max(D,6);q=Math.max(q,6)}var C=q;if(K&&X.oU==null){X.oU=fU.Vb();X.PL=fU.Vb();X.hW=fU.Vb();
X.sQ=fU.Vb()}var a=X.HS()&&X.add.vmsk;if(a){var x=X.rect.clone(),r,c;if(x.fg())x=new dS(0,0,20,20);var H=x.m,$=x.n;
if(H>$){r=w;c=Math.floor(w*($/H))}else{r=Math.floor(w*(H/$));c=w}if(r*c==0)r=c=16;if(K)f.uI.yx(X.oU,r,c,x,X.buffer,X.rect,!1);
if(K)f.uI.auh(X.oU,r,c);C=c}else if(X.add.TySh){if(K)f.uI.a2q(X.oU,C,C,X.add.TySh)}else if(X.add.SoCo){C=Math.max(16,Math.min(D,q));
if(K)f.uI.aeZ(X.oU,C,C,X.add.SoCo)}else if(X.add.GdFl){if(K)f.uI.alu(X.oU,C,C,X.add.GdFl)}else if(X.add.PtFl){if(K)f.uI.ar7(X.oU,C,C,X.add.PtFl,u)}else if(jO.get(X.add)!=null){if(K)f.uI.ad2(X.oU,C,C,X.add)}else if(X.add.SoLd){if(K)f.uI.yx(X.oU,D,q,g,X.buffer,X.rect,!1);
if(K)f.uI.aeA(X.oU,D,q,X.add.SoLd)}else if(X.xp()){C=16}else{if(K){if(X.UR())f.uI.yx(X.oU,D,q,g,X.buffer,X.rect,!1);
else{f.uI.aov(X.oU,C,C)}}}var U=X.Zv();if(K){if(U)f.uI.aB(X.PL,D,q,g,U);if(X.ov()&&X.nE(u)&&X.nE(u).B){var O=X.nE(u).B;
f.uI.aB(X.sQ,D,q,g,O)}if(!a&&X.add.vmsk){f.uI.aB(X.hW,D,q,g,X.add.vmsk.Zv(),!0)}}if(X.add.vmsk||U)C=Math.max(C,q);
X.a6o=Math.max(C,16);if(K!=!0&&X.xp()&&(X.add.lsct==g4.DM||u.g.length<4e3))for(var P=0;P<this.children.length;
P++)this.children[P].Ja(u,g)};fU.prototype.avS=function(u,g,K,X){this.depth=K;var w=u[g];if(X==null)X=[];
this.G7=X;if(w.add.lsct==g4.wR){this.aui=w;this.B5=g-1;this.children=[];var P=g+1;while(!0){var D=u[P];
if(D==null)console.log(P,u.length);if(D.add.lsct==g4.DM||D.add.lsct==g4.Ab){if(w.add.lyid==D.add.lyid)w.add.lyid+=16777215;
this.j=D;this.index=P-1;X[this.index]=this;X[g-1]=this;break}var q=new fU;q.parent=this;P=q.avS(u,P,K+1,X);
this.children.push(q)}return P+1}else{this.j=w;this.index=g-1;X[this.index]=this;return g+1}};fU.prototype.IS=function(u,g,K,X){var w=this.WX(K),D=u;
while(w.parent!=null){D=w.j.ato(D,g,X);w=w.parent}return D};fU.prototype.WA=function(u,g){var K=this.j,X=new dS;
if(!K.AG())return X;var w=K.Zv();if(K.xp())for(var P=0;P<this.children.length;P++){var D=this.children[P].WA(u,!0);
X=X.RN(D)}else if(jO.get(K.add)!=null)X=K.l7()&&K.B.color==0?K.B.WA().clone():new dS(0,0,u.m,u.n);else if(K.HS()&&K.add.vmsk&&K.add.vmsk.isEnabled&&K.add.vstk){X=K.rect.clone()}else if(K.HS()&&w&&w.isEnabled&&w.Ld()!=0)X=new dS(0,0,u.m,u.n);
else{X=K.FE(u,!1,!0);if(K.add.vmsk)X=f.p.Cf(X)}return g?K.ato(X,u):X};fU.Pw={delete:function(u){if(u&&u.m)u.delete()},L:function(u,g){return s.xA?new s.bs(u,g):f.L(u*g*4)},ta:function(u,g,K){if(s.xA){if(u==null||u.m!=g||u.n!=K){fU.Pw.delete(u);
return new s.bs(g,K)}}else{if(u==null||!(u instanceof Uint8Array)||u.length!=g*K*4){fU.Pw.delete(u);
return f.L(g*K*4)}}return u},x5:function(u,g,K,X,w){(s.xA?s.X0:f.bV)(u,g,K,X,w)},$c:function(u,g,K,X,w,D,q,C,P,a,x){(s.xA?s.i.G5:f.i.$c)(u,g,K,X,w,D,q,C,P,a,x)},abd:function(u,g,K,X,w,D,q,C){var a=K.clone(),x=w.m,H=w.n,$=a.x,r=a.y,c=a.x+a.m>x?-1:0,U=a.x<0?2:1,O=a.y+a.n>H?-1:0,A=a.y<0?2:1;
for(var m=O;m<A;m++)for(var i=c;i<U;i++){a.x=$+i*x;a.y=r+m*H;fU.Pw.L_(u,g,a,X,w,D,q,C)}},L_:function(u,g,K,X,w,D,q,C){if(s.xA)s.i.ga(u,g,K,X,w,D,q,C);
else f.i.L_(u,g,K,X,w,D,q,C)},D4:function(u,g,K){if(s.xA){s.c9(u);s.nW(g,K)}else f.D4(u,g,K)},at9:function(u,g,K,X,w){if(s.xA){s.i.G5(null,null,X,w,u,g,K,w,1,!1)}else{if(K==255)f.ea(u,g,X,w);
else{var D=f.L(g.$());f.DZ(X,w,D,g);f.PD(u,D);f.D4(X,0,16777215);f.x6(D,g,X,w)}}},rl:function(u,g,K,X){if(s.xA)s.i.G5(null,null,K,X,u,g,0,X,1,!1);
else f.rl(u,g,K,X)}};fU.prototype._M=function(u,g,K,X,w,D){var q=typeof D=="number";if(!this.j.xp()&&(q&&this.index>D||!q&&D.indexOf(this.index)==-1)){return}var C=this.j,a=bW.sb(C),x=fU.Pw,H=C.HS()?C.Zv():C.B;
if(!C.AG())return;if(C.l7()&&H.rect.fg()&&H.Ld()==0){return}if(C.add.vstk==null&&this.WA(X,!1).fg()){return}var $=this.WA(X,!0).I3(K);
if(!g.$z(K)&&!K.Vg($))return;if(C.xp()&&C.add.artb){var r=C.T0();K=K.I3(r)}var c=fU.arS(C,w,a);if(!c){this.aiG(u,g,K,X,w,D);
return}C.gJ.Vi=x.ta(C.gJ.Vi,$.m,$.n);x.x5(u,g,C.gJ.Vi,$,K);this.aiG(C.gJ.Vi,$,K,X,w,D);x.$c(C.gJ.Vi,$,u,g,null,null,0,K,C.opacity/255,C.wS=="diss",a.qd)};
fU.arS=function(u,g,K){if(K.qd[0]*K.qd[1]*K.qd[2]==0)return!0;return u.opacity!=255&&(g.length!=0||u.xp()||u.y8())};
fU.ac$={gJ:{}};fU.prototype.aiG=function(u,g,K,X,w,D){var q=this.j,C=bW.sb(q),a=jO.get(q.add)!=null,x=fU.Pw,H=fU.arS(q,w,C),$=H?1:q.opacity/255,r=q.HS()?q.Zv():q.B,c=q.xp()&&C.bx==null&&(q.wS=="pass"||q.add.artb)&&!(w.length>0||C.fill!=1||q.y8()),U=!q.xp()&&!a&&!q.y8()&&w.length==0,O=a&&!q.y8()&&w.length==0,E=null,Z=null,N=null,t;
if(c||U||O){var A=u,m=g;if(q.l7()){m=this.WA(X,!1);A=q.gJ.$Y=x.ta(q.gJ.$Y,m.m,m.n);x.x5(u,g,q.gJ.$Y,m)}if(c)this.Nq(A,m,K,X,D);
if(U)x.L_(q.wS,q.aab(X),q.rect,A,m,K,$,C);if(O){var i=q.l7()&&r.Ld()==0?r.WA().clone():m.clone(),e=q.gJ;
if(i.$z(new dS(0,0,X.m,X.n)))e=fU.ac$;e.Lz=this.alU(A,m,e.Lz,i,q.add);C.Ak=!0;x.L_(q.wS,e.Lz,i,A,m,K,$,C)}if(q.l7())x.$c(A,m,u,g,q.aum(),r.WA(),r.Ld(),K,1,q.wS=="diss");
q.gJ.at3();return}var S=q.xp()&&q.wS=="pass"&&(w.length>0||C.fill!=1||q.y8()),i=q.rect;if(q.xp()){i=this.WA(X,!1);
N=q.gJ.Lz=x.ta(q.gJ.Lz,i.m,i.n);x.D4(N,0);this.Nq(N,i,i,X,D);Z=x.ta(q.gJ.oS,i.m,i.n);x.x5(N,i,Z,i)}else if(a){i=q.l7()&&r.Ld()==0?r.WA().clone():g.clone();
Z=x.ta(q.gJ.oS,i.m,i.n);x.D4(Z,4294967295)}else{i=q.rect;E=q.aab(X);Z=x.ta(q.gJ.oS,i.m,i.n);x.x5(E,i,Z,i)}q.gJ.oS=Z;
if(q.l7())x.at9(q.aum(),r.WA(),r.Ld(),Z,i);if(q.y8())if(q.gJ.k6||q.gJ.je||q.gJ.cX!=s.xA||q.gJ.QY||q.xp()){var J=q.add.vmsk,y=f.L(i.$());
if(bW.awc(q.add.lmfx)){if(s.xA){if(!q.xp()&&q.Zv()==null&&q.rect.$z(i)&&J==null)f.hk(q.buffer,y,3);else{var o=f.L(i.$()*4);
Z.get(o);f.hk(o,y,3)}}else f.hk(Z,y,3)}if(q.gJ.je||q.gJ.cX!=s.xA||!f.$z(y,q.gJ.Pi)){var B=null;if(q.HS()&&J&&J.isEnabled&&J.Zv().color==0)B=J.Zv().rect;
bW.awh(q.gJ.qw);q.gJ.qw=bW.a0J(y,i,q.add.lmfx,q.add.fxrp,X,B);q.gJ.Pi=y;q.gJ.ahO=i}}if(q.y8())bW.atu(q.add.lmfx,q.gJ.qw,i,u,g,K);
if(q.xp()){E=x.ta(q.gJ.$Y,i.m,i.n);x.D4(E,0);if(q.wS=="pass")x.x5(u,g,E,i);if(S)x.rl(N,i,E,i);this.Nq(E,i,K,X,D);
q.gJ.$Y=E}if(a){E=q.gJ.$Y=this.alU(u,g,q.gJ.$Y,i,q.add)}if(q.xp()||a)t=E;else{t=x.ta(q.gJ.$Y,i.m,i.n);
x.x5(E,i,t,i,K);q.gJ.$Y=t}x.D4(t,4278190080,16777215);for(var P=0;P<w.length;P++)w[P]._M(t,i,K,X,[],D);
var W=q.gJ.v_=x.ta(q.gJ.v_,i.m,i.n);x.x5(u,g,W,i,K);if(a)C.Ak=!0;x.L_(q.wS=="pass"?"norm":q.wS,t,i,W,i,K,1,C);
if(q.y8()){var F=q.gJ.qw.type.FrFX,G=null;if(F.length!=0){G=F[0];for(var P=0;P<F.length;P++)if(F[P].C3.m>G.C3.m)G=F[P];
q.gJ.Tc=x.ta(q.gJ.Tc,G.C3.m,G.C3.n);x.x5(u,g,q.gJ.Tc,G.C3,K);q.gJ.CK=x.ta(q.gJ.CK,G.C3.m,G.C3.n)}bW.auA(q.add.lmfx,q.gJ.qw,i,u,g,K,W,q.gJ.Tc,q.gJ.CK,G?G.C3:null)}if(!s.xA){var L=f.L(i.$());
f.hk(Z,L,3);Z=L}x.$c(W,i,u,g,Z,i,0,K,1,q.wS=="diss");q.gJ.at3()};fU.prototype.alU=function(u,g,K,X,w){var D=jO.get(w),q;
if(D)q=jO.Zq(D,w[D]);var C=fU.Pw;K=C.ta(K,X.m,X.n);if(!(s.xA&&g.$z(X)))C.x5(u,g,K,X);if(q){if(s.xA){var a=X.clone();
a.x=a.y=0;if(g.$z(X)){s.c9(K,a);jO.vG(q,u.nI,a)}else{s.c9(K,X);K.xH(X);jO.vG(q,K.Gd,a)}}else jO.o4(q,K,K,X)}return K};
fU.prototype.Nq=function(u,g,K,X,w){var D=g,q=D.m,C=D.n,a=D.x,x=D.y,eJ=K,H=eJ.x,$=eJ.y,r=-1,c=-1,U=2,O=2;
if(!X.Wr){r=c=0;U=O=1}var A=this.children;for(var P=0;P<A.length;P++){var m=[];for(var i=P+1;i<A.length;
i++)if(A[i].j.tG)m.push(A[i]);else break;for(var e=c;e<O;e++)for(var S=r;S<U;S++){D.x=a+S*q;D.y=x+e*C;
eJ.x=H+S*q;eJ.y=$+e*C;A[P]._M(u,D,eJ,X,m,w)}P+=m.length}D.x=a;D.y=x;eJ.x=H;eJ.y=$};function f0(u){this.Ar="psd";
this.jJ=!1;this.name=u;this.Ex=-1;this.Wr=!1;this.oy=null;this.FN=null;this.Ke=null;this.ge=null;this.m=0;
this.n=0;this.buffer=null;this.g=[];this.sD={};this.add={};this.us=4;this.iX=null;this.wY=72;this.jv={};
this.z=[];this.m_=[];this.Qz=!1;this.BD=[];this.di=[];this.Ml=[f0.ox("Work Path")];this.qe=[];this.J9=null;
this.Yf={classID:"CompList",list:{t:"VlLs",v:[]}};this.dI=[];this.h8=[];this.root=null;this.zH=null;
this.Ey=!1;this.aiR=!1;this.a4L=!1;this.Jg=!1;this.Ym=!1;this.cK=!1;this.vH=!1;this.X5=!1;this.Qv=!1;
this.xE=!1;this.k6=null;this.Q4=null;this.q=null;this.g1=[];this.qT=[];this.H={e1:{},hR:[],a1D:[],HC:[],Vk:[],vn:null,fe:null,Ba:null,g6:null,B3:[],kj:[],dx:null};
this.history=[new g9([1,0],null)];this.YQ=0;this.BB=0;this.Lq=0;this.t=new hY(this);this.LU=null;this.J5=null}f0.lP=function(){var u=8,g=[0,0,0,.145,.051,.051,.263,.071,.067,.416,.051,.055,.573,.102,.11,.71,.122,.141,.851,.122,.149,.929,.122,.141,.075,.149,.078,.153,.153,.078,.275,.153,.055,.424,.157,.071,.569,.153,.114,.706,.165,.141,.855,.161,.153,.933,.196,.141,.118,.282,.133,.18,.29,.129,.286,.29,.122,.427,.294,.114,.573,.298,.129,.71,.294,.149,.855,.298,.153,.941,.306,.133,.035,.431,.224,.157,.427,.212,.294,.431,.204,.427,.435,.18,.569,.431,.165,.71,.435,.161,.851,.431,.153,.953,.435,.133,.012,.576,.278,.145,.569,.271,.29,.576,.259,.427,.576,.239,.569,.576,.212,.706,.573,.184,.855,.576,.157,.969,.569,.118,.114,.698,.294,.165,.702,.29,.29,.714,.286,.424,.714,.271,.573,.718,.243,.71,.714,.204,.855,.714,.153,.988,.714,.078,.314,.722,.282,.329,.722,.278,.392,.737,.275,.478,.757,.259,.584,.788,.239,.714,.827,.2,.859,.859,.125,.996,.855,0,.412,.741,.271,.427,.745,.267,.471,.753,.259,.533,.773,.251,.624,.8,.227,.725,.835,.2,.843,.875,.137,.973,.925,.075,.055,.059,.137,.141,.059,.141,.271,.059,.149,.424,.043,.149,.576,.098,.157,.714,.122,.153,.859,.122,.153,.929,.114,.176,.02,.145,.141,.137,.137,.137,.282,.141,.137,.431,.141,.145,.576,.145,.141,.714,.149,.145,.859,.141,.153,.933,.192,.184,.012,.286,.145,.145,.286,.141,.286,.286,.141,.431,.29,.141,.576,.286,.141,.714,.286,.149,.855,.286,.153,.941,.302,.176,.027,.427,.22,.153,.431,.216,.29,.427,.2,.427,.431,.18,.576,.431,.165,.714,.427,.161,.859,.431,.153,.949,.427,.165,.039,.576,.278,.153,.573,.271,.282,.573,.259,.431,.576,.239,.569,.573,.212,.71,.573,.184,.859,.576,.153,.969,.569,.165,.114,.698,.294,.165,.702,.29,.286,.718,.286,.424,.714,.267,.576,.722,.243,.714,.714,.204,.855,.714,.153,.988,.71,.137,.314,.722,.282,.341,.725,.278,.396,.737,.275,.486,.761,.259,.588,.788,.239,.714,.831,.2,.859,.855,.145,.996,.859,.129,.416,.741,.271,.439,.749,.271,.482,.757,.263,.537,.776,.251,.631,.804,.231,.725,.831,.196,.851,.878,.133,.969,.925,.18,.075,.075,.278,.145,.063,.29,.282,.067,.286,.424,.082,.294,.573,.102,.298,.714,.118,.298,.855,.11,.298,.933,.11,.306,.063,.141,.278,.137,.141,.286,.286,.137,.282,.427,.145,.286,.573,.141,.286,.714,.141,.29,.863,.149,.294,.937,.188,.302,0,.29,.29,.141,.286,.286,.29,.286,.286,.427,.29,.29,.573,.29,.29,.718,.29,.286,.859,.282,.286,.941,.302,.302,0,.427,.286,.145,.431,.29,.286,.427,.29,.424,.427,.286,.573,.427,.29,.718,.427,.286,.859,.427,.282,.953,.431,.302,0,.573,.282,.145,.576,.282,.286,.573,.282,.427,.573,.282,.576,.573,.282,.71,.569,.282,.859,.573,.278,.969,.569,.306,.114,.698,.294,.176,.702,.29,.286,.718,.286,.427,.718,.282,.576,.714,.278,.718,.722,.294,.855,.71,.278,.988,.71,.286,.329,.725,.282,.349,.729,.278,.4,.737,.278,.486,.761,.29,.592,.792,.298,.714,.835,.306,.859,.859,.278,1,.855,.286,.431,.745,.267,.451,.749,.267,.482,.757,.259,.549,.776,.247,.639,.804,.224,.733,.839,.224,.855,.882,.275,.973,.929,.306,.141,.133,.392,.165,.133,.408,.29,.141,.42,.416,.141,.424,.561,.133,.431,.71,.122,.439,.859,.082,.435,.929,.098,.431,.137,.184,.408,.176,.169,.424,.282,.157,.431,.424,.145,.424,.573,.141,.427,.714,.145,.427,.859,.137,.427,.929,.173,.427,0,.286,.427,.141,.29,.431,.29,.29,.431,.427,.29,.427,.576,.286,.427,.718,.29,.431,.859,.286,.427,.941,.298,.431,0,.427,.424,.145,.427,.427,.286,.427,.427,.427,.427,.427,.569,.427,.424,.718,.431,.431,.863,.427,.427,.949,.424,.431,0,.573,.427,.125,.573,.427,.282,.573,.427,.431,.576,.431,.569,.573,.427,.714,.573,.424,.851,.569,.424,.965,.569,.431,.082,.706,.427,.133,.71,.427,.282,.71,.424,.424,.714,.424,.576,.718,.427,.714,.714,.424,.863,.718,.427,.984,.71,.427,.322,.729,.404,.345,.733,.408,.404,.745,.412,.478,.765,.42,.588,.796,.424,.718,.843,.431,.863,.863,.435,1,.863,.435,.439,.749,.341,.455,.753,.341,.494,.765,.345,.557,.784,.349,.643,.812,.373,.733,.843,.388,.851,.89,.424,.976,.941,.451,.169,.184,.51,.176,.176,.522,.298,.176,.537,.416,.169,.541,.553,.153,.557,.698,.118,.553,.847,.094,.557,.929,.133,.565,.161,.212,.529,.18,.184,.541,.294,.184,.553,.427,.173,.561,.565,.153,.561,.718,.157,.565,.851,.157,.565,.933,.196,.565,.075,.29,.561,.141,.286,.573,.286,.29,.576,.424,.286,.573,.576,.29,.576,.718,.29,.576,.859,.286,.573,.933,.298,.569,0,.427,.573,.141,.427,.573,.286,.427,.573,.427,.427,.569,.573,.427,.573,.718,.431,.576,.859,.427,.573,.945,.424,.569,0,.573,.573,.149,.576,.576,.286,.573,.576,.427,.573,.573,.573,.573,.573,.718,.576,.576,.859,.573,.573,.961,.565,.573,0,.714,.573,.133,.714,.573,.278,.71,.573,.427,.714,.576,.573,.718,.573,.718,.714,.573,.859,.714,.576,.98,.71,.576,.325,.741,.537,.345,.745,.537,.404,.757,.545,.482,.78,.553,.588,.808,.565,.718,.851,.573,.859,.859,.569,1,.863,.573,.439,.761,.49,.451,.761,.486,.49,.776,.498,.557,.796,.51,.635,.82,.518,.737,.855,.537,.863,.906,.561,.976,.953,.588,.165,.231,.588,.227,.231,.592,.31,.235,.592,.408,.227,.588,.525,.227,.588,.635,.227,.584,.761,.239,.588,.878,.243,.588,.173,.255,.608,.216,.255,.604,.314,.255,.604,.408,.255,.6,.525,.255,.6,.643,.255,.596,.761,.267,.6,.882,.267,.596,.141,.314,.639,.208,.318,.639,.306,.318,.639,.42,.314,.631,.541,.318,.631,.659,.318,.624,.784,.325,.62,.91,.337,.624,.012,.431,.718,.149,.431,.714,.294,.431,.71,.431,.431,.702,.573,.427,.69,.71,.431,.678,.835,.435,.671,.945,.435,.667,0,.573,.714,.145,.573,.718,.29,.576,.718,.427,.573,.714,.576,.573,.714,.71,.569,.71,.859,.573,.714,.957,.569,.71,0,.71,.71,.129,.714,.714,.278,.714,.71,.427,.714,.714,.576,.718,.718,.714,.714,.714,.859,.718,.714,.973,.706,.714,.322,.753,.667,.337,.757,.667,.4,.769,.671,.482,.792,.686,.588,.824,.698,.714,.867,.718,.859,.863,.714,.996,.855,.714,.435,.773,.62,.459,.78,.627,.49,.788,.631,.557,.808,.643,.647,.835,.659,.749,.875,.675,.867,.918,.702,.988,.969,.725,.212,.29,.624,.243,.29,.62,.318,.29,.62,.396,.286,.62,.486,.286,.616,.58,.282,.608,.686,.282,.608,.788,.29,.608,.216,.306,.631,.251,.306,.631,.314,.306,.627,.392,.306,.627,.49,.302,.624,.58,.302,.62,.686,.302,.616,.796,.314,.616,.224,.345,.655,.255,.345,.659,.318,.345,.651,.396,.345,.651,.494,.345,.643,.592,.345,.639,.702,.353,.635,.816,.373,.643,.212,.424,.71,.247,.424,.706,.318,.424,.702,.412,.42,.694,.525,.431,.694,.635,.447,.698,.749,.459,.69,.859,.467,.69,.133,.569,.816,.2,.565,.812,.31,.569,.808,.443,.569,.792,.576,.569,.78,.694,.569,.765,.812,.58,.761,.914,.584,.753,0,.714,.855,.133,.714,.859,.286,.714,.863,.431,.714,.859,.573,.714,.859,.718,.714,.863,.859,.714,.839,.969,.706,.82,.302,.765,.796,.329,.769,.796,.392,.784,.808,.471,.804,.82,.588,.839,.847,.718,.859,.859,.859,.859,.859,.988,.855,.855,.439,.788,.749,.451,.792,.749,.498,.804,.757,.553,.82,.769,.647,.851,.784,.753,.886,.812,.871,.933,.839,.996,.984,.863,.224,.325,.643,.251,.325,.643,.306,.322,.639,.38,.322,.635,.459,.318,.631,.545,.318,.631,.631,.314,.624,.725,.322,.624,.235,.333,.647,.263,.337,.651,.31,.333,.647,.38,.333,.643,.463,.333,.639,.545,.333,.635,.631,.325,.627,.737,.337,.627,.251,.365,.671,.275,.365,.667,.318,.365,.667,.384,.361,.659,.467,.361,.655,.549,.361,.651,.651,.376,.651,.757,.4,.659,.255,.427,.71,.275,.42,.702,.329,.42,.702,.4,.42,.694,.486,.431,.698,.58,.447,.698,.686,.467,.702,.8,.494,.71,.278,.529,.78,.306,.533,.78,.373,.541,.78,.455,.545,.776,.553,.557,.776,.643,.569,.773,.749,.592,.776,.843,.604,.773,.275,.694,.898,.302,.694,.894,.384,.69,.886,.49,.698,.878,.604,.706,.871,.718,.706,.855,.812,.714,.847,.898,.722,.839,.31,.784,.925,.333,.788,.925,.388,.8,.941,.471,.824,.961,.592,.855,.973,.725,.851,.949,.859,.851,.929,.957,.855,.914,.435,.8,.867,.443,.804,.867,.494,.816,.875,.557,.835,.886,.651,.867,.91,.757,.906,.933,.878,.953,.969,1,1,1];
g=bs.n2(u,g);return[u,g]}();f0.prototype.VA=function(u){if(u){this.sD.r1039=u;var g=ICC.R(u.buffer),K=g.header.spaceIn.toLowerCase(),X=JSON.stringify(g.tags.desc).toLowerCase(),w=null,D=17,a,x;
try{w=ICC.U.profileName(g)}catch(fc){}if(K!="rgb "||w==null||X.indexOf("srgb")!=-1){this.VA(null);return}console.log("We got an ICC profile!",g,w);
var q=ICC.U.sampleLUT(g,D),C=q.slice(0),H=f.L(4),$=f0.lP[0],r=f0.lP[1];for(var P=0;P<q.length;P+=3){H[0]=q[P]*255;
H[1]=q[P+1]*255;H[2]=q[P+2]*255;ICC.U.applyLUT(r,$,H,H);C[P]=H[0]/255;C[P+1]=H[1]/255;C[P+2]=H[2]/255}if(s.xA){a=new s.bs(D,D*D);
a.set(ICC.U.rgba8LUT(q,D));x=new s.bs(D,D*D);x.set(ICC.U.rgba8LUT(C,D))}this.LU=[u,g,D,q,a,C,x]}else{delete this.sD.r1039;
this.LU=null}};f0.prototype.j0=function(){return this.LU};f0.prototype.aiQ=function(){if(this.LU)return this.LU;
if(this.add.fcmy==1){if(this.J5==null){var u=f0.lP[0],g=f0.lP[1],K;if(s.xA){K=new s.bs(u,u*u);K.set(ICC.U.rgba8LUT(g,u))}this.J5=[null,null,u,null,null,g,K]}return this.J5}};
f0.prototype.dW=function(){var u=this;return u.q!=null||u.f$()[1].length!=0||u.z.length>1};f0.prototype.xv=function(){var u=this.m_,g=[];
for(var P=0;P<u.length;P++)g[P]=-1;var K=this.root.children;for(var P=0;P<K.length;P++){var X=K[P],w=X.j.add.artb;
if(w==null)continue;var D=w.guideIndeces;D=D?D.v:[];for(var q=0;q<D.length;q++)g[D[q].v]=X.index}return[JSON.parse(JSON.stringify(u)),g]};
f0.prototype.r4=function(u){this.m_=JSON.parse(JSON.stringify(u[0]));var g=u[1],K=this.root.children;
for(var P=0;P<K.length;P++){var X=K[P],w=X.j.add.artb;if(w==null)continue;w.guideIndeces={t:"VlLs",v:[]}}for(var P=0;
P<g.length;P++)if(g[P]!=-1)this.g[g[P]].add.artb.guideIndeces.v.push({t:"long",v:P})};f0.prototype.a0K=function(u){var g=this;
if(u[0])g.add.lnk2=u[0];else delete g.add.lnk2;if(u[1])g.add.FEid=u[1];else delete g.add.FEid;if(u[2])g.add.Patt=u[2];
else delete g.add.Patt};f0.prototype.aas=function(u){var g=this,K=[],X=[],w=[],O=null,A=null,m=null;
for(var P=0;P<u.length;P++){var D=u[P];if(D.add.SoLd){K.push(D.add.SoLd.Idnt.v);X.push(D.add.SoLd.placed.v)}if(D.add.PtFl)w.push(D.add.PtFl.Ptrn.v.Idnt.v);
if(D.add.lmfx){for(var q=0;q<k8.pg.length;q++){var C=D.add.lmfx[k8.pg[q]].v;for(var a=0;a<C.length;a++)if(C[a].v.Ptrn){var x=C[a].v;
if(x.classID=="FrFX"&&x.PntT.v.FrFl!="Ptrn")continue;w.push(x.Ptrn.v.Idnt.v)}}}var $=D.add.vstk;if($&&$.strokeStyleContent.v.classID=="patternLayer"){w.push($.strokeStyleContent.v.Ptrn.v.Idnt.v)}}var r=g.add.lnk2,c=g.add.FEid,U=g.add.Patt;
if(r){O=[];for(var P=0;P<r.length;P++)if(K.indexOf(r[P].z0)!=-1)O.push(r[P]);if(O.length==0)O=null}if(c){A=[];
for(var P=0;P<c.length;P++)if(X.indexOf(c[P].id)!=-1)A.push(c[P]);if(A.length==0)A=null}if(U){m=[];for(var P=0;
P<U.length;P++)if(w.indexOf(U[P].id)!=-1)m.push(U[P]);if(m.length==0)m=null}return[O,A,m]};f0.prototype.Yt=function(u){var g=this,K=g.root.WX(u==null?g.z[0]:u),X=!1;
while(K.parent!=null){X=X||K.j.Kf(31);K=K.parent}return X};f0.prototype.N6=function(){var u=this.g1,g=this.g1.length;
if(g!=0&&u[g-1].name=="Quick Mask")return u[g-1]};f0.prototype.u8=function(){return this.Ar==dn.Zw("% |/!)")||this.Ar==dn.LB("gP")};
f0.prototype.DX=function(u){var g=this.add.artd;if(u!=0)this.add.artd={classID:"null",Cnt:{t:"long",v:u},autoExpandOffset:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},origin:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"doub",v:0},Vrtc:{t:"doub",v:0}}},autoExpandEnabled:{t:"bool",v:!0},autoNestEnabled:{t:"bool",v:!0},autoPositionEnabled:{t:"bool",v:!0}};
else delete this.add.artd};f0.prototype.T8=function(u){if(this.add.FEid==null)this.add.FEid=[];if(this.add.FEid.indexOf(u)==-1)this.add.FEid.push(u)};
f0.prototype.v8=function(u){var g=this.add.FEid.indexOf(u);this.add.FEid.splice(g,1);if(this.add.FEid.length==0)delete this.add.FEid};
f0.prototype.O=function(u){if(u==null)u=new dS(0,0,this.m,this.n);if(this.k6==null)this.k6=u;else this.k6=this.k6.RN(u)};
f0.prototype.aio=function(u){return this.k6!=null};f0.prototype.jw=function(u){var g=this.g[u],K=this.root.WX(u);
if(K==null)return!1;if(g.xp()||K.parent.children.indexOf(K)==0)return!1;return!0};f0.apF=function(u){if(u.add.lnk2)for(var P=0;
P<u.add.lnk2.length;P++){var g=u.add.lnk2[P].z0;u.add.lnk2[P].z0=f0.AO()+g.slice(8);for(var K=0;K<u.g.length;
K++){var X=u.g[K].add.SoLd;if(X&&X.Idnt.v==g)X.Idnt.v=u.add.lnk2[P].z0}}};f0.prototype.Hf=function(u,g,K){u.sort(function($,r){return $-r});
var top=u[u.length-1],X=this.g.slice(0),w=this.z.slice(0),D=[],q=[];for(var P=0;P<this.g.length;P++){if(u.indexOf(P)!=-1)q.push(this.g[P]);
else D.push(this.g[P])}this.$O(q);this.z=[];var C=this.root.WA(this,!0);if(g)C=C.I3(g);if(K)C=C.RN(K);
if(C.fg())C=new dS(0,0,100,100);var a=new dS(-C.x,-C.y,this.m,this.n),x=new Uint8Array(eH.IB("PSD").si(this,0,0,[!0,!1]));
this.$O(X);this.z=w;var H=new f0(this.g[top].getName());eH.IB("PSD").Tu(x.buffer,H);delete H.add.artd;
H.BD=[];H.$O(H.g);H.r4([[],[]]);f0.apF(H);R.SO.Tg(H,C);H.O();H.Z9();H.KS();return[H,C,D,top]};f0.prototype.a9_=function(u,g,K){var X=this.Hf(u),w=X[0],D=X[1],q=X[2],top=X[3],C;
if(K=="jpg")C=new Uint8Array(eH.IB("JPG").si([[w.KS().buffer]],w.m,w.n,[80]));else C=new Uint8Array(eH.IB("PSD").si(w,null,null,[!0,!1]));
if(g)q=this.g.slice(0);var a=this.Sw(C,w.name,D.x,D.y);if(top==this.g.length-1)q.push(a);else q.splice(g?top+1:top-u.length+1,0,a);
this.$O(q);this.z=[q.indexOf(a)]};f0.AO=function(u){if(u==null)u="";var g="";while(g==""||g==u){g="";
for(var P=0;P<8;P++)g+=Math.floor(Math.random()*16).toString(16)}return g};f0.prototype.q_=function(u){if(u==null)return;
if(this.add.Patt==null)this.add.Patt=[];var g=this.add.Patt;for(var P=0;P<g.length;P++)if(g[P].id==u.id)return;
g.push(u)};f0.prototype.Sw=function(u,g,K,X,w,D,q){if(this.add.lnk2==null)this.add.lnk2=[];var C=null,c=!1;
for(var P=0;P<this.add.lnk2.length;P++)if(f.$z(u,this.add.lnk2[P].raw)){C=this.add.lnk2[P].z0;break}if(C==null){var a=eH.jN(u.buffer);
C=f0.AO()+"-d71c-11e5-b1ae-a548a96e5f9f";var x=new l.lk;x.z0=C;x.Dh=a=="psd"?"8BIM":"    ";x.$V=g+"."+a;
x.lB=a=="psd"?"8BPB":"    ";x.open=0;x.raw=u;x.type="liFD";x.dl=2;this.add.lnk2.push(x)}var H=this.lW(C,null,null,null,D,q),$=f0.AO()+"-d71c-11e5-b1ae-a548a96e5f9f",r=this.Wk();
r.Q9(g);if(H!=null){var U=0,O=0,A=this.m,m=this.n;if(w){U=w.x;O=w.y;A=w.m;m=w.n}var i=r.rect=H.Z4[1].clone();
i.offset(U+K,O+X);var e=Math.max(i.m/A,i.n/m),c=w!=null&&e>1.0001;if(c){i.m=Math.round(i.m/e);i.n=Math.round(i.n/e);
i.x=Math.round(U+(A-i.m)/2);i.y=Math.round(O+(m-i.n)/2)}else if(w!=null&&eH.jN(u.buffer)=="pdf"&&this.wY!=144){var e=144/this.wY;
i.m=Math.round(i.m/e);i.n=Math.round(i.n/e);c=!0}r.buffer=f.L(i.$()*4);if(!c)f.me(H.Z4[0],r.buffer)}r.add.SoLd={classID:"null",Idnt:{t:"TEXT",v:C},Impr:{t:"Objc",v:{__name:"None",classID:"none"}},placed:{t:"TEXT",v:$},PgNm:{t:"long",v:1},totalPages:{t:"long",v:1},frameStep:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},duration:{t:"Objc",v:{classID:"null",numerator:{t:"long",v:0},denominator:{t:"long",v:600}}},frameCount:{t:"long",v:1},Annt:{t:"long",v:16},Type:{t:"long",v:2},Trnf:null,nonAffineTransform:null,warp:{t:"Objc",v:f.zv.L(H?H.Z4[1]:r.rect)},Sz:{t:"Objc",v:{classID:"Pnt",Wdth:{t:"doub",v:r.rect.m},Hght:{t:"doub",v:r.rect.n}}},Rslt:{t:"UntF",v:{type:"#Rsl",val:H?H.wY:72}}};
var S=f.p.JS(r.rect).v;r.add.SoLd.Trnf=R.S.c2(S);r.add.SoLd.nonAffineTransform=R.S.c2(S);if(c)r.Qu(this,!1);
return r};f0.prototype.KS=function(u){if(u!=null){this.O();this.Z9(u);var g=this.buffer;if(s.xA)this.zH.get(g);
else g=g.slice(0);this.O();this.Z9();return g}if(this.k6){this.Z9();this.k6=null}if(s.xA&&this.Q4){this.zH.get(this.buffer);
this.Q4=null;this.vH=!0}return this.buffer};f0.prototype.a1E=function(){for(var P=0;P<this.g.length;
P++)this.g[P].a18();this.O()};f0.prototype.ai0=function(){for(var P=0;P<this.g.length;P++)if(this.g[P].add.lmfx)this.g[P].gJ.je=!0};
f0.prototype.yE=function(){var u=this.sD.r1044;if(u==null){u=this.sD.r1044=new Uint8Array(4);var g=0;
for(var P=0;P<this.g.length;P++)g=Math.max(g,this.g[P].add.lyid);k.eB(u,0,g)}var K=k.r(u,0);k.eB(u,0,K+1);
return K+1};f0.prototype.KL=function(u,g,K){if(u==null)u=!0;var X=this;if(X.qT.length!=0)return!0;if(X.z.length!=1){if(u)alert(X.z.length==0?"Select a layer first.":"More than one layer selected.");
return!1}return this.zL(u,g,K)};f0.prototype.zL=function(u,g,K){if(u==null)u=!0;if(g==null)g=!1;var X=this;
if(X.qT.length!=0)return!0;for(var P=0;P<X.z.length;P++){var w=X.g[X.z[P]],D=g||w.oF<=0;if(w.add.lsct!=null&&w.add.lsct!=g4.Zk&&w.oF!=1){if(u)alert(fc.get([15,7,2]));
return!1}if(D&&!w.UR()){if(u)alert(fc.get([15,7,2]));return!1}if(D&&w.add.TySh){return this.a5k(u,[15,7,3],K)}if(D&&w.add.SoLd){return this.a5k(u,[15,7,4],K)}if(w.Kf(1)||X.Yt(X.z[P])){if(u)alert(fc.get([6,57,0]));
return!1}}return!0};f0.prototype.a5k=function(u,g,K){if(u&&typeof u=="object"){var X=new eG(h.E.Y);X.data={d:h.s.KP,Pu:"confirm"};
X.data.h=fc.get(g)+". "+fc.get([6,8])+"?";var w=u;X.data.r5=function(){var D=new eG(h.E.qf,!0);D.data={$T:"rasterizeLayer",NA:{classID:"rasterizeLayer",null:bd.Af("Lyr",!0)}};
w.c(D)};u.c(X);return!1}if(u)alert(fc.get(g));return!1};f0.prototype.aiP=function(u){var g=this.root.WX(u);
if(g.parent)return g.j.AG()&&this.aiP(g.parent.index);else return g.j.AG()};f0.prototype.kE=function(){var u=this;
if(u.add.artd&&u.z.length!=0){var g=u.root.WX(u.z[0]);while(g.parent.parent)g=g.parent;if(g.j.add.artb)return g.index}return-1};
f0.prototype.ai3=function(){var u=this.g[this.z[0]];if(u.oF<=0&&!u.rect.Vg(this.q.rect)){alert("Selected area is empty.");
return!1}if(this.z.length==1&&this.q){var g=f.L(this.q.channel.length);f.DZ(u.buffer,u.rect,g,this.q.rect);
f.PD(this.q.channel,g);if(f.yh(g,0)){alert("Selected area is empty.");return!1}}return!0};f0.prototype.pm=function(){if(this.sD["r"+1037]==null)this.uy(30);
return k.vr(this.sD["r"+1037],0)};f0.prototype.uy=function(u){if(this.sD["r"+1037]==null)this.sD["r"+1037]=new Uint8Array(4);
if(k.vr(this.sD["r"+1037],0)==u)return;k.ud(this.sD["r"+1037],0,u);this.ai0()};f0.prototype.lb=function(){if(this.sD["r"+1049]==null)this.jg(30);
return k.vr(this.sD["r"+1049],0)};f0.prototype.jg=function(u){if(this.sD["r"+1049]==null)this.sD["r"+1049]=new Uint8Array(4);
if(k.vr(this.sD["r"+1049],0)==u)return;k.ud(this.sD["r"+1049],0,u);this.ai0()};f0.prototype.zQ=function(u){if(this.add.lnk2==null)return null;
for(var P=0;P<this.add.lnk2.length;P++)if(this.add.lnk2[P].z0==u)return this.add.lnk2[P];return null};
f0.prototype.axx=function(u){var g=this.zQ(u);if(g==null)return!1;var K=eH.jN(g.raw.buffer);if(K==null)return!1;
if(eH.IB(K)!=null||K=="psd")return!0;return!1};f0.prototype.lW=function(u,g,K,X,w,D){var q=this.zQ(u);
if(q==null)return null;q.KS(g,K,X,w,D);if(q.Z4)return q};f0.prototype.auc=function(){var u=this.m,g=this.n;
if(s.xA&&this.zH==null)this.zH=new s.bs(u,g,!0);if(this.buffer==null||this.buffer.length!=u*g*4||s.xA&&(this.zH.m!=u||this.zH.n!=g)){this.buffer=f.L(u*g*4);
if(this.zH)this.zH.delete();if(s.xA)this.zH=new s.bs(u,g,!0)}};f0.prototype.amk=function(){this.auc();
if(s.xA){this.zH.set(this.buffer)}};f0.prototype.Z9=function(u){var g=this.m,K=this.n,X=new dS(0,0,g,K),w=this.Wr?X:X.I3(this.k6);
this.auc();if(w.fg())return;if(!w.$z(X)){if(!s.xA){var D=f.Ph(w.$()*4);f.bV(D,w,this.buffer,X)}if(s.xA){s.c9(this.zH,w);
s.nW(0)}}else{if(s.xA){this.zH.set(null)}else{this.buffer.fill(0)}}var q=Date.now(),C=s.xA?this.zH:this.buffer;
if(u==null)u=1e9;var a=this.root.children;for(var P=0;P<a.length;P++){var x=a[P].j;if(x.AG()&&x.add.artb&&this.add.artd){var H=x.T0(),$=w.I3(H),r=x.o6();
if(r!=0){if(s.xA){s.c9(C,$);s.nW(r);s.nW(r)}else f.ab2(C,X,$,r)}}}this.root._M(C,X,w,this,[],u);this.Q4=this.k6.clone()};
f0.prototype.Wk=function(u){var g=new l;g.rect=new dS(0,0,0,0);g.buffer=f.L(1);g.add.luni=new j4(0,0);
if(u!=!0)g.add.lyid=this.yE();g.add.lsct=g4.Zk;g.add.lclr=0;g.add.fxrp=new j4(0,0);return g};f0.prototype.z1=function(u){var g=this.Wk(u);
g.Q9("</Layer group>");g.add.lsct=g4.wR;g.R3=24;return g};f0.prototype.oG=function(){return this.YQ!=this.BB};
f0.prototype.AV=function(u){while(this.history.length>this.YQ+1)this.history.pop();if(this.BB>this.YQ)this.BB=-1;
if(u.b.id!=R.d$){this.Jg=!0;if(this.Yf.lastAppliedComp){delete this.Yf.lastAppliedComp;this.vH=!0}}this.history.push(u);
this.YQ++;this.vH=!0;var g=cX.FS()?60:30,K=0;for(var P=this.history.length-1;P>=0;P--){var X=this.history[P];
if(X.Eg)continue;K++;if(K==g){this.YQ-=P;this.history=this.history.slice(P);break}}};f0.prototype.mM=function(){if(this.YQ!=this.history.length-1)return null;
return this.history[this.history.length-1]};f0.prototype.C6=function(u,g,K,X){if(u==null)u=!1;var w=g!=null?[g]:this.z.slice(0);
if(X){var D=[];for(var P=0;P<w.length;P++){var q=this.g[w[P]],C=q.lz;if(q.rJ&&C!=0&&D.indexOf(C)==-1)D.push(C)}if(D.length!=0)for(var P=0;
P<this.g.length;P++){var q=this.g[P],C=q.lz;if(q.rJ&&C!=0&&D.indexOf(C)!=-1&&w.indexOf(P)==-1)w.push(P)}}var a=[];
for(var P=0;P<w.length;P++){var x=this.d1(w[P],u);for(var H=0;H<x.length;H++)if(a.indexOf(x[H])==-1)a.push(x[H]);
if(K){var eJ=this.root.WX(w[P]);while(eJ.parent!=null&&eJ.parent.parent!=null){eJ=eJ.parent;if(a.indexOf(eJ.index)==-1){a.push(eJ.index,eJ.B5)}}}}return a};
f0.prototype.gp=function(u,g,K){var X=this,w=X.C6(!1,u,null,K);w.sort(function(e,S){return e-S});var D={};
for(var q=0;q<X.g.length;q++){var C=X.g[q].getName();D[C]=!0}var a=[];for(var P=0;P<w.length;P++){var x=X.g[w[P]].clone(),A,m;
x.add.lyid=X.yE();x.add.lspf=0;if(x.ov()){var H=x.nE(X),$=f0.amY(H);X.T8($);x.add.SoLd.placed.v=$.id}else if(x.add.SoLd){var r=x.add.SoLd.placed.v;
x.add.SoLd.placed.v=f0.AO(r.slice(0,8))+r.slice(8)}x.th(X);var c=x.getName(),U=c.length;while(48<=c.charCodeAt(U-1)&&c.charCodeAt(U-1)<=57)U--;
var O=parseInt(c.slice(U));if(isNaN(O)){if(c.endsWith(" copy")){O=1;A=c.slice(0,c.length-5)}else{O=0;
A=c}}else if(c.slice(0,U).endsWith(" copy ")){O=O;A=c.slice(0,U-6)}else{O=0;A=c}O++;while(!0){m=A+" copy"+(O==1?"":" "+O);
if(D[m]==null)break;O++}var i=w.indexOf(this.root.WX(w[P]).parent.index)!=-1;if(c=="Background"&&X.g.length==1)m="Layer 1";
if(g!=!0&&!i)x.Q9(m);D[m]=!0;a.push(x)}return a};f0.amY=function(u){return{id:f0.AO(u.id.slice(0,8))+u.id.slice(8),buffer:u.buffer.slice(0),rect:u.rect.clone(),B:u.B?u.B.clone():null}};
f0.adA=function(u){return{id:u,rect:new dS,buffer:f.L(1),B:new l.I2}};f0.ox=function(u,g){if(g==null)g={vmsk:new l.tU};
if(g.vogk==null){g.vogk=[];var K=f.J.nM(g.vmsk._);for(var X=0;X<K;X++)g.vogk.push(f.b1.Ph())}return{name:u,Mw:0,add:g}};
f0.prototype.f$=function(u){var g=[],K=[],X=this,D=0;for(var P=1;P<X.Ml.length;P++){var w=X.Ml[P];w.Mw=-1-P;
g.push(w);if(X.qe.indexOf(P)!=-1)K.push(g.length-1)}if(X.Ml[0].add.vmsk._.length>2){var w=X.Ml[0];w.Mw=-1;
g.push(w);if(X.qe.indexOf(0)!=-1)K.push(g.length-1)}var q=X.J9==null;if(q)X.J9=[];for(var P=X.z.length-1;
P>=0;P--){var C=X.g[X.z[P]],a=C.add.TySh;if(C.add.vmsk!=null&&(C.vC||C.HS())){var w=f0.ox("\""+C.getName()+"\" Shape Path",C.add);
w.Mw=X.z[P];g.push(w);if(q)X.J9.push(D);if(X.J9.indexOf(D)!=-1)K.push(g.length-1);D++}if(u!=!0&&a&&a.add&&f.zv.My(a.YU)){var w=f0.ox("\""+C.getName().slice(0,10)+"..\" Text Path",a.add);
w.Mw=1e6+X.z[P];g.push(w);K.push(g.length-1);D++}}if(K.length==0&&u){X.Ml[0].Mw=-1;X.qe=[0];K.push(g.length);
g.push(X.Ml[0])}return[g,K]};f0.prototype.d1=function(P,u){var g=[],eJ=this.root.WX(P);if(eJ)eJ.agw(g,u);
return g};f0.prototype.St=function(){this.root.Ja(this,new dS(0,0,this.m,this.n))};f0.prototype.$O=function(u){for(var P=0;
P<this.g.length;P++){var g=this.g[P];if(u.indexOf(g)==-1){g.gJ.a3p();g.O()}}var K=0;for(var P=0;P<u.length;
P++)if(u[P].add.artb)K++;this.DX(K);this.g=u.slice(0);this.Y0()};f0.prototype.Y0=function(){var u=this.g,g=u.length;
this.root=new fU;var K=this.Wk(!0);K.wS="pass";K.add.lsct=g4.DM;K.Q9("");var X=this.z1(!0),w=[X];for(var P=0;
P<g;P++)w.push(u[P]);w.push(K);this.root.avS(w,0,0);if(this.z.length==0)this.z=[g-1]};f0.prototype.dh=function(){if(this.z.length!=1)return;
var u=this.root.WX(this.z[0]);while(u.parent!=null){var g=u.parent.j;g.add.lsct=g4.DM;u=u.parent}this.cK=this.agF=!0};
f0.prototype.ajO=function(){this.Y0();var u=[this.root],jY=0;while(u.length!=0){var top=u.pop();jY++;
if(top.j.add.lsct==g4.DM)for(var P=0;P<top.children.length;P++)u.push(top.children[P])}if(jY>1e3){var g=this.root.children;
for(var P=0;P<g.length;P++)if(g[P].j.add.lsct==g4.DM)g[P].j.add.lsct=g4.Ab}};f0.Kq=function(u,g,K,X,w,D,q,C){if(C==null)C="sRGB IEC61966-2.1";
var a={__name:"Make",classID:"Mk",Nw:{t:"Objc",v:{classID:"Dcmn",Nm:{t:"TEXT",v:X},artboard:{t:"bool",v:D},Md:{t:"type",v:{classID:"RGBM"}},Wdth:{t:"UntF",v:{type:"#Rlt",val:u}},Hght:{t:"UntF",v:{type:"#Rlt",val:g}},Rslt:{t:"UntF",v:{type:"#Rsl",val:K}},pixelScaleFactor:{t:"doub",v:1},Fl:{t:"enum",v:{Fl:w}},Dpth:{t:"long",v:8},profile:{t:"TEXT",v:C}}}};
if(w=="Clr")a.Nw.v.FlCl={t:"Objc",v:q};return{$T:"make",NA:a}};f0.aja=function(u,g){var K=0,X=0,w=72,D=g.ago,q=u.preset&&u.preset.v=="Clipboard";
if(q){K=D.m;X=D.n}else{K=u.Wdth.v.val;X=u.Hght.v.val;w=u.Rslt.v.val}var C=new f0((u.Nm?u.Nm.v:fc.get([11,7]))+".psd");
C.m=K;C.n=X;C.wY=w;var a=u.Fl?u.Fl.v.Fl:"Wht";if(u.artboard&&u.artboard.v){var x=C.Wk();x.Q9(fc.get([1,16,0])+" 1");
x.add.lsct=g4.DM;x.ab(new dS(0,0,K,X));x.add.artb.artboardBackgroundType={t:"long",v:{Wht:1,Blck:2,Trns:3,BckC:1,Clr:4}[a]};
if(a=="Clr")x.add.artb.Clr={t:"Objc",v:f.X.Gp(f.X.Ld(u.FlCl.v))};x.wS="pass";x.R3=24;var H=C.Wk();H.Q9("Layer 1");
C.$O([C.z1(),H,x]);C.DX(1);C.z=[1]}else{var $=C.Wk(),r=0;$.Q9("Background");C.$O([$]);$.add.lspf=1<<2;
if(a=="Clr"){r=f.X.Ld(u.FlCl.v);r=255<<24|Math.round(r.U)<<16|Math.round(r.A)<<8|Math.round(r.w)}else{var c=g.ui;
c=(c&255)<<16|(c>>>8&255)<<8|c>>>16;r={Trns:0,Wht:4294967295,Blck:4278190080,BckC:255<<24|c}[a]}$.rect=new dS(0,0,K,X);
$.buffer=f.L(K*X*4);f.D4($.buffer,r)}C.buffer=f.L(K*X*4);var U=u.profile;if(U){var O={"Adobe RGB (1998)":"icc/adobe","ProPhoto RGB":"icc/prophoto","image P3":"icc/displayp3"}[U.v];
if(O)C.VA(eH.bW.get(O))}return C};function hY(u){this.UJ=u;this.P=0;this.rP=1;this.u=new j4(0,0);this.tS=new j4(0,0);
this.w0=0;this.PK=[1,1,1];this.l_=0;this.Aj=new dS(0,0,1,1);this.aak=new dS(0,0,u.m,u.n);this.T9=null;
this.TF=null;this.QS=new Uint32Array(0);this.qg=null;this.tH=null;this.Fl=f.L(0);this.Dm=null;this.XL=null}hY.prototype.bD=function(u){var g=new eV,K=this.Aj,X=this.UJ,w=u?this.rP:this.P,D=u?this.tS:this.u,q=Math.round((K.m-X.m*w)/2+D.x),C=Math.round((K.n-X.n*w)/2+D.y);
g.translate(-q,-C);g.scale(1/w,1/w);var a=X.m/2,x=X.n/2;g.translate(-a,-x);g.rotate(this.w0);g.translate(a,x);
return g};hY.prototype.a5D=function(u){var g=this.Aj,K=this.UJ,X=Math.atan2(-u.U,u._x),w=K.m/2,D=K.n/2;
u.translate(-w,-D);u.rotate(-X);u.translate(w,D);var q=1/u.CJ();u.scale(q,q);var C=-u.OR,a=-u.ic,x=Math.round(C-(g.m-K.m*q)/2),H=Math.round(a-(g.n-K.n*q)/2);
if(Math.abs(q-Math.round(q))<1e-6)q=Math.round(q);this.w0=X;this.P=q;this.u=new j4(x,H)};hY.prototype.wQ=function(u,g){var K=this.bD();
return K.HB(new j4(u,g))};hY.prototype.h5=function(u,g){var K=this.bD();K.CD();return K.HB(new j4(u,g))};
function k8(){}k8.order="ebbl FrFX IrSh IrGl ChFX SoFi GrFl patternFill OrGl DrSh".split(" ");k8.pg="ebblMulti frameFXMulti innerShadowMulti IrGlMulti ChFXMulti solidFillMulti gradientFillMulti patternFillMulti OrGlMulti dropShadowMulti".split(" ");
k8.names=[[14,4],[14,9],[14,1],[14,3],[14,8],[14,5],[14,6],[14,7],[14,2],[14,0]];k8.a2e=["DrSh","IrSh","SoFi","GrFl","FrFX"];
k8.rS=["Clr"];k8.DK="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");k8.lf=["Ptrn","Angl","Scl","Algn","phase"];
k8.v2={rf:"{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}}}",aqw:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Two Color\"               },\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"UsrS\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50},\"Clr\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"Clrt\",\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"},\"Type\":{\"v\":{\"Clry\":\"UsrS\"},\"t\":\"enum\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}]},\"Trns\":{\"v\":[{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":0,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Lctn\":{\"v\":4096,\"t\":\"long\"},\"Mdpn\":{\"v\":50,\"t\":\"long\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}}}",afw:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Foreground to Background\"},\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"CstS\"}},\"Intr\":{\"t\":\"doub\",\"v\":4096},\"Clrs\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"FrgC\"}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"Clrt\",\"Type\":{\"t\":\"enum\",\"v\":{\"Clry\":\"BckC\"}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]},\"Trns\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":0},\"Mdpn\":{\"t\":\"long\",\"v\":50}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"TrnS\",\"Opct\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Lctn\":{\"t\":\"long\",\"v\":4096},\"Mdpn\":{\"t\":\"long\",\"v\":50}}}]}}}",ahG:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Grdn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Custom\"                  },\"GrdF\":{\"t\":\"enum\",\"v\":{\"GrdF\":\"ClNs\"}},\"ShTr\":{\"t\":\"bool\",\"v\":false},\"VctC\":{\"t\":\"bool\",\"v\":false},\"ClrS\":{\"t\":\"enum\",\"v\":{\"ClrS\":\"RGBC\"}},\"RndS\":{\"t\":\"long\",\"v\":1466092501},\"Smth\":{\"t\":\"long\",\"v\":2048},\"Mnm\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0},{\"t\":\"long\",\"v\":0}]},\"Mxm\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100},{\"t\":\"long\",\"v\":100}]}}}",PY:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"v\":\"orangeslices\",\"t\":\"TEXT\"},\"Idnt\":{\"v\":\"c7acb22a-47a6-11de-919a-bf574370eaaf\",\"t\":\"TEXT\"}}}"};
k8.v2.rf="\"Clr\": "+k8.v2.rf;k8.v2.X="\"Grad\":"+k8.v2.aqw+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\":90},\"t\":\"UntF\"},\"Rvrs\":{\"v\":false,\"t\":\"bool\"},\"Type\":{\"v\":{\"GrdT\":\"Lnr\"},\"t\":\"enum\"},\"Ofst\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Vrtc\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"}},\"t\":\"Objc\"},\"Dthr\":{\"v\":false,\"t\":\"bool\"}";
k8.v2.PY="\"Ptrn\":"+k8.v2.PY+",\"Scl\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Algn\":{\"v\":true,\"t\":\"bool\"},\"Angl\":{\"v\":{\"type\":\"#Ang\",\"val\": 0},\"t\":\"UntF\"},\"phase\":{\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"}";
k8.default="{ \"classID\": \"null\", \"Scl\": {\"t\": \"UntF\", \"v\": { \"type\": \"#Prc\",\"val\": 100} }, \"masterFXSwitch\": {\"t\": \"bool\",\"v\": true} }";
k8.QO=["{\"classID\":\"ebbl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"hglM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Scrn\"}},\"hglC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":255},\"Grn\":{\"t\":\"doub\",\"v\":255},\"Bl\":{\"t\":\"doub\",\"v\":255}}},\"hglO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"sdwM\":{\"t\":\"enum\",\"v\":{\"BlnM\":\"Mltp\"}},\"sdwC\":{\"t\":\"Objc\",\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"t\":\"doub\",\"v\":0},\"Grn\":{\"t\":\"doub\",\"v\":0},\"Bl\":{\"t\":\"doub\",\"v\":0}}},\"sdwO\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":75}},\"bvlT\":{\"t\":\"enum\",\"v\":{\"bvlT\":\"SfBL\"}},\"bvlS\":{\"t\":\"enum\",\"v\":{\"BESl\":\"InrB\"}},\"uglg\":{\"t\":\"bool\",\"v\":true},\"lagl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":120}},\"Lald\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Ang\",\"val\":30}},\"srgR\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"blur\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":5}},\"bvlD\":{\"t\":\"enum\",\"v\":{\"BESs\":\"In\"}},\"TrnS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"antialiasGloss\":{\"t\":\"bool\",\"v\":false},\"Sftn\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Pxl\",\"val\":0}},\"useShape\":{\"t\":\"bool\",\"v\":false},\"MpgS\":{\"t\":\"Objc\",\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"Linear\"},\"Crv\":{\"t\":\"VlLs\",\"v\":[{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}},{\"t\":\"Objc\",\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"t\":\"doub\",\"v\":255},\"Vrtc\":{\"t\":\"doub\",\"v\":255}}}]}}},\"AntA\":{\"t\":\"bool\",\"v\":false},\"Inpr\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":28}},\"useTexture\":{\"t\":\"bool\",\"v\":false},\"InvT\":{\"t\":\"bool\",\"v\":false},\"Algn\":{\"t\":\"bool\",\"v\":true},\"Scl\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"textureDepth\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":100}},\"Ptrn\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"orangeslices\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"c7acb22a-47a6-11de-919a-bf574370eaaf\"}}},\"phase\":{\"t\":\"Objc\",\"v\":{\"classID\":\"Pnt\",\"Hrzn\":{\"t\":\"doub\",\"v\":0},\"Vrtc\":{\"t\":\"doub\",\"v\":0}}}}","{\"classID\":\"FrFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},\"Styl\":{\"v\":{\"FStl\":\"OutF\"},\"t\":\"enum\"},\"PntT\":{\"v\":{\"FrFl\":\"SClr\"},\"t\":\"enum\"},\"Sz\":{\"v\":{\"type\":\"#Pxl\",\"val\":3},\"t\":\"UntF\"},"+k8.v2.rf+","+k8.v2.X+","+k8.v2.PY+"}","{\"classID\":\"IrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"IrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"glwS\":{\"v\":{\"IGSr\":\"SrcE\"},\"t\":\"enum\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"ChFX\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 50},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"Invr\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":19},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":11},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":14},\"t\":\"UntF\"},\"MpgS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Gaussian\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":32,\"t\":\"doub\"},\"Vrtc\":{\"v\":7,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":64,\"t\":\"doub\"},\"Vrtc\":{\"v\":38,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":96,\"t\":\"doub\"},\"Vrtc\":{\"v\":101,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":128,\"t\":\"doub\"},\"Vrtc\":{\"v\":166,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":159,\"t\":\"doub\"},\"Vrtc\":{\"v\":209,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":191,\"t\":\"doub\"},\"Vrtc\":{\"v\":235,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":223,\"t\":\"doub\"},\"Vrtc\":{\"v\":248,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"}}","{\"classID\":\"SoFi\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+k8.v2.rf+"}","{\"classID\":\"GrFl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+k8.v2.X+"}","{\"classID\":\"patternFill\",\"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Nrml\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\":100},\"t\":\"UntF\"},"+k8.v2.PY+"}","{\"classID\":\"OrGl\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Scrn\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 75},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":255,\"t\":\"doub\"},\"Grn\":{\"v\":255,\"t\":\"doub\"},\"Bl\":{\"v\":189.99710083007812,\"t\":\"doub\"}},\"t\":\"Objc\"},\"GlwT\":{\"v\":{\"BETE\":\"SfBL\"},\"t\":\"enum\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":5},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"ShdN\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Linear\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"Inpr\":{\"v\":{\"type\":\"#Prc\",\"val\":50},\"t\":\"UntF\"}}","{\"classID\":\"DrSh\",       \"enab\":{\"v\":true,\"t\":\"bool\"},  \"Md\":{\"v\":{\"BlnM\":\"Mltp\"},\"t\":\"enum\"},\"Opct\":{\"v\":{\"type\":\"#Prc\",\"val\": 57},\"t\":\"UntF\"},\"Clr\":{\"v\":{\"classID\":\"RGBC\",\"Rd\":{\"v\":0,\"t\":\"doub\"},\"Grn\":{\"v\":0,\"t\":\"doub\"},\"Bl\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},\"uglg\":{\"v\":true,\"t\":\"bool\"},\"lagl\":{\"v\":{\"type\":\"#Ang\",\"val\":120},\"t\":\"UntF\"},\"Dstn\":{\"v\":{\"type\":\"#Pxl\",\"val\":27},\"t\":\"UntF\"},\"Ckmt\":{\"v\":{\"type\":\"#Pxl\",\"val\":0},\"t\":\"UntF\"},\"blur\":{\"v\":{\"type\":\"#Pxl\",\"val\":13},\"t\":\"UntF\"},\"Nose\":{\"v\":{\"type\":\"#Prc\",\"val\":0},\"t\":\"UntF\"},\"AntA\":{\"v\":false,\"t\":\"bool\"},\"TrnS\":{\"v\":{\"classID\":\"ShpC\",\"Nm\":{\"v\":\"Line\xE1rn\xED\",\"t\":\"TEXT\"},\"Crv\":{\"v\":[{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":0,\"t\":\"doub\"},\"Vrtc\":{\"v\":0,\"t\":\"doub\"}},\"t\":\"Objc\"},{\"v\":{\"classID\":\"CrPt\",\"Hrzn\":{\"v\":255,\"t\":\"doub\"},\"Vrtc\":{\"v\":255,\"t\":\"doub\"}},\"t\":\"Objc\"}],\"t\":\"VlLs\"}},\"t\":\"Objc\"},\"layerConceals\":{\"v\":true,\"t\":\"bool\"}}"];
k8.X={types:"Lnr Rdl Angl Rflc Dmnd shapeburst".split(" "),names:[[19,0,0],[19,0,1],[19,0,2],[19,0,3],[19,0,4],[19,0,5]]};
k8.stroke={types:["InsF","CtrF","OutF"],names:[[19,5,2],[19,5,1],[19,5,0]],oC:["SClr","GrFl","Ptrn"],aij:[[13,0],[12,37],[12,62]]};
k8.pe={types:["SfBL","PrBL"],names:[[19,1,0],[19,1,1]],abo:["SrcC","SrcE"],ads:[[19,5,1],[12,69]]};k8.bU={types:["OtrB","InrB","Embs","PlEb","strokeEmboss"],style:[[19,2,0],[19,2,1],[19,2,2],[19,2,3],[19,2,4]],ag2:["SfBL","PrBL","Slmt"],adU:[[19,3,0],[19,3,1],[19,3,2]],dir:[[19,4,0],[19,4,1]]};
k8.Sq={gg:["strokeStyleButtCap","strokeStyleRoundCap","strokeStyleSquareCap"],kM:["strokeStyleAlignInside","strokeStyleAlignCenter","strokeStyleAlignOutside"],join:["strokeStyleMiterJoin","strokeStyleRoundJoin","strokeStyleBevelJoin"],lv:["solidColorLayer","gradientLayer","patternLayer"],default:{classID:"strokeStyle",strokeStyleVersion:{t:"long",v:2},strokeEnabled:{t:"bool",v:!1},fillEnabled:{t:"bool",v:!0},strokeStyleLineWidth:{t:"UntF",v:{type:"#Pnt",val:1}},strokeStyleLineDashOffset:{t:"UntF",v:{type:"#Pnt",val:0}},strokeStyleMiterLimit:{t:"doub",v:100},strokeStyleLineCapType:{t:"enum",v:{strokeStyleLineCapType:"strokeStyleButtCap"}},strokeStyleLineJoinType:{t:"enum",v:{strokeStyleLineJoinType:"strokeStyleMiterJoin"}},strokeStyleLineAlignment:{t:"enum",v:{strokeStyleLineAlignment:"strokeStyleAlignCenter"}},strokeStyleScaleLock:{t:"bool",v:!1},strokeStyleStrokeAdjust:{t:"bool",v:!1},strokeStyleLineDashSet:{t:"VlLs",v:[]},strokeStyleBlendMode:{t:"enum",v:{BlnM:"Nrml"}},strokeStyleOpacity:{t:"UntF",v:{type:"#Prc",val:100}},strokeStyleContent:{t:"Objc",v:JSON.parse("{\"classID\":\"solidColorLayer\","+k8.v2.rf+"}")},strokeStyleResolution:{t:"doub",v:72}}};
k8.DL=[{classID:"null",Clr:JSON.parse(k8.QO[5]).Clr},{classID:"null",Grad:JSON.parse(k8.QO[6]).Grad,Dthr:{t:"bool",v:!1},Rvrs:{t:"bool",v:!1},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Type:{t:"enum",v:{GrdT:"Lnr"}},Algn:{t:"bool",v:!0},Scl:{t:"UntF",v:{type:"#Prc",val:100}},Ofst:{t:"Objc",v:{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:0}},Vrtc:{t:"UntF",v:{type:"#Prc",val:0}}}}},{classID:"null",Ptrn:JSON.parse(k8.QO[7]).Ptrn,Algn:{v:!0,t:"bool"},Scl:{v:{type:"#Prc",val:100},t:"UntF"},Angl:{v:{type:"#Ang",val:0},t:"UntF"},phase:{v:{classID:"Pnt",Hrzn:{v:0,t:"doub"},Vrtc:{v:0,t:"doub"}},t:"Objc"}}];
var bW={};bW.o9=function(u,g){function K(u,r){if(u==null)return null;var c=u[r].v,U;if(c.length!=0){U=c[0].v;
if(!U.enab.v)U=null}return U}var X=g.SoCo,w=g.GdFl,D=K(u,"solidFillMulti"),q=K(u,"gradientFillMulti");
if(D==null&&q==null)return[X,w];var C=bW.axz;if(X&&D&&q==null){var a=JSON.parse(JSON.stringify(X));a.Clr.v=C(D.Clr.v,X.Clr.v,D);
return[a,null]}if(w&&D&&q==null){var x=JSON.parse(JSON.stringify(w)),H=x.Grad.v.Clrs.v;for(var P=0;P<H.length;
P++){var $=H[P].v.Clr;$.v=C(D.Clr.v,$.v,D)}return[null,x]}if(X&&q){var x=JSON.parse(JSON.stringify(q)),H=x.Grad.v.Clrs.v;
for(var P=0;P<H.length;P++){var $=H[P].v.Clr;$.v=C($.v,X.Clr.v,q)}return[null,x]}return[D,q]};bW.a2T={qB:f.L(4),UB:f.L(4),w:new dS(0,0,1,1)};
bW.axz=function(u,g,K){var X=b0.x3(K.Md.v.BlnM),w=K.Opct.v.val/100,D=bW.a2T;u=f.X.Ld(u);g=f.X.Ld(g);
D.qB[0]=u.w;D.qB[1]=u.A;D.qB[2]=u.U;D.qB[3]=255;D.UB[0]=g.w;D.UB[1]=g.A;D.UB[2]=g.U;D.UB[3]=255;f.i.L_(X,D.qB,D.w,D.UB,D.w,D.w,w);
return{classID:"RGBC",Rd:{t:"doub",v:D.UB[0]},Grn:{t:"doub",v:D.UB[1]},Bl:{t:"doub",v:D.UB[2]}}};bW.awq=function(u,g,K){var X=u;
u=u.slice(0);var w=b0.t8[b0.nG.indexOf(g.Md.v.BlnM)],D=f.X.Ld(g.Clr.v),q=4278190080|Math.round(D.U)<<16|Math.round(D.A)<<8|Math.round(D.w),C=f.L(K.$()*4);
f.D4(C,q);f.i.L_(w,C,K,u,K,K,g.Opct.v.val/100);for(var P=0;P<u.length;P+=4)u[P+3]=X[P+3];return u};bW.pZ=function(u,g){var K=["Sz","blur","Sftn","Dstn"];
for(var P=0;P<k8.order.length;P++){var X=k8.order[P],w=u[k8.pg[P]].v;for(var D=0;D<w.length;D++){var q=w[D].v;
for(var C=0;C<K.length;C++){var a=q[K[C]];if(a){var x=a.v.val,H=x;H=Math.max(x==0?0:1,H*g);if(X=="ChFX")H=Math.min(H,250);
if(X=="ebbl"){if(K[C]=="blur")H=Math.min(H,250);if(K[C]=="Sftn")H=Math.min(H,16)}a.v.val=Math.round(H)}}if(X=="ebbl"||X=="patternFill"||X=="FrFX")if(q.Ptrn&&q.Scl)q.Scl.v.val=Math.max(1,Math.min(1e3,q.Scl.v.val*g))}}};
bW.arw=function(u,g,K){var X=new dS(-.5,-.5,1,1);for(var P=0;P<k8.order.length;P++){var w=k8.order[P],D=u[k8.pg[P]].v;
for(var q=0;q<D.length;q++){var C=D[q].v,$;if(!C.enab.v)continue;var a=C.blur?C.blur.v.val+1:0,x=C.Ckmt?C.Ckmt.v.val/100:0,H=Math.round(a*x);
if(w=="DrSh"||w=="IrSh"&&K){$=new dS(-.5,-.5,1,1);$.wu(a,a);bW.ki($,C,g,0)}if(w=="OrGl"||w=="IrGl"&&K){$=new dS(-.5,-.5,1,1);
$.wu(a,a)}if(w=="FrFX"){var r=bW.EU(C),c=r[1];if(K)c=Math.max(r[0],c);$=new dS(-.5,-.5,1,1);$.wu(Math.ceil(c),Math.ceil(c))}if(w=="ebbl"){var a=C.blur.v.val,U=C.bvlS.v.BESl;
if(U=="Embs"||U=="PlEb")a/=2;var O=["OtrB","InrB","Embs","PlEb","strokeEmboss"],A=["SfBL","PrBL","Slmt"],m=["In","Out"],i=C.bvlT.v.bvlT!="SfBL"?a:a*.43,e=Math.round(a);
$=new dS(-e-1,-e-1,2*e+2,2*e+2)}if(K&&w=="ChFX"){$=new dS(-.5,-.5,1,1);$.wu(a,a);var S=$.clone();bW.ki($,C,g,0);
bW.ki(S,C,g,Math.PI);$=$.RN(S)}if($)X=X.RN($)}}if(X.x!=Math.ceil(X.x)){X.x=Math.ceil(X.x);X.m-=1}if(X.y!=Math.ceil(X.y)){X.y=Math.ceil(X.y);
X.n-=1}X.m=Math.floor(X.m);X.n=Math.floor(X.n);return X};bW.EU=function(u){var g=0,K=0,X=u.Styl.v.FStl,w=u.Sz.v.val;
if(X=="OutF")K=w;if(X=="InsF")g=w;if(X=="CtrF")g=K=w/2;return[g,K]};bW.a3b=function(u){if(s.xA&&u.IL==null){u.IL=new s.bs(u._a.m,u._a.n);
u.IL.set(u.Fg);delete u.Fg;if(u.mR){u.Vl=new s.Gr(u._a.m,u._a.n);u.Vl.set(u.mR);delete u.mR}if(u.Le){u.z4=new s.Gr(u._a.m,u._a.n);
u.z4.set(u.Le);delete u.Le}}};bW.apN=function(u){if(u.IL)u.IL.delete();if(u.Vl)u.Vl.delete();if(u.z4)u.z4.delete()};
bW.awh=function(u){if(u.all==null)return;for(var P=0;P<u.all.length;P++){bW.apN(u.all[P])}};bW.a0J=function(u,g,K,X,w,D){var q=bW.b0(K,X,u,g,w,D);
for(var P=0;P<q.all.length;P++)bW.a3b(q.all[P]);return q};bW.awc=function(u){for(var P=0;P<k8.order.length;
P++){var g=k8.order[P],K=k8.pg[P],X=u[K].v;for(var w=0;w<X.length;w++){var D=X[w].v;if(D.enab.v&&["patternFill","GrFl","SoFi"].indexOf(g)==-1)return!0}}return!1};
bW.b0=function(u,g,K,X,w,D){if(D==null)D=X;var q=0,C=0;for(var P=0;P<k8.order.length;P++){var a=k8.order[P],x=k8.pg[P],H=u[x].v;
for(var $=0;$<H.length;$++){var r=H[$].v;if(a=="DrSh"&&r.enab.v&&r.Ckmt.v.val>0&&r.blur.v.val>0)q=Math.max(q,Math.ceil(r.Ckmt.v.val*r.blur.v.val/100));
if(a=="OrGl"&&r.enab.v&&r.Ckmt.v.val>0&&r.blur.v.val>0&&r.GlwT.v.BETE=="SfBL")q=Math.max(q,Math.ceil(r.Ckmt.v.val*r.blur.v.val/100));
if(a=="OrGl"&&r.enab.v&&r.blur.v.val>0&&r.GlwT.v.BETE=="PrBL")q=Math.max(q,r.blur.v.val);if(a=="FrFX"&&r.enab.v&&r.Sz.v.val>0){if(r.Styl.v.FStl=="OutF")q=Math.max(q,r.Sz.v.val);
if(r.Styl.v.FStl=="CtrF")q=Math.max(q,Math.ceil(r.Sz.v.val/2));C=Math.max(C,bW.EU(r)[1])}}}var c=new bW.FY(K,X,q,bW.awc(u)),U=-X.x,O=-X.y,A={type:{},all:[]};
for(var m=0;m<k8.order.length;m++){var a=k8.order[m],x=k8.pg[m];A.type[a]=[];for(var i=u[x].v.length-1;
i>=0;i--){var e=u[x].v[i].v,N;if(!e.enab.v)continue;var S=e.blur?e.blur.v.val:0,E=e.Ckmt?e.Ckmt.v.val/100:0,Z=S*E;
if(a=="DrSh"){var J=c.KB(Z,S-Z,!0),y=J.vP,o=J.mf;o.offset(U,O);bW.L5(y,e,!1);bW.ki(o,e,w,0);var B=f.L(o.$()*4);
bW.OH(B,e.Clr.v);f.K1(y,B,3);N={Fg:B,_a:o,awd:e.layerConceals.v}}else if(a=="IrSh"){var J=c.KB(Z,S-Z,!1);
bW.ki(J.mf,e,w,0);var o=c.rect().clone(),y=f.L(o.$());y.fill(255);f.x5(J.vP,J.mf,y,o);bW.L5(y,e,!0,!0);
var B=f.L(o.$()*4);bW.OH(B,e.Clr.v);f.K1(y,B,3);o.offset(U,O);N={Fg:B,_a:o}}else if(a=="GrFl"){var B=f.L(c.rect().$()*4);
bW.ql(e,B,c.rect(),w,null,D);var o=c.rect().clone();o.offset(U,O);N={Fg:B,_a:o}}else if(a=="SoFi"){var B=f.L(c.vP().length*4);
bW.OH(B,e.Clr.v);var o=c.rect().clone();o.offset(U,O);N={Fg:B,_a:o}}else if(a=="ebbl"){var t=!1;if(t)console.log(e);
var W=Date.now(),F=e.bvlS.v.BESl;if(F=="strokeEmboss"){var G=u.frameFXMulti.v;if(G.length==0)continue;
G=G[0].v;if(!G.enab.v)continue;var L=G.Styl.v.FStl;if(L=="OutF")F="OtrB";if(L=="CtrF")F="Embs";if(L=="InsF")F="InrB"}var S=e.blur.v.val;
if(S==0)S=.7;if(F=="Embs"||F=="PlEb")S/=2;var Q=["OtrB","InrB","Embs","PlEb","strokeEmboss"],T=["SfBL","PrBL","Slmt"],j=["In","Out"],p=e.bvlT.v.bvlT!="SfBL"?S:S*.45,M=Math.round(S),n=c.rect().clone(),d=n.clone();
d.wu(M,M);var V=d.m,z=d.n,I=V*z,v=f.L(I);f.x5(c.vP(),n,v,d);var gj=new Float64Array(I),jA=new Float64Array(I);
f.style.D1(v,gj,V,z);f.CD(v);f.style.D1(v,jA,V,z);if(t)console.log("distTransform computed",Date.now()-W);
for(var P=0;P<I;P++)jA[P]=jA[P]-gj[P];for(var P=0;P<I;P++){var Y=jA[P];if(Y<-p)jA[P]=-p;else if(Y>p)jA[P]=p}if(t)console.log("summing + cropping",Date.now()-W);
if(e.bvlT.v.bvlT=="SfBL"){var jv=Math.pow(S*.21,1.22);if(!0)jv=Math.max(jv,2);var iR=f.zg.mT(jv,2);f.zg.w9(jA,gj,d,iR[0]>>>1);
f.zg.w9(gj,jA,d,iR[1]>>>1)}if(t)console.log("blurring",Date.now()-W);var cj=jA,j8=cj.slice(0);if(e.useShape.v){var as=Math.min(100,e.Inpr.v.val+1)/100;
if(F!="OtrB"&&F!="InrB")as=1;var gW=f.f1.w5(e.MpgS.v.Crv.v,2e3),af=Math.round(2e3/as);gW=f.f1.a32(gW,af,F=="InrB");
var at=.5/p;for(var P=0;P<I;P++){var jd=cj[P],fM=.99999*(jd+p)*at;cj[P]=-p+2*p*gW[~~(fM*(af-1))]}if(t)console.log("applying shape",Date.now()-W)}if(e.useTexture.v){var hS=f.L(V*z*4);
bW.n5(e,hS,d,w.add.Patt,g);var dr=f.L(V*z);f.uT(hS,dr);var cB=f.L(V*z);f.zg.zR(dr,cB,d,1);dr=cB;var b1=S*e.textureDepth.v.val*(1/100)*(1/255);
if(e.InvT.v)b1=-b1;for(var P=0;P<I;P++)cj[P]+=-b1*dr[P];if(t)console.log("applying texture",Date.now()-W)}var ic=(e.bvlT.v.bvlT=="SfBL"?1:.5)*(e.bvlD.v.BESs=="In"?1:-1)*e.srgR.v.val/100;
for(var P=0;P<I;P++)cj[P]*=ic;if(t)console.log("scaling",Date.now()-W);var dV=e.uglg&&e.uglg.v?w.pm():e.lagl.v.val;
dV=dV*(Math.PI/180);var eS=e.uglg&&e.uglg.v?w.lb():e.Lald.v.val;eS=eS*(Math.PI/180);var a2=Math.cos(dV)*Math.cos(eS),d3=-Math.sin(dV)*Math.cos(eS),cE=Math.sin(eS),eP=new Float64Array(I),jm=new Float64Array(I),bD=F=="PlEb";
for(var f1=0;f1<z;f1++)for(var ft=0;ft<V;ft++){var P=f1*V+ft,ie=0,b2=0,dh=1;if(f1!=0&&f1!=z-1&&ft!=0&&ft!=V-1){var aY=cj[P-V-1],eF=cj[P-V+1],de=cj[P+V-1],i5=cj[P+V+1];
ie=-.125*(eF+2*cj[P+1]+i5-(aY+2*cj[P-1]+de));b2=-.125*(de+2*cj[P+V]+i5-(aY+2*cj[P-V]+eF))}else{var eA=cj[P];
b2=-(f1==0?cj[P+V]-eA:f1==z-1?eA-cj[P-V]:.5*(cj[P+V]-cj[P-V]));ie=-(ft==0?cj[P+1]-eA:ft==V-1?eA-cj[P-1]:.5*(cj[P+1]-cj[P-1]))}var c4=1/Math.sqrt(ie*ie+b2*b2+1);
ie*=c4;b2*=c4;dh*=c4;var jC=ie*a2+b2*d3+dh*cE,hd=jC;if(bD)hd=-ie*a2-b2*d3+dh*cE;if(jC>0)eP[P]=jC;if(hd>0)jm[P]=hd}if(t)console.log("raycasting",Date.now()-W);
if(e.Sftn.v.val!=0){f.zg.JE(eP,gj,d,e.Sftn.v.val*.43);var iG=gj,gj=eP,eP=iG;if(bD){f.zg.JE(jm,gj,d,e.Sftn.v.val*.43);
var iG=gj,gj=jm,jm=iG}else f.me(eP,jm)}if(t)console.log("softening",Date.now()-W);var gW=f.f1.w5(e.TrnS.v.Crv.v,1024);
for(var P=0;P<I;P++){eP[P]=gW[~~(eP[P]*1024)];jm[P]=gW[~~(jm[P]*1024)]}if(t)console.log("contour remap",Date.now()-W);
V=Math.round(V);z=Math.round(z);var cC=f.L(V*z*4);bW.OH(cC,e.hglC.v);var cL=f.L(V*z*4);bW.OH(cL,e.sdwC.v);
var dw=f.L(V*z*4);bW.OH(dw,e.hglC.v);var eY=f.L(V*z*4);bW.OH(eY,e.sdwC.v);var cf=1/cE,d7=1/(1-cE),at=1/p,hs=new Float64Array(1e3);
for(var P=0;P<1e3;P++)hs[P]=Math.pow(P*.001,.2);for(var f1=0;f1<z;f1++)for(var ft=0;ft<V;ft++){var P=f1*V+ft,hz=4*P+3,bx=0,dO=0;
bx=eP[P];dO=jm[P];var hN=Math.max(0,Math.min(.9999,(j8[P]+p*.993)*at));hN=hs[Math.floor(hN*1e3)];var jn=hN*(1-Math.min(1,bx*cf)),iP=hN*(1-Math.min(1,(1-bx)*d7)),io=hN*(1-Math.min(1,dO*cf)),jD=hN*(1-Math.min(1,(1-dO)*d7));
cL[hz]=Math.round(255*jn);cC[hz]=Math.round(255*iP);eY[hz]=Math.round(255*io);dw[hz]=Math.round(255*jD)}if(t)console.log("baking textures",Date.now()-W);
d=c.rect().clone();d.wu(M,M);d.offset(U,O);N={awN:e.bvlS.v.BESl=="strokeEmboss"};var dg=b0.x3(e.hglM.v.BlnM),j1=e.hglO.v.val/100,iO=b0.x3(e.sdwM.v.BlnM),ck=e.sdwO.v.val/100;
if(["InrB","Embs","PlEb"].indexOf(F)!=-1){N.FG={Fg:cC,_a:d,$X:dg,fc:j1};N.Ej={Fg:cL,_a:d,$X:iO,fc:ck}}if(["OtrB","Embs","PlEb"].indexOf(F)!=-1){N.Bd={Fg:dw,_a:d,$X:dg,fc:j1};
N.hr={Fg:eY,_a:d,$X:iO,fc:ck}}if(t)console.log(Date.now()-W)}else if(a=="patternFill"){var cZ=c.rect(),B=f.L(cZ.$()*4);
bW.n5(e,B,cZ,w.add.Patt,g);var o=cZ.clone();o.offset(U,O);N={Fg:B,_a:o}}else if(a=="ChFX"){var B=f.L(c.vP().length*4);
bW.OH(B,e.Clr.v);var S=e.blur.v.val,bY=c.rect().clone();bY.wu(S,S);var ke=f.L(bY.$()),bQ=f.L(bY.$());
f.x5(c.vP(),c.rect(),bQ,bY);f.zg.td(bQ,ke,bY,S*.43);var jh=f.f1.va(e.MpgS.v.Crv.v,256,!0);f.ao(ke,jh);
var hk=f.L(c.vP().length),c8=f.L(c.vP().length),bM=c.rect().clone();bW.ki(bM,e,w,0);f.x5(ke,bY,hk,bM);
bM=c.rect().clone();bW.ki(bM,e,w,Math.PI);f.x5(ke,bY,c8,bM);var dE=hk.length;for(var P=0;P<dE;P++)B[4*P+3]=Math.abs(hk[P]-c8[P]);
if(e.Invr.v)for(var P=0;P<dE;P++)B[4*P+3]=255-B[4*P+3];var o=c.rect().clone();o.offset(U,O);N={Fg:B,_a:o}}else if(a=="OrGl"){var J;
if(e.GlwT.v.BETE=="SfBL")J=c.KB(Z,S-Z,!0);else J=c.ajZ(S,E,!0);var y=J.vP,o=J.mf,h3=y.slice(0);bW.ajy(y,e);
var B=f.L(o.$()*4);if(e.Grad==null){bW.OH(B,e.Clr.v);bW.L5(y,e,!1)}else{bW.L5(y,e,null);var eL={y1:y,kv:255,qj:0,vJ:o};
bW.ql(e,B,o,w,eL);var hX=e.Nose.v.val/100,hm=o.m;for(var P=0;P<h3.length;P++){var c7=255,jS=h3[P];if(jS<32){var fW=(jS+h3[P-1]+h3[P+1]+h3[P-hm]+h3[P+hm])*.2-1;
c7=Math.min(255,Math.round(Math.max(0,fW)*8))}y[P]=c7}bW.ax9(y,e)}f.K1(y,B,3);o.offset(U,O);N={Fg:B,_a:o}}else if(a=="IrGl"){var J;
if(e.GlwT.v.BETE=="SfBL")J=c.KB(Z,S-Z,!1);else J=c.ajZ(S,E,!1);var y=J.vP,o=J.mf;bW.ajy(y,e);if(e.glwS.v.IGSr=="SrcC")f.CD(y);
var B=f.L(o.$()*4);if(e.Grad==null){bW.OH(B,e.Clr.v);bW.L5(y,e,!0)}else{bW.L5(y,e,null);var eL={y1:y,kv:255,qj:0,vJ:o};
bW.ql(e,B,o,w,eL);y.fill(255);bW.ax9(y,e)}f.K1(y,B,3);o.offset(U,O);N={Fg:B,_a:o}}else if(a=="FrFX"){var aR=bW.EU(e),jV=aR[0],gx=aR[1],o=c.rect().clone(),h5=null,iV=null;
o.wu(Math.ceil(C),Math.ceil(C));if(gx>0){var J=c.KB(gx,0,!0);iV=J.vP;if(iV.length<o.$()){iV=f.L(o.$());
f.x5(J.vP,J.mf,iV,o)}}if(jV>0){var J=c.KB(jV,0,!1);h5=f.L(o.$());h5.fill(255);f.x5(J.vP,J.mf,h5,o)}o.offset(U,O);
var B=f.L(o.$()*4),cd=e.PntT.v.FrFl;if(cd=="SClr")bW.OH(B,e.Clr.v);if(cd=="GrFl")bW.ql(e,B,o,w,c.a2O(jV,gx));
if(cd=="Ptrn")bW.n5(e,B,o,w.add.Patt,g);N={Fg:B,_a:o,Le:iV,mR:h5}}A.type[a].push(N);if(a=="ebbl"){if(N.FG)A.all.push(N.FG,N.Ej);
if(N.Bd)A.all.push(N.Bd,N.hr)}else{N.$X=b0.x3(e.Md.v.BlnM);N.fc=e.Opct.v.val/100,A.all.push(N)}}}return A};
bW.JT=function(u){var g=1/Math.sqrt(u.x*u.x+u.y*u.y+u.pt*u.pt);u.x*=g;u.y*=g;u.pt*=g};bW.ask=function(u,g){return{x:u.y*g.pt-u.pt*g.y,y:u.pt*g.x-u.x*g.pt,pt:u.x*g.y-u.y*g.x}};
bW.afP=function(u,g){return u.x*g.x+u.y*g.y+u.pt*g.pt};bW.ax9=function(u,g){var K=g.Nose.v.val/100;if(K>0)for(var P=0;
P<u.length;P++){var X=u[P];X=Math.min(510-(1+K)*f.style.wq(P),X);u[P]=X}};bW.sb=function(u){var g=bW.Gv(),K=u.Cc,X=!1;
for(var P=0;P<32;P+=8)if(K[P]+K[P+1]+K[P+4]+K[P+5]!=0||K[P+2]+K[P+3]+K[P+6]+K[P+7]!=1020)X=!0;if(X){K=K.slice(0);
for(var P=0;P<40;P+=4){var w=K[P]/255,D=K[P+1]/255,q=K[P+2]/255,C=K[P+3]/255;K[P]=w-.001;K[P+1]=w==D?1e6:1/(D-w);
K[P+2]=q==C?-1e6:1/(q-C);K[P+3]=C+.001}}var a=u.add.iOpa!=null?u.add.iOpa/255:g.fill,x=u.add.vstk;if(x&&!x.fillEnabled.v&&(!x.strokeEnabled.v||x.strokeStyleLineWidth.v.val==0))a=0;
return{fill:a,bx:X?K:null,qd:u.add.brst!=null?u.add.brst:g.qd,a0c:u.add.knko!=null?u.add.knko:g.a0c,style:!1,Ak:!1}};
bW.Gv=function(){return{fill:1,bx:null,qd:[1,1,1],a0c:0,style:!1,Ak:!1}};bW.aw$=function(u,g,K,X,w,D,q,C){if(C==null)C=1;
if(q==null)q=new eV;var a=u.e4[1].m,x=u.e4[1].n,H=new eV,$=w<2;if($)H.translate(-a/2,-x/2);if(w==0){C*=Math.max(K/a,X/x)}else if(w==1){C*=Math.min(K/a,X/x)}else if(w==2){H.scale(1/a,1/x);
H.concat(q);H.scale(K,X)}else if(w==3){C=C}H.scale(C,C);if($)H.translate(K/2,X/2);H.concat(D);g.Ptrn.v.Idnt.v=u.id;
g.Scl.v.val=Math.round(100*H.CJ());g.Angl.v.val=Math.round(180*Math.atan2(-H.U,H._x)/Math.PI);g.Algn.v=!0;
var r=g.phase.v;r.Hrzn.v=Math.round(H.OR);r.Vrtc.v=Math.round(H.ic)};bW.ME=function(u,g){if(g==null)return null;
var K=u.Idnt.v,X=u.Nm.v;for(var P=0;P<g.length;P++)if(g[P].id==K)return g[P];for(var P=0;P<g.length;
P++)if(g[P].name==X)return g[P];return null};bW.an5=function(u,g,K){var X=["patternFillMulti","ebblMulti","frameFXMulti"];
for(var P=0;P<X.length;P++){var w=u.v[X[P]].v;for(var D=0;D<w.length;D++)if(w[D].v.Ptrn)g.q_(bW.ME(w[D].v.Ptrn.v,K))}};
bW.a7i=function(u,g,K){var X=["patternFillMulti","ebblMulti","frameFXMulti"];for(var P=0;P<X.length;
P++){var w=u.v[X[P]].v;for(var D=0;D<w.length;D++)if(w[D].v.Ptrn){var q=w[D].v.Ptrn.v,C=bW.ME(q,K),a=bW.ME(q,g.add.Patt);
if(C==null&&a)K.push(a)}}};bW.n5=function(u,g,K,X,w){var D=bW.ME(u.Ptrn.v,X);if(D!=null&&!K.fg()){var q=D.e4,C=q[0],a=q[1],x=0;
f.mm(q);var H=(u.Scl?u.Scl.v.val:100)/100;while((H<.3||H==.5)&&q[x+2]){H*=a.m/q[x+3].m;x+=2;C=q[x];a=q[x+1]}var $=f.scale.n5(C,a.m,a.n),r=u.phase?u.phase.v:{Hrzn:{v:0},Vrtc:{v:0}},c=u.Angl?u.Angl.v.val:0,U=-K.x+r.Hrzn.v-1,O=-K.y+r.Vrtc.v-1;
if(u.Algn!=null&&!u.Algn.v){}else{U+=w.x;O+=w.y}f.scale.AR($,g,K.m,K.n,H,H,U+1,O+1,c*Math.PI/180)}};
bW.ql=function(u,g,K,X,w,D){if(D==null)D=K;var q=u.Type?u.Type.v.GrdT:"shapeburst",C=u.Algn&&u.Algn.v?D:new dS(0,0,X.m,X.n),a=u.Angl?f.X.pE(u,C):[new j4(0,0),new j4(100,0)],x=a[0].x,H=a[0].y,$=a[1].x-x,r=a[1].y-H,c=Math.sqrt($*$+r*r);
c=1/(2*c*c);var U=[$*c,r*c,-r*c,$*c],O=u.Rvrs?u.Rvrs.v:!1,A=u.Dthr?u.Dthr.v:!1;f.X.oi(u.Grad.v,g,K,U,x,H,O,k8.X.types.indexOf(q),0,0,w,A)};
bW.aeo=function(u,g,K){for(var P=0;P<u.all.length;P++){var X=u.all[P];X.C3=X._a.clone();X.C3.offset(g,K)}};
bW.atu=function(u,g,K,X,w,D){var q=s.xA?bW.a8N:bW.a55;bW.aeo(g,K.x,K.y);var C=g.type.DrSh;for(var P=0;
P<C.length;P++)if(!C[P].awd)q(C[P],X,w,D)};bW.auA=function(u,g,K,X,w,D,q,C,a,x){var H=K,$=s.xA?bW.a8N:bW.a55,r=s.xA?s.i.G5:f.i.$c,c;
c=g.type.DrSh;for(var P=0;P<c.length;P++)if(c[P].awd)$(c[P],X,w,D);c=g.type.OrGl;for(var P=0;P<c.length;
P++)$(c[P],X,w,D);var U="patternFill GrFl SoFi ChFX IrGl IrSh".split(" ");for(var O=0;O<U.length;O++){var c=g.type[U[O]];
for(var P=0;P<c.length;P++)$(c[P],q,H,D)}var A=g.type.ebbl[0],m=A!=null&&A.awN;c=g.type.FrFX;for(var P=0;
P<c.length;P++){var i=c[P];fU.Pw.x5(C,x,a,x,D);$(i,a,x,D);if(m&&P==c.length-1){if(A.hr)$(A.hr,a,x,D);
if(A.Bd)$(A.Bd,a,x,D);if(A.Ej)$(A.Ej,a,x,D);if(A.FG)$(A.FG,a,x,D)}if(i.mR||i.Vl)r(a,x,q,H,s.xA?i.Vl:i.mR,i.C3,0,D,1);
if(i.Le||i.z4)r(a,x,X,w,s.xA?i.z4:i.Le,i.C3,0,D,1)}if(!m&&A!=null){if(A.hr)$(A.hr,X,w,D);if(A.Bd)$(A.Bd,X,w,D);
if(A.Ej)$(A.Ej,q,H,D);if(A.FG)$(A.FG,q,H,D)}};bW.a55=function(u,g,K,X){var w=bW.Gv();w.fill=u.fc;w.style=!0;
f.i.L_(u.$X,u.Fg,u.C3,g,K,X,1,w)};bW.a8N=function(u,g,K,X){var w=bW.Gv();w.fill=u.fc;w.style=!0;s.i.ga(u.$X,u.IL,u.C3,g,K,X,1,w)};
bW.ajy=function(u,g){var K=1-g.Inpr.v.val/100,X=1+Math.tan(K*(Math.PI/2)),w=u.length;for(var P=0;P<w;
P++)u[P]=Math.min(255,Math.round(u[P]*X))};bW.L5=function(u,g,K,X){var w=g.blur.v.val,D=Math.round(w*(g.Ckmt.v.val/100));
if(w>D){var q=f.f1.va(g.TrnS.v.Crv.v,256,X!=!0);f.ao(u,q)}if(K!=null&&g.Nose.v.val>0)f.style.cl(u,g.Nose.v.val/100,K)};
bW.OH=function(u,g,K){if(K==null)K=255;var X=f.X.Ld(g),w=K<<24|X.U<<16|X.A<<8|X.w,D=new Uint32Array(u.buffer);
D.fill(w)};bW.ki=function(u,g,K,X){var w=g.uglg&&g.uglg.v?K.pm():g.lagl.v.val;w=w*Math.PI/180+X;var D=Math.cos(w)*g.Dstn.v.val,q=Math.sin(w)*g.Dstn.v.val;
u.x-=Math.round(D);u.y+=Math.round(q)};bW.fq=function(u){if(u==null)return null;var g=u.frameFXMulti.v;
if(g.length==0)return null;g=g[0].v;var K=JSON.parse(JSON.stringify(k8.Sq.default));bW.arV(g,K);return K};
bW.arV=function(u,g){var K=k8.stroke.oC.indexOf(u.PntT.v.FrFl),X=[k8.rS,k8.DK,k8.lf][K],w=g.strokeStyleContent.v={classID:k8.Sq.lv[K]};
for(var P=0;P<X.length;P++)w[X[P]]=u[X[P]];g.strokeEnabled=u.enab;g.strokeStyleLineWidth=u.Sz;g.strokeStyleLineAlignment.v.strokeStyleLineAlignment=k8.Sq.kM[k8.stroke.types.indexOf(u.Styl.v.FStl)];
g.strokeStyleOpacity=u.Opct;g.strokeStyleBlendMode=u.Md;g.strokeStyleLineJoinType.v.strokeStyleLineJoinType="strokeStyleRoundJoin"};
bW.jZ=function(u,g){var K=[];for(var P=0;P<u.length;P++)K.push({t:"UntF",v:{type:"#Nne",val:Math.round(u[P]*g)}});
return K};bW.FY=function(u,g,K,X){this.OI=g.clone();this.al0=g.clone();this.al0.wu(K,K);if(X){this.OI.wu(1,1);
this.$x=f.L(this.OI.$());f.x5(u,g,this.$x,this.OI)}else this.$x=u;this.Hn=null;this.ZY=null;this.Ox=null};
bW.FY.prototype.vP=function(){return this.$x};bW.FY.prototype.rect=function(){return this.OI};bW.FY.prototype.Kd=function(){return this.al0};
bW.FY.prototype.gS=function(){if(this.Hn)return this.Hn;this.Hn=this.vP().slice(0);f.CD(this.Hn);return this.Hn};
bW.FY.prototype.a8=function(){if(this.ZY)return this.ZY;this.ZY=new Float64Array(this.rect().$());f.style.D1(this.gS(),this.ZY,this.rect().m,this.rect().n);
return this.ZY};bW.FY.prototype.wP=function(){if(this.Ox)return this.Ox;var u=this.Kd(),g=f.L(u.$());
f.x5(this.vP(),this.rect(),g,u);this.Ox=new Float64Array(u.$());f.style.D1(g,this.Ox,u.m,u.n);return this.Ox};
bW.FY.prototype.a2O=function(u,g){var K={kv:-g,qj:u,vJ:null,y1:null};if(g==0){K.vJ=this.rect();K.y1=this.a8();
return K}var X=this.wP().slice(0),w=this.Kd();K.vJ=w;K.y1=X;for(var P=0;P<X.length;P++)X[P]=-X[P];if(u==0)return K;
var D=this.a8(),q=this.rect();for(var C=0;C<q.n;C++)for(var a=0;a<q.m;a++){var x=C*q.m+a,H=(C+q.y-w.y)*w.m+a+q.x-w.x;
X[H]+=D[x]}return K};bW.FY.prototype.KB=function(u,g,K){var X=Math.ceil(u+g),w={mf:this.rect().clone(),vP:null};
w.mf.wu(X,X);w.vP=f.L(w.mf.$());if(u==0&&g==0)f.me(K?this.vP():this.gS(),w.vP);else{var D=f.L(w.mf.$());
f.x5(this.vP(),this.rect(),D,w.mf);if(!K)f.CD(D);if(u!=0){if(K)f.style.nQ(D,w.mf,this.wP(),this.Kd(),u);
else f.style.nQ(D,w.mf,this.a8(),this.rect(),u)}if(g!=0)f.zg.td(D,w.vP,w.mf,Math.max(1,g*.43));else w.vP=D}return w};
bW.FY.prototype.ajZ=function(u,g,K){var X=u*(g-.5),w={mf:this.rect().clone(),vP:null};if(K)w.mf.wu(u,u);
w.vP=f.L(w.mf.$());var D=w.mf.m,q=w.mf.n,C=K?this.wP():this.a8(),a=K?this.Kd():this.rect(),x=w.mf,H=x.I3(a),D=H.m,q=H.n,$=H.x-x.x,r=H.y-x.y,c=H.x-a.x,U=H.y-a.y,O=1-g*2;
for(var A=0;A<q;A++)for(var m=0;m<D;m++){var i=C[(A+U)*a.m+m+c],e=i/u;w.vP[(A+r)*x.m+m+$]=Math.max(0,Math.min(255,255-255*((e+O)/(1+O))))}return w};
bW.auX=function(u,g,K,X){var w=u.Lefx,D=u.blendOptions;if(w){var q=g.add.lmfx;if(K==null)K=q?q.Scl.v.val:100;
g.add.lmfx=JSON.parse(JSON.stringify(w.v));if(g.add.lmfx.Scl==null)g.add.lmfx.Scl={t:"UntF",v:{type:"#Prc",val:100}};
bW.pZ(g.add.lmfx,K/g.add.lmfx.Scl.v.val);if(q)g.add.lmfx.Scl.v.val=q.Scl.v.val;var C=w.v.gagl;if(C&&X)X.uy(C.v.val)}else delete g.add.lmfx;
if(D){D=D.v;if(D.Md)g.wS=b0.x3(D.Md.v.BlnM);if(D.Opct)g.opacity=Math.round(D.Opct.v.val*255/100);if(D.fillOpacity)g.add.iOpa=Math.round(D.fillOpacity.v.val*255/100);
if(D.Blnd){var a=[];for(var P=0;P<10;P++)a.push(0,0,255,255);var x=D.Blnd.v,H="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" ");
for(var P=0;P<x.length;P++){var $=x[P].v,r=8*["Gry","Rd","Grn","Bl"].indexOf($.Chnl.v[0].v.enum);for(var c=0;
c<8;c++){a[r+c]=$[H[c]].v}}g.Cc=a}}};bW.afp=function(u){var g="SrcB Srcl SrcW Srcm DstB Dstl DstW Dstt".split(" "),K=[],X=u.Cc;
for(var P=0;P<4;P++){var w=P*8;if(X[w]+X[w+1]+X[w+4]+X[w+5]==0&&X[w+2]+X[w+3]+X[w+6]+X[w+7]==4*255)continue;
var D={t:"Objc",v:{classID:"Blnd",Chnl:{t:"obj ",v:[{t:"Enmr",v:{classID:"Chnl",typeID:"Chnl",enum:["Gry","Rd","Grn","Bl"][P]}}]}}};
K.push(D);for(var q=0;q<8;q++)D.v[g[q]]={t:"long",v:X[P*8+q]}}var C={classID:"blendOptions"};if(u.wS!="norm")C.Md={t:"enum",v:{BlnM:b0.HF(u.wS)}};
if(u.opacity!=255)C.Opct={t:"UntF",v:{type:"#Prc",val:Math.round(u.opacity*100/255)}};if(u.add.iOpa!=null)C.fillOpacity={t:"UntF",v:{type:"#Prc",val:Math.round(u.add.iOpa*100/255)}};
if(K.length!=0)C.Blnd={t:"VlLs",v:K};var a={JJ:{classID:"null",Idnt:{t:"TEXT",v:f0.AO()+"-bd9f-11d5-b8ba-b73f8571793d"},Nm:{t:"TEXT",v:"Custom Style"}},lF:{classID:"Styl",blendOptions:{t:"Objc",v:C}}},x=u.add.lmfx;
if(x)a.lF.Lefx={t:"Objc",v:x};return a};function cO(){}cO.fY=function(u){return JSON.parse(JSON.stringify(u))};
cO.Nt=function(u){var g=cO.fY(cO.adV),K=g.Brsh.v;if(u!=null){delete K.Hrdn;K.classID="sampledBrush";
K.Nm={t:"TEXT",v:"layer.png"},K.sampledData={t:"TEXT",v:u}}return g};cO.adV={classID:"brushPreset",Nm:{t:"TEXT",v:"Custom Brush"},Brsh:{t:"Objc",v:{classID:"computedBrush",Dmtr:{t:"UntF",v:{type:"#Pxl",val:15}},Hrdn:{t:"UntF",v:{type:"#Prc",val:100}},Angl:{t:"UntF",v:{type:"#Ang",val:0}},Rndn:{t:"UntF",v:{type:"#Prc",val:100}},Spcn:{t:"UntF",v:{type:"#Prc",val:25}},Intr:{t:"bool",v:!0},flipX:{t:"bool",v:!1},flipY:{t:"bool",v:!1}}},useTipDynamics:{t:"bool",v:!1},useScatter:{t:"bool",v:!1},dualBrush:{t:"Objc",v:{classID:"dualBrush",useDualBrush:{t:"bool",v:!1}}},brushGroup:{t:"Objc",v:{classID:"brushGroup",useBrushGroup:{t:"bool",v:!1}}},useTexture:{t:"bool",v:!1},usePaintDynamics:{t:"bool",v:!1},useColorDynamics:{t:"bool",v:!1},Wtdg:{t:"bool",v:!1},Nose:{t:"bool",v:!1},Rpt:{t:"bool",v:!1}};
cO.JT={};cO.JT.check=function(u){var g=cO.JT.Rc;for(var P=0;P<g.length;P++)if(u[g[P]]==null)u[g[P]]=JSON.parse(cO.JT.dn[g[P]]);
var K=[];for(var P=0;P<g.length;P++)K.push(g[P]);var X=cO.JT.a5Y;for(var P=0;P<X.length;P++){var w=X[P][0],D=X[P][1],q=!0;
for(var C=0;C<w.length;C++)q=q&&u[w[C]].v==!0;if(q)for(var C=0;C<D.length;C++){if(u[D[C]]==null)console.log("Missing conditional parameter "+D[C]);
else K.push(D[C])}}for(var a in u)if(K.indexOf(a)==-1)console.log("Extra parameter "+a);u=u.Brsh.v;g=cO.JT.WM.Rc;
for(var P=0;P<g.length;P++)if(u[g[P]]==null)u[g[P]]=JSON.parse(cO.JT.WM.dn[g[P]]);K=[];for(var P=0;P<g.length;
P++)if(u[g[P]])K.push(g[P]);else console.log("Missing default parameter "+g[P]);X=cO.JT.WM.a5A[u.classID];
for(var P=0;P<X.length;P++)if(u[X[P]]==null&&X[P]!="dtipsGridSize"&&X[P]!="dtipsErodibleTipHeightMap"&&u.a3Q!=1)console.log("Missing conditional parameter "+X[P]);
else K.push(X[P]);for(var a in u)if(K.indexOf(a)==-1)console.log("Extra parameter "+a)};cO.JT.ae8=function(u){var g=cO.JT.a5Y;
for(var P=0;P<g.length;P++){var K=g[P][0],X=g[P][1],w=!0;for(var D=0;D<K.length;D++)w=w&&u[K[D]]&&u[K[D]].v==!0;
if(w){for(var D=0;D<X.length;D++)if(u[X[D]]==null){u[X[D]]=JSON.parse(cO.JT.dn[X[D]])}}else for(var D=0;
D<X.length;D++)if(u[X[D]]!=null){delete u[X[D]]}}};cO.JT.WM={};cO.JT.WM.Rc="classID Dmtr Angl Spcn Intr flipX flipY".split(" ");
cO.JT.WM.dn={flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}"};cO.JT.WM.a5A={computedBrush:["Hrdn","Rndn"],sampledBrush:["Nm","Rndn","sampledData"],dBrush:"Shp Dnst Lngt clumping thickness stiffness physics".split(" "),dTips:"dtipsType Shp dtipsLengthRatio dtipsHardness dtipsGridSize dtipsErodibleTipHeightMap physics dtipsAirbrushCutoffAngle dtipsAirbrushGranularity dtipsAirbrushStreakiness dtipsAirbrushSplatSize dtipsAirbrushSplatCount".split(" ")};
cO.JT.a5Y=[[["useTipDynamics"],"flipX flipY brushProjection minimumDiameter minimumRoundness tiltScale szVr angleDynamics roundnessDynamics".split(" ")],[["usePaintDynamics"],["prVr","opVr","wtVr","mxVr"]],[["useBrushPose"],"overridePoseAngle overridePoseTiltX overridePoseTiltY overridePosePressure brushPosePressure brushPoseTiltX brushPoseTiltY brushPoseAngle".split(" ")],[["useTexture"],"TxtC interpretation textureBlendMode textureDepth minimumDepth textureDepthDynamics Txtr textureScale InvT textureBrightness textureContrast".split(" ")],[["useColorDynamics"],"clVr H Strt Brgh purity colorDynamicsPerTip".split(" ")],[["useScatter"],["Cnt","countDynamics","bothAxes","scatterDynamics"]],[["useScatter","bothAxes"],["Spcn"]]];
cO.JT.Rc="classID Nm Brsh useTipDynamics usePaintDynamics useColorDynamics useScatter useTexture useBrushSize useBrushPose Wtdg Nose Rpt dualBrush brushGroup".split(" ");
cO.JT.dn={useBrushSize:"{\"t\":\"bool\",\"v\":false}",useBrushPose:"{\"t\":\"bool\",\"v\":false}",brushGroup:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brushGroup\",\"useBrushGroup\":{\"t\":\"bool\",\"v\":false}}}",flipX:"{\"t\":\"bool\",\"v\":false}",flipY:"{\"t\":\"bool\",\"v\":false}",brushProjection:"{\"t\":\"bool\",\"v\":false}",minimumDiameter:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",minimumRoundness:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":25}}",tiltScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":200}}",szVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":2},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",angleDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",roundnessDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",prVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":2},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",opVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",wtVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",mxVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",overridePoseAngle:"{\"t\":\"bool\",\"v\":false}",overridePoseTiltX:"{\"t\":\"bool\",\"v\":true}",overridePoseTiltY:"{\"t\":\"bool\",\"v\":true}",overridePosePressure:"{\"t\":\"bool\",\"v\":true}",brushPosePressure:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":9}}",brushPoseTiltX:"{\"t\":\"long\",\"v\":0}",brushPoseTiltY:"{\"t\":\"long\",\"v\":0}",brushPoseAngle:"{\"t\":\"long\",\"v\":0}",TxtC:"{\"t\":\"bool\",\"v\":false}",interpretation:"{\"t\":\"bool\",\"v\":true}",textureBlendMode:"{\"t\":\"enum\",\"v\":{\"BlnM\":\"CBrn\"}}",textureDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":37}}",minimumDepth:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":97}}",textureDepthDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",Txtr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"Ptrn\",\"Nm\":{\"t\":\"TEXT\",\"v\":\"$$$/Presets/Patterns/Patterns_pat/Laidhorizontal=Laid-horizontal\"},\"Idnt\":{\"t\":\"TEXT\",\"v\":\"52a93427-f5d6-1172-a989-8dc82a43aa51\"}}}",textureScale:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":99}}",InvT:"{\"t\":\"bool\",\"v\":false}",textureBrightness:"{\"t\":\"long\",\"v\":14}",textureContrast:"{\"t\":\"long\",\"v\":100}",Cnt:"{\"t\":\"doub\",\"v\":4}",countDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":98}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",bothAxes:"{\"t\":\"bool\",\"v\":false}",scatterDynamics:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":1},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":56}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",clVr:"{\"t\":\"Objc\",\"v\":{\"classID\":\"brVr\",\"bVTy\":{\"t\":\"long\",\"v\":0},\"fStp\":{\"t\":\"long\",\"v\":25},\"jitter\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}},\"Mnm\":{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}}}",H:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Strt:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",Brgh:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":36}}",purity:"{\"t\":\"UntF\",\"v\":{\"type\":\"#Prc\",\"val\":0}}",colorDynamicsPerTip:"{\"t\":\"bool\",\"v\":false}"};
function cN(u,g){this.ap9=u;this.w0=g==null?0:g;this.dir=0}cN.prototype.Jk=function(u,g){var K=this.ap9,X=new j4(u.x-K.x,u.y-K.y),w=new eV;
w.rotate(-this.w0);X=w.HB(X);if(this.dir==0&&!K.$z(u))this.dir=Math.abs(X.x)<Math.abs(X.y)?1:2;if(g.a(hW.jl)){if(this.dir==1)X.x=0;
if(this.dir==2)X.y=0}w.CD();X=w.HB(X);var D=new j4(K.x+X.x,K.y+X.y);return D};cN.prototype.amZ=function(u){if(u.a(hW.jl))return this.dir;
return 0};var eU=function(){function u(){this.a0h={}}u.as0=function(g,K){var X=g.clone();X.OR-=Math.floor(X.OR);
X.ic-=Math.floor(X.ic);var w=new j4(K,0),D=new j4(0,K),q=X.HB(w),C=X.HB(D),a=new j4(X.OR,X.ic);return[q,C,a]};
u.a6$=function(g,K){var X=j4.uh;return X(g[0],K[0])+X(g[1],K[1])+X(g[2],K[2]);return dsum};u.prototype.a4Y=function(g){var K=this.a0h,X=K[g];
if(X==null)X=K[g]={Ia:[],tw:0,$:0,anW:0,a8b:0};X.tw=Date.now();while(Object.keys(K).length>3){var w="",D=Date.now();
for(var q in K){var C=K[q].tw;if(C<D){D=C;w=q}}delete K[w]}return X};u.prototype.an_=function(g,K){var X=g.Ia,w,D=1e6;
for(var P=0;P<X.length;P++){var q=X[P],C=u.a6$(q.Lp,K);if(C<D){w=q;D=C}}return w};u.prototype.alf=function(g,K){var X=g.Ia;
X.push(K);g.$+=K.rect.$();if(X.length>1e3||g.$>100*100*1600){console.log("pruning",g.$,X.length);X.sort(function(D,q){return q.tw-D.tw});
while(X.length>500||g.$>100*100*800){var w=X.pop();g.$-=w.rect.$()}}};return u}();function aM(u,g,K,X,w,D,q,C,a){this.Ft=g;
this.oY=K;this.ui=D;this.ZX=X;if(X.KH==null)X.KH=[!1,!0];this.xN=null;this._Q=null;this.ro=0;this.anF=0;
this.ae5=0;this.tA=0;this.pw=a==null?Math.floor(Math.random()*16777215):a;this.apD=a==null?Math.floor(Math.random()*16777215):a;
this.ZE=new dS;this.Uv=new dS;if(C!=null){this.Fg=C}else{var x=aM.a6w;if(x.length!=q.$()*4)x=f.L(q.$()*4);
else x.fill(0);this.Fg=aM.a6w=x}this.rect=q.clone();this.mW=[];this.nV=[];this.Wu=null;this.FK=0;this.U=null;
this.aeu="";this.yj=null;this.amE(u,w)}aM.a6w=f.L(16);aM.prototype.amE=function(u,g){this.FK=g;this.U=u;
this.aeu=JSON.stringify(u)+JSON.stringify(this.ZX.cz);this.yj=aM.a2Q(this.U,this.Ft,this.oY)};aM.prototype.moveTo=function(u,g,K){K=this.ajb(K);
this.ro=K;var X=new j4(u,g),w=this.U.Brsh.v.Dmtr.v.val;this.xN=X.clone();this._Q=X.clone();this.Wu=X.clone();
this.mW=[u,g];this.nV=[K];var D=this.ZX.KH;if(this.ZX.T6!=aM.Um){var q=this.U.angleDynamics,C=q?q.v.bVTy.v==6:!1;
this.$q(C?new dS:this.arz(X,this.avX()*(D[1]?K:1),this.ZX.Wg*(D[0]?K*.5:1),new j4(0,0)))}this.tA=X.clone()};
aM.prototype.lineTo=function(u,g,K){K=this.ajb(K);var X=this.mW,w=X.length,D=X[w-2],q=X[w-1];if(u==D&&g==q)return;
var C=this.U.Brsh.v.Dmtr.v.val,a=Math.ceil(C)+1,x=new dS(Math.round(D),Math.round(q),0,0);x.wu(a,a);
var H=new dS(Math.round(u),Math.round(g),0,0);H.wu(a,a);this.mW.push(u,g);this.nV.push(K);w+=2;if(w>=6)this.$q(this.apy(w))};
aM.prototype.ajb=function(u){if(u==null)u=1;u=Math.max(.05,Math.min(5,u));if(isNaN(u)){alert("Pressure is not a number");
throw"e"}return u};aM.prototype.$q=function(u){this.ZE=u;this.Uv=this.Uv.RN(u)};aM.prototype.finish=function(){var u=this.mW,g=u.length,K;
if(g==4)K=this.amF(u[g-2],u[g-1],this.nV[(g>>1)-1],!0);if(g>4)K=this.apy(g+2);if(K)this.$q(K)};aM.prototype.WA=function(){return this.rect.clone()};
aM.prototype.KC=function(){return this.ZE.I3(this.rect)};aM.prototype.qv=function(){return this.Uv.I3(this.rect)};
aM.prototype.k8=function(){return this.Fg};aM.prototype.apy=function(u){var g=this.mW,K=this.nV,X=g[u-6],w=g[u-5],D=g[u-4],q=g[u-3],C=K[(u>>1)-3],a=K[(u>>1)-2],x=new j4(0,0),H=new j4(0,0);
if(8<=u)x=aM.awi(g[u-8],g[u-7],X,w,D,q);if(u<=g.length)H=aM.awi(g[u-2],g[u-1],D,q,X,w);var $=X+x.x,r=w+x.y,c=D+H.x,U=q+H.y,O=new dS;
for(var P=0;P<10;P++){var A=(P+1)*.1,m=1-A,i=m*m*m*X+3*A*m*m*$+3*A*A*m*c+A*A*A*D,e=m*m*m*w+3*A*m*m*r+3*A*A*m*U+A*A*A*q,S=this.amF(i,e,C+A*(a-C));
O=O.RN(S)}return O};aM.awi=function(u,g,K,X,w,D){var q=u-K,C=g-X,a=w-K,x=D-X,H=Math.sqrt(q*q+C*C),$=Math.sqrt(a*a+x*x),r=Math.acos((q*a+C*x)/(H*$))/Math.PI,c=.35,U=.1;
r=U+r*(c-U);var O=w-u,A=D-g,m=Math.sqrt(O*O+A*A),i=r*$/m;return new j4(O*i,A*i)};aM.prototype.amF=function(u,g,K,X){var w=new dS,D=this.ZX.ak6;
if(D==null)D=0;if(D==0||X){w=this.ajl(u,g,K);return w}var q=this.Wu,C=u-q.x,a=g-q.y,x=Math.sqrt(C*C+a*a);
C/=x;a/=x;if(x>D){var H=q.x+C*(x-D),$=q.y+a*(x-D);w=this.ajl(H,$,K);this.Wu.fP(H,$)}return w};aM.prototype.ajl=function(u,g,K){var X=new dS,w=new j4(u,g),D=this.U.Brsh.v.Dmtr.v.val,q=this.ZX.T6,C=w.tm(this._Q);
C.normalize(1);var a=j4.uh(this._Q,w),x=-this.anF,H=this._Q.clone(),$=this.ZX.KH;while(!0){var r=this.ro+(K-this.ro)*(Math.max(0,x)/a),c=this.avX()*($[1]?r:1),U=this.aj5()*(c+this.ae5)/2*this.yj.akg;
if(q==aM.Um)U=1;if(x+U<a){x+=U;var O=new j4(this._Q.x+C.x*x,this._Q.y+C.y*x),i=1;if(q==aM.Um){var A=H.clone();
A.x+=C.x>0?1:-1;var m=H.clone();m.y+=C.y>0?1:-1;if(j4.uh(A,O)<j4.uh(m,O))O=A;else O=m;x=j4.uh(O,this._Q)}if(this.U.useScatter.v==!0){i=this.U.Cnt.v;
var e=this.U.countDynamics.v.jitter.v.val/100,S=e*(-1+2*this.g3());i+=Math.round(i*S)}for(var P=0;P<i;
P++){var E=this.arz(O,c,this.ZX.Wg*($[0]?r*.5:1),C);X=X.RN(E)}H=O}else break}this.anF=a-x;this._Q=w;
this.ro=K;return X};aM.prototype.aj5=function(){var u=this.U.Brsh.v,g=u.Spcn.v.val,K=Math.max(5,u.Rndn.v.val);
return K/100*(g/100)};aM.prototype.avX=function(){var u=this.U,g=u.Brsh.v.Dmtr.v.val;if(u.useTipDynamics.v){var K=g*(u.minimumDiameter.v.val/100);
g=K+(g-K)*(1-this.g3(this.apD)*(u.szVr.v.jitter.v.val/100))}return g};aM.prototype.arz=function(u,g,K,X){K=Math.min(1,K);
var w=this.U,D=this.U.Brsh.v,q=D.Dmtr.v.val,C=this.ZX,a=C.T6,x=C.axp,H=this.yj.e4[1],$=new eV;$.translate(-H.m/2,-H.n/2);
$.scale(1/this.yj.a8V,1/this.yj.a8V);$.scale(g/q,g/q);$.scale(1,Math.max(5,D.Rndn.v.val)/100);if(w.usePaintDynamics&&w.usePaintDynamics.v){var r=w.opVr.v.jitter.v.val/100,c=w.prVr.v.jitter.v.val/100;
K*=1-this.g3()*r;K*=1-this.g3()*c}if(w.useTipDynamics.v){var U=w.angleDynamics.v,O=w.minimumRoundness.v.val/100;
$.scale(1,O+(1-O)*Math.round(100-this.g3()*w.roundnessDynamics.v.jitter.v.val)/100);$.rotate((-.5+this.g3())*4*Math.PI*(U.jitter.v.val/100));
if(U.bVTy.v==6)$.rotate(Math.atan2(-X.y,X.x))}$.rotate(D.Angl.v.val*(Math.PI/180));if(w.useScatter.v){var A=(-1+2*this.g3())*w.scatterDynamics.v.jitter.v.val/100;
$.translate(-A*g*X.y,A*g*X.x)}$.translate(u.x,u.y);var m=this.a9U($,u,g),i=m.rect.clone();if(a==null){var e=this.lq(w);
f.D4(m.Fs,Math.round(e.U*255)<<16|Math.round(e.A*255)<<8|Math.round(e.w*255)<<0,4278190080);if(this.Uv.fg()&&this.rect.$z(m.rect)&&K==1)this.Fg=m.Fs.slice(0);
else{var S=-1,E=2,Z=-1,N=2;if(!C.Wr){S=Z=0;E=N=1}for(var J=Z;J<N;J++)for(var y=S;y<E;y++){var o=m.rect.clone();
o.x+=y*this.rect.m;o.y+=J*this.rect.n;if(o.Vg(this.rect)){i=i.RN(o);f.i.afy(m.Fs,o,this.Fg,this.rect,o,K)}}}}if(a==aM.Um){var B=new j4(m.rect.x+m.rect.m/2,m.rect.y+m.rect.n/2),t=Math.round(B.x-this.tA.x),W=Math.round(B.y-this.tA.y),F=m.rect.clone();
F.offset(-t,-W);var G=F.I3(this.rect);G.offset(t,W);f.bV(this.Fg,this.rect,m.Fs,F);f.i.g2(m.Fs,m.rect,this.Fg,this.rect,m.fs,m.rect,K)}if(a==aM.s0||a==aM.x8||a==aM.Vc){var L=m.rect.I3(this.rect),Q;
if(L.$z(m.rect))Q=m.fs;else{Q=f.L(L.$());f.x5(m.fs,m.rect,Q,L)}var T=f.L(L.$()*4);f.bV(this.Fg,this.rect,T,L);
if(a==aM.x8){var j=T.slice(0),p=f.Xg.eW([-1,-1,-1,-1,25,-1,-1,-1,-1]);f.Xg.L4(T,j,L.m,L.n,p,0);f.me(j,T)}else if(a==aM.Vc){var M=dJ.mt("UnsM");
M.Amnt.v.val=15;M.Thsh.v=0;M.Rds.v.val=5;var j=f.L(T.length);dJ.o4("UnsM",{buffer:T,rect:L},M,0,0,{buffer:j,rect:L});
f.me(j,T)}else{dJ.uC(1,f.zg.tx,T,L)}f.i.g2(T,L,this.Fg,this.rect,Q,L,K)}this.ae5=g;this.tA=B;this.apD++;
return i};aM.prototype.lq=function(u){var g=aM.as1(this.FK);if(u.useColorDynamics&&u.useColorDynamics.v){var K=1-this.g3()*u.clVr.v.jitter.v.val/100,X=aM.as1(this.ui);
g.w=K*g.w+(1-K)*X.w;g.A=K*g.A+(1-K)*X.A;g.U=K*g.U+(1-K)*X.U;var w=(-.5+this.g3())*u.H.v.val/100,D=(-1+2*this.g3())*u.Strt.v.val/100,q=(-1+2*this.g3())*u.Brgh.v.val/100,C=f.UD(g.w,g.A,g.U);
C.xQ=(C.xQ+w+1)%1;C.C9=C.C9+D;if(C.C9<0)C.C9=-C.C9;if(C.C9>1)C.C9=1-(C.C9-1);C.jp=C.jp+q;if(C.jp<0)C.jp=-C.jp;
if(C.jp>1)C.jp=1-(C.jp-1);g=f.iF(C.xQ,C.C9,C.jp)}return g};aM.prototype.JT=function(u){return Math.max(0,Math.min(1,u))};
aM.prototype.g3=function(u){if(u==null){u=this.pw++}return aM.hash(u)};aM.as1=function(u){return{w:(u>>16&255)/255,A:(u>>8&255)/255,U:(u>>0&255)/255}};
aM.hash=function(u){u=u^61^u>>16;u=u+(u<<3);u=u^u>>4;u=u*668265261;u=u^u>>15;return(u&16777215)/16777215};
aM.acQ=new eU;aM.prototype.a9U=function(u,g,K){var X=Math.sqrt(this.yj.e4[1].$()),w=X*u.CJ(),D=w<10?1:w<50?1.5:w<200?3:8;
if(w<30)D=0;var q=aM.acQ,C=q.a4Y(this.aeu),a=this.ZX.cz;if(a){u=u.clone();u.OR=Math.floor(u.OR);u.ic=Math.floor(u.ic)}var x=eU.as0(u,X),H=q.an_(C,x);
if(H&&eU.a6$(H.Lp,x)>D)H=null;if(H){H.rect.x=Math.round(H.awf.x+u.OR);H.rect.y=Math.round(H.awf.y+u.ic);
if(a){H.rect.x=Math.round(g.x-H.rect.m/2);H.rect.y=Math.round(g.y-H.rect.n/2)}H.tw=Date.now()}else{var $=Math.round(this.U.Brsh.v.Dmtr.v.val),r;
if(a&&$<=3){r={buffer:f.L($*$*4),rect:new dS(Math.round(g.x-$/2),Math.round(g.y-$/2),$,$)};f.D4(r.buffer,4278190080)}else if(u._x==1&&u.U==0&&u.nA==0&&u.kR==1){r={buffer:this.yj.e4[0],rect:this.yj.e4[1].clone()};
r.rect.x=Math.round(u.OR);r.rect.y=Math.round(u.ic)}else r=R.S.qp(this.yj.e4,u);if(a){for(var P=0;P<r.buffer.length;
P++)r.buffer[P]=r.buffer[P]>127?255:0}if(r==null)r={buffer:f.L(0),rect:new dS};H={Fs:r.buffer,fs:f.L(r.rect.$()),rect:r.rect,awf:new j4(r.rect.x-u.OR,r.rect.y-u.ic),Lp:x,tw:Date.now()};
f.hk(H.Fs,H.fs,3);if(C)q.alf(C,H)}return H};aM.a2Q=function(u,g,K){var X,w,D,q=u.Brsh.v.Dmtr.v.val;if(u.Brsh.v.classID=="computedBrush"){var C=u.Brsh.v.Hrdn.v.val/100;
w=q<100?1.4:1;D=1;X=f.a0e.aaQ(q,C,w)}if(u.Brsh.v.classID=="sampledBrush"){var a;for(var P=0;P<g.length;
P++)if(g[P].id==u.Brsh.v.sampledData.v)a=g[P];X=a.e4;var x=X[1];w=Math.max(x.m,x.n)/q;D=Math.min(x.m,x.n)/Math.max(x.m,x.n)}return{a8V:w,akg:D,e4:X}};
aM.I=null;aM.CG=null;aM.Ja=function(u,g,K,X,w,D){var q=aM.I,C=aM.CG;if(q==null){aM.I=q=document.createElement("canvas");
aM.CG=C=q.getContext("2d")}if(D==null)D=X;if(q.width!=D||q.height!=w){q.width=D;q.height=w}else C.clearRect(0,0,D,w);
C.fillStyle="#000000";C.font=Math.floor(10*R.Z())+"px sans-serif";var a=u.Brsh.v.Dmtr.v.val,x=""+a,H=u.useBrushSize;
if(H&&H.v)x="---";var $=C.measureText(x);C.fillText(x,(X-$.width)/2,w-2);var r=X,c=w-10*R.Z(),U=Math.min(r,c),O=u.Brsh.v.classID;
if(O=="computedBrush"){C.translate(r/2,c/2);C.rotate(-u.Brsh.v.Angl.v.val*Math.PI/180);C.scale(1,.1+.9*u.Brsh.v.Rndn.v.val/100);
var A=Math.min(.95*U/2,a/2)+.5,m=.9*u.Brsh.v.Hrdn.v.val/100,i=C.createRadialGradient(0,0,0,0,0,A);i.addColorStop(m,"rgba(0,0,0,1)");
i.addColorStop((.5+m)/1.5,"rgba(0,0,0,.5)");i.addColorStop(1,"rgba(0,0,0,0)");C.fillStyle=i;C.fillRect(-A,-A,2*A,2*A);
C.setTransform(1,0,0,1,0,0)}else if(O=="sampledBrush"){var e,J=0;for(var P=0;P<g.length;P++)if(g[P].id==u.Brsh.v.sampledData.v)e=g[P];
var S=e.e4;f.mm(S);var E=S[0],Z=S[1].m,N=S[1].n;while((Z>r||N>c)&&S[J+2]){J+=2;E=S[J];Z=S[J+1].m;N=S[J+1].n}if(Z*N!=0){var y=new ImageData(new Uint8ClampedArray(E.buffer),Z,N);
C.putImageData(y,Math.round((r-Z)/2),Math.round((c-N)/2))}}else{}return q.toDataURL()};aM.K6=function(u,g,K,X){if(K==0)K=1;
var w=u.Brsh.v,D=w.Dmtr.v.val,q=w.Dmtr.v.val=Math.min(X!=null?Math.round(X*2.6):3e3,D*K),C=w.Hrdn?w.Hrdn.v.val/100:1,a=X!=null?X:Math.round(q*(1+.55*(1-C)))+4,$;
a=Math.max(15,Math.min(a,3e3));var x=new dS(0,0,a,a),H=new aM(u,g,null,{Wg:1},16711712,0,x);w.Dmtr.v.val=D;
H.moveTo(x.m/2,x.n/2);var r=H.k8(),c=H.WA();if(x.$z(c))$=r;else{$=f.L(x.$()*4);f.bV(r,c,$,x)}return[$,x,q]};
aM.aig=function(u,g,K,X){var w=g.m,D=w>>>1;for(var P=0;P<4;P++){var q=6-P;u[w*(D-q)+D-1]=X;u[w*(D-q)+D]=K;
u[w*(D-q)+D+1]=X;u[w*(D+q)+D-1]=X;u[w*(D+q)+D]=K;u[w*(D+q)+D+1]=X;u[w*(D-1)+D-q]=X;u[w*D+D-q]=K;u[w*(D+1)+D-q]=X;
u[w*(D-1)+D+q]=X;u[w*D+D+q]=K;u[w*(D+1)+D+q]=X}};aM.n7=function(u,g,K,X){var w=aM.K6(u,g,K),D=w[0].slice(0),q=w[1],C=w[2],a=q.$(),x=f.L(a);
f.hk(D,x,3);var H=f.L(a);f.q.and(x,H,q);if(C<3||f.yh(H,0)||X&&C>12){aM.aig(H,q,255,0)}var $=[3,5,3,4,8,4,3,5,3];
$=f.Xg.eW($);f.Xg.BV(H,x,q.m,q.n,$);f.D4(D,4294967295);f.K1(x,D,3);for(var P=0;P<a;P++)if(H[P]==255){D[P<<2]=D[(P<<2)+1]=D[(P<<2)+2]=0;
D[(P<<2)+3]=255}return{Wf:D,mf:q,ze:new j4(q.m/2,q.n/2)}};aM.Um="0";aM.s0="1";aM.x8="2";aM.Vc="3";var dR={};
dR.tr=function(u,g){var K=u.U4(),q=0,x;if(K.x==Infinity||K.fg())return{Fg:f.L(0),mf:new dS,kI:new dS};
var X=u.U4(),w=dR.sg(u,g),D=f.p.Ha(w.v);for(var P=0;P<u.QX.length;P++){var C=u.QX[P].oQ;if(C.StrokeFlag&&C._LineWidth)q=Math.max(q,Math.ceil(C._LineWidth/2))}D.wu(q,q);
if(D.fg())return{Fg:f.L(0),mf:new dS,kI:new dS};var a=f.jW(D.m,D.n);a.translate(-D.x,-D.y);dR.auD(w,a);
if(u.QX.length!=0){var H=fS.RT(g),$=a.getImageData(0,0,D.m,D.n);x=new Uint8Array($.data.buffer);if(H==0)for(var P=0;
P<x.length;P+=4)x[P+3]=x[P+3]>80?255:0;if(H==3)for(var P=0;P<x.length;P+=4)x[P+3]=Math.min(255,x[P+3]*1.5)}else x=f.L(D.$()*4);
a.resetTransform();a.beginPath();return{Fg:x,mf:D,kI:X}};dR.sg=function(u,g){var K=g.D,X=g.Fd,w=fS.RT(g),D=Math.max(K.U*K.U,K.nA*K.nA)<1e-9?K:null;
if(w==3||w==4)D=null;var q={F:[],v:[]};dR.a8L(u,q,D,!0);dR.a8L(u,q,D,!1);q=dR.XU(q,g,u);return q};dR.XU=function(u,g,K){if(u==null)return u;
if(K&&K.ko)f.p.D(u.v,K.ko,u.v);if(K&&!f.zv.My(g.YU)){var X=fS.WA(g,K);if(!X.fg()){if(u.F){u=f.p.O2(u);
var w=Math.min(X.m,X.n)/8;if(w<1)w=1;u=f.p.v5(u,w)}var D=f.zv.s8(g.YU,X);f.uc.D(D,u.v,X)}}var q=g.D;
f.p.D(u.v,q,u.v);return u};dR.auD=function(u,g){g.save();g.miterLimit=2;Typr.U.pathToContext({crds:u.v,cmds:u.F},g);
g.restore()};dR.k$=function(u,g,K){var X=ec.ai9(K),w=u.Fd,D=w.ResourceDict.FontSet,q=w.ResourceDict.StyleSheetSet[0].StyleSheetData,C=w.EngineDict.StyleRun.RunLengthArray,x=w.EngineDict.StyleRun.RunArray,H=fS.PU(w),$=!0,r={},c=0;
for(var P=0;P<x.length;P++){var U=x[P].StyleSheet.StyleSheetData.Font;if(U==null)U=q.Font;for(var O=0;
O<C[P];O++){var A=H.charCodeAt(c+O),m=U+","+(A>128?A:-1);if(r[m]==null){r[m]=1;if(g.VD(D[U].Name,A)==null)$=!1}}c+=C[P]}return $&&X};
dR.ahE=function(u,g,K){for(var X=0;X<u.g.length;X++){var w=u.g[X],D=w.add.TySh;if(D!=null&&!dR.k$(D,g,K))return!1}return!0};
dR.a9r=function(u,g,K){for(var X=0;X<u.g.length;X++){var w=u.g[X],D=w.add.TySh;if(D!=null&&dR.k$(D,g,K)){var q=new ec(D.Fd,g),C=dR.tr(q,D);
w.rect=C.mf;w.buffer=C.Fg;w.O();u.O()}}};dR.a8L=function(u,g,K,X){var w=new eV;for(var P=0;P<u.Sh.length;
P++)dR.atZ(u.QX,u.Sh[P],g,w,K,X)};dR.atZ=function(u,g,K,X,w,D){X.translate(g.ew.x,g.ew.y);for(var P=0;
P<g.Ik.length;P++){var q={},C=g.Ik[P];if(!C.D3)break;var a=X.clone();a.translate(C.ew.x,C.ew.y);if(w){var x=w.ic+a.ic*w.kR;
a.ic=(Math.round(x)-w.ic)/w.kR}for(var H=C.start;H<C.end;H++)dR.awb(u,g.gE[H],g,q,K,a,D)}X.translate(-g.ew.x,-g.ew.y)};
dR.aeS="()<>[]{}\xAB\xBB\u0F3A\u0F3B\u0F3C\u0F3D\u169B\u169C\u2039\u203A\u2045\u2046\u207D\u207E\u208D\u208E\u2208\u2209\u220A\u220B\u220C\u220D\u2215\u223C\u223D\u2243\u2252\u2253\u2254\u2255\u2264\u2265\u2266\u2267\u2268\u2269\u226A\u226B\u226E\u226F\u2270\u2271\u2272\u2273\u2274\u2275\u2276\u2277\u2278\u2279\u227A\u227B\u227C\u227D\u227E\u227F\u2280\u2281\u2282\u2283\u2284\u2285\u2286\u2287\u2288\u2289\u228A\u228B\u228F\u2290\u2291\u2292\u2298\u22A2\u22A3\u22A6\u22A8\u22A9\u22AB\u22B0\u22B1\u22B2\u22B3\u22B4\u22B5\u22B6\u22B7\u22C9\u22CA\u22CB\u22CC\u22CD\u22D0\u22D1\u22D6\u22D7\u22D8\u22D9\u22DA\u22DB\u22DC\u22DD\u22DE\u22DF\u22E0\u22E1\u22E2\u22E3\u22E4\u22E5\u22E6\u22E7\u22E8\u22E9\u22EA\u22EB\u22EC\u22ED\u22F0\u22F1\u22F2\u22F3\u22F4\u22F6\u22F7\u22FA\u22FB\u22FC\u22FD\u22FE\u2308\u2309\u230A\u230B\u2329\u232A\u2768\u2769\u276A\u276B\u276C\u276D\u276E\u276F\u2770\u2771\u2772\u2773\u2774\u2775\u27C3\u27C4\u27C5\u27C6\u27C8\u27C9\u27CB\u27CD\u27D5\u27D6\u27DD\u27DE\u27E2\u27E3\u27E4\u27E5\u27E6\u27E7\u27E8\u27E9\u27EA\u27EB\u27EC\u27ED\u27EE\u27EF\u2983\u2984\u2985\u2986\u2987\u2988\u2989\u298A\u298B\u298C\u298D\u298E\u298F\u2990\u2991\u2992\u2993\u2994\u2995\u2996\u2997\u2998\u29B8\u29C0\u29C1\u29C4\u29C5\u29CF\u29D0\u29D1\u29D2\u29D4\u29D5\u29D8\u29D9\u29DA\u29DB\u29F5\u29F8\u29F9\u29FC\u29FD\u2A2B\u2A2C\u2A2D\u2A2E\u2A34\u2A35\u2A3C\u2A3D\u2A64\u2A65\u2A79\u2A7A\u2A7D\u2A7E\u2A7F\u2A80\u2A81\u2A82\u2A83\u2A84\u2A8B\u2A8C\u2A91\u2A92\u2A93\u2A94\u2A95\u2A96\u2A97\u2A98\u2A99\u2A9A\u2A9B\u2A9C\u2AA1\u2AA2\u2AA6\u2AA7\u2AA8\u2AA9\u2AAA\u2AAB\u2AAC\u2AAD\u2AAF\u2AB0\u2AB3\u2AB4\u2ABB\u2ABC\u2ABD\u2ABE\u2ABF\u2AC0\u2AC1\u2AC2\u2AC3\u2AC4\u2AC5\u2AC6\u2ACD\u2ACE\u2ACF\u2AD0\u2AD1\u2AD2\u2AD3\u2AD4\u2AD5\u2AD6\u2ADE\u2AE3\u2AE4\u2AE5\u2AEC\u2AED\u2AF7\u2AF8\u2AF9\u2AFA\u2E02\u2E03\u2E04\u2E05\u2E09\u2E0A\u2E0C\u2E0D\u2E1C\u2E1D\u2E20\u2E21\u2E22\u2E23\u2E24\u2E25\u2E26\u2E27\u2E28\u2E29\u3008\u3009\u300A\u300B\u300C\u300D\u300E\u300F\u3010\u3011\u3014\u3015\u3016\u3017\u3018\u3019\u301A\u301B\uFE59\uFE5A\uFE5B\uFE5C\uFE5D\uFE5E\uFE64\uFE65\uFF08\uFF09\uFF1C\uFF1E\uFF3B\uFF3D\uFF5B\uFF5D\uFF5F\uFF60\uFF62\uFF63";
dR.awb=function(u,g,K,X,w,D,q){D.translate(g.ew.x,g.ew.y);for(var C=g.oH;C<=g.xb;C++){var a=K.bk[C],x=a.mf.m,H=u[K.ajF+a.tO],$=H.oQ._FillBackgroundFlag;
if(H.z$=="\n"||q&&!$)continue;var r=H.oQ.FontSize/H.rB.head.unitsPerEm,c=D.clone();c.translate(a.ew.x+a.f8*r,a.ew.y-a.Q_*r);
var U=new eV;U.scale(r,-r);if(H.TW==1&&dR.aeS.indexOf(H.z$)!=-1)U.concat(new eV(-1,0,0,1,x,0));if(H.oQ.FauxItalic)U.concat(new eV(1,0,-Math.tan(.18),1,0,0));
U.translate(0,H.Ka);U.scale(H.scale.x,H.scale.y);if(H.oQ.BaselineShift!=null)U.translate(0,-H.oQ.BaselineShift);
if(a.w0!=0){U.rotate(-a.w0)}U.concat(c);var O=H.oQ._LineWidth?H.oQ._LineWidth:1;if(q){w.F.push(dR.lq(H.oQ._FillBackgroundColor));
var A=1.005*a.mf.n/r,m=new dS(-a.f8,-A*.27,1.03*a.mf.m/(r*H.scale.x),A);if(H.oQ.StrokeFlag)m.wu(O/r,O/r);
f.p.concat(w,f.p.JS(m),U);w.F.push("X");continue}if(H.oQ.FillFlag)w.F.push(dR.lq(H.oQ.FillColor));if(H.oQ.StrokeFlag)w.F.push("O-"+dR.lq(H.oQ.StrokeColor)+"-"+O);
if(a.path.F.length!=0&&H.z$!="\t"){if(H.oQ.FauxBold){var i=H.oQ.FontSize/2048*27*H.scale.x;U.OR+=i;f.p.concat(w,a.path,U);
U.OR-=i+i;f.p.concat(w,a.path,U)}else f.p.concat(w,a.path,U)}if(H.z$!="\n"){if(H.oQ.Underline){if(X.p1==null)X.p1=H.rB.post.underlineThickness;
if(X.adC==null)X.adC=H.rB.post.underlinePosition;var e=0,S=X.adC-X.p1/2,E=a.Tn*1.05,Z=-X.p1;f.p.concat(w,{F:["M","L","L","L","Z"],v:[e,S,e+E,S,e+E,S+Z,e,S+Z]},U)}if(H.oQ.Strikethrough){var N=H.rB["OS/2"].yStrikeoutSize,J=H.rB["OS/2"].yStrikeoutPosition,e=0,S=J+N/2,E=a.Tn*1.05,Z=-N;
f.p.concat(w,{F:["M","L","L","L","Z"],v:[e,S,e+E,S,e+E,S+Z,e,S+Z]},U)}}if(H.oQ.FillFlag)w.F.push("X");
if(H.oQ.StrokeFlag)w.F.push("OX")}D.translate(-g.ew.x,-g.ew.y)};dR.lq=function(u){var g=fS.Ld(u),K=(Math.round(g.w)<<16)+(Math.round(g.A)<<8)+Math.round(g.U);
return"#"+f.ae(K)};function ec(u,g){var K=fS._k(u),X,w,D=fS.f5(u),q=u._LineOrientation==2?new eV:null,$,c;
if(u.Curve)w=ec.pC(u.Curve);if(K!=0){X=new dS(D[0],D[1],D[2],D[3]);if(q){var C=X.m;X.m=X.n;X.n=C;q.translate(0,-D[2])}if(K==2){X.m=w[5]-w[4];
X.n=9999}}this.Sh=[];this.QX=[];this.rM=K;this.ko=q;var x=this.akx=fS.PU(u),H=-1,r=-1;for(var P=0;P<x.length;
P++){var U=$,O=fS.arD(u,P);if(O!=H){H=O;U=$=fS.axw(u,O)}var A=c,O=fS.aq0(u,P);if(O!=r){r=O;A=c=fS.aot(u,O)}var m={z$:x.charAt(P),oQ:U,rB:null,$0:-1,fA:fS.arx(u,P),Ka:0,scale:new j4(0,0),Ro:0,lineHeight:0,TW:0},i=u.ResourceDict.FontSet[U.Font].Name,e=m.rB=g.VD(i,x.charCodeAt(P));
m.scale.x=U.HorizontalScale==null?1:U.HorizontalScale;m.scale.y=U.VerticalScale==null?1:U.VerticalScale;
var S=e["OS/2"],E=e.hhea;if(U.FontCaps==1&&m.z$!=m.z$.toUpperCase()){var Z=S.sxHeight?S.sxHeight/S.sTypoAscender:.76;
m.scale.x*=Z;m.scale.y*=Z}var N=1/e.head.unitsPerEm*U.FontSize;if(U.FontBaseline==1){var Z=u.ResourceDict.SuperscriptSize;
m.scale.x*=Z;m.scale.y*=Z;m.Ka-=u.ResourceDict.SuperscriptPosition*U.FontSize}if(U.FontBaseline==2){var Z=u.ResourceDict.SubscriptSize;
m.scale.x*=Z;m.scale.y*=Z;m.Ka+=u.ResourceDict.SubscriptPosition*U.FontSize}m.Ro=ec.Ro(e,i,U);var J=A.AutoLeading;
m.lineHeight=U.FontSize*(J==null?1.2:J);if(U.AutoLeading==!1)m.lineHeight=U.Leading;if(m.lineHeight==0)m.lineHeight=.01;
this.QX.push(m)}var y=this.Sh,o=[0];for(var P=0;P<u.EngineDict.ParagraphRun.RunLengthArray.length;P++){var B=new ec.Sp(u,g,this.QX,P,X,o,K==1?w:null);
y.push(B)}if(q){if(K==0)q.translate(0,y[0].gE[0].Ro/2);q.rotate(-Math.PI/2)}if(K==2){var t=u.Curve.Points,W=w[0],F=w[1],G=w[2],L=w[3],Q=w[4],T=w[5];
for(var P=0;P<y.length;P++)for(var j=0;j<y[P].Ik.length;j++)if(!(P==0&&j==0))y[P].Ik[j].D3=!1;var B=y[0],p=B.Ik[0];
B.ew.fP(0,0);p.ew.fP(0,0);for(var j=p.start;j<p.end;j++){var M=B.gE[j],n=M.ew.x;M.ew.x=0;for(var d=M.oH;
d<=M.xb;d++){var V=B.bk[d],z=V.mf.m/2;V.ew.x+=n;var I=ec.alK(W,(Q+V.ew.x+z)%L);V.ew.x=I[0]-z*I[2];V.ew.y=I[1]-z*I[3];
V.w0=Math.atan2(I[3],I[2])}}}}ec.Ro=function(u,g,K){var X=u["OS/2"],w=u.hhea,D=0,D=0,q=[];q.push(X&&X.sxHeight&&g.toLowerCase().indexOf("capitals")!=-1?X.sxHeight:0);
q.push(X&&X.sCapHeight?X.sCapHeight:0);q.push(X&&X.sTypoAscender?X.sTypoAscender:0);q.push(w.ascender?w.ascender:0);
for(var C=0;C<q.length;C++)if(q[C]!=0){D=q[C];break}var a=1/u.head.unitsPerEm*K.FontSize;D=D*a;D=Math.max(D,K.FontSize*.75);
return D};ec.prototype.anP=function(){return!this.aq8(0)};ec.prototype.a98=function(){return this.aq8(1)};
ec.prototype.aq8=function(u){var g=this.Sh,K=!0,X=0;for(var P=0;P<g.length;P++){var w=g[P].Ik,D=w.length;
X+=D;for(var q=0;q<D;q++)K&=w[q].D3}return[K,X][u]};ec.pC=function(u,g){if(g==null)g=.25;var K=u.Points,X=K.length,w=X>>>3,D=u.TextOnPathTRange,q=u.Reversed,$=0,r=0;
if(q){var C=K.slice(0);for(var P=0;P<X;P+=2){C[P]=K[X-2-P];C[P+1]=K[X-1-P]}K=C;D=[w-D[1]%w,w-D[0]%w]}var a=[],x=[0],H=[0];
for(var P=0;P<X;P+=8){var c=K[P+6]-K[P+0],U=K[P+7]-K[P+1],O=Math.round(1/g*Math.sqrt(c*c+U*U));for(var A=0;
A<O;A++){var m=A/O,i=1-m,e=i*i*i*K[P+0]+3*i*i*m*K[P+2]+3*i*m*m*K[P+4]+m*m*m*K[P+6],S=i*i*i*K[P+1]+3*i*i*m*K[P+3]+3*i*m*m*K[P+5]+m*m*m*K[P+7];
a.push(e,S);if(P+A!=0){var c=e-$,U=S-r;H.push(H[H.length-1]+Math.sqrt(c*c+U*U));x.push((P>>>3)+m)}$=e;
r=S}}var g=H.length,E=H[g-1],Z=ec.Ih(D[0]%w,x),N=ec.Ih(D[1]%w,x),J=H[Z%g],y=H[N%g];if(J>=y)y+=E;return[a,x,H,E,J,y]};
ec.Ih=function(u,g){var P=0;while(g[P]<u)P++;return P};ec.alK=function(u,g){var K=0,P=0,X,w,D;while(K<g){X=u[P+2]-u[P];
w=u[P+3]-u[P+1];D=Math.sqrt(X*X+w*w);K+=D;P+=2}return[u[P],u[P+1],X/D,w/D]};ec.prototype.alE=function(u){return this.QX[u]};
ec.prototype.a9l=function(u){for(var g=0;g<this.Sh.length;g++){var K=this.Sh[g];for(var X=0;X<K.Ik.length;
X++){var w=K.Ik[X],D=K.gE[w.start].start,q=K.gE[w.end-1].end;if(D<u&&u<q)return[D,q-1]}}return[0,1]};
ec.prototype.alR=function(u,g){var K=-1,X=this.Sh;if(this.rM==2){var w=1e9,D=0,q=X[0],C=q.Ik[0];for(var a=C.start;
a<C.end;a++){var x=q.gE[a];for(var H=x.oH;H<=x.xb;H++){var $=q.bk[H],r=$.mf.m,c=u.x-$.ew.x,U=u.y-$.ew.y,O=c*c+U*U;
if(O<w){w=O;D=$.tO}}}if(D!=0&&this.akx.codePointAt(D-1)>65535)D--;return D}for(var A=0;A<X.length;A++){var q=X[A];
for(var m=0;m<q.Ik.length;m++){K++;var C=q.Ik[m],i=q.Ik[m+1];if(i==null&&A<X.length-1)i=X[A+1].Ik[0];
if(g!=null){if(K!=g)continue}else{if(i!=null&&q.ew.y+C.ew.y<u.y)continue}for(var a=C.start;a<C.end;a++){var x=q.gE[a];
for(var H=x.oH;H<=x.xb;H++){var $=q.bk[H],r=$.mf.m,e=q.ew.x+C.ew.x+x.ew.x,S=e+$.ew.x,E=e+(H<x.xb?q.bk[H+1].ew.x:$.ew.x+r);
if(u.x<=E||a+1==C.end&&H==x.xb){var Z=q.ajF+$.tO,N=this.QX[Z],J=N.TW&1;if(N.z$!="\n"&&(J==0&&u.x>S+r/2||J==1&&u.x<S+r/2))Z+=this.akx.codePointAt(Z)>65535?2:1;
return Z}}}}}};ec.prototype.tJ=function(u){var g={mf:new dS,w_:0},K=0;for(var X=0;X<this.Sh.length;X++){var w=this.Sh[X];
for(var D=0;D<w.Ik.length;D++){var q=w.Ik[D];g.w_=K;K++;for(var C=q.start;C<q.end;C++){var a=w.gE[C];
for(var x=a.start;x<a.end;x++){if(x==u){var H=this.QX[x],$=H.$0,r=w.bk[$].tO,c=1;while(w.bk[$]!=null&&w.bk[$].tO==r){var U=w.bk[$],O=w.ew.x+q.ew.x+a.ew.x+U.ew.x,A=w.ew.y+q.ew.y+a.ew.y+U.ew.y;
g.mf=g.mf.RN(new dS(O,A-H.lineHeight,U.mf.m,H.lineHeight));g.w0=U.w0;$+=c}return g}}}}}};ec.prototype.U4=function(){var u=Infinity,g=Infinity,K=-Infinity,X=-Infinity;
for(var P=0;P<this.Sh.length;P++){var w=this.Sh[P];for(var D=0;D<w.Ik.length;D++){var q=w.Ik[D];if(!q.D3)break;
for(var C=q.start;C<q.end;C++){var a=w.gE[C];for(var x=a.oH;x<=a.xb;x++){var H=w.bk[x],$=H.mf,r=w.ew.x+q.ew.x+a.ew.x+H.ew.x,c=w.ew.y+q.ew.y+a.ew.y+H.ew.y;
u=Math.min(u,r+$.x);g=Math.min(g,c+$.y);K=Math.max(K,r+$.x+$.m);X=Math.max(X,c+$.y+$.n)}}}}return new dS(u,g,K-u,X-g)};
ec.Hq=function(u){return 19968<=u&&u<=40959||12288<=u&&u<=12543};ec.a0k=function(u,g,K,X,w,D,q){var C=[D],x=0;
for(var P=D;P<q;P++){if(K[P]==null)console.log(P,D,q,K);var H=K[P].z$,$=H.charCodeAt(0);if($==32||$==9){C.push(x,P,1,P+1);
x=0}else if($==3851){C.push(x+1,P+1);x=0}else if(ec.Hq($)){C.push(x,P);x=1}else if(P!=D&&K[P].TW!=K[P-1].TW){C.push(x,P);
x=1}else x++}C.push(x);var r=[];for(var P=0;P<C.length;P+=2){var c=C[P],U=C[P+1];if(U==0)continue;r.push(new ec.anh(u,g,K,X,w,c,U))}return r};
ec.a2V=function(u,g,K,X,w,D,q){var C=[0,g?g.m:1e9],a=[];if(X){var x=u[D].Ro,H=w+(w==0?x:u[D].lineHeight),$=H-x*.9,r=f.p.W_(X[0],$),c=r.length,U=f.p.W_(X[0],H),O=U.length;
if(c!=0&&O!=0){var A=0,m=0;C=[];while(A<c&&m<O){var i=Math.max(r[A],U[m]),e=r[A+1],S=U[m+1],E=Math.min(e,S);
if(i<E)C.push(i,E);if(e<S)A+=2;else m+=2}}}for(var Z=0;Z<C.length;Z+=2){var N=0,J=D,y=g?C[Z+1]-C[Z]-K.StartIndent-K.EndIndent-(D==0?K.FirstLineIndent:0):Infinity;
while(D!=u.length){var o=u[D],B=N==0||(o.fT||o.Pa)||N+o.mf.m<y;if(!B)break;N+=o.mf.m;D++}a.push(D-J)}q[0]=a;
q[1]=C;q[2]=D};ec.alS=function(u,g){var K=u.length,X=new Uint32Array(K),w=new Uint8Array(K),D=0;for(var P=0;
P<K;P++){w[P]=0;var q=u.charCodeAt(P);X[P]=q;if(q>D)D=q}if(D>1424)w=ec.awS(X,g);return w};ec.a67=function(u){return u=="\xDF"?u:u.toUpperCase()};
ec.Sp=function(u,g,K,X,w,D,q){this.gE=[];this.Ik=[];this.ew=new j4(0,0);this.bk=null;this.gE=null;this.oQ=fS.aot(u,X);
var C=this.oQ,r=0,O="",S=0,E=1,V=0;if(X!=0){var x=C.SpaceBefore;if(x!=null)D[0]+=x}var H=u.EngineDict.ParagraphRun.RunLengthArray,$=H[X];
for(var P=0;P<X;P++)r+=H[P];var c=C._Direction?C._Direction:0;this.ajF=r;var U=fS.PU(u).slice(r,r+$);
for(var A=0;A<U.length;A++){var m=U.charAt(A);O+=K[r+A].oQ.FontCaps==0?m:ec.a67(m)}U=O;var i=ec.alS(U,c),e=[],Z=i[P]&1,N=K[r].rB;
K[r].TW=i[0];for(var P=1;P<U.length;P++){var m=K[r+P],J=i[P];m.TW=J;if(J!=Z||m.rB!=N){e.push(S,E);S=P;
E=1;Z=J;N=m.rB}else E++}e.push(S,E);var y=this.bk=[];for(var P=0;P<e.length;P+=2){var o=e[P],B=e[P+1],t=(K[r+o].TW&1)==0,W=U.slice(o,o+B),F=Typr.U.shapeHB(K[r+o].rB,W,t),G=[],T=0;
for(var A=0;A<F.length;A++){var L=F[A];G.push({A:L.g,tO:L.cl,Tn:L.ax,GC:L.ay,f8:L.dx,Q_:L.dy})}F=G;var Q=F.slice(0);
if(!t)Q.reverse();for(var A=0;A<W.length;A++){while(T+1<Q.length&&Q[T+1].tO<=A){T++}while(T>0&&Q[T-1].tO==A)T--;
K[r+o+A].$0=y.length+(t?T:Q.length-T-1)}for(var A=0;A<F.length;A++){y.push(F[A]);F[A].tO+=o;var m=K[r+F[A].tO];
if(m.fA!=-1){F[A].A=m.fA;var j=m.rB.hmtx;if(j){var p=Object.keys(j)[0];F[A].Tn=j[p][m.fA]}}if(m.z$=="\n")F[A].Tn=0;
if(m.z$=="\t")F[A].Tn=m.rB.head.unitsPerEm*36/m.oQ.FontSize}}var M=fS.zB(C),n=this.gE=ec.a0k(u,g,K,r,y,r,r+$),d=this.Ik,z=-1,O=[null,null,0];
while(V<n.length){ec.a2V(n,w,C,q,D[0],V,O);z++;var I={start:V,end:0,mf:new dS,ew:new j4(0,0),D3:!0},dr=0,cB=0;
d.push(I);I.end=O[2];var v=I.end==n.length;function gj(Q,o,dV){var eS=dV-o>>>1;for(var P=0;P<eS;P++){var a2=Q[o+P];
Q[o+P]=Q[dV-1-P];Q[dV-1-P]=a2}}for(var jA=1;jA<5;jA++){var Y=-1;for(var P=I.start;P<I.end;P++){var J=K[n[P].start].TW;
if(Y==-1&&J>=jA)Y=P;else if(Y!=-1&&J<jA){gj(n,Y,P);Y=-1}}var jv=I.end;if(c==0&&n[jv-1].fT)jv--;if(Y!=-1)gj(n,Y,jv)}var iR=O[0],cj=O[1],Y=V,j8=V;
for(var as=0;as<iR.length;as+=2){var gW=w?cj[as+1]-cj[as]-C.StartIndent-C.EndIndent-(V==0?C.FirstLineIndent:0):Infinity,af=0;
Y=j8;j8+=iR[as];var at=this.aeR(Y,j8,n,c,w!=null);if(w){if(M==1||v&&M==4)af=at[1]+(gW-at[0]);if(M==2||v&&M==5)af=at[1]+(gW-at[0])/2;
if(j8-Y==1&&n[Y].mf.m>gW)af=0;if(z==0)af+=C.FirstLineIndent;af+=C.StartIndent}else{if(M==0)af=C.StartIndent+C.FirstLineIndent;
if(M==1)af=-at[0]-C.EndIndent;if(M==2)af=-at[0]/2}af+=cj[as];if(w&&M>2&&(M==6||!v))this.a3a(Y,j8,n,gW,c,af);
else{var jd=af;for(var P=Y;P<j8;P++){var fM=n[P],hS=fM.mf.m;fM.ew.x=jd;if(fM.Jj=="\t")hS=Math.ceil((jd+4)/36)*36-jd;
jd+=hS}}}V=I.end;for(var P=I.start;P<I.end;P++){var b1=n[P].mf.clone();b1.gk(n[P].ew);I.mf=I.mf.RN(b1);
dr=Math.max(dr,n[P].Ro);cB=Math.max(cB,n[P].lineHeight)}I.ew.y=z==0?0:d[z-1].ew.y+cB;if(z==0){if(X==0&&w)D[0]+=dr;
if(X!=0)D[0]+=cB;this.ew.y=D[0]}else D[0]+=cB;if(w)I.D3=this.ew.y+I.ew.y<w.y+w.n}var ic=C.SpaceAfter;
if(ic!=null)D[0]+=ic};ec.Sp.prototype.aeR=function(u,g,K,X,w){var D=0,q=0;for(var P=u;P<g;P++)D+=K[P].mf.m;
if(w){if(X==0)for(var P=g-1;P>=u;P--)if(K[P].fT||K[P].Pa)D-=K[P].mf.m;else break;if(X==1)for(var P=u;
P<g;P++)if(K[P].fT||K[P].Pa){var C=K[P].mf.m;D-=C;q-=C}else break}return[D,q]};ec.Sp.prototype.a3a=function(u,g,K,X,w,D){var q=0,C=0,a=0,x=0;
for(var P=u;P<g;P++)if(K[P].fT)a++;else{q+=K[P].mf.m;C++}if(w==0)for(var P=g-1;P>=u;P--)if(K[P].fT||K[P].Pa){if(K[P].fT){a--}}else break;
if(w==1)for(var P=u;P<g;P++)if(K[P].fT||K[P].Pa){if(K[P].fT){a--;x++}}else break;if(C<=1||a==0){if(C==1)K[u].ew.x=D;
return}var H=(X-q)/a,$=-x*H;for(var P=u;P<g;P++){if(K[P].fT)this.bk[K[P].oH].mf.m=K[P].mf.m=H;K[P].ew.x=D+$;
$+=K[P].mf.m}};ec.anh=function(u,g,K,X,w,D,q){this.Jj="";for(var P=0;P<q;P++)this.Jj+=K[D+P].z$;this.fT=q==1&&(K[D].z$==" "||K[D].z$=="\t");
this.Pa=q==1&&K[D].z$=="\n";this.start=D;this.end=D+q;this.mf=new dS;this.ew=new j4(0,0);this.Ro=0;this.lineHeight=0;
var C=0,x=0;if(q==0){this.lineHeight=K[D].lineHeight;this.Ro=K[D].Ro;this.mf=new dS(0,-K[D].lineHeight,0,K[D].lineHeight)}var H=K[D].$0,$=K[D+q-1].$0;
if($<H){var r=H;H=$;$=r}while($+1<w.length&&w[$].tO==w[$+1].tO){$++}this.oH=H;this.xb=$;for(var c=H;
c<=$;c++){var U=w[c],O=K[X+U.tO],A=u._LineOrientation==2&&(O.oQ.BaselineDirection!=2||ec.Hq(O.z$.charCodeAt(0))),m=Typr.U.glyphToPath(O.rB,U.A),Z=0;
U.path={F:m.cmds,v:m.crds};var i=O.oQ.FontSize,e=1/O.rB.head.unitsPerEm*i;if(!O.oQ.AutoKerning)C+=O.oQ.Kerning*2*e*O.scale.x;
U.ew=new j4(C,0);U.w0=0;if(A&&U.path.v.length>0){U.w0=-Math.PI/2;U.ew.x+=i*.83;U.ew.y=-i*.3+U.Tn*e/2;
U.Tn=i/e}var S=U.Tn*e*O.scale.x;U.mf=new dS(0,-O.lineHeight,S,O.lineHeight);var E=U.mf.clone();E.gk(U.ew);
if(O.oQ.Tracking!=null)Z=O.oQ.Tracking*.001*i;if(O.oQ.FauxBold==!0)Z+=.027*i;C+=S+Z;if(q==1&&O.z$==" ")E.m+=2*Z;
else if(q==1&&O.z$!=null&&ec.Hq(O.z$.charCodeAt(0)))E.m+=Z;this.mf=this.mf.RN(E);this.Ro=Math.max(this.Ro,O.Ro);
this.lineHeight=Math.max(this.lineHeight,O.lineHeight)}};ec.mV=0;ec.ai9=function(u){if(ec.mV==2)return!0;
if(ec.mV==1)return!1;ec.mV=1;function g(){fetch("code/ext/fribidi.wasm").then(function(K){return K.arrayBuffer()}).then(function(K){return WebAssembly.instantiate(K)}).then(function(K){var X=K.instance.exports,w=X.memory,D=16,q=256,C=1,a=D|q,x=D|q|C;
ec.awS=function($,r){var c=$.length,U=c*4+4+c*4+c*4+c;eH.Aw(X,U+c+1e7);var O=new Uint8Array(w.buffer),A=new Uint32Array(w.buffer),m=X.calloc(U,1),i=m+c*4,e=i+4,S=e+c*4,E=S+c*4;
A.set($,m>>>2);A[i>>>2]=r==0?a:x;X.fribidi_get_bidi_types(m,c,e);X.fribidi_get_bracket_types(m,c,e,S);
X.fribidi_get_par_embedding_levels_ex(e,S,c,i,E);var Z=O.slice(E,E+c);X.free(m);return Z};ec.mV=2;var H=new eG(h.E.Y,!0);
H.data={d:h.s.zS,oy:"add",M3:hO.em,J$:null};u.c(H)})}Typr.U.initHB("code/ext/hb.wasm",g);return!1};function fS(){}fS.fY=function(u){return JSON.parse(JSON.stringify(u))};
fS.hl=function(u,g){for(var K in g)u[K]=g[K]};fS.t5=function(u,g,K,X){var w=fS.ajN();if(K)fS.xm(w,0,0,K);
var D=new eV;if(X!=null)D.rotate(X);D.translate(Math.round(u),Math.round(g));var q={D:D,Fd:w};q.cW=fS.alq();
q.YU=f.zv.L();q.kI=new dS;return q};fS.a7M=function(u){var g=["CharacterDirection",0];for(var P=0;P<g.length;
P+=2){if(u[g[P]]!=null&&u[g[P]]!=g[P+1]){throw"e";console.log(g[P],u[g[P]])}}if(u instanceof Array)for(var P=0;
P<u.length;P++)fS.a7M(u[P]);else if(u instanceof Object)for(var K in u)fS.a7M(u[K])};fS.zB=function(u,g){if(g==null)g=u.Justification;
var K=u._Direction?u._Direction:0;if(K==1){if(g==0||g==3)g++;else if(g==1||g==4)g--}return g};fS.Z$=function(u){if(u.add==null)return;
var g=u.Fd,K=g.Curve,X=u.add.vmsk,w=X._,D=f.p.Cs(w,!0).v,q=u.D.clone();q.CD();f.p.D(D,q,D);var C=D.slice(0,8);
for(var x=8;x<D.length;x+=6)C.push(D[x-2],D[x-1],D[x],D[x+1],D[x+2],D[x+3],D[x+4],D[x+5]);K.Points=C;
K.TextOnPathTRange=X.WS.slice(0);K.Reversed=X.JU;if(fS._k(g)==1){var K=ec.pC(g.Curve),H=f.p.pj(K[0]);
fS.N2(g,[0,0,H.m,H.n].map(Math.round));for(var P=0;P<C.length;P+=2){C[P]-=H.x;C[P+1]-=H.y}var $=new eV(1,0,0,1,H.x,H.y);
$.concat(u.D);u.D=$}};fS.qL=function(u){if(u.add==null)return;var g=u.add.vmsk,K=u.Fd.Curve,X=K.Points,w={F:["M"],v:[X[0],X[1]]};
for(var P=0;P<X.length;P+=8){w.F.push("C");w.v.push(X[P+2],X[P+3],X[P+4],X[P+5],X[P+6],X[P+7])}f.p.D(w.v,u.D,w.v);
var D=f.p.Ic(w,!0);g._=D;g.JU=K.Reversed;g.WS=K.TextOnPathTRange.slice(0);u.add.vogk=l.LP(D)};fS.Ld=function(u){var g={w:0,A:0,U:0};
if(u){var K=u.Values;if(u.Type==1)g={w:K[1]*255,A:K[2]*255,U:K[3]*255};else if(u.Type==2){var X={classID:"CMYC",Cyn:{t:"doub",v:K[1]*100},Mgnt:{t:"doub",v:K[2]*100},Ylw:{t:"doub",v:K[3]*100},Blck:{t:"doub",v:K[4]*100}};
g=f.X.Ld(X)}else console.log("Unknown color type")}return g};fS.a6K=function(u){for(var P=0;P<u.length;
P++){var g=u[P].StyleSheet.StyleSheetData,K=g.FillColor;if(K&&K.Type==2){var X=fS.Ld(K);K.Type=1;K.Values=[1,X.w/255,X.A/255,X.U/255]}}};
fS.WA=function(u,g){var K;if(fS._k(u.Fd)==1){var X=fS.f5(u.Fd);K=new dS(0,0,X[2]-X[0],X[3]-X[1])}else{K=g.U4();
if(g.ko){var w=g.ko.clone(),D=f.p.JS(K);f.p.D(D.v,w,D.v);K=f.p.pj(D.v)}}return K};fS.X7=function(u){var g=u[0];
for(var P=0;P<u.length;P++)g=fS.abC(g,u[P]);return g};fS.abC=function(u,g){var K={};for(var X in u)if(JSON.stringify(u[X])==JSON.stringify(g[X]))K[X]=u[X];
return K};fS.rt=function(u,g){var K=u._L,X=-1;for(var P=0;P<K.length;P++)if(K[P].Name==g)X=P;if(X==-1){X=K.length;
K.push({FontType:1,Name:g,Script:0,Synthetic:0})}u.QX.Font=X};fS.PU=function(u){return u.EngineDict.Editor.Text.replace(/\r/g,"\n").replace(/\u0003/g,"\n")};
fS.T5=function(u,g){u.EngineDict.Editor.Text=g.replace(/\n/g,"\r")};fS._k=function(u){return u.Curve&&u.Curve.TextOnPathTRange[0]>=0?2:u.EngineDict.Rendered.Shapes.Children[0].ShapeType};
fS.YM=function(u,g){var K=u.EngineDict.Rendered.Shapes.Children[0];K.ShapeType=g;var X=K.Cookie.Photoshop;
X.ShapeType=g;X.Base.ShapeType=g;if(g==0){delete X.BoxBounds;X.PointBase=[0,0]}if(g==1){delete X.PointBase;
X.BoxBounds=[0,0,1,1]}};fS.f5=function(u){return u.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds};
fS.N2=function(u,g){u.EngineDict.Rendered.Shapes.Children[0].Cookie.Photoshop.BoxBounds=g};fS.arx=function(u,g){var K=u.EngineDict.AlternateGlyphRun;
if(K==null)return-1;var X=fS.Eb(K.RunLengthArray,g).qK,w=K.RunArray[X].Glyph;return w==null?-1:w};fS.apt=function(u,g,K){var X=u.EngineDict.AlternateGlyphRun;
if(X==null){X=u.EngineDict.AlternateGlyphRun=fS.apb();X.RunArray.push({});X.RunLengthArray.push(fS.PU(u).length)}var w=fS.Eb(X.RunLengthArray,g),D=w.qK,q=g-w.Ju,C=X.RunArray[D],x=JSON.stringify(C),H=X.RunLengthArray[D];
if(q!=0){X.RunArray.splice(D,0,JSON.parse(x));X.RunLengthArray.splice(D,0,q);X.RunLengthArray[D+1]-=q;
D++;H-=q;q=0}if(H!=1){X.RunArray.splice(D+1,0,JSON.parse(x));X.RunLengthArray.splice(D+1,0,H-1);X.RunLengthArray[D]=1;
H=1}C.Glyph=K};fS.arD=function(u,g){var K=u.EngineDict.StyleRun.RunLengthArray;return fS.Eb(K,g).qK};
fS.axw=function(u,g){var K=u.ResourceDict.StyleSheetSet[0].StyleSheetData,X={};for(var w in K)X[w]=K[w];
var D=u.EngineDict.StyleRun.RunArray[g].StyleSheet.StyleSheetData;fS.hl(X,D);return X};fS.aq0=function(u,g){var K=u.EngineDict.ParagraphRun.RunLengthArray;
return fS.Eb(K,g).qK};fS.aot=function(u,g){var K=u.ResourceDict.ParagraphSheetSet[0].Properties,X={};
for(var w in K)X[w]=K[w];var D=u.EngineDict.ParagraphRun.RunArray[g].ParagraphSheet.Properties;fS.hl(X,D);
var q=["StartIndent","EndIndent","FirstLineIndent"];for(var P=0;P<3;P++)if(X[q[P]]==null)X[q[P]]=0;return X};
fS.G4=function(u,g,K){if(K=="")return;var X=fS.PU(u);fS.T5(u,X.substring(0,g)+K+X.substring(g,X.length));
var w=u.EngineDict.StyleRun,D=w.RunLengthArray,q=fS.Eb(D,g-1);D[q.qK]+=K.length;var C=u.EngineDict.AlternateGlyphRun;
if(C){var D=C.RunLengthArray,q=fS.Eb(D,g-1);D[q.qK]+=K.length}var x=u.EngineDict.ParagraphRun,D=x.RunLengthArray,H=fS.Eb(D,g),$=K.split("\n");
if($.length==1){D[H.qK]+=K.length;return}D.splice(H.qK+1,0,D[H.qK]-(g-H.Ju));x.RunArray.splice(H.qK+1,0,fS.fY(x.RunArray[H.qK]));
D[H.qK]-=D[H.qK+1];D[H.qK]+=$[0].length+1;for(var P=1;P<$.length-1;P++){x.RunArray.splice(H.qK+P,0,fS.fY(x.RunArray[H.qK+P-1]));
x.RunLengthArray.splice(H.qK+P,0,$[P].length+1)}D[H.qK+$.length-1]+=$[$.length-1].length};fS.A8=function(u,g,K){var X=fS.PU(u);
fS.T5(u,X.substring(0,g)+X.substring(K,X.length));fS._o(u.EngineDict.ParagraphRun,g,K,!0);fS._o(u.EngineDict.StyleRun,g,K,!1);
var w=u.EngineDict.AlternateGlyphRun;if(w)fS._o(w,g,K,!1)};fS._o=function(u,g,K,X){var w=u.RunLengthArray,D=fS.Eb(w,g),q=fS.Eb(w,K),C=[];
for(var P=0;P<w.length;P++)for(var a=0;a<w[P];a++)C.push(P);C.splice(g,K-g);var x=[];for(var P=0;P<w.length;
P++)x.push(0);for(var P=0;P<C.length;P++)x[C[P]]++;for(var P=0;P<w.length;P++){if(x[P]==0){x.splice(P,1);
w.splice(P,1);u.RunArray.splice(P,1);P--}else if(x[P]<w[P])w[P]=x[P]}if(X&&D.qK!=q.qK&&D.Ju!=g){w[D.qK]+=w[D.qK+1];
w.splice(D.qK+1,1);u.RunArray.splice(D.qK+1,1)}};fS.xm=function(u,g,K,X){var w=u.EngineDict.Editor.Text.length;
if(K==w-2)K++;if(X.QX.Font!=null)u.ResourceDict.FontSet=X._L.slice(0);if(g<=K)fS.aiq(u.EngineDict.StyleRun,X.QX,g,K,!0);
fS.aiq(u.EngineDict.ParagraphRun,X.Sh,g,K,!1)};fS.pP=function(u,g,K){var X={_L:u.ResourceDict.FontSet.slice(0),QX:[],Sh:[]},w=u.EngineDict.StyleRun.RunLengthArray,D=fS.Eb(w,g).qK,q=fS.Eb(w,K).qK;
for(var P=D;P<=q;P++){var C=fS.fY(u.ResourceDict.StyleSheetSet[0].StyleSheetData),x=u.EngineDict.StyleRun.RunArray;
if(x.length==0)continue;var H=x[P].StyleSheet.StyleSheetData;fS.hl(C,H);X.QX.push(C)}var $=u.EngineDict.ParagraphRun.RunLengthArray,r=fS.Eb($,g).qK,c=fS.Eb($,K).qK;
for(var P=r;P<=c;P++){var U=u.EngineDict.ParagraphRun.RunArray;if(U.length==0)continue;X.Sh.push(fS.fY(U[P].ParagraphSheet.Properties))}X.QX=X.QX.length==0?{}:fS.X7(X.QX);
X.Sh=X.Sh.length==0?{}:fS.X7(X.Sh);return X};fS.aiq=function(u,g,K,X,w){var D=u.RunLengthArray;if(w){var q=fS.Eb(D,K);
if(q.Ju!=K){var C=D[q.qK];D.splice(q.qK,0,K-q.Ju);D[q.qK+1]=C-D[q.qK];u.RunArray.splice(q.qK+1,0,fS.fY(u.RunArray[q.qK]))}var a=fS.Eb(D,X);
if(a.Ju+D[a.qK]-1!=X){var C=D[a.qK];D.splice(a.qK,0,X-a.Ju+1);D[a.qK+1]=C-D[a.qK];u.RunArray.splice(a.qK+1,0,fS.fY(u.RunArray[a.qK]))}}var q=fS.Eb(D,K),a=fS.Eb(D,X);
if(w)for(var P=q.qK;P<=a.qK;P++)fS.hl(u.RunArray[P].StyleSheet.StyleSheetData,g);else for(var P=q.qK;
P<=a.qK;P++)fS.hl(u.RunArray[P].ParagraphSheet.Properties,g)};fS.aec=function(u,g,K){var X=u.EngineDict.StyleRun.RunLengthArray,w=[],D=0;
for(var P=0;P<X.length;P++){var q=X[P];for(var C=0;C<q;C++)if(g<=D+C&&D+C<K)w.push(P);D+=q}var x=w[0],H=[];
for(var P=0;P<w.length;P++){var $=w[P]-x;if($==H.length)H.push(0);H[$]++}return H};fS.aa8=function(u){var g=u.EngineDict.StyleRun,K=g.RunArray,X=g.RunLengthArray;
for(var P=0;P<X.length-1;P++){var w=K[P].StyleSheet.StyleSheetData,D=K[P+1].StyleSheet.StyleSheetData;
if(JSON.stringify(w)==JSON.stringify(D)){K.splice(P+1,1);X[P]+=X[P+1];X.splice(P+1,1);P--}}};fS.RT=function(u){var g=u.cW.AntA.v.Annt;
g=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"].indexOf(g);if(g==-1)g=1;return g};fS.d2=function(u,g){u.cW.AntA.v.Annt=["Anno","antiAliasSharp","AnCr","AnSt","AnSm"][g]};
fS.o_=function(u,g){var K,X;K=["FontSize","Leading","BaselineShift"];X=u.QX;for(var P=0;P<K.length;P++)if(X[K[P]]!=null)X[K[P]]*=g;
K=["StartIndent","EndIndent","FirstLineIndent","SpaceBefore","SpaceAfter"];X=u.Sh;for(var P=0;P<K.length;
P++)if(X[K[P]]!=null)X[K[P]]*=g};fS.akI=function(){return fS.pP(fS.avO,0,0)};fS.alq=function(){return{classID:"TxLr",Txt:{t:"TEXT",v:"\0"},textGridding:{t:"enum",v:{textGridding:"None"}},Ornt:{t:"enum",v:{Ornt:"Hrzn"}},AntA:{t:"enum",v:{Annt:"antiAliasSharp"}},TextIndex:{t:"long",v:0}}};
fS.Eb=function(u,g){var K=0,P=0;while(K+u[P]<=g){K+=u[P];P++}return{qK:P,Ju:K}};fS.ajN=function(){var u=fS.fY(this.avO);
return u};fS.ajD=function(u,g){var K=g.Sh};fS.avh=function(u,g){var K=g.QX,X;X=u.Undl;if(X&&X.v.Undl=="underlineOnLeftInVertical")K.Underline=!0;
X=u.syntheticItalic;if(X)K.FauxItalic=X.v};fS.aef={Justification:0,FirstLineIndent:0,StartIndent:0,EndIndent:0,SpaceBefore:0,SpaceAfter:0,AutoHyphenate:!1,HyphenatedWordSize:6,PreHyphen:2,PostHyphen:2,ConsecutiveHyphens:8,Zone:36,WordSpacing:[.8,1,1.33],LetterSpacing:[0,0,0],GlyphSpacing:[1,1,1],AutoLeading:1.2,LeadingType:0,Hanging:!1,Burasagari:!1,KinsokuOrder:0,EveryLineComposer:!1,_Direction:0,_ComposerEngine:1};
fS.atS={Font:0,FontSize:12,FauxBold:!1,FauxItalic:!1,AutoLeading:!0,Leading:0,HorizontalScale:1,VerticalScale:1,Tracking:0,AutoKerning:!0,Kerning:0,BaselineShift:0,FontCaps:0,FontBaseline:0,Underline:!1,Strikethrough:!1,Ligatures:!0,DLigatures:!1,BaselineDirection:2,Tsume:0,StyleRunAlignment:2,Language:0,NoBreak:!1,FillColor:{Type:1,Values:[1,0,0,0]},StrokeColor:{Type:1,Values:[1,0,0,0]},_FillBackgroundColor:{Type:1,Values:[1,0,0,0]},FillFlag:!0,StrokeFlag:!1,_LineWidth:1,_FillBackgroundFlag:!1,FillFirst:!0,YUnderline:1,OutlineWidth:1,CharacterDirection:0,HindiNumbers:!1,Kashida:1,DiacriticPos:2};
fS.apb=function(){return{RunArray:[],RunLengthArray:[],IsJoinable:2}};fS.avO={EngineDict:{Editor:{Text:"\n"},ParagraphRun:{DefaultRunData:{ParagraphSheet:{DefaultStyleSheet:0,Properties:{}},Adjustments:{Axis:[1,0,1],XY:[0,0]}},RunArray:[{ParagraphSheet:{DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(fS.aef))},Adjustments:{Axis:[1,0,1],XY:[0,0]}}],RunLengthArray:[1],IsJoinable:1},StyleRun:{DefaultRunData:{StyleSheet:{StyleSheetData:{}}},RunArray:[{StyleSheet:{StyleSheetData:{Font:0,FontSize:24,AutoKerning:!0,Kerning:0}}}],RunLengthArray:[1],IsJoinable:2},GridInfo:{GridIsOn:!1,ShowGrid:!1,GridSize:18,GridLeading:22,GridColor:{Type:1,Values:[0,0,0,1]},GridLeadingFillColor:{Type:1,Values:[0,0,0,1]},AlignLineHeightToGridFlags:!1},AntiAlias:4,UseFractionalGlyphWidths:!0,Rendered:{Version:1,Shapes:{WritingDirection:0,Children:[{ShapeType:0,Procession:0,Lines:{WritingDirection:0,Children:[]},Cookie:{Photoshop:{ShapeType:0,PointBase:[0,0],Base:{ShapeType:0,TransformPoint0:[1,0],TransformPoint1:[0,1],TransformPoint2:[0,0]}}}}]}}},ResourceDict:{KinsokuSet:[{Name:"PhotoshopKinsokuHard",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u30FC\u2015\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011\u30FD\u30FE\u309D\u309E\u3005\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u309B\u309C?!)]},.:;\u2103\u2109\xA2\uFF05\u2030",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010([{\uFFE5\uFF04\xA3\uFF20\xA7\u3012\uFF03",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"},{Name:"PhotoshopKinsokuSoft",NoStart:"\u3001\u3002\uFF0C\uFF0E\u30FB\uFF1A\uFF1B\uFF1F\uFF01\u2019\u201D\uFF09\u3015\uFF3D\uFF5D\u3009\u300B\u300D\u300F\u3011\u30FD\u30FE\u309D\u309E\u3005",NoEnd:"\u2018\u201C\uFF08\u3014\uFF3B\uFF5B\u3008\u300A\u300C\u300E\u3010",Keep:"\u2015\u2025",Hanging:"\u3001\u3002.,"}],MojiKumiSet:[{InternalName:"Photoshop6MojiKumiSet1"},{InternalName:"Photoshop6MojiKumiSet2"},{InternalName:"Photoshop6MojiKumiSet3"},{InternalName:"Photoshop6MojiKumiSet4"}],TheNormalStyleSheet:0,TheNormalParagraphSheet:0,ParagraphSheetSet:[{Name:"Normal RGB",DefaultStyleSheet:0,Properties:JSON.parse(JSON.stringify(fS.aef))}],StyleSheetSet:[{Name:"Normal RGB",StyleSheetData:JSON.parse(JSON.stringify(fS.atS))}],FontSet:[{Name:"DejaVuSans",Script:0,FontType:1,Synthetic:0},{Name:"AdobeInvisFont",Script:0,FontType:0,Synthetic:0},{Name:"MyriadHebrew-Regular",Script:6,FontType:0,Synthetic:0}],SuperscriptSize:.583,SuperscriptPosition:.333,SubscriptSize:.583,SubscriptPosition:.333,SmallCapSize:.7}};
var dH={};dH.a2J=function(u){var g=dH.avF(u._0,u._1);dH.arT(g,u._0);return g};dH.a34=function(u,g,K){var X={};
X._98={_0:"i7"};X._0=dH.atL(u,g,K?K._0:null);X._1=dH.abp(u,g,X._0,K?K._1:null);return X};dH.atL=function(u,g,K){var X={};
X._1=dH.amW(u,K?K._1:null);X._2={_0:[{_0:{_0:"s"}}],_1:[{_0:"i0"}]};X._3=JSON.parse(JSON.stringify(dH.ans));
X._4=JSON.parse(JSON.stringify(dH.ad9));X._5=dH.a6q(u,X._1._0,K?K._5:null);X._6=dH.agV(u,K?K._6:null);
X._8=dH.aj$(u,g,K?K._8:null);X._9=dH.afA;return X};dH.arT=function(u,g){dH.abI(u,g._5,g._1._0)};dH.amW=function(u,g){var K=[],X=[];
for(var P=0;P<u.length;P++){var w=u[P].ResourceDict.FontSet;for(var D=0;D<w.length;D++){var q=w[D];if(X.indexOf(q.Name)!=-1)continue;
K.push(q);X.push(q.Name)}}var C={_0:[]};for(var P=0;P<K.length;P++){var a=K[P],x={_0:{_99:"/CoolTypeFont",_0:{_0:"s"+a.Name,_1:"i"+a.Script,_2:"i"+a.FontType}}};
if(a.Script==0)delete x._0._0._1;C._0.push(x)}return C};dH.a6q=function(u,g,K){var X={_0:[],_1:[]},w={_0:JSON.parse(JSON.stringify(dH.ad_))};
dH.aif(w._0,u[0].ResourceDict.StyleSheetSet[0],g,u[0].ResourceDict.FontSet);X._0.push(w);X._1.push({_0:"i0"});
X._0.push({_0:{_0:"sNone",_5:"i0",_6:{}}});X._1.push({_0:"i1"});return X};dH.abI=function(u,g,K){var X=g._0[0];
for(var P=0;P<u.length;P++)dH.atb(X._0,u[P].ResourceDict.StyleSheetSet[0],K,u[P].ResourceDict.FontSet)};
dH.agV=function(u,g){var K={_0:[],_1:[]},X={_0:JSON.parse(JSON.stringify(dH.jo))};dH.wr(X._0,u[0].ResourceDict.ParagraphSheetSet[0]);
K._0.push(X);K._1.push({_0:"i0"});X={_0:JSON.parse(JSON.stringify(dH.jo))};dH.wr(X._0,u[0].ResourceDict.ParagraphSheetSet[0]);
X._0._0="sBasic Paragraph";X._0._6="i0";K._0.push(X);K._1.push({_0:"i1"});return K};dH.aj$=function(u,g,K){var X={_0:[]};
for(var P=0;P<u.length;P++){var w=u[P].Curve,D={};X._0.push({_0:D});var q=fS._k(u[P]);D._2={};D._2._0="i"+q;
if(u[P]._LineOrientation==2)D._2._1="i2";if(q==0){D._2._6=["f-1","f-1"];D._2._11={_4:"i-1",_7:!1}}else if(q==1&&w==null){var C=fS.f5(u[P]),a=C[2],x=C[3];
D._1={_0:dH.yd("f",[0,0,0,0,a,0,a,0,a,0,a,0,a,x,a,x,a,x,a,x,0,x,0,x,0,x,0,x,0,0,0,0])};D._2._6=["f-2","f-2"];
D._2._11={_4:"i-2",_7:!1}}else if(q==1){var C=fS.f5(u[P]),a=C[2],x=C[3];D._1={_0:dH.yd("f",w.Points)};
D._2._6=["f-3","f-3"];D._2._11={_4:"i-3",_7:!1}}else if(q==2){D._1={_0:dH.yd("f",w.Points)};D._2._6=dH.yd("f",w.TextOnPathTRange);
D._2._11={_0:w.Reversed,_3:"i0",_5:"f0",_7:!1}}}return X};dH.abp=function(u,g,K,X){var w={};w._0=JSON.parse(JSON.stringify(dH.a58));
w._1=dH.acp(u,g,K,X?X._1:null);w._2=JSON.parse(JSON.stringify(dH.ad_._6));w._3=JSON.parse(JSON.stringify(dH.jo._5));
return w};dH.avF=function(u,g){return dH.avt(u,g._1)};dH.acp=function(u,g,K,X){var w=[],D=K._1._0;for(var P=0;
P<u.length;P++){var q=u[P],C={_0:{}};w.push(C);C._0._0="s"+q.EngineDict.Editor.Text;C._0._0=C._0._0;
var x=C._0._5={_0:[]},H=q.EngineDict.ParagraphRun;for(var $=0;$<H.RunArray.length;$++){var r={_0:{}};
x._0.push(r);r._0._0={_0:"s",_5:{},_6:"i1"};dH.wr(r._0._0,H.RunArray[$].ParagraphSheet);r._1="i"+H.RunLengthArray[$]}var c=C._0._6={_0:[]};
H=q.EngineDict.StyleRun;for(var $=0;$<H.RunArray.length;$++){var U={_0:{}};c._0.push(U);U._0._0={_0:"s",_5:"i1",_6:{}};
dH.aif(U._0._0,H.RunArray[$].StyleSheet,D,q.ResourceDict.FontSet);U._1="i"+H.RunLengthArray[$]}H=q.EngineDict.AlternateGlyphRun;
if(H){var O=C._0._9={_0:[]};for(var $=0;$<H.RunArray.length;$++){var A={_0:{}};O._0.push(A);var m=H.RunArray[$];
if(m.Glyph!=null){A._0._0={_0:"i"+m.Glyph,_1:"e"}}A._1="i"+H.RunLengthArray[$]}}C._0._10={_0:"i4",_2:!0};
C._1=dH.view.abt(q,null,P,null)}return w};dH.avt=function(u,g){var K=[],X=u._1._0;for(var P=0;P<g.length;
P++){var w=fS.ajN();K.push(w);var D=g[P];w.EngineDict.Editor.Text=D._0._0.slice(1);var q=w.EngineDict.ParagraphRun.RunArray[0],C=w.EngineDict.ParagraphRun,x=D._0._5;
if(x)for(var H=0;H<x._0.length;H++){var $=x._0[H];C.RunLengthArray[H]=parseInt($._1.slice(1));C.RunArray[H]=JSON.parse(JSON.stringify(q));
dH.adX($._0._0,C.RunArray[H].ParagraphSheet)}else{C.RunLengthArray[0]=fS.PU(w).length}var r=D._0._6;
C=w.EngineDict.StyleRun;if(r)for(var H=0;H<r._0.length;H++){var c=r._0[H];C.RunLengthArray[H]=parseInt(c._1.slice(1));
C.RunArray[H]={StyleSheet:{StyleSheetData:{}}};dH.atb(c._0._0,C.RunArray[H].StyleSheet,X,w.ResourceDict.FontSet)}else{C.RunLengthArray[0]=fS.PU(w).length;
C.RunArray[0]={StyleSheet:{StyleSheetData:{}}}}}return K};dH.aif=function(u,g,K,X,w){u._0="s"+(g.Name?g.Name:"");
var D=u._6,q=w?w._6:null,C=g.StyleSheetData;if(C.Font==null)return;var a=X[C.Font].Name,x=-1;for(var P=0;
P<K.length;P++)if("s"+a==K[P]._0._0._0){x=P;break}D._0="i"+x;if(C.FontSize!=null)D._1="f"+C.FontSize;
if(C.FauxBold!=null)D._2=C.FauxBold;if(C.FauxItalic!=null)D._3=C.FauxItalic;if(C.AutoLeading!=null)D._4=C.AutoLeading;
if(C.Leading!=null)D._5="f"+C.Leading;if(C.HorizontalScale!=null)D._6="f"+C.HorizontalScale;if(C.VerticalScale!=null)D._7="f"+C.VerticalScale;
if(C.Tracking!=null)D._8="i"+C.Tracking;if(C.BaselineShift!=null)D._9="f"+C.BaselineShift;if(C.AutoKerning!=null)D._11="i"+(C.AutoKerning?1:0);
if(C.FontCaps!=null)D._12="i"+C.FontCaps;if(C.FontBaseline!=null)D._13="i"+C.FontBaseline;if(C.Strikethrough!=null)D._15="i"+(C.Strikethrough?1:0);
if(C.Underline!=null)D._16="i"+(C.Underline?2:0);if(C.Ligatures!=null)D._18=C.Ligatures;if(C.DLigatures!=null)D._19=C.DLigatures;
if(C.BaselineDirection!=null)D._35="i"+C.BaselineDirection;if(C.Language!=null)D._38="i"+C.Language;
if(C.FillColor!=null)D._53=dH.lq(C.FillColor);if(C.StrokeColor!=null)D._54=dH.lq(C.StrokeColor);if(C.FillFlag!=null)D._56=C.FillFlag;
if(C.StrokeFlag!=null)D._57=C.StrokeFlag;if(C._LineWidth!=null)D._63="f"+C._LineWidth;if(C._FillBackgroundColor!=null)D._79=dH.lq(C._FillBackgroundColor);
if(C._FillBackgroundFlag!=null)D._80=C._FillBackgroundFlag};dH.lq=function(u){return{_99:"/SimplePaint",_0:{_0:"i1",_1:dH.yd("f",u.Values)}}};
dH.atb=function(u,g,K,X){var w=u._6;if(w==null)return;var D=g.StyleSheetData;if(w._0){var q=parseInt(w._0.slice(1)),C=K[q]._0._0._0.slice(1);
fS.rt({QX:D,_L:X},C)}if(w._1!=null)D.FontSize=parseFloat(w._1.slice(1));if(w._2!=null)D.FauxBold=w._2;
if(w._3!=null)D.FauxItalic=w._3;if(w._4!=null)D.AutoLeading=w._4;if(w._5!=null)D.Leading=parseFloat(w._5.slice(1));
if(w._6!=null)D.HorizontalScale=parseFloat(w._6.slice(1));if(w._7!=null)D.VerticalScale=parseFloat(w._7.slice(1));
if(w._8!=null)D.Tracking=parseFloat(w._8.slice(1));if(w._9!=null)D.BaselineShift=parseFloat(w._9.slice(1));
if(w._11!=null)D.AutoKerning=parseFloat(w._11.slice(1))==1;if(w._12!=null)D.FontCaps=parseFloat(w._12.slice(1));
if(w._13!=null)D.FontBaseline=parseFloat(w._13.slice(1));if(w._15!=null)D.Strikethrough=parseFloat(w._15.slice(1))==1;
if(w._16!=null)D.Underline=parseFloat(w._16.slice(1))==1;if(w._18!=null)D.Ligatures=w._18;if(w._19!=null)D.DLigatures=w._19;
if(w._35!=null)D.BaselineDirection=parseFloat(w._35.slice(1));if(w._38!=null)D.Language=parseFloat(w._38.slice(1));
if(w._53!=null)D.FillColor=dH.rO(w._53);if(w._54!=null)D.StrokeColor=dH.rO(w._54);if(w._56!=null)D.FillFlag=w._56;
if(w._57!=null)D.StrokeFlag=w._57;if(w._63!=null)D._LineWidth=parseFloat(w._63.slice(1));if(w._79!=null)D._FillBackgroundColor=dH.rO(w._79);
if(w._80!=null)D._FillBackgroundFlag=w._80};dH.rO=function(u){var g=u._0._0,K=u._0._1,X=[1,0,0,0],w=[];
for(var P=0;P<K.length;P++)w[P]=parseFloat(K[P].slice(1));if(g=="i0")X[1]=X[2]=X[3]=w[1];else if(g=="i1")X=w;
else if(g=="i2")X=[1].concat(UDOC.C.cmykToRgb(w.slice(1)));else console.log("unknown color type",g,w);
return{Type:1,Values:X}};dH.wr=function(u,g){u._0="s"+(g.Name?g.Name:"");var K=u._5,X=g.Properties;if(X.Justification!=null)K._0="i"+X.Justification;
if(X.FirstLineIndent!=null)K._1="f"+X.FirstLineIndent;if(X.StartIndent!=null)K._2="f"+X.StartIndent;
if(X.EndIndent!=null)K._3="f"+X.EndIndent;if(X.SpaceBefore!=null)K._4="f"+X.SpaceBefore;if(X.SpaceAfter!=null)K._5="f"+X.SpaceAfter;
if(X.AutoLeading!=null)K._7="f"+X.AutoLeading;if(X.AutoHyphenate!=null)K._9=X.AutoHyphenate;if(X._Direction!=null)K._33="i"+X._Direction;
if(X._ComposerEngine!=null)K._35="i"+X._ComposerEngine};dH.adX=function(u,g){var K=u._5;if(K==null)return;
var X=g.Properties;if(K._0)X.Justification=parseInt(K._0.slice(1))};dH.yd=function(u,g){var K=[];for(var P=0;
P<g.length;P++)K.push(u+g[P]);return K};dH.ans={_0:[{_0:{_0:"sPhotoshop6MojiKumiSet4",_5:{_0:"i0",_3:"i2"}}},{_0:{_0:"sPhotoshop6MojiKumiSet3",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sPhotoshop6MojiKumiSet2",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sPhotoshop6MojiKumiSet1",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sYakumonoHankaku",_5:{_0:"i0",_3:"i1"}}},{_0:{_0:"sGyomatsuYakumonoHankaku",_5:{_0:"i0",_3:"i3"}}},{_0:{_0:"sGyomatsuYakumonoZenkaku",_5:{_0:"i0",_3:"i4"}}},{_0:{_0:"sYakumonoZenkaku",_5:{_0:"i0",_3:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"},{_0:"i6"},{_0:"i7"}]};
dH.ad9={_0:[{_0:{_0:"sNone",_5:{_0:"s",_1:"s",_2:"s",_3:"s",_4:"i0"}}},{_0:{_0:"sPhotoshopKinsokuHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u309B\u309C\u309D\u309E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u30FB\u30FC\u30FD\u30FE\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sPhotoshopKinsokuSoft",_5:{_0:"s\u2019\u201D\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u309D\u309E\u30FB\u30FD\u30FE\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}},{_0:{_0:"sHard",_5:{_0:"s!),.:;?]}\xA2\u2014\u2019\u201D\u2030\u2103\u2109\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u309B\u309C\u309D\u309E\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u30FB\u30FC\u30FD\u30FE\uFF01\uFF05\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s([{\xA3\xA7\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3012\u3014\uFF03\uFF04\uFF08\uFF20\uFF3B\uFF5B\uFFE5",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i1"}}},{_0:{_0:"sSoft",_5:{_0:"s\u2019\u201D\u3001\u3002\u3005\u3009\u300B\u300A\u300F\u3011\u3015\u309D\u309E\u30FB\u30FD\u30FE\uFF01\uFF09\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF3D\uFF5D",_1:"s\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B",_2:"s\u2014\u2025\u2026",_3:"s\u3001\u3002\uFF0C\uFF0E",_4:"i2"}}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"}]};
dH.ad_={_0:"sNormal RGB",_6:{_0:"i0",_1:"f12",_2:!1,_3:!1,_4:!0,_5:"f0",_6:"f1",_7:"f1",_8:"i0",_9:"f0",_10:"f0",_11:"i1",_12:"i0",_13:"i0",_14:"i0",_15:"i0",_16:"i0",_17:"f0",_18:!0,_19:!1,_20:!1,_21:!1,_22:!1,_23:!1,_24:!1,_25:!1,_26:!1,_27:!1,_28:!1,_29:!1,_30:"i0",_31:!1,_32:!1,_33:!1,_34:!1,_35:"i2",_36:"f0",_37:"i2",_38:"i0",_39:"i0",_40:!1,_41:"i2",_42:"i0",_43:{_0:"f.5"},_44:"i2",_45:"i2",_46:"i7",_47:"i0",_48:"i0",_49:"f-1",_50:"f-1",_51:"i0",_52:!1,_53:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_54:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f0","f0","f0"]}},_55:{_99:"/SimpleBlender"},_56:!0,_57:!1,_58:!0,_59:!1,_60:!1,_61:"i0",_62:"i0",_63:"f1",_64:"f4",_65:"f0",_66:[],_67:[],_68:"i0",_69:"i0",_70:"i0",_71:"i4",_72:"f0",_73:"f0",_74:!1,_75:!1,_76:!1,_77:!0,_78:!0,_79:{_99:"/SimplePaint",_0:{_0:"i1",_1:["f1","f1","f1","f0"]}},_80:!1,_81:"i0",_82:"f3",_83:"f3",_84:!1,_85:"i0",_86:{_99:"/SimpleCustomFeature"},_87:"f100",_88:!0}};
dH.jo={_0:"sNormal RGB",_5:{_0:"i0",_1:"f0",_2:"f0",_3:"f0",_4:"f0",_5:"f0",_6:"i1",_7:"f1.2",_8:"i0",_9:!0,_10:"i6",_11:"i2",_12:"i2",_13:"i0",_14:"f36",_15:!0,_16:"f.5",_17:["f.8","f1","f1.33"],_18:["f0","f0","f0"],_19:["f1","f1","f1"],_20:"i6",_21:!1,_22:"i0",_23:!0,_24:"i0",_25:"i0",_27:"/nil",_26:!1,_28:"/nil",_29:!1,_30:{},_31:"f36",_32:{},_33:"i0",_34:"i7",_35:"i1",_36:"/nil",_37:"i0",_38:!1,_39:"i0",_40:"i2"}};
dH.afA={_0:[{_0:{_0:"skPredefinedNumericListStyleTag",_6:"i1"}},{_0:{_0:"skPredefinedUppercaseAlphaListStyleTag",_6:"i2"}},{_0:{_0:"skPredefinedLowercaseAlphaListStyleTag",_6:"i3"}},{_0:{_0:"skPredefinedUppercaseRomanNumListStyleTag",_6:"i4"}},{_0:{_0:"skPredefinedLowercaseRomanNumListStyleTag",_6:"i5"}},{_0:{_0:"skPredefinedBulletListStyleTag",_6:"i6"}}],_1:[{_0:"i0"},{_0:"i1"},{_0:"i2"},{_0:"i3"},{_0:"i4"},{_0:"i5"}]};
dH.a58={_0:{_0:"i1",_1:[{_0:"s ",_1:"s1"},{_0:"s\r",_1:"s6"},{_0:"s\t",_1:"s0"},{_0:"s\u2029",_1:"s5"},{_0:"s\x03",_1:"s5"},{_0:"s\u3000",_1:"s1"},{_0:"s\xAD",_1:"s3"}]},_1:"i0",_2:"i0",_3:"f.583",_4:"f.333",_5:"f.583",_6:"f.333",_7:"f.7",_8:!0,_9:[{_0:"i0",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i1",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i2",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i3",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i4",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i5",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i6",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i7",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i8",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i9",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i10",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i11",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i12",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i13",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i14",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i15",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i16",_1:"s\u201D",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i17",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i18",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i19",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i20",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i21",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i22",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i23",_1:"s\u201E",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i24",_1:"s\u201E",_2:"s\u201D",_3:"s\u201A",_4:"s\u2019"},{_0:"i25",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i26",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i27",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i28",_1:"s\u201E",_2:"s\u201D",_3:"s\u2019",_4:"s\u2019"},{_0:"i29",_1:"s\u301D",_2:"s\u301E"},{_0:"i30",_1:"s\u300C",_2:"s\u300D"},{_0:"i31",_1:"s\u201E",_2:"s\u201C",_3:"s\u2018",_4:"s\u2019"},{_0:"i32",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i33",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i34",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i35",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i36",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i37",_1:"s\xAB",_2:"s\xBB",_3:"s\u2018",_4:"s\u2019"},{_0:"i38",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i39",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i40",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i41",_1:"s\xAB",_2:"s\xBB",_3:"s<",_4:"s>"},{_0:"i42",_1:"s\u201E",_2:"s\u201C",_3:"s\u201A",_4:"s\u2018"},{_0:"i43",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"},{_0:"i44",_1:"s\xAB",_2:"s\xBB",_3:"s\u2039",_4:"s\u203A"},{_0:"i45",_1:"s\u201C",_2:"s\u201D",_3:"s\u2018",_4:"s\u2019"}],_15:{_0:"sWinSoft"},_16:!1};
var hi={};hi.agH=function(u){return hi.b7(u,hi.FD,0)};hi.a1g=function(u){return hi.Sg(u,hi.FD)};hi.b7=function(u,g,K){var X;
if(typeof u=="string")return u;if(u instanceof Array){X=[];for(var P=0;P<u.length;P++)X[P]=hi.b7(u[P],g,K+1)}else{X={};
var w={};for(var D in g){var q=g[D],C="_"+q[0];if(u[C]!=null){X[D]=q[1]?hi.b7(u[C],q[1],K+1):u[C];w[C]=!0}}for(var D in u){if(w[D]==null){if(D.length>3)continue;
console.log(g,w);console.log(D,u);throw"e"}}}return X};hi.Sg=function(u,g){var K;if(typeof u=="string")return u;
else if(u instanceof Array){K=[];for(var P=0;P<u.length;P++)K[P]=hi.Sg(u[P],g)}else{K={};var X={};for(var w in g){var D=g[w],q="_"+D[0];
if(u[w]!=null){K[q]=D[1]?hi.Sg(u[w],D[1]):u[w];X[w]=!0}}for(var w in u){if(X[w]==null){console.log(g,X);
console.log(w,u);throw"e"}}}return K};hi.C_={_Color:[0,{_Type:[0],_Values:[1]}],_CAIKnownStyleID:[5],_StreamTag:[99]};
hi.nG={_Font:[0],_FontSize:[1],_FauxBold:[2],_FauxItalic:[3],_AutoLeading:[4],_Leading:[5],_HorizontalScale:[6],_VerticalScale:[7],_Tracking:[8],_BaselineShift:[9],_CharacterRotation:[10],_AutoKern:[11],_FontCaps:[12],_FontBaseline:[13],_FontOTPosition:[14],_StrikethroughPosition:[15],_UnderlinePosition:[16],_UnderlineOffset:[17],_Ligatures:[18],_DiscretionaryLigatures:[19],_ContextualLigatures:[20],_AlternateLigatures:[21],_OldStyle:[22],_Fractions:[23],_Ordinals:[24],_Swash:[25],_Titling:[26],_ConnectionForms:[27],_StylisticAlternates:[28],_Ornaments:[29],_FigureStyle:[30],_ProportionalMetrics:[31],_Kana:[32],_Italics:[33],_Ruby:[34],_BaselineDirection:[35],_Tsume:[36],_StyleRunAlignment:[37],_Language:[38],_JapaneseAlternateFeature:[39],_EnableWariChu:[40],_WariChuLineCount:[41],_WariChuLineGap:[42],_WariChuSubLineAmount:[43,{_WariChuSubLineScale:[0]}],_WariChuWidowAmount:[44],_WariChuOrphanAmount:[45],_WariChuJustification:[46],_TCYUpDownAdjustment:[47],_TCYLeftRightAdjustment:[48],_LeftAki:[49],_RightAki:[50],_JiDori:[51],_NoBreak:[52],_FillColor:[53,hi.C_],_StrokeColor:[54,hi.C_],_Blend:[55,{_1:[1],_3:[3],_Knockout:[4],_StreamTag:[99]}],_FillFlag:[56],_StrokeFlag:[57],_FillFirst:[58],_FillOverPrint:[59],_StrokeOverPrint:[60],_LineCap:[61],_LineJoin:[62],_LineWidth:[63],_MiterLimit:[64],_LineDashOffset:[65],_LineDashArray:[66],_Type1EncodingNames:[67],_Kashidas:[68],_DirOverride:[69],_DigitSet:[70],_DiacVPos:[71],_DiacXOffset:[72],_DiacYOffset:[73],_OverlapSwash:[74],_JustificationAlternates:[75],_StretchedAlternates:[76],_FillVisibleFlag:[77],_StrokeVisibleFlag:[78],_FillBackgroundColor:[79,hi.C_],_FillBackgroundFlag:[80],_UnderlineStyle:[81],_DashedUnderlineGapLength:[82],_DashedUnderlineDashLength:[83],_SlashedZero:[84],_StylisticSets:[85],_CustomFeature:[86,{_StreamTag:[99]}],_MarkYDistFromBaseline:[87],_AutoMydfb:[88],_RefFontSize:[89],_FontSizeRefType:[90]};
hi.aaL={_Justification:[0],_FirstLineIndent:[1],_StartIndent:[2],_EndIndent:[3],_SpaceBefore:[4],_SpaceAfter:[5],_DropCaps:[6],_AutoLeading:[7],_LeadingType:[8],_AutoHyphenate:[9],_HyphenatedWordSize:[10],_PreHyphen:[11],_PostHyphen:[12],_ConsecutiveHyphens:[13],_Zone:[14],_HyphenateCapitalized:[15],_HyphenationPreference:[16],_WordSpacing:[17],_LetterSpacing:[18],_GlyphSpacing:[19],_SingleWordJustification:[20],_Hanging:[21],_AutoTCY:[22],_KeepTogether:[23],_BurasagariType:[24],_KinsokuOrder:[25],_Kinsoku:[27],_KurikaeshiMojiShori:[26],_MojiKumiTable:[28],_EveryLineComposer:[29],_TabStops:[30],_DefaultTabWidth:[31],_DefaultStyle:[32,hi.nG],_ParagraphDirection:[33],_JustificationMethod:[34],_ComposerEngine:[35],_ListStyle:[36],_ListTier:[37],_ListSkip:[38],_ListOffset:[39],_KashidaWidth:[40]};
hi.aod={_Name:[0],_Features:[5,hi.aaL],_Parent:[6],_UUID:[97]};hi.aix={_Name:[0],_Parent:[5],_Features:[6,hi.nG],_UUID:[97]};
hi.FD={_98:[98,{_0:[0]}],_DocumentResources:[0,{_0:[0],_FontSet:[1,{_Resources:[0,{_Resource:[0,{_StreamTag:[99],_Identifier:[0,{_Name:[0],_ScriptType:[1],_Type:[2],_Synthetic:[3],_4:[4],_MMAxis:[5]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiCodeToClassSet:[2,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_MojiKumiTableSet:[3,{_Resources:[0,{_Resource:[0,{_Name:[0],_Members:[5,{_CodeToClass:[0],_AutoTsume:[1,{_TsumeMappings:[0,{_Before:[0],_After:[1],_Code:[2]}]}],_Table:[2,{_DataArray:[0,{_SparseArray:[0,{_Index:[0],_Elements:[1,{_P:[0],_Data:[1,{_A:[0,{_R:[0],_P:[1]}],_B:[1,{_R:[0],_P:[1]}]}]}]}]}]}],_PredefinedTag:[3]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_KinsokuSet:[4,{_Resources:[0,{_Resource:[0,{_Name:[0],_Data:[5,{_NoStart:[0],_NoEnd:[1],_Keep:[2],_Hanging:[3],_PredefinedTag:[4]}],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}],_StyleSheetSet:[5,{_Resources:[0,{_Resource:[0,hi.aix]}],_DisplayList:[1,{_Resource:[0]}]}],_ParagraphSheetSet:[6,{_Resources:[0,{_Resource:[0,hi.aod]}],_DisplayList:[1,{_Resource:[0]}]}],_TextFrameSet:[8,{_Resources:[0,{_Resource:[0,{_0:[0],_Bezier:[1,{_Points:[0]}],_Data:[2,{_Type:[0],_LineOrientation:[1],_FrameMatrix:[2],_4:[4],_TextOnPathTRange:[6],_RowGutter:[7],_ColumnGutter:[8],_9:[9],_FirstBaselineAlignment:[10,{_Flag:[0],_Min:[1]}],_PathData:[11,{_1:[1],_Reversed:[0],_2:[2],_3:[3],_Spacing:[4],_5:[5],_6:[6],_7:[7],_18:[18]}],_12:[12],_13:[13]}],_UUID:[97]}]}]}],_ListStyleSet:[9,{_Resources:[0,{_Resource:[0,{_Name:[0],_LevelStyle:[5,{_IndentUnits:[0],_TextIndent:[1],_LabelIndent:[2],_LabelAlignment:[3],_SequenceGenerator:[5,{_Prefix:[0],_Postfix:[1],_CaseType:[3],_Bullet:[9],_StreamTag:[99]}],_Font:[6]}],_PredefinedTag:[6],_UUID:[97]}]}],_DisplayList:[1,{_Resource:[0]}]}]}],_DocumentObjects:[1,{_DocumentSettings:[0,{_HiddenGlyphFont:[0,{_AlternateGlyphFont:[0],_WhitespaceCharacterMapping:[1,{_WhitespaceCharacter:[0],_AlternateCharacter:[1]}]}],_NormalStyleSheet:[1],_NormalParagraphSheet:[2],_SuperscriptSize:[3],_SuperscriptPosition:[4],_SubscriptSize:[5],_SubscriptPosition:[6],_SmallCapSize:[7],_UseSmartQuotes:[8],_SmartQuoteSets:[9,{_Language:[0],_OpenDoubleQuote:[1],_CloseDoubleQuote:[2],_OpenSingleQuote:[3],_CloseSingleQuote:[4]}],_10:[10],_11:[11],_LinguisticSettings:[15,{_PreferredProvider:[0],_LinguisticProviderInfo:[1]}],_13:[13],_UseSmartLists:[16],_DefaultStoryDir:[17],_18:[18],_GreekingSize:[20]}],_TextObjects:[1,{_Model:[0,{_Text:[0],_ParagraphRun:[5,{_RunArray:[0,{_RunData:[0,{_ParagraphSheet:[0,hi.aod]}],_Length:[1]}]}],_StyleRun:[6,{_RunArray:[0,{_RunData:[0,{_StyleSheet:[0,hi.aix]}],_Length:[1]}]}],_FirstKern:[7],_8:[8],_AlternateGlyphRun:[9,{_RunArray:[0,{_RunData:[0,{_AlternateGlyphSheet:[0,{_Glyph:[0],_Name:[1],_2:[2]}]}],_Length:[1]}]}],_StorySheet:[10,{_AntiAlias:[0],_1:[1],_UseFractionalGlyphWidths:[2],_3:[3],_4:[4]}],_KernRun:[15],_HyperlinkRun:[16]}],_View:[1,{_Frames:[0,{_Resource:[0]}],_RenderedData:[1,{_RunArray:[0,{_RunData:[0,{_0:[0],_LineCount:[1]}],_Length:[1]}]}],_Strikes:[2]}],_OpticalAlignment:[2]}],_OriginalNormalStyleFeatures:[2,hi.nG],_OriginalNormalParagraphFeatures:[3,hi.aaL]}]};
dH.view={};dH.view.abt=function(u,g,K,X){var w={},D=fS._k(u);w._0=[{_0:"i"+K}];return w};function CSS(){}CSS.auQ=function(u,g){var K=u.add,X=K.vmsk,w=K.vstk,D=K.lmfx,q=K.TySh,C=[],a=CSS.ahR(D,K);
if(u.HS()&&X){var x=f.J.Xh(X._);if(!x.fg()){C.push("width: "+Math.round(x.m)+"px");C.push("height: "+Math.round(x.n)+"px")}var H=f.J.a8D(X._);
if(H>0)C.push("border-radius: "+Math.round(H)+"px")}else if(q){var $=q.Fd;if(fS._k($)==1){var x=fS.f5($);
C.push("width: "+Math.round(x[2])+"px");C.push("height: "+Math.round(x[3])+"px")}CSS.a0M(C,fS.pP($,0,0),q.D,!1,!1,a[0])}var r=[],c=D?D.dropShadowMulti.v:0;
for(var P=0;P<c.length;P++){var U=c[P].v;if(U.enab.v){var O=U.Dstn.v.val,A=U.lagl.v.val*Math.PI/180;
if(U.uglg&&U.uglg.v)A=g.pm()*Math.PI/180;var m=O*Math.cos(A),i=O*Math.sin(A);r.push("drop-shadow("+(m==0?"0 ":CSS.Dn(-m)+"px ")+(i==0?"0 ":CSS.Dn(i)+"px ")+U.blur.v.val/2+"px "+CSS.vQ(U.Clr.v,U.Opct.v.val/100)+")")}}if(r.length!=0)C.push("filter: "+r.join(" "));
if(q==null)CSS.al4(a,C);if(w==null||!w.strokeEnabled.v)w=bW.fq(D);if(w&&w.strokeEnabled.v){var e=w.strokeStyleContent.v,S=e.classID,E=k8.Sq.gg.indexOf(w.strokeStyleLineCapType.v.strokeStyleLineCapType),Z=k8.Sq.join.indexOf(w.strokeStyleLineJoinType.v.strokeStyleLineJoinType),N=w.strokeStyleOpacity.v.val/100,J=w.strokeStyleLineWidth.v.val,y="";
if(S=="solidColorLayer")y=CSS.vQ(e.Clr.v,N);C.push("border: "+J+"px solid "+y)}return C};CSS.ahR=function(u,g){var K=bW.o9(u,g),X=K[0],w=K[1],D,q;
if(X){D=CSS.vQ(X.Clr.v,g.iOpa!=null?g.iOpa/255:1)}else if(w){q=CSS._u(w)}return[D,q]};CSS.al4=function(u,g){if(u[0])g.push("background-color: "+u[0]);
if(u[1])g.push("background-image: "+u[1])};CSS.bi={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};
CSS.Dn=function(eJ){return""+parseFloat(eJ.toFixed(3))};CSS.$_=function(u){if(u==null)return{w:0,A:0,U:0};
var g=u.indexOf("(");if(g!=-1){var K=u.slice(g+1,u.length-1).split(",");for(var P=0;P<K.length;P++){var X=K[P].trim();
K[P]=parseFloat(X)*(X.endsWith("%")?255/100:1)}return{w:K[0],A:K[1],U:K[2]}}if(u.charAt(0)!="#"){var w=CSS.bi;
if(w[u])u=w[u];else console.log("unknown color "+u)}u=u.slice(1);if(u.length==4)u=u[0]+u[0]+u[1]+u[1]+u[2]+u[2]+u[3]+u[3];
if(u.length==3)u=u[0]+u[0]+u[1]+u[1]+u[2]+u[2];var D=-1;if(u.length==8){D=parseInt(u.slice(6),16);u=u.slice(0,6)}u=parseInt(u,16);
var q={w:u>>16&255,A:u>>8&255,U:u&255};if(D!=-1)q._x=D;return q};CSS.vQ=function(u,g){return CSS.Hi(f.X.Ld(u),g)};
CSS.Hi=function(u,g){if(g==null)g=1;var K=Math.round(u.w),X=Math.round(u.A),w=Math.round(u.U),D=K<<16|X<<8|w;
return g==1?"#"+f.ae(D):"rgba("+K+","+X+","+w+","+g+")"};CSS._u=function(u){var g=u.Grad.v;if(g.Clrs==null)return"";
var K=g.Clrs.v.slice(0),X=g.Trns.v.slice(0),w=u.Ofst.v,D=u.Type.v.GrdT=="Rdl"?1:0,q=(D==1?"radial":"linear")+"-gradient",C=D==0?Math.round(-u.Angl.v.val+90)+"deg":"circle at center",a=u.Rvrs.v;
if(a){K.reverse();X.reverse()}for(var P=0;P<K.length;P++){var x=K[P].v,H=P<X.length?X[P].v.Opct.v.val/100:1,$=x.Lctn.v/4096;
if(a)$=1-$;C+=", "+CSS.vQ(x.Clr.v,H)+" "+Math.round($*100)+"%"}return q+"("+C+")"};CSS.a0M=function(u,g,K,X,w,D){var q=g.QX,C=X?1:R.S.CJ(K),a=Math.round(q.FontSize*C);
u.push("font-size: "+a+"px");var x=q.Tracking;if(!X&&x!=null&&x!=0)u.push("letter-spacing: "+Math.round(x*a/1e3)+"px");
if(!q.AutoLeading)u.push("line-height: "+Math.round(q.Leading*C)+"px");if(q.Strikethrough)u.push("text-decoration: line-through");
if(q.Underline)u.push("text-decoration: underline");var H=fS.Ld(q.FillColor);H=[H.w,H.A,H.U].map(Math.round);
u.push((X?"fill: ":"color: ")+(D?D:"#"+f.ae(H[0]<<16|H[1]<<8|H[2])));var $=g._L[q.Font].Name;if($){var r=i2.QJ.VD($),c="",U=null,O=null;
if(r!=null&&$!=i2._5(r))r=null;if(w&&r)c+="\""+$+"\", ";var A=$.toLowerCase();if(r){U=i2.po(r)[0];if(r["OS/2"])O=r["OS/2"].usWeightClass}else{U=CSS.a2p($);
if(A.indexOf("light")!=-1)O=300;else if(A.indexOf("medium")!=-1)O=500;else if(A.indexOf("black")!=-1||A.indexOf("extrabold")!=-1)O=800;
else if(A.indexOf("bold")!=-1)O="bold"}if(U!=null)c+="\""+U+"\"";if(O!=null)u.push("font-weight: "+O);
if(A.indexOf("italic")!=-1||A.indexOf("oblique")!=-1)u.push("font-style: italic");if(c)u.push("font-family: "+c)}var m=g.Sh.Justification;
if(m!=null&&m!=0)if(X){}else u.push("text-align: "+["left","right","center"][m%3])};CSS.a2p=function(u){u=u.split("-")[0];
while(u.endsWith("MT")||u.endsWith("PS"))u=u.slice(0,u.length-2);var g=!0;for(var P=0;P<u.length;P++){var K=u.charAt(P);
if(!g&&K.toLowerCase()!=K){u=u.slice(0,P)+" "+u.slice(P);P++;g=!0}else g=!1}return u};function dX(){}dX.sh={document:!0,parent:!0,top:!0,eval:!0,postMessage:!0,UTIF:!0,PIMG:!0,LNG:!0,FNTS:!0};
dX.mp=function(u,g){var K=Date.now(),X=u.split("\n"),w;for(var P=0;P<X.length;P++)if(X[P].trim()[0]=="#"){X[P]=""}u=X.join("\n");
try{w=acorn.parse(u)}catch(fc){console.log(fc);return}var D=JSON.parse(JSON.stringify(dX.HO.Hg));D.__return=!1;
D.__continue=!1;D.__break=!1;D.__throw=!1;D.__fs={};D.__window={};dX.eval(w,g,D);var q=D.__fs;if(Object.keys(q).length!=0){var C=UZIP.encode(q);
gP.save(C,"output.zip")}};dX.eval=function(u,g,K){var X=u.type;if(!1){}else if(X=="Program"||X=="BlockStatement"){var w=u.body;
for(var P=0;P<w.length;P++){var D=w[P].type;if(D=="FunctionDeclaration")K[w[P].id.name]=w[P]}for(var P=0;
P<w.length;P++){var D=w[P].type,q=dX.eval(w[P],g,K);if(K.__continue){K.__continue=!1;return q}if(K.__return||K.__break||K.__throw)return q}}else if(X=="ReturnStatement"){K.__return=!0;
return u.argument?dX.kk(u.argument,g,K):null}else if(X=="BreakStatement"){K.__break=!0}else if(X=="ContinueStatement"){K.__continue=!0}else if(X=="VariableDeclaration"){var C=u.declarations;
for(var P=0;P<C.length;P++)dX.eval(C[P],g,K)}else if(X=="VariableDeclarator"){K[u.id.name]=u.init?dX.kk(u.init,g,K):null}else if(X=="FunctionDeclaration"){K[u.id.name]=u}else if(X=="MemberExpression"){var a=dX.kk(u.object,g,K),x=u.computed?dX.kk(u.property,g,K):dX.eval(u.property,g,K),q;
if(a.PK!=null)q=dX.HO.ly(a,x,g,K);else if(a==window&&dX.sh[x]){}else q=a[x];return q}else if(X=="ArrayExpression"){var H=[],$=u.elements;
for(var P=0;P<$.length;P++)H.push(dX.kk($[P],g,K));return H}else if(X=="ObjectExpression"){var H={},$=u.properties;
for(var P=0;P<$.length;P++){var r=$[P],U=$[P].key.name?$[P].key.name:$[P].key.value;H[U]=dX.kk($[P].value,g,K)}return H}else if(X=="ExpressionStatement"){return dX.eval(u.expression,g,K)}else if(X=="NewExpression"){var O=u.arguments,A=u.callee,m=A.type,i=A.name,e=[],H=null;
for(var P=0;P<O.length;P++)e.push(dX.kk(O[P],g,K));if(i=="Array")H=new window[i];else if(m=="Identifier")H=dX.HO.a33(i,e,g,K);
else throw"e";if(H==null)throw"new "+i;return H}else if(X=="CallExpression"){var O=u.arguments,A=u.callee,m=A.type,S={};
for(var E in K)S[E]=K[E];var e=[];for(var P=0;P<O.length;P++)e.push(dX.kk(O[P],g,K));if(m=="Identifier"){var Z=A.name,N=K[Z];
if(N){if(N.params){var J=N.params;for(var P=0;P<J.length;P++)S[J[P].name]=e[P];return dX.eval(N.body,g,S)}else{return N.apply(null,e)}}else if(dX.HO.a1X.indexOf(Z)!=-1)return dX.HO.bc({PK:"Application"},Z,e,g,K);
else if(window[Z]==null)console.log("Unknown function "+Z);else if(dX.sh[Z])alert(Z+"() not available");
else{var y=window[Z].apply(window,e);return y}}else if(m=="MemberExpression"){var a=dX.kk(A.object,g,K),x=A.computed?dX.kk(A.property,g,K):dX.eval(A.property,g,K);
if(a==window&&dX.sh[x])return;if(a.PK!=null)return dX.HO.bc(a,x,e,g,K);else if(x=="sort"&&a[0]&&a[0].PK=="Layer"){return a.sort(function(I,v){return I.h.getName()>v.h.getName()?1:-1})}else return a[x].apply(a,e)}else if(m=="FunctionExpression"){return dX.eval(A.body,g,K)}else console.log(u)}else if(X=="AssignmentExpression"){var o=u.operator,B=u.left,t=B.type,W=dX.kk(B,g,K),F=dX.kk(u.right,g,K),q=null;
if(!1){}else if(o=="=")q=F;else if(o=="+=")q=W+F;else if(o=="-=")q=W-F;else if(o=="*=")q=W*F;else if(o=="/=")q=W/F;
else if(o=="%=")q=W%F;else if(o=="&=")q=W&F;else if(o=="|=")q=W|F;else if(o=="&&=")q=W&&F;else if(o=="||=")q=W||F;
else console.log(u);if(t=="Identifier"){var G=B.name;if(K.hasOwnProperty(G))K[G]=q;else K.__window[G]=q}else if(t=="MemberExpression"){var L=dX.eval(B.property,g,K),Q=dX.kk(B.object,g,K);
if(Q.PK!=null)dX.HO.ah0(Q,L,q,g,K);else Q[L]=q}else console.log(u)}else if(X=="Identifier")return u.name;
else if(X=="Literal")return u.value;else if(X=="UpdateExpression"){var o=u.operator,T=u.argument.name,H=dX.kk(u.argument,g,K),j=K;
if(j[T]==null)j=K.__window;if(!1){}else if(o=="++"){j[T]++;return u.prefix?j[T]:j[T]-1}else if(o=="--"){j[T]--;
return u.prefix?j[T]:j[T]+1}else console.log(u)}else if(X=="UnaryExpression"){var o=u.operator,p=dX.kk(u.argument,g,K);
if(p.PK=="UnitValue"){if(o=="-")return-p.h;else return dX.a8H(p.h,o)}else return dX.a8H(p,o)}else if(X=="BinaryExpression"||X=="LogicalExpression"){var o=u.operator,B=dX.kk(u.left,g,K),p=dX.kk(u.right,g,K);
if(B==null||p==null)return dX.RY(B,p,o);else if(B.PK=="UnitValue"&&p.PK=="UnitValue")return dX.RY(B.h,p.h,o);
else if(B.PK=="UnitValue")return dX.RY(B.h,p,o);else if(p.PK=="UnitValue"){if(o=="-")return-(B-p.h);
else return dX.RY(B,p.h,o)}else return dX.RY(B,p,o)}else if(X=="IfStatement"||X=="ConditionalExpression"){var M=dX.kk(u.test,g,K);
if(M)return dX.eval(u.consequent,g,K);else if(u.alternate)return dX.eval(u.alternate,g,K)}else if(X=="ForInStatement"){dX.eval(u.left,g,K);
var n=u.left.declarations[0].id.name,d=dX.kk(u.right,g,K);for(var E in d){K[n]=E;var V=dX.eval(u.body,g,K);
if(K.__break)break;if(K.__return)return V}K.__break=!1}else if(X=="ForStatement"){dX.eval(u.init,g,K);
while(dX.eval(u.test,g,K)){var V=dX.eval(u.body,g,K);if(K.__break)break;if(K.__return)return V;dX.eval(u.update,g,K)}K.__break=!1}else if(X=="DoWhileStatement"){do{var V=dX.eval(u.body,g,K);
if(K.__break)break;if(K.__return)return V}while(dX.eval(u.test,g,K));K.__break=!1}else if(X=="TryStatement"){dX.eval(u.block,g,K);
if(K.__throw){var z=u.handler;K[z.param.name]=K.__throw;K.__throw=!1;dX.eval(z.body,g,K);delete K[z.param.name]}}else if(X=="EmptyStatement"){}else console.log(u)};
dX.RY=function(u,g,K){if(K=="+")return u+g;else if(K=="-")return u-g;else if(K=="*")return u*g;else if(K=="/")return u/g;
else if(K=="%")return u%g;else if(K=="^")return u^g;else if(K=="&")return u&g;else if(K=="&&")return u&&g;
else if(K=="|")return u|g;else if(K=="||")return u||g;else if(K=="<")return u<g;else if(K==">")return u>g;
else if(K=="=="){if(u.PK&&g.PK)return u.h==g.h;return u==g}else if(K=="===")return u===g;else if(K=="<=")return u<=g;
else if(K==">=")return u>=g;else if(K=="!=")return u!=g;else if(K=="!==")return u!==g;else if(K=="<<")return u<<g;
else if(K==">>")return u>>g;else console.log(K)};dX.a8H=function(u,g){if(g=="-")return-u;else if(g=="!")return!u;
else if(g=="~")return~u;else if(g=="+")return u;else if(g=="typeof")return typeof u;else console.log(g,u)};
dX.kk=function(u,g,K){var X=u.type;if(X=="Identifier")return dX.a8h(u.name,g,K);else return dX.eval(u,g,K)};
dX.a8h=function(u,g,K){if(u=="undefined")return undefined;else if(K.hasOwnProperty(u))return K[u];else if(u=="app")return{PK:"Application"};
else if(u=="$")return{PK:"$"};else if(dX.HO.a22.indexOf(u)!=-1)return dX.HO.ly({PK:"Application"},u,g,K);
else if(K.__window.hasOwnProperty(u))return K.__window[u];else if(window[u]&&!dX.sh[u])return window[u];
else{K[u]=null;return null}};dX.HO={};dX.HO.a33=function(u,g,K,X){var w;if(u=="SolidColor")w={PK:u,h:[1,0,0,0]};
if(u=="RGBColor")w={PK:u,h:[1,0,0,0]};if(u=="Window")w={PK:u,h:new ai(g[0],g[1],g[2])};if(u=="ExportOptionsSaveForWeb")w={PK:u,h:{e7:"png",G3:100}};
if(u=="JPEGSaveOptions")w={PK:u,h:{e7:"jpg",G3:100}};if(u=="PDFSaveOptions")w={PK:u,h:{e7:"pdf",ahN:""}};
if(u=="File")w={PK:u,h:g[0]};if(u=="ActionReference")w={PK:u,h:[]};if(u=="ActionDescriptor")w={PK:u,h:{}};
if(u=="ActionList")w={PK:u,h:[]};if(u=="UnitValue")w={PK:u,h:g.length==0?0:parseFloat(g[0])};return w};
dX.HO.a22="activeDocument documents fonts preferences displayDialogs foregroundColor backgroundColor version".split(" ");
dX.HO.a1X="charIDToTypeID stringIDToTypeID typeIDToStringID executeAction executeActionGet doAction".split(" ");
dX.HO.ly=function(u,g,K,X){var w=K.Li,D=K.MA();if(!1){}else if(g=="typename"){if(u.PK=="Layer")return u.h.xp()?"LayerSet":"ArtLayer";
else return u.PK}else if(["Document","Layer"].indexOf(u.PK)!=-1&&["layers","artLayers","layerSets"].indexOf(g)!=-1){var q=D.root,C={PK:"Layers",YR:g,h:[]};
if(u.PK=="Layer")q=D.root.WX(D.g.indexOf(u.h));if(q.children==null)return null;for(var P=0;P<q.children.length;
P++){var a=q.children[P].j,x=a.xp();if(x&&g=="artLayers"||!x&&g=="layerSets")continue;C.h.push({PK:"Layer",h:a})}C.h.reverse();
return C}else if(u.PK=="Documents"||u.PK=="Layers"||u.PK=="HistoryStates"||u.PK=="LayerComps"){if(!1){}else if(g=="length")return u.h.length;
else if(Number.isInteger(g))return u.h[g];else console.log(u.PK+": unknown property ",g)}else if(u.PK=="Application"){if(!1){}else if(g=="activeDocument")return{PK:"Document",h:K.MA()};
else if(g=="documents"){var C={PK:"Documents",h:[]};for(var P=0;P<K.BE.length;P++)C.h.push({PK:"Document",h:K.BE[P]});
return C}else if(g=="fonts")return{PK:"TextFonts"};else if(g=="preferences")return{PK:"Preferences"};
else if(g=="displayDialogs")return{PK:"DialogModes"};else if(g=="foregroundColor"||g=="backgroundColor"){var H=g[0]=="f"?w.FK:w.ui;
return{PK:"SolidColor",h:[1,(H>>>16&255)/255,(H>>>8&255)/255,(H>>>0&255)/255]}}else if(g=="UI")return{PK:"UI"};
else if(g=="version")return 30;else console.log(u,g)}else if(u.PK=="Document"){var D=u.h;if(!1){}else if(g=="activeLayer"){var a=D.g[D.z[0]];
return{PK:"Layer",h:a}}else if(g=="resolution")return D.wY;else if(g=="width")return D.m;else if(g=="height")return D.n;
else if(g=="name")return D.name;else if(g=="saved")return!D.oG();else if(g=="selection")return{PK:"Selection"};
else if(g=="activeHistoryState")return{PK:"HistoryState",Mw:D.YQ};else if(g=="source")return D.FN;else if(g=="layerComps"){var $=D.Yf.list.v,r=[];
for(var P=0;P<$.length;P++)r.push({PK:"LayerComp",h:P});return{PK:"LayerComps",h:r}}else if(g=="historyStates"){var c=[];
for(var P=0;P<D.history.length;P++)c.push({PK:"HistoryState",Mw:P});return{PK:"HistoryStates",h:c}}else if(g=="mode")return 7;
else console.log(u,g)}else if(u.PK=="LayerComp"){if(g=="name")return D.Yf.list.v[u.h].v.Nm.v;else throw g}else if(u.PK=="Layer"){var U={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},a=u.h;
if(!1){}else if(g=="visible")return a.AG();else if(g=="selected")return D.z.indexOf(D.g.indexOf(a))!=-1;
else if(g=="grouped")return a.tG;else if(U[g]!=null)return a.Kf(U[g]);else if(g=="opacity")return a.opacity*100/255;
else if(g=="blendMode")return a.wS;else if(g=="name")return a.getName();else if(g=="textItem")return{PK:"TextItem",h:a};
else if(g=="bounds"){var O=R.S.WA(D,[D.g.indexOf(a)]);return dX.HO.a4D(O,D)}else if(g=="parent"){var A=K.BE;
for(var P=0;P<A.length;P++)if(A[P].g.indexOf(a)!=-1)return{PK:"Document",h:A[P]}}else if(g=="kind"){var m=dX.HO.BI;
for(var P=0;P<m.length;P++)if(a.add[m[P]]!=null)return P;return 0}else if(g=="isBackgroundLayer")return a.add.lnsr="bgnd";
else console.log(u,g)}else if(u.PK=="Selection"){if(!1){}else if(g=="bounds")return dX.HO.a4D(K.MA().q.rect,D);
else console.log(u,g)}else if(u.PK=="TextItem"){var i=u.h.add.TySh,e=i.Fd,S=fS.PU(e),E=i.D.CJ(),Z=fS.pP(e,0,Math.max(0,S.length-2));
if(g=="contents")return S.slice(0,S.length-1).replace(/\n/g,"\r");else if(g=="font")return Z.QX.Font!=null?Z._L[Z.QX.Font].Name:null;
else if(g=="size")return dX.HO.sy(Z.QX.FontSize*E,D);else if(g=="leading")return dX.HO.sy(Z.QX.Leading*E,D);
else if(g=="tracking")return dX.HO.sy(Z.QX.Tracking);else if(g=="baselineShift")return dX.HO.sy(Z.QX.BaselineShift);
else if(g=="fauxBold")return Z.QX.FauxBold;else if(g=="fauxItalic")return Z.QX.FauxItalic;else if(g=="kind")return 1-fS._k(e);
else if(g=="useAutoLeading")return Z.Sh.AutoLeading;else if(g=="hyphenation")return Z.Sh.AutoHyphenate;
else if(g=="justification")return dX.HO.sy(Z.Sh.Justification);else if(g=="color")return{PK:"SolidColor",h:Z.QX.FillColor.Values.slice(0)};
else if(g=="width"||g=="height"){var N=fS.f5(e),J=(N[2]-N[0])*E,y=(N[3]-N[1])*E;return dX.HO.sy(g=="width"?J:y,D)}else if(g=="position"){var o=i.D;
return dX.HO.auJ([o.OR,o.ic],D)}else if(g=="horizontalScale"||g=="verticalScale"){var B=g[0].toUpperCase()+g.slice(1);
return Math.round(Z.QX[B]*100)}else if(g=="antiAliasMethod")fS.RT(i);else if(g=="totalTextStyle"){var C={};
for(var t=0;t<2;t++){var W=["Style","Paragraph"][t],F=e.EngineDict[W+"Run"].RunLengthArray,G=[],L=0;
for(var P=0;P<F.length;P++){var Q=fS.pP(e,L,Math.min(L+F[P],S.length-2));L+=F[P];G.push(t==0?Q.QX:Q.Sh);
C.fontSet=Q._L}C[W]={runs:F,styles:G}}return JSON.stringify(C)}else if(g=="transform"){var o=i.D;return JSON.stringify([o._x,o.U,o.nA,o.kR,o.OR,o.ic])}else console.log(u,g)}else if(u.PK=="Preferences"){if(g=="rulerUnits")return w.Pk.TQ;
else console.log(u,g)}else if(u.PK=="SolidColor"){if(g=="rgb")return{PK:"RGBColor",h:u.h};else console.log(u,g)}else if(u.PK=="RGBColor"){var O=Math.round(255*u.h[1]),T=Math.round(255*u.h[2]),j=Math.round(255*u.h[3]);
if(!1){}else if(g=="red")return O;else if(g=="green")return T;else if(g=="blue")return j;else if(g=="hexValue")return"#"+f.ae(O<<16|T<<8|j).toUpperCase();
else console.log(u,g)}else if(u.PK=="UnitValue"){if(g=="value")return u.h;else throw"e"}else if(u.PK=="ExportOptionsSaveForWeb"){if(g=="format")return u.h.e7;
else if(g=="PNG8"||g=="interlaced")return!1;else if(g=="quality")return u.h.G3;else if(g=="transparency")return!0;
else throw g}else if(u.PK=="JPEGSaveOptions"||u.PK=="PDFSaveOptions"){return 0}else if(u.PK=="$"){if(g=="localize")return!1}else if(u.PK=="ActionList"){if(g=="count")return u.sw.length;
else throw g}else console.log(u,g)};dX.HO.a4D=function(u,g){return dX.HO.auJ([u.x,u.y,u.x+u.m,u.y+u.n],g)};
dX.HO.auJ=function(u,g){var K=[];for(var P=0;P<u.length;P++)K.push(dX.HO.sy(u[P],g));return K};dX.HO.agx=function(u){var g=[];
for(var P=0;P<u.length;P++)g.push(u[P].PK?u[P].h:u[P]);return g};dX.HO.sy=function(u,g){return{PK:"UnitValue",h:u}};
dX.HO.ajG=function(u,g){if(u.PK=="UnitValue")return u.h;return u};dX.HO.ah0=function(u,g,K,X,w){var D=new eG(h.E.l,!0),q=new eG(h.E.Y,!0),C=X.MA(),a=X.Li;
if(!1){}else if(u.PK=="Application"){if(!1){}else if(g=="activeDocument"){q.data={d:h.s._1,UJ:K.h};X.c(q)}else if(g=="displayDialogs"){}else if(g=="foregroundColor"||g=="backgroundColor"){var x=K.h,H=x[1]*255<<16|x[2]*255<<8|x[3]*255<<0;
q.data={d:h.s.zS,M3:hO.YJ,KR:g=="foregroundColor"?0:1,h:H};X.c(q)}else console.log(u,g,K)}else if(u.PK=="Document"){var $=u.h;
if(!1){}else if(g=="name"){D.b=R.QA;D.data={d:l.BC,h:K,acF:!0,WR:$};C.vH=!0}else if(g=="source")$.FN=K;
else if(g=="activeLayer"){$.z=[$.g.indexOf(K.h)]}else if(g=="activeHistoryState"){D.b=R.QV;D.data={d:"h_itemchange",index:K.Mw}}else console.log(u,g)}else if(u.PK=="Layer"){D.b=R.QA;
var r={transparentPixelsLocked:0,pixelsLocked:1,positionLocked:2,allLocked:31},c=u.h,U=C.g.indexOf(c);
if(!1){}else if(g=="visible"){if(c.AG()!=K)D.data={d:l.Lf,j:U}}else if(g=="opacity"){D.data={d:l.f2,j:U,a5:Math.round(255*K/100)}}else if(g=="blendMode"){D.data={d:l.WG,j:U,a5:b0.t8.indexOf(K)}}else if(g=="name"){D.data={d:l.I1,j:U,name:K}}else if(r[g]!=null){D.data={d:l.gB,j:U,a5:[[K],[r[g]]]}}else if(g=="kind"){D.data={d:l.ry,j:U,S_:dX.HO.BI[K]}}else if(g=="grouped"){D.data={d:l.pV,j:U,a5:K}}else console.log(u,g,K)}else if(u.PK=="TextItem"){D.b=R.$d;
var c=u.h,O=c.add.TySh,A=JSON.parse(JSON.stringify(O.Fd)),m=O.D.clone(),i=O.D.CJ(),e=fS.PU(A),S=fS.pP(A,0,e.length-2),E=!1;
if(!1){}else if(g=="contents"){fS.A8(A,0,e.length-1);fS.G4(A,0,K.replace(/\r/g,"\n"))}else if(g=="size"){S.QX.FontSize=(K.h!=null?K.h:K)/i;
E=!0}else if(g=="leading"){S.QX.Leading=(K.h!=null?K.h:K)/i;E=!0}else if(g=="tracking"){S.QX.Tracking=K.h!=null?K.h:K;
E=!0}else if(g=="baselineShift"){S.QX.BaselineShift=K.h!=null?K.h:K;E=!0}else if(g=="fauxBold"){S.QX.FauxBold=K;
E=!0}else if(g=="fauxItalic"){S.QX.FauxItalic=K;E=!0}else if(g=="kind"){var Z=fS._k(A);if(Z==1&&K==1){var N=new ec(A,X.Li.aX).Sh[0],J=N.Ik[0].end,y=N.gE[J-1].end;
fS.A8(A,0,e.length-1);fS.G4(A,0,e.slice(0,y-1))}if(Z==K)fS.YM(A,1-K)}else if(g=="useAutoLeading"){S.Sh.AutoLeading=K;
E=!0}else if(g=="hyphenation"){S.Sh.AutoHyphenate=K;E=!0}else if(g=="justification"){S.Sh.Justification=K;
E=!0}else if(g=="font"){fS.rt(S,K);E=!0}else if(g=="color"){S.QX.FillColor.Values=K.h.slice(0);E=!0}else if(g=="width"||g=="height"){var B=fS.f5(A).slice(0),t=dX.HO.ajG(K);
if(g=="width")B[2]=Math.round(B[0]+t/i);else B[3]=Math.round(B[1]+t/i);fS.N2(A,B)}else if(g=="position"){m.OR=K[0];
m.ic=K[1]}else if(g=="horizontalScale"||g=="verticalScale"){var W=g[0].toUpperCase()+g.slice(1);S.QX[W]=K/100;
E=!0}else if(g=="antiAliasMethod")fS.d2(O,K);else console.log(u,g,K);if(E)fS.xm(A,0,e.length-1,S);D.data={d:"newED",NN:C.g.indexOf(c),ez:A,D:m}}else if(u.PK=="Preferences"){if(!1){}else if(g=="rulerUnits"){var F=JSON.parse(JSON.stringify(a.Pk));
F.TQ=K;q.data={d:h.s.zS,M3:hO.ne,a5:F};X.c(q)}else console.log(u,g,K)}else if(u.PK=="SolidColor"){if(g=="rgb")u.h=K.h;
else throw g}else if(u.PK=="RGBColor"){if(!1){}else if(g=="red")u.h[1]=K/255;else if(g=="green")u.h[2]=K/255;
else if(g=="blue")u.h[3]=K/255;else if(g=="hexValue"){var G=f.JK(K.slice(1));u.h[1]=(G>>>16&255)/255;
u.h[2]=(G>>>8&255)/255;u.h[3]=(G>>>0&255)/255}else console.log(u,g)}else if(u.PK=="ExportOptionsSaveForWeb"){if(g=="format")u.h.e7=K;
else if(g=="PNG8"||g=="transparency"||g=="interlaced"){}else if(g=="quality")u.h.G3=K;else throw g}else if(u.PK=="JPEGSaveOptions"){if(g=="quality")u.h.G3=Math.round(100*K/12)}else if(u.PK=="PDFSaveOptions"){if(g=="preset")u.h.ahN=K}else if(u.PK=="$"){if(g=="localize"){}}else console.log(u,g,K);
if(D.data!=null)X.c(D)};dX.HO.bc=function(u,g,K,X,w){var D=u.PK,q=null,C=new eG(h.E.l,!0),a=new eG(h.E.qf,!0),x=new eG(h.E.Y,!0),H=X.MA(),$=X.BE;
if(!1){}else if(D=="Application"){if(!1){}else if(g=="charIDToTypeID"){var r=K[0].trim(),c={slct:"select",Dlt:"delete",Mk:"make"};
return c[r]?c[r]:r}else if(g=="stringIDToTypeID"){var U=K[0].trim(),c={red:"Rd",blue:"Bl",color:"Clr",RGBColor:"RGBC",type:"Type",using:"Usng"},O=c[U];
return O==null?U:O}else if(g=="typeIDToStringID"){return K[0].trim()}else if(g=="executeAction"){console.log(K);
var A;if(K[1]){A=K[1].h;A.classID=K[0]}var m={setd:"set"},i=m[K[0]];if(i==null)i=K[0];var e=jO.Yz[K[0]];
if(e&&jO.aA[e])i=jO.aA[e];a.data={$T:i,NA:A}}else if(g=="executeActionGet"){return{PK:"ActionDescriptor",h:{classID:"null",null:{t:"obj ",v:K[0].h}},sw:H.g[H.z[0]]}}else if(g=="doAction"){x.data={d:h.s.mC,ZX:[K[0],K[1]]}}else if(g=="bringToFront"){}else if(g=="open"){x.data={d:h.s.Xc,M3:{url:K[0]}};
if(K[2]&&$.length!=0)x.data.M3.yU=$.indexOf(H)}else if(g=="echoToOE"){x.data={d:h.s.iT,M3:K[0]}}else console.log(g)}else if(D=="LayerComp"){if(g=="apply"){C.b=R.d$;
C.data={d:"setLC",Mw:H.Yf.list.v[u.h].v.compID.v}}else throw g}else if(D=="Document"){var H=u.h;if(!1){}else if(g=="crop"){a.data=R.SO.aiJ(K[0])}else if(g=="trim"){var S=[];
for(var P=0;P<4;P++)S.push(K[P+1]!=null?K[P+1]:!0);a.data=R.SO.or(K[0]!=null?K[0]:0,S)}else if(g=="suspendHistory"){var E=acorn.parse(K[1]);
dX.eval(E,X,w)}else if(g=="save"){x.data={d:h.s.Jl}}else if(g=="saveToOE"){x.data={d:h.s.Jl,Yy:K}}else if(g=="rotateCanvas"){a.data=R.S.__(!0,K[0])}else if(g=="resizeImage"||g=="resizeCanvas"){var Z=K[0],N=K[1];
if(typeof Z!="number"){Z=H.m*parseFloat(Z.slice(0,Z.length-1))/100;N=H.n*parseFloat(N.slice(0,N.length-1))/100}if(g=="resizeCanvas")a.data=R.SO.aeB(Math.round(Z),Math.round(N),K[2]);
else a.data=R.SO.aou(Math.round(Z),Math.round(N),null,1)}else if(g=="paste"){x.data={d:h.s.Va,T4:K.length!=0&&K[0],vE:!0}}else if(g=="close"){x.data={d:h.s.AU,CV:H}}else if(g=="exportDocument"||g=="saveAs"){var J=w.__fs,y=K[0].h.replace(":","").replace("~/",""),B=g=="exportDocument"?K[2].h:K[1].h,t=eH.rs(H,B.e7,null,null,B.e7=="pdf"?null:[B.G3],X.Li);
J[y]=new Uint8Array(t)}else console.log(u,g,K)}else if(D=="Layer"){var W=u.h,F=H.g.indexOf(W);if(!1){}else if(g=="copy"){dX.HO.ey(H,X,0);
x.data={d:h.s.AQ,LT:K[0],XR:F,vE:!0};X.c(x);delete x.data;dX.HO.ey(H,X,1)}else if(g=="clear"){dX.HO.ey(H,X,0);
a.data={$T:"delete"};X.c(a);delete a.data;dX.HO.ey(H,X,1)}else if(g=="duplicate"){if(K.length==0){C.data={d:l.bm,j:F};
C.b=R.QA;X.c(C);C.data=null;q={PK:"Layer",h:H.g[H.z[0]]}}else if(K[0].PK=="Document"){C.data={d:l.Xr,g:H.gp(F),Wx:H,eG:K[0].h};
C.b=R.QA}}else if(g=="merge"||g=="remove"){C.data={d:g=="merge"?l.wG:l.B4,j:F};C.b=R.QA;if(g!="remove")q={PK:"Layer",h:H.g[H.z[0]]}}else if(g=="move"){C.data={d:l.cR,source:F,target:H.g.indexOf(K[0].h),GX:K[1]!=3?.6:.3};
C.b=R.QA}else if(g=="rasterize"){a.data={$T:"rasterizeLayer",NA:{classID:"rasterizeLayer",null:bd.Af("Lyr",!0)}}}else if(g=="rotate"){C.data={d:"rot",Uz:[2,5],h:-K[0]*Math.PI/180,$P:K[1],j:F};
C.b=R.fr}else if(g=="resize"){C.data={d:"scl",Uz:[2,4],h:new j4(K[0]/100,K[1]/100),$P:K[2],j:F};C.b=R.fr}else if(g=="translate"){var G=dX.HO.agx(K);
C.data={d:"trsl",j:F,gu:G[0],ri:G[1]};C.b=R.Hx}else if(g=="link"){C.data={d:l.CO,aqH:[F,H.g.indexOf(K[0].h)]};
C.b=R.QA}else if(g=="invert"){C.b=R.sM;C.data={d:"start",W1:"nvrt"}}else if(g.startsWith("apply")&&dJ.abH[g.slice(5)]){var G=dX.HO.agx(K),L=dJ.abH[g.slice(5)];
a.data={$T:dJ.aA[L]};var A=dJ.mt(L);if(A){dJ.U7["g"+L](A,G);a.data.NA=A}}else console.log(u,g,K)}else if(D=="Documents"){if(g=="getByName"){for(var P=0;
P<$.length;P++)if($[P].name==K[0])return{PK:"Document",h:$[P]};return null}else if(g=="add"){var Q=K[5];
if(Q==null)Q=1;a.data=f0.Kq(K[0],K[1],K[2],K[3],["Wht","Trns","BckC"][Q],!1)}else throw"e"}else if(D=="Layers"){if(g=="getByName"){for(var P=0;
P<u.h.length;P++)if(u.h[P].h.getName()==K[0]){q=u.h[P];break}if(q==null)w.__throw={message:"No layer with a name "+K[0]}}else if(g=="add"){C.data={d:u.YR=="layerSets"?l.nk:l.Vq};
C.b=R.QA;X.c(C);C.data=null;q={PK:"Layer",h:H.g[H.z[0]]}}else console.log(u,g,K)}else if(u.PK=="Selection"){if(g=="select"){var T=K[0],j=[];
for(var P=0;P<T.length;P++)j.push(T[P][0],T[P][1]);a.data=R.uO.Ws(j)}else if(g=="clear"){a.data={$T:"delete"}}else if(g=="selectAll"){a.data=R.uO.IX(!0)}else if(g=="invert"){a.data={$T:"inverse"}}else if(g=="copy"){x.data={d:h.s.AQ}}else if(g=="deselect"){a.data=R.uO.IX()}else if(g=="fill"){var p=K[0].h;
p=f.X.Gp({w:p[1]*255,A:p[2]*255,U:p[3]*255});a.data=R.Xo.cH("Clr",K[1],K[2]==null?1:K[2]/100,p)}else if(g=="translate"){var A={classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]},T:{t:"Objc",v:{__name:"Offset",classID:"Ofst",Hrzn:{t:"UntF",v:{type:"#Pxl",val:K[0]}},Vrtc:{t:"UntF",v:{type:"#Pxl",val:K[1]}}}}};
a.data={$T:"move",NA:A}}else console.log(u,g,K)}else if(u.PK=="Window"){if(g=="show"){x.data={d:h.s.KP,Pu:u.h}}else throw"e"}else if(u.PK=="ActionReference"){if(g=="putProperty"){u.h.push({t:"prop",v:{classID:K[0],keyID:K[1]}})}else if(g=="putClass"){u.h.push({t:"Clss",v:{classID:K[0]}})}else if(g=="putEnumerated"){u.h.push({t:"Enmr",v:{classID:K[0],typeID:K[1],enum:K[2]}})}else if(g=="putName"){u.h.push({t:"name",v:{classID:K[0],val:K[1]}})}else console.log(g,K)}else if(u.PK=="ActionDescriptor"||u.PK=="ActionList"){if(g=="putReference"){u.h[K[0]]={t:"obj ",v:K[1].h}}else if(g=="putDouble"){u.h[K[0]]={t:"doub",v:K[1]}}else if(g=="putUnitDouble"){u.h[K[0]]={t:"UntF",v:{type:K[1],val:K[2]}}}else if(g=="putObject"){if(u.PK=="ActionList"){var M=K[1].h;
M.classID=K[0];u.h.push({t:"Objc",v:M})}else{var M=K[2].h;M.classID=K[1];u.h[K[0]]={t:"Objc",v:M}}}else if(g=="putList"){u.h[K[0]]={t:"VlLs",v:K[1].h}}else if(g=="putBoolean"){u.h[K[0]]={t:"bool",v:K[1]}}else if(g=="putInteger"){u.h[K[0]]={t:"long",v:K[1]}}else if(g=="putString"){u.h[K[0]]={t:"TEXT",v:K[1]}}else if(g=="putEnumerated"){var n={};
n[K[1]]=K[2];u.h[K[0]]={t:"enum",v:n}}else if(g=="hasKey"){var W=H.g[H.z[0]],r=K[0];if(r=="textKey")return W.add.TySh!=null;
var d=u.h.null.v;for(var P=0;P<d.length;P++){if(d[P].v.keyID==K[0]){if(r=="UsrM"){return W.Zv()!=null}else throw K}}}else if(g=="getEnumerationValue"){if(K[0]=="layerSection")q="layerSectionContent";
else console.log(K)}else if(g=="getBoolean"){if(K[0]=="background")q=!1;else console.log(K)}else if(g=="getString"){if(K[0]=="name")q=u.sw.getName();
else if(K[0]=="textKey")q=fS.PU(u.sw.Fd);else console.log(u,K)}else if(g=="getObjectValue"){if(K[0]=="textKey"){q={PK:"ActionDescriptor",sw:u.sw.add.TySh}}else if(typeof K[0]=="number")q=u.sw[K[0]];
else throw K[0]}else if(g=="getList"){q={PK:"ActionList"};if(K[0]=="paragraphStyleRange")q.sw=u.sw.Fd.EngineDict.ParagraphRun.RunArray;
else if(K[0]=="kerningRange")q.sw=[];else if(K[0]=="textStyleRange")q.sw=u.sw.Fd.EngineDict.StyleRun.RunArray;
else throw K}else console.log(g,K)}else if(u.PK=="$"){if(g=="writeln"){console.log(K[0])}else throw g}else if(u.PK=="UI"){var V;
if(g=="zoomIn"||g=="zoomOut"){V={d:"zoom",bZ:g=="zoomIn"}}else if(g=="fitTheArea"){V={d:"adapt",h:"fitscr"}}else if(g=="pixelToPixel"){V={d:"adapt",h:"pixel"}}C.b=R.d0;
C.data=V;if(g=="switchFullscreen"){var z=X.Li.Rg,I=document.fullscreenElement!=null==(z==2);x.data={d:h.s.Qe,h:z==0?2:0,G6:I}}}else console.log(u,g,K);
if(C.data)X.c(C);if(a.data)X.c(a);if(x.data)X.c(x);return q};dX.HO.ey=function(u,g,K){var X=new eG(h.E.l,!0);
X.b=R.C1;var w=new eG(h.E.qf,!0);if(K==0){dX.HO.aw8=u.q;w.data=R.uO.IX(!0)}else{var D=dX.HO.aw8;if(D)X.data={d:"setsel",Uz:"Restore Selection",q:{rect:D.rect.clone(),channel:D.channel.slice(0)}};
else w.data=R.uO.IX()}g.c(X.data?X:w)};dX.HO.aw8=null;dX.HO.Hg={AnchorPosition:{TOPLEFT:0,TOPCENTER:1,TOPRIGHT:2,MIDDLELEFT:3,MIDDLECENTER:4,MIDDLERIGHT:5,BOTTOMLEFT:6,BOTTOMCENTER:7,BOTTOMRIGHT:8},Units:{PIXELS:0,INCHES:1,CM:2,MM:3,PERCENT:4,PICAS:5,POINTS:6},ElementPlacement:{INSIDE:0,PLACEATBEGINNING:1,PLACEATEND:2,PLACEBEFORE:3,PLACEAFTER:4},LayerKind:{NORMAL:0,SMARTOBJECT:1,TEXT:2,SOLIDFILL:3,GRADIENTFILL:4,PATTERNFILL:5},RippleSize:{SMALL:0,MEDIUM:1,LARGE:2},PolarConversionType:{POLARTORECTANGULAR:1,RECTANGULARTOPOLAR:0},OffsetUndefinedAreas:{REPEATEDGEPIXELS:0,SETTOBACKGROUND:1,WRAPAROUND:2},NoiseDistribution:{GAUSSIAN:0,UNIFORM:1},TextType:{PARAGRAPHTEXT:0,POINTTEXT:1},DialogModes:{ALL:0,ERROR:1,NO:2},SaveOptions:{DONOTSAVECHANGES:0,PROMPTTOSAVECHANGES:1,SAVECHANGES:2},SaveDocumentType:{PNG:"png",JPEG:"jpg",COMPUSERVEGIF:"gif"},ExportType:{SAVEFORWEB:0},MatteType:{BACKGROUND:0,BLACK:1,FOREGROUND:2,NETSCAPE:3,NONE:4,SEMIGRAY:5,WHITE:6},FormatOptions:{OPTIMIZEDBASELINE:0,PROGRESSIVE:1,STANDARDBASELINE:3},DocumentMode:{BITMAP:0,CMYK:1,DUOTONE:2,GRAYSCALE:3,INDEXEDCOLOR:4,LAB:5,MULTICHANNEL:6,RGB:7},NewDocumentMode:{BITMAP:0,CMYK:1,DUOTONE:2,GRAYSCALE:3,INDEXEDCOLOR:4,LAB:5,MULTICHANNEL:6,RGB:7},DocumentFill:{WHITE:0,TRANSPARENT:1,BACKGROUNDCOLOR:2},TrimType:{TOPLEFT:0,BOTTOMRIGHT:1,TRANSPARENT:2},BlendMode:{NORMAL:"norm",DISSOLVE:"diss",DARKEN:"dark",MULTIPLY:"mul ",COLORBURN:"idiv",LINEARBURN:"lbrn",DARKERCOLOR:"dkCl",LIGHTEN:"lite",SCREEN:"scrn",COLORDODGE:"div ",LINEARDODGE:"lddg",LIGHTERCOLOR:"lgCl",OVERLAY:"over",SOFTLIGHT:"sLit",HARDLIGHT:"hLit",VIVIDLIGHT:"vLit",LINEARLIGHT:"lLit",PINLIGHT:"pLit",HARDMIX:"hMix",DIFFERENCE:"diff",EXCLUSION:"smud",SUBTRACT:"fsub",DIVIDE:"fdiv",HUE:"hue ",SATURATION:"sat ",COLOR:"colr",LUMINOSITY:"lum "},Justification:{LEFT:0,RIGHT:1,CENTER:2,LEFTJUSTIFIED:3,RIGHTJUSTIFIED:4,CENTERJUSTIFIED:5,FULLYJUSTIFIED:6},AntiAlias:{NONE:0,SHARP:1,CRISP:2,STRONG:3,SMOOTH:4}};
dX.HO.Hg.ColorBlendMode=dX.HO.Hg.BlendMode;dX.HO.BI="---- SoLd TySh SoCo GdFl PtFl".split(" ");function kf(){}kf.zA={"dc:Title":["",null,"dc:title"],"tiff:Artist":["",315,"dc:creator"],"tiff:ImageDescription":["",270,"dc:description"],"dc:Keywords":["",null,"dc:subject"],"tiff:Copyright":["",33432],"tiff:Make":["",271],"tiff:Model":["",272],"exif:ExposureTime":[[1,200],33434],"exif:FNumber":[[16,1],33437],"exif:ExposureProgram":[1,34850],"exif:ISOSpeedRatings":[200,34855],"exif:DateTimeOriginal":["",36867],"exif:ShutterSpeedValue":[[1,1],37377],"exif:ApertureValue":[[8,1],37378],"exif:ExposureBiasValue":[[1,1],37380],"exif:MaxApertureValue":[[1,1],37381],"exif:MeteringMode":[5,37383],"exif:LightSource":[0,37384],"exif:Flash":[0,37385],"exif:FocalLength":[[60,1],37386],"exif:PixelXDimension":[1,40962],"exif:PixelYDimension":[1,40963],"exif:FocalPlaneXResolution":[[1,1],41486],"exif:FocalPlaneYResolution":[[1,1],41487],"exif:FocalPlaneResolutionUnit":[2,41488],"exif:DigitalZoomRatio":[[100,100],41988],"exif:FocalLengthIn35mmFilm":[1,41989],"exif:SceneCaptureType":[0,41990],"exif:LensInfo":["",42034],"exif:Lens":["",42036],"exif:LensSerialNumber":["",42037],"exif:SensitivityType":[2,34864],"exif:RecommendedExposureIndex":[100,34866],"exif:GPSVersionID":["2.3.0.0",0],"exif:GPSLatitude":["48,35,57.646N",2],"exif:GPSLongitude":["22,56,42.238E",4],"exif:GPSAltitudeRef":[0,5],"exif:GPSAltitude":[[1,1],6],"exif:GPSStatus":["A",9],"exif:GPSMapDatum":["",18],"Iptc4xmpCore:IntellectualGenre":[""],"Iptc4xmpCore:Location":[""],"Iptc4xmpCore:CountryCode":[""],"photoshop:Instructions":[""],"photoshop:AuthorsPosition":[""],"photoshop:City":[""],"photoshop:State":[""],"photoshop:Country":[""],"photoshop:TransmissionReference":[""],"photoshop:Headline":[""],"photoshop:Credit":[""],"photoshop:Source":[""],"dc:rights":[""],"photoshop:CaptionWriter":[""]};
kf.fl={"4":"Iptc4xmpCore:IntellectualGenre","5":"dc:Title","40":"photoshop:Instructions","80":"tiff:Artist","85":"photoshop:AuthorsPosition","90":"photoshop:City","92":"Iptc4xmpCore:Location","95":"photoshop:State","100":"Iptc4xmpCore:CountryCode","101":"photoshop:Country","103":"photoshop:TransmissionReference","105":"photoshop:Headline","110":"photoshop:Credit","115":"photoshop:Source","116":"dc:rights","120":"tiff:ImageDescription","122":"photoshop:CaptionWriter"};
kf.afN=function(u,g){if(g==null)g={};var K=kf.fl,X=[],w=[],D="";for(var P=0;P<u.length;P++){var q=u[P],C=K[q[0]+""];
if(C&&g[C]==null)g[C]=q[1];else if(q[0]==12)w.push(q[1]);else if(q[0]==25)X.push(q[1]);else if(q[0]==55)D=q[1];
else if(q[0]==60)D+=";"+q[1]}if(D!=""&&g["exif:DateTimeOriginal"]==null)g["exif:DateTimeOriginal"]=D;
if(w.length!=0&&g["Iptc4xmpCore:SubjectCode"]==null)g["Iptc4xmpCore:SubjectCode"]=w.join(";");if(X.length!=0&&g["dc:Keywords"]==null)g["dc:Keywords"]=X.join(";");
return g};kf.anl=function(u){var g=kf.fl,K=[];for(var X in g)if(u[g[X]])K.push([parseInt(X),u[g[X]]]);
if(u["Iptc4xmpCore:SubjectCode"]){var w=u["Iptc4xmpCore:SubjectCode"].split(";");for(var P=0;P<w.length;
P++)K.push([12,w[P].trim()])}if(u["dc:Keywords"]){var w=u["dc:Keywords"].split(";");for(var P=0;P<w.length;
P++)K.push([25,w[P].trim()])}K.sort(function(D,q){return D[0]-q[0]});return K};kf.aaB=function(u,g){if(g==null)g={};
var K=new DOMParser,X=K.parseFromString(u,"image/svg+xml"),w=X.getElementsByTagName("rdf:Description")[0];
if(w==null)return g;var D=kf.zA;for(var q in D){var C=D[q][2];if(C==null)continue;var a=w.getElementsByTagName(C)[0];
if(a==null)continue;var x=a.getElementsByTagName("rdf:li"),H=[];for(var P=0;P<x.length;P++)H.push(x[P].textContent);
g[q]=H.join("; ")}return g};kf.anv=function(u){var g=["<?xpacket begin=\"\uFEFF\" id=\"W5M0MpCehiHzreSzNTczkc9d\"?>","<x:xmpmeta xmlns:x=\"adobe:ns:meta/\" x:xmptk=\"Adobe XMP Core 5.6-c145 79.163499, 2018/08/13-16:40:22\">","<rdf:RDF xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\">","<rdf:Description rdf:about=\"\" xmlns:xmp=\"http://ns.adobe.com/xap/1.0/\" xmlns:dc=\"http://purl.org/dc/elements/1.1/\" xmlns:xmpMM=\"http://ns.adobe.com/xap/1.0/mm/\" xmlns:stEvt=\"http://ns.adobe.com/xap/1.0/sType/ResourceEvent#\" xmlns:stRef=\"http://ns.adobe.com/xap/1.0/sType/ResourceRef#\">"],K=kf.zA;
for(var X in K){var w=u[X],D=K[X][2],q="Seq",C="";if(w==null||D==null)continue;if(D=="dc:title"||D=="dc:description"){q="Alt";
C=" xml:lang=\"x-default\""}if(D=="dc:subject")q="Bag";g.push("\t<"+D+"><rdf:"+q+">");var a=D=="dc:subject"?w.split(";").join(",").split(","):[w];
for(var P=0;P<a.length;P++)g.push("\t\t<rdf:li"+C+">"+a[P].trim()+"</rdf:li>");g.push("\t</rdf:"+q+"></"+D+">")}g.push("</rdf:Description>","</rdf:RDF>","</x:xmpmeta>","<?xpacket end=\"w\"?>");
return g.join("\n")};kf.akp=function(u){var g=[];for(var P=0;P<u.length;P++)g[P]=u[P][1]==0?0:u[P][0]/u[P][1];
return g};kf.a4T=function(u){var g=[];for(var P=0;P<u.length;P++){var K=u[P],X=1;if(K!=Math.round(K)){X=1e3;
K=Math.round(K*X)}g[P]=[K,X]}return g};kf.nK=function(u,g){var K=kf.zA;if(g==null)g={};for(var X in K){var w=K[X][1],D="t"+w;
if(w!=null&&u[D]!=null){var q=u[D];if(w==0)q=q.join(".");else if(w==2||w==4){var C=u["t"+(w-1)];if(C==null)C=[w==2?"N":"E"];
q=kf.akp(q).join(",")+C[0]}else if(w==42034)q=kf.akp(q).join(" ");else if(w==270||w==315){var a=q[0],x=new Uint8Array(a.length);
k.Gs(x,0,a);q=k.KO(x)}else q=q[0];g[X]=q}}if(u.exifIFD)kf.nK(u.exifIFD,g);if(u.gpsiIFD)kf.nK(u.gpsiIFD,g);
return g};kf.bl=function(u,g,K){var X=kf.zA,D=0,C=0;if(g==null)g={};var w={},q={};for(var a in X){if(u[a]==null||X[a][1]==null)continue;
var x=X[a][1],H="t"+x,$=g;if(a.startsWith("exif:")){$=w;D++;if(a.startsWith("exif:GPS")){$=q;C++}}var r=u[a];
if(x==0)r=new Uint8Array(r.split(".").map(parseFloat));else if(x==2||x==4){var c=r.length;$["t"+(x-1)]=[r.slice(r.length-1)];
r=kf.a4T(r.split(",").map(parseFloat))}else if(x==42034)r=kf.a4T(r.split(" ").map(parseFloat));else if(x==270||x==315){var U=k.o0(r);
r=[k.u6(U,0,U.length)]}else r=[r];$[H]=r}if(D!=0){g.exifIFD=w;g.t34665=[0]}if(C!=0){g.gpsiIFD=q;g.t34853=[0]}var O=new Date,A=[O.getFullYear(),O.getMonth()+1,O.getDate(),O.getHours(),O.getMinutes(),O.getSeconds()];
for(var P=0;P<6;P++)A[P]=(A[P]+"").padStart(2,"0");g.t305=["Photopea Editor (www.photopea.com)"];if(K!=!0)g.t306=[A[0]+":"+A[1]+":"+A[2]+" "+A[3]+":"+A[4]+":"+A[5]];
return g};function k4(){}k4.h7=function(u){var g={ax2:",",rE:"\r\n",O0:"\""},K=[[""]],X,w,D,q,C;for(X=w=D=q=0;
D<u.length;D++){switch(C=u.charAt(D)){case g.O0:if(q&&u.charAt(D+1)==g.O0){K[X][w]+=g.O0;++D}else{q^=1}break;
case g.ax2:if(!q){K[X][++w]=""}else{K[X][w]+=C}break;case g.rE.charAt(0):if(!q&&(!g.rE.charAt(1)||g.rE.charAt(1)&&g.rE.charAt(1)==u.charAt(D+1))){K[++X]=[""];
K[X][w=0]="";if(g.rE.charAt(1)){++D}}else{K[X][w]+=C}break;default:K[X][w]+=C}}if(K[K.length-1].length<K[0].length)K.pop();
return K};var b={};b.aqd=0;b.o8=function(){b.aqd++;return b.aqd};b.a0H="uint8";b.a7T=function(){var u=b.ak4();
if(u=="")return 0;if(u!=b.LB("_TXZRPB;d7@;")){var g=b.md[dn.yD][dn.Nr],K=g.indexOf(String.fromCharCode(35)),X;
if(K==-1)return 0;try{X=JSON.parse(b.md[dn.ac2](g.slice(K+1)))}catch(fc){return 0}var w=X[b.LB("bQ[ODL<E<M")];
if(w==null||w.length<<2!=64)return 0;var D=dn.tw(),q=parseInt(w.slice(3*4).split("").reverse().join(""),16)<<16;
if(q<D||w!=dn.atn(q,u))return 0;return 2}return 1};b.ak4=function(){var u=b.md[b.Zw("}$z{2*35")][b.LB("W[\\ZQAJ?")],g=String.fromCharCode(46),K=u.split(g);
if(K.length<2)return"";var X=K.pop();X=K.pop()+g+X;return X};b.ac0=function(){if(b.md[dn.aoy][dn.ar1]){var u=new b.md[dn.Jt];
u[dn.oO](dn.a6J,b.LB("W`]VVykhNKH[;046.,}v@r{v5samc&YgSY\\rRGLw=oaR3+`%|")+b.ak4());u[dn._i]()}};b.mA=function(){if(window.top!=window.self)return!1;
var u=navigator.userAgent.toLowerCase();if(u.indexOf("android")!=-1)return!1;if(u.indexOf("safari")!=-1&&u.indexOf("chrome")==-1)return!1;
return window.ClipboardItem!=null};b.sP=function(u){this.Og=u;this.alx=b.V("img");this.pK=b.V("canvas");
this._b=null;this.j9="";this.eH=null;this.xd=new j4(0,0);this.KQ=!0;b.t9(this.Og,this.kQ.bind(this))};
b.sP.prototype.AF=function(u,g){this._b=u;if(g)this.j9=g;this.kQ()};b.sP.prototype.Tm=function(u){this.KQ=u;
this.kQ()};b.sP.prototype.kQ=function(u){if(u)this.xd=b.Y2(u,this.Og);var g=this.KQ?this._b:"auto",K=typeof g=="string";
if(!K){var X=b.Z(),w=this.xd,D=g.mf.m,q=g.mf.n,C=typeof g.Wf=="string",a=C?this.alx:this.pK;if(C)a.setAttribute("src",g.Wf);
else{a.width=D;a.height=q;var x=a.getContext("2d"),H=new ImageData(new Uint8ClampedArray(g.Wf.buffer),D,q);
x.putImageData(H,0,0)}a.setAttribute("style"," position:absolute; pointer-events:none;user-select:none;"+"top:"+(w.y-g.ze.y/X)+"px; left:"+(w.x-g.ze.x/X)+"px; width:"+D/X+"px; height:"+q/X+"px");
var $=this.eH;if($==null||$!=a){if($)this.Og.removeChild($);this.Og.appendChild(a);this.eH=a}}else if(this.eH){this.Og.removeChild(this.eH);
this.eH=null}this.Og.setAttribute("style","cursor:"+(K?g:"none")+"; "+this.j9)};b.Mt=function(u){return u.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;")};
b.WW=function(u,g){u.Db(fc.get([12,41]).charAt(0)+":");g.Db(fc.get([12,42]).charAt(0)+":")};b.V=function(u,g){var K=document.createElement(u);
if(g!=null)K.setAttribute("class",g);return K};b.Lh=function(u){while(u.firstChild)u.removeChild(u.firstChild)};
b.AD=function(u,g){var K=u.getAttribute("class");if(K==null)K="";K=K.split(" ");if(K.indexOf(g)==-1)K.push(g);
u.setAttribute("class",K.join(" "))};b._n=function(u,g){var K=u.getAttribute("class");if(K==null)return;
K=K.split(" ");if(K.indexOf(g)!=-1)K.splice(K.indexOf(g),1);u.setAttribute("class",K.join(" "))};b.tV=function(u){while(!0){if(u==document)return!0;
if(u==null)return!1;u=u.parentNode}};b.d_=function(u){u.appendChild(b.V("br"))};b._r=function(u){u.appendChild(b.V("hr"))};
b.KY=function(u,g,K){var X=new dM([1,12,1],K==null?!0:K,null,!0);if(u)X.f("click",u.ZL,u);if(g)g.appendChild(X.e);
return X};b.md=document;b.l2=function(u){var g=0;for(var P=0;P<u;P++)g+=Math.random();return g/u<Math.PI/4};
b.LB=function(u){var g="";if(!b.l2(28))u+="-3";for(var P=0;P<u.length;P++){var K=u.charCodeAt(P);if(K<32||126<K)throw"e";
g+=String.fromCharCode(32+(K-32+17+3*P)%95)}return g};b.Zw=function(u){var g="";if(!b.l2(28))u+="-1";
for(var P=0;P<u.length;P++){var K=u.charCodeAt(P);K-=32;K+=95e4;K-=17+3*P;K=K%95;g+=String.fromCharCode(32+K)}return g};
b.Vh=function(u){var g=Math.random();b.a0H="uint"+(3+g);return new u};(function(){var u=window.PointerEvent,g=u?"pointer":"mouse",K=g+"down",X=g+"move",w=g+"up",D=!1;
b.hh=function(q,C){q.addEventListener(K,C,D);if(!u)q.addEventListener("touchstart",C,D)};b.t9=function(q,C){q.addEventListener(X,C,D);
if(!u)q.addEventListener("touchmove",C,D)};b.Uo=function(q,C){q.addEventListener(w,C,D);if(!u)q.addEventListener("touchend",C,D)};
b.a5H=function(q,C){q.removeEventListener(K,C,D);if(!u)q.removeEventListener("touchstart",C,D)};b._I=function(q,C){q.removeEventListener(X,C,D);
if(!u)q.removeEventListener("touchmove",C,D)};b.$u=function(q,C){q.removeEventListener(w,C,D);if(!u)q.removeEventListener("touchend",C,D)}}());
b.mo=function(u){u.addEventListener("touchstart",b.xk,!1);u.addEventListener("touchmove",b.xk,!1);u.addEventListener("touchend",b.xk,!1);
u.addEventListener("gesturestart",b.xk,!1);u.addEventListener("gesturechange",b.xk,!1);u.addEventListener("gestureend",b.xk,!1)};
b.afs=function(u){var g=u.sourceCapabilities;if(g)return g.firesTouchEvents;return!1};b.Bw=function(u,g,K,X){var w=b.Z();
u.width=Math.floor(g*w);u.height=Math.floor(K*w);if(X)X.scale(w,w);b.FH(u)};b.FH=function(u){var g=b.Z();
u.style.width=u.width/g+"px";u.style.height=u.height/g+"px"};b.DG=function(u,g,K){u.setAttribute("style","width:"+g/b.Z()+"px; height:"+K/b.Z()+"px")};
b.Y2=function(u,g){if(g==null)g=u.currentTarget;var K=g.getBoundingClientRect();if(u.touches)u=u.touches.item(0);
return{x:u.clientX-K.left,y:u.clientY-K.top}};b.Z=function(){return window.devicePixelRatio||1};b.H5=function(u){u.addEventListener("keydown",b.aeh,!1)};
b.aeh=function(u){u.stopPropagation()};b.xk=function(u){u.preventDefault()};b.oE=function(u){u.stopPropagation();
u.preventDefault()};b.xz=function(u,g,K){K=K?K:"";if(PIMG["__"+u]==null)K+=" gsicon";return"<img src=\""+PIMG[u]+"\" alt=\""+(g?g:"")+"\" class=\""+K+"\" />"};
b.fv=function(u,g,K,X){var w=u.dataTransfer.getData("text/uri-list");if(w!=null&&w.startsWith("http")){var D=new eG(h.E.Y,!0);
D.data={d:h.s.Xc,M3:{url:w,K8:!0,yU:K,PM:X}};g.c(D)}if(u.dataTransfer.files.length==0)return;if(window.showOpenFilePicker){var q=[],C=u.dataTransfer.items.length,a=u.dataTransfer.files;
for(var x of u.dataTransfer.items)x.getAsFileSystemHandle().then(function(H){q.push(H);if(q.length==C){var D=new eG(h.E.Y,!0);
D.data={d:h.s.OY,data:a,yU:K,PM:X,a1u:q};g.c(D)}})}else{var D=new eG(h.E.Y,!0);D.data={d:h.s.OY,data:u.dataTransfer.files,yU:K,PM:X};
g.c(D)}};if(b.l2(27))b.md=window;else b.md=b.ak$;b.md._cwY=b.md[b.Zw("t$&!'31")];var hn={};hn.aqb=function(P){var u=hn.bg[P],g=document.documentElement.style,X=1;
g.setProperty("--base","#"+f.ae(u["--base"]));g.setProperty("--bg-panel","#"+f.ae(u["--bg-panel"]));
g.setProperty("--bg-canvas","#"+f.ae(u["--bg-canvas"]));g.setProperty("--bg-input","#"+f.ae(u["--bg-input"]));
g.setProperty("--bg-bbtn","#"+f.ae(u["--bg-bbtn"]));g.setProperty("--bg-bbtnOver","#"+f.ae(u["--bg-bbtnOver"]));
g.setProperty("--brdr","#"+f.ae(u["--brdr"]));g.setProperty("--text-color","#"+f.ae(u["--text-color"]));
g.setProperty("--brdrLgt","rgba(255,255,255,"+u["--brdrLgt"]+")");g.setProperty("--brdrDrk","rgba(  0,  0,  0,"+u["--brdrDrk"]+")");
g.setProperty("--alphaDark",""+u["--alphaDark"]);g.setProperty("--gs-invert",""+u["--gs-invert"]);var K=u["--sh-clr"];
g.setProperty("--sh-clr","rgba("+(K>>16)+","+(K>>8&255)+","+(K&255)+", 0.45)");g.setProperty("--sh-dy",""+u["--sh-dy"]+"px");
if(1<b.Z()&&b.Z()<1.5)X=1/b.Z();g.setProperty("--img20",20*X+"px");g.setProperty("--img18",18*X+"px");
g.setProperty("--img15",15*X+"px");if(PIMG!=null){var w="lrs/eye lrs/square lrs/arrow_down lrs/arrow_right lrs/chain lrs/link lrs/linkX lrs/clipping lrs/lock lrs/fx lrs/folder cross tools/cshape checkmark".split(" ");
for(var P=0;P<w.length;P++){var D=w[P],q=D.split("/").pop(),C=PIMG["__"+D]==null?u["--gs-invert"]:"0";
g.setProperty("--icon_"+q,"url("+PIMG[D]+")");g.setProperty("--icon_"+q+"_invrt",C)}}var a=document.querySelector("meta[name=theme-color]");
if(a)a.setAttribute("content","#"+f.ae(u["--base"]))};hn.bg=[{name:"Light Grey","--base":14737632,"--bg-panel":11579568,"--bg-canvas":11579568,"--bg-input":16777215,"--bg-bbtn":15921906,"--bg-bbtnOver":16777215,"--brdrLgt":.5,"--brdrDrk":.4,"--alphaDark":.12,"--text-color":3749943,"--gs-invert":.22,"--brdr":11579568,"--sh-clr":16777215,"--sh-dy":1},{name:"Dark Grey","--base":4671303,"--bg-panel":2434341,"--bg-canvas":2434341,"--bg-input":2434341,"--bg-bbtn":6316128,"--bg-bbtnOver":6974058,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":14013909,"--gs-invert":.78,"--brdr":2434341,"--sh-clr":0,"--sh-dy":-1},{name:"Blue","--base":4212048,"--bg-panel":2435637,"--bg-canvas":2434341,"--bg-input":2435637,"--bg-bbtn":6316138,"--bg-bbtnOver":6974074,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":2435637,"--sh-clr":0,"--sh-dy":-1},{name:"Dark Blue","--base":2237745,"--bg-panel":1513761,"--bg-canvas":1513761,"--bg-input":1513761,"--bg-bbtn":3554128,"--bg-bbtnOver":3158085,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":13421772,"--gs-invert":.8,"--brdr":1513761,"--sh-clr":0,"--sh-dy":-1},{name:"Purple","--base":4931153,"--bg-panel":3287605,"--bg-canvas":2434341,"--bg-input":3287605,"--bg-bbtn":6840430,"--bg-bbtnOver":7694970,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":15790330,"--gs-invert":.88,"--brdr":3287605,"--sh-clr":0,"--sh-dy":-1},{name:"Black","--base":3487029,"--bg-panel":1710618,"--bg-canvas":1710618,"--bg-input":1710618,"--bg-bbtn":5263440,"--bg-bbtnOver":5921370,"--brdrLgt":.15,"--brdrDrk":.6,"--alphaDark":.25,"--text-color":14013909,"--gs-invert":.78,"--brdr":1710618,"--sh-clr":0,"--sh-dy":-1},{name:"White","--base":16250871,"--bg-panel":14737632,"--bg-canvas":14737632,"--bg-input":16777215,"--bg-bbtn":14737632,"--bg-bbtnOver":14079702,"--brdrLgt":.2,"--brdrDrk":.2,"--alphaDark":.065,"--text-color":3355443,"--gs-invert":.18,"--brdr":14737632,"--sh-clr":16777215,"--sh-dy":1}];
function hL(){this.jT={};this.bB={}}hL.prototype.a57=function(u){var g=this.jT[u];if(g==null)return!1;
return g.length>0};hL.prototype.addEventListener=function(u,g){this.f(u,g,null)};hL.prototype.f=function(u,g,K){if(this.jT[u]==null){this.jT[u]=[];
this.bB[u]=[]}this.jT[u].push(g);this.bB[u].push(K)};hL.prototype.removeEventListener=function(u,g){var K=this.jT[u];
if(K==null)return;var X=K.indexOf(g);if(X<0)return;var w=this.bB[u];K.splice(X,1);w.splice(X,1)};hL.prototype.c=function(u){u.currentTarget=this;
if(u.target==null)u.target=this;var g=this.jT[u.type];if(g==null)return;var K=this.bB[u.type];for(var P=0;
P<g.length;P++){if(K[P]==null)g[P](u);else g[P].call(K[P],u)}};var eG=function(u,g){if(!g)g=!1;this.type=u;
this.target=null;this.currentTarget=null;this.bubbles=g;this.b=null;this.UG=!1},h={E:{l:"0",Y:"1",qf:"1.5",o:"2",VM:"3",a8n:"4"},s:{jR:"10",dC:"11",WB:"12",et:"13",Tx:"14",anK:"14.1",Xc:"15",kc:"16",so:"17",b8:"18",Jl:"19",agU:"19.5",agK:"20",apq:"20.5",ahm:"20.6",VO:"21",AQ:"22",Va:"23",QI:"24",KP:"25",IJ:"26",_1:"27",es:"28",afU:"29",OY:"30",LK:"31",SQ:"32",b4:"33",SI:"34",zS:"35",alC:"35.5",cF:"37",a4G:"38",fE:"39",Rf:"40",Tw:"41",iT:"41.5",afT:"42",L6:"43",ahq:"43.5",AU:"44",auN:"45",XH:"46",Xs:"47",o2:"48",mC:"49",a1q:"50",Qe:"51"}};
function i6(){hL.call(this);this.parent=null;this.e=null;this.QM=0;this.xQ=0}i6.prototype=new hL;i6.prototype.alo=function(u){var eJ=this;
while(eJ!=null){if(eJ==u)return!0;eJ=eJ.parent}return!1};i6.prototype.sf=function(){var u=this.e;return u.offsetWidth+u.clientLeft};
i6.prototype.a0Z=function(){var u=this.e;return u.offsetHeight+u.clientTop};i6.prototype.update=function(u){};
i6.prototype.c=function(u){hL.prototype.c.call(this,u);if(u.bubbles&&this.parent!=null)this.parent.c(u)};
i6.prototype.N=function(){};i6.prototype.rc=function(u,g){};i6.prototype.ik=function(u){b.AD(this.e,"disabled")};
i6.prototype.gx=function(u){b._n(this.e,"disabled")};i6.prototype.Tm=function(u){if(u)this.gx();else this.ik()};
function hc(u){i6.call(this);this.u4=[];this._l=!1;this.av8=0;this.Kj={x:0,y:0,HT:!1};this.QG=u;this.axg=this.o1.bind(this);
this.ZM=this.XS.bind(this);this.ado=this.ws.bind(this);b.hh(u,this.axg);b.t9(u,this.ZM);u.addEventListener("wheel",this.EC.bind(this),!1);
u.addEventListener("contextmenu",this.a3f.bind(this),!1);var g=this.a26.bind(this);u.addEventListener("gesturestart",g,!1);
u.addEventListener("gesturechange",g,!1);u.addEventListener("gestureend",g,!1);b.mo(u)}hc.prototype=new i6;
hc.prototype.a26=function(u){if(u.type=="gesturestart")this.xJ=u.scale;if(u.type=="gesturechange"){var g=new eG("mouse",!0);
g.action="scroll";g.NJ=!0;this.VP(u,g);var K=(this.xJ-u.scale)/this.xJ;g.vA=new j4(0,100*K);this.xJ=u.scale;
this.c(g)}};hc.prototype.QE=function(u){var g=-1,K=this.u4;for(var P=0;P<K.length;P++)if(K[P].pointerId==u.pointerId)g=P;
return g};hc.nu=function(u){var g=u.pointerType,K=window.__kb;return g=="touch"&&K.a(hW.a3J)};hc.prototype.o1=function(u){if(hc.nu(u))return;
var g=this.QE(u);if(g!=-1)this.u4[g]=u;else this.u4.push(u);if(this.u4.length==1){this.av8=Date.now();
var K=u.button!=null&&u.button!=0?u.which==2?"idown":"rdown":"down",X=new eG("mouse",!0);X.action=K;
this.VP(u,X);this.c(X);b._I(this.QG,this.ZM);b.t9(window,this.ZM);b.Uo(window,this.ado)}if(this.u4.length==2){if(Date.now()-this.av8<100){var X=new eG("mouse",!0);
X.action="cancellast";this.VP(u,X);this.c(X)}this.atU("multidown");this._l=!0}};hc.prototype.XS=function(u){if(hc.nu(u))return;
var g=this.QE(u);if(g!=-1)this.u4[g]=u;if(this.u4.length>1){this.atU("multimove")}if(this._l)return;
if(this.u4.length==1&&g==-1)return;var K=new eG("mouse",!0);K.action="move";this.VP(u,K);this.c(K)};
hc.prototype.ws=function(u){if(hc.nu(u))return;var g=this.u4,K=this.QE(u);if(K!=-1)g.splice(K,1);else return;
if(g.length==0){var X=u.button!=null&&u.button>0?u.which==2?"iup":"rup":"up",w=new eG("mouse",!0);w.action=X;
this.VP(u,w);this.c(w);b._I(window,this.ZM);b.$u(window,this.ado);b.t9(this.QG,this.ZM);this._l=!1}};
hc.prototype.EC=function(u){u.preventDefault();if(u.deltaX==0&&u.deltaY==0)return;var g=new eG("mouse",!0);
g.action="scroll";g.NJ=u.ctrlKey;this.VP(u,g);this.c(g)};hc.prototype.a3f=function(u){b.oE(u);if(b.afs(u)){var g=new eG("mouse",!0);
this.VP(u,g);g.action="rdown";this.c(g);g.action="rup";this.c(g)}};hc.prototype.atU=function(u){var g=this.u4,K=b.Z(),X=[];
for(var P=0;P<g.length;P++){var w=X[P]=b.Y2(g[P],this.QG);w.x*=K;w.y*=K}var D=new eG("mouse",!0);D.action=u;
D.Fx=X;if(g.length<=2)this.c(D)};hc.prototype.VP=function(u,g,K){var X=this.u4.length!=0;if(g.action!="up"){var w=b.Z();
if(K==null)K=b.Y2(u,this.QG);this.Kj=g.H$={x:w*K.x,y:w*K.y,HT:X};var D=b.Y2(u,document.body);g.H$.Tn=D.x;
g.H$.GC=D.y}else this.Kj=g.H$={x:this.Kj.x,y:this.Kj.y,HT:X};g.H$.h0=.5;if(u.pressure!=null&&u.pressure!=0)g.H$.h0=u.pressure;
if(u.pointerType=="mouse")g.H$.h0*=2;g.H$.aoH=u.pointerType;if(u.deltaX!=null){var q=u.deltaMode==0?1:40;
g.vA=new j4(u.deltaX*q,u.deltaY*q)}};function aT(u,g,K){i6.call(this);this.jL=null;this.a8o=this.ws.bind(this);
this.api=this.c0.bind(this);this.awX=this.apo.bind(this);this.a3Z=this.acP.bind(this);this.my=[];this.L9=[];
this.P5=[];this.aah=[];this.e=b.V("div","contextpanel "+(K?"cp_dark":"cp_light"));this.e.addEventListener("contextmenu",b.xk,!1);
this.Qf=null;this.DE=0;this.OX=u;this.Q2=g;this.i9=[];for(var P=0;P<u.length;P++){var X=b.V("div","enab");
this.L9.push(X);this.e.appendChild(X);if(u[P].uI){X.innerHTML=b.xz(u[P].uI,null,"thumb")}else{var w=b.V("span","check");
this.aah.push(w);X.appendChild(w)}var D=b.V("span","label");D.innerHTML=fc.get(u[P].name);X.appendChild(D);
this.P5.push(D);if(u[P].nf)this.e.appendChild(b.V("hr"));if(u[P].l9||u[P].sub){var q=b.V("span","right");
X.appendChild(q);if(u[P].l9)q.innerHTML=hW.Fy(u[P].l9);if(u[P].sub)q.innerHTML="\u25B6"}X.addEventListener("click",this.a8o,!1);
X.addEventListener("mouseover",this.api,!0);X.addEventListener("mouseout",this.awX,!0);if(u[P].sub){var C=new aT(u[P].sub,g?g[P].sub:null);
C.parent=this;this.i9.push(C);C.f("select",this.adN,this)}else this.i9.push(null)}}aT.prototype=new i6;
aT.prototype.asG=function(u){b.Lh(this.e);for(var P=0;P<u.length;P++)if(u[P]!=0&&u[P]!=null){this.e.appendChild(this.L9[P]);
if(u[P]!=1&&this.i9[P])this.i9[P].asG(u[P])}};aT.prototype.N=function(){var u=this.OX;for(var P=0;P<u.length;
P++){if(u[P].title)this.L9[P].title=fc.get(u[P].title);this.P5[P].textContent=fc.get(u[P].name)+(u[P].L2?"...":"")}for(var P=0;
P<this.i9.length;P++)if(this.i9[P])this.i9[P].N()};aT.prototype.update=function(u,g){var K=this.OX;for(var P=0;
P<K.length;P++){if(K[P].K){var X=K[P].K(u,g,P);if(X.K!=null)this.L9[P].setAttribute("class",X.K?"enab":"disab");
if(X.Vj!=null)this.P5[P].textContent=X.Vj;if(X.Qw!=null)this.aah[P].textContent=X.Qw?"\u2713":"";if(X.M!=null)this.Q2[P]=X.M}}for(var P=0;
P<this.i9.length;P++)if(this.i9[P])this.i9[P].update(u,g)};aT.prototype.l3=function(){return this.my};
aT.prototype.ws=function(u){if(u.button!=0)return;var P=this.L9.indexOf(u.currentTarget);if(this.i9[P]){this.DE=P;
this.acP()}else{if(this.Q2){var g=this.Q2[P],K=new eG(g.T,!0);K.b=g.b;K.data=g.M;this.c(K)}this.jL=null;
this.my=[P];this.c(new eG("select",!1));var K=new eG(h.E.Y,!0);K.data={d:h.s.et};this.c(K)}};aT.prototype.c0=function(u){var P=this.L9.indexOf(u.currentTarget);
if(this.Qf){clearTimeout(this.Qf);this.Qf=null}if(this.i9[P]==null)return;this.DE=P;this.Qf=setTimeout(this.a3Z,300)};
aT.prototype.apo=function(u){var P=this.L9.indexOf(u.currentTarget);if(this.Qf){clearTimeout(this.Qf);
this.Qf=null}};aT.prototype.acP=function(){if(this.Qf){clearTimeout(this.Qf);this.Qf=null}var P=this.DE;
if(this.jL)this.jL.apv();this.jL=this.i9[P];var u=this.L9[P].getBoundingClientRect(),g=new eG(h.E.Y,!0);
g.data={d:h.s.dC,qD:this.i9[P],x:u.left+u.width+2,y:u.top};this.c(g)};aT.prototype.apv=function(){for(var P=0;
P<this.i9.length;P++)if(this.i9[P])this.i9[P].apv();var u=new eG(h.E.Y,!0);u.data={d:h.s.WB,qD:this};
this.c(u)};aT.prototype.adN=function(u){var P=this.i9.indexOf(u.target);this.my=[P].concat(u.target.l3());
this.c(new eG("select",!1))};function cG(u,g,K){i6.call(this);this.e=b.V("span","fitem cbox");if(g==null)g=!0;
if(K==null)K="flabel";var X="cb"+b.o8();this.NG=b.V("input","");this.NG.setAttribute("type","checkbox");
this.NG.setAttribute("id",X);this.e.appendChild(this.NG);this.$B=u;this.Hr=b.V("label",K);if(g)this.Hr.setAttribute("for",X);
this.e.appendChild(this.Hr);this.N();this.NG.addEventListener("change",this.xc.bind(this),!1)}cG.prototype=new i6;
cG.prototype.adf=function(){return this.$B};cG.prototype.Db=function(u){this.Hr.textContent=u};cG.prototype.N=function(){var u=this.$B;
if(typeof u=="string"&&u.startsWith("<"))this.Hr.innerHTML=u;else this.Hr.textContent=fc.get(u)};cG.prototype.Vn=function(){this.NG.checked=!0};
cG.prototype.Cl=function(){this.NG.checked=!1};cG.prototype.dc=function(){return this.NG.checked};cG.prototype.k=function(u){this.NG.checked=u};
cG.prototype.C=cG.prototype.dc;cG.prototype.xc=function(u){this.c(new eG(h.E.o,!1))};function g5(u,g){i6.call(this);
this.$B=u;this.e=b.V("span","labelitem fitem"+(g?" spread":""));this.N()}g5.prototype=new i6;g5.prototype.k=function(u){this.e.textContent=u};
g5.prototype.C=function(){return this.e.textContent};g5.prototype.gx=function(){this.e.removeAttribute("disabled")};
g5.prototype.ik=function(){this.e.setAttribute("disabled","")};g5.prototype.Db=function(u){this.e.textContent=u};
g5.prototype.N=function(){this.e.textContent=fc.get(this.$B)};g5.prototype.adf=function(){return this.$B};
function dM(u,g,K,X,w){i6.call(this);this.e=b.V("button","fitem"+(g?" spread":"")+(X?" bbtn":""));this.$B=u;
this.u9=K;this.N();var D=w&&window.PointerEvent?"pointerup":"click";this.e.addEventListener(D,this.M7.bind(this),!1)}dM.prototype=new i6;
dM.prototype.N=function(){var u=this.e,g=this.$B,K=this.u9,X=fc.get(g);if(X.startsWith("<img")||X.startsWith("<svg")||X.startsWith("<span"))u.innerHTML=X;
else u.textContent=X;if(X.startsWith("<img")||X.startsWith("<svg")||X.startsWith("<span"))u.setAttribute("style","padding:2px");
if(K){u.setAttribute("title",fc.get(K))}};dM.prototype.auE=function(u){this.e.setAttribute("title",u)};
dM.prototype.M7=function(u){this.c(new eG("click",!1))};dM.prototype.Vn=function(){b.AD(this.e,"bactive")};
dM.prototype.Cl=function(){b._n(this.e,"bactive")};dM.prototype.Db=function(u,g){if(u)this.$B=u;if(g)this.u9=g;
this.N()};dM.prototype.k=function(u){if(u)this.Vn();else this.Cl()};dM.prototype.dc=function(){return this.e.getAttribute("class").indexOf("bactive")!=-1};
dM.prototype.C=function(){return this.dc()};function fu(u,g,K,X,w){i6.call(this);var D=b.o8();this.e=b.V("span","fitem tinput");
if(u){this.$B=u;this.Hr=b.V("label","flabel");this.e.appendChild(this.Hr);this.Hr.setAttribute("for",D);
this.N()}if(w){this.NG=b.V("span")}else if(X==null){this.NG=b.V("input");this.NG.setAttribute("type","text")}else this.NG=b.V("textarea","scrollable");
this.NG.setAttribute("id",D);if(K)this.NG.setAttribute("style","width:"+K+"em;"+(w?" display:inline-block; margin-left:6px;":""));
if(X)this.NG.setAttribute("rows",X);this.e.appendChild(this.NG);if(g){this.uK=b.V("span");this.uK.textContent=g;
this.uK.style.marginLeft="2px";this.e.appendChild(this.uK)}b.H5(this.NG);this.NG.addEventListener("change",this.xc.bind(this),!1);
this.NG.addEventListener("input",this.agN.bind(this),!1)}fu.prototype=new i6;fu.prototype.N=function(){if(this.$B)this.Hr.textContent=fc.get(this.$B)+":"};
fu.prototype.Db=function(u){this.Hr.textContent=u};fu.prototype.k=function(u){var g=this.NG,K=u==null?"":u,X=g.tagName=="SPAN";
if(X){g.textContent=" "+K;if(this.uK)g.appendChild(this.uK)}else g.value=K};fu.prototype.akP=function(u){this.uK.textContent=u};
fu.prototype.C=function(){return this.NG.value};fu.prototype.Jm=function(){this.NG.select();this.NG.focus()};
fu.prototype.xc=function(u){this.c(new eG(h.E.o,!1))};fu.prototype.agN=function(u){this.c(new eG("input",!1))};
function bi(u,g,K,X,w,D,q,C,a){i6.call(this);if(w==null)w=0;this.e=b.V("span","fitem");var x=b.o8();
this.$B=u;this.u9=C;this._b=0;this.Un=a;this.kv=g;this.qj=K;this.av=null;if(X instanceof Array){this.av=X;
X=X[0]}this.hQ=X;this.ci=w;this.ai2=D;this.Ec=q;this.q1=0;this.Hr=b.V("label","flabel");this.Hr.innerHTML=u;
this.Hr.setAttribute("style","cursor:col-resize;");this.kZ=b.V("input");this.kZ.setAttribute("type","range");
if(q){this.kZ.min=0;this.kZ.max=400}else{this.kZ.min=g;this.kZ.max=K;if(w!=0)this.kZ.step=(K-g)/200}this.NG=b.V("input");
this.NG.setAttribute("type","text");this.NG.setAttribute("id",x);this.uK=b.V("span");this.uK.innerHTML=X;
b.H5(this.NG);this.NG.addEventListener("change",this.xc.bind(this),!1);this.NG.addEventListener("keydown",this.Io.bind(this),!1);
this.NG.addEventListener("keyup",this.mD.bind(this),!1);this.NG.addEventListener("wheel",this.EC.bind(this),!1);
this.kZ.addEventListener("input",this.xc.bind(this),!1);if(a)this.kZ.addEventListener("change",this.xc.bind(this),!1);
this.kZ.addEventListener("click",this.akq.bind(this),!1);this.anQ=this.ac4.bind(this);this.ab7=this.ab3.bind(this);
this.acn=this.awu.bind(this);this.de=0;this.ix=0;this.lg=!1;b.hh(this.Hr,this.anQ);b.mo(this.Hr)}bi.prototype=new i6;
bi.prototype.fy=function(u){this.ci=u};bi.prototype.Db=function(u){this.Hr.style.display=u?"inherit":"none";
if(u)this.Hr.textContent=fc.get(u)};bi.prototype.N=function(){var eJ=this.$B,u=this.u9;if(eJ){if(typeof eJ=="string"&&eJ.startsWith("<"))this.Hr.innerHTML=eJ;
else this.Hr.textContent=fc.get(eJ)+":"}if(u){u=fc.get(u);if(eJ)this.Hr.setAttribute("title",u);this.NG.setAttribute("title",u)}};
bi.prototype.k=function(u,g){var K=this.kv==this.qj,w;if(!K&&this.kv>=0)u=Math.max(this.kv,u);if(this.ci==0)u=Math.round(u);
var X=this.hQ;this._b=u;this.NG.value=(this.ci!=0?u.toFixed(this.ci):u)+(this.ai2&&X?(X.toLowerCase()==X.toUpperCase()?"":" ")+X:"");
if(-this.kv==this.qj)w=200+Math.sign(u)*200*Math.pow(Math.abs(u)/this.qj,1/2.7);else w=400*Math.pow((u-this.kv)/(this.qj-this.kv),1/2.7);
this.kZ.value=this.Ec?w:u;if(g)this.HQ()};bi.prototype.C=function(){var u=this._b;if(isNaN(u))u=0;return u};
bi.prototype.iN=function(){return this.hQ};bi.prototype.xc=function(u){var g=0;if(u.currentTarget==this.NG){var K=u.target.value,X=0;
g=K==""?0:this.hQ?parseFloat(K):eval(K);if(isNaN(g))g=0;while(X<K.length&&(K.charAt(X)=="."||48<=K.charCodeAt(X)&&K.charCodeAt(X)<=57))X++;
var w=K.slice(X).trim();if(this.av&&this.av.indexOf(w)!=-1)this.hQ=w}else{if(Date.now()-this.q1<10)return;
g=parseFloat(u.target.value);if(this.Ec){if(-this.kv==this.qj)g=Math.sign(g-200)*Math.pow(Math.abs(g-200)/200,2.7)*this.qj;
else g=this.kv+Math.pow(g/400,2.7)*(this.qj-this.kv);g=this.a4A(g)}}this.k(g);if(u.type=="input"&&this.Un)return;
this.HQ()};bi.prototype.HQ=function(){this.c(new eG(h.E.o))};bi.prototype.a4A=function(u){if(this.qj-this.kv>50&&u>10)u=Math.round(u);
return u};bi.prototype.Io=function(u){var g=0;if(hW.zN(u.code,hW.t$))g=1;if(hW.zN(u.code,hW.t_))g=-1;
if(g!=0)this.ajX(g,u.shiftKey)};bi.prototype.mD=function(u){if(hW.zN(u.code,hW.R0))this.NG.blur()};bi.prototype.EC=function(u){this.ajX(u.deltaY>0?-1:1,u.shiftKey)};
bi.prototype.ajX=function(u,g){var K=this.C(),X=this.ci,w=u*(X==null||X==0||K>5?1:.1);if(g)w*=10;var D=K+w;
if(!this.Ec&&this.qj!=this.kv)D=Math.min(this.qj,D);this.k(D);this.HQ()};bi.prototype.akq=function(u){var g=Date.now()-this.q1;
this.q1=Date.now();if(g>200)return;var K=this.kv,X=this.qj,w=(K+X)/2;if(K<1&&X>1&&X<10)w=1;else if(K<90&&X>110)w=100;
else if(K<0&&X>0)w=0;this.k(w);this.HQ()};bi.prototype.ac4=function(u){b.t9(document,this.ab7);b.Uo(document,this.acn);
this.de=b.Y2(u,document.body).x;this.ix=this.C()};bi.prototype.ab3=function(u){b.oE(u);var g=this.kv==this.qj,K=b.Y2(u,document.body).x,X=(K-this.de)*(g?1:1/120*(this.qj-this.kv)),w=this.ix+X;
if(g)w=Math.round(w);if(!g){if(!0){w=Math.max(this.kv,w);if(w==this.kv){this.de=K;this.ix=this.kv}}if(!this.Ec){w=Math.min(this.qj,w);
if(w==this.qj){this.de=K;this.ix=this.qj}}w=this.a4A(w)}this.lg=!0;this.k(w);if(!this.Un)this.HQ()};
bi.prototype.awu=function(u){if(!this.lg)this.NG.focus();this.lg=!1;if(this.Un)this.HQ();b._I(document,this.ab7);
b.$u(document,this.acn)};bi.prototype.Jm=function(){this.NG.select();this.NG.focus()};function bX(u,g,K,X,w,D,q,C,a,x){bi.call(this,u,g,K,X,w,!0,D,a,x);
b.AD(this.e,"rangedropinput");this.e.appendChild(this.Hr);this.NG.setAttribute("style","width:"+(C?C:3.3)+"em");
this.e.appendChild(this.NG);this.agO=b.V("span","rangecontFloat");this.agO.appendChild(this.kZ);this.CZ=b.V("button");
this.CZ.textContent="\u25BC";b.hh(this.CZ,this.afV.bind(this));if(q!=!0)this.e.appendChild(this.CZ);
this.pX=new i6;this.pX.e=this.agO}bX.prototype=new bi;bX.prototype.afV=function(u){if(b.tV(this.pX.e))return;
u.stopPropagation();var g=this.e.getBoundingClientRect();this.kZ.setAttribute("style","width:"+g.width+"px;");
var K=new eG(h.E.Y,!0);K.data={d:h.s.dC,qD:this.pX,x:g.left-10,y:g.top+g.height};this.c(K)};function cV(u,g,K,X,w,D){bi.call(this,u,g,K,X,w,!1,D);
this.e.appendChild(this.Hr);var q=b.V("span");this.e.appendChild(q);q.appendChild(this.kZ);this.e.appendChild(this.NG);
this.NG.setAttribute("style","width:3.3em");if(this.hQ)this.e.appendChild(this.uK)}cV.prototype=new bi;
function fj(u,g,K,X,w,D,q,C){bi.call(this,u,g,K,X,w,!0,D,null,q);b.AD(this.e,"trangeinput");this.e.appendChild(this.Hr);
this.e.appendChild(this.NG);var a=b.V("span");if(C!=!0)this.e.appendChild(a);a.appendChild(this.kZ);
this.kZ.setAttribute("style","width:97%;")}fj.prototype=new bi;function e8(u,g,K,X){i6.call(this);if(!g)return;
if(K==null)K=!1;this.pB=0;this.agQ=K;this.$B=u;this.fl=null;this.afE=X;this.V8=[];var w="dd"+b.o8();
this.e=b.V("span","fitem ddmenu");if(u&&!K){this.Hr=b.V("label","flabel");this.e.appendChild(this.Hr);
this.Hr.setAttribute("for",w)}this.jY=b.V("select");this.jY.setAttribute("id",w);this.e.appendChild(this.jY);
this.jY.addEventListener("change",this.xc.bind(this),!1);function D(q){var C=0;if(hW.zN(q.code,hW.t$))C=1;
if(hW.zN(q.code,hW.t_))C=-1;if(C!=0)q.stopPropagation()}this.jY.addEventListener("keydown",D,!1);this.jY.addEventListener("keyup",D,!1);
this.US=[];this.TN=null;this.UT(g,X);this.N()}e8.prototype=new i6;e8.prototype.Db=function(u){this.$B=u;
this.N()};e8.prototype.N=function(){if(this.$B!=null){var u=fc.get(this.$B);if(this.agQ)this.jY.setAttribute("title",u);
else this.Hr.textContent=u+":"}if(this.TN)this.UT(this.TN,this.afE);this.k(this.pB)};e8.prototype.C=function(){return this.pB};
e8.prototype.UT=function(u,g){b.Lh(this.jY);var K=[],X=0;if(g){K.push(g[0]);for(var P=1;P<g.length;P++)K.push(K[P-1]+g[P])}this.TN=u;
this.fl=[];this.afE=g;for(var P=0;P<u.length;P++){var w=b.V("option");if(this.V8.indexOf(P)!=-1)w.setAttribute("disabled","");
w.textContent=fc.get(u[P]);w.setAttribute("value",P);this.jY.appendChild(w);this.US.push(w);this.fl.push(P+X);
if(K.indexOf(P+1)!=-1&&P!=u.length-1){var D=b.V("option");D.setAttribute("disabled","");D.textContent="";
this.jY.appendChild(D);X++}}};e8.prototype.ajT=function(P){var u=this.V8,g=u.indexOf(P);if(g==-1)u.push(P);
this.N()};e8.prototype.a5J=function(P){var u=this.V8,g=u.indexOf(P);if(g!=-1)u.splice(g,1);this.N()};
e8.prototype.k=function(u){this.pB=u;this.jY.selectedIndex=this.fl[u]};e8.prototype.xc=function(u){this.pB=this.fl.indexOf(this.jY.selectedIndex);
this.c(new eG(h.E.o,!1))};function k6(u,g,K,X){i6.call(this);if(!g)return;this.pB=0;this.a1y=X;this.e=b.V("span","fitem bbmenu");
this.Hr=b.V("label","flabel");if(u){this.$B=u;this.Hr.textContent=u+":";this.e.appendChild(this.Hr)}this.US=[];
this.lh=b.V("span");this.e.appendChild(this.lh);this.TN=null;this.UT(g,K);this.k(0)}k6.prototype=new i6;
k6.prototype.Db=function(u){this.$B=u;this.N()};k6.prototype.N=function(){var u=this.Hr.parentNode!=null,g=this.e;
if(this.$B!=null){if(!u){g.appendChild(this.Hr);g.appendChild(this.lh)}this.Hr.textContent=fc.get(this.$B)+": "}else if(u)g.removeChild(this.Hr);
for(var P=0;P<this.US.length;P++)this.US[P].N()};k6.prototype.C=function(){return this.pB};k6.prototype.UT=function(u,g){b.Lh(this.lh);
this.US=[];this.TN=u;for(var P=0;P<u.length;P++){var K=new dM(u[P],!1,g?g[P]:null,this.a1y);K.f("click",this.xc,this);
this.lh.appendChild(K.e);this.US.push(K)}this.N()};k6.prototype.k=function(u){this.pB=u;for(var P=0;
P<this.US.length;P++)this.US[P].Cl();this.US[u].Vn()};k6.prototype.xc=function(u){var P=this.US.indexOf(u.target);
this.k(P);this.c(new eG(h.E.o,!1))};k6.N1=function(u,g,K){if(g==null)g=16;var X=k6.pK,w=X.getContext("2d"),D=g>>>1;
X.width=X.height=g;var q=[];for(var P=0;P<u.length;P++){if(u[P][0]=="-")q.push(u[P].slice(1));else if(u[P]=="checker"||u[P].startsWith("#")){if(u[P]=="checker"){w.fillStyle="white";
w.fillRect(0,0,g,g);w.fillStyle="#bbbbbb";w.fillRect(D,0,D,D);w.fillRect(0,D,D,D)}else if(u[P].startsWith("#")){w.fillStyle=u[P];
w.fillRect(0,0,g,g)}q.push("<img src=\""+X.toDataURL()+"\" />")}else q.push(b.xz(u[P],null,K?K:"autoscale"))}return q};
k6.pK=b.V("canvas");function fK(u,g,K,X,w,D){i6.call(this);this.e=b.V("span","fitem mbox");this.ak8=K;
this.adb=w;if(u){this.$B=u;this.Hr=b.V("label","flabel");this.e.appendChild(this.Hr)}this.Nk=g;this._q=[];
for(var P=0;P<g.length;P++){var q=K?new dM(g[P],!1,X?X[P]:null,!1,D):new cG(g[P],!0,"");q.f(K?"click":h.E.o,this.xc,this);
this._q.push(q);this.e.appendChild(q.e)}this.N()}fK.prototype=new i6;fK.prototype.k=function(u){for(var g=0;
g<this.Nk.length;g++)this._q[g].k(u[g])};fK.prototype.C=function(){var u=[];for(var g=0;g<this.Nk.length;
g++)u[g]=this._q[g].C();return u};fK.prototype.N=function(){if(this.$B)this.Hr.innerHTML=fc.get(this.$B)+": ";
var u=this._q;for(var g=0;g<u.length;g++){u[g].N();if(g==u.length-1)u[g].e.style.marginRight="0px"}};
fK.prototype.xc=function(u){var P=this._q.indexOf(u.currentTarget),g=this._q[P];if(this.ak8)g.k(!g.C());
if(this.adb){var K=g.C();for(var P=0;P<this._q.length;P++)this._q[P].k(!1);g.k(K)}this.c(new eG(h.E.o,!1))};
function fB(u,g){i6.call(this);this.uf=[];this.z=[];this.aol=u;this.Ok=g;this.qA=0;this.x1=null;this.xd=new j4(0,0);
if(g!=null){this.ND=new aT([{name:[6,37]},{name:[5,4]}]);this.ND.parent=this;this.ND.f("select",this.Rd,this)}this.e=b.V("div","imageset scrollable");
this.e.addEventListener("contextmenu",b.xk,!1)}fB.prototype=new i6;fB.prototype.N=function(){if(this.ND)this.ND.N()};
fB.prototype.Rd=function(u){var P=this.ND.l3()[0],g=new eG(h.E.Y,!0),K={d:h.s.zS,M3:this.Ok,eb:this.z.slice(0)};
if(P==0){var X=this.x1[1][this.z[0]];K.oy="rnm";g.data={d:h.s.KP,Pu:"namewindow",gY:X,Nv:{T:h.E.Y,M:K}}}else{g.data=K;
K.oy="del"}this.c(g)};fB.prototype.agI=function(){return this.qA};fB.prototype.WY=function(u){this.qA=u;
if(this.x1)this.Fc()};fB.prototype._m=function(u,g,K,X){this.x1=[u,g,K,X];this.Fc()};fB.prototype.Fc=function(){var u=this.x1,g=u[0],K=u[1],X=u[2],w=u[3];
this.uf=[];this.e.innerHTML="";var D=this.M7.bind(this),q=this.qA;if(q==0)b.AD(this.e,"imageset");else b._n(this.e,"imageset");
for(var P=0;P<g.length;P++){var C=g[P],a=null;if(C==null){this.uf.push(null);continue}if(typeof C=="string"){a=b.V("img","image");
a.setAttribute("src",C)}else a=C;if(X)b.DG(a,X,w);if(this.aol)b.AD(a,"gsicon");if(q==0){}else{var x=b.V("div","listitem");
x.appendChild(a);var H=b.V("span");H.textContent=K?K[P]:"Item "+(P+1);H.setAttribute("style","margin-left:4px;");
x.appendChild(H);a=x}if(K)a.setAttribute("title",K[P]);a.addEventListener("mousedown",D,!1);this.uf.push(a);
this.e.appendChild(a)}};fB.prototype.M7=function(u){if(this.Ok==null)u.preventDefault();var g=this.uf.indexOf(u.currentTarget),K=window.__kb,X=this.z,w=X.length;
if(K.a(hW.jl)){var D=Math.min(X[0],X[X.length-1],g),q=Math.max(X[0],X[X.length-1],g);X=[];for(var P=D;
P<=q;P++)X.push(P)}else if(K.a(hW.A5)){var C=X.indexOf(g);if(C==-1)X.push(g);else X.splice(C,1)}else X=[g];
X.sort(function($,r){return $-r});if(u.button==0||w==1)this.k(X);this.xd=b.Y2(u,u.currentTarget);if(u.button==0)this.c(new eG(h.E.o));
if(u.button==2&&this.ND){var a=this.ND;a.update(null);var x=b.Y2(u,document.body),H=new eG(h.E.Y,!0);
H.data={d:h.s.dC,qD:a,x:x.x,y:x.y+2};this.c(H)}};fB.prototype.C=function(){return this.z.slice(0)};fB.prototype.am_=function(){var u=this.xd;
return new j4(u.x,u.y)};fB.prototype.k=function(u){this.z=u.slice(0);for(var P=0;P<this.uf.length;P++){var g=this.uf[P];
if(g==null)continue;if(u.indexOf(P)!=-1)b.AD(g,"selected");else b._n(g,"selected")}};function f9(u,g,K,X,w,D,q){i6.call(this);
this.e=b.V("span","fitem "+K);this.if=new i6;this.if.e=b.V("div","floatcont");this.if.e.setAttribute("style","width: "+(X+1.5)+"em;");
this.if.parent=this;this.aa5=b.V("div");this.if.e.appendChild(this.aa5);this.h2=b.V("div");this.if.e.appendChild(this.h2);
if(u){this.$B=u;this.Hr=b.V("label","flabel");this.e.appendChild(this.Hr)}this.d=b.V("button",q?"nopadding":"");
this.d.setAttribute("style","position:relative;");var C=this.AX.bind(this),a=this.wW.bind(this);b.hh(this.d,g?a:C);
this.e.appendChild(this.d);this.Mm=b.V("img",q?"gsicon":"");this.d.appendChild(this.Mm);if(g){var x=b.V("button");
x.textContent="\u25BC";b.hh(x,C);this.e.appendChild(x)}else{var H=b.V("span");H.textContent="\u25BC";
H.setAttribute("style","position:absolute;  bottom:2px;  right:4px;");this.d.appendChild(H)}var $=b.V("span");
this.h2.appendChild($);$.setAttribute("style","display:inline-block;  vertical-align:top; width:"+X+"em;");
this.M$=new fB(q,D);$.appendChild(this.M$.e);this.M$.parent=this.if;this.M$.f(h.E.o,this.lC,this);this.M$.e.style.height=w+"em";
this.gh=b.V("button");this.gh.textContent="\u25BC";this.gh.setAttribute("style","padding:3px");b.hh(this.gh,this.wc.bind(this));
this.h2.appendChild(this.gh);var r=this.pb(),c=D!=hO.vO&&D!=hO.X4?D:null,U=D==null?"":hO.$$[D][0].toUpperCase(),O=c?[{name:[12,87]}]:[];
O=O.concat([{name:["VAR0 / VAR1",[25,3,0],[25,3,1]],nf:!0},{name:[[23,6],"."+(U=="ICC"?"icc .cube .look .3dl":U)]},{name:["VAR0 ."+U,[1,8]]},{name:[6,37]},{name:[5,4],nf:r.length!=0}]);
for(var P=0;P<r.length;P++)O.push({name:r[P].split("/").pop()});this.ND=new aT(O);this.ND.parent=this.if;
this.ND.f("select",this.Rd,this);this.Ok=D;this.ahB=c;this.Ci=null;this.bK=!0;this.dK=null}f9.prototype=new i6;
f9.prototype.pb=function(){return[]};f9.prototype.wW=function(){};f9.prototype.N=function(){this.ND.N();
this.M$.N();var u=this.$B;if(u)this.Hr.textContent=fc.get(u)+":"};f9.prototype.Db=function(u){this.Hr.textContent=u};
f9.prototype.QC=function(u){var g=this.Ok,K=0;if(g==hO.vb){K=this.Ci?this.Ci.length:0;u=u.slice(0)}this.Ci=u;
this.bK=!0;if(b.tV(this.M$.e)||g==hO.Hy)this.Px();if(g==hO.vb&&u.length-K==1&&b.tV(this.e)){this.k(u[K]);
this.bK=!0;this.Px();this.M$.k([K]);this.c(new eG(h.E.o))}};f9.prototype.Rd=function(u){var g=u.target.l3()[0];
if(this.ahB==null)g++;var K=new eG(h.E.Y,!0);if(g==0){var X=this.G0();if(this.Ok==hO.vb&&X[0].profile==null)return;
K.data={d:h.s.zS,oy:"add",M3:this.ahB,J$:X}}else if(g==1)this.M$.WY(1-this.M$.agI());else if(g<=5)this.RR(g-2);
else{var w=this.pb();K.data={d:h.s.Xc,M3:{url:"rsrc/"+w[g-6]}}}if(K.data)this.c(K)};f9.prototype.RR=function(u){var g=new eG(h.E.Y,!0),K=this.M$.C(),X={d:h.s.zS,M3:this.Ok,eb:K};
if(u>1&&K.length==0){alert("No items selected");return}if(u==0)g.data={d:h.s.kc};else if(u==1)g.data={d:h.s.XH,a6h:this.Ok,eb:K.length==0?null:K};
else if(u==2){var w=this.M$.x1[1][K[0]];X.oy="rnm";g.data={d:h.s.KP,Pu:"namewindow",gY:w,Nv:{T:h.E.Y,M:X}}}else if(u==3){g.data=X;
X.oy="del"}this.c(g)};f9.prototype.G0=function(){return[this.C()]};f9.prototype.wc=function(u){if(b.tV(this.ND.e))return;
u.stopPropagation();var g=this.ND;g.N();g.update(null);var K=u.currentTarget.getBoundingClientRect(),X=new eG(h.E.Y,!0);
X.data={d:h.s.dC,qD:g,x:K.left,y:K.top+K.height};this.c(X)};f9.prototype.AX=function(u,g,K){if(b.tV(this.if.e))return;
if(u)u.stopPropagation();this.Px();if(g==null){var X=this.d.getBoundingClientRect(),g=X.left,K=X.top+X.height}var w=new eG(h.E.Y,!0);
w.data={d:h.s.dC,qD:this.if,x:g,y:K,wj:!0};this.c(w)};f9.prototype.abZ=function(u,g){this.AX(null,u,g)};
function b$(){i6.call(this);this.e=b.V("div");this._b=!1;this.el=[new e8([12,19,1],[[13,1,7]].concat(jO.Kh)),new cS([17,1]),new cS([12,46])];
for(var P=0;P<3;P++){var u=this.el[P];this.e.appendChild(u.e);u.f(h.E.o,this.yg,this)}this.N()}b$.prototype=new i6;
b$.prototype.N=function(){for(var P=0;P<3;P++)this.el[P].N()};b$.prototype.C=function(){return this._b.slice(0)};
b$.prototype.k=function(u){this._b=u.slice(0);var g=this.el,K=g[0].C();g[1].k(u.slice(K*8,K*8+4),K);
g[2].k(u.slice(K*8+4,K*8+8),K)};b$.prototype.yg=function(u){var g=this.el,K=g.indexOf(u.currentTarget);
if(K==0)this.k(this._b);else{var X=g[0].C()*8+(K==1?0:4),w=g[K].C();for(var P=0;P<4;P++)this._b[X+P]=w[P];
this.c(new eG(h.E.o,!1))}};function cS(u){i6.call(this);this.e=b.V("div");this.I=b.V("canvas");this.IY=u;
this._b=[0,20,200,255];this.Uu=0;this.VY=-1;this.aly=[];for(var P=0;P<5;P++){var g=b.V("span");g.setAttribute("style","display:inline-block;width:"+(P==0?8:P==2?7:2)+"em");
this.aly.push(g);this.e.appendChild(g)}this.SS=this.o1.bind(this);this.hy=this.XS.bind(this);this.iz=this.ws.bind(this);
b.mo(this.I);b.hh(this.I,this.SS);this.e.appendChild(this.I);this.Fc()}cS.prototype=new i6;cS.prototype.N=function(){this.Fc()};
cS.prototype.k=function(u,g){this._b=u;this.Uu=g;this.Fc()};cS.prototype.C=function(){return this._b.slice(0)};
cS.prototype.o1=function(u){var g=this._b,K=b.Y2(u,this.I),X=K.x-8,w=-1,D=1e9;for(var P=0;P<4;P++){var q=X-g[P],C=Math.abs(q);
if(C<8&&C<D&&((P&1)==0&&q<0||(P&1)==1&&q>0)){D=q;w=P}}if(w==-1)return;this.VY=w;this.dk=window.__kb.a(hW.Dd)||g[(w>>>1)*2]!=g[(w>>>1)*2+1];
b.t9(window,this.hy);b.Uo(window,this.iz)};cS.prototype.XS=function(u){var g=this._b,K=this.VY,X=(K>>>1)*2,w=X+1,D=b.Y2(u,this.I),q=Math.round(Math.max(0,Math.min(255,D.x-8)));
g[K]=q;if(this.dk&&g[X]>=g[w])this.dk=!1;if(!this.dk)g[X]=g[w]=q;this.Fc();this.c(new eG(h.E.o,!1))};
cS.prototype.ws=function(u){b._I(window,this.hy);b.$u(window,this.iz)};cS.prototype.Fc=function(){var u=this.I;
b.Bw(u,255+16,16);var g=u.getContext("2d"),K=u.width,X=u.height,w=Math.round(255*b.Z()),D=Math.round(8*b.Z());
g.translate(D,0);var q=g.createLinearGradient(0,0,w,0);q.addColorStop(0,"black");q.addColorStop(1,"#"+["ffffff","ff0000","00ff00","0000ff"][this.Uu]);
g.fillStyle=q;g.fillRect(0,0,w,D);var C=this.aly,a=fc.get(this.IY)+":";C[0].textContent=a;for(var P=0;
P<4;P++){var x=this._b[P];C[1+P].textContent=x;var H=Math.round(x*b.Z());g.beginPath();g.moveTo(H,D);
g.lineTo(H,D+D);g.lineTo(H+((P&1)==0?-1:1)*D,D+D);g.closePath();g.fillStyle=P<2?"#666666":"#cccccc";
g.fill();g.strokeStyle="black";g.stroke()}};function bn(u,g,K){i6.call(this);if(K==null)K=!1;this.h=[0,0,1];
this.afm=g;this.a8x=K;this.aa$=0;var X="ai"+b.o8();this.e=b.V("span","fitem angleinput");if(u){this.Hr=b.V("label","flabel");
this.$B=u;this.e.appendChild(this.Hr);this.Hr.setAttribute("for",X)}this.D$=K?44:20;this.I=b.V("canvas","gsicon");
this.CG=this.I.getContext("2d");b.mo(this.I);b.Bw(this.I,this.D$*2+1,this.D$*2+1);this.CG.scale(b.Z(),b.Z());
this.e.appendChild(this.I);b.hh(this.I,this.V0.bind(this));this.SW=this.AJ.bind(this);this.ng=this.Ao.bind(this);
var w=this.xc.bind(this),D=b.V("div");D.setAttribute("style","display:inline-block;  vertical-align:middle;");
if(!K)this.e.appendChild(D);this.K$=[];for(var P=0;P<2;P++){var q=b.V("input");this.K$.push(q);q.setAttribute("type","text");
b.H5(q);if(P==0)q.setAttribute("id",X);q.addEventListener("change",w,!1);var C=b.V("span");C.textContent="\xB0";
if(P==0||g){D.appendChild(q);D.appendChild(C);b.d_(D)}}this.k(this.h)}bn.prototype=new i6;bn.prototype.N=function(){if(this.$B)this.Hr.textContent=fc.get(this.$B)+":"};
bn.prototype.Db=function(u){this.Hr.textContent=u};bn.prototype.C=function(){return this.h.slice(0)};
bn.prototype.k=function(u,g){var K=this.h;u=u.slice(0);if(u[0]==null)u[0]=K[0];if(u[1]==null)u[1]=K[1];
if(u[2]==null)u[2]=K[2];this.h=u;var X=u[0],w=u[1],D=u[2],q=this.afm,C=this.a8x,a=this.D$*.85;if(!q)w=0;
this.K$[0].value=X;this.K$[1].value=w;var x=this.CG;x.clearRect(0,0,100,100);X=Math.PI*X/180;w=a*(90-w)/90;
var H=this.D$+.5;x.save();x.translate(H,H);x.rotate(-X);x.strokeStyle="rgba(0,0,0,0.5)";x.beginPath();
x.ellipse(0,0,a,a*D,0,0,2*Math.PI);if(C){x.moveTo(0,-a*D);x.lineTo(0,a*D);x.moveTo(-w,0)}else x.moveTo(0,0);
x.lineTo(w,0);x.stroke();var $=this.D$*.15;x.fillStyle="black";x.beginPath();if(C){x.arc(0,-a*D,$*.66,0,2*Math.PI);
x.arc(0,a*D,$*.66,0,2*Math.PI)}if(q){x.arc(w,0,$*.4,0,2*Math.PI)}else{x.moveTo(H-$,-$*.66);x.lineTo(H,0);
x.lineTo(H-$,$*.66)}x.fill();x.restore();if(g)this.xc()};bn.prototype.xc=function(u){var g=parseInt(this.K$[0].value);
if(isNaN(g))g=0;var K=parseInt(this.K$[1].value);if(isNaN(K))K=0;g=g%360;K=K%360;this.k([g,K]);this.c(new eG(h.E.o,!1))};
bn.prototype.V0=function(u){b.t9(window,this.SW);b.Uo(window,this.ng);var g=b.Y2(u,this.I),H=0,$=1e9;
g.x-=this.D$;g.y-=this.D$;var K=this.h,X=K[0]*Math.PI/180,w=(90-K[1])/90,D=K[2],q=this.D$*.85,C=Math.sin(-X),a=Math.cos(-X),x=[new j4(a*q,C*q)];
if(this.a8x)x.push(new j4(-C*q*D,a*q*D),new j4(C*q*D,-a*q*D));for(var P=0;P<x.length;P++){var r=j4.uh(g,x[P]);
if(r<$){$=r;H=P}}this.aa$=H;if(H==0)this.AJ(u)};bn.prototype.AJ=function(u){var g=b.Y2(u,this.I),K=this.aa$,X=[],w=g.x-this.D$,D=g.y-this.D$,q=this.D$*.85;
if(K==0){var C=180*Math.atan2(-D,w)/Math.PI,a=90-90*Math.min(1,Math.sqrt(w*w+D*D)/q);if(u.shiftKey)C=Math.round(C/15)*15;
X=[Math.round(C),Math.round(a)]}else X=[null,null,Math.max(.01,Math.min(1,Math.sqrt(w*w+D*D)/q))];this.k(X);
this.c(new eG(h.E.o,!1))};bn.prototype.Ao=function(u){this.c(new eG(h.E.o,!1));b._I(window,this.SW);
b.$u(window,this.ng)};function kl(u,g){i6.call(this);this._b=0;this.gP=g;this.e=b.V("span","fitem angleinput");
if(u){this.Hr=b.V("label","flabel");this.$B=u;this.e.appendChild(this.Hr)}this.I=b.V("canvas","gsicon");
this.CG=this.I.getContext("2d");b.Bw(this.I,g,g);this.e.appendChild(this.I);b.mo(this.I);b.hh(this.I,this.V0.bind(this));
this.SW=this.AJ.bind(this);this.ng=this.Ao.bind(this);this.k(0)}kl.prototype=new i6;kl.prototype.N=function(){if(this.$B)this.Hr.textContent=fc.get(this.$B)+":"};
kl.prototype.Db=function(u){this.Hr.textContent=u};kl.prototype.C=function(){return this._b};kl.prototype.ach=function(u){var g=this._b,K=Math.floor(g/3),X=g-K*3;
X=Math.max(0,Math.min(2,X+u.x));K=Math.max(0,Math.min(2,K+u.y));this.k(K*3+X)};kl.prototype.k=function(u){this._b=u;
var g=this.I.width,K=Math.floor(u/3),X=u-3*K,w=(X+.5)*g/3,D=(K+.5)*g/3,q=this.CG,C=[.5,Math.round(g/3)+.5,Math.round(2*g/3)+.5,g-.5];
q.clearRect(0,0,g,g);var a=this.gP<30;q.setLineDash([]);q.strokeStyle=a?"rgba(0,0,0,0.5)":"#000000";
q.beginPath();for(var P=0;P<4;P++){var x=C[P];q.moveTo(x,0);q.lineTo(x,g);q.moveTo(0,x);q.lineTo(g,x)}q.stroke();
if(u==9)return;if(!a){q.setLineDash([1,2]);var H=g*.53,$=Math.max(0,Math.min(g-H,w-H/2)),r=Math.max(0,Math.min(g-H,D-H/2));
q.strokeRect(Math.round($)+.5,Math.round(r)+.5,Math.round(H),Math.round(H))}q.fillStyle="#000000";q.beginPath();
q.arc(w,D,g/8,0,Math.PI*2);q.fill()};kl.prototype.V0=function(u){b.t9(document.body,this.SW);b.Uo(document.body,this.ng);
this.AJ(u)};kl.prototype.AJ=function(u){var g=b.Y2(u,this.I),K=Math.max(0,Math.min(2,Math.floor(g.x/(this.gP/3)))),X=Math.max(0,Math.min(2,Math.floor(g.y/(this.gP/3))));
this.k(X*3+K)};kl.prototype.Ao=function(u){this.c(new eG(h.E.o,!1));b._I(document.body,this.SW);b.$u(document.body,this.ng)};
function e1(eJ){i6.call(this);this.e=b.V("span","fitem cswatch");this.aqg=0;this.m5=[];this.OG=[];var u=this.alB.bind(this);
for(var P=0;P<eJ;P++){this.m5.push(0);var g=b.V("span","colorsample");g.addEventListener("click",u,!1);
this.OG.push(g);this.e.appendChild(g)}var K=[16711680,65280,255,65535,16711935,16776960,0,8421504,16777215],X=Math.min(eJ,K.length);
for(var P=0;P<X;P++)this.m5[P]=K[P];this.RO()}e1.prototype=new i6;e1.prototype.alB=function(u){this.aqg=this.OG.indexOf(u.currentTarget);
this.c(new eG(h.E.o))};e1.prototype.C=function(){return this.m5[this.aqg]};e1.prototype.k=function(u){var g=this.m5,K=g.indexOf(u);
if(K!=-1)g.splice(K,1);else g.pop();g.unshift(u);this.RO()};e1.prototype.RO=function(){for(var P=0;P<this.m5.length;
P++){this.OG[P].setAttribute("style","background-color:#"+f.ae(this.m5[P]))}};function jR(u){i6.call(this);
this.C_={w:0,A:0,U:0};this.KZ=u;this.e=b.V("span","fitem colorsample");this.e.addEventListener("click",this.gI.bind(this),!1)}jR.prototype=new i6;
jR.prototype.N=function(){};jR.prototype.gI=function(u){var g=this.C_;this.c(new eG("click"));var K=new eG(h.E.Y,!0);
K.data={d:h.s.KP,Pu:"colorpicker",QF:g.w<<16|g.A<<8|g.U,ob:this.Ur.bind(this),QT:this.KZ};this.c(K)};
jR.prototype.Ur=function(u){this.tQ(u);this.c(new eG(h.E.o))};jR.prototype.DS=function(){this.gI(null)};
jR.prototype.amG=function(){var u=this.C_;return u.w<<16|u.A<<8|u.U};jR.prototype.C=function(){return f.X.Gp(this.C_)};
jR.prototype.tQ=function(u){this.C_={w:u>>16&255,A:u>>8&255,U:u&255};this.af2()};jR.prototype.k=function(u){this.C_=f.X.Ld(u);
this.af2()};jR.prototype.af2=function(){var u=this.C_,g=u.w,K=u.A,X=u.U,w=g<<16|K<<8|X;this.e.setAttribute("style","background-color:#"+f.ae(w))};
function f$(){i6.call(this);this.KI=!1;this.kF=20;this.atM=10;this.gO=0;this.KI=!1;this.KN={w:255,A:0,U:0};
this.IM={w:0,A:0,U:0};this.e=b.V("canvas");this.Fc();b.mo(this.e);b.hh(this.e,this.SS.bind(this))}f$.prototype=new i6;
f$.prototype.anw=function(u){if(this.KI==u)return;this.KI=u;this.Fc()};f$.prototype.N=function(){};f$.prototype.a2G=function(u,g){function K(X){return{w:X>>16&255,A:X>>8&255,U:X&255}}if(u!=null)this.KN=K(u);
if(g!=null)this.IM=K(g);this.Fc()};f$.prototype.SS=function(u){var g=b.Y2(u,this.e),K=g.x*b.Z(),X=g.y*b.Z(),w=this.kF,D=this.atM,q=0;
if(K<D&&X<D){q=0}else if(K>w-D&&X>w-D){q=1}else if(K<D){q=2}else{q=3}this.DS(q)};f$.prototype.DS=function(u){var g=new eG(h.E.Y,!0);
if(u>1)g.data={d:h.s.zS,M3:hO.YJ,KR:u};else{this.gO=u;var K=u==0?this.KN:this.IM;g.data={d:h.s.KP,Pu:"colorpicker",QF:K.w<<16|K.A<<8|K.U,ob:this.Ur.bind(this)}}this.c(g)};
f$.prototype.Ur=function(u){var g=new eG(h.E.Y,!0);g.data={d:h.s.zS,M3:hO.YJ,KR:this.gO,h:u};this.c(g)};
f$.prototype.Fc=function(){var u=this.e,g=u.getContext("2d"),K=b.Z(),w="#aaaaaa",D=.62;b.Bw(u,34,34);
u.setAttribute("style",u.getAttribute("style")+";cursor:pointer");var X=this.kF=u.width,q=this.atM=Math.round(X*D);
function C(U,O){var A=U.w,m=U.A,i=U.U;if(O)A=m=i=Math.round(f.Yi(A,m,i));var e=A<<16|m<<8|i;return"#"+f.ae(e)}function a(g,U,O,A,m,i){g.beginPath();
if(A>=i*2&&m>=i*2){g.moveTo(U+i,O);g.lineTo(U+A-i,O);g.quadraticCurveTo(U+A,O,U+A,O+i);g.lineTo(U+A,O+m-i);
g.quadraticCurveTo(U+A,O+m,U+A-i,O+m);g.lineTo(U+i,O+m);g.quadraticCurveTo(U,O+m,U,O+m-i);g.lineTo(U,O+i);
g.quadraticCurveTo(U,O,U+i,O)}g.closePath()}function x(U,O,q,A,m){g.strokeStyle=m?m:"black";g.fillStyle=A;
a(g,U+.5,O+.5,q-1,q-1,q*.2);g.fill();g.stroke()}x(X-q,X-q,q,C(this.IM,this.KI));x(0,0,q,C(this.KN,this.KI));
var H=X-q,$=Math.round(H*D);x(X-$,H-$,$,"white",w);x(X-H,0,$,"black",w);g.save();g.fillStyle=w;g.translate(0,X);
g.rotate(-Math.PI/2);H=X-q;var r=Math.round(H*.28),c=Math.round(H*.25);for(var P=0;P<2;P++){g.fillRect(r,r,H-r,1);
g.beginPath();g.moveTo(H-c,r+.5-c);g.lineTo(H,r+.5);g.lineTo(H-c,r+.5+c);g.closePath();g.fill();g.transform(0,1,1,0,0,0)}g.restore()};
function iw(u){f9.call(this,u,!1,"brushbutton nopadding",19,10,hO.ei,!0);var g=this.aa5;b.AD(g,"flexrow");
var K=b.V("div");g.appendChild(K);var X=b.V("div");g.appendChild(X);X.setAttribute("style","margin-left:8px");
this.nY=new bn(null,null,!0);this.nY.f(h.E.o,this.Uc,this);K.appendChild(this.nY.e);this.go=new fj([12,14,0],1,1e3," px",0,!0);
this.go.f(h.E.o,this.Uc,this);X.appendChild(this.go.e);this.EI=new fj([12,17],0,100,"%");this.EI.f(h.E.o,this.Uc,this);
X.appendChild(this.EI.e)}iw.prototype=new f9;iw.prototype.pb=function(){var u=["pencil","trees"];for(var P=0;
P<u.length;P++)u[P]="brushes/"+u[P]+".abr";return u};iw.prototype.k=function(u,g,K){this.dK=JSON.parse(JSON.stringify(u));
var X=Math.floor(20*b.Z()),w=Math.floor(36*b.Z()),D=Math.floor(24*b.Z()),q=aM.Ja(u,g,K,X,D,w);this.Mm.setAttribute("src",q);
b.DG(this.Mm,w,D);var C=u.Brsh.v;this.go.k(C.Dmtr.v.val);if(C.Hrdn!=null){this.EI.gx();this.EI.k(C.Hrdn.v.val)}else this.EI.ik();
if(C.Angl!=null)this.nY.k([C.Angl.v.val]);if(C.Rndn!=null)this.nY.k([null,null,C.Rndn.v.val/100])};iw.prototype.G0=function(){return{list:[{t:"Objc",v:this.C()}],Ft:[],oY:[]}};
iw.prototype.C=function(){return this.dK};iw.prototype.Px=function(){if(!this.bK)return;var u=[],g=[],K=this.Ci,X=Math.floor(33*b.Z()),w=Math.floor(40*b.Z());
for(var P=0;P<K.list.length;P++){var D=K.list[P].v,q=aM.Ja(D,K.Ft,K.oY,X,w);u.push(q);g.push(D.Nm.v.split("=").pop())}this.M$._m(u,g,X,w);
this.bK=!1};iw.prototype.lC=function(u){var g=this.Ci;this.k(g.list[this.M$.C()[0]].v,g.Ft,g.oY);this.c(new eG(h.E.o))};
iw.prototype.N=function(){f9.prototype.N.call(this);this.nY.N();this.go.N();this.EI.N()};iw.prototype.Uc=function(u){var g=this.Ci,K=this.dK,X=K.Brsh.v;
X.Dmtr.v.val=this.go.C();if(X.Hrdn!=null)X.Hrdn.v.val=this.EI.C();if(X.Angl!=null)X.Angl.v.val=this.nY.C()[0];
if(X.Rndn!=null)X.Rndn.v.val=Math.round(this.nY.C()[2]*100);this.k(K,g.Ft,g.oY);this.c(new eG(h.E.o))};
function bz(u){f9.call(this,u,!0,"contourbutton",17,10.5,hO.h9)}bz.prototype=new f9;bz.prototype.lC=function(u){this.k(this.Ci[u.target.C()]);
this.c(new eG(h.E.o))};bz.prototype.wW=function(u){var g=new eG(h.E.Y,!0);g.data={d:h.s.KP,Pu:"contoureditor",Aj:this.dK,response:this.amc.bind(this)};
this.c(g)};bz.prototype.amc=function(u){this.k(u);this.c(new eG(h.E.o))};bz.prototype.Px=function(){if(!this.bK)return;
var u=Math.floor(38*b.Z()),g=Math.floor(38*b.Z()),K=[],X=[],w=this.Ci;for(var P=0;P<w.length;P++){X.push(w[P].Nm?w[P].Nm.v:"");
K.push(f.f1.Ja(w[P].Crv.v,u,g))}this.M$._m(K,X,u,g);this.bK=!1};bz.prototype.k=function(u){this.dK=JSON.parse(JSON.stringify(u));
var g=this.dK.Crv.v;for(var P=0;P<g.length;P++)if(g[P].v.Cnty==null)g[P].v.Cnty={t:"bool",v:!0};this.$n()};
bz.prototype.$n=function(){var u=Math.floor(30*b.Z()),g=Math.floor(30*b.Z()),K=f.f1.Ja(this.dK.Crv.v,u,g);
this.Mm.setAttribute("src",K);b.DG(this.Mm,u,g)};bz.prototype.C=function(){return JSON.parse(JSON.stringify(this.dK))};
function jo(u){i6.call(this);this.V_=null;this.nC=null;this.i3=null;this.Fz=null;this.akn=[];this.ap1=[];
this.e=b.V("span","fitem fillbutton");this.if=new i6;this.if.e=b.V("div","floatcont form");this.if.e.setAttribute("style","width: 21em;");
this.if.parent=this;this.M8=u;this.Hr=this.Hr=b.V("label","flabel");this.e.appendChild(this.Hr);this.I=b.V("canvas");
this.CG=this.I.getContext("2d");this.adY=null;this.e.appendChild(this.I);b.hh(this.I,this.AX.bind(this));
this.a2=new k6([12,66],["","Color","Grad","Patt"]);this.if.e.appendChild(this.a2.e);this.a2.f(h.E.o,this.yg,this);
this.if.e.appendChild(b.V("hr"));this.a13=b.V("span");this.FP=new jR(!1);this.FP.parent=this.if;this.FP.f(h.E.o,this.yg,this);
this.Rq=new e1(10);this.Rq.f(h.E.o,this.yg,this);this.ag=b.V("div","marged hiline");this.ag.appendChild(this.FP.e);
b.d_(this.ag);this.ag.appendChild(this.Rq.e);this.Qp=new cv("GrFl",!0);this.Qp.parent=this.if;this.Qp.f(h.E.o,this.yg,this);
this.LA=b.V("div","marged hiline");var g="Grad Type Algn Angl Rvrs Scl Ofst".split(" ");for(var P=0;
P<g.length;P++){var K=this.Qp.sY[g[P]].e;this.LA.appendChild(K)}this.mL=new cv("patternFill",!0);this.mL.parent=this.if;
this.mL.f(h.E.o,this.yg,this);this.fk=b.V("div","marged hiline");var g=["Ptrn","Angl","Scl","Algn","phase"];
for(var P=0;P<g.length;P++){var K=this.mL.sY[g[P]].e;this.fk.appendChild(K)}}jo.prototype=new i6;jo.prototype.xY=function(u,g){var K=aW.MP(u,g);
if(K!=null)this.Rq.k(K);if(g==hO.WO){this.akn=[];this.ap1=[];if(this.V_)this.k(this.i3,this.C(),this.V_)}this.nC=u;
this.Qp.xY(u,g);this.mL.xY(u,g)};jo.prototype.N=function(){this.Hr.textContent=fc.get(this.M8)+": ";
this.a2.N();this.FP.N();this.Qp.N();this.mL.N()};jo.prototype.yg=function(u){var g=u.currentTarget;if(g==this.a2){var K=this.a2.C(),X={lB:K,Gu:this.V_[K]};
if(K>0&&X.Gu==null)X.Gu=JSON.parse(JSON.stringify(k8.DL[K-1]));if(this.V_)this.k(this.i3,X,this.V_)}if(g==this.Rq)this.FP.tQ(g.C());
this.c(new eG(h.E.o,!1))};jo.prototype.AX=function(u){if(b.tV(this.if.e))return;u.stopPropagation();
var g=this.I.getBoundingClientRect(),K=new eG(h.E.Y,!0);K.data={d:h.s.dC,qD:this.if,x:g.left,y:g.top+g.height+4};
this.c(K)};jo.prototype.k=function(u,g,K){this.V_=K;this.i3=u;var X=[[13,1,0],[13,0],[12,37],[12,62]],w=this.akn,D=this.ap1,q=!1,H;
for(var P=0;P<4;P++){var C={lB:P,Gu:K[P]},a=jo.avZ(C);if(D[P]==a)continue;q=!0;var x=jo.aac(null,C,this.nC,this.i3,22,22,!1);
w[P]="<img width=\"22\" height=\"22\" src=\""+x+"\" />";D[P]=a}if(q)this.a2.UT(w,X);this.a2.k(g.lB);
var a=jo.avZ(g);if(a!=this.adY)jo.aac(this.CG,g,this.nC,this.i3,30,23,!0);this.adY=a;var $=g.lB;if($==0){H=this.a13}if($==1){this.FP.k(g.Gu.Clr.v);
H=this.ag}if($==2){this.Qp.update(u,g.Gu);H=this.LA}if($==3){this.mL.update(u,g.Gu);H=this.fk}if(H!=this.Fz){if(this.Fz!=null){this.if.e.removeChild(this.Fz)}this.if.e.appendChild(H);
this.Fz=H}};jo.prototype.C=function(){var u={lB:this.a2.C()};if(u.lB==1){u.Gu=JSON.parse(JSON.stringify(k8.DL[0]));
u.Gu.Clr.v=this.FP.C()}if(u.lB==2){u.Gu=this.Qp.C()}if(u.lB==3){u.Gu=this.mL.C()}return u};jo.avZ=function(u){var g=u.lB,K=u.Gu,X="empty";
if(g==1){X=f.X.Ld(K.Clr.v);X=X.w+","+X.A+","+X.U}if(g==2)X=JSON.stringify(K.Grad.v);if(g==3)X=K.Ptrn.v.Idnt.v;
return X};jo.aac=function(u,g,K,X,w,D,q){if(u==null)u=jo.CG;var C=Math.floor(w*b.Z()),a=Math.floor(D*b.Z()),x=u.canvas,H;
x.width=C;x.height=a;b.DG(x,C,a);var $=g.lB;if($==0){u.fillStyle="#ffffff";u.fillRect(0,0,C,a);u.strokeStyle="#ff0000";
u.lineWidth=2;u.moveTo(0,0);u.lineTo(C,a);u.moveTo(0,a);u.lineTo(C,0);u.stroke()}if($==1){var r=g.Gu.Clr.v;
r=f.X.Ld(r);u.fillStyle="#"+f.ae(r.w<<16|r.A<<8|r.U);u.fillRect(0,0,C,a)}if($==2){R.xR.Ja(g.Gu.Grad.v,C,a,0,K.FK,K.ui,x)}if($==3){var c=g.Gu.Ptrn.v,U;
if(X!=null)U=bW.ME(c,X.add.Patt);if(U==null)U=bW.ME(c,K.u7);jT.Ja(U,C,a,x)}if(q){u.beginPath();u.strokeStyle="#000000";
u.fillStyle="#ffffff";u.lineWidth=2;var O=C*.7,A=Math.floor(a*.7),m=7*b.Z();u.moveTo(O,A);u.lineTo(O+m,A);
u.lineTo(O+m/2,A+m/2);u.closePath();u.stroke();u.fill()}if(u==jo.CG)return x.toDataURL()};jo.CG=b.V("canvas").getContext("2d");
function jT(u){f9.call(this,u,!1,"patternbutton",18,10,hO.WO);this.K7=null}jT.prototype=new f9;jT.prototype.lC=function(u){var g=this.Ci[this.M$.C()];
this.dK={classID:"Ptrn",Nm:{t:"TEXT",v:g.name},Idnt:{t:"TEXT",v:g.id}};this.c(new eG(h.E.o));this.$n()};
jT.prototype.Px=function(){if(!this.bK)return;var u=this.Ci,g=Math.floor(34*b.Z()),K=Math.floor(34*b.Z()),X=[],w=[];
for(var P=0;P<u.length;P++){X.push(jT.Ja(u[P],g,K));w.push(u[P].name)}this.M$._m(X,w,g,K);this.bK=!1};
jT.prototype.k=function(u,g){if(this.dK&&u.Idnt.v==this.dK.Idnt.v)return;this.dK=JSON.parse(JSON.stringify(u));
this.$n(g)};jT.prototype.C=function(){return JSON.parse(JSON.stringify(this.dK))};jT.prototype.G0=function(){return this.K7?[this.K7]:[]};
jT.prototype.$n=function(u){var g=Math.floor(50*b.Z()),K=Math.floor(50*b.Z()),X;if(u!=null)X=bW.ME(this.dK,u.add.Patt);
if(X==null)X=bW.ME(this.dK,this.Ci);this.K7=X;var w=jT.Ja(X,g,K);this.Mm.setAttribute("src",w);b.DG(this.Mm,g,K)};
jT.I=b.V("canvas","");jT.Ja=function(u,g,K,X){if(X==null)X=jT.I;var w=X.getContext("2d");X.width=g;X.height=K;
if(u){var D=u.e4[1],q=D.m,C=D.n,a=u.e4[0],x=Math.min(g/q,K/C),H=x;if(H*q<2)H=2/q;var $=x;if($*C<2)$=2/C;
var r=R.S.qp([a,D],new eV(H,0,0,$,0,0),H>2),c=r.rect.m,U=r.rect.n,O=w.createImageData(c,U);f.me(r.buffer,O.data);
w.putImageData(O,Math.floor((g-c)/2),Math.floor((K-U)/2))}return X.toDataURL()};function eE(u,g,K){if(g==null)g=24.2;
if(K==null)K=17;f9.call(this,u,!1,"patternbutton",g,K,hO.vO);this.oR=""}eE.prototype=new f9;eE.prototype.lC=function(u){this.dK=JSON.parse(JSON.stringify(this.Ci[0][this.M$.C()[0]]));
this.c(new eG(h.E.o))};eE.prototype.Px=function(){var u=this.Ci;if(u==null||!this.bK)return;var g=Math.floor(50*b.Z()),K=Math.floor(50*b.Z()),X=[],w=[];
for(var P=0;P<u[0].length;P++){X.push(eE.Ja(this.Ci[0][P].lF,g,K,this.Ci[1]));w.push(u[0][P].JJ.Nm.v.split("=").pop())}this.M$._m(X,w,g,K);
this.bK=!1};eE.prototype.k=function(u,g,K,X){var w=JSON.stringify(u.lF)+","+K+","+X;if(this.oR!=w){this.oR=w;
this.dK=JSON.parse(JSON.stringify(u));this.$n(g,K,X)}};eE.prototype.C=function(){return JSON.parse(JSON.stringify(this.dK))};
eE.prototype.$n=function(u,g,K){var X=Math.floor(68*b.Z()),w=Math.floor(68*b.Z()),D=eE.Ja(this.dK.lF,X,w,u?u:this.Ci[1],g,K);
this.Mm.setAttribute("src",D);b.DG(this.Mm,X,w)};eE.Ja=function(u,g,K,X,w,D){var q=new f0;q.m=g;q.n=K;
q.buffer=f.L(g*K*4);q.add.Patt=X;q.uy(w==null?90:w);q.jg(D==null?30:D);var C=new dS(0,0,Math.round(g*.5),Math.round(K*.5));
C.x=Math.round((g-C.m)/2);C.y=Math.round((K-C.n)/2);var a=q.Wk();a.rect=C;a.buffer=f.L(C.$()*4);f.D4(a.buffer,4284045657);
bW.auX(u,a,.5*100);q.g.push(a);q.Y0();q.O();var x=s.xA;s.xA=!1;q.Z9();var H=q.KS();s.xA=x;var $=eH.sk(H.buffer,q.m,q.n);
return $};function gT(u){f9.call(this,null,!1,"tpresetbutton",18,24,hO.hJ,!0);b._n(this.e,"fitem");this.M$.WY(1);
this.id=u;this.$n();this.d.style.overflow="hidden";this.kU=new cG([15,7,9]);this.kU.k(!0);this.kU.f(h.E.o,this.amw,this);
this.h2.appendChild(this.kU.e)}gT.prototype=new f9;gT.prototype.anL=function(u){if(this.id==u)return;
this.id=u;this.QC(this.Ci)};gT.prototype.lC=function(u){var g=this.Ci[this.M$.C()],K=new eG(h.E.Y,!0);
K.data={d:h.s.zS,oy:"set",M3:hO.hJ,J$:g};this.c(K)};gT.prototype.N=function(){f9.prototype.N.call(this);
this.kU.N()};gT.prototype.amw=function(){this.bK=!0;this.Px()};gT.prototype.Px=function(){if(!this.bK)return;
var u=Math.floor(16*b.Z()),g=Math.floor(16*b.Z()),K=[],X=[],w=this.Ci,D=this.kU.C();for(var P=0;P<w.length;
P++){var q=R.nJ(w[P]);if(!D||q==this.id){X.push(w[P][0]?w[P][0].split("=").pop():"");K.push(q==-1?"":PIMG[R.VE[q][0]])}else{K.push(null);
X.push(null)}}this.M$._m(K,X,u,g);this.bK=!1};gT.prototype.$n=function(){var u=this.Mm;u.setAttribute("src",PIMG[R.VE[this.id][0]]);
b.AD(u,"toolicon")};gT.prototype.G0=function(){return null};gT.FD={};gT.Ja=function(u,g,K){var X=gT.CG,w=gT.FD,D=f.ae(u.w<<16|u.A<<8|u.U);
if(w[D])return w[D];if(X==null){var q=b.V("canvas");X=gT.CG=q.getContext("2d")}var q=X.canvas;q.width=g;
q.height=K;X.fillStyle="#"+D;X.fillRect(0,0,g,K);var C=w[D]=q.toDataURL();return C};function h9(u,g,K){i6.call(this);
this.e=b.V("span","fitem curveeditor");this.I0=null;this.atO=0;this.Uu="";this.mode=0;this.nd=u;this.auH=g;
this.a2M=K;this.tu=null;this.Ul=null;this.at8=0;this.a14=0;this._Q=new j4;this.y9=this.AJ.bind(this);
this.RZ=this.Ao.bind(this);this.gP=256;this.I=b.V("canvas");this.CG=this.I.getContext("2d");b.mo(this.I);
this.e.appendChild(this.I);this.rc(256,256);b.hh(this.I,this.V0.bind(this));this.coords=b.V("div","");
this.coords.setAttribute("style","width:250px");this.e.appendChild(this.coords);var X=this.qj=K?100:255,w=null;
this.P1=new bX("X (in):",0,X,w,0,!1,!0);this.wo=new bX("Y (out):",0,X,w,0,!1,!0);this.I8=new cG([19,3,0]);
this.P1.f(h.E.o,this.mY,this);this.wo.f(h.E.o,this.mY,this);this.I8.f(h.E.o,this.mY,this);this.coords.appendChild(this.P1.e);
if(K)this.coords.appendChild(this.I8.e);this.coords.appendChild(this.wo.e)}h9.prototype=new i6;h9.prototype.N=function(){this.I8.N()};
h9.prototype.rc=function(u,g){this.gP=Math.round(u);this.CG.resetTransform();b.Bw(this.I,this.gP,this.gP,this.CG);
this.CG.scale(this.gP/256,this.gP/256);if(this.tu)this.P2()};h9.prototype.mY=function(u){var P=this.ako(),g=this.tu[P],K=255/this.qj;
g.v.Hrzn.v=this.P1.C()*K;g.v.Vrtc.v=this.wo.C()*K;if(this.a2M)g.v.Cnty.v=this.I8.C();this.tu.sort(function(X,w){return X.v.Hrzn.v-w.v.Hrzn.v});
this.P2();this.c(new eG(h.E.o))};h9.prototype.k=function(u,P){var g=JSON.stringify(u);if(g==JSON.stringify(this.tu))return;
this.mode=u.length==256?1:0;this.tu=JSON.parse(g);if(P!=null)this.Ul=this.tu[P];this.P2()};h9.prototype.RQ=function(u,g,K){this.I0=u;
this.atO=g;this.Uu=K;this.P2()};h9.prototype.C=function(){return JSON.parse(JSON.stringify(this.tu))};
h9.prototype.ako=function(){return this.tu.indexOf(this.Ul)};h9.prototype.V0=function(u){var g=256/this.gP,K=b.Y2(u,this.I);
K.x*=g;K.y*=g;var X=K.x,w=256-K.y;if(this.nd){var D=X;X=256-w;w=D}this._Q.fP(X,w);if(this.mode==0){var q=0,C=1e9,r;
for(var P=0;P<this.tu.length;P++){var a=this.tu[P].v,x=a.Hrzn.v-X,H=a.Vrtc.v-w,$=Math.sqrt(x*x+H*H);
if($<C){C=$;q=P}}if(C<15)r=this.tu[q];else{r=f.f1.an(X,w,!0);this.tu.push(r);this.tu.sort(function(c,U){return c.v.Hrzn.v-U.v.Hrzn.v})}this.Ul=r;
this.a14=this.tu.slice(0)}b.t9(document.body,this.y9);b.Uo(document.body,this.RZ);this.AJ(u)};h9.prototype.AJ=function(u){var g=256/this.gP,K=b.Y2(u,this.I);
K.x*=g;K.y*=g;var X=K.x,w=256-K.y;if(this.nd){var D=X;X=256-w;w=D}if(this.mode==0){var q=this.tu,C=this.Ul,a=this.a14,x=a.indexOf(C),H=q.indexOf(C)!=-1,$=a.length-1,r=X;
if(x==0){r=Math.max(0,Math.min(a[1].v.Hrzn.v-1,X))}else if(x==$){r=Math.min(255,Math.max(a[$-1].v.Hrzn.v+1,X))}else{var c=X<0||X>255||w<0||w>255;
if(X<=a[x-1].v.Hrzn.v||X>=a[x+1].v.Hrzn.v)c=!0;if(!c&&!H)q.splice(x,0,C);if(c&&H)q.splice(x,1)}if(this.auH&&(x==0||x==a.length-1)){}else C.v.Hrzn.v=Math.round(r);
C.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(w)))}else{X=Math.round(X);w=Math.round(w);X=Math.max(0,Math.min(255,X));
w=Math.max(0,Math.min(255,w));var U=this._Q.x,O=X,A=this._Q.y,m=w;if(X<this._Q.x){O=U;U=X;m=A;A=w}this.tu[X]=w;
if(U!=O)for(var i=U;i<=O;i++)this.tu[i]=Math.round(A+(i-U)*(m-A)/(O-U))}this._Q.fP(X,w);this.P2();this.c(new eG(h.E.o))};
h9.prototype.Ao=function(u){b._I(document.body,this.y9);b.$u(document.body,this.RZ);this.c(new eG(h.E.o))};
h9.prototype.P2=function(){var u=this.CG,g=this.I;u.fillStyle="#ffffff";u.fillRect(0,0,256,256);var K=256/g.width;
if(this.I0){u.save();u.translate(0,256);u.scale(1,-1);cM.a3n(u,this.I0,5700/this.atO,this.Uu);u.restore()}u.strokeStyle="#aaaaaa";
u.lineWidth=1*K;u.beginPath();for(var P=1;P<4;P++){var X=(Math.floor(64*P/K)+.5)*K;u.moveTo(0,X);u.lineTo(255,X);
u.moveTo(X,0);u.lineTo(X,255)}u.stroke();if(this.nd){u.save();u.transform(0,1,-1,0,256,0)}if(this.mode==0){var w=this.tu,D=f.f1.va(w,256);
u.strokeStyle="#000000";u.beginPath();u.moveTo(0,255.5-D[0]);for(var P=0;P<256;P++)u.lineTo(P,255.5-D[P]);
u.stroke();u.lineWidth=2*K;for(var P=0;P<w.length;P++){var q=w[P].v;u.fillStyle=this.Ul==w[P]?"#333":"#fff";
u.beginPath();u.moveTo(q.Hrzn.v,255.5-q.Vrtc.v);u.arc(q.Hrzn.v,255.5-q.Vrtc.v,5*K,0,2*Math.PI);u.stroke();
u.fill()}}else{var D=this.tu;u.strokeStyle="#000000";u.beginPath();u.moveTo(0,255.5-D[0]);for(var P=0;
P<256;P++)u.lineTo(P,255.5-D[P]);u.stroke()}if(this.nd)u.restore();var P=this.ako();this.coords.setAttribute("class",P==-1?"disabled":"");
if(P==-1)return;var q=this.tu[P].v,C=255/this.qj;this.P1.k(Math.round(q.Hrzn.v/C));this.wo.k(Math.round(q.Vrtc.v/C));
if(q.Cnty)this.I8.k(q.Cnty.v)};function cM(u,g){i6.call(this);this.e=b.V("span","");this.WI=new e8([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5],[12,82]]);
this.WI.f(h.E.o,this.Fc,this);this.e.appendChild(this.WI.e);b.d_(this.e);this.I=b.V("canvas");var K=this.I;
this.e.appendChild(K);K.width=Math.round(u*b.Z());K.height=Math.round(100*b.Z());b.DG(K,K.width,K.height);
this.CG=K.getContext("2d");this.I0=null;this.Cr=0;this.ai6=null;this.ajY=[];this.$m=[];var X=["Mean:","Pixels:"],w=this.e;
for(var P=0;P<X.length;P++){var D=new g5(X[P]);this.ajY.push(D);if(g)w.appendChild(D.e);var q=new g5("hi");
this.$m.push(q);if(g)w.appendChild(q.e);b.d_(w)}}cM.prototype=new i6;cM.prototype.N=function(){this.WI.N()};
cM.prototype.WY=function(u){this.WI.k(u);this.Fc()};cM.prototype.k=function(u,g){this.I0=u;this.ai6=g;
this.Fc()};cM.prototype.tQ=function(u){if(u==this.Cr)return;this.Cr=u;this.Fc()};cM.prototype.Fc=function(){if(this.I0==null)return;
var u=this.I,g=this.CG,K=this.I0,X=this.ai6,w=this.WI.C(),D=6e3/K[4],q="#"+f.ae(this.Cr),C=cM.a3n;u.width=u.width;
g.setTransform(u.width/256,0,0,-u.height/100,0,u.height);g.globalCompositeOperation="lighter";if(w==0)C(g,K[0],D/3,q);
else if(w<4)C(g,K[w],D,q);else{C(g,K[1],D,"#ff0000");C(g,K[2],D,"#00ff00");C(g,K[3],D,"#0000ff")}g.setTransform(1,0,0,1,0,0);
if(X!=null){var a=0;for(var P=0;P<256;P++)a+=P*K[w][P];if(w==0)a/=3;this.$m[0].k((a/X).toFixed(1)+"");
this.$m[1].k(X+"")}};cM.a3n=function(u,g,K,X){u.beginPath();u.moveTo(0,0);for(var w=0;w<256;w++)u.lineTo(w,g[w]*K);
u.lineTo(256,0);u.closePath();u.fillStyle=X;u.fill()};function fJ(u,g){i6.call(this);this._p={w:0,A:0,U:0};
if(Math.abs(u-256/b.Z())<10)u=256/b.Z();var K=this.e=b.V("div","flexrow"),X=this.a1a=b.V("div");K.appendChild(X);
this.Co=new j4;this.ej=new j4;this.SW=this.acb.bind(this);this.ng=this.amy.bind(this);this.I=b.V("canvas","");
this.CG=this.I.getContext("2d");this.I.width=this.I.height=256;this.anq=this.CG.getImageData(0,0,256,256);
this.aa4=-1;this.ajW="";b.mo(this.I);b.hh(this.I,this.a9I.bind(this));X.appendChild(this.I);this.aof=this.ad1.bind(this);
this.a7$=this.aj2.bind(this);this.Za=b.V("canvas","");this.oX=this.Za.getContext("2d");this.Za.width=20;
this.Za.height=256;this.ah5=this.oX.getImageData(0,0,20,256);fJ.asF(this.ah5.data,20,256);b.mo(this.Za);
b.hh(this.Za,this.au0.bind(this));K.appendChild(this.Za);this.I.setAttribute("style","width:"+u+"px; height:"+u+"px");
this.Za.setAttribute("style","width:16px; height:"+u+"px");this.BR=new cG("Web Colors\u2001");this.BR.f(h.E.o,this.update,this);
this.C2=new cG("CMYK gamut");this.C2.f(h.E.o,this.update,this);if(g){b.d_(X);X.appendChild(this.BR.e);
X.appendChild(this.C2.e)}}fJ.prototype=new i6;fJ.prototype.rc=function(u,g){this.I.style.width=this.a1a.style.width=u-16+"px"};
fJ.prototype.k=function(u){if(this.BR.C()){var g=JSON.parse(JSON.stringify(u));fJ.LQ(g);var K=this.C();
if(g.w==K.w&&g.A==K.A&&g.U==K.U)u=this._p}this._p=u;this.update()};fJ.prototype.C=function(){var u=JSON.parse(JSON.stringify(this._p));
if(this.BR.C())fJ.LQ(u);return u};fJ.prototype.update=function(){var u=this._p,g=f.UD(u.w,u.A,u.U);if(g.jp==0)g.C9=this.Co.x/255;
if(g.C9==0||g.jp==0)g.xQ=(255-this.JT(this.ej.y))/255;if(g.jp!=0)this.Co.x=g.C9*255;this.Co.y=(1-g.jp)*255;
this.ej.y=(1-g.xQ)*255;var K=this.anq,X=this.BR.C(),w=this.C2.C(),D=X+","+w;if(Math.abs(g.xQ-this.aa4)>.002||this.ajW!=D){this.aaN(K.data,256,256,g.xQ,X,w);
this.aa4=g.xQ;this.ajW=D}var q=this.CG;q.putImageData(K,0,0);q.strokeStyle="#000000";q.beginPath();q.arc(this.Co.x+1,this.Co.y+1,5,0,2*Math.PI);
q.stroke();q.strokeStyle="#ffffff";q.beginPath();q.arc(this.Co.x,this.Co.y,5,0,2*Math.PI);q.stroke();
K=this.ah5;q=this.oX;q.putImageData(K,0,0);q.strokeStyle="#ffffff";q.beginPath();q.moveTo(0,this.ej.y);
q.lineTo(20,this.ej.y);q.lineWidth=2;q.stroke()};fJ.LQ=function(u){u.w=~~(.5+u.w*5)*.2;u.A=~~(.5+u.A*5)*.2;
u.U=~~(.5+u.U*5)*.2};fJ.prototype.aaN=function(u,g,K,X,w,D){var q=1/g,C=1/K;for(var a=0;a<K;a++)for(var x=0;
x<g;x++){var H=f.iF(X,x*q,(K-a-1)*C);if(w)fJ.LQ(H);var P=a*g+x<<2;u[P+0]=~~(H.w*255);u[P+1]=~~(H.A*255);
u[P+2]=~~(H.U*255);u[P+3]=255}if(D){var $=u.slice(0),r=f0.lP[0],c=f0.lP[1];ICC.U.applyLUT(c,r,$,$);for(var P=0;
P<u.length;P+=4){var U=u[P]-$[P],O=u[P+1]-$[P+1],A=u[P+2]-$[P+2],m=U*U+O*O+A*A;if(m>300)u[P]=u[P+1]=u[P+2]=200}}};
fJ.asF=function(u,g,K,X,w){if(X==null)X=1;if(w==null)w=0;var D=new Uint32Array(u.buffer);for(var q=0;
q<K;q++){var C=f.iF((1+X*(1-q/K)+w)%1,1,1),a=255<<24|C.U*255<<16|C.A*255<<8|C.w*255;for(var x=0;x<g;
x++)D[q*g+x]=a}};fJ.prototype.a9I=function(u){b.t9(window,this.SW);b.Uo(window,this.ng);this.acb(u)};
fJ.prototype.amy=function(u){b._I(window,this.SW);b.$u(window,this.ng)};fJ.prototype.acb=function(u){var g=b.Y2(u,this.I);
g.x=g.x*(256/parseFloat(this.I.style.width));g.y=g.y*(256/parseFloat(this.I.style.height));this.Co.fP(this.JT(g.x),this.JT(g.y));
this.HQ()};fJ.prototype.HQ=function(){this._p=this.a9$();this.c(new eG(h.E.o))};fJ.prototype.a9$=function(){var u=f.iF((255-this.JT(this.ej.y))/255,this.LH(this.Co.x/255),this.LH(1-this.Co.y/255));
return{w:u.w,A:u.A,U:u.U}};fJ.prototype.au0=function(u){b.t9(window,this.aof);b.Uo(window,this.a7$);
this.ad1(u)};fJ.prototype.aj2=function(u){b._I(window,this.aof);b.$u(window,this.a7$)};fJ.prototype.ad1=function(u){var g=b.Y2(u,this.Za);
g.y=g.y*(256/parseFloat(this.Za.style.height));this.ej.fP(this.JT(g.x),this.JT(g.y));this.HQ()};fJ.prototype.JT=function(u){return Math.max(0,Math.min(255,u))};
fJ.prototype.LH=function(u){return Math.max(0,Math.min(1,u))};function it(u,g,K,X){var w=k6.N1(g,X);
k6.call(this,u,w,K)}it.prototype=new k6;function gJ(){i6.call(this);this.Jo=null;this.ay=new di;this.ay.f(h.E.o,this.aqo,this);
this.ay.parent=this;this.Ap=new bX([12,14,0],1,150,"px",0,!0);this.Ap.f(h.E.o,this.Je,this);this.Ap.parent=this;
this.Z2=new bX([16,0],.01,100,"px",2,!0,null,5);this.Z2.f(h.E.o,this.Je,this);this.Z2.parent=this;this.BA=new cG("Auto");
this.BA.f(h.E.o,this.Je,this);this.W3=new bX([16,1],-500,5e3,"%",0,!0);this.W3.f(h.E.o,this.Je,this);
this.W3.parent=this;this.Cm=new bX("\u2B0D",1,300,"%",null,null,null,null,[[2,7],[22,4,3]]);this.Cm.f(h.E.o,this.Je,this);
this.Cm.parent=this;this.JD=new bX("\u2B0C",1,300,"%",null,null,null,null,[[2,7],[22,4,2]]);this.JD.f(h.E.o,this.Je,this);
this.JD.parent=this;this.D6=new bX([16,2],-10,10,"px");this.D6.f(h.E.o,this.Je,this);this.D6.parent=this;
this.Wd=new jR(!0);this.Wd.f(h.E.o,this.mX,this);this.Wd.parent=this;this.gl=new jR(!0);this.gl.f(h.E.o,this.mX,this);
this.gl.parent=this;this.rR=new jR(!0);this.rR.f(h.E.o,this.mX,this);this.rR.parent=this;this.t4=new jR(!0);
this.t4.f(h.E.o,this.mX,this);this.t4.parent=this;this.hX=new cG([2,3]);this.hX.f(h.E.o,this.Je,this);
this._A=new cG([14,9]);this._A.f(h.E.o,this.Je,this);this.eN=new cG([12,46]);this.eN.f(h.E.o,this.Je,this);
this.eL=new dM("...",null,null,!0);this.eL.e.style.marginLeft="-8px";b.hh(this.eL.e,this.ae_.bind(this));
this.if=new i6;var u=this.if.e=b.V("div","floatcont form"),w=100;this.if.parent=this;this.ER=new bX([12,41],1,20,"px",0,!0,!0);
this.ER.e.style.marginLeft="16px";this.ER.f(h.E.o,this.Je,this);this.ER.parent=this.if;u.appendChild(this.gl.e);
u.appendChild(this.hX.e);b.d_(this.if.e);u.appendChild(this.rR.e);u.appendChild(this._A.e);u.appendChild(this.ER.e);
b.d_(this.if.e);u.appendChild(this.t4.e);u.appendChild(this.eN.e);this.XB=new dM("<img src=\""+PIMG["type/bold"]+"\" class=\"autoscale gsicon\" />");
this.BG=new dM("<img src=\""+PIMG["type/italic"]+"\" class=\"autoscale gsicon\" />");this.YI=new dM("<img src=\""+PIMG["type/caps"]+"\" class=\"autoscale gsicon\" />");
this.PE=new dM("<img src=\""+PIMG["type/scaps"]+"\" class=\"autoscale gsicon\" />");this.rW=new dM("<img src=\""+PIMG["type/sub"]+"\" class=\"autoscale gsicon\" />");
this.Sr=new dM("<img src=\""+PIMG["type/sup"]+"\" class=\"autoscale gsicon\" />");this.RH=new dM("<img src=\""+PIMG["type/under"]+"\" class=\"autoscale gsicon\" />");
this.B$=new dM("<img src=\""+PIMG["type/strike"]+"\" class=\"autoscale gsicon\" />");var g=[this.XB,this.BG,this.YI,this.PE,this.rW,this.Sr,this.RH,this.B$];
for(var P=0;P<g.length;P++)g[P].f("click",this.a50,this);this.Xk=new dM("<img src=\""+PIMG["par/left"]+"\" class=\"autoscale gsicon\" />");
this.oq=new dM("<img src=\""+PIMG["par/right"]+"\" class=\"autoscale gsicon\" />");this.Qm=new dM("<img src=\""+PIMG["par/center"]+"\" class=\"autoscale gsicon\" />");
this.a0b=new dM("<img src=\""+PIMG["par/jleft"]+"\" class=\"autoscale gsicon\" />");this.apk=new dM("<img src=\""+PIMG["par/jright"]+"\" class=\"autoscale gsicon\" />");
this.axo=new dM("<img src=\""+PIMG["par/jcenter"]+"\" class=\"autoscale gsicon\" />");this.aqJ=new dM("<img src=\""+PIMG["par/jall"]+"\" class=\"autoscale gsicon\" />");
this.lS=[this.Xk,this.oq,this.Qm,this.a0b,this.apk,this.axo,this.aqJ];for(var P=0;P<this.lS.length;P++)this.lS[P].f("click",this.Je,this);
var K=["lind","rind","flind","bind","aind"],X=[];for(var P=0;P<5;P++)X.push("<img src=\""+PIMG["par/"+K[P]]+"\" class=\"autoscale gsicon\" /> ");
this.Zi=new bX(X[0],-w,w,"px");this.Zi.f(h.E.o,this.Je,this);this.Zi.parent=this;this.Nw=new bX(X[1],-w,w,"px");
this.Nw.f(h.E.o,this.Je,this);this.Nw.parent=this;this.HW=new bX(X[2],-w,w,"px");this.HW.f(h.E.o,this.Je,this);
this.HW.parent=this;this.uD=new bX(X[3],-w,w,"px");this.uD.f(h.E.o,this.Je,this);this.uD.parent=this;
this.dX=new bX(X[4],-w,w,"px");this.dX.f(h.E.o,this.Je,this);this.dX.parent=this;this.lX=new k6([12,33],["Abc ...","... \u0623\u064A \u0628\u064A"]);
this.lX.f(h.E.o,this.Je,this);this.lX.parent=this;this.oa=new bX(["Auto VAR0",[16,0]],0,500,"%");this.oa.f(h.E.o,this.Je,this);
this.oa.parent=this}gJ.prototype=new i6;gJ.prototype.ae_=function(u){if(b.tV(this.if.e))return;u.stopPropagation();
var g=this.eL.e.getBoundingClientRect(),K=new eG(h.E.Y,!0);K.data={d:h.s.dC,qD:this.if,x:g.left,y:g.top+g.height+4};
this.c(K)};gJ.prototype.N=function(){this.ay.N();this.Ap.N();this.Z2.N();this.W3.N();this.D6.N();this.Cm.N();
this.JD.N();this.hX.N();this._A.N();this.eN.N();this.ER.N();this.lX.N();this.oa.N()};gJ.prototype.k=function(u,g,K){this.vF=JSON.parse(JSON.stringify(u));
var X=this.vF,w=X.QX,D=X.Sh;this.XB.k(w.FauxBold!=null?w.FauxBold:!1);this.BG.k(w.FauxItalic!=null?w.FauxItalic:!1);
this.YI.k(w.FontCaps==2);this.PE.k(w.FontCaps==1);this.Sr.k(w.FontBaseline==1);this.rW.k(w.FontBaseline==2);
this.RH.k(w.Underline);this.B$.k(w.Strikethrough);this.ay.k(w.Font==null?null:X._L[w.Font].Name,g,K);
var q=w.FontSize==null?20:w.FontSize;this.Ap.k(q);var C=w.Tracking;this.W3.k(C==null?0:C);this.ER.k(w._LineWidth!=null?w._LineWidth:1);
this.Z2.k(w.Leading!=null&&w.Leading!=0?w.Leading:q);this.BA.k(w.AutoLeading);this.Cm.k((w.VerticalScale!=null?w.VerticalScale:0)*100);
this.JD.k((w.HorizontalScale!=null?w.HorizontalScale:0)*100);this.D6.k(w.BaselineShift!=null?w.BaselineShift:0);
this.hX.k(w.FillFlag!=null?w.FillFlag:!1);this._A.k(w.StrokeFlag!=null?w.StrokeFlag:!1);this.eN.k(w._FillBackgroundFlag!=null?w._FillBackgroundFlag:!1);
this.A2(w.FillColor,this.Wd);this.A2(w.FillColor,this.gl);this.A2(w.StrokeColor,this.rR);this.A2(w._FillBackgroundColor,this.t4);
var a=D._Direction!=null?D._Direction:0,x=fS.zB(D);for(var P=0;P<this.lS.length;P++)this.lS[P].k(x==P);
this.lX.k(a);this.oa.k((D.AutoLeading!=null?D.AutoLeading:1.2)*100);this.Zi.k(D.StartIndent!=null?D.StartIndent:0);
this.Nw.k(D.EndIndent!=null?D.EndIndent:0);this.HW.k(D.FirstLineIndent!=null?D.FirstLineIndent:0);this.uD.k(D.SpaceBefore!=null?D.SpaceBefore:0);
this.dX.k(D.SpaceAfter!=null?D.SpaceAfter:0)};gJ.prototype.A2=function(u,g){if(u){var K=fS.Ld(u);g.tQ(Math.round(K.w)<<16|Math.round(K.A)<<8|Math.round(K.U))}else g.tQ(0)};
gJ.prototype.p$=function(){var u=new eG(h.E.Y,!0);u.data={d:h.s.zS,M3:hO.pH,vF:this.vF};this.c(u);var u=new eG(h.E.l,!0);
u.b=R.$d;u.data={d:"updateStyles"};this.c(u)};gJ.prototype.a50=function(u){var g=this.vF.QX,K=u.target,X=!K.dc();
if(K==this.XB)g.FauxBold=X;if(K==this.BG)g.FauxItalic=X;if(K==this.YI)g.FontCaps=X?2:0;if(K==this.PE)g.FontCaps=X?1:0;
if(K==this.Sr)g.FontBaseline=X?1:0;if(K==this.rW)g.FontBaseline=X?2:0;if(K==this.RH)g.Underline=X;if(K==this.B$)g.Strikethrough=X;
this.p$()};gJ.prototype.Je=function(u){var g=this.vF.QX,K=this.vF.Sh,X=u.target;if(X==this.W3){var w=this.W3.C();
g.Tracking=w}if(X==this.Z2){g.AutoLeading=!1;g.Leading=this.Z2.C()}if(X==this.BA){g.AutoLeading=this.BA.C()}if(X==this.ER)g._LineWidth=X.C();
if(X==this.Ap)g.FontSize=X.C();if(X==this.Cm)g.VerticalScale=X.C()/100;if(X==this.JD)g.HorizontalScale=X.C()/100;
if(X==this.D6)g.BaselineShift=X.C();if(X==this.hX)g.FillFlag=X.C();if(X==this._A)g.StrokeFlag=X.C();
if(X==this.eN)g._FillBackgroundFlag=X.C();if(this.lS.indexOf(X)!=-1){K.Justification=fS.zB(K,this.lS.indexOf(X))}if(X==this.Zi)K.StartIndent=X.C();
if(X==this.Nw)K.EndIndent=X.C();if(X==this.HW)K.FirstLineIndent=X.C();if(X==this.uD)K.SpaceBefore=X.C();
if(X==this.dX)K.SpaceAfter=X.C();if(X==this.lX)K._Direction=X.C();if(X==this.oa)K.AutoLeading=X.C()/100;
this.p$()};gJ.prototype.aqo=function(u){var g=this.vF,K=this.ay.C(),X=-1;for(var P=0;P<g._L.length;P++)if(g._L[P].Name==K)X=P;
if(X==-1){X=g._L.length;var w=JSON.parse(JSON.stringify(g._L[0]));w.Name=K;g._L.splice(X,0,w)}g.QX.Font=X;
this.p$()};gJ.prototype.mX=function(u){var g=u.target,K=g.amG(),X={Type:1,Values:[1,(K>>16&255)/255,(K>>8&255)/255,(K>>0&255)/255]};
for(var P=0;P<4;P++)X.Values[P]=Math.round(X.Values[P]*1e3)/1e3;var w=g==this.Wd||g==this.gl?0:g==this.rR?1:2;
this.vF.QX[["FillColor","StrokeColor","_FillBackgroundColor"][w]]=X;this.p$()};function di(){i6.call(this);
this.e=b.V("span","fontinput");this.rd=null;this.Cd=null;this.ky=null;this.Gb="";this.uf={};this.zF=[];
this.JY={};this.aoe={};this.sx=!1;this.ow=b.V("button","fitem");this.ow.setAttribute("style","width:9em;");
this.ow.textContent="Family Name \u25BC";this.e.appendChild(this.ow);b.hh(this.ow,this.aex.bind(this));
this.Y5=new i6;this.Y5.parent=this;this.Y5.e=b.V("div","floatcont");this._$=new aA(6.8);this.Y5.e.appendChild(this._$.awn());
this._$.parent=this.Y5;this._$.f(h.E.o,this.MJ,this);var u=b.V("div","form");this.Y5.e.appendChild(u);
this.Ko=new dM(b.xz("tools/cshape",null,"autoscale"),!1,"Show Favorites Only");this.Ko.f("click",this.aw9,this);
u.appendChild(this.Ko.e);this.tC=new fu([12,86],null,8.4);this.tC.f("input",this.ux,this);u.appendChild(this.tC.e);
var g=this.ZU=new dM([[23,6],[22,6,0]],!1,"Load OTF / TTF file from your computer",!0);g.f("click",this.arb,this);
g.e.style.marginLeft="1.5em";g.e.style.marginRight="0";u.appendChild(g.e);this.XO=b.V("span","fitem imageset scrollable");
this.XO.style.height="30em";this.Y5.e.appendChild(this.XO);this.XO.addEventListener("scroll",this.afM.bind(this),!1);
this.xS=b.V("button","fitem");this.xS.setAttribute("style","width:7em;");this.xS.textContent="SubFamily Name \u25BC";
this.e.appendChild(this.xS);b.hh(this.xS,this.aex.bind(this));this.we=new i6;this.we.parent=this;this.we.e=b.V("div","floatcont");
this.b9=b.V("span","fitem imageset scrollable marged");this.we.e.appendChild(this.b9);this.aaz=this.aia.bind(this);
this.ag$=this.au_.bind(this)}di.prototype=new i6;di.prototype.afM=function(u){var g=this.XO.scrollTop,K=this.zF,X=Math.floor(g/27),w=Math.min(X+20,K.length);
for(var P=X;P<w;P++)this.a8T(K[P])};di.prototype.arb=function(){var u=new eG(h.E.Y,!0);u.data={d:h.s.kc,aqO:".otf,.ttf,.ttc"};
this.c(u)};di.prototype.N=function(){this._$.N();this.ZU.N();this.Ko.Db(b.xz("tools/cshape",null,"autoscale"))};
di.prototype.aw9=function(u){this.Ko.k(!this.Ko.dc());this.MJ()};di.prototype.ux=function(u){this.Gb=this.tC.C().toLowerCase();
this.MJ()};di.prototype.aex=function(u){b.oE(u);var g=u.currentTarget,K=g.getBoundingClientRect(),X=g==this.ow,w=X?this.Y5:this.we;
if(b.tV(w.e)){this.awD(w);return}if(!X&&this.rd.Pe()[this.ky]==null)return;var D=new eG(h.E.Y,!0);D.data={d:h.s.dC,qD:w,x:K.left,y:K.top+K.height};
this.c(D);if(X){this.MJ(null,!0)}};di.prototype.aia=function(u){var g=u.currentTarget.firstChild.nextSibling.textContent;
if(u.target.tagName.toLowerCase()=="button"){var K=this.Cd.slice(0),X=K.indexOf(g);if(X==-1){K=K.slice(Math.max(0,K.length-29));
K.push(g)}else K.splice(X,1);var w=new eG(h.E.Y,!0);w.data={d:h.s.zS,M3:hO.Hm,a5:K};this.c(w);this.sx=!0;
this.MJ()}else{this.aqa(g,null)}};di.prototype.au_=function(u){this.aqa(null,u.currentTarget.firstChild.textContent)};
di.prototype.aqa=function(u,g){var K=u==null?this.we:this.Y5,X=this.rd;if(u==null)u=X.Pe()[this.ky][0];
else{var w=X.Rx(u),D=X.Pe()[this.ky];g=i2.Pq(w,D?D[1]:"regular")}var q=X.aa(u,g)[2];this.k(q,X);this.c(new eG(h.E.o,!1));
this.awD(K);this.MJ()};di.prototype.awD=function(u){var g=new eG(h.E.Y,!0);g.data={d:h.s.WB,qD:u};this.c(g)};
di.prototype.C=function(){return this.ky};di.prototype.k=function(u,g,K){var X=this.rd;if(u!=null)this.ky=u;
else u=this.ky;this.rd=g;this.Cd=K;if(u!=null){var w=g.Pe()[u],D,q;if(w==null){D="- "+u;q="-------"}else{D=w[0];
q=w[1];var C=g.Rx(D);C.sort(i2.ar9);this.b9.textContent="";for(var P=0;P<C.length;P++){var w=g.aa(D,C[P]);
if(!this._$.W5(w))continue;var a=this.akw(w,!1);this.b9.appendChild(a)}}this.ow.textContent=D.substring(0,15)+" \u25BC";
this.ow.setAttribute("title",D+", \""+u+"\"");this.xS.textContent=q.substring(0,10)+" \u25BC";this.xS.setAttribute("title",q)}};
di.prototype.MJ=function(u,g){var K=this.rd.Pe()[this.ky],X=this.Cd,w=this.rd.KW();this.zF=[];for(var D in w){var q=X.indexOf(D)!=-1,C=this.rd.Rx(D),a=!1;
for(var P=0;P<C.length;P++){var x=this.rd.aa(D,C[P]),H=!0;if(this.Gb.length>0&&x[0].toLowerCase().indexOf(this.Gb)==-1)H=!1;
else if(!this._$.W5(x))H=!1;else if(this.Ko.dc()&&!q)H=!1;if(H)a=!0}var $=this.uf[D];if($==null){var r=i2.Pq(w[D],"regular"),c=this.rd.aa(D,r),$=this.akw(c,!0);
this.uf[D]=$;this.XO.appendChild($);this.JY[D]="[true,false,false]"}if(a)this.zF.push(D);var U=K!=null&&K[0]==D;
this.aoe[D]="["+a+","+U+","+q+"]";if(!g)this.a8T(D)}if(K&&!this.sx){var O=this.uf[K[0]];this.XO.scrollTop=O.offsetTop-210}this.afM();
this.sx=!1};di.prototype.a8T=function(u){var g=this.uf[u];if(g.firstChild==null){var K=this.rd.KW(),X=i2.Pq(K[u],"regular"),w=this.rd.aa(u,X);
this.apW(g,w,!0)}var D=this.JY[u],q=this.aoe[u];if(D==q)return;var C=JSON.parse(D),a=JSON.parse(q);if(C[0]!=a[0]||C[1]!=a[1]){var x=a[0]?"":"display:none; ";
if(a[1])x+="background-color:rgba(0,0,0,0.13);";g.setAttribute("style",x)}if(C[2]!=a[2])g.firstChild.setAttribute("style","opacity: "+(a[2]?"1":"0.2"));
this.JY[u]=q};di.prototype.akw=function(u,g){var K=b.V("div","fontitem");if(!g)this.apW(K,u,g);return K};
di.prototype.apW=function(u,g,K){var X=g[K?0:1],w=K?this.aaz:this.ag$,a="";u.addEventListener("click",w,!1);
if(K)u.appendChild(b.V("button","star"));var D=b.V("span","label");D.setAttribute("title",X);D.textContent=X;
u.appendChild(D);var q=b.Z(),C=1/q,x=i2.Vf*C,H=i2.xT*C;if(1<q&&q<1.5)a="width:"+x+"px; height:"+H+"px;";
var $=b.V("span","thumb gsicon");if(g.ahz){a+="background: url("+g.ahz+");";if(1<q&&q<1.5)a+="background-size: "+x+"px "+H+"px;"}else{var r=Math.ceil(FNTS.list.length/i2.cols),c=Math.floor(g.Mw/r),U=g.Mw%r,O=c*i2.Vf,A=U*i2.xT;
if(1<q&&q<1.5){a+="background-size: "+i2.cols*x+"px "+r*H+"px;";O*=C;A*=C}a+="background-position:-"+O+"px -"+A+"px;"}$.setAttribute("style",a);
u.appendChild($)};function aA(u){i6.call(this);this.e=b.V("button","fitem bbtn");this.e.addEventListener("click",this.acL.bind(this),!1);
this.if=new i6;this.if.e=b.V("div","floatcont");this.if.parent=this;this.EA=b.V("div","flexrow");this.if.e.appendChild(this.EA);
this.G$=[];this.lw=[];var g=this.EA,K=b.V("div",""),X=b.V("div","");g.appendChild(K);g.appendChild(X);
this.Jy=[];for(var P=0;P<FNTS.cats.length;P++)this.Jy.push({name:FNTS.cats[P],index:P,FJ:0});this.P4=new cG([7,0]);
this.P4.k(!0);this.P4.f(h.E.o,this.acN,this);K.appendChild(this.P4.e);this.lZ=b.V("div","vlist marged scrollable");
this.lZ.setAttribute("style","width:10.3em; height:"+u+"em; ");K.appendChild(this.lZ);this.kA=[];for(var P=0;
P<this.Jy.length;P++){var w=this.Jy[P],D=new cG(w.name);this.kA.push(D);D.f(h.E.o,this.atm,this);D.k(!0);
this.lZ.appendChild(D.e);this.G$.push(1)}this.am9=new cG([7,0]);this.am9.f(h.E.o,this.aal,this);this.uQ=b.V("div","vlist marged scrollable");
this.uQ.setAttribute("style","width:8.6em; height:"+(u+1.5)+"em; ");X.appendChild(this.uQ);this.j7=[];
for(var P=0;P<FNTS.subsetNames.length;P++){var D=new cG(FNTS.subsetNames[P]);this.j7.push(D);D.f(h.E.o,this.aoT,this);
D.k(!1);this.uQ.appendChild(D.e);this.lw.push(D.C()?1:0)}}aA.prototype=new i6;aA.prototype.ai1=function(u){var g=this.j7;
for(var P=0;P<g.length;P++){var K=(u>>>P&1)==1;this.lw[P]=K;g[P].k(K)}};aA.prototype.awn=function(){return this.EA};
aA.prototype.N=function(){this.e.textContent=fc.get([25,1,0])+" \u25BC";this.P4.N();this.am9.N()};aA.prototype.acL=function(u){var g=this.e.getBoundingClientRect(),K=new eG(h.E.Y,!0);
K.data={d:h.s.dC,qD:this.if,x:g.left,y:g.top+g.height,wj:!1};this.c(K)};aA.prototype.W5=function(u){if(this.G$[u[4]]==0)return!1;
else for(var g=0;g<this.lw.length;g++)if(this.lw[g]==1&&(u[3]>>>g&1)==0)return!1;return!0};aA.prototype.acN=function(u){var g=u.target.C(),K=this.kA,X=this.G$;
for(var P=0;P<K.length;P++){K[P].k(g);X[P]=g?1:0}this.c(new eG(h.E.o,!1))};aA.prototype.aal=function(u){var g=u.target.C(),K=this.j7,X=this.lw;
for(var P=0;P<K.length;P++){K[P].k(g);X[P]=g?1:0}this.c(new eG(h.E.o,!1))};aA.prototype.atm=function(u){var P=this.kA.indexOf(u.target),g=this.Jy[P].index;
this.G$[g]=1-this.G$[g];this.c(new eG(h.E.o,!1));this.ajs(this.kA,this.P4)};aA.prototype.aoT=function(u){var P=this.j7.indexOf(u.target);
this.lw[P]=1-this.lw[P];this.c(new eG(h.E.o,!1))};aA.prototype.ajs=function(u,g){var K=!0;for(var P=0;
P<u.length;P++)K=K&&u[P].C();g.k(K)};function hJ(u,g,K){f9.call(this,g,!0,"gradientbutton",18,10,hO.WQ);
this.FK=-1;this.ui=-1;this.a04=null;this.ad4=u;this.KZ=K}hJ.prototype=new f9;hJ.prototype.lC=function(u){var g=this.Ci;
this.k(g[this.M$.C()]);this.c(new eG(h.E.o))};hJ.prototype.wW=function(u){var g=new eG(h.E.Y,!0);g.data={d:h.s.KP,Pu:"gradienteditor",X:this.dK,ob:this.a6c.bind(this),QT:this.KZ};
this.c(g)};hJ.prototype.a6c=function(u){this.k(u);this.c(new eG(h.E.o))};hJ.prototype.Px=function(){if(!this.bK)return;
var u=Math.floor(36*b.Z()),g=Math.floor(36*b.Z()),K=[],X=[],w=this.Ci;for(var P=0;P<w.length;P++){var D=w[P];
X.push(D.Nm?D.Nm.v.split("=").pop():"");var q=R.xR.Ja(D,u,g,Math.PI/4,this.FK,this.ui);K.push(q)}this.M$._m(K,X,u,g);
this.bK=!1};hJ.prototype.AT=function(u,g){this.ajB(this.dK,u,g)};hJ.prototype.k=function(u){this.ajB(u,this.FK,this.ui)};
hJ.prototype.ajB=function(u,g,K){this.FK=g;this.ui=K;if(u==null)return;var X=JSON.stringify(u),w=X+g+","+K;
if(w==this.a04)return;this.a04=w;this.dK=JSON.parse(X);var D=Math.floor(80*b.Z()),q=Math.floor(16*b.Z()),C=R.xR.Ja(this.dK,D,q,0,this.FK,this.ui);
this.Mm.setAttribute("src",C);b.DG(this.Mm,D,q)};hJ.prototype.C=function(){var u;if(this.ad4)u=R.xR.aiH(this.dK,this.FK,this.ui);
else u=JSON.parse(JSON.stringify(this.dK));return u};function fF(u){f9.call(this,u,!1,"swatchbutton",16,8.75,hO.Hy)}fF.prototype=new f9;
fF.prototype.lC=function(u){this.k(this.Ci[u.target.C()]);this.c(new eG(h.E.o))};fF.prototype.Px=function(){if(!this.bK)return;
var u=Date.now(),g=Math.floor(10*b.Z()),K=Math.floor(10*b.Z()),X=[],w=[],D=this.Ci;for(var P=0;P<D.length;
P++){w.push(D[P].Sm?D[P].Sm.split("=").pop():"");X.push(fF.Ja(D[P],g,K))}this.M$._m(X,w,g,K);this.bK=!1};
fF.prototype.k=function(u){this.dK=JSON.parse(JSON.stringify(u));this.$n()};fF.prototype.$n=function(){var u=Math.floor(24*b.Z()),g=Math.floor(20*b.Z()),K=fF.Ja(this.dK,u,g);
this.Mm.setAttribute("src",K);b.DG(this.Mm,u,g)};fF.prototype.C=function(){return JSON.parse(JSON.stringify(this.dK))};
fF.FD={};fF.Ja=function(u,g,K){var X=fF.CG,w=fF.FD,D=f.ae(u.w<<16|u.A<<8|u.U);if(w[D])return w[D];if(X==null){var q=b.V("canvas");
X=fF.CG=q.getContext("2d")}var q=X.canvas;q.width=g;q.height=K;X.fillStyle="#"+D;X.fillRect(0,0,g,K);
var C=w[D]=q.toDataURL();return C};function fY(u,g,K,X,w){if(u==null)u=!1;if(g==null)g=!1;if(K==null)K=!1;
i6.call(this);this.vp=new j4;this.iJ=new j4;this.UO=72;this.NU=72;this.zb=!0;this.e=b.V("span");this.Iv=new bX([12,41],0,0,null,0,!1,!0);
this.e.appendChild(this.Iv.e);this.Iv.f(h.E.o,this.yg,this);var D=["px","%"];if(u)D=D.concat(["mm","in"]);
if(w){D=[[12,76,2],[12,76,6]];if(u)D=D.concat([[12,76,5],[12,76,3]])}this.nl=new e8(null,D);this.e.appendChild(this.nl.e);
b.d_(this.e);this.nl.f(h.E.o,this.yg,this);this.VU=new bX([12,42],0,0,null,0,!1,!0);this.e.appendChild(this.VU.e);
this.VU.f(h.E.o,this.yg,this);var q=new dM("\u21F5",!1,null,!0);q.f("click",this.arR,this);this.uu=new dM("<img src=\""+PIMG["lrs/chain"]+"\" class=\"autoscale gsicon\" />",!1,[12,51]);
this.uu.f("click",this.yg,this);this.awy=new g5("");if(g){this.e.appendChild(this.uu.e);this.e.appendChild(this.awy.e);
this.uu.Vn()}else this.e.appendChild(q.e);this.ye=new bX("DPI",0,0,null,3,!1,!0,4);if(u&&X==null){b.d_(this.e);
this.e.appendChild(this.ye.e)}this.ye.f(h.E.o,this.yg,this);this.Pl=new cG([12,23,1]);this.Pl.f(h.E.o,this.yg,this);
if(K){b.d_(this.e);this.e.appendChild(this.Pl.e)}b.d_(this.e)}fY.prototype=new i6;fY.prototype.Jm=function(){this.Iv.Jm()};
fY.prototype.ajR=function(){this.zb=!1;if(this.nl.C()==0){this.nl.k(3);this.sA()}};fY.prototype.a8j=function(){this.zb=!0};
fY.prototype.asz=function(u){this.uu.k(u)};fY.prototype.N=function(){this.Iv.N();this.VU.N();this.ye.N();
this.uu.N();this.Pl.N();this.nl.N()};fY.prototype.arR=function(u){var g=this.iJ.x;this.iJ.x=this.iJ.y;
this.iJ.y=g;this.sA();this.c(new eG(h.E.o,!1))};fY.prototype.yg=function(u){if(u.target==this.nl&&!this.zb&&this.nl.C()==0)this.nl.k(3);
if(u.target==this.nl||u.target==this.Pl){this.sA();return}if(u.target==this.uu)u.target.k(!u.target.C());
var g=this.vp,K=parseFloat(this.Iv.C());if(isNaN(K))K=1;var X=parseFloat(this.VU.C());if(isNaN(X))X=1;
var w=this.nl.C();if(this.zb){var D=this.NU;if(w==1){K=this.vp.x*(K/100);X=this.vp.y*(X/100)}var q=[1,1,25.4/D,1/D][w];
K/=q;X/=q;if(this.Pl.C()){K+=this.vp.x;X+=this.vp.y}if(u.target==this.ye){var C=this.ye.C();if(!0){var a=C/D;
K*=a;X*=a}D=C}if(this.uu.C()){if(u.target==this.Iv)X=K*(g.y/g.x);else K=X*(g.x/g.y)}K=Math.max(Math.abs(K),1);
X=Math.max(Math.abs(X),1)}else{var D=this.UO;if(u.target==this.ye)D=this.ye.C();else{if(this.uu.C()){if(u.target==this.Iv)X=K*(g.y/g.x);
else K=X*(g.x/g.y)}var q=[1,1,25.4/D,1/D][w],x=K/(w==1?100:g.x*q);D=D/x}K=g.x;X=g.y}this.iJ=new j4(Math.round(K),Math.round(X));
this.NU=D;this.sA();this.c(new eG(h.E.o,!1))};fY.prototype.acB=function(P){this.nl.k(P);this.sA()};fY.prototype.k=function(u,g,K){if(K!=!0)this.vp=u.clone();
this.iJ=u.clone();if(g!=null){this.UO=g;this.NU=g}this.sA()};fY.prototype.sA=function(){var u=this.iJ.x,g=this.iJ.y,K=this.NU,X=(u/g).toFixed(3);
while(X.charAt(X.length-1)=="0")X=X.substring(0,X.length-1);if(X.charAt(X.length-1)==".")X=X.substring(0,X.length-1);
var w="  "+X+" : 1",D=function(H,$){while($!=0){var r=$;$=H%$;H=r}return H},q=D(u,g);if(Math.min(u,g)/q<10)w="  "+Math.round(u/q)+" : "+Math.round(g/q);
this.awy.k(w);if(this.Pl.C()){u-=this.vp.x;g-=this.vp.y}var C=this.nl.C();if(C==1){if(this.zb){u=100*u/this.vp.x;
g=100*g/this.vp.y}else{u=g=100*this.UO/this.NU}}else{u=Math.round(u);g=Math.round(g)}var a=[1,1,25.4/K,1/K][C];
u*=a;g*=a;var x=C==1||C==3?2:0;this.Iv.fy(x);this.VU.fy(x);this.Iv.k(u);this.VU.k(g);this.ye.k(K)};fY.prototype.C=function(){return this.iJ.clone()};
fY.prototype.h6=function(){return this.NU};function e_(u,g,K){i6.call(this);var X=u==0?["W","X","H","Y"]:["\u250F","\u2513","\u2517","\u251B"];
this.CF=u;this.ajA=g;this.Gn=1;this.jI=[1,1,0];var w=this.e=b.V("div","numlist"),D=this.NW=[];for(var P=0;
P<4;P++){var q=new bX(X[P],0,0,null,2,!1,!0,4,null,K&&(P==0||P==2));q.f(h.E.o,this.yg,this);w.appendChild(q.e);
D[P]=q;if(P==1||P==3)b.d_(w)}D[4]=new cG(u==0?[12,51]:[12,91,2]);D[4].k(!0);w.appendChild(D[4].e)}e_.prototype=new i6;
e_.prototype.N=function(){var u=this.NW;for(var P=0;P<5;P++)u[P].N();if(this.CF==0)b.WW(u[0],u[2])};
e_.prototype.k=function(u,g,K){if(g)this.jI=g;g=this.jI;var X=K?u:this.CF==0?[u[2],u[0],u[3],u[1]]:[u[0],u[1],u[3],u[2]];
this.Gn=X[0]/X[2];for(var P=0;P<4;P++){var w=this.NW[P];w.fy(g[2]==0&&this.ajA?0:2);w.k(f.Xx.a6X(X[P],g[0],g[1],g[2]))}};
e_.prototype.C=function(u){var g=[],K=this.jI;for(var P=0;P<4;P++){var X=f.Xx.KJ(this.NW[P].C(),K[0],K[1],K[2]);
g[P]=this.ajA?Math.round(X):X}return u?g:this.CF==0?[g[1],g[3],g[0],g[2]]:[g[0],g[1],g[3],g[2]]};e_.prototype.yg=function(u){var g=this.CF,K=this.NW.indexOf(u.currentTarget),X=this.C(!0),w=this.NW[4].C();
if(g==0){X[0]=Math.max(1,X[0]);X[2]=Math.max(1,X[2]);if(w&&K==0)X[2]=X[0]/this.Gn;if(w&&K==2)X[0]=X[2]*this.Gn}if(g==1){X[K]=Math.max(0,X[K]);
if(w)for(var P=0;P<4;P++)X[P]=X[K]}this.k(X,null,!0);this.c(new eG(h.E.o,!1))};function au(){i6.call(this);
this.j$=0;this.$m=[0,0,1,1,100,100];this.e=b.V("span","fitem");this.pI=new e8(null,[[12,89,0],[12,89,1],[12,89,2]]);
this.e.appendChild(this.pI.e);this.pI.f(h.E.o,this.yg,this);this.Iv=new bX("W",0,0,null,0,!1,!0);this.e.appendChild(this.Iv.e);
this.Iv.f(h.E.o,this.yg,this);this.VU=new bX("H",0,0,null,0,!1,!0);this.e.appendChild(this.VU.e);this.VU.f(h.E.o,this.yg,this);
this.k({m7:0,x:0,y:0})}au.prototype=new i6;au.prototype.N=function(){b.WW(this.Iv,this.VU);this.pI.N()};
au.prototype.yg=function(u){if(u.target==this.pI){var g=this.C(),K=this.$m;K[this.j$*2]=g.x;K[this.j$*2+1]=g.y;
this.j$=g.m7;this.k({m7:g.m7,x:K[g.m7*2],y:K[g.m7*2+1]})}if(this.Iv.C()<1)this.Iv.k(1);if(this.VU.C()<1)this.VU.k(1);
this.c(new eG(h.E.o,!1))};au.prototype.k=function(u){this.pI.k(u.m7);this.Iv.k(u.x);this.VU.k(u.y);if(u.m7==0){this.Iv.ik();
this.VU.ik()}else{this.Iv.gx();this.VU.gx()}};au.prototype.C=function(){return{m7:this.pI.C(),x:this.Iv.C(),y:this.VU.C()}};
function gK(u){i6.call(this);this.e=b.V("span","");this.a0w=u;this.gN=new cV("Off X",-100,100,u?"%":"px",0,!1);
this.VZ=new cV("Off Y",-100,100,u?"%":"px",0,!1);this.gN.f(h.E.o,this.yg,this);this.VZ.f(h.E.o,this.yg,this);
this.e.appendChild(this.gN.e);this.e.appendChild(this.VZ.e)}gK.prototype=new i6;gK.prototype.N=function(){this.gN.N();
this.VZ.N()};gK.prototype.yg=function(u){this.c(new eG(h.E.o,!1))};gK.prototype.auV=function(u){this.gN.k(u.x);
this.VZ.k(u.y)};gK.prototype.akB=function(){return new j4(this.gN.C(),this.VZ.C())};gK.prototype.k=function(u,g){var K=u.Hrzn.v,X=u.Vrtc.v;
if(this.a0w){K=K.val;X=X.val}this.gN.k(K);this.VZ.k(X);if(g==!0)this.yg()};gK.prototype.C=function(){var u=this.gN.C(),g=this.VZ.C();
if(this.a0w)return{classID:"Pnt",Hrzn:{t:"UntF",v:{type:"#Prc",val:u}},Vrtc:{t:"UntF",v:{type:"#Prc",val:g}}};
else return{classID:"Pnt",Hrzn:{v:u,t:"doub"},Vrtc:{v:g,t:"doub"}}};function gi(){i6.call(this);this.e=b.V("span","fitem strokebutton");
this.uE=[[null,null,null,""],[null,0,null,"4 2"],[1,1,null,"0 2"]];this.GL=JSON.parse(JSON.stringify(k8.Sq.default));
this.Ot=b.V("button");this.e.appendChild(this.Ot);b.hh(this.e,this.AX.bind(this));var u=b.V("canvas","gsicon");
this.CG=u.getContext("2d");this.Ot.appendChild(u);var g=b.V("span");g.textContent=" \u25BC";this.Ot.appendChild(g);
this.if=new i6;this.if.parent=this;this.if.e=b.V("div","floatcont form");var K=this.if.e;K.setAttribute("style","width: 14em;");
this.uf=[new e8([12,40],[[19,5,2],[19,5,1],[19,5,0]]),new k6([19,9,0],["<img src=\""+PIMG["caps/butt"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["caps/square"]+"\" class=\"autoscale gsicon\" />"]),new k6([19,9,1],["<img src=\""+PIMG["joins/miter"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/round"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG["joins/bevel"]+"\" class=\"autoscale gsicon\" />"]),new fu([19,9,2])];
for(var P=0;P<this.uf.length;P++){var X=this.uf[P];K.appendChild(X.e);var w=P<4?h.E.o:"click";X.f(w,this.yg,this)}b.d_(K);
this.OG=[];var D=this.aL.bind(this);this.GL.strokeStyleLineWidth.v.val=3;for(var P=0;P<this.uE.length;
P++){var q=b.V("button","fitem");this.OG.push(q);K.appendChild(q);q.addEventListener("click",D,!1);var u=b.V("canvas","gsicon"),C=u.getContext("2d");
q.appendChild(u);this.ah3(C,40,20,this.uE[P])}this.GL.strokeStyleLineWidth.v.val=1}gi.prototype=new i6;
gi.prototype.AX=function(u){if(b.tV(this.if.e))return;u.stopPropagation();var g=this.Ot.getBoundingClientRect(),K=new eG(h.E.Y,!0);
K.data={d:h.s.dC,qD:this.if,x:g.left,y:g.top+g.height+4};this.c(K)};gi.prototype.yg=function(u){var g=this.uf,K=g.indexOf(u.target),X=[];
for(var P=0;P<4;P++)X.push(g[P].C());this.GL=this.apY(X);this.c(new eG(h.E.o,!1))};gi.prototype.aL=function(u){var g=this.OG.indexOf(u.currentTarget);
this.k(this.apY(this.uE[g]));this.c(new eG(h.E.o,!1))};gi.prototype.apY=function(u){var g=JSON.parse(JSON.stringify(this.GL)),K=u[0],X=u[1],w=u[2],D=u[3];
if(K!=null)g.strokeStyleLineAlignment.v.strokeStyleLineAlignment=k8.Sq.kM[K];if(X!=null)g.strokeStyleLineCapType.v.strokeStyleLineCapType=k8.Sq.gg[X];
if(w!=null)g.strokeStyleLineJoinType.v.strokeStyleLineJoinType=k8.Sq.join[w];var q=g.strokeStyleLineDashSet.v=[];
D=D.split(" ");while((D.length&1)!=0)D.pop();for(var P=0;P<D.length;P++)q.push({t:"UntF",v:{type:"#Nne",val:parseInt(D[P])}});
return g};gi.prototype.N=function(){for(var P=0;P<this.uf.length;P++)this.uf[P].N()};gi.prototype.k=function(u){this.GL=JSON.parse(JSON.stringify(u));
var g=k8.Sq.kM.indexOf(u.strokeStyleLineAlignment.v.strokeStyleLineAlignment),K=k8.Sq.gg.indexOf(u.strokeStyleLineCapType.v.strokeStyleLineCapType),X=k8.Sq.join.indexOf(u.strokeStyleLineJoinType.v.strokeStyleLineJoinType),w=[],D=u.strokeStyleLineDashSet.v;
for(var q=0;q<D.length;q++)w.push(D[q].v.val);var C=this.uf;C[0].k(g);C[1].k(K);C[2].k(X);C[3].k(w.join(" "));
var a=[];for(var P=0;P<4;P++)a.push(C[P].C());this.ah3(this.CG,40,16,a)};gi.prototype.C=function(){return JSON.parse(JSON.stringify(this.GL))};
gi.prototype.ah3=function(u,g,K,X){var w=X[0],D=X[1],q=X[2],C=X[3].split(" ").map(parseFloat);b.Bw(u.canvas,g,K);
var a=Math.min(5,this.GL.strokeStyleLineWidth.v.val);for(var P=0;P<C.length;P++)C[P]*=a;u.clearRect(0,0,g,K);
u.setLineDash(C);u.lineCap=["butt","round","square"][D];u.lineJoin=["miter","round","bevel"][q];u.lineWidth=a;
u.beginPath();u.moveTo(0,K/2);u.lineTo(g*2,K/2);u.stroke()};function hG(u){f9.call(this,u,!1,"contourbutton",34,16,hO.X4,!0);
this.tC=new fu([12,86],null,16);this.tC.f("input",this.ux,this);this.if.e.appendChild(this.tC.e);this.M6=null;
this.Gb="";this.pi=null;this.k(jr.mt())}hG.prototype=new f9;hG.prototype.N=function(){f9.prototype.N.call(this);
this.tC.N()};hG.prototype.lC=function(u){this.k(this.M6[u.target.C()[0]]);this.c(new eG(h.E.o))};hG.prototype.ux=function(u){this.Gb=this.tC.C().toLowerCase();
this.ahI()};hG.a1P=!1;hG.prototype.Px=function(){if(!this.bK)return;var u=this.Ci;if(u==null||!hG.a1P){var g=new eG(h.E.Y,!0);
g.data={d:h.s.Xc,M3:{url:"rsrc/basic/fa_basic.csh"}};this.c(g);hG.a1P=!0}else{var K=Math.floor(38*b.Z()),X=Math.floor(38*b.Z());
this.pi=[];for(var P=0;P<u.length;P++)this.pi.push(hG.arn(u[P],K,X));this.ahI();this.bK=!1}};hG.prototype.ahI=function(){var u=Math.floor(38*b.Z()),g=Math.floor(38*b.Z());
this.M6=[];var K=[],X=[],w=this.Ci;for(var P=0;P<w.length;P++){if(w[P].VW.toLowerCase().indexOf(this.Gb)==-1)continue;
this.M6.push(w[P]);K.push(this.pi[P]);X.push(w[P].VW)}this.M$._m(K,X,u,g)};hG.prototype.k=function(u){this.dK=hG.clone(u);
this.$n()};hG.prototype.$n=function(){var u=Math.floor(23*b.Z()),g=Math.floor(23*b.Z()),K=hG.arn(this.dK,u,g);
this.Mm.setAttribute("src",K);b.DG(this.Mm,u,g)};hG.prototype.C=function(){return hG.clone(this.dK)};
hG.clone=function(u){return{VW:u.VW,JJ:u.JJ,_:l.tU.SL(u._),Au:u.Au.clone()}};hG.I=null;hG.cc=null;hG.arn=function(u,g,K){var X=l.tU.SL(u._),w=u.Au,D=Math.min(g/w.m,K/w.n)*.9,q=new eV;
q.translate(-.5,-.5);q.scale(.95,.95);q.translate(.5,.5);q.scale(D*w.m,D*w.n);f.J.Cg(X,q);var C=new l.tU;
C._=X;var a=C.Zv();a.rect.x=Math.floor((g-a.rect.m)/2);a.rect.y=Math.floor((K-a.rect.n)/2);var x=f.L(a.rect.$()*4);
f.K1(a.channel,x,3);var H=hG;if(H.I==null)H.I=b.V("canvas");var $=H.I,r=$.getContext("2d");if($.width!=g||$.height!=K||H.cc==null){$.width=g;
$.height=K;H.cc=r.createImageData(g,K)}var c=H.cc;c.data.fill(0);f.bV(x,a.rect,c.data,new dS(0,0,g,K));
r.putImageData(c,0,0);return $.toDataURL()};function dx(u){f9.call(this,u,!1,"ICCButton",16,12,hO.vb,!0);
this.M$.WY(1)}dx.prototype=new f9;dx.prototype.pb=function(){var u="Arabica 12,Ava 614,Azrael 93,Bourbon 64,Byers 11,Clayton 33,Clouseau 54,Cobi 3,Contrail 35,Cubicle 99,Django 25,Domingo 145,Faded 47,Folger 50,Fusion 88,Hyla 68,Chemical 168,Korben 214,Lenox 340,Lucky 64,McKinnon 75,Milo 5,Neon 770,Paladin 1875,Pasadena 21,Pitaya 15,Reeve 38,Remy 24,Sprocket 231,Teigen 28,Trent 18,Tweed 71,Vireo 37,Zed 32,Zeke 39".split(",");
for(var P=0;P<u.length;P++)u[P]="luts/"+u[P]+".CUBE";return u};dx.prototype.lC=function(u){this.k(this.Ci[u.target.C()]);
this.c(new eG(h.E.o))};dx.prototype.Px=function(){if(!this.bK)return;var u=Math.floor(1*b.Z()),g=Math.floor(1*b.Z()),K=[],X=[],w=this.Ci;
for(var P=0;P<w.length;P++){var D=w[P].Nm.v.split("\\").pop().split("/").pop();X.push(D);K.push(dx.Ja(w[P],u,g))}this.M$._m(K,X,u,g);
this.bK=!1};dx.prototype.k=function(u){this.dK=JSON.parse(JSON.stringify(u));this.$n()};dx.Ja=function(u,g,K){var X=b.V("canvas"),q="ICC / 3DL / look / cube";
X.width=g;X.height=K;var w=X.getContext("2d"),D=Math.floor(14*b.Z());w.font=D+"px sans-serif";if(u.Nm)q=u.Nm.v.split("\\").pop().split("/").pop();
w.fillText(q,10,D);return X.toDataURL()};dx.prototype.$n=function(){var u=Math.floor(120*b.Z()),g=Math.floor(20*b.Z());
this.Mm.setAttribute("src",dx.Ja(this.dK,u,g));b.DG(this.Mm,u,g)};dx.prototype.C=function(){return JSON.parse(JSON.stringify(this.dK))};
function i7(){i6.call(this);this._p=null;this.e=b.V("span","fitem");this.SZ=new jo([14,9]);this.nF=new bX(null,0,150,"px",1,!0,null,null,[19,2,5]);
this.T2=new gi;this.$h=[this.SZ,this.nF,this.T2];for(var P=0;P<this.$h.length;P++){var u=this.$h[P];
this.e.appendChild(u.e);u.parent=this;u.f(h.E.o,this.yg,this)}}i7.prototype=new i6;i7.prototype.N=function(){for(var P=0;
P<this.$h.length;P++)this.$h[P].N()};i7.prototype.xY=function(u,g){this.SZ.xY(u,g)};i7.prototype.yg=function(u){var g=this._p,K=this.SZ.C(),X=K.lB;
g.strokeEnabled.v=X!=0;if(X!=0){g.strokeStyleContent.v=K.Gu;K.Gu.classID=k8.Sq.lv[X-1]}g.strokeStyleLineWidth.v.val=this.nF.C();
if(u.target==this.T2)g=this.T2.C();this._p=g;this.c(new eG(h.E.o,!1))};i7.prototype.k=function(u,g,K){this._p=JSON.parse(JSON.stringify(g));
var X=g.strokeEnabled.v,w=g.strokeStyleContent.v,D=X?{lB:1+k8.Sq.lv.indexOf(w.classID),Gu:w}:{lB:0};
this.SZ.k(u,D,K);this.nF.k(g.strokeStyleLineWidth.v.val);this.T2.k(g)};i7.prototype.C=function(){return JSON.parse(JSON.stringify(this._p))};
function gI(u){var g=[[18,0],[18,1],[18,2],[18,3]],K=k6.N1(["set/front","set/union","set/difference","set/intersection"]);
k6.call(this,u?[12,36]:null,K,g)}gI.prototype=new k6;function f7(){i6.call(this);this.e=b.V("button","fitem bbtn");
b.hh(this.e,this.AX.bind(this));this.if=new i6;this.if.e=b.V("div","floatcont form");this.if.e.setAttribute("style","max-width: 200px;");
this.if.parent=this;var u=fj;this.w7=[new cG("Start"),new cG("End"),new u([12,41],0,100,"px",null,!0,null,!0),new u([12,80,0],0,100,"px",null,!0,null,!0),new u("Concavity",-50,50,"%",null,null,null,!0)];
for(var P=0;P<this.w7.length;P++){var g=this.w7[P];g.parent=this;g.f(h.E.o,this.HQ,this);this.if.e.appendChild(g.e)}this.agy=b.V("div");
this.if.e.appendChild(this.agy)}f7.prototype=new i6;f7.prototype.k=function(u){for(var P=0;P<5;P++)this.w7[P].k(u[P]);
this.Fc()};f7.prototype.C=function(u){var g=[];for(var P=0;P<5;P++)g[P]=this.w7[P].C();return g};f7.prototype.N=function(){this.e.textContent=fc.get([12,93,4]);
for(var P=0;P<this.w7.length;P++)this.w7[P].N()};f7.prototype.HQ=function(u){this.c(new eG(h.E.o,!1));
this.Fc()};f7.prototype.Fc=function(u){var g=this.C(),K=200,X=60;g[2]/=b.Z();g[3]/=b.Z();var w=f.J.eQ.l6(0,X/2,K,X/2,5,g),D=f.J.e5(w);
this.agy.innerHTML="<svg width=\""+K+"\" height=\""+X+"\" class=\"gsicon\">\t\t\t<path d=\""+D.Zc+"\" />\t\t\t</svg>"};
f7.prototype.AX=function(u){if(b.tV(this.if.e))return;u.stopPropagation();var g=this.e.getBoundingClientRect(),K=new eG(h.E.Y,!0);
K.data={d:h.s.dC,qD:this.if,x:g.left,y:g.top+g.height,wj:!0};this.c(K)};function fh(){i6.call(this);
this.e=b.V("div");this.NW=[];this.avP=[];var u=this.QJ=b.V("div"),g=b.V("h2");g.textContent="Create Teams";
u.appendChild(g);g.style.margin="26px 0 16px 0";var K=new dM("More about Teams",!1,null,!0);g.appendChild(K.e);
K.e.style.float="right";K.f("click",this.a5_,this);this.P0=b.V("div");u.appendChild(this.P0);this.a6M=new fu("Team Name",null,10);
u.appendChild(this.a6M.e);var X=this.ap2=new dM("Create Team",null,null,!0);u.appendChild(X.e);X.f("click",this.a2c,this);
var g=b.V("h2");g.textContent="Join Teams";u.appendChild(g);g.style.margin="26px 0 16px 0";this.yQ=b.V("div");
u.appendChild(this.yQ);this.a9D=new fu("Team ID",null,10);u.appendChild(this.a9D.e);var X=new dM("Join Team",null,null,!0);
u.appendChild(X.e);X.f("click",this.a2c,this);this.ats;this.aiw=this.AF.bind(this);this.alr=this.as3.bind(this);
this.Wc=!1;this.xX();this.rH=null;this.aoO=""}fh.prototype=new i6;fh.prototype.a5_=function(u){var g=new eG(h.E.Y,!0);
g.data={d:h.s.cF,link:"https://www.photopea.com/api/accounts#teams"};this.c(g)};fh.prototype.xX=function(){clearTimeout(this.ajw);
this.ajw=setTimeout(this.alr,this.rH?10:3e3)};fh.prototype.as3=function(){var u=cX.Ri();if(document.hidden||!b.tV(this.e)||u==null){this.xX();
return}var g=cX.Dj();if(this.rH==null&&g==null)return;cX.zj(this.rH?this.rH:g,this.aiw);this.Wc=!0;this.rH=null};
fh.prototype.akV=function(u){u.acc.update=!0;this.e.style.pointerEvents="none";this.e.style.opacity="0.5";
if(this.Wc)this.rH=u;else{clearTimeout(this.ajw);cX.zj(u,this.aiw)}};fh.prototype.mc=function(u){var g=typeof u=="string"?this.ats:this.NW.indexOf(u.target),K=this.avP[g],X=K[0],w=cX.Dj();
if(w==null)w={};var D=w.acc,q=D.tjoin,C=D.tstart;if(X=="leave"){q.splice(q.indexOf(K[1]),1)}if(X=="add"||X=="remove"||X=="delTeam"||X=="showRename"||X=="rename"){var a=-1,x=0;
for(var P=0;P<C.length;P++){x+=C[P][1].length;if(C[P][2]==K[1])a=P}var H=C[a];if(X=="add"){var $=cX.FS();
if($[0]==0&&$[1][2]<=x){alert("You can have at most "+$[1][2]+" members in your Premium.");return}H[1].push(K[2])}if(X=="remove")H[1].splice(H[1].indexOf(K[2]),1);
if(X=="delTeam"){if(H[1].length!=0){alert("Remove members first.");return}C.splice(a,1)}if(X=="showRename"){var r=new eG(h.E.Y,!0);
r.data={d:h.s.KP,Pu:"namewindow",gY:H[0],r5:this.mc.bind(this)};this.c(r);this.ats=g;K[0]="rename";return}if(X=="rename")H[0]=u}this.akV(w)};
fh.prototype.a2c=function(u){var g=this.ap2==u.target,K=(g?this.a6M:this.a9D).C().trim();if(K==""){alert("The Team "+(g?"Name":"ID")+" is empty.");
return}if(!g){K=parseInt(K);if(isNaN(K)){alert("The ID must be a number");return}}var X=cX.Dj();if(X==null)X={};
var w=X.acc;if(w==null)w=X.acc={};var D=w.tstart,q=w.tjoin;if(g){if(D==null)D=w.tstart=[];if(D.length>5){alert("You can have at most 5 teams");
return}D.push([K,[]])}else{if(D)for(var P=0;P<D.length;P++)if(D[P][2]==K){alert("You are the owner of this team");
return}if(q==null)q=w.tjoin=[];if(q.indexOf(K)!=-1){alert("You already asked to join this team.");return}w.tjoin.push(K)}w.update=!0;
this.akV(X)};fh.prototype.AF=function(){this.Wc=!1;var u=cX.Ri(),g=u!=null,K=this.QJ.parentNode!=null;
if(g!=K){b.Lh(this.e);if(g)this.e.appendChild(this.QJ);else this.e.textContent="Log In to access Team Settings."}if(!g)return;
var X=cX.Dj();if(X==null)X={};var w=X.acc;if(w==null)w={};var D=JSON.stringify(w)+"===="+JSON.stringify(u);
if(D!=this.aoO){this.aoO=D;var q=this.P0,C=this.yQ;b.Lh(q);b.Lh(C);var a=this.NW=[],x=this.avP=[],H=this.mc.bind(this);
function $(F,G){F.addEventListener("click",H);a.push(F);x.push(G)}function r(S,F){var N=b.V("div"),G="rgba(255,255,255,0.15)";
N.appendChild(U("ID: "+S[2],44,G));N.appendChild(U(S[0],160,null,!0));if(F){N.appendChild(U(S[1].length+" members",80,null,!0))}else{N.appendChild(U(S[1]==-1?"... not accepted yet":"Accepted",160));
if(Date.now()<S[1]*1e3)N.appendChild(U("Premium",80,"rgba(0,140,0,1)"))}var L=U("",120);N.appendChild(L);
L.setAttribute("style","float:right;text-align:right");if(F){var Q=new dM("Rename",null,null,!0);$(Q,["showRename",S[2]]);
L.appendChild(Q.e)}var Q=new dM(F?"Delete":"Leave",null,null,!0);$(Q,[F?"delTeam":"leave",S[2]]);L.appendChild(Q.e);
return N}function c(F,G,W){var N=b.V("div");N.style.paddingLeft="36px";N.appendChild(U(G?"\u2713":"...",8,G?"#229922":"#aa7700"));
N.appendChild(U(F[1],200));N.appendChild(U(F[2],240));var L=U("",120);N.appendChild(L);L.setAttribute("style","float:right;text-align:right");
var Q=new dM(G?"Remove":"Add",null,null,!0);$(Q,[G?"remove":"add",W,F[0]]);L.appendChild(Q.e);return N}function U(F,G,L,Q){var T=b.V("span");
T.textContent=F;T.setAttribute("style","display:inline-block;  padding:0 10px;  border-radius:4px;  overflow:hidden;  width:"+G+"px;  "+(L!=null?"background-color:"+L+";":"")+(Q?"font-weight:bold;":""));
return T}var O=w.tstart,A=w.tjoin,m=u.wantToJoin,i=u.inTeams;if(O)for(var e=0;e<O.length;e++){var S=O[e],E=m["t"+S[2]];
if(E==null)E=[];var Z={};for(var P=0;P<E.length;P++)Z["u"+E[P][0]]=E[P];var N=r(S,!0);q.appendChild(N);
N.style.marginTop="10px";for(var P=0;P<S[1].length;P++){var J=S[1][P],y=Z["u"+J];if(y==null)y=[J,"========","... user has left your team"];
delete Z["u"+J];var o=c(y,!0,S[2]);q.appendChild(o)}for(var B in Z){var y=Z[B],o=c(y,!1,S[2]);q.appendChild(o)}}if(A){var t={};
for(var P=0;P<i.length;P++)t["t"+i[P][2]]=i[P];for(var e=0;e<A.length;e++){var W=A[e],S=t["t"+W],N=r(S?S:["==========",-1,W],!1);
C.appendChild(N)}}this.c(new eG(h.E.o))}if(this.rH==null){this.e.style.pointerEvents="auto";this.e.style.opacity="1"}this.xX()};
function iU(){i6.call(this);this.x1=[16,!0,!0];this.e=b.V("span","");this.el=[new bX([12,24],0,255),new cG([12,25,1]),new cG([12,25,0])];
for(var P=0;P<3;P++){var u=this.el[P];u.parent=this;u.k(this.x1[P]);this.e.appendChild(u.e);u.f(h.E.o,this.yg,this)}}iU.prototype=new i6;
iU.prototype.yg=function(){for(var P=0;P<3;P++)this.x1[P]=this.el[P].C();this.c(new eG(h.E.o,!1))};iU.prototype.k=function(u){this.x1=u.slice(0);
for(var P=0;P<3;P++)this.el[P].k(u[P])};iU.prototype.C=function(){return this.x1.slice(0)};iU.prototype.N=function(){for(var P=0;
P<3;P++)this.el[P].N()};function gk(u,g){i6.call(this);if(g==null)g=!1;this.pi=[];this.Of=Math.floor(120*b.Z());
this.amd=Math.floor(23*b.Z());this.K5=0;this.RV=[];this.ET=[];for(var K in f.zv.type){if(K=="warpCustom"&&!g)continue;
this.RV.push(K);this.ET.push(f.zv.type[K])}this.e=b.V("span","fitem warpbutton");this.if=new i6;this.if.e=b.V("div","floatcont");
if(u){this.oV=u;this.Hr=b.V("label","flabel");this.e.appendChild(this.Hr)}this.d=b.V("button");this.e.appendChild(this.d);
b.hh(this.d,this.AX.bind(this));this.uL=new fB(!0);this.if.e.appendChild(this.uL.e);this.uL.f(h.E.o,this.arp,this);
this.if.e.setAttribute("style","width:"+Math.floor(8+this.Of/b.Z())+"px;");this.N()}gk.prototype=new i6;
gk.prototype.Db=function(u){this.Hr.textContent=u};gk.prototype.N=function(){if(this.oV)this.Hr.innerHTML=fc.get(this.oV)+":";
this.$n()};gk.aqG={};gk.ab1=function(u,g,K){var X=fc.get(f.zv.type[u]),w=X+"-"+u+"-"+g+"-"+K,D=gk.aqG[w];
if(D)return D;var q=gk.CG;if(C==null){var C=b.V("canvas");q=gk.CG=C.getContext("2d")}var C=q.canvas;
if(C.width!=g||C.height!=K){C.width=g;C.height=K}q.font=Math.floor(13*b.Z())+"px sans-serif";q.lineWidth=1;
q.strokeStyle="#000000";var a=Math.floor(16*b.Z()),x=new dS(0,0,a,a);q.clearRect(0,0,C.width,C.height);
var H=f.zv.zv(x,u,!0,.3,0,0),$=f.p.JS(x);$.F.push("M","L","M","L");$.v.push(0,a/2,a,a/2);$.v.push(a/2,0,a/2,a);
$=f.p.O2($);$=f.p.v5($,a/5);f.uc.D(H,$.v,x);f.p.D($.v,new eV(1,0,0,1,Math.floor(8*b.Z())+.5,Math.floor(3*b.Z())+.5),$.v);
q.beginPath();Typr.U.pathToContext({cmds:$.F,crds:$.v},q);q.stroke();q.fillText(X,Math.floor(40*b.Z()),Math.floor(16*b.Z()));
D=gk.aqG[w]=C.toDataURL();return D};gk.prototype.AX=function(u){if(b.tV(this.if.e))return;u.stopPropagation();
var g=this.Of,K=this.amd;for(var P=0;P<this.RV.length;P++)this.pi[P]=gk.ab1(this.RV[P],g,K);this.uL._m(this.pi,null,g,K);
var X=this.d.getBoundingClientRect(),w=new eG(h.E.Y,!0);w.data={d:h.s.dC,qD:this.if,x:X.left,y:X.top+X.height+4};
this.c(w)};gk.prototype.arp=function(u){var g=new eG(h.E.Y,!0);g.data={d:h.s.WB,qD:this.if};this.c(g);
this.K5=u.target.C()[0];this.$n();this.c(new eG(h.E.o))};gk.prototype.$n=function(){var u=this.Of,g=this.amd;
this.uL.k([this.K5]);this.d.innerHTML="<img src=\""+gk.ab1(this.RV[this.K5],u,g)+"\" class=\"gsicon\" />";
b.DG(this.d.firstChild,u,g)};gk.prototype.C=function(){return this.RV[this.K5]};gk.prototype.k=function(u){this.K5=this.RV.indexOf(u);
this.$n()};function jc(u,g,K){i6.call(this);if(u==null)u=!1;if(g==null)g=!1;if(K==null)K=!1;this.as2=g;
this.zv=null;this.N_=new gk([12,22],K);this.N_.parent=this;this.N_.f(h.E.o,this.p$,this);this.nR=new e8([22,0],[[22,4,0],[22,4,1]]);
this.nR.f(h.E.o,this.p$,this);var X=u?bX:fj;this.Ai=new X([22,1],-100,100,"%");this.hi=new X("Horizontal Distortion:",-100,100,"%");
this.wg=new X("Vertical Distortion:",-100,100,"%");this.Ai.parent=this.hi.parent=this.wg.parent=this;
this.Ai.f(h.E.o,this.p$,this);this.hi.f(h.E.o,this.p$,this);this.wg.f(h.E.o,this.p$,this)}jc.prototype=new i6;
jc.prototype.N=function(){this.N_.N();this.nR.N();this.Ai.N();var u=this.as2?1:100;this.hi.Db(fc.get([22,2]).substring(0,u)+":");
this.wg.Db(fc.get([22,3]).substring(0,u)+":")};jc.prototype.p$=function(){var u=this.zv,g=this.N_.C(),K=u.warpStyle.v.warpStyle;
if(g=="warpCustom")f.zv.vU(f.zv.s8(u),u);else delete u.customEnvelopeWarp;u.warpStyle.v.warpStyle=this.N_.C();
u.warpRotate.v.Ornt=["Hrzn","Vrtc"][this.nR.C()];u.warpValue.v=this.Ai.C();u.warpPerspective.v=this.hi.C();
u.warpPerspectiveOther.v=this.wg.C();if(g=="warpNone"||g=="warpCustom"){u.warpValue.v=0;u.warpPerspective.v=0;
u.warpPerspectiveOther.v=0}else if(K=="warpNone"||K=="warpCustom")u.warpValue.v=50;this.c(new eG(h.E.o,!1));
this.k(u)};jc.prototype.C=function(u){return JSON.parse(JSON.stringify(this.zv))};jc.prototype.k=function(u){this.zv=JSON.parse(JSON.stringify(u));
this.N_.k(u.warpStyle.v.warpStyle);this.nR.k(u.warpRotate.v.Ornt=="Hrzn"?0:1);this.Ai.k(u.warpValue.v);
this.hi.k(u.warpPerspective.v);this.wg.k(u.warpPerspectiveOther.v);var g=u.warpStyle.v.warpStyle,K=g=="warpNone"||g=="warpCustom",X=[this.nR,this.Ai,this.hi,this.wg];
for(var P=0;P<X.length;P++)if(K)X[P].ik();else X[P].gx()};function fE(u,g){i6.call(this);this.e=b.V("div");
this.dE=u;this._j=null;this.xd=new j4(0,0);this.j9="position:relative;overflow:hidden;";this.ke=null;
this.S8=new b.sP(this.e);this.a0i=g;this.tW("grab");this.I=b.V("canvas","canv");this.e.appendChild(this.I);
this.CG=this.I.getContext("2d");this.a30=null;this.mJ=null;this.O6=null;this.PT=0;this.s3=0;this.Xa=0;
this.akE=this.a1L.bind(this);this.al1=null;this.t=new hY({m:1,n:1});this.zn=null;this.IZ=null;this.u4=[];
this.aiV=0;this.n8=0;this.aqU=this.o1.bind(this);this.as4=this.XS.bind(this);this.at$=this.ws.bind(this);
this.aw7=this.EC.bind(this);this.alF=0;this.Us=null;this.abr(this.I);this.qI(this)}fE.prototype=new i6;
fE.a3D=function(u){var g=new hW(!0);if(u>=0)g.YT("Space");if(u>=1){g.YT("ControlLeft");if(u==2)g.YT("AltLeft")}return g};
fE.prototype.BF=function(u){var g=this.ke,K=null;if(u.a(hW.hE)){K="grab";if(u.a(hW.A5)){K="zoom-in";
if(u.a(hW.Dd))K="zoom-out"}}this._j=K;if(K)g=K;this.S8.AF(g,this.j9);if(u.a(hW.A5)){var X=0;if(u.a(hW.RD))X=1;
if(u.a(hW.gZ))X=-1;if(X!=0){this.PZ(new j4(this.I.width/2,this.I.height/2),X==1)}}};fE.prototype.tW=function(u){this.ke=u;
if(this._j)return;this.S8.AF(u,this.j9)};fE.prototype.abr=function(u){b.hh(u,this.aqU);b.mo(u);u.addEventListener("wheel",this.aw7,!1)};
fE.prototype.qI=function(u){u.f("viewchange",this.a4c,this)};fE.prototype.a4c=function(u){var g=this.t.P,K=u.currentTarget.lI();
this.t.P=K.P;this.t.u=K.u.clone();if(g!=K.P)this.H9();this.P2()};fE.prototype.lI=function(){return{P:this.t.P,u:this.t.u}};
fE.prototype.k=function(u,g){var K=u[0].ZE;if(this.mJ!=null&&this.mJ[0].ZE.$z(K)){}else{this.t.UJ={m:K.m,n:K.n};
this.t.u=new j4(0,0);this.t.P=1}this.mJ=u;this.H9();this.qn();this.PT=0;this.s3=0;this.Xa=g==null?0:g;
this.a1L()};fE.prototype.EC=function(u){u.preventDefault();if(u.deltaY==0||Date.now()-this.alF<100)return;
var g=b.Y2(u);g.x=b.Z()*g.x;g.y=b.Z()*g.y;this.alF=Date.now();this.PZ(g,u.deltaY<0)};fE.prototype.PZ=function(u,g){R.Pd.Zs(this.t,u,g);
this.ajq()};fE.prototype.sS=function(){var u=this.t,g=u.UJ;this.t.P=R.Pd.a9A(g.m,g.n,u.Aj.m,u.Aj.n);
this.ajq()};fE.prototype.ajq=function(){this.H9();this.c(new eG("viewchange"));this.c(new eG("zoom"))};
fE.prototype.H9=function(){this.O6=[];var u=this.t.P;if(this.mJ==null)return;for(var P=0;P<this.mJ.length;
P++){var g=this.mJ[P],K=new Uint8Array(g.data),X;if(u>=1)X={Fg:K,rect:g.ZE};else X=f.a2g(K,g.ZE,u);this.O6.push(X)}};
fE.prototype.qn=function(){clearTimeout(this.al1)};fE.prototype.P2=function(){if(this.mJ==null||!b.tV(this.I))return;
var u=this.a30,g=this.I.width,K=this.I.height,U,O;if(u==null||u.width!=g||u.height!=K){u=this.a30=this.CG.createImageData(g,K);
console.log("creating image data")}var X=this.mJ[this.PT],w=this.O6[this.PT],D=this.t,q=D.UJ,C=D.Aj,a=C.m,x=C.n,H=q.m*D.P,$=q.n*D.P,r=Math.round((a-H)/2+D.u.x),c=Math.round((x-$)/2+D.u.y);
if(D.P<=1){O=w.rect.clone();O.x=r;O.y=c;H=O.m;$=O.n;U=w.Fg}else{var A=1/D.P,m=new dS(Math.floor((C.x-r)*A),Math.floor((C.y-c)*A),Math.ceil(C.m*A)+1,Math.ceil(C.n*A)+1),i=new dS(0,0,m.m*D.P,m.n*D.P);
i.x=m.x*D.P+r;i.y=m.y*D.P+c;if(D.QS==null||D.QS.length!=m.$()*4){D.QS=f.L(m.$()*4)}if(D.TF==null||D.TF.length!=i.$()*4){D.TF=f.L(i.$()*4)}f.D4(D.QS,0);
f.bV(w.Fg,w.rect,D.QS,m);f.scale.wm(D.QS,m.m,m.n,D.TF,i.m,i.n,D.P);U=D.TF;O=i}var e=new Uint8Array(u.data.buffer);
f.er(e,a,x,8,-r,-c);f.i.L_("norm",U,O,e,C,C,1);var S=this.CG;S.setTransform(1,0,0,1,0,0);S.putImageData(u,0,0);
S.clearRect(r-1e3,c,1e3,$);S.clearRect(r+H,c,1e3,$);S.clearRect(r-1e3,c-1e3,H+2e3,1e3);S.clearRect(r-1e3,c+$,H+2e3,1e3);
var E=fE.abb(D.P,"#ffffff",this.a0i);S.putImageData(E,0,D.Aj.n-E.height)};fE.a0R={};fE.abb=function(u,g,K){if(K==null)K=!1;
var X="z"+u+","+g+","+K,w=fE.a0R[X];if(w)return w;var D=Math.round(50*b.Z()),q=Math.round(18*b.Z()),C=K?2*q:0,a=b.V("canvas"),x=a.getContext("2d");
a.width=D+C;a.height=q;x.fillStyle="rgba(1,1,1,1)";x.fillRect(0,0,D+C,q);x.font=Math.round(11*b.Z())+"px monospace";
x.fillStyle=g;var H=u*100;if(H<100)H=H.toFixed(2);else H=Math.round(H);H=H+"%";var $=x.measureText(H).width;
x.fillText(H,C+(D-$)/2,Math.round(q*.7));w=fE.a0R[X]=x.getImageData(0,0,D+C,q);return w};fE.prototype.a1L=function(){var u=this.mJ,g=u.length,K=this.PT,X=this.mJ[K],w=(K+1)%g;
this.P2();if(g!=1&&u[w].ZE.$z(X.ZE)){var D=X.MC?parseInt(X.MC.split(",").pop()):30;if(D==0)D=16;if(w==0)this.s3++;
if(this.Xa==0||this.s3<this.Xa)this.al1=setTimeout(this.akE,D)}this.PT=w};fE.prototype.rc=function(u,g){if(u<=0||g<=0)return;
var K=Math.floor(u*b.Z()),X=Math.floor(g*b.Z());this.t.Aj=new dS(0,0,K,X);this.I.width=K;this.I.height=X;
this.I.setAttribute("style","width:"+K/b.Z()+"px; height:"+X/b.Z()+"px; display:block;");this.P2()};
fE.prototype.QE=function(u){var g=-1,K=this.u4;for(var P=0;P<K.length;P++)if(K[P].pointerId==u.pointerId)g=P;
return g};fE.prototype.o1=function(u){var g=this.QE(u),K=this.u4;if(g!=-1)K[g]=u;else K.push(u);if(K.length==1){this.Us=u.target;
b.t9(window,this.as4);b.Uo(window,this.at$);this.zn=b.Y2(u,this.I);this.zn.x*=b.Z();this.zn.y*=b.Z();
this.xd=this.zn;this.IZ=this.t.u.clone();if(this.dE&&this.Us==this.I&&!this._j)this.c(new eG("mousedown"))}else this.aiV=this.n8=j4.uh(b.Y2(K[0],this.I),b.Y2(K[1],this.I))};
fE.prototype.XS=function(u){var g=this.QE(u),K=this.u4;if(g!=-1)K[g]=u;var X=this.t,w=this._j,D=this.mJ[this.PT].ZE.clone();
D.m*=X.P;D.n*=X.P;var q=b.Y2(u,this.I);q.x*=b.Z();q.y*=b.Z();this.xd=q;if(this.dE&&this.Us==this.I&&!w)this.c(new eG("mousemove"));
else if((w=="grab"||w==null)&&(K.length>1||!X.Aj.kB(D))){if(K.length>1){var C=b.Y2(K[0],this.I),a=b.Y2(K[1],this.I),x=new j4(b.Z()*(C.x+a.x)/2,b.Z()*(C.y+a.y)/2),H=j4.uh(C,a),$=null;
if(H>this.n8+50){this.n8+=50;$=!0}if(H<this.n8-50){this.n8-=50;$=!1}if($!=null)this.PZ(x,$);return}else{var r=q.x-this.zn.x,U=q.y-this.zn.y;
X.u.x=this.IZ.x+Math.round(r);X.u.y=this.IZ.y+Math.round(U)}this.c(new eG("viewchange"))}};fE.prototype.ws=function(u){var g=this.QE(u),K=this.u4;
K.splice(g,1);if(K.length==0){b._I(window,this.as4);b.$u(window,this.at$);var X=this._j;if(u.detail>1){this.t.P=1;
this.t.u.fP(0,0);this.P2()}if(this.dE&&this.Us==this.I&&!this._j)this.c(new eG("mouseup"));else{if(X=="zoom-in"||X=="zoom-out")this.PZ(this.xd,X=="zoom-in")}}else{var w=this.zn=b.Y2(K[0],this.I);
w.x*=b.Z();w.y*=b.Z()}};fE.prototype.ip=function(){return this.t.wQ(this.xd.x,this.xd.y)};function dN(){i6.call(this);
this.uP=null;this.kF=null;this.Vw=null;this.c1=null;this.axr="";this.iI=[];this.Xy=0;this.G1=[];this.aN=0;
this.nC=null;var u=this.e=b.V("div",""),g=this.a2f=b.V("div","form");g.setAttribute("style","line-height:0; margin-bottom:0.5em;");
u.appendChild(g);var K=this.oV=b.V("span");g.appendChild(K);K.setAttribute("style","font-size:1.2em; font-weight:bold; margin-right:3em;");
var X=this.aiM=new cG([25,2,0]);X.k(!0);g.appendChild(X.e);X.f(h.E.o,this.RO,this);var w=this.AS=new cG([25,2,1]);
w.k(!0);g.appendChild(w.e);w.f(h.E.o,this.RO,this);var D=new g5(" ");g.appendChild(D.e);var q=this.A$=new fu([25,1,1]);
g.appendChild(q.e);q.f(h.E.o,this.RO,this);this._$=new aA(14);this._$.ai1(3);g.appendChild(this._$.e);
this._$.parent=this;this._$.f(h.E.o,this.amO,this);var C=this.ahg=new dM([25,1,2],null,null,!0);g.appendChild(C.e);
C.f("click",this.xu,this);var a=new dM("?",null,null,!0);g.appendChild(a.e);a.addEventListener("click",function(){alert("All our images come from Pixabay.com and are free to use for commercial purposes.")});
this.aro=this.apj.bind(this);this.RS=b.V("div","svggallery scrollable");u.appendChild(this.RS);this.RS.addEventListener("scroll",this.aom.bind(this))}dN.prototype=new i6;
dN.prototype.xY=function(u){this.a8Z=u};dN.prototype.N=function(){this.oV.textContent=fc.get([25,0]);
this._$.N();this.aiM.N();this.AS.N();this.A$.N();this.ahg.N()};dN.prototype.rc=function(u,g){this.uP=new j4(u,g);
this.a2f.setAttribute("style","width:"+u+"px");var K=this.a2f.getBoundingClientRect();g-=K.height;this.RS.setAttribute("style","width:"+u+"px; height:"+g+"px");
if(b.tV(this.e))this.RO()};dN.prototype.k=function(u){this.kF=u;this.RO()};dN.prototype.aom=function(u){var g=this.RS;
if(g.scrollTop+g.clientHeight+10>=g.scrollHeight){this.RO(!0)}};dN.prototype.amO=function(u){this.Vw=null;
this.RO()};dN.prototype.apj=function(u){if(Date.now()-this.aN<2e3)return;this.aN=Date.now();this.Xy=this.G1.indexOf(u.currentTarget);
var g=this.Wq(this.kF.x,this.kF.y);if(g[1]){var K=g[1].largeImageURL,X=new XMLHttpRequest;X.responseType="arraybuffer";
X.open("GET",K,!0);X.onload=this.ahJ.bind(this);X.send();return}this.ar$(g)};dN.prototype.ahJ=function(u){var g=u.target.response,K=eH.jN(g),X=eH.IB(K),w=X.Tu(g),D=this.Wq(this.kF.x,this.kF.y,[g,w[0].ZE.m,w[0].ZE.n]);
this.ar$(D)};dN.prototype.ar$=function(u){var g=u[0],K=eH.jN(g),X=eH.IB(K),w=new f0("template.psd");
X.Tu(g,w);var D=new eG("tempready",!0);D.data={UJ:w};this.c(D)};dN.prototype.xu=function(u){var g=u.target;
this.iI=[];this.Vw=null;this.RO()};dN.prototype.aiW=function(u){var g=JSON.parse(u.target.response),K=this.c1=g.hits;
for(var P=0;P<K.length;P++)if(K[P].user_id==6314823)K.splice(P,1);this.RO()};dN.prototype.RO=function(u){if(this.kF==null||this.uP==null||this.a8Z==null)return;
if(this.uP.x<=0)return;var g=this.kF.x,K=this.kF.y;if(Math.min(g,K)<50)return;if(u!=!0){this.G1=[];b.Lh(this.RS);
this.RS.scrollTop=0}if(this.G1.length>300)return;var X=Math.min(1,300/Math.max(g,K)),w=this.uP.clone();
w.x-=20;var D=Math.max(1,Math.floor(w.x/(g*X))),q=Math.max(1,Math.ceil(w.y/(K*X)));X=w.x/D/g;var C=D*q;
if(this.Vw==null){var a=this.a8Z.aX.Pe(),x=[];for(var H in a){var $=a[H],r=$[3];if(!this._$.W5($))continue;
if($[5]==null||$[5].slice(0,2)=="gf")continue;x.push($)}if(x.length==0)x.push(a.DejaVuSans);var c=x.length;
for(var P=0;P<c*10;P++){var U=Math.floor(Math.random()*c),O=Math.floor(Math.random()*c),A=x[U];x[U]=x[O];
x[O]=A}x=x.slice(0,10);this.Vw=x}var m=this.AS.C(),i=this.A$.C().trim();this.A$.Tm(m);if(m&&(this.c1==null||i!=this.axr)){var e=new XMLHttpRequest,S="https://pixabay.com/api/?image_type=photo"+(i==""?"":"&q="+encodeURIComponent(i))+"&per_page=200&page=1&key=10554583-a5eacb61c2e61105fdfb6eb88&safesearch=true";
if(i=="")S="plugins/gallery.json";e.open("GET",S,!0);e.onload=this.aiW.bind(this);e.onerror=function(o){console.log(o.target.response)};
e.send();this.axr=i;return}X*=(g*X-5)/(g*X);var E=this.G1.length;for(var P=0;P<C;P++){var Z=this.Xy=E+P;
if(this.iI[Z]==null)this.iI[Z]=Math.floor(Math.random()*4294967295);var N=this.Wq(Math.round(g*X),Math.round(K*X)),J=N[0];
J=k.KO(new Uint8Array(J));var y=b.V("span");y.innerHTML=J;this.G1.push(y);this.RS.appendChild(y);y.addEventListener("click",this.aro,!1)}};
dN.prototype.Wq=function(u,g,K){var X=this.AS.C(),w=this.aiM.C(),D=X&&this.c1.length!=0?this.c1:null;
if(w&&!X)D=null;if(w&&X&&(this.Xy&1)==0)D=null;return hQ.eQ(u,g,this.iI[this.Xy],this.Vw,K?K:D)};function cm(){i6.call(this);
this.e=b.V("div");this.QJ=null;this.a0I=null;this.P6=-1;this.T3={JPG:[{Av:new fj([12,52,0],0,100,"%",null,null,!0),yr:70},{Av:new cG("attach metadata"),yr:!1}],TIFF:[{Av:new cG("attach metadata"),yr:!1}],WEBP:[{Av:new fj([12,52,0],0,100,"%",null,null,!0),yr:70}],GIF:[{Av:new fj([12,52,0],0,100,"%",null,null,!0),yr:100},{Av:new cG([12,23,3]),yr:!1}],PNG:[{Av:new fj([12,52,0],0,100,"%",null,null,!0),yr:100},{Av:new cG("don't use palettes"),yr:!1}],PDF:[{Av:new fu([12,52,1]),yr:""},{Av:new fj([12,52,0],0,100,"%",null,null,!0),yr:100},{Av:new cG("reverse pages"),yr:!1},{Av:new cG("rasterize all"),yr:!1},{Av:new cG("vectorize text"),yr:!1},{Av:new fj("Add Margin",0,5,"in",2),yr:0}],EMF:[{Av:new fu([12,52,1]),yr:""},{Av:new fj([12,52,0],0,100,"%",null,null,!0),yr:100},{Av:new cG("reverse pages"),yr:!1},{Av:new cG("rasterize all"),yr:!1},{Av:new cG("vectorize text"),yr:!1},{Av:new fj("Add Margin",0,5,"in",2),yr:0}],SVG:[{Av:new cG("add raster graphics"),yr:!0},{Av:new cG("add hidden layers"),yr:!1},{Av:new cG("vectorize text"),yr:!1},{Av:new cG("rasterize text"),yr:!1},{Av:new cG("minify"),yr:!1}],RAW:[{Av:new k6([12,72],["1","3","4"]),yr:2},{Av:new k6([12,34],["8 Bits","16 Bits"]),yr:0},{Av:new k6("Byte Order",["12-34","34-12"]),yr:0}],DDS:[{Av:new cG("Add Mipmaps"),yr:!0},{Av:new cG("Compression"),yr:!0}],anim:[{Av:new fj("Speed",10,800,"%",null,!0,!0),yr:100},{Av:new bX("Repeat (0 = Forever)",0,10," \xD7",0,!1,!0),yr:0},{Av:new cG("reverse frames"),yr:!1},{Av:new cG("boomerang"),yr:!1}],slcs:[{Av:new cG([8,11,0]),yr:!0}],artb:[{Av:new cG([1,16,1]),yr:!0}],hicc:[{Av:new cG("convert to sRGB"),yr:!0}]};
for(var u in this.T3){var g=this.T3[u];for(var P=0;P<g.length;P++){g[P].Av.k(g[P].yr);g[P].Av.f(h.E.o,this.jG,this)}}}cm.prototype=new i6;
cm.prototype.asx=function(){this.P6=-1};cm.prototype.N=function(){for(var u in this.T3)for(var P=0;P<this.T3[u].length;
P++)this.T3[u][P].Av.N()};cm.prototype.jG=function(){this.RO();this.c(new eG(h.E.o,!1))};cm.prototype.RO=function(){var u=this.QJ,g=u[0],K=u[1],X=u[2],w=u[3],D=u[4],q=this.T3[g];
if(q==null)q=[];else q=q.slice(0);if(K)q=q.concat(this.T3.anim);if(["GIF","PNG","JPG"].indexOf(g)!=-1&&X)q=q.concat(this.T3.slcs);
else if(["GIF","PNG","JPG"].indexOf(g)!=-1&&w)q=q.concat(this.T3.artb);if(D)q=q.concat(this.T3.hicc);
var C=u.join(",");if(C!=this.P6){this.P6=C;b.Lh(this.e);for(var P=0;P<q.length;P++){if(g=="PDF"&&!w&&(P==0||P==2))continue;
this.e.appendChild(q[P].Av.e);b.d_(this.e)}}var a=this.a0I=[];for(var P=0;P<q.length;P++)a.push(q[P].Av.C())};
cm.prototype.a03=function(u,g,K,X,w){this.QJ=[u,g,K,X,w];this.RO()};cm.prototype.C=function(){return this.a0I.slice(0)};
function eZ(){i6.call(this);this.e=b.V("span","fitem");this._b=!1;this.c7=new dM("No",!1,"Cancel");this.y_=new dM("Yes",!1,"Confirm");
this.e.appendChild(this.c7.e);this.e.appendChild(this.y_.e);this.c7.f("click",this.Kp,this);this.y_.f("click",this.Kp,this);
this.N()}eZ.prototype=new i6;eZ.prototype.N=function(){this.c7.Db(b.xz("cross",null,"autoscale"));this.y_.Db(b.xz("checkmark",null,"autoscale"))};
eZ.prototype.Kp=function(u){this._b=u.target==this.y_;this.c(new UIEvent("click"))};eZ.prototype.C=function(){return this._b};
function hR(u){i6.call(this);this.e=b.V("span","fitem");this.Jb=new dM("\u25BC",null,"Auto Options",!0);
b.hh(this.Jb.e,this.aoB.bind(this));this.e.appendChild(this.Jb.e);this.$G=new dM("Auto",null,null,!0);
this.$G.f("click",this.HQ,this);this.e.appendChild(this.$G.e);this._Z=new fK("Algorithms",["Enhance Monochromatic Contrast","Enhance Per Channel Contrast","Find Dark & Light Colors","Enhance Brightness And Contrast"],null,null,!0);
this._Z.f(h.E.o,this.HQ,this);this._Z.k([!1,!1,!1,!0]);this.if=new i6;var g=this.if.e=b.V("div","floatcont form");
g.setAttribute("style","width: 250px;");this.if.parent=this;g.appendChild(this._Z.e);this.bX=[];for(var P=0;
P<2;P++){var K=new bX((P==0?"Shadows":"Highlights")+" Clip",0,9.99,"%",2,!1,!0);K.k(.1);K.f(h.E.o,this.HQ,this);
this.bX.push(K);g.appendChild(K.e)}}hR.prototype=new i6;hR.prototype.HQ=function(u){this.c(new eG(h.E.o,!1))};
hR.prototype.N=function(){};hR.prototype.C=function(){return[this._Z.C().indexOf(!0),this.bX[0].C(),this.bX[1].C()]};
hR.prototype.aoB=function(u){if(b.tV(this.if.e))return;u.stopPropagation();var g=this.Jb.e.getBoundingClientRect(),K=new eG(h.E.Y,!0);
K.data={d:h.s.dC,qD:this.if,x:g.left,y:g.top+g.height+4};this.c(K)};function aH(){i6.call(this);var u=this.e=b.V("div","fitem");
this.TM=new e8([12,46],[[13,1,8],[13,1,10],[13,1,9],[12,47]]);this.TM.f(h.E.o,this.yg,this);u.appendChild(this.TM.e);
this.Ue=new jR(!1);this.Ue.parent=this;this.Ue.tQ(16777215);this.Ue.f(h.E.o,this.yg,this);u.appendChild(this.Ue.e)}aH.prototype=new i6;
aH.prototype.N=function(){this.TM.N();this.Ue.N()};aH.prototype.a8c=function(u){var g=[u.artboardBackgroundType.v-1];
if(u.Clr)g.push(u.Clr.v);this.k(g)};aH.prototype.atF=function(){var u=this.C();return{classID:"artboard",Clr:{t:"Objc",v:u[1]},artboardBackgroundType:{t:"long",v:u[0]+1}}};
aH.prototype.k=function(u){this.TM.k(u[0]);if(u[1])this.Ue.k(u[1])};aH.prototype.C=function(){return[this.TM.C(),this.Ue.C()]};
aH.prototype.yg=function(u){if(u.target==this.Ue)this.TM.k(3);this.c(new eG(h.E.o,!1))};function aN(u){i6.call(this);
this.nj=u;this.yf=0;this.a4J=!1;this.kO=u?new aN.rD:null;this.e=b.V("div","flexrow storageset");this.e.style.background="var(--bg-panel)";
this.ue=b.V("div");this.e.appendChild(this.ue);this.Du=b.V("div");this.e.appendChild(this.Du);this.OG=[];
var g=Storage.list.length;if(u)g++;var K=this.Ou.bind(this);for(var P=0;P<g;P++){var X=b.V("div");this.OG.push(X);
this.ue.appendChild(X);X.addEventListener("click",K,!1)}this.Ou(null,0)}aN.prototype=new i6;aN.arQ=[];
aN.cS=function(u){aN.arQ.push(u);u.Fc()};aN.e6=function(){var u=aN.arQ;u.pop();u[u.length-1].Fc()};aN.prototype.Fc=function(){console.log(this.yf);
this.Ou(null,this.yf)};aN.prototype.xY=function(u,g){if(!u.NS&&!this.a4J){var K=this.nj?2:1;for(var P=K;
P<this.OG.length;P++)this.ue.removeChild(this.OG[P]);this.a4J=!0;if(this.nj)this.kO.xY(u,g)}};aN.prototype.N=function(){if(this.nj)this.kO.N();
if(this.e8)this.e8.N()};aN.prototype.Ou=function(u,g){var K=this.OG,X;if(g==null)g=K.indexOf(u.currentTarget);
this.yf=g;for(var P=0;P<K.length;P++)b._n(K[P],"active");b.AD(K[g],"active");if(this.nj)g--;b.Lh(this.Du);
if(g==-1)X=this.kO;else X=Storage.uj(g);this.e8=X;X.parent=this;this.Du.appendChild(X.e);this.rc(this.QM,this.xQ);
this.N()};aN.prototype.rc=function(u,g){this.QM=u;this.xQ=g;var K=u<850,X=K?50:200,w=Storage.list;if(this.nj)w=[["Home",null,"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE5LjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgdmlld0JveD0iMCAwIDQ4OS4wNzUgNDg5LjA3NSIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNDg5LjA3NSA0ODkuMDc1OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8Zz4NCgk8cGF0aCBkPSJNNDgyLjQ1MywyMjAuNzc1bC0xMTUuNS0xMTEuMnYtODguNWMwLTExLjQtOS40LTIwLjgtMjAuOC0yMC44cy0yMC44LDkuNC0yMC44LDIwLjh2NDguNWwtNjYuNi02NC4xDQoJCWMtNy4zLTcuMy0xOS44LTcuMy0yOC4xLDBsLTIyMy42LDIxNS4zYy04LjMsOC4zLTkuNCwyMC44LTEsMjkuMWM4LjQsOC4zLDIwLjgsOS40LDI5LjEsMWwzLjEtM3YyMjAuNGMwLDExLjQsOS40LDIwLjgsMjAuOCwyMC44DQoJCWgzNzIuNGMxMS40LDAsMTkuOC05LjQsMjAuOC0xOS44di0yMTkuM2wyLjEsMmMxNS4yLDEwLjUsMjYsMy4xLDI5LjEtMi4xQzQ5MC43NTMsMjQxLjU3NSw0OTAuNzUzLDIyOC4wNzUsNDgyLjQ1MywyMjAuNzc1eg0KCQkgTTI4MS42NTMsNDQ4LjU3NWgtNzIuOHYtMTExLjNoNzIuOFY0NDguNTc1eiBNNDEwLjY1Myw0NDguNTc1aC04OC40di0xMzIuMWMwLTExLjQtOS40LTIwLjgtMjAuOC0yMC44aC0xMTMuNA0KCQljLTExLjQsMC0yMC44LDkuNC0yMC44LDIwLjh2MTMyLjFoLTg3LjR2LTIwMy45aDMzMC44VjQ0OC41NzVMNDEwLjY1Myw0NDguNTc1eiBNODMuODUzLDIwNC4xNzVsMTYxLjQtMTU1bDE1OS44LDE1NUg4My44NTN6Ii8+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8L3N2Zz4NCg=="]].concat(w);
for(var P=0;P<w.length;P++){var D=this.OG[P],q="padding: 8px "+(K?13:36)+"px; cursor:pointer;";D.setAttribute("style",q);
D.innerHTML="<img style=\"margin:0 10px -6px 0; width:22px;\" class=\"gsicon\" src=\""+w[P][2]+"\" /> "+(K?"":w[P][0])}this.e.style.width=u+"px";
this.e.style.height=g+"px";this.ue.style.width=X+"px";this.ue.style.paddingTop="32px";if(this.e8)this.e8.rc(u-X,g)};
aN.rD=function(){var u=this.e=b.V("div");u.style.background="var(--bg-canvas)";var g=this.np=b.V("div");
u.appendChild(g);var K=b.V("style");u.appendChild(K);K.textContent=" .bhover       { transition: background 0.2s ease-in-out;  background:rgba(255,255,255,0   );} "+" .bhover:hover { transition: background 0.2s ease-in-out;  background:rgba(255,255,255,0.05);}";
for(var P=0;P<2;P++){var X=b.V("div"),K="filter: drop-shadow(4px 6px 4px rgba(0,0,0,0.25)); ";g.appendChild(X);
if(P==0)K+="padding: 12px 0px";if(P==1)K+="position:absolute;  bottom:0;";X.setAttribute("style",K);
var w=b.V("img");X.appendChild(w);w.setAttribute("src",PIMG[P==0?"logo":"bottom"]);if(P==0)this.alA=w;
else this.arP=w;if(P==0)this.agd=X;else this.a97=X}this.OG=[];K="display:inline-block;  font-size:1.25em; border:1px solid #aaa;  border-radius:6px;  margin:20px 0 0 20px;";
var D=this.eX.bind(this);for(var P=0;P<3;P++){var q=b.V("span","bhover");this.OG.push(q);q.setAttribute("style",K+"cursor:pointer; padding:12px;");
q.addEventListener("click",D,!1);g.appendChild(q)}b.d_(g);b.d_(g);var q=b.V("div");q.setAttribute("style",K+"width:min(80%,556px);  padding:60px 0;  text-align:center; opacity:0.3;");
q.textContent="Drop any files here";g.appendChild(q);this.I=b.V("canvas");this.I.setAttribute("style","position:absolute;top:0;pointer-events:none; mix-blend-mode: screen;");
this.CG=this.I.getContext("2d");this.aoA=f.L(4);u.appendChild(this.I);var C=new Date().getDate(),a=new Date().getMonth();
if(a==11&&C>20||a==0&&C<10){var x=Math.random()<.5,H={w:255,A:255,U:255};if(!x){H=f.iF(Math.random(),Math.random()*.7,1);
H.w*=255;H.A*=255;H.U*=255}this.kH=[Math.round(1048575*Math.random()),x?.05:.02,Math.round(4+Math.random()*8),1,x?3:15,H,0,!0,x,x?1:.2,3];
this.ae0=x?.1:.2;this.Sf=this.eS.bind(this);window.requestAnimationFrame(this.Sf)}};aN.rD.prototype=new i6;
aN.rD.prototype.eS=function(){window.requestAnimationFrame(this.Sf);if(!b.tV(this.e))return;var u=this.aoA,g=this.I,K=this.CG,X=g.width,w=g.height;
this.kH[6]=Date.now()*.001*this.ae0;f.f9.eV(u,X,w,this.kH,!0);K.putImageData(new ImageData(new Uint8ClampedArray(u.buffer),X,w),0,0)};
aN.rD.prototype.eX=function(u){var P=this.OG.indexOf(u.currentTarget),g=new eG(h.E.Y,!0);if(P==0)g.data={d:h.s.KP,Pu:"newproject"};
if(P==1)g.data={d:h.s.kc};if(P==2)g.data={d:h.s.KP,Pu:"templates"};this.c(g)};aN.rD.prototype.N=function(){var u=this.OG,g=[[11,7],[1,6],["PSD VAR0",[25,0]]],K=["\u2605","\uD83E\uDC7F","\u25A3"];
for(var P=0;P<u.length;P++)u[P].textContent=K[P]+"\u2000"+fc.get(g[P])};aN.rD.prototype.rc=function(u,g){var K=Math.min(g*1.5,Math.min(u,600));
b.Bw(this.I,u,K*.26);var X=this.I.width,w=this.I.height;this.aoA=f.L(X*w*4);this.e.style.width=u+"px";
this.e.style.height=g+"px";this.a97.style.width=u+"px";this.np.style.marginLeft=Math.max(0,Math.round((u+200-600)/2)-200)+"px";
this.alA.style.width=K+"px";this.arP.style.width=K+"px"};aN.rD.prototype.xY=function(u,g){if(!u.NS)this.np.removeChild(this.OG[2])};
function Storage(u){i6.call(this);var g=this.e=b.V("div","storage");b.H5(g);var K=this.a00=b.V("style");
g.appendChild(K);g.setAttribute("tabindex","0");g.style.outline="none";g.addEventListener("keydown",this.abc.bind(this),!1);
this.Ne=this.a2o.bind(this);var X=b.V("div");g.appendChild(X);var w=this.ahT.bind(this);this.mE=b.V("div","bar");
X.appendChild(this.mE);this.hL=b.V("div","fls scrollable");X.appendChild(this.hL);this.Hk=b.V("div");
X.appendChild(this.Hk);this.Hk.setAttribute("style","position:absolute; bottom:0;  background-color:white; padding: 2px 8px 0px 8px;");
this.xB=b.V("div","bar");this.xB.textContent="Name: ";var D=this.Ca=b.V("input");D.setAttribute("type","text");
this.xB.appendChild(D);var q=this.OE=b.V("div","btn");q.textContent="Save";this.xB.appendChild(q);b.Uo(q,w);
b.hh(this.hL,this.Ne);this._P=0;this.tE=u;this.UQ=b.V("div","btn");b.Uo(this.UQ,this.iq.bind(this));
this.LO=new aT([{name:[6,20]}]);this.LO.parent=this;this.VI=new aT([{name:[5,4]},{name:[6,37]}]);this.VI.parent=this;
this.LO.f("select",this.jY,this);this.VI.f("select",this.jY,this);this.hL.addEventListener("contextmenu",this.Ne);
this.a7H=b.V("span");this.ht=b.V("span");this.ht.setAttribute("style","position:absolute; right:0; top:5px;");
this.pN=[];this.jP=[];for(var P=0;P<3;P++){var C=b.V("div","btn");this.pN.push(C);this.a7H.appendChild(C);
b.Uo(C,w);C.textContent=["\u2B9C","\u2B9E","\uD83E\uDC09"][P]}for(var P=0;P<4;P++){var C=b.V("div","btn");
this.jP.push(C);this.ht.appendChild(C);b.Uo(C,w)}window.addEventListener("message",this.a8J.bind(this),!1);
this.a4j=!1;setInterval(this.awk.bind(this),300);this.RU()}Storage.prototype=new i6;Storage.prototype.awk=function(){var u=b.tV(this.e),g=this.a4j;
if(u&&!g){history.pushState(null,null,location.href);window.onpopstate=function(){history.go(1)}}if(!u&&g){window.onpopstate=function(){};
history.go(-1)}this.a4j=u};Storage.prototype.RU=function(){if(this.Oz)document.body.removeChild(this.Oz);
this.YK=[[]];this.Hu=0;this.adn={"/":[]};this.B_="";this.d7=null;this.el=[];this.U1=[];var u="code/storages/"+Storage.list[this.tE][1],g=this.Oz=b.V("iframe");
g.setAttribute("src",u);g.setAttribute("style","display:none");document.body.appendChild(g)};Storage.prototype.B2=function(){return this.adn[this._H()]};
Storage.prototype.Gm=function(u){this.adn[this._H()]=u};Storage.uj=function(P){var u=Storage.gw[P];if(u==null)u=Storage.gw[P]=new Storage(P);
return u};Storage.gw=[];Storage.CF=0;Storage.ata="";Storage.WY=function(u,g){Storage.CF=u;Storage.ata=g;
var K=Storage.gw;for(var P=0;P<K.length;P++)if(K[P])K[P].Fc()};Storage.$Z=0;Storage.BO=2;Storage.VR=0;
Storage.list=[["This Device","deviceStorage.html","data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE5LjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJDYXBhXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB2aWV3Qm94PSIwIDAgNDg5LjIgNDg5LjIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQ4OS4yIDQ4OS4yOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8Zz4NCgk8Zz4NCgkJPGc+DQoJCQk8cGF0aCBkPSJNMzkuNSwzNzcuMzVoMTYwLjl2NDQuMUgxNjljLTUuMiwwLTkuNSw0LjItOS41LDkuNXYyNy41YzAsNS4yLDQuMiw5LjUsOS41LDkuNWgxNTEuMmM1LjIsMCw5LjUtNC4yLDkuNS05LjV2LTI3LjUNCgkJCQljMC01LjItNC4yLTkuNS05LjUtOS41aC0zMS40di00NC4xaDE2MC45YzIxLjgsMCwzOS41LTE3LjcsMzkuNS0zOS41VjYwLjc1YzAtMjEuOC0xNy43LTM5LjUtMzkuNS0zOS41SDM5LjUNCgkJCQlDMTcuNywyMS4yNSwwLDM4Ljk1LDAsNjAuNzV2Mjc3LjFDMCwzNTkuNjUsMTcuNywzNzcuMzUsMzkuNSwzNzcuMzV6IE01My45LDc1LjE1aDM4MS40djI0OEg1My45Vjc1LjE1eiAiLz4NCgkJPC9nPg0KCTwvZz4NCjwvZz4NCjwvc3ZnPg0K"],["Google Drive","googledriveStorage.html","data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE4LjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgdmlld0JveD0iMCAwIDIwNy4wMjcgMjA3LjAyNyIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMjA3LjAyNyAyMDcuMDI3OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8cGF0aCBkPSJNNjkuODY2LDE1LjU1N0wwLDEzOC45MTlsMjguNzMyLDUyLjU1MmwxNDMuMjg4LTAuMDI5bDM1LjAwOC01OS41ODhMMTM2LjM5LDE1LjczNUw2OS44NjYsMTUuNTU3eiBNMTcuMTY2LDEzOS4wNDYNCglMNzQuMjY4LDM4LjIwNUw5MS4yMSw2Ny43ODNMMzMuMjQsMTY4LjQ0N0wxNy4xNjYsMTM5LjA0NnogTTk5Ljg0MSw4Mi44NTFsMjMuODA1LDQxLjU1OGwtNDcuNzMyLTAuMDA2TDk5Ljg0MSw4Mi44NTF6DQoJIE0xNjMuNDM0LDE3Ni40NDNsLTExNy4zMzIsMC4wMjRsMjEuNTMtMzcuMDY1bDY0LjYwNiwwLjAwOGwwLjA2NywwLjExOWw1Mi44NjUtMC4wODVMMTYzLjQzNCwxNzYuNDQzeiBNMTQwLjkzMiwxMjQuNDExDQoJTDkwLjE1NywzNS43NjdsLTIuOTY2LTUuMTc4bDQwLjc1MSwwLjEyMWw1Ny4wMDMsOTMuNzA2TDE0MC45MzIsMTI0LjQxMXoiLz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjxnPg0KPC9nPg0KPGc+DQo8L2c+DQo8Zz4NCjwvZz4NCjwvc3ZnPg0K"],["Dropbox","dropboxStorage.html","data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjRweCIgaGVpZ2h0PSIyNHB4IiB2aWV3Qm94PSIwIDAgMjQgMjQiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNNi4wOTY1OCAyLjQ5MjQ2QzYuMzQyNCAyLjMzNTg2IDYuNjU2NjggMi4zMzU4NCA2LjkwMjUgMi40OTI0M0wxMi4wMDAzIDUuNzM5NjNMMTcuMDk3IDIuNDkyNDdDMTcuMzQyOCAyLjMzNTg0IDE3LjY1NzIgMi4zMzU4NCAxNy45MDMgMi40OTI0N0wyMy40MDMgNS45OTY1N0MyMy42MTkxIDYuMTM0MjggMjMuNzUgNi4zNzI4MiAyMy43NSA2LjYyOTFDMjMuNzUgNi44ODUzOSAyMy42MTkxIDcuMTIzOTMgMjMuNDAzIDcuMjYxNjNMMTguODk1OCAxMC4xMzMyTDIzLjQwMyAxMy4wMDQ4QzIzLjYxOTEgMTMuMTQyNSAyMy43NSAxMy4zODEgMjMuNzUgMTMuNjM3M0MyMy43NSAxMy44OTM2IDIzLjYxOTEgMTQuMTMyMSAyMy40MDMgMTQuMjY5OEwxOC43OTY2IDE3LjIwNDVMMTkuMDE2MSAxNy4zNTA4QzE5LjIyNDcgMTcuNDg5OSAxOS4zNSAxNy43MjQxIDE5LjM1IDE3Ljk3NDhDMTkuMzUgMTguMjI1NiAxOS4yMjQ3IDE4LjQ1OTggMTkuMDE2MSAxOC41OTg5TDEyLjQxNjYgMjIuOTk5QzEyLjE2NDcgMjMuMTY3IDExLjgzNjUgMjMuMTY3IDExLjU4NDUgMjIuOTk5MUw0Ljk4NDAyIDE4LjU5OUM0Ljc3NTM2IDE4LjQ1OTkgNC42NTAwMiAxOC4yMjU3IDQuNjUwMDIgMTcuOTc1QzQuNjUwMDMgMTcuNzI0MiA0Ljc3NTM2IDE3LjQ5IDQuOTg0MDMgMTcuMzUwOUw1LjIwMzY5IDE3LjIwNDVMMC41OTcwMDYgMTQuMjY5NUMwLjM4MDg2MiAxNC4xMzE4IDAuMjUgMTMuODkzMiAwLjI1IDEzLjYzN0MwLjI1IDEzLjM4MDcgMC4zODA4NjggMTMuMTQyMSAwLjU5NzAxMyAxMy4wMDQ0TDUuMTA0MjMgMTAuMTMyOUwwLjU5NzAwNiA3LjI2MTI5QzAuMzgwODYyIDcuMTIzNTggMC4yNSA2Ljg4NTA0IDAuMjUgNi42Mjg3NUMwLjI1IDYuMzcyNDcgMC4zODA4NjggNi4xMzM5MyAwLjU5NzAxMyA1Ljk5NjIyTDYuMDk2NTggMi40OTI0NlpNMTAuNTc5MiAxMy42MjExTDkuNTEwOTYgMTQuMzMzMkw2LjQ5OTYgMTYuMjUxNUwyLjM5NTgyIDEzLjYzN0w2LjQ5OTYxIDExLjAyMjVMMTAuNTc5MiAxMy42MjExWk0xNC41MjY0IDE0LjM1NzZMMTMuNDIxNSAxMy42MjA5TDE3LjUgMTEuMDIyNUwyMS42MDQyIDEzLjYzNzNMMTcuNSAxNi4yNTJMMTQuNTI2NCAxNC4zNTc2Wk0xMC4zMyAxNS41OUw2Ljc1MjE4IDE3Ljk3NUwxMi4wMDA1IDIxLjQ3MzZMMTcuMjQ4IDE3Ljk3NDlMMTMuNzA3MiAxNS42MTQyTDExLjk5OTYgMTQuNTI2NEwxMC4zMyAxNS41OVpNMTEuOTk5NiA3LjUxODE1TDE2LjEwNDIgMTAuMTMzMkwxMi4wMDAzIDEyLjc0NzhMNy44OTUwNiAxMC4xMzI5TDExLjk5OTYgNy41MTgxNVpNNi40OTk2MSA0LjAxNDI1TDIuMzk1ODIgNi42Mjg3N0w2LjQ5OTYgOS4yNDMzM0wxMC42MDQgNi42Mjg3TDYuNDk5NjEgNC4wMTQyNVpNMTMuMzk1OCA2LjYyOTFMMTcuNSA5LjI0MzkyTDIxLjYwNDIgNi42MjkxTDE3LjUgNC4wMTQyOEwxMy4zOTU4IDYuNjI5MVoiIGZpbGw9ImJsYWNrIi8+Cjwvc3ZnPgo="]];
Storage.ajz=function(u){for(var P=0;P<Storage.gw.length;P++){if(Storage.gw[P]&&Storage.gw[P].Oz.contentWindow==u)return!0}return!1};
Storage.prototype.abc=function(u){if(u.target.tagName=="INPUT")return;var g=hW;if(g.zN(u.code,g.cG)&&this._H().length!=0)this.auW();
else if(u.ctrlKey){if(g.zN(u.code,g.s)){var K=[];this.Gm(K);for(var P=0;P<this.d7.length;P++)K.push(P);
this.mO()}if(g.zN(u.code,g.JR)){}if(g.zN(u.code,g.E6)){}}else if(g.zN(u.code,g.R0)){var X=this.B2();
if(X.length!=0)this.axy(X[0])}else if(g.zN(u.code,g.jA)){this.Hu=Math.max(this.Hu-1,0);this.iq()}else{var w=0;
for(var P=65;P<=90;P++)if(u.code=="Key"+String.fromCharCode(P))w=P;if(w!=0){var D=String.fromCharCode(w).toLowerCase(),q=[],C=this.d7,a;
for(var P=0;P<C.length;P++)if(C[P][0][0].toLowerCase()==D)q.push(P);if(q.length==0)return;var X=this.B2();
if(X.length==0)a=q[0];else{var x=q.indexOf(X[0]);if(x==-1){a=q[0];for(var P=0;P<q.length;P++)if(q[P]>X[0]){a=q[P];
break}}else a=q[(x+1)%q.length]}this.Gm([a]);this.mO(!0)}}};Storage.prototype.rc=function(u,g){this.QM=u;
this.xQ=g;this.e.style.width=u+"px";this.e.style.height=g+"px";var K=u-30,X=Math.floor(K/230),K=Math.floor(K/X)-70;
this.a00.textContent=".storage .tile .name {  width:"+K+"px;  }";this.Ca.style.width=u-140+"px";this.hL.style.width=this.mE.style.width=u-20+"px";
this.hL.style.height=g-70-(Storage.CF==0?0:45)+"px"};Storage.prototype.iq=function(){this._i("show",this._H())};
Storage.prototype._H=function(u){var g=this.YK[this.Hu],K="/"+g.join("/");if(u&&g.length!=0)K+="/";return K};
Storage.prototype.ahT=function(u){var g=u.currentTarget,K=this.Hu,X=this.pN.indexOf(g),w=this.jP.indexOf(g);
if(X>=0&&!this.a6W(X))return;if(X==0){this.Hu=Math.max(K-1,0);this.iq()}if(X==1){this.Hu=Math.min(K+1,this.YK.length-1);
this.iq()}if(X==2){var D=this.YK[K+1]=this.YK[K].slice(0);D.pop();this.Hu++;this.YK=this.YK.slice(0,this.Hu+1);
this.iq()}if(w==0){Storage.$Z=(Storage.$Z+1)%2;this.Fc()}if(w==1){Storage.BO=(Storage.BO+1)%3;this.Fc()}if(w==2){Storage.VR=(Storage.VR+1)%3;
this.Fc()}if(w==3){this._i("forget","")}if(g==this.OE){var q=this.Ca.value.trim(),C=this.d7,a=-1;if(!q.toLowerCase().endsWith("psd")){alert("File Name has to end with \".psd\".");
return}for(var P=0;P<C.length;P++)if(C[P][0]==q)a=P;if(a!=-1){this.a8M("Do you really want to replace \""+q+"\"?",this.a7x.bind(this))}else this.a7x()}};
Storage.prototype.a7x=function(){var u=this.Ca.value.trim(),g=[this.tE,this._H(!0)+u];this.Mg({d:h.s.ahm,Xd:g});
this.c(new eG("canclose",!0))};Storage.prototype.jY=function(u){var g=u.target.l3()[0];if(u.target==this.LO){var K=[fc.get([6,20]),-1,0];
this.d7.push(K);this.Fc();var P=this.d7.indexOf(K),X=this.el[P].querySelector(".name");console.log(X);
var w=new cA.ZG(X,function(q){this.Mg({d:h.s.fE,Yo:fc.get([1,2])+" ..."});var C=this._H(!0)+q+"/";console.log(C);
this._i("save",C)}.bind(this),!0)}else{if(g==0)this.auW();else{var P=this.B2()[0],D=this.d7[P],X=this.el[P].querySelector(".name");
console.log(X);X.innerHTML=D[0];var w=new cA.ZG(X,function(q){q=q.trim();var C=this.d7;for(var P=0;P<C.length;
P++)if(C[P][0]==q){alert("Item with such name already exists.");this.Fc();return}var a=this._H(!0)+D[0]+":"+q;
console.log(a);this._i("rename",a)}.bind(this))}}};Storage.prototype.auW=function(){var u=this.B2();
this.a8M("Do you really want to delete "+(u.length==1?"\""+this.d7[u[0]][0]+"\"":"these files")+"?",this.tM.bind(this))};
Storage.prototype.a8M=function(u,g){var K={d:h.s.KP,Pu:"confirm",h:u,r5:g};this.Mg(K)};Storage.prototype.tM=function(){this.Mg({d:h.s.fE,Yo:fc.get([5,4])+" ..."});
this.U1=this.atT();this.asJ()};Storage.prototype.asJ=function(){if(this.U1.length==0){this.Mg({d:h.s.Rf,Yo:fc.get([5,4])+" ..."});
this.Gm([]);this.iq()}else this._i("delete",this.U1.pop()[1])};Storage.prototype.atT=function(){var u=[],g=this._H(!0),K=this.B2();
for(var P=0;P<K.length;P++){var X=this.d7[K[P]];u.push([this.tE,g+X[0]])}return u};Storage.prototype._i=function(u,g){this.B_=u;
this.Oz.contentWindow.postMessage("{\"code\": \""+u+"\", \"prm\": "+JSON.stringify(g)+"  }","*")};Storage.prototype.a8J=function(u){if(u.source!=this.Oz.contentWindow)return;
if(typeof u.data=="string"){var g=JSON.parse(u.data),K=g.code,X=g.prm;if(K=="ready"){if(X)this.iq();
else{b.Lh(this.mE);b.Lh(this.hL);this.mE.appendChild(this.UQ)}}else if(K!="0"){alert(X);this.Fc()}else if(this.B_=="show"){this.d7=X;
this.Fc()}else if(this.B_=="save"){this.Mg({d:h.s.Rf,Yo:fc.get([1,2])+" ..."});this.iq()}else if(this.B_=="delete"){this.asJ()}else if(this.B_=="forget"){this.RU()}else if(this.B_=="rename"){this.iq()}else throw K}else{this.Mg({d:h.s.apq,Xd:this.atT()[0],ee:u.data});
this.Mg({d:h.s.Rf,Yo:"Opening ..."})}};Storage.prototype.a6W=function(P){if(P==0)return this.Hu>0;if(P==1)return this.Hu<this.YK.length-1;
if(P==2)return this._H()!="/"};Storage.prototype.Fc=function(){var u=this.d7,g=Storage.BO,K=Storage.$Z,X=Storage.VR;
if(u==null)return;u.sort(function(y,o){var B=y[1]==-1?1:5,t=o[1]==-1?1:5,W=0;if(Math.min(B,t)==1&&B!=t)return B-t;
else if(B==1||g==0)W=y[0].toLowerCase()<o[0].toLowerCase()?-1:1;else if(g==1)W=y[1]-o[1];else if(g==2)W=y[2]-o[2];
if(K==1)W=-W;return W});var w=this.hL,D=this.mE,q=this.YK[this.Hu];b.Lh(w);b.Lh(D);this.el=[];for(var P=0;
P<3;P++)if(this.a6W(P))b._n(this.pN[P],"disabled");else b.AD(this.pN[P],"disabled");D.appendChild(this.a7H);
D.appendChild(this.ht);var C=b.V("span");C.textContent="/";D.appendChild(C);for(var P=0;P<q.length;P++){var C=b.V("span");
C.textContent=q[P];D.appendChild(C);var C=b.V("span");C.textContent="/";D.appendChild(C)}var a=["tile","icon","litm"][X];
for(var P=0;P<u.length;P++){var x=u[P],H=x[1]==-1,$=H?"":bF.pc(x[1]),r=b.V("div","cont "+a);w.appendChild(r);
this.el.push(r);r.setAttribute("title",x[0]+(H?"":"\nSize: "+$+"\nDate Modified: "+new Date(x[2]*1e3).toLocaleString().replaceAll(". ",".")));
var c=b.V("img");c.setAttribute("src",H?Storage.amz:x[3]?x[3]:Storage.uZ);if(!H&&x[3])c.setAttribute("style","box-shadow: 1px 1px 2.5px rgba(0,0,0, .4);");
var U=b.V("span","name"),O=x[0];if(a=="icon"&&O.length>30)O=O.slice(0,24)+".."+O.slice(O.length-5);U.textContent=O;
r.appendChild(c);r.appendChild(U);if(a!="icon"&&!H){if(a=="tile")b.d_(U);var A=b.V("span");A.textContent=$;
A.style.opacity="0.8";(a=="tile"?U:r).appendChild(A)}var m=x[0].split("."),i=(m.length==1?"":m.pop()).toUpperCase();
if(a!="litm"&&!H&&x[3]==null){var e=b.V("span","ext");e.textContent=i;var S=Storage.bi[i];e.style.backgroundColor=S?S:Storage.ahf(i);
r.appendChild(e)}b.hh(r,this.Ne);r.addEventListener("contextmenu",this.Ne)}this.mO();var E=this.xB.parentNode!=null,Z=Storage.CF,J=this.e;
if(E&&Z==0)J.removeChild(this.xB);if(!E&&Z==1)J.appendChild(this.xB);this.rc(this.QM,this.xQ);this.N()};
Storage.prototype.mO=function(u){var g=this.el,K=this.d7,X=this.B2(),w=!1,D=0;for(var P=0;P<g.length;
P++){var q=K[P],C=q[1]==-1,a=g[P];if(Storage.CF==1&&!C&&!q[0].toLowerCase().endsWith(".psd"))a.style.display="none";
else a.style.display="auto";if(X.indexOf(P)==-1)b._n(a,"active");else{if(C)w=!0;else D+=q[1];b.AD(a,"active");
if(u)a.scrollIntoView({block:"center",behavior:"smooth"})}}var x=w?"":bF.pc(D);this.Hk.textContent=X.length==0?"":X.length+" item"+(X.length==1?"":"s")+" selected\u2001"+x;
this.Ca.value=X.length==1&&!w?K[X[0]][0]:Storage.ata};Storage.prototype.axy=function(P){var u=this.d7[P];
if(u[1]==-1){var g=this.YK[this.Hu].slice(0);g.push(u[0]);this.Hu++;this.YK[this.Hu]=g;this.YK=this.YK.slice(0,this.Hu+1);
this.Gm([]);this.iq()}else if(Storage.CF==0){this.Mg({d:h.s.fE,Yo:"Opening ..."});this.c(new eG("canclose",!0));
var K=this._H(!0)+u[0];this._i("load",K)}};Storage.prototype.N=function(){var u=Storage.BO,g=Storage.$Z,K=Storage.VR;
this.jP[0].textContent=["\uD83E\uDC0B","\uD83E\uDC09"][g];this.jP[1].textContent=fc.get([[12,48],[12,14,0],"Date"][u]);
this.jP[2].textContent=fc.get(["Tiles","Icons",[25,3,1]][K]);this.jP[3].textContent="\u2716";this.UQ.textContent=fc.get([[23,6],Storage.list[this.tE][0]])};
Storage.prototype.a2o=function(u){this.Mg({d:h.s.et});if(u.button==3||u.button==4){if(Date.now()-this.aob>50){var g=this.Hu;
if(u.button==3)this.Hu=Math.max(g-1,0);else this.Hu=Math.min(g+1,this.YK.length-1);this.iq()}this.aob=Date.now();
return}u.stopPropagation();var P=this.el.indexOf(u.currentTarget);if(u.type=="contextmenu"){if(this.d7==null)return;
u.preventDefault();var K=P==-1?this.LO:this.VI;K.parent=this;K.N();this.Mg({d:h.s.dC,qD:K,x:u.clientX+4,y:u.clientY});
return}var X=this.B2(),w=X.indexOf(P);if(u.button!=0&&w!=-1)return;if(u.target==this.hL)this.Gm([]);
else{if(u.ctrlKey){if(w==-1)X.push(P);else X.splice(w,1)}else if(u.shiftKey&&X.length!=0){var D=X[0];
if(D<P){var q=P;P=D;D=q}X=[];this.Gm(X);for(var C=P;C<=D;C++)X.push(C)}else{this.Gm([P]);if(Date.now()-this._P<300&&X.length!=0&&X[0]==P){this.axy(P);
this._P=0}}}this._P=Date.now();this.mO()};Storage.prototype.Mg=function(u){var g=new eG(h.E.Y,!0);g.data=u;
this.c(g)};Storage.prototype.a0s=function(u,g){this.Mg({d:h.s.fE,Yo:fc.get([1,2])+" ..."});this._i("save",u);
this.Oz.contentWindow.postMessage(g,"*")};Storage.bi={PDF:"#ff2222",PSD:"#005599",PSB:"#005599"};Storage.ahf=function(u){u=u.toLowerCase();
var g=0;for(var P=0;P<u.length;P++)g+=u.charCodeAt(P)*613<<8*P;return"#"+f.ae(g&16777215)};Storage.amz="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjIiIGJhc2VQcm9maWxlPSJ0aW55LXBzIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0ODggNDEwIiB3aWR0aD0iNDg4IiBoZWlnaHQ9IjQxMCI+PHRpdGxlPmZvbGRlci1zdmc8L3RpdGxlPjxzdHlsZT50c3BhbiB7IHdoaXRlLXNwYWNlOnByZSB9LnNocDAgeyBmaWxsOiAjZGJiMDY1IH0gLnNocDEgeyBmaWxsOiAjOTY3YTQ0IH0gLnNocDIgeyBmaWxsOiAjZjVjZTg1IH0gPC9zdHlsZT48cGF0aCBjbGFzcz0ic2hwMCIgZD0iTTcuMiA0MDMuNEw3LjIgNi42TDEzOC45NSA2LjZMMTc3LjM1IDQ1TDQ4MC44IDQ1TDQ4MC44IDQwMy40TDcuMiA0MDMuNFoiIC8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGFzcz0ic2hwMSIgZD0iTTE0MS42IDAuMkwxODAgMzguNkw0ODcuMiAzOC42TDQ4Ny4yIDQwOS44TDAuOCA0MDkuOEwwLjggMC4yTDE0MS42IDAuMlpNMTMuNiAxM0wxMy42IDM5N0w0NzQuNCAzOTdMNDc0LjQgNTEuNEwxNzQuNyA1MS40TDEzNi4zIDEzTDEzLjYgMTNaIiAvPjxnID48cGF0aCBjbGFzcz0ic2hwMiIgZD0iTTcuMiA0MDMuNEw3LjIgNzAuNkwxNDMuNTMgNzAuNkwxODEuOTMgNDVMNDgwLjggNDVMNDgwLjggNDAzLjRMNy4yIDQwMy40WiIgLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsYXNzPSJzaHAxIiBkPSJNNDg3LjIgMzguNkw0ODcuMiA0MDkuOEwwLjggNDA5LjhMMC44IDY0LjJMMTQxLjYgNjQuMkwxODAgMzguNkw0ODcuMiAzOC42Wk0xODMuODggNTEuNEwxNDUuNDggNzdMMTMuNiA3N0wxMy42IDM5N0w0NzQuNCAzOTdMNDc0LjQgNTEuNEwxODMuODggNTEuNFoiIC8+PC9nPjwvc3ZnPg==";
Storage.uZ="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjIiIGJhc2VQcm9maWxlPSJ0aW55LXBzIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNDggNDI0IiB3aWR0aD0iMzQ4IiBoZWlnaHQ9IjQyNCI+PHRpdGxlPmZpbGUtc3ZnPC90aXRsZT48c3R5bGU+dHNwYW4geyB3aGl0ZS1zcGFjZTpwcmUgfS5zaHAwIHsgZmlsbDogI2ZmZmZmZiB9IC5zaHAxIHsgZmlsbDogI2M3ZDdlMiB9IC5zaHAyIHsgZmlsbDogIzQ1NGI1NCB9IDwvc3R5bGU+PHBhdGggY2xhc3M9InNocDAiIGQ9Ik0yOTYgNDEyTDUyIDQxMkMzMCA0MTIgMTIgMzk0IDEyIDM3MkwxMiA1MkMxMiAzMCAzMCAxMiA1MiAxMkwyOTYgMTJDMzE4IDEyIDMzNiAzMCAzMzYgNTJMMzM2IDM3MkMzMzYgMzk0IDMxOCA0MTIgMjk2IDQxMloiIC8+PHBhdGggY2xhc3M9InNocDEiIGQ9Ik01MiA1MkwyOTYgNTJMMjk2IDExMkw1MiAxMTJMNTIgNTJaTTI3MiAxOTJMNjggMTkyQzYxLjIgMTkyIDU2IDE4Ni44IDU2IDE4MEM1NiAxNzMuMiA2MS4yIDE2OCA2OCAxNjhMMjcyIDE2OEMyNzguOCAxNjggMjg0IDE3My4yIDI4NCAxODBDMjg0IDE4Ni44IDI3OC44IDE5MiAyNzIgMTkyWk0yNzIgMjUyTDY4IDI1MkM2MS4yIDI1MiA1NiAyNDYuOCA1NiAyNDBDNTYgMjMzLjIgNjEuMiAyMjggNjggMjI4TDI3MiAyMjhDMjc4LjggMjI4IDI4NCAyMzMuMiAyODQgMjQwQzI4NCAyNDYuOCAyNzguOCAyNTIgMjcyIDI1MlpNMTc0IDMxMkw2OCAzMTJDNjEuMiAzMTIgNTYgMzA2LjggNTYgMzAwQzU2IDI5My4yIDYxLjIgMjg4IDY4IDI4OEwxNzQgMjg4QzE4MC44IDI4OCAxODYgMjkzLjIgMTg2IDMwMEMxODYgMzA2LjggMTgwLjggMzEyIDE3NCAzMTJaIiAvPjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xhc3M9InNocDIiIGQ9Ik0yOTYgNDI0TDUyIDQyNEMyMy4yIDQyNCAwIDQwMC44IDAgMzcyTDAgNTJDMCAyMy4yIDIzLjIgMCA1MiAwTDI5NiAwQzMyNC44IDAgMzQ4IDIzLjIgMzQ4IDUyTDM0OCAzNzJDMzQ4IDQwMC44IDMyNC44IDQyNCAyOTYgNDI0Wk01MiAyNEMzNi40IDI0IDI0IDM2LjQgMjQgNTJMMjQgMzcyQzI0IDM4Ny42IDM2LjQgNDAwIDUyIDQwMEwyOTYgNDAwQzMxMS42IDQwMCAzMjQgMzg3LjYgMzI0IDM3MkwzMjQgNTJDMzI0IDM2LjQgMzExLjYgMjQgMjk2IDI0TDUyIDI0WiIgLz48L3N2Zz4=";
function _(u){i6.call(this);this.p5=u;this.e=b.V("div","");this.GT=[];this.pu=null;this.ada=[]}_.prototype=new i6;
_.prototype.Xl=function(u){};_.prototype.Gh=function(){return!1};_.prototype.rc=function(u,g){};_.prototype.xY=function(u,g){};
_.prototype.RQ=function(u){};_.prototype.k=function(u,g,K,X,w,D){var q=[],C=this.GT,a=0,x=dJ.U7["s"+this.p5];
x?x(u,q,D):this.Gc(u,q,D);for(var P=0;P<C.length;P++)if(!(C[P]instanceof g5))C[P].k(q[a++]);if(u.RndS)this.pu=u.RndS.v};
_.prototype.C=function(){var u=dJ.mt(this.p5),g=[],K=this.GT,X=0;for(var P=0;P<K.length;P++)if(!(K[P]instanceof g5))g[X++]=K[P].C();
var w=dJ.U7["g"+this.p5];w?w(u,g):this.Qi(u,g);if(u.RndS)u.RndS.v=this.pu;return u};_.prototype.BF=function(u){};
_.prototype.p$=function(u){if(u&&u.target instanceof dM){this.pu=Math.floor(Math.random()*4294967295)}var g=this.ada;
for(var P=0;P<g.length;P+=2){var K=this.GT[g[P]],X=this.GT[g[P+1]],w=K.C(),D=X.C();if(u.target==K)X.k(Math.max(w,D));
else K.k(Math.min(w,D))}this.c(new eG(h.E.o))};_.prototype.N=function(){for(var P=0;P<this.GT.length;
P++)this.GT[P].N();var u=this.a8Y;if(u)u.N()};_.prototype.Nf=function(u){b.AD(this.e,"form");var g=this.GT;
for(var P=0;P<g.length;P++){var K=g[P];K.parent=this;K.f(h.E.o,this.p$,this);this.e.appendChild(K.e);
if(K instanceof cG&&g[P+1]instanceof jR)continue;if(u&&u.indexOf(P)!=-1)b._r(this.e);else b.d_(this.e)}var X=dJ.mt(this.p5);
if(X.RndS){var w=this.a8Y=new dM([25,1,2],null,null,!0);this.e.appendChild(w.e);w.f("click",this.p$,this)}};
_.prototype.HI=function(){return!1};_.prototype.R4=function(u,g,K,X,w){};_.prototype.ai=function(u,g,K,X,w){};
_.prototype.RB=function(u,g,K,X,w){};_.prototype.Qi=function(u,g){};_.prototype.Gc=function(u,g){};_.prototype.vx=function(u){var g=u.target.C().indexOf(!0)!=-1,K=new eG(h.E.Y,!0);
K.UG=!0;K.data={d:g?h.s.LK:h.s.SQ,b:R.RX};this.c(K);K=new eG(h.E.l,!0);K.b=R.RX;K.UG=!0;K.data={d:"supertool",b:g?this:null};
this.c(K)};_.aaV=function(u){u.HI=function(){return!0};u.R4=function(g,K,X,w,D){this.H7=!0;this.amD(g,D)};
u.ai=function(g,K,X,w,D){if(!this.H7)return;this.amD(g,D)};u.RB=function(g,K,X,w,D){this.H7=!1};u.amD=function(g,K){var X=new dS(0,0,g.m,g.n);
if(g.q)X=g.q.rect;var w=g.t.wQ(K.x,K.y);w.x-=X.x;w.y-=X.y;function D(q,C){return Math.round(Math.max(0,Math.min(100,100*q/C)))}this.GT[2].k(D(w.x,X.m));
this.GT[3].k(D(w.y,X.n));this.p$()}};_.Bokh=function(){_.call(this,"Bokh");this.GT=[new e8("Depth Map",["A","b"]),new fj("Focal Distance",0,255),new cG([4,11]),new e8([12,76,1],["Triangle (3)",["VAR0 (4)",[12,93,3]],"Pentagon (5)","Hexagon (6)","Heptagon (7)","Octagon (8)"]),new fj([12,56],0,100),new fj([12,15],0,360),new fj([12,2],0,100),new fj([4,13],0,255),new fj([24,6],0,100),new k6([12,58],[[12,59,0],[12,59,1]]),new cG([12,60])];
this.Nf([5,7])};_.Bokh.prototype=new _;_.Bokh.prototype.Gc=function(u,g,K){var X=[[22,5,0],[6,5,3],[6,2]],w=u.BkDi.v.BtDi,D=u.BkDc,q=0;
if(w=="BeIn")q=0;else if(w=="BeIt"&&D.v.BtDc=="BeCt")q=1;else if(w=="BeIt"&&D.v.BtDc=="BeCm")q=2;else q=3+D.v;
for(var P=0;P<K[1].length;P++)X.push(K[1][P].name);this.GT[0].UT(X,[3]);g[0]=q;g[1]=u.BkDp.v;g[2]=u.BkDs.v;
g[3]=parseInt(u.BkIs.v.BtIs.slice(3))-3;g[4]=u.BkIb.v;g[5]=u.BkIr.v;g[6]=u.BkSb.v;g[7]=u.BkSt.v;g[8]=u.BkNa.v;
g[9]=u.BkNt.v.BtNt=="BeNu"?0:1;g[10]=u.BkNm.v};_.Bokh.prototype.Qi=function(u,g){var K;if(g[0]==0){K="BeIn";
delete u.BkDc}else if(g[0]<3){K="BeIt";u.BkDc={t:"enum",v:{BtDc:["BeCt","BeCm"][g[0]-1]}}}else{K="BeIa";
u.BkDc={t:"long",v:g[0]-3}}u.BkDi.v.BtDi=K;u.BkDp.v=g[1];u.BkDs.v=g[2];u.BkIs.v.BtIs="BeS"+(3+g[3]);
u.BkIb.v=g[4];u.BkIr.v=g[5];u.BkSb.v=g[6];u.BkSt.v=g[7];u.BkNa.v=g[8];u.BkNt.v.BtNt=["BeNu","BeNg"][g[9]];
u.BkNm.v=g[10]};_.oilPaint=function(){_.call(this,"oilPaint");this.GT=[new fj([12,56],.1,10,"px",!0),new fj("Cleanliness",0,10,"px",!0),new fj([12,38],.1,10,null,!0),new fj("Bristle Detail",0,10,null,!0),new cG("Lighting"),new fj("Shine",0,10,null,!0),new bn([12,15])];
this.Nf()};_.oilPaint.prototype=new _;_.oilPaint.prototype.Gc=function(u,g){var K="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var P=0;P<K.length;P++)g[P]=u[K[P]].v;g[6]=[u.LghD.v]};_.oilPaint.prototype.Qi=function(u,g){var K="stylization cleanliness brushScale microBrush lightingOn specularity".split(" ");
for(var P=0;P<K.length;P++)u[K[P]].v=g[P];u.LghD.v=g[6][0]};_.TrcC=function(){_.call(this,"TrcC");this.GT=[new fj("Level",0,255),new k6([12,69],[[19,4,1],[19,4,0]])];
this.Nf()};_.TrcC.prototype=new _;_.TrcC.prototype.Gc=function(u,g){g[0]=u.Lvl.v;g[1]=["Lwr","Upr"].indexOf(u.Edg.v.CntE)};
_.TrcC.prototype.Qi=function(u,g){u.Lvl.v=g[0];u.Edg.v.CntE=["Lwr","Upr"][g[1]]};_["Dfs "]=function(){_.call(this,"Dfs ");
this.GT=[new k6([12,36],[[15,10,0],[15,10,6],[15,10,11],"Anisotropic"])];this.Nf()};_["Dfs "].prototype=new _;
_["Dfs "].prototype.Gc=function(u,g){g[0]=["Nrml","DrkO","LghO","anisotropic"].indexOf(u.Md.v.DfsM)};
_["Dfs "].prototype.Qi=function(u,g){u.Md.v.DfsM=["Nrml","DrkO","LghO","anisotropic"][g[0]]};_.Embs=function(){_.call(this,"Embs");
this.GT=[new bn([12,15]),new fj([12,42],1,100,"px"),new fj([12,57],1,500,"%")];this.Nf()};_.Embs.prototype=new _;
_.Embs.prototype.Gc=function(u,g){g[0]=[u.Angl.v];g[1]=u.Hght.v;g[2]=u.Amnt.v};_.Embs.prototype.Qi=function(u,g){u.Angl.v=g[0][0];
u.Hght.v=g[1];u.Amnt.v=g[2]};_["Wnd "]=function(){_.call(this,"Wnd ");this.GT=[new k6([12,32],["Wind","Blast","Stagger"]),new k6([12,33],["From the Right","From the Left"])];
this.Nf()};_["Wnd "].prototype=new _;_["Wnd "].prototype.Gc=function(u,g){g[0]=["Wnd","Blst","Stgr"].indexOf(u.WndM.v.WndM);
g[1]=["Left","Rght"].indexOf(u.Drct.v.Drct)};_["Wnd "].prototype.Qi=function(u,g){u.WndM.v.WndM=["Wnd","Blst","Stgr"][g[0]];
u.Drct.v.Drct=["Left","Rght"][g[1]]};_.denoise=function(){_.call(this,"denoise");this.GT=[new fj([12,64],0,10),new fj([12,65],0,100,"%")];
this.Nf()};_.denoise.prototype=new _;_.denoise.prototype.Gc=function(u,g){var K=u.channelDenoise.v[0].v;
g[0]=K.Amnt.v;g[1]=K.EdgF.v};_.denoise.prototype.Qi=function(u,g){var K=u.channelDenoise.v[0].v;K.Amnt.v=g[0];
K.EdgF.v=g[1]};_.lightFilterGradient=function(){_.call(this,"lightFilterGradient");this.GT=[new fj([24,3,1],0,100,"px",1,!0),new fj([12,38],0,200,"%"),new cG([4,11]),new fj("High",0,100,"%"),new fj("Medium",0,100,"%"),new fj("Low",0,100,"%")];
this.Nf()};_.lightFilterGradient.prototype=new _;_.lightFilterGradient.prototype.Gc=function(u,g){g[0]=u.blur.v;
g[1]=u.textureScale.v*100;g[2]=u.Scl.v==-1;var K=u.Dtl.v;g[3]=K[0].v*100;g[4]=K[1].v*100;g[5]=K[2].v*100};
_.lightFilterGradient.prototype.Qi=function(u,g){u.blur.v=g[0];u.textureScale.v=g[1]/100;u.Scl.v=g[2]?-1:1;
var K=u.Dtl.v;K[0].v=g[3]/100;K[1].v=g[4]/100;K[2].v=g[5]/100};_.Fbrs=function(){_.call(this,"Fbrs");
this.GT=[new fj("Variance",1,64),new fj([12,64],1,64)];this.Nf()};_.Fbrs.prototype=new _;_.Fbrs.prototype.Gc=function(u,g){g[0]=u.Vrnc.v;
g[1]=u.Strg.v};_.Fbrs.prototype.Qi=function(u,g){u.Vrnc.v=g[0];u.Strg.v=g[1]};_.LnsF=function(){_.call(this,"LnsF");
this.GT=[new fj([12,2],10,300,"%"),new k6([12,44],["Lens 1","Lens 2","Lens 3","Lens 4"]),new fj("Position X",0,100,"%"),new fj("Position Y",0,100,"%")];
this.Nf()};_.LnsF.prototype=new _;_.LnsF.prototype.Gc=function(u,g){g[0]=u.Brgh.v;g[1]=["Zm","Nkn","Nkn1","PnVs"].indexOf(u.Lns.v.Lns);
var K=u.FlrC.v;g[2]=Math.round(K.Hrzn.v*100);g[3]=Math.round(K.Vrtc.v*100)};_.LnsF.prototype.Qi=function(u,g){u.Brgh.v=g[0];
u.Lns.v.Lns=["Zm","Nkn","Nkn1","PnVs"][g[1]];var K=u.FlrC.v;K.Hrzn.v=g[2]/100;K.Vrtc.v=g[3]/100};_.aaV(_.LnsF.prototype);
_.blendOptions=function(){_.call(this,"blendOptions");this.GT.push(new e8([12,19,0],b0.ET,!1,b0.CX));
this.GT.push(new fj([12,0],0,100,"%"));this.Nf()};_.blendOptions.prototype=new _;_.blendOptions.prototype.Gc=function(u,g){g[0]=b0.nG.indexOf(u.Md.v.BlnM);
g[1]=u.Opct.v.val};_.blendOptions.prototype.Qi=function(u,g){u.Md.v.BlnM=b0.nG[g[0]];u.Opct.v.val=g[1]};
_.LnCr=function(){_.call(this,"LnCr");this.GT=[new fj([12,57],-100,100),new fj([12,38],10,150,"%")];
this.Nf()};_.LnCr.prototype=new _;_.LnCr.prototype.Gc=function(u,g){g[0]=u.LnIa.v;g[1]=u.LnSi.v};_.LnCr.prototype.Qi=function(u,g){u.LnIa.v=g[0];
u.LnSi.v=g[1]};_.adaptCorrect=function(){_.call(this,"adaptCorrect");var u=cV;this.GT=[new g5([19,6,0]),new u([12,57],0,100,"%"),new u("Tone",0,100,"%"),new u([12,56],0,200,"px"),new g5([19,6,2]),new u([12,57],0,100,"%"),new u("Tone",0,100,"%"),new u([12,56],0,200,"px"),new g5([3]),new u([13,0],-100,100)];
this.Nf([3,7])};_.adaptCorrect.prototype=new _;_.adaptCorrect.prototype.Gc=function(u,g){var K=u.sdwM.v;
g[0]=K.Amnt.v.val;g[1]=K.Wdth.v.val;g[2]=K.Rds.v;var K=u.hglM.v;g[3]=K.Amnt.v.val;g[4]=K.Wdth.v.val;
g[5]=K.Rds.v;g[6]=u.ClrC.v};_.adaptCorrect.prototype.Qi=function(u,g){var K=u.sdwM.v;K.Amnt.v.val=g[0];
K.Wdth.v.val=g[1];K.Rds.v=g[2];var K=u.hglM.v;K.Amnt.v.val=g[3];K.Wdth.v.val=g[4];K.Rds.v=g[5];u.ClrC.v=g[6]};
_.Flam=function(){_.call(this,"Flam");var u=this.GT=[new e8([12,44],"One Flame Along Path,Multiple Flames Along Path,Multiple Flames One Direction,Multiple Flames Path Directed,Multiple Flames Various Angle,Candle Light".split(",")),new fj([12,80,0],20,1e3,"px"),new cG("Randomize Length"),new fj([12,41],5,600,"px"),new fj([12,15],0,360,"\xB0"),new fj("Interval",10,200,"px"),new cG("Adapt Interval for Loops"),new jR(!1),new e8([12,52,0],["1: Draft","2: Low","3: Medium","4: High","5: Fine"]),new fj("Turbulent",0,100),new fj("Jag",0,100),new fj([12,0],0,100),new fj("Lines",2,30),new fj("Bottom",0,100),new e8([12,22],["Normal","Violent","Flat"]),new e8([12,76,1],["Parallel","To the center","Spread","Oval","Pointing"]),new cG("Randomize Shape"),new fj("Random Seed",0,100)];
this.Nf();var g=this.e;b.Lh(g);var K=new k6(null,["Basic","Advanced"]);K.f(h.E.o,this.aqD,this);g.appendChild(K.e);
b._r(g);var X=b.V("div"),w=b.V("div");this.ahD=[X,w];g.appendChild(X);for(var P=0;P<u.length;P++){(P<9?X:w).appendChild(u[P].e);
if(P==6)b.d_(X)}u[0].f(h.E.o,this.apH,this);this.apH()};_.Flam.prototype=new _;_.Flam.prototype.apH=function(u){var g=this.GT,P=g[0].C();
g[1].Tm(P!=0&&P!=5);g[2].Tm(P!=0&&P!=5);g[4].Tm(P!=0&&P!=5&&P!=1);g[5].Tm(P!=0&&P!=5);g[6].Tm(P!=0&&P!=5)};
_.Flam.prototype.aqD=function(u){var P=u.target.C(),g=this.ahD,K=this.e;K.removeChild(g[1-P]);K.appendChild(g[P])};
_.boxblur=function(){_.call(this,"boxblur");this.GT=[new fj([12,56],1,200," px")];this.Nf()};_.boxblur.prototype=new _;
_.boxblur.prototype.Gc=function(u,g){g[0]=u.Rds.v.val};_.boxblur.prototype.Qi=function(u,g){u.Rds.v.val=g[0]};
_.GsnB=function(){_.call(this,"GsnB");this.GT=[new fj([12,56],.1,400,"px",1,!0)];this.Nf()};_.GsnB.prototype=new _;
_.MtnB=function(){_.call(this,"MtnB");this.GT=[new bn([12,15]),new fj([12,28],1,100," px")];this.Nf()};
_.MtnB.prototype=new _;_.RdlB=function(){_.call(this,"RdlB");this.GT=[new fj([12,57],1,100),new k6([12,36],["Spin","Zoom"]),new fj("Position X",0,100,"%"),new fj("Position Y",0,100,"%")];
this.Nf()};_.RdlB.prototype=new _;_.RdlB.prototype.Gc=function(u,g){g[0]=u.Amnt.v;g[1]=["Spn","Zm"].indexOf(u.BlrM.v.BlrM);
g[2]=u.Cntr.v.Hrzn.v*100;g[3]=u.Cntr.v.Vrtc.v*100};_.RdlB.prototype.Qi=function(u,g){u.Amnt.v=g[0];u.BlrM.v.BlrM=["Spn","Zm"][g[1]];
u.Cntr.v.Hrzn.v=g[2]/100;u.Cntr.v.Vrtc.v=g[3]/100};_.aaV(_.RdlB.prototype);_.Dspl=function(){_.call(this,"Dspl");
this.GT=[new e8([6,36,3],["a","b"]),new fj([22,4,0],-100,100,"px"),new fj([22,4,1],-100,100,"px"),new e8([24,18,0],[[24,18,3],[24,18,2]])];
this.Nf()};_.Dspl.prototype=new _;_.Dspl.prototype.Gc=function(u,g,K){this.a9M=[];this.KA=[];var X=-1,w=K?K[0]:null;
if(w==null)w=this.a3F;else this.a3F=w;if(w)for(var P=0;P<w.length;P++){var D=w[P];this.a9M.push(D.$V.trim());
this.KA.push(D.z0);if(D.z0==u.DspF.v.pth)X=P}this.GT[0].UT(this.a9M);g[0]=X==-1?0:X;g[1]=u.HrzS.v;g[2]=u.VrtS.v;
g[3]=["WrpA","RptE"].indexOf(u.UndA.v.UndA)};_.Dspl.prototype.Qi=function(u,g){if(this.KA.length==0)return;
u.DspF.v.pth=this.KA[g[0]];u.HrzS.v=g[1];u.VrtS.v=g[2];u.UndA.v.UndA=["WrpA","RptE"][g[3]]};_.Pnch=function(){_.call(this,"Pnch");
this.GT=[new fj([12,57],-100,100,"%")];this.Nf()};_.Pnch.prototype=new _;_["Plr "]=function(){_.call(this,"Plr ");
this.GT=[new k6(null,["Rect to Polar","Polar to Rect"])];this.Nf()};_["Plr "].prototype=new _;_.Rple=function(){_.call(this,"Rple");
this.GT=[new fj([12,57],-999,999),new e8([12,14,0],[[19,8,0],[19,8,1],[19,8,2]])];this.Nf()};_.Rple.prototype=new _;
_["Shr "]=function(){_.call(this,"Shr ");this.GT=[new h9(!0,!0),new e8([24,18,0],[[24,18,3],[24,18,2]])];
this.Nf()};_["Shr "].prototype=new _;_["Shr "].prototype.Gc=function(u,g){var K=new eV(0,255/127,255/127,0,-2,128),X=JSON.parse(JSON.stringify(u.ShrP.v));
f.f1.D(X,K);g[0]=X;g[1]=["WrpA","RptE"].indexOf(u.UndA.v.UndA)};_["Shr "].prototype.Qi=function(u,g){var K=new eV(0,255/127,255/127,0,-2,128);
K.CD();f.f1.D(g[0],K);u.ShrP.v=g[0];u.ShrE.v=g[0].length-1;u.UndA.v.UndA=["WrpA","RptE"][g[1]]};_.Sphr=function(){_.call(this,"Sphr");
this.GT=[new fj([12,57],-100,100),new e8([12,36],[[15,10,0],[22,4,0],[22,4,1]])];this.Nf()};_.Sphr.prototype=new _;
_.Sphr.prototype.Gc=function(u,g){g[0]=u.Amnt.v;g[1]=["Nrml","HrzO","VrtO"].indexOf(u.SphM.v.SphM)};
_.Sphr.prototype.Qi=function(u,g){u.Amnt.v=g[0];u.SphM.v.SphM=["Nrml","HrzO","VrtO"][g[1]]};_.Dthr=function(){_.call(this,"Dthr");
this.GT=[new e8("Palette",[[4,7],"RGB 2x2x2","RGB 4x4x4","RGB 8x8x4"])];this.Nf()};_.Dthr.prototype=new _;
_.Dthr.prototype.Gc=function(u,g){g[0]=u.Plte.v};_.Dthr.prototype.Qi=function(u,g){u.Plte.v=g[0]};_.Part=function(){_.call(this,"Part");
this.GT=[new fj([15,5,1],0,100,"%"),new fj([12,14,0],1,50,"px"),new fj([12,34],0,100,"%"),new fj([12,2],10,1e3,"%"),new jR(!0),new fj("Time",0,1,null,3),new fj("Turbulence",0,100,"%"),new cG("Blink"),new cG("Fall")];
this.Nf([4])};_.Part.prototype=new _;_.Part.prototype.Gc=function(u,g){g[0]=u.Cont.v;g[1]=u.Size.v;g[2]=u.Dpth.v;
g[3]=u.Brgh.v;g[4]=u.Clr.v;g[5]=u.Time.v;g[6]=u.Turb.v;g[7]=u.Blnk.v;g[8]=u.Fall.v};_.Part.prototype.Qi=function(u,g){u.Cont.v=g[0];
u.Size.v=g[1];u.Dpth.v=g[2];u.Brgh.v=g[3];u.Clr.v=g[4];u.Time.v=g[5];u.Turb.v=g[6];u.Blnk.v=g[7];u.Fall.v=g[8]};
_.Twrl=function(){_.call(this,"Twrl");this.GT=[new fj([12,15],-999,999)];this.Nf()};_.Twrl.prototype=new _;
_.Wave=function(){_.call(this,"Wave");this.ada=[1,2,3,4];this.GT=[new fj("Number of Generators",1,100),new cV("Min Length",1,999),new cV("Max Length",1,999),new cV("Min Ampl.",1,999),new cV("Max Ampl.",1,999),new cV("Scale X",1,100,"%"),new cV("Scale Y",1,100,"%"),new k6([12,44],["Sine","Triangle",[12,93,3]]),new e8([24,18,0],[[24,18,3],[24,18,2]]),new fu("Randomizer Seed")];
this.Nf()};_.Wave.prototype=new _;_.Wave.prototype.Gc=function(u,g){g[0]=u.NmbG.v;g[1]=u.WLMn.v;g[2]=u.WLMx.v;
g[3]=u.AmMn.v;g[4]=u.AmMx.v;g[5]=u.SclH.v;g[6]=u.SclV.v;g[7]=["WvSn","WvTr","WvSq"].indexOf(u.Wvtp.v.Wvtp);
g[8]=["WrpA","RptE"].indexOf(u.UndA.v.UndA);g[9]=u.RndS.v};_.Wave.prototype.Qi=function(u,g){u.NmbG.v=g[0];
u.WLMn.v=g[1];u.WLMx.v=g[2];u.AmMn.v=g[3];u.AmMx.v=g[4];u.SclH.v=g[5];u.SclV.v=g[6];u.Wvtp.v.Wvtp=["WvSn","WvTr","WvSq"][g[7]];
u.UndA.v.UndA=["WrpA","RptE"][g[8]];var K=parseInt(g[9]);if(isNaN(K))K=248325464;K=Math.max(0,Math.min(268435455,K));
u.RndS.v=K;this.GT[9].k(K)};_.ZgZg=function(){_.call(this,"ZgZg");this.GT=[new fj([12,57],-100,100),new fj("Ridges",0,20),new e8([12,22],["Around Center","Out From Center","Pond Ripples"])];
this.Nf()};_.ZgZg.prototype=new _;_.surfaceBlur=function(){_.call(this,"surfaceBlur");this.GT=[new fj([12,56],1,200," px"),new fj([4,13],1,255," px")];
this.Nf()};_.surfaceBlur.prototype=new _;_.surfaceBlur.prototype.Gc=function(u,g){g[0]=u.Rds.v.val;g[1]=u.Thsh.v};
_.surfaceBlur.prototype.Qi=function(u,g){u.Rds.v.val=g[0];u.Thsh.v=g[1]};_.AdNs=function(){_.call(this,"AdNs");
this.GT=[new fj([12,57],0,200," %"),new e8([12,58],[[12,59,1],[12,59,0]]),new cG([12,60])];this.Nf()};
_.AdNs.prototype=new _;_.DstS=function(){_.call(this,"DstS");this.GT=[new fj([12,56],1,200," px"),new fj([4,13],1,255," px")];
this.Nf()};_.DstS.prototype=new _;_["Mdn "]=function(){_.call(this,"Mdn ");this.GT=[new fj([12,56],1,200," px")];
this.Nf()};_["Mdn "].prototype=new _;_["Mdn "].prototype.Gc=function(u,g){g[0]=u.Rds.v.val};_["Mdn "].prototype.Qi=function(u,g){u.Rds.v.val=g[0]};
_.ClrH=function(){_.call(this,"ClrH");this.GT=[new fj([12,56],4,100," px")];for(var P=1;P<4;P++)this.GT.push(new fj("Angle "+P,0,90," \xB0"));
this.Nf()};_.ClrH.prototype=new _;_.ClrH.prototype.Gc=function(u,g){g[0]=u.Rds.v;for(var P=1;P<4;P++)g[P]=u["Ang"+P].v};
_.ClrH.prototype.Qi=function(u,g){u.Rds.v=g[0];for(var P=1;P<4;P++)u["Ang"+P].v=g[P]};_.ClrH.prototype.N=function(){var u=this.GT;
u[0].N();for(var P=1;P<4;P++)u[P].Db(fc.get([12,15])+" "+P)};_.Crst=function(){_.call(this,"Crst");this.GT=[new fj([12,61],3,100," px")];
this.Nf()};_.Crst.prototype=new _;_.Crst.prototype.Gc=function(u,g){g[0]=u.ClSz.v};_.Crst.prototype.Qi=function(u,g){u.ClSz.v=g[0]};
_.Mztn=function(){_.call(this,"Mztn");this.GT.push(new e8([12,44],"Fine Dots,Medium Dots,Grainy Dots,Coarse Dots,Short Lines,Medium Lines,Long Lines,Short Strokes,Medium Strokes,Long Strokes".split(","),null,[4,3,3]));
this.KA="FnDt MdmD GrnD CrsD ShrL MdmL LngL ShSt MdmS LngS".split(" ");this.Nf()};_.Mztn.prototype=new _;
_.Mztn.prototype.Gc=function(u,g){g[0]=this.KA.indexOf(u.MztT.v.MztT)};_.Mztn.prototype.Qi=function(u,g){u.MztT.v.MztT=this.KA[g[0]]};
_["Msc "]=function(){_.call(this,"Msc ");this.GT=[new fj([12,61],2,200," px")];this.Nf()};_["Msc "].prototype=new _;
_["Msc "].prototype.Gc=function(u,g){g[0]=u.ClSz.v.val};_["Msc "].prototype.Qi=function(u,g){u.ClSz.v.val=g[0]};
_.Pntl=function(){_.call(this,"Pntl");this.GT=[new fj([12,61],3,100," px")];this.Nf()};_.Pntl.prototype=new _;
_.Pntl.prototype.Gc=function(u,g){g[0]=u.ClSz.v};_.Pntl.prototype.Qi=function(u,g){u.ClSz.v=g[0]};_.smartSharpen=function(){_.call(this,"smartSharpen");
this.GT=[new fj([12,57],1,200,"%"),new fj([12,56],0,200,"px",1,!0)];this.Nf()};_.smartSharpen.prototype=new _;
_.smartSharpen.prototype.Gc=function(u,g){g[0]=u.Amnt.v.val;g[1]=u.Rds.v.val};_.smartSharpen.prototype.Qi=function(u,g){u.Amnt.v.val=g[0];
u.Rds.v.val=g[1]};_.UnsM=function(){_.call(this,"UnsM");this.GT=[new fj([12,57],1,200," %"),new fj([12,56],.1,400,"px",1,!0),new fj([4,13],0,255," ")];
this.Nf()};_.UnsM.prototype=new _;_.HghP=function(){_.call(this,"HghP");this.GT=[new fj([12,56],.1,400,"px",1,!0)];
this.Nf()};_.HghP.prototype=new _;_.HsbP=function(){_.call(this,"HsbP");this.GT=[new k6("Input",["RGB","HSB","HSL"]),new k6("Output",["RGB","HSB","HSL"])];
this.Nf()};_.HsbP.prototype=new _;_["Mxm "]=function(){_.call(this,"Mxm ");this.GT=[new fj([12,56],.1,200," px",1,!0),new e8([12,76,1],[[12,93,3],"Circle"])];
this.Nf()};_["Mxm "].prototype=new _;_["Mnm "]=function(){_.call(this,"Mnm ");this.GT=[new fj([12,56],.1,200," px",1,!0),new e8([12,76,1],[[12,93,3],"Circle"])];
this.Nf()};_["Mnm "].prototype=new _;_.Ofst=function(){_.call(this,"Ofst");this.GT=[new fj([22,4,0],-1024,1024," px"),new fj([22,4,1],-1024,1024," px"),new e8([24,18,0],[[24,18,2],[24,18,1],[24,18,3]])];
this.Nf()};_.Ofst.prototype=new _;_.Kale=function(){_.call(this,"Kale");this.GT=[new cV("Mirrors",2,20),new cV([12,15],0,360,"\xB0")];
this.Nf()};_.Kale.prototype=new _;_.Kale.prototype.Gc=function(u,g){g[0]=u.Mirr.v;g[1]=u.MRot.v};_.Kale.prototype.Qi=function(u,g){u.Mirr.v=g[0];
u.MRot.v=g[1]};_.Rept=function(){_.call(this,"Rept");this.GT=[new cV([12,38],1,300," %"),new cV("Row Shift",-50,50," %"),new cV("Space X",-99,200," %"),new cV("Space Y",-99,200," %"),new cG([4,16,2]),new bn([12,15])];
this.Nf()};_.Rept.prototype=new _;_.Rept.prototype.Gc=function(u,g){g[0]=u.Scl.v.val;g[1]=u.Rsft.v.val;
g[2]=u.SpcX.v.val;g[3]=u.SpcY.v.val;g[4]=u.SpcC.v;g[5]=[u.Angl.v]};_.Rept.prototype.Qi=function(u,g){u.Scl.v.val=g[0];
u.Rsft.v.val=g[1];u.SpcX.v.val=g[2];u.SpcY.v.val=g[3];u.SpcC.v=g[4];u.Angl.v=g[5][0];return u};_.Ctoa=function(){_.call(this,"Ctoa");
this.GT=[new g5([13,0]),new jR(!0),new fj(["VAR0 VAR1","Transparency",[4,13]],0,100," %"),new fj(["VAR0 VAR1",[12,0],[4,13]],0,100," %")];
this.Nf()};_.Ctoa.prototype=new _;_.Ctoa.prototype.Gc=function(u,g){g[0]=u.Clr.v;g[1]=u.Trsp.v.val;g[2]=u.Opct.v.val};
_.Ctoa.prototype.Qi=function(u,g){u.Clr.v=g[0];u.Trsp.v.val=g[1];u.Opct.v.val=g[2]};_.LqFy=function(){_.call(this,"LqFy");
this.VH=!1;this.$E=!1;this.Kj=null;this.aaa=null;this.b=0;this.gy=-1;this.W={sC:[[{b:{id:0,name:[24,1,0,1,0],Tt:"liq/smudge"}}],[{b:{id:1,name:[24,1,0,1,1],Tt:"liq/reconstruct"}}],[{b:{id:2,name:[24,1,0,1,2],Tt:"liq/smooth"}}],[{b:{id:3,name:[24,1,0,1,3],Tt:"liq/twirl"}}],[{b:{id:4,name:[24,1,0,1,4],Tt:"liq/shrink"}}],[{b:{id:5,name:[24,1,0,1,5],Tt:"liq/blow"}}],[{b:{id:6,name:[24,1,0,1,6],Tt:"liq/pleft"}}],[{b:{id:7,name:"Hand",Tt:"tools/hand"}}],[{b:{id:8,name:"Zoom In",Tt:"zoomIn"}}],[{b:{id:9,name:"Zoom Out",Tt:"zoomOut"}}]],keys:[]};
this.Z8=new al(this.W,!1);this.Z8.NC(0);this.Z8.f(h.E.Y,this.a7j,this);this.rw=cO.Nt();this.FD=null;
this.j2=[];this.kw=-1;this.vJ=null;this.a1Y=null;this.Ht=null;this.RW=null;this.Lx=null;var u=b.V("div","flexrow");
this.Og=u;this.e.appendChild(u);u.appendChild(this.Z8.e);this.view=new fE(!0);this.view.rc(100,100);
this.view.f("mousedown",this.o1,this);this.view.f("mousemove",this.XS,this);this.view.f("mouseup",this.ws,this);
this.view.f("zoom",this.Hb,this);u.appendChild(this.view.e);var g=b.V("div","form");u.appendChild(g);
this.O9=g;g.style.width="230px";this._q=[new fj([12,14,0],0,1e3,null,!1,!0),new fj([12,74],0,100,null,!1,!1),new fj([12,84],0,100,null,!1,!1),new cG([12,46]),new fj([12,0],0,100,null,!1,!1),new cG([24,18,5])];
var K=this.rw.Brsh.v;K.Dmtr.v.val=100;var X=[100,50,100,!1,100,!0];for(var P=0;P<this._q.length;P++){var w=this._q[P];
w.k(X[P]);if(P==4)w.ik();w.f(h.E.o,this.arO,this);g.appendChild(w.e)}var D=this.acz=new dM([1,12,2],!0,null,!0);
D.f("click",this.xu,this);g.appendChild(D.e);this.a65=this.mF.bind(this);this.z5=new i6;this.z5.e=b.V("div","floatcont");
this.lm=new dM("Menu",!1,null,!0);var q=this.lm.e;q.setAttribute("style","position:absolute; right:13px; top:47px");
b.hh(q,this.auv.bind(this))};_.LqFy.prototype=new _;_.LqFy.prototype.Gh=function(){return!0};_.LqFy.prototype.Xl=function(u){this.O9.appendChild(u)};
_.LqFy.prototype.auv=function(u){if(b.tV(this.z5.e))return;u.stopPropagation();var g=this.lm.e.getBoundingClientRect();
this.z5.e.appendChild(this.O9);var K=new eG(h.E.Y,!0);K.data={d:h.s.dC,qD:this.z5,x:g.right+g.width-290,y:g.top+g.height};
this.c(K)};_.LqFy.prototype.BF=function(u){this.VH=u.a(hW.Dd);var g=R.Xo.HP(this.rw,u);if(g!=null){this.rw=g;
this.Hb();this._q[0].k(g.Brsh.v.Dmtr.v.val)}else if(u.a(hW.A5)&&u.a(hW.QN)){var K=this.j2;if(u.a(hW.jl)){if(this.kw+1<K.length)this.kw++}else if(this.kw>0)this.kw--;
this.FD.map=K[this.kw].slice(0);this.Fc(null)}else if(this.b<=6)this.view.BF(u);var X=this.b,w=-1,D=u.a(hW.Dd);
if(D&&this.gy==-1){if(X==0)w=1;if(X==4)w=5;if(X==5)w=4;if(w!=-1)this.gy=X}if(!D&&this.gy!=-1){w=this.gy;
this.gy=-1}if(w!=-1){this.b=w;this.Z8.NC(this.b)}};_.LqFy.prototype.a7j=function(u){if(u.data.d==h.s.LK){var g=this.b=u.data.b;
this.Z8.NC(this.b);this.view.BF(g>6?fE.a3D(g-7):new hW)}};_.LqFy.prototype.arO=function(u){var g=u.currentTarget,P=this._q.indexOf(g),K=this.rw.Brsh.v;
if(P==0){K.Dmtr.v.val=g.C();this.Hb()}this._q[4].Tm(this._q[3].C());if(P>2)this.Fc(null)};_.LqFy.prototype.Zu=function(){var u=this.j2;
this.kw++;u[this.kw]=this.FD.map.slice(0);while(u.length>this.kw+1)u.pop();while(u.length>50){u=u.slice(1);
this.kw--}};_.LqFy.prototype.o1=function(u){this.Kj=this.view.ip();this.aaa=new j4(0,0);this.$E=!0;window.requestAnimationFrame(this.a65)};
_.LqFy.prototype.XS=function(u){var g=this.view.ip(),K=new j4(g.x-this.Kj.x,g.y-this.Kj.y);if(this.b==0||this.b==6)this.atK(K);
this.Kj=g};_.LqFy.prototype.ws=function(u){this.Zu();this.$E=!1};_.LqFy.prototype.mF=function(u){if(this.b!=0&&this.b!=6)this.atK(new j4(0,0));
if(this.$E)window.requestAnimationFrame(this.a65)};_.LqFy.prototype.atK=function(u){var g=this.FD,K=g.QM/this.vJ.m,X=this.Kj,w=this.rw.Brsh.v,D=w.Dmtr.v.val,q=Date.now(),C=g.QM,a=g.xQ,x=Math.sqrt(u.x*u.x+u.y*u.y),H=Math.max(1,Math.ceil(x/2)),$=u.x/H,r=u.y/H,c=X.clone(),U=this.b,O=this._q[1].C()/100,A=this._q[2].C()/100,m=[.005,.015,0,0,.2,.2,.01,.01,.05,.35,.1,.1,.005,.015],i=m[U*2],e=m[U*2+1],S=(1-O)*i+O*e,E=D*K/2;
for(var P=0;P<H;P++){var Z=[];c.x+=$;c.y+=r;f.Ub.a8A(g.map,C,a,U,c.x*K,c.y*K,E,O,A,$*K,r*K,Z,this.VH);
f.Ub.ajQ(C,a,g.map,Z,2*S*A)}var N=new dS(0,0,C,a),J=new dS(X.x*K,X.y*K,0,0);J.wu(D*K*.5,D*K*.5);var y=J.clone();
y.offset(u.x*K,u.y*K);J=J.RN(y);var o=new dS(J.x/K,J.y/K,J.m/K,J.n/K);o=f.p.Cf(o).I3(this.vJ);this._q[5].k(!0);
this.Fc(o)};_.LqFy.prototype.Hb=function(){var u=aM.n7(this.rw,null,this.view.lI().P);this.view.tW(u)};
_.LqFy.prototype.k=function(u,g,K,X,w){K=K.clone();if(g==null)return;if(!X.$z(K)){var D=K.RN(X),q=f.L(D.$()*4);
f.bV(g,K,q,D);g=q;K=D;var C=f.L(D.$()*4);f.bV(w,X,C,D);w=C}K.x=K.y=0;this.Ht=g;this.a1Y=w;this.Lx=g.slice(0);
this.RW=g.slice(0);this.vJ=K;this.FD=ix.h7(new Uint8Array(u.LqMe.v).buffer);var a=K.m,x=K.n;if(this.FD.QM/a<.22){this.FD={QM:Math.floor(a/4),xQ:Math.floor(x/4)};
this.FD.map=new Float32Array(this.FD.QM*this.FD.xQ*2)}this.j2=[];this.kw=-1;this.Zu();this.Fc(null);
this.view.sS();this.Hb()};_.LqFy.prototype.C=function(){var u=dJ.mt("LqFy"),g=new Uint8Array(ix.hA(this.FD)),K=[];
for(var P=0;P<g.length;P++)K.push(g[P]);u.LqMe.v=K;return u};_.LqFy.prototype.rc=function(u,g){this.Z8.rc(u,g);
var K=this.lm.e,X=this.O9;this.Og.appendChild(X);this.Og.appendChild(K);if(u>450&&u-g>200){X.style.marginLeft="1em";
this.Og.removeChild(K);this.view.rc(u-238-45,g)}else{X.style.marginLeft="";this.Og.removeChild(X);this.view.rc(u-40,g)}};
_.LqFy.prototype.N=function(){this.Z8.N();this.acz.N();for(var P=0;P<this._q.length;P++)this._q[P].N()};
_.LqFy.prototype.xu=function(){this.FD.map.fill(0);this.Zu();this.Fc(null)};_.LqFy.prototype.Fc=function(u){var g=this.vJ,K=this.Ht,X=this.Lx,w=this.FD;
if(this._q[5].C())f.Ub.v9(K,this.RW,g.m,g.n,u,w.map,w.QM,w.xQ,0);else this.RW.set(K);if(this._q[3].dc()){f.bV(this.a1Y,g,X,g,u?u:g);
f.i.L_("norm",this.RW,g,X,g,u?u:g,this._q[4].C()/100)}else f.me(this.RW,X);this.view.k([{ZE:g,data:X.buffer}])};
_.GEfc=function(){_.call(this,"GEfc");this.Fk=0;this.vS=0;this.Ht=null;this.Lx=null;this.vJ=null;this.nC=null;
this.iJ=null;this.pS=0;var u=b.V("div","flexrow");this.Og=u;this.e.appendChild(u);this.view=new fE(null);
this.view.rc(100,100);u.appendChild(this.view.e);this.W8="";this.BU=270;var g=this.kD=b.V("div","form scrollable");
u.appendChild(g);g.setAttribute("style","width:"+this.BU+"px;  margin-left:10px");var K=this.ht=b.V("div","form");
u.appendChild(K);K.setAttribute("style","width:230px;  margin-left:1em");this.vu={};for(var X in hq.names){var w=new _.GEfc.gb(X);
w.parent=this;this.vu[X]=w;w.f(h.E.o,this.asA,this)}this.ru=!0;this.lm=new dM("Menu",null,null,!0);this.lm.f("click",this.a1T,this);
u.appendChild(this.lm.e);this.d9=new dM(">>",null,null,!0);this.d9.f("click",this.aj4,this);K.appendChild(this.d9.e);
this.Fa=b.V("div");this.Fa.setAttribute("style","margin-bottom:1.5em;  display:inline-block;  width:calc(100% - 40px);");
K.appendChild(this.Fa);this.Fr=b.V("div");this.Fr.style.minHeight="14em";this.Fr.style.marginBottom="1em";
K.appendChild(this.Fr);this.hg=b.V("div","lpbody scrollable");this.Da=b.V("div","lpfoot");K.appendChild(this.hg);
K.appendChild(this.Da);this.f("click",this.a2m,this);this.mk=[];gZ.ID([[5,3],[5,4]],this.mk,this.Da,this.Ln.bind(this))};
_.GEfc.prototype=new _;_.GEfc.prototype.Gh=function(){return!0};_.GEfc.prototype.Xl=function(u){this.Fa.appendChild(u)};
_.GEfc.prototype.xY=function(u,g){this.nC=u};_.GEfc.prototype.aj4=function(u){var g=this.kD.style.display!="none";
this.kD.style.display=g?"none":"";this.d9.Db(g?"<<":">>");this.rc()};_.GEfc.prototype.a1T=function(u){this.ru=!this.ru;
this.rc()};_.GEfc.prototype.rc=function(u,g){var K=this.kD.style.display!="none";if(u!=null){this.Fk=u;
this.vS=g;if(u<1e3&&K||u>=1e3&&!K){this.aj4();K=!K}this.ru=u>600}else{u=this.Fk;g=this.vS}var X=this.ru?240+(K?this.BU+10:0):0;
if(b.tV(this.ht)&&!this.ru){this.Og.removeChild(this.kD);this.Og.removeChild(this.ht)}if(!b.tV(this.ht)&&this.ru){this.Og.appendChild(this.kD);
this.Og.appendChild(this.ht)}this.kD.style.height=g+"px";this.view.rc(u-X,g);this.hg.style.height=g-this.Fr.getBoundingClientRect().height-96+"px";
this.lm.e.setAttribute("style","position:absolute; top:46px;  right:"+(X+16)+"px")};_.GEfc.prototype.aiK=function(){var u=eH.bW.get("img/beach",!0)[0],g=u.ZE,K=this.kD,X=Math.floor(b.Z()*(this.BU-40)/3),w=~~(X*.7),D=new dS(0,0,X,w),q=f.L(X*w*4),C=q.slice(0),a=Math.round(10*b.Z()),x=new ImageData(new Uint8ClampedArray(C.buffer),X,w);
f.bV(new Uint8Array(u.data),g,q,new dS(Math.round((g.m-X)/2),Math.round((g.n-w)/2),X,w));var H=b.V("canvas"),$=H.getContext("2d");
H.width=X;H.height=w+Math.round(a*1.5);$.font=a+"px sans-serif";this.dY={};var r=this.abj.bind(this);
for(var P=0;P<hq.Jy.length;P++){var c=hq.Jy[P],U=b.V("div");K.appendChild(U);U.setAttribute("style","background-color:rgba(0,0,0,0.2); padding:0px 8px; margin-bottom:8px");
U.textContent=fc.get(c);for(var O in hq.names){var A=hq.names[O];if(A[0]!=P)continue;hq.o4(O,{rect:D,buffer:q},hq.mt(O),{w:0,A:0,U:0},{w:255,A:255,U:255},{rect:D,buffer:C},{});
$.fillStyle="black";$.fillRect(0,0,500,500);$.putImageData(x,0,0);var m=fc.get(A[1]);$.fillStyle="white";
$.fillText(m,(X-$.measureText(m).width)/2,w+Math.round(a*1.1));var i=b.V("div");K.appendChild(i);i.setAttribute("style","display:inline-block; cursor:pointer; padding: 5px 5px 0 5px; margin-bottom:5px");
i.addEventListener("click",r,!1);var U=b.V("img");i.appendChild(U);U.setAttribute("src",H.toDataURL());
U.setAttribute("style","width:"+X/b.Z()+"px; margin-bottom:0px;");this.dY[O]=i}}};_.GEfc.prototype.abj=function(u){var g;
for(var K in this.dY)if(this.dY[K]==u.currentTarget)this.W8=K;this.asA()};_.GEfc.prototype.Ln=function(u){var g=gZ.fM(this.mk,u),K=this.iJ.GEfs.v,X=K[this.pS].v;
if(g==0){K.push(JSON.parse(JSON.stringify(K[this.pS])));this.pS=K.length-1}else if(K.length>1){K.splice(this.pS,1);
if(this.pS==K.length)this.pS--}this.g7();this.Fc()};_.GEfc.prototype.asA=function(u){var g=this.W8,K;
if(u==null)K=hq.mt(g);else K=this.vu[g].C();this.iJ.GEfs.v[this.pS].v=K;this.g7();this.Fc()};_.GEfc.prototype.k=function(u,g,K,X,w){if(this.dY==null)this.aiK();
u=this.iJ=JSON.parse(JSON.stringify(u));if(u.GEfs==null)u=this.iJ={__name:"Filter Gallery",classID:"GEfc",GEfs:{t:"VlLs",v:[{t:"Objc",v:u}]}};
var D=u.GEfs.v;for(var P=0;P<D.length;P++)if(D[P].v.GELv==null)D[P].v.GELv={t:"bool",v:!0};this.pS=D.length-1;
this.g7();K=K.clone();if(g==null)return;if(!X.$z(K)&&hq.RF(u).x!=0){var q=K.RN(X),C=f.L(q.$()*4);f.bV(g,K,C,q);
g=C;K=q}K.x=K.y=0;this.Ht=g;this.Lx=g.slice(0);this.vJ=K;this.Fc();this.view.sS()};_.GEfc.prototype.a2m=function(u){var g=u.data,P=g.Mw,K=this.iJ.GEfs.v;
if(g.xx){K[P].v.GELv.v=!K[P].v.GELv.v;this.Fc()}else this.pS=P;this.g7()};_.GEfc.prototype.g7=function(){var u=this.iJ.GEfs.v,g=u[this.pS].v,K=g.GEfk.v.GEft,X=this.Fr;
if(hq.names[K]==null){alert("Unsupported gallery filter");b.Lh(X)}else{this.W8=K;for(var w in this.dY)b._n(this.dY[w],"selected");
b.AD(this.dY[K],"selected");var D=this.vu[K];D.k(g);if(X.firstChild!=D.e){b.Lh(X);X.appendChild(D.e)}}var q=[];
for(var P=0;P<u.length;P++){var C=u[P].v,a=hq.names[C.GEfk.v.GEft],x=new er(P,!0,!0,null,a?a[1]:"Filter",P==this.pS,C.GELv.v);
x.parent=this;q.push(x.e)}b.Lh(this.hg);q.reverse();for(var P=0;P<q.length;P++)this.hg.appendChild(q[P]);
this.rc()};_.GEfc.prototype.C=function(){return JSON.parse(JSON.stringify(this.iJ))};_.GEfc.prototype.Fc=function(u){var g=this.vJ,K=this.Ht,X=this.Lx,w=this.W8,D=this.iJ,q=this.nC;
function C(a){return{w:a>>>16,A:a>>>8&255,U:a&255}}dJ.o4("GEfc",{rect:this.vJ,buffer:this.Ht},D,C(q.FK),C(q.ui),{rect:this.vJ,buffer:this.Lx},null);
this.view.k([{ZE:g,data:X.buffer}])};_.GEfc.prototype.N=function(){for(var u in this.vu)this.vu[u].N();
gZ.fh(this.mk,["lrs/newlayer","lrs/bin"])};_.GEfc.gb=function(u){i6.call(this);this.lv=u;this.e=b.V("div");
this.X8={};var g=hq.mt(u);for(var K in g){var X=null;if(K=="__name"||K=="classID"||K=="GEfk"||K=="GELv"||["FlRs"].indexOf(K)!=-1)continue;
else if(K=="EdgW")X=new fj("Edge Width",1,14);else if(K=="EdgB")X=new fj("Edge Brightness",0,u=="AccE"?50:20);
else if(K=="Smth")X=new fj([19,3,3],1,u=="Stmp"?50:15);else if(K=="ClSz")X=new fj([12,61],3,100);else if(K=="BrdT")X=new fj([7,9],1,20);
else if(K=="HghS")X=new fj([12,64],0,20);else if(K=="HlSz")X=new fj([12,14,0],1,15);else if(K=="Cntr")X=new fj([12,3,0],0,u=="WtrP"?100:50);
else if(K=="Shrp")X=new fj("Sharpness",0,40);else if(K=="SprR")X=new fj("Spray Radius",0,25);else if(K=="LgDr")X=new fj("Light/Dark Balance",0,u=="Stmp"?50:100);
else if(K=="Drkn")X=new fj("Darkness",1,50);else if(K=="Dstr")X=new fj("Distortion",0,20);else if(K=="Scln")X=new fj([12,38],50,200);
else if(K=="Rlf")X=new fj("Relief",0,u=="Ptch"||u=="NtPr"?25:50);else if(K=="ChAm")X=new fj("Thickness",1,7);
else if(K=="Pncl")X=new fj([19,2,5],1,30);else if(K=="StrP")X=new fj("Stroke Pressure",0,15);else if(K=="PprB")X=new fj("Paper Brightness",0,50);
else if(K=="BrsS")X=new fj("Brush Size",0,10);else if(K=="BrsD")X=new fj("Brush Detail",0,10);else if(K=="Txtr")X=new fj([12,67],1,3);
else if(K=="Grn")X=new fj("Grain",0,20);else if(K=="HghA")X=new fj("Highlight Area",0,20);else if(K=="Intn")X=new fj("Intensity",0,10);
else if(K=="Brgh")X=new fj("Glow Brightness",0,u=="WtrP"?100:50);else if(K=="StrS")X=new fj("Stroke Size",1,50);
else if(K=="StDt")X=new fj("Stroke Detail",1,3);else if(K=="Sftn")X=new fj("Softness",0,10);else if(K=="EdgT")X=new fj("Edge Thickness",0,10);
else if(K=="EdgI")X=new fj("Edge Intensity",0,10);else if(K=="Pstr")X=new fj("Posterization",0,6);else if(K=="Dfnt")X=new fj("Definition",0,25);
else if(K=="TxtC")X=new fj("Texture Coverage",0,50);else if(K=="ShdI")X=new fj("Shadow Intensity",0,10);
else if(K=="DrcB")X=new fj("Direction Balance",0,100);else if(K=="Strg")X=new fj([12,64],1,3);else if(K=="Blnc")X=new fj("Balance",0,10);
else if(K=="BlcI")X=new fj("Black Intensity",0,10);else if(K=="WhtI")X=new fj("White Intensity",0,10);
else if(K=="DrkI")X=new fj("Dark Intensity",0,50);else if(K=="LghI")X=new fj("Light Intensity",0,50);
else if(K=="StrW")X=new fj("Stroke Width",3,15);else if(K=="Grns")X=new fj("Graininess",0,u=="NtPr"?20:10);
else if(K=="GlwA")X=new fj("Glow Amount",0,20);else if(K=="ClrA")X=new fj("Clear Amount",0,20);else if(K=="ChrA")X=new fj("Charcoal Area",0,20);
else if(K=="ChlA")X=new fj("Chalk Area",0,20);else if(K=="FrgL")X=new fj("Foreground Level",1,15);else if(K=="BckL")X=new fj("Background Level",1,15);
else if(K=="WhtL")X=new fj("Background Level",0,50);else if(K=="BlcL")X=new fj("Foreground Level",0,50);
else if(K=="ImgB")X=new fj("Image Balance",0,50);else if(K=="Dnst")X=new fj([12,74],0,50);else if(K=="FbrL")X=new fj("Fiber Length",3,50);
else if(K=="CrcS")X=new fj("Crack Sapcing",2,100);else if(K=="CrcD")X=new fj("Crack Depth",0,10);else if(K=="CrcB")X=new fj("Crack Brightness",0,10);
else if(K=="TlSz")X=new fj("Tile Size",2,100);else if(K=="GrtW")X=new fj("Grout Width",1,15);else if(K=="LghG")X=new fj("Lighten Grout",0,10);
else if(K=="SqrS")X=new fj("Square Size",0,10);else if(K=="RplS")X=new fj("Ripple Size",1,15);else if(K=="RplM")X=new fj("Ripple Magnitude",0,20);
else if(K=="NmbL")X=new fj("Number of Levels",2,8);else if(K=="EdgS")X=new fj("Edge Simplicity",0,10);
else if(K=="EdgF")X=new fj("Edge Fidelity",1,3);else if(K=="Sz")X=u=="NGlw"?new fj("Glow Size",-24,24):new fj("Brush Size",1,50);
else if(K=="Dtl")X=u=="Chrc"?new fj("Detail",0,5):new fj("Detail",1,15);else if(K=="StrL")X=u=="InkO"?new fj("Stroke Length",1,50):new fj("Stroke Length",0,20);
else if(K=="TxtT")X=new e8([12,67],"Blocks,Canvas,Frosted,Tiny Lens,Bricks,Burlap,Sandstone".split(","));
else if(K=="BrsT")X=new e8("Brush Type","Simple,Light Rough,Dark Rough,Wide Sharp,Wide Blurry,Sparkle".split(","));
else if(K=="Grnt")X=new e8("Grain Type","Regular Soft Sprinkles Clumped Contrasty Enlarged Stippled Horizontal Vertical Speckle".split(" "));
else if(K=="SDir")X=new e8([12,33],["Right Diagonal","Horizontal","Left Diagonal","Vertical"]);else if(K=="ScrT")X=new e8([12,62],["Circle","Dot",[10,35]]);
else if(K=="LghD"||K=="LghP")X=new e8("Light","Bottom,Bottom Left,Left,Top Left,Top,Top Right,Right,Bottom Right".split(","));
else if(K=="Clr")X=new jR("Glow Color");else if(K=="InvT")X=new cG([4,11]);else console.log(K);X.f(h.E.o,this.HQ,this);
X.parent=this;this.X8[K]=X;this.e.appendChild(X.e)}};_.GEfc.gb.prototype=new i6;_.GEfc.gb.prototype.HQ=function(u){this.c(new eG(h.E.o,!1))};
_.GEfc.asg="Sz Dtl Shrp EdgW EdgB Smth ClSz BrdT HghS HlSz Cntr SprR StrL LgDr Drkn Dstr Scln Rlf ChAm InvT RplS RplM Pncl StrP PprB BrsS BrsD Txtr Grn HghA Intn Brgh Clr StrS StDt Sftn EdgT EdgI Pstr Dfnt TxtC ShdI DrcB Strg Blnc BlcI WhtI DrkI LghI StrW Grns GlwA ClrA ChrA ChlA FrgL BckL WhtL BlcL ImgB Dnst FbrL CrcS CrcD CrcB TlSz GrtW LghG SqrS NmbL EdgS EdgF".split(" ");
_.GEfc.gb.prototype.k=function(u){for(var g in this.X8){var K;if(_.GEfc.asg.indexOf(g)!=-1)K=u[g].v;
else if(g=="TxtT")K=hq.wM.indexOf(u[g].v[g]);else if(g=="BrsT")K=hq.auO.indexOf(u[g].v[g]);else if(g=="LghD")K=hq.Z6.indexOf(u[g].v[g]);
else if(g=="LghP")K=hq.XK.indexOf(u[g].v[g]);else if(g=="Grnt")K=hq.f6.indexOf(u[g].v[g]);else if(g=="ScrT")K=hq.X3.indexOf(u[g].v[g]);
else if(g=="SDir")K=hq.du.indexOf(u[g].v.StrD);this.X8[g].k(K)}};_.GEfc.gb.prototype.C=function(){var u=hq.mt(this.lv);
for(var g in this.X8){var K=this.X8[g].C();if(_.GEfc.asg.indexOf(g)!=-1)u[g].v=K;else if(g=="TxtT")u[g].v[g]=hq.wM[K];
else if(g=="BrsT")u[g].v[g]=hq.auO[K];else if(g=="LghD")u[g].v[g]=hq.Z6[K];else if(g=="LghP")u[g].v[g]=hq.XK[K];
else if(g=="Grnt")u[g].v[g]=hq.f6[K];else if(g=="ScrT")u[g].v[g]=hq.X3[K];else if(g=="SDir")u[g].v.StrD=hq.du[K]}return u};
_.GEfc.gb.prototype.N=function(){for(var u in this.X8)this.X8[u].N()};_.blnc=function(){_.call(this);
var u=this.e;this._b=null;this.GR=new e8([12,12],[[19,6,0],[19,6,1],[19,6,2]]);this.GR.f(h.E.o,this.Fc,this);
u.appendChild(this.GR.e);this.qy=[];for(var P=0;P<3;P++){var g=new fj(jO.Kh[P],-100,100);g.f(h.E.o,this.p$,this);
this.qy.push(g);u.appendChild(g.e)}this.EX=new cG([13,4]);this.EX.f(h.E.o,this.p$,this);u.appendChild(this.EX.e)};
_.blnc.prototype=new _;_.blnc.prototype.N=function(){this.GR.N();for(var P=0;P<3;P++)this.qy[P].N();
this.EX.N()};_.blnc.prototype.k=function(u){this._b=JSON.parse(JSON.stringify(u));this.Fc()};_.blnc.prototype.C=function(u){var g=["ShdL","MdtL","HghL"],K=this._b[g[this.GR.C()]].v;
for(var P=0;P<3;P++)K[P].v=this.qy[P].C();this._b.PrsL.v=this.EX.C();return JSON.parse(JSON.stringify(this._b))};
_.blnc.prototype.Fc=function(u){var g=["ShdL","MdtL","HghL"],K=this._b[g[this.GR.C()]].v;for(var P=0;
P<3;P++)this.qy[P].k(K[P].v);this.EX.k(this._b.PrsL.v)};_.brit=function(){_.call(this,"brit");this.GT.push(new fj([12,2],-150,150,""));
this.GT.push(new fj([12,3,0],-100,100,""));this.GT.push(new cG([12,3,1]));this.Nf()};_.brit.prototype=new _;
_.brit.prototype.Gc=function(u,g){g[0]=u.Brgh?u.Brgh.v:0;g[1]=u.Cntr?u.Cntr.v:0;g[2]=u.useLegacy?u.useLegacy.v:!1};
_.brit.prototype.Qi=function(u,g){u.Brgh.v=g[0];u.Cntr.v=g[1];u.useLegacy.v=g[2]};_.curv=function(){_.call(this);
this.value=null;this.Ia=null;var u=this.e;this.V2=new e8([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.V2.f(h.E.o,this.P2,this);u.appendChild(this.V2.e);this.pI=new e8(null,["Spline","Sketch"]);this.pI.f(h.E.o,this.atz,this);
u.appendChild(this.pI.e);this.$G=new hR;this.$G.parent=this;this.$G.f(h.E.o,this.Cz,this);u.appendChild(this.$G.e);
b.d_(u);this.SF=new h9;this.SF.f(h.E.o,this.nH,this);u.appendChild(this.SF.e);this.Y7=null;this.afJ=0;
this.p4=0;b.d_(u);this.dv=new fK("Sample from image",k6.N1(["-\u2195","#000000","#888888","#ffffff"]),!0,null,!0);
this.dv.f(h.E.o,this.vx,this);this.dv.e.style.marginRight="0";u.appendChild(this.dv.e)};_.curv.prototype=new _;
_.curv.prototype.rc=function(u,g){this.SF.rc(u,g)};_.curv.prototype.N=function(){this.V2.N()};_.curv.prototype.atz=function(u){var g=db.Bi(this.value,0),K=g.length==256?1:0,X=this.pI.C();
if(K==X)return;var w=dJ.mt("curv");if(X==1){var D=[];for(var P=0;P<256;P++)D.push(P);db.mu(w,0,D)}this.k(w);
this.p$()};_.curv.prototype.nH=function(){db.mu(this.value,this.V2.C(),this.SF.C());this.p$()};_.curv.prototype.P2=function(){var u=this.V2.C(),g=db.Bi(this.value,u),K=g.length==256?1:0;
this.pI.k(K);if(this.Ia)this.SF.RQ(this.Ia[u],this.Ia[4]*[1,.33,.33,.33][u],["#ccc","#fcc","#cfc","#ccf"][u]);
this.SF.k(g)};_.curv.prototype.HI=function(){return!0};_.curv.prototype.R4=function(u,g,K,X,w){var D=this.value;
this.value=dJ.mt("curv");this.p$();var q=R.U2.RG(u,w,1),C=this.Y7=[q>>>16&255,q>>>8&255,q&255];this.afJ=w.y;
var a=this.dv.C().indexOf(!0);if(a==0){var x=(C[0]+C[1]+C[2])/3,H=this.V2.C(),$=db.Bi(D,H),r=H==0?x:C[H-1],c=-1;
for(var P=0;P<$.length;P++)if($[P].v.Hrzn.v==r)c=P;if(c==-1){var U=JSON.parse(JSON.stringify($[0]));
U.v.Hrzn.v=r;U.v.Vrtc.v=r;$.push(U);$.sort(function(O,A){return O.v.Hrzn.v-A.v.Hrzn.v});db.mu(D,H,$);
this.p4=$.indexOf(U)}else this.p4=c}this.k(D);this.p$()};_.curv.prototype.ai=function(u,g,K,X,w){if(this.Y7==null)return;
if(this.dv.C().indexOf(!0)==0){var D=this.value,q=this.V2.C(),C=db.Bi(D,q),a=C[this.p4];a.v.Vrtc.v=Math.max(0,Math.min(255,Math.round(a.v.Hrzn.v+(this.afJ-w.y))));
db.mu(D,q,C);this.k(D);this.p$()}};_.curv.prototype.RB=function(u,g,K,X,w){var D=this.value,q=this.Y7,C=(q[0]+q[1]+q[2])/3,a=this.dv.C().indexOf(!0)-1;
if(a<=-1){}else for(var P=0;P<3;P++){var x=db.Bi(D,1+P);if(a==0)x[0].v.Hrzn.v=q[P];if(a==1){var H=Math.log(q[P]/255)/Math.log(C/255),$=Math.min(999,Math.max(10,Math.round(100*H)));
if(x.length==2)x.splice(1,0,JSON.parse(JSON.stringify(x[0])));x[1].v.Hrzn.v=127-Math.log($/100)*127;
x[1].v.Vrtc.v=127}if(a==2)x[x.length-1].v.Hrzn.v=q[P];db.mu(D,1+P,x)}this.k(D);this.p$();this.Y7=null};
_.curv.prototype.k=function(u){this.value=u;this.P2()};_.curv.prototype.RQ=function(u){this.Ia=u;this.P2()};
_.curv.prototype.C=function(u){return JSON.parse(JSON.stringify(this.value))};_.curv.prototype.Cz=function(){var u=this.$G.C(),g=this.Ia,K=this.value,X=f.wK(u,g);
for(var P=0;P<4;P++){var w=X[P][0],D=X[P][1],q=X[P][2],C=[f.f1.an(w,0,!0),f.f1.an(D,255,!0)];if(q!=null)C.splice(1,0,f.f1.an(128,q,!0));
db.mu(K,P,C)}this.P2();this.p$()};_.expA=function(){_.call(this,"expA");this.GT.push(new fj([12,5],-20,20,null,2,!0));
this.GT.push(new fj([12,6],-.5,.5,null,2));this.GT.push(new fj([12,7],.01,9.99,null,2,!0));this.Nf()};
_.expA.prototype=new _;_.expA.prototype.Gc=function(u,g){g[0]=u.Exps.v;g[1]=u.Ofst?u.Ofst.v:0;g[2]=u.gammaCorrection?u.gammaCorrection.v:1};
_.expA.prototype.Qi=function(u,g){u.Exps={t:"doub",v:g[0]};u.Ofst={t:"doub",v:g[1]};u.gammaCorrection={t:"doub",v:g[2]}};
_.grdm=function(){_.call(this,"grdm");this.GT.push(new hJ(!0,null,!0));this.GT.push(new cG([12,23,0]));
this.Nf()};_.grdm.prototype=new _;_.grdm.prototype.Gc=function(u,g){g[0]=u.Grad.v;g[1]=u.Rvrs?u.Rvrs.v:!1};
_.grdm.prototype.Qi=function(u,g){u.Grad.v=g[0];u.Rvrs={t:"bool",v:g[1]}};_.grdm.prototype.xY=function(u,g){this.GT[0].AT(u.FK,u.ui);
if(g==hO.Jr||g==hO.YJ||g==hO.WQ)this.GT[0].QC(u.N3)};_.selc=function(){_.call(this);var u=this.e;this.pG=[];
this.Oj=null;this.GR=new e8([12,82],jO.pq.concat([[13,1,8],[13,1,13],[13,1,10]]));this.GR.f(h.E.o,this.HQ,this);
u.appendChild(this.GR.e);b.d_(u);for(var P=0;P<4;P++){var g=new fj(jO.arf[P],-100,100,"%");g.f(h.E.o,this.HQ,this);
this.pG.push(g);u.appendChild(g.e)}this.An=new cG([13,3]);u.appendChild(this.An.e);this.An.f(h.E.o,this.HQ,this)};
_.selc.prototype=new _;_.selc.prototype.N=function(){this.GR.N();this.An.N();for(var P=0;P<4;P++)this.pG[P].N()};
_.selc.prototype.k=function(u){this.Oj=JSON.parse(JSON.stringify(u));this.Fc()};_.selc.prototype.C=function(u){return JSON.parse(JSON.stringify(this.Oj))};
_.selc.prototype.HQ=function(u){if(u.target!=this.GR){var g=this.Oj,K=[];for(var P=0;P<4;P++)K[P]=this.pG[P].C();
hr.mu(g,this.GR.C(),K);g.Mthd={t:"enum",v:{CrcM:this.An.C()?"Absl":"Rltv"}}}this.Fc();this.p$()};_.selc.prototype.Fc=function(){var u=this.Oj,g=hr.Bi(u,this.GR.C());
for(var P=0;P<4;P++)this.pG[P].k(g[P]);this.An.k(u.Mthd?u.Mthd.v.CrcM=="Absl":!1)};_.blwh=function(){_.call(this,"blwh");
this.GT.push(new cG([12,11]));this.GT.push(new jR(!0));for(var P=0;P<6;P++)this.GT.push(new fj(jO.pq[P],-200,300));
this.Nf()};_.blwh.prototype=new _;_.blwh.prototype.Gc=function(u,g){g[0]=u.useTint.v;g[1]=u.tintColor.v;
var K="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var P=0;P<6;P++)g[2+P]=u[K[P]].v};_.blwh.prototype.Qi=function(u,g){u.useTint.v=g[0];
u.tintColor.v=g[1];var K="Rd Yllw Grn Cyn Bl Mgnt".split(" ");for(var P=0;P<6;P++)u[K[P]].v=g[2+P]};
_.hue2=function(){_.call(this);this.value=null;this.gN=null;this.akG=null;this.oK=[[0,0,0],[0,50,0]];
var u=this.e;this.dv=new fK(null,["\u2194"],!0,["Click and drag in image to change saturation"],!0);
this.dv.f(h.E.o,this.avs,this);this.dv.f(h.E.o,this.vx,this);u.appendChild(this.dv.e);this.GR=new e8([12,12],["Master"].concat(jO.pq));
this.GR.f(h.E.o,this.P2,this);u.appendChild(this.GR.e);this.bN=new fj([12,8],-180,180);this.bN.f(h.E.o,this.vN,this);
u.appendChild(this.bN.e);this.$v=new fj([12,9],-100,100);this.$v.f(h.E.o,this.vN,this);u.appendChild(this.$v.e);
this.RP=new fj([12,10],-100,100);this.RP.f(h.E.o,this.vN,this);u.appendChild(this.RP.e);this.sW=new cG([12,11]);
this.sW.f(h.E.o,this.vN,this);u.appendChild(this.sW.e);this.cB=new fK("Sample Hue",["<img src=\""+PIMG["tools/eyedropper"]+"\" class=\"autoscale gsicon\" />","+","-"],!0,null,!0);
this.cB.f(h.E.o,this.avs,this);this.cB.f(h.E.o,this.vx,this);this.cB.e.style.marginLeft="20px";u.appendChild(this.cB.e);
this.rU=b.V("div");u.appendChild(this.rU);this.y9=this.AJ.bind(this);this.RZ=this.Ao.bind(this);this.I=b.V("canvas");
this.CG=this.I.getContext("2d");this.VY=null;b.mo(this.I);b.Bw(this.I,282,18);u.appendChild(this.I);
b.hh(this.I,this.V0.bind(this))};_.hue2.prototype=new _;_.hue2.prototype.rc=function(u,g){b.Bw(this.I,Math.round(u),18);
if(this.value)this.P2()};_.hue2.prototype.avs=function(u){var g=u.target.C().indexOf(!0);if(g==-1)return;
if(u.target==this.dv)this.cB.k([!1,!1,!1]);else this.dv.k([!1,!1,!1])};_.hue2.prototype.V0=function(u){if(this.GR.C()==0||this.sW.C())return;
var g=b.Y2(u,this.I).x/(this.I.width/b.Z()),D=1e6;function K($,r,c){return $<r&&r<c||c<$&&($<r||r<c)}var X=this.GZ(),w=-1;
for(var P=0;P<4;P++){var q=Math.abs(g-(X[P]+P*1e-5));if(q<D){D=q;w=P}}if(D>.025){w=-1;var C=X[0],a=X[1],x=X[2],H=X[3];
if(K(C,g,a))w=4;if(K(a,g,x))w=5;if(K(x,g,H))w=6}if(w==-1)return;this.VY=w;b.t9(document.body,this.y9);
b.Uo(document.body,this.RZ)};_.hue2.prototype.AJ=function(u){var g=b.Y2(u,this.I).x/(this.I.width/b.Z()),K=this.GZ(),X=this.VY;
for(var P=1;P<4;P++)if(K[P]<K[P-1]){K[P]+=1}if(X<4){var w=1e6,D=0;for(var P=-20;P<20;P++){var q=Math.abs(K[X]-(g+P));
if(q<w){w=q;D=P}}g+=D;K[X]=g;for(var P=X+1;P<4;P++)if(K[P]<K[P-1]){K[P]=K[P-1]}for(var P=X-1;P>=0;P--)if(K[P]>K[P+1]){K[P]=K[P+1]}}else{var C=g-(K[X-4]+K[X-3])/2;
if(C<-.5)C+=1;if(X==4){K[0]+=C;K[1]+=C;K[2]=Math.max(K[1],K[2]);K[3]=Math.max(K[1],K[3])}if(X==5)for(var P=0;
P<4;P++)K[P]+=C;if(X==6){K[2]+=C;K[3]+=C;K[0]=Math.min(K[0],K[2]);K[1]=Math.min(K[1],K[2])}}for(var P=1;
P<4;P++)if(K[P]<K[P-1])throw"e";this.a2x(K);this.P2();this.p$()};_.hue2.prototype.Ao=function(u){b._I(document.body,this.y9);
b.$u(document.body,this.RZ)};_.hue2.prototype.N=function(){this.bN.N();this.$v.N();this.RP.N();this.sW.N();
this.GR.N()};_.hue2.prototype.vN=function(u){var g=this.value.Clrz.v=this.sW.C();if(g)this.GR.k(0);if(u&&u.target==this.sW){var K=g?1:0;
this.oK[1-K]=bV.Bi(this.value,0);var X=this.oK[K];bV.mu(this.value,0,X);if(this.GR.C()==0){this.bN.k(X[0]);
this.$v.k(X[1]);this.RP.k(X[2])}}var w=this.GR.C(),D=bV.Bi(this.value,w),X=w==0?D:D.qy;X[0]=this.bN.C();
var q=this.$v.C();X[1]=g?Math.max(0,q):q;X[2]=this.RP.C();bV.mu(this.value,w,D);this.P2();this.p$()};
_.hue2.prototype.P2=function(){var u=this.GR.C(),g=this.value.Clrz?this.value.Clrz.v:!1;this.sW.k(g);
this.GR.Tm(!g);this.cB.Tm(!g&&u!=0);var K=bV.Bi(this.value,u),X=u==0?K:K.qy;this.bN.k(X[0]);this.$v.k(X[1]);
this.RP.k(X[2]);var w=this.I.width,D=this.I.height,q=this.CG;q.clearRect(0,0,w,D);if(g||u==0){this.rU.innerHTML="";
return}var C=K.hm;this.rU.innerHTML=C[0]+"\xB0 / "+C[1]+"\xB0<span style=\"float:right\">"+C[2]+"\xB0 \\ "+C[3]+"\xB0</span>";
var a=f.L(w*4);fJ.asF(a,1,w,-1,.5);var x=new ImageData(new Uint8ClampedArray(a.buffer),w,1),H=Math.round(D/4);
for(var P=0;P<H;P++)q.putImageData(x,0,P);function $(m,i,e){q.fillStyle=e;var S=H*2;if(m<=i)q.fillRect(m*w,S,(i-m)*w,H);
else{q.fillRect(0,S,i*w,H);q.fillRect(m*w,S,(1-m)*w,H)}}var r=this.GZ();$(r[0],r[1],"#888888");$(r[1],r[2],"#cccccc");
$(r[2],r[3],"#888888");q.fillStyle="#ffffff";q.lineWidth=1;q.beginPath();var c=H+.5,U=4*H+.5;for(var P=0;
P<4;P++){var O=Math.floor(w*r[P])+.5,A=(P<2?-1:1)*H*(P==1||P==2?1:2);q.moveTo(O,c);q.lineTo(O,U);q.lineTo(O+A,U);
q.lineTo(O+A,H+H+.5);q.closePath()}q.fill();q.stroke()};_.hue2.prototype.GZ=function(){var u=this.GR.C(),g=bV.Bi(this.value,u).hm;
for(var P=0;P<4;P++)g[P]=(1000.5+g[P]/360)%1;return g};_.hue2.prototype.a2x=function(u){var g=this.GR.C(),K=bV.Bi(this.value,g);
for(var P=0;P<4;P++)K.hm[P]=Math.round(36e3+(u[P]-.5)*360)%360;bV.mu(this.value,g,K)};_.hue2.prototype.HI=function(){return!0};
_.hue2.prototype.akY=function(){var u=this.dv.C().indexOf(!0),g=this.cB.C().indexOf(!0);return u!=-1?u:g!=-1?g+1:-1};
_.hue2.prototype.R4=function(u,g,K,X,w){var D=this.akY();if(D==-1)return;var q=this.value;this.value=dJ.mt("hue2");
this.p$();var C=R.U2.RG(u,w,1);this.k(q);var a=[C>>>16&255,C>>>8&255,C&255],x=f.UD(a[0]/255,a[1]/255,a[2]/255);
if(D==0){this.GR.k(1+Math.round(x.xQ*6)%6)}else{var H=this.GZ(),$=.5+x.xQ,r=1/12,c=H[1],U=H[2];if(U<c){U++;
if($<c&&$+1-U<c-$)$++}var O=c<=$&&$<=U;if(D==1){c=$-r/2;U=$+r/2}else if(D==2&&!O){c=Math.min($,c);U=Math.max($,U)}else if(D==3&&O){if($-c<U-$)c=$;
else U=$}H=[c-r,c,U,U+r];this.a2x(H)}this.p$();this.gN=w.x;this.akG=this.$v.C()};_.hue2.prototype.ai=function(u,g,K,X,w){var D=this.akY();
if(D==-1)return;if(D==0){if(this.gN!=null){var q=w.x-this.gN;q=Math.max(-100,Math.min(100,this.akG+.5*q));
this.$v.k(q);this.vN()}}};_.hue2.prototype.RB=function(u,g,K,X,w){this.gN=null};_.hue2.prototype.k=function(u){this.value=JSON.parse(JSON.stringify(u));
var g=this.value.Clrz?this.value.Clrz.v:!1;this.oK[g?1:0]=bV.Bi(this.value,0);this.P2()};_.hue2.prototype.C=function(u){return JSON.parse(JSON.stringify(this.value))};
_.levl=function(){function u(){_.call(this);this.value=null;this.Ia=null;this.IH=[new j4(0,0),new j4(0,0),new j4(0,0),new j4(0,0),new j4(0,0)];
this.V6=-1;this.y9=this.AJ.bind(this);this.RZ=this.Ao.bind(this);var g=this.e;this.V2=new e8([12,4],["RGB",[13,1,1],[13,1,4],[13,1,5]]);
this.V2.f(h.E.o,this.P2,this);g.appendChild(this.V2.e);this.$G=new hR;this.$G.parent=this;this.$G.f(h.E.o,this.Cz,this);
g.appendChild(this.$G.e);var K=b.V("div","");g.appendChild(K);var X=b.V("div","");g.appendChild(X);this.I=b.V("canvas");
K.appendChild(this.I);this.CG=this.I.getContext("2d");this.Bt=new j4(256,120);this.I.setAttribute("style","display:block");
b.mo(this.I);b.hh(this.I,this.V0.bind(this));this.Za=b.V("canvas","");X.appendChild(this.Za);this.oX=this.Za.getContext("2d");
this.cm=new j4(this.Bt.x,40);this.Za.setAttribute("style","display:block");b.mo(this.Za);b.hh(this.Za,this.a6f.bind(this));
var w=this.ON=[];for(var P=0;P<5;P++){var D=new fu(null,null,3);w.push(D);D.f(h.E.o,this.aoI,this);(P<2||P==4?K:X).appendChild(D.e)}K.appendChild(w[1].e);
this.dv=new fK("Sample from image",k6.N1(["#000000","#888888","#ffffff"]),!0,null,!0);this.dv.f(h.E.o,this.vx,this);
g.appendChild(this.dv.e);this.rc(250,100)}u.prototype=new _;u.prototype.Cz=function(){var g=this.$G.C(),K=this.Ia,X=this.value,w=f.wK(g,K);
for(var P=0;P<4;P++){var D=w[P][0],q=w[P][1],C=w[P][2],a=[f.f1.an(D,0,!0),f.f1.an(q,255,!0)];if(C!=null)a.splice(1,0,f.f1.an(128,C,!0));
var x=[~~D,~~q,0,255,C==null?100:~~(100+.75*100*(C-128)/128)];ad.mu(X,P,x)}this.P2();this.p$()};u.prototype.rc=function(g,K){g+=6;
this.Bt.x=this.cm.x=g;b.Bw(this.I,g,this.Bt.y,this.CG);b.Bw(this.Za,g,this.cm.y,this.oX);var X=this.ON;
X[3].e.setAttribute("style","margin-left: "+(g-104)+"px");X[4].e.setAttribute("style","margin: 0 "+(g/2-74)+"px");
if(this.value)this.P2()};u.prototype.N=function(){this.V2.N()};u.prototype.aoI=function(g){var K=[];
for(var P=0;P<5;P++){var X=255,w=1;if(P==4){X=999;w=100}var D=parseFloat(this.ON[P].C());K[P]=Math.max(0,Math.min(X,D*w))}ad.mu(this.value,this.V2.C(),K);
this.P2();this.p$()};u.prototype.P2=function(g){var K=this.Bt.x,X=this.Bt.y,w=this.V2.C(),D=this.CG;
D.clearRect(0,0,K,X);D.fillStyle="#cccccc";D.fillRect(8,8,K-16,X-16-8);if(this.Ia){var q=this.Ia[0].slice(0),U=0;
if(w==0){q.fill(0);var C=JSON.parse(JSON.stringify(this.value));ad.mu(C,0,[0,255,0,255,100]);var a=jO.Zq("levl",C),x=[a.ko,a.FT,a.$X];
for(var H=0;H<3;H++){var $=this.Ia[1+H],r=x[H];for(var P=0;P<256;P++)q[r[P]]+=$[P]}}var c=w==0?q:this.Ia[w];
for(var P=0;P<c.length;P++)U+=c[P];D.fillStyle="#333333";D.beginPath();D.moveTo(8,X-16);for(var P=0;
P<256;P++){var O=55*c[P]/U;D.lineTo(8+P/256*(K-16),Math.max(8,X-16-X*O))}D.lineTo(K-8,X-16);D.closePath();
D.fill()}var A=ad.Bi(this.value,w);for(var P=0;P<5;P++)this.ON[P].k(A[P]/(P==4?100:1));this.IH[0].fP(8+A[0]/255*(K-16),X-14);
this.IH[1].fP(8+A[1]/255*(K-16),X-14);var m=Math.log(A[4]/100)/Math.log(9.99);m=.5-m/2;this.IH[4].fP(this.IH[0].x+m*(this.IH[1].x-this.IH[0].x),X-14);
this.W7(D,this.IH[0],"#000000");this.W7(D,this.IH[1],"#ffffff");this.W7(D,this.IH[4],"#777777");var K=this.cm.x,X=this.cm.y;
D=this.oX;D.clearRect(0,0,K,X);var i=D.createLinearGradient(0,0,K-16,0);i.addColorStop(0,"black");i.addColorStop(1,"white");
D.fillStyle=i;D.fillRect(8,8,K-16,16);this.IH[2].fP(8+A[2]/255*(K-16),X-14);this.IH[3].fP(8+A[3]/255*(K-16),X-14);
this.W7(D,this.IH[2],"#000000");this.W7(D,this.IH[3],"#ffffff")};u.prototype.W7=function(g,K,X){g.fillStyle=X;
g.fillRect(K.x-5,K.y,10,10)};u.prototype.V0=function(g){var K=b.Y2(g,this.I),X=this.a8S([0,1,4],K);if(X!=-1)this.V6=X;
this.ajh()};u.prototype.a6f=function(g){var K=b.Y2(g,this.Za),X=this.a8S([2,3],K);if(X!=-1)this.V6=X;
this.ajh()};u.prototype.a8S=function(g,K){var X=-1,w=1e9;for(var P=0;P<g.length;P++){var D=Math.abs(this.IH[g[P]].x-K.x);
if(D<w){w=D;X=g[P]}}return w<16?X:-1};u.prototype.ajh=function(g){if(this.V6==-1)return;b.t9(document.body,this.y9);
b.Uo(document.body,this.RZ)};u.prototype.AJ=function(g){var K=ad.Bi(this.value,this.V2.C()),X=b.Y2(g,this.V6==2&&this.V6==3?this.Za:this.I),w=255*(X.x-8)/(this.Bt.x-16);
w=Math.max(0,Math.min(255,w));if(this.V6==0)w=Math.min(w,K[1]-2);if(this.V6==1)w=Math.max(w,K[0]+2);
if(this.V6!=4)K[this.V6]=Math.round(w);else{var D=(w-K[0])/(K[1]-K[0]);D=1-2*D;D=Math.pow(9.99,D);K[4]=Math.min(999,Math.max(10,Math.round(D*100)))}ad.mu(this.value,this.V2.C(),K);
this.P2();this.p$()};u.prototype.Ao=function(g){b._I(document.body,this.y9);b.$u(document.body,this.RZ);
this.V6=-1};u.prototype.HI=function(){return!0};u.prototype.RB=function(g,K,X,w,D){var q=this.value,C=this.dv.C().indexOf(!0);
if(C==-1)return;this.value=dJ.mt("levl");this.p$();var a=R.U2.RG(g,D,1),x=[a>>>16&255,a>>>8&255,a&255];
for(var P=0;P<3;P++){var H=ad.Bi(q,1+P);if(C==0)H[0]=x[P];if(C==1){var $=Math.log(x[P]/255)/Math.log((x[0]+x[1]+x[2])*.333/255);
H[4]=Math.min(999,Math.max(10,Math.round(100*$)))}if(C==2)H[1]=x[P];ad.mu(q,1+P,H)}this.k(q);this.p$()};
u.prototype.k=function(g){this.value=g;this.P2()};u.prototype.RQ=function(g){this.Ia=g;this.P2()};u.prototype.C=function(g){return JSON.parse(JSON.stringify(this.value))};
return u}();_.phfl=function(){_.call(this,"phfl");this.GT.push(new jR);this.GT.push(new fj([12,74],0,100,"%"));
this.GT.push(new cG([13,4]));this.Nf()};_.phfl.prototype=new _;_.phfl.prototype.Gc=function(u,g){g[0]=u.Clr.v;
g[1]=u.Dnst.v;g[2]=u.PrsL.v};_.phfl.prototype.Qi=function(u,g){var K=f.X.Ld(g[0]),X=u.Clr.v,w=f.iu(K.w,K.A,K.U);
X.Lmnc.v=w.CU;X.A.v=w._x;X.B.v=w.U;u.Dnst.v=g[1];u.PrsL.v=g[2]};_.vibA=function(){_.call(this,"vibA");
this.GT.push(new fj([12,13],-100,100,null));this.GT.push(new fj([12,9],-100,100,null));this.Nf()};_.vibA.prototype=new _;
_.vibA.prototype.Gc=function(u,g){g[0]=u.vibrance?u.vibrance.v:0;g[1]=u.Strt?u.Strt.v:0};_.vibA.prototype.Qi=function(u,g){u.vibrance.v=g[0];
u.Strt.v=g[1]};_.thrs=function(){_.call(this,"thrs");this.GT.push(new fj([4,13],1,255,null));this.Nf()};
_.thrs.prototype=new _;_.thrs.prototype.Gc=function(u,g){g[0]=u.Lvl.v};_.thrs.prototype.Qi=function(u,g){u.Lvl.v=g[0]};
_.mixr=function(){_.call(this);var u=this.e;this.pG=[];this.Oj=null;this.GR=new e8([12,4],[[13,1,1],[13,1,4],[13,1,5]]);
this.GR.f(h.E.o,this.HQ,this);u.appendChild(this.GR.e);b.d_(u);this.wl=new cG([12,60]);u.appendChild(this.wl.e);
this.wl.f(h.E.o,this.HQ,this);for(var P=0;P<4;P++){var g=new fj([[13,1,1],[13,1,4],[13,1,5],[13,2]][P],-200,200,"%");
g.f(h.E.o,this.HQ,this);this.pG.push(g);u.appendChild(g.e)}};_.mixr.prototype=new _;_.mixr.prototype.N=function(){this.GR.N();
this.wl.N();for(var P=0;P<4;P++)this.pG[P].N()};_.mixr.prototype.k=function(u){this.Oj=JSON.parse(JSON.stringify(u));
this.Fc()};_.mixr.prototype.C=function(u){return JSON.parse(JSON.stringify(this.Oj))};_.mixr.prototype.HQ=function(u){if(u.target!=this.GR){var g=jO.yZ(this.Oj);
if(u.target==this.wl){g.wl=this.wl.C();if(g.wl)g.h=[40,40,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];else g.h=[100,0,0,0,0,0,100,0,0,0,0,0,100,0,0,0,0,0,0,0]}else{var K=(g.wl?0:this.GR.C())*5,P=this.pG.indexOf(u.target);
g.h[K+(P<3?P:4)]=u.target.C()}this.Oj=jO.a8q(g)}this.Fc();this.p$()};_.mixr.prototype.Fc=function(){var u=jO.yZ(this.Oj);
this.wl.k(u.wl);var g=(u.wl?0:this.GR.C())*5;for(var P=0;P<4;P++)this.pG[P].k(u.h[g+(P<3?P:4)])};_.post=function(){_.call(this,"post");
this.GT.push(new fj([4,1],2,255,null));this.Nf()};_.post.prototype=new _;_.post.prototype.Gc=function(u,g){g[0]=u.Lvls.v};
_.post.prototype.Qi=function(u,g){u.Lvls.v=g[0]};_.clrL=function(){_.call(this,"clrL");this.GT.push(new dx("LUTs"));
this.Nf()};_.clrL.prototype=new _;_.clrL.prototype.Gc=function(u,g){g[0]=u};_.clrL.prototype.Qi=function(u,g){var K=g[0];
for(var X in K)u[X]=K[X]};_.clrL.prototype.xY=function(u,g){if(g==hO.Jr||g==hO.vb)this.GT[0].QC(u.aft)};
_.rplc=function(){_.call(this,"rplc");this.GT.push(new fj([12,92],0,200));this.GT.push(new jR);this.GT.push(new fj([12,8],-180,180));
this.GT.push(new fj([12,9],-100,100));this.GT.push(new fj([12,10],-100,100));this.Nf()};_.rplc.prototype=new _;
_.rplc.prototype.Gc=function(u,g){g[0]=u.Fzns.v;g[1]=u.Mxm.v;g[2]=u.H.v;g[3]=u.Strt.v;g[4]=u.Lght.v};
_.rplc.prototype.Qi=function(u,g){function K(w,D){D.Lmnc.v=w.CU;D.A.v=w._x;D.B.v=w.U}u.Fzns.v=g[0];u.H.v=g[2];
u.Strt.v=g[3];u.Lght.v=g[4];var X=f.X.Ld(g[1]),w=f.iu(X.w,X.A,X.U);K(w,u.Mnm.v);K(w,u.Mxm.v)};_.fade=function(){_.call(this,"fade");
this.GT.push(new fj([12,0],0,100,"%"));this.GT.push(new e8([12,19,0],b0.ET,!1,b0.CX));this.Nf()};_.fade.prototype=new _;
_.fade.prototype.Gc=function(u,g){g[0]=u.Opct.v.val;g[1]=b0.nG.indexOf(u.Md.v.BlnM)};_.fade.prototype.Qi=function(u,g){u.Opct.v.val=g[0];
u.Md.v.BlnM=b0.nG[g[1]]};_.aply=function(){var u=b0.nG.concat(["Add","Sbtr"]);u.splice(21,1);var g=b0.ET.concat([[15,10,28],[15,10,21]]);
g.splice(21,1);var K=b0.CX.slice(0);K[4]--;function X(){_.call(this,"aply");this.GT.push(new e8([0,3],[]));
this.GT.push(new e8([12,4],["RGB"].concat(jO.Kh).concat(["Transparency"])));this.GT.push(new cG([4,11]));
this.GT.push(new e8([12,19,0],g,!1,K));this.GT.push(new fj([12,0],0,100,"%"));this.GT.push(new bX([12,38],1,2,null,2));
this.GT.push(new bX([12,6],-255,255));this.GT.push(new cG([13,5]));this.Nf([2]);this.Dx=null}X.prototype=new _;
X.prototype.Gc=function(w,D,q){if(q){var C=q[2].g,a=this.Dx=[];for(var P=0;P<C.length;P++){var x=C[P].getName();
a.push(x.length<30?x:x.slice(0,27)+"...")}a.reverse();this.GT[0].UT([[5,7]].concat(a),[1,a.length])}else var a=this.Dx;
w=w.With.v;var H=w.T.v;D[0]=H[1].t=="name"?1+a.indexOf(H[1].v.val):0;D[1]=["RGB","Rd","Grn","Bl","Trsp"].indexOf(H[0].v.enum);
D[2]=w.Invr.v;var $=w.Clcl.v.Clcn;D[3]=u.indexOf($);D[4]=w.Opct.v.val;D[5]=w.Scl.v;D[6]=w.Ofst.v;D[7]=w.PrsT.v};
X.prototype.Qi=function(w,D){w=w.With.v;var q=w.T.v;if(D[0]==0)q[1]={t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}};
else q[1]={t:"name",v:{classID:"Lyr",val:this.Dx[D[0]-1]}};q[0].v.enum=["RGB","Rd","Grn","Bl","Trsp"][D[1]];
w.Invr.v=D[2];var C=w.Clcl.v.Clcn=u[D[3]];w.Opct.v.val=D[4];w.Scl.v=D[5];w.Ofst.v=D[6];w.PrsT.v=D[7];
var a=C=="Add"||C=="Sbtr";this.GT[5].Tm(a);this.GT[6].Tm(a)};return X}();_.matc=function(){var u,g,K=0;
function X(){_.call(this,"matc");this.GT.push(new fj("Luminance",1,200));this.GT.push(new fj("Color Intensity",1,200));
this.GT.push(new fj([2,11],0,100,"%"));this.GT.push(new cG("Neutralize"));this.GT.push(new e8([12,70],[]));
this.GT.push(new e8([0,3],[]));this.Nf([2])}function w(D,q){D.GT[5].UT([[5,7]].concat(q),[1,q.length])}X.prototype=new _;
X.prototype.Gc=function(D,q,C){K=0;q[0]=D.Lght.v;q[1]=D.ClrR.v;q[2]=D.Fade.v;q[3]=D.neutralizeColor?D.neutralizeColor.v:!1;
q[4]=q[5]=0;var a=D.Srce;if(a)a=a.v;if(C){u=[];g=[];var x=C[2],H=C[3];for(var P=0;P<H.length;P++){var $=H[P];
u.push($.name);var r=$.g,c=[];g.push(c);for(var U=0;U<r.length;U++)c.push(r[U].getName());c.reverse()}this.GT[4].UT([[13,1,0]].concat(u),[1,u.length]);
var O=H.indexOf(x);if(a)O=u.indexOf(a[1].v.val);w(this,g[O])}if(a){var A=u.indexOf(a[1].v.val);q[3]=K=1+A;
if(a[0].t=="name")q[4]=1+g[A].indexOf(a[0].v.val)}};X.prototype.Qi=function(D,q){D.Lght.v=q[0];D.ClrR.v=q[1];
D.Fade.v=q[2];D.neutralizeColor.v=q[3];if(q[4]==0){D.noReference={t:"bool",v:!0};delete D.Srce}else{if(q[4]!=K){K=q[4];
w(this,g[q[4]-1])}delete D.noReference;var C={t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Mrgd"}},a=g[q[4]-1];
if(q[5]!=0)C={t:"name",v:{classID:"Lyr",val:a[q[5]-1]}};D.Srce={t:"obj ",v:[C,{t:"name",v:{classID:"Dcmn",val:u[q[4]-1]}}]}}};
return X}();function fL(u,g){i6.call(this);if(u==null)return;this.id=g;this.Cj=u;this.sX=null;this.e=b.V("div","window "+g);
this.asi=null;this.KK=b.V("div","whead");this.awG=b.V("span","wname");this.KK.appendChild(this.awG);
this.e.appendChild(this.KK);this.SS=this.a2y.bind(this);this.hy=this.arX.bind(this);this.iz=this.aqT.bind(this);
b.mo(this.KK);b.hh(this.KK,this.SS);this.Sj=b.V("span","cross");this.KK.appendChild(this.Sj);fL.prototype.N.call(this);
b.Uo(this.Sj,this.a2s.bind(this));this.body=b.V("div","body");this.e.appendChild(this.body)}fL.prototype=new i6;
fL.prototype.Sn=function(){return!1};fL.prototype.HI=function(){return!1};fL.prototype.N=function(){if(this.Cj==null)return;
this.awG.textContent=fc.get(this.Cj);var u=PIMG.__cross==null?"filter:invert(1);":"";this.Sj.setAttribute("style","background-image:url("+PIMG.cross+");"+u)};
fL.prototype.R4=function(u,g,K,X,w){};fL.prototype.tB=function(u,g,K,X,w){};fL.prototype.ai=function(u,g,K,X,w){};
fL.prototype.RB=function(u,g,K,X,w){};fL.prototype.eY=function(u,g,K,X,w){};fL.prototype.BF=function(u,g,K,X){if(X.a(hW.R0)&&this.ZL)this.ZL();
if(X.a(hW.A5)){var w=new eG(h.E.l);w.UG=!0;R.Pd.aqR(X,w);if(w.data)g.c(w)}};fL.prototype.Kx=function(u){return!1};
fL.prototype.yL=function(u,g){return!0};fL.prototype.AF=function(u,g,K,X){};fL.prototype.xY=function(u,g){};
fL.prototype.hM=function(u,g){return null};fL.prototype.ag_=function(u){return this.asi};fL.prototype.rc=function(){};
fL.prototype.close=function(){this.c(new eG(h.E.VM))};fL.prototype.a2y=function(u){this.sX=b.Y2(u,this.e);
b.t9(window,this.hy);b.Uo(window,this.iz)};fL.prototype.arX=function(u){var g=this.e.parentNode,K=b.Y2(u,g),X=Math.round(K.x-this.sX.x),w=g.offsetTop+Math.max(0,Math.min(window.innerHeight-36,Math.round(K.y-this.sX.y)));
this.asi=new j4(X,w);this.e.style.left=X+"px";this.e.style.top=w+"px"};fL.prototype.aqT=function(u){b._I(window,this.hy);
b.$u(window,this.iz)};fL.prototype.a2s=function(u){this.c(new eG("closebtn"));this.close()};function gX(){fL.call(this,"About Photopea","aboutpp");
var u=b.V("div","flexrow");this.body.appendChild(u);var g=this.a2d=b.V("img");u.appendChild(g);this.body.setAttribute("style","margin:0; padding:0");
var K=this.ant=b.V("div");K.innerHTML=gX.np;u.appendChild(K);var X=this.IY=b.V("span");X.innerHTML="<big style=\"text-shadow: 2px 2px 3px #000000;\">Ivan holding Photopea in Prague</big>";
this.body.appendChild(X)}gX.prototype=new fL;gX.prototype.hM=function(u,g){return new j4(0,0)};gX.prototype.rc=function(u,g){var K=this.a2d,X=this.ant,w=this.IY,D=(u+g-42-42)/110;
D=Math.sqrt((u-42)*(g-42))/50;K.setAttribute("style","width:"+u/2+"px; height:"+g+"px; display:block; object-fit:cover;");
X.setAttribute("style","width:"+(u/2-42)+"px; height:"+(g-42)+"px; padding:20px; font-size:"+D+"px;");
w.setAttribute("style","position:absolute;  bottom:10px; right:"+(u/2+10)+"px")};gX.prototype.N=function(){};
gX.prototype.AF=function(u,g,K,X){this.a2d.setAttribute("src","promo/ivan_pp.webp")};gX.np="\t<h1>Hi There!</h1>\t<p>My name is <b>Ivan Kutskir</b> and I'm the creator of Photopea.</p>\t<p>I'm a 30-year-old computer programmer. I was born in Ukraine, but I live in the Czech Republic most of my life (in <b>Prague</b> since 2009).</p>\t<p>I started developing Photopea back in 2012. I intended to call it <b>Photo Hammer</b>, \tbut I didn't register the .com domain right away, and when I tried to do so six months later, it was already taken.</p>\t\t<p>My friends and my family did not know about Photopea during the first four years of development.\tI was spending a lot of time building it, without making any money or learning new skills. So nothing to be proud of, \tbut the project was fun and I enjoyed working on it.\t</p>\t<p>\tNow, it's heartwarming to know that millions around the world use Photopea as their creative medium. \tTo this day I work on Photopea, driven by the positive impact of my creation.\t</p>\t\t<!--<p>You can not be completely sure if something is a good or a bad idea, until you actually try to do it.</p>-->\t\t<p style=\"text-align:right;\"><i><big>Ivan Kutskir</big><br/>support@photopea.com</i></p>\t";
function dA(){fL.call(this,[0,13,0],"account");this.ww=b.V("div","form scrollable");this.body.appendChild(this.ww);
this.body.style.padding="0";this.WN=[new dA.x9,new dA.zX("::privacy.html"),new dA.zX(dA.aqX)];for(var P=0;
P<this.WN.length;P++)this.WN[P].parent=this;this.f("showpage",this.a7c,this)}dA.prototype=new fL;dA.prototype.yL=function(u,g){var K=navigator.onLine;
if(!K)alert("Go online first");return K};dA.prototype.rc=function(u,g){this.ww.setAttribute("style","width:"+Math.min(u-40,740)+"px;  height:"+(g-38)+"px;  padding:1.5em;");
this.WN[0].rc(u,g)};dA.prototype.hM=function(u,g){return new j4(Math.max(0,Math.min(150,(u-740)/2)),Math.max(0,Math.min(100,(g-500)/2)))};
dA.prototype.a7c=function(u){b.Lh(this.ww);this.ww.scrollTop=0;this.ww.appendChild(this.WN[u.data.Mw].e)};
dA.prototype.N=function(){fL.prototype.N.call(this);for(var P=0;P<this.WN.length;P++)this.WN[P].N()};
dA.prototype.AF=function(u,g,K){if(!navigator.onLine)return;b.Lh(this.ww);var X=this.WN[0];this.ww.appendChild(X.e);
X.AF();this.N()};dA.prototype.xY=function(u,g){this.AF(null,null,null)};dA.x9=function(){i6.call(this);
this.e=b.V("div");var u=this.e,C,a,H="font-size:1.25em;",$="text-align:center;",c="style=\"list-style-type: none; padding:0;  margin:0; font-size:1.15em;\"",U="style=\"font-weight:bold; color:#00aa00; padding-right:4px;\"",O="style=\"width:50%; vertical-align:top; padding:10px 20px;\"",m=12;
this.Ob=b.V("div");u.appendChild(this.Ob);this.mx=new dM([0,11],!1,null,!0);this.mx.e.setAttribute("style","background-color: rgba(200,0,0,1); color:#ffffff; margin:4px 6px 4px 0;");
this.mx.f("click",this.MM,this);u.appendChild(this.mx.e);this.db=new dM([0,13,1],!1,null,!0);this.db.f("click",this.a2S,this);
u.appendChild(this.db.e);this.vm=new dM("Business Terms",!1,null,!0);this.vm.f("click",this.ajd,this);
u.appendChild(this.vm.e);var g=b.V("div");g.style.margin="20px 0";u.appendChild(g);var K=["Account Types","Go Premium","Team Settings","Distributors"],X=this.L9=[],w=this.aug=[],D=this.Aj=b.V("div");
u.appendChild(D);for(var P=0;P<K.length;P++){var q=b.V("span");q.textContent=K[P];g.appendChild(q);X.push(q);
q.setAttribute("style","font-weight:bold; display:inline-block;  margin-right:2em; font-size:1.1em; cursor:pointer;");
q.addEventListener("click",this.gD.bind(this));w.push(b.V("div"))}this.gD(0);var x=this.ao0="background-color: #00aa00;  text-shadow:none; padding:3px 7px; font-size:1.2em; color:#ffffff; cursor:pointer; margin:4px 0; width:100%;";
u=w[0];var a=b.V("table"),r="style=\" "+$+H+" padding-bottom:20px;\"";a.innerHTML="\t\t\t<tr>\t\t\t\t<th>FREE</th><th>PREMIUM</th>\t\t\t</tr>\t\t\t<tr>\t\t\t\t<td "+O+">\t\t\t\t\t<div "+r+">\t\t\t\t\t\t<sup>$</sup><big><big><b>0</b></big></big>/mo\t\t\t\t\t</div>\t\t\t\t\t<div>\t\t\t\t\t\t<ul>\t\t\t\t\t\t\t<li><span "+U+">\u2713</span> All Features</li>\t\t\t\t\t\t</ul>\t\t\t\t\t</div>\t\t\t\t</td>\t\t\t\t<td "+O+">\t\t\t\t\t<div "+r+">\t\t\t\t\t\tFrom <sup>$</sup><big><big><b>3.33</b></big></big>/mo\t\t\t\t\t</div>\t\t\t\t\t<div>\t\t\t\t\t\t<ul>\t\t\t\t\t\t\t<li><span "+U+">\u2713</span> All Features</li>\t\t\t\t\t\t\t<li><span "+U+">\u2713</span> No Ads <a href=\"//www.photopea.com/promo/no_ads.png\" target=\"_blank\">\uD83D\uDC41</a></li>\t\t\t\t\t\t\t<li><span "+U+">\u2713</span> 2\xD7 more steps in history</li> \t\t\t\t\t\t</ul>\t\t\t\t\t\t<span style=\"margin:10px 0 12px 0; font-size:0.75em;\">* No subscription, just one-time payments</span> \t\t\t\t\t\t\t\t\t\t\t</div>\t\t\t\t</td>\t\t\t</tr>\t\t";
u.appendChild(a);var q=new dM("Go Premium");q.e.setAttribute("style",x+"padding:10px 0;");q.f("click",function(S){this.gD(1)},this);
a.children[0].children[1].children[1].appendChild(q.e);this.oz=b.V("div");u.appendChild(this.oz);u=w[1];
var A=this.ai4=[[9,30,1],[10,90,1],[40,365,1],[15,30,5],[30,90,5],[120,365,5],[50,30,20],[100,90,20],[400,365,20],[100,30,50],[200,90,50],[800,365,50],[40,30,1e3],[80,90,1e3],[300,365,1e3],[100,30,5e3],[200,90,5e3],[700,365,5e3],[200,30,2e4],[400,90,2e4],[1400,365,2e4]];
this.v4=[];for(var P=0;P<A.length;P++)this.v4.push(new dM("Buy: $"+A[P][0],!1,null,!0));for(var P=0;
P<this.v4.length;P++){this.v4[P].f("click",this.ahy,this)}this.dg=new dM("...",!0);this.dg.e.setAttribute("style",x);
u.appendChild(this.dg.e);a=this.asX(4,["Single user",this.v4[0],this.v4[1],this.v4[2],"Team of 5",this.v4[3],this.v4[4],this.v4[5],"Team of 20",this.v4[6],this.v4[7],this.v4[8],"Team of 50",this.v4[9],this.v4[10],this.v4[11]]);
u.appendChild(a);this.a9V=new cG("I accept",!0,"");u.appendChild(this.a9V.e);this.lL=new dM([0,13,1],!1,null,!0);
this.lL.f("click",this.a2S,this);u.appendChild(this.lL.e);this.o7=new dM("I have a key",!1,null,!0);
this.o7.e.setAttribute("style",x+" float:right; width:inherit;");this.o7.f("click",this.ahy,this);u.appendChild(this.o7.e);
u=w[2];this.df=new fh;this.df.parent=this;this.df.f(h.E.o,this.Lv,this);u.appendChild(this.df.e);u=w[3];
this.Pr=new dM("...",!0);this.Pr.e.setAttribute("style",x);u.appendChild(this.Pr.e);a=this.asX(3,["1000 views/mo",this.v4[m++],this.v4[m++],this.v4[m++],"5000 views/mo",this.v4[m++],this.v4[m++],this.v4[m++],"20000 views/mo",this.v4[m++],this.v4[m++],this.v4[m++]]);
u.appendChild(a);var i=b.V("p");i.innerHTML="Insert Photopea into your webpage, with no ads, under your own brand \t\t... <a href=\"https://www.photopea.com/api/accounts#distributors\" target=\"_blank\" style=\"color:inherit;\">More</a>";
u.appendChild(i);this.Xe=new fu("Domain name (e.g. domain.com)",null,14);u.appendChild(this.Xe.e);var e=new dM("Save Domain Settings",!1,null,!0);
e.Vn();u.appendChild(e.e);e.f("click",this.avn,this)};dA.x9.prototype=new i6;dA.x9.prototype.gD=function(u){var g=typeof u=="number"?u:this.L9.indexOf(u.target);
for(var P=0;P<4;P++)this.L9[P].style.opacity=.6;this.L9[g].style.opacity=1;b.Lh(this.Aj);this.Aj.appendChild(this.aug[g])};
dA.x9.prototype.rc=function(u,g){var K=u<600?"d":" days",X=["30 days","90 days","365 days"];if(u<600)X=["30d","90d","365d"];
var w=this.ai4;for(var P=0;P<w.length;P++){this.v4[P].Db("<span>"+X[P%3]+": <sup>$</sup><big><b>"+w[P][0]+"</b></big>"+"</span>");
this.v4[P].e.setAttribute("style",this.ao0)}};dA.x9.prototype.a2S=function(u){var g=new eG("showpage",!0);
g.data={Mw:1};this.c(g)};dA.x9.prototype.ajd=function(u){var g=new eG("showpage",!0);g.data={Mw:2};this.c(g)};
dA.x9.prototype.N=function(){this.mx.Db(cX.cO()?fc.get([0,11]):fc.get([0,10]));this.lL.N();this.db.N();
this.vm.N()};dA.x9.prototype.a5_=function(u){var g=new eG(h.E.Y,!0);g.data={d:h.s.cF,link:"https://www.photopea.com/api/accounts#"+(u.target==this.afY?"teams":"distributors")};
this.c(g)};dA.x9.prototype.am8=function(u){var g=u.currentTarget==this.a81;this.a81.k(g);this.ah2.k(!g)};
dA.x9.prototype.aa7=function(u){var g=this.a81.C(),K=this.ard.C().trim().toLowerCase(),X=this.aqk.value.trim().toLowerCase();
if(K.length>60){alert("Too long email address");return}if(X.length>600){alert("Too many team members");
return}X=X.split(",").join(" ").trim();X=X.replace(/\s+/g," ");if(X=="")X=[];else X=X.split(" ");var w=cX.Dj();
if(w==null)w={};if(w.acc==null)w.acc={};w.acc.team={jin:g,ldr:K,mmb:X};cX.zj(w,this.Lv.bind(this));alert("Saved!");
this.AF()};dA.x9.prototype.avn=function(u){var g=this.Xe.C().trim();if(!cX.cO()){alert("You have to log in first.");
return}if(cX.S$()==0){alert("Order a distributor account first.");return}var K=cX.Dj();if(K==null)K={};
if(K.acc==null)K.acc={};if(g=="")delete K.acc.dname;else K.acc.dname=g;cX.zj(K,this.Lv.bind(this));alert("Saved!");
this.AF()};dA.x9.prototype.an4=function(u){var g=cX.Ri(),P=this.yU,K=cX.Dj();if(K==null)K={};if(K.acc==null)K.acc={};
K.acc.bto=u;cX.zj(K,function(){});var X=dA.aqm(u.split("\n"),g.pmnts[P]);gP.save(X,"photopea_invoice.pdf")};
dA.x9.prototype.atW=function(u){var g=cX.Ri(),K=cX.Dj(),X=K.acc?K.acc.bto:null;if(X==null)X=g.name+"\n"+g.email;
var P=-1,w=u.target.e.parentNode;while((w=w.previousSibling)!=null)P++;this.yU=P;var D=new eG(h.E.Y,!0);
D.data={d:h.s.KP,Pu:"billto",gY:X,r5:this.an4.bind(this)};this.c(D)};dA.x9.prototype.AF=function(){this.Ob.innerHTML="";
b.Lh(this.oz);if(cX.cO()){var u=cX.Ri(),g=u.pmnts;if(u==null)return;this.Ob.innerHTML="<span style=\"font-size:1.5em; margin-right:0.7em;\">"+u.name+"</span> "+u.email+" <br/>";
if(g){var K="<h2>Payments</h2>";for(var P=0;P<g.length;P++){var X=g[P],w=new Date(X[0]*1e3);K+="<div style=\"font-size:1.2em\">"+w.getDate()+". "+(w.getMonth()+1)+". "+w.getFullYear()+" - "+dA.apM(X)+"</div>"}this.oz.innerHTML=K;
for(var P=0;P<g.length;P++){var D=new dM("Get Invoice",!1,null,!0);D.e.setAttribute("style","float:right");
D.f("click",this.atW,this);this.oz.children[P+1].appendChild(D.e)}}}else{}var q=cX.cO()&&cX.FS();this.dg.e.style.display=q?"block":"none";
if(q){var C,a,x=q;if(x[0]==0){C=cX.NE(x[1])-Date.now()*(1/1e3);a=x[1][2]==1?"Single User":"Team Of "+x[1][2]}else{C=x[1][1]-Date.now()*(1/1e3);
a="Member of \""+x[1][0]+"\""}this.dg.Db("Premium active for "+Math.round(C/(60*60*24))+" more days! ("+a+")")}var H=cX.cO()&&cX.S$()*1e3>Date.now();
this.Pr.e.style.display=H?"block":"none";if(H){var C=cX.S$()-Date.now()/1e3;this.Pr.Db("Distributor active for "+Math.round(C/(60*60*24))+" more days!")}var $=cX.Dj();
this.df.AF();if($&&$.acc&&$.acc.dname)this.Xe.k($.acc.dname);else this.Xe.k("")};dA.x9.prototype.asX=function(u,g){var K=b.V("table");
if(!0){var X="<table><tr>";for(var P=0;P<u;P++)X+="<th>"+g[P*4]+"</th>";X+="</tr></table>";K.innerHTML=X;
for(var P=0;P<3;P++){var w=b.V("tr"),D;K.appendChild(w);for(var q=0;q<u;q++){D=b.V("td");D.style.width=Math.round(100/u)+"%";
w.appendChild(D);D.appendChild(g[q*4+1+P].e)}}}return K};dA.x9.prototype.ahy=function(u){var g=this.v4.indexOf(u.currentTarget),X=30,w=1;
if(!cX.cO()){alert("You must log in before buying Premium");return}if(this.a9V.C()==!1&&g<12){alert("You must accept Terms of Service");
return}var K=cX.cO()&&cX.FS();if(g!=-1){var D=this.ai4[g];X=D[1];w=D[2]}if(K&&w<1e3){alert("You already have premium.");
return}console.log(D,X,w);if(g==-1){var q=prompt("Please enter your key");if(q!=null){cX.a69(q,this.Lv.bind(this));
this.LJ()}return}if(X==30&&w==1){var C=confirm("You can have a 90 days version for $10. Do you still want a 30 days version for $9?");
if(!C)return}cX.order(X,w,this.Lv.bind(this));this.LJ()};dA.x9.prototype.Lv=function(u){this.AF();this.LJ()};
dA.x9.prototype.MM=function(u){if(cX.cO()){cX.afk();this.LJ();this.AF(null,null,null)}else cX.MM(this.al_.bind(this))};
dA.x9.prototype.al_=function(){var u=new eG(h.E.Y,!0);u.data={d:h.s.a2k};this.c(u)};dA.x9.prototype.LJ=function(){var u=new eG(h.E.Y,!0);
u.data={d:h.s.a4G};this.c(u)};dA.zX=function(u){i6.call(this);this.e=b.V("div");var g=this.e,K=this.ap8=new dM([0,13,2],!1,null,!0),X;
K.f("click",this.ax7,this);g.appendChild(K.e);if(u.startsWith("::")){X=b.V("iframe");X.setAttribute("style","width:100%;height:1700px; background-color:white;");
X.setAttribute("src",u.slice(2))}else{X=b.V("div");X.innerHTML=u}g.appendChild(X)};dA.zX.prototype=new i6;
dA.zX.prototype.ax7=function(u){var g=new eG("showpage",!0);g.data={Mw:0};this.c(g)};dA.zX.prototype.N=function(){this.ap8.N()};
dA.aqX="\t\t<h1>Contact</h1>\t\t<p>Photopea.com is operated by Ivan Kuckir (I\u010C 04498411, Tax ID CZ9011014309).</p>\t\t<ul>\t\t\t<li><b>Address</b>: H\xE1lkova 483, 517 41 Kostelec nad Orlic\xED, Czech Republic</li>\t\t\t<li><b>E-mail</b>: support@photopea.com, <b>Phone number</b>: +420 604 592 737</li>\t\t</ul>\t\t<h1>Refund Policy</h1>\t\t<p>You can ask for a refund by writing us an email to support@photopea.com and. \t\tWe offer only one kind of service, and if you have been refunded in the past, you can not get another refund.\t\t</p>\t\t<h1>Terms of Delivery</h1>\t\t<p>You can pay with a debit or a credit card. Payments are processed instantly, your Premium account will be activated instantly.</p>\t\t<h1>Payment Provider</h1>\t\t<p>Payments are provided by <a style=\"color:white\" href=\"https://www.comgate.cz/cz/platebni-brana\">ComGate pamyments, a.s</a>.</p>\t\t<ul>\t\t\t<li>ComGate Payments, a.s.</li>\t\t\t<li>Go\u010D\xE1rova t\u0159\xEDda 1754 / 48b, Hradec Kr\xE1lov\xE9</li>\t\t\t<li>E-mail: platby-podpora@comgate.cz, Tel:  +420 228 224 267</li>\t\t</ul>\t\t<img src=\"https://www.comgate.cz/files/platebni-brana-comgate-paticka-e-shopu.png\" />\t";
dA.apM=function(u){return"Photopea "+(u[1]<1e3?"Premium":"Distributor")+" ("+u[1]+" days, "+u[2]+" user"+(u[2]==1?"":"s")+")"};
dA.aqm=function(u,g){u=["Bill To:"].concat(u);var K=new ToPDF,X=595,w=842,D=40,q=18,C=12,a=500,x=100,H=400,O=0;
function $(o,B,t,W,F){c.font.Tf=F?"Helvetica-Bold":"Helvetica";c.ctm=[1,0,0,1,B,t];c.font.Tfs=W?W:C;
K.PutText(c,o,0)}function r(o,B,t,W){for(var P=0;P<o.length;P++){$(o[P],B,t-P*W,null,P==0)}}var c=UDOC.getState();
K.StartPage(0,0,X,w);$("INVOICE",X-D-140,w-D-30,30,!0);r(["Bill From:","Ivan Kuckir","H\xE1lkova 483, 517 41 Kostelec nad Orlic\xED","Tax ID: CZ9011014309"],D,w-D-40,q);
var U=new Date(g[0]*1e3);r(["Date: "+U.getDate()+". "+(U.getMonth()+1)+". "+U.getFullYear(),"Transaction ID: "+g[4]],X-D-140,w-D-40-q*2,q);
var A=u.join("");for(var P=0;P<A.length;P++)O=Math.max(O,A.charCodeAt(P));if(O>256){var m=4,i=b.V("canvas"),e=i.getContext("2d"),S=0;
e.font=C*m+"px sans-serif";for(var P=0;P<u.length;P++)S=Math.max(S,e.measureText(u[P]).width);var E=Math.round(S)+20,Z=u.length*m*q+20;
i.width=E;i.height=Z;e.font=C*m+"px sans-serif";for(var P=0;P<u.length;P++){e.font=(P==0?"bold ":"")+C*m+"px sans-serif";
e.fillText(u[P],10,(P+1)*m*q)}document.body.appendChild(i);var N=new Uint8Array(e.getImageData(0,0,E,Z).data.buffer);
c.ctm=[E/m,0,0,Z/m,D-10/m,w-D-40-100-Z/m];K.PutImage(c,N,E,Z);c.ctm=[1,0,0,1,0,0]}else r(u,D,w-D-40-100,q);
c.colr=[.8,.8,.8];c.pth={cmds:["M","L","L","L","Z"],crds:[D,a,X-D,a,X-D,a-q,D,a-q]};K.Fill(c);c.colr=[0,0,0];
var J=[D,a,X-D,a,D,a-q,X-D,a-q,D,a-x,X-D,a-x,D,a,D,a-x,X-D,a,X-D,a-x,H,a,H,a-x],y=[];for(var P=0;P<J.length;
P+=4)y.push("M","L");c.pth={cmds:y,crds:J};K.Stroke(c);$("Order details",D+4,a-14);$(dA.apM(g),D+4,a-q-14);
$("TOTAL:",D+4,a-x-14,null,!0);$("Price",X-D-50,a-14);$(g[3]+" USD",X-D-60,a-q-14);$(g[3]+" USD",X-D-60,a-x-14,null,!0);
$("www.Photopea.com",D,D);$("support@photopea.com",X-D-130,D);K.ShowPage();K.Done();return K.buffer};
function jL(){fL.call(this,[11,14],"addguides");this.FQ;this.nC={Pk:{TQ:0}};this.VC=null;var u=b.V("div","form");
this.body.appendChild(u);this.VU=new fu([22,4,0],null,16);this.VU.f(h.E.o,this.z8,this);this.JI=new fu([22,4,1],null,16);
this.JI.f(h.E.o,this.z8,this);this.R1=new e8(null,f.Xx.TD);this.R1.f(h.E.o,this.z8,this);u.appendChild(this.VU.e);
u.appendChild(this.R1.e);b.d_(u);u.appendChild(this.JI.e);this.y_=b.KY(this,u);this.f("closebtn",this.eD,this)}jL.prototype=new fL;
jL.prototype.yL=function(u,g){return u!=null};jL.prototype.Sn=function(){return!0};jL.prototype.N=function(){fL.prototype.N.call(this);
this.VU.N();this.JI.N();this.R1.N();this.y_.N()};jL.prototype.xY=function(u,g){var K=u.Pk.TQ;this.nC.Pk.TQ=K;
this.R1.k(K)};jL.prototype.AF=function(u,g){this.FQ=u;this.VC=JSON.stringify(u.xv());this.RO()};jL.prototype.RO=function(){var u=this.FQ,g=u.m_,K=function(X,w,u,D,q){var C=[];
for(var P=0;P<X.length;P++)if(X[P][0]==w)C.push(f.Xx.FZ(X[P][1],u.wY,D,q));C.sort(function(a,x){return a-x});
return C.join(", ")};this.VU.k(K(g,0,u,this.nC,u.m));this.JI.k(K(g,1,u,this.nC,u.n))};jL.prototype.z8=function(u){if(u&&u.currentTarget==this.R1)this.nC.Pk.TQ=this.R1.C();
else{var g=this.aji(),K=this.FQ;K.r4(g);K.cK=!0}this.RO()};jL.prototype.aji=function(){var u=[],g=[];
for(var K=0;K<2;K++){var X=K==0?this.VU:this.JI,w=K==0?this.FQ.m:this.FQ.n,D=X.C().replace(/,/g," ").replace(/  +/g," ").trim(),q=D==""?[]:D.split(" ");
for(var P=0;P<q.length;P++){u.push([K,f.Xx.ag8(q[P],this.FQ.wY,this.nC,w)]);g.push(-1)}}return[u,g]};
jL.prototype.eD=function(u){var g=this.FQ;g.r4(JSON.parse(this.VC));g.cK=!0;this.FQ=null};jL.prototype.ZL=function(u){this.z8(u);
var g=new eG(h.E.l,!0);g.b=R.Hx;g.data={d:"gids",fb:JSON.parse(this.VC),rK:this.FQ.xv()};this.FQ=null;
this.close();this.c(g)};function iZ(u){var g=dJ.names[u];if(g==null)g=jO.names[u];if(u=="aply")g=[2,12];
if(u=="fade")g=[2,11];if(u=="matc")g=[4,18];if(u=="blendOptions")g=[14,10];fL.call(this,g,"afw_"+u);
this.YL=u;this.El=null;this.Uq=null;this.SF=new _[u];this.SF.f(h.E.o,this.p$,this);this.SF.parent=this;
this.body.appendChild(this.SF.e);this.P_=new cG([24,18,5]);this.P_.k(!0);this.P_.f(h.E.o,this.p$,this);
this.en=new dM([1,12,2],!0,null,!0);this.en.f("click",this.xu,this);this.y_=b.KY(this);if(this.n_())this.SF.Xl(this.y_.e);
else{b.AD(this.SF.e,"form");b.AD(this.body,"flexrow");this.SF.e.setAttribute("style","width:312px");
var K=b.V("div");this.body.appendChild(K);K.setAttribute("style","width:8em; margin-left:1em; line-height:2.3em");
K.appendChild(this.y_.e);K.appendChild(this.en.e);K.appendChild(this.P_.e)}this.f("closebtn",this.II,this)}iZ.prototype=new fL;
iZ.prototype.Sn=function(){return!0};iZ.prototype.n_=function(){return this.SF!=null&&this.SF.Gh()};
iZ.prototype.hM=function(){return this.n_()?new j4(0,0):fL.prototype.hM()};iZ.prototype.HI=function(){return this.SF.HI()};
iZ.prototype.R4=function(u,g,K,X,w){this.SF.R4(u,g,K,X,w)};iZ.prototype.ai=function(u,g,K,X,w){this.SF.ai(u,g,K,X,w)};
iZ.prototype.RB=function(u,g,K,X,w){this.SF.RB(u,g,K,X,w)};iZ.prototype.yL=function(u,g){if(this.YL=="fade")return iZ.aco(u);
return!0};iZ.prototype.xu=function(u){this.SF.k(dJ.mt(this.YL));this.p$()};iZ.prototype.p$=function(u){this.tD({d:"edit",jp:this.SF.C(),J3:!this.P_.C()})};
iZ.prototype.II=function(u){this.tD({d:"cancel"})};iZ.prototype.ZL=function(u){if(!this.P_.C()){this.P_.k(!0);
this.p$()}this.Uq=this.SF.C();if(this.n_())this.p$();this.tD({d:"confirm"});this.close()};iZ.prototype.N=function(){fL.prototype.N.call(this);
this.P_.N();if(this.SF)this.SF.N();this.y_.N()};iZ.prototype.xY=function(u,g){if(this.SF)this.SF.xY(u,g)};
iZ.prototype.BF=function(u,g,K,X){if(this.n_())this.SF.BF(X);else fL.prototype.BF.call(this,u,g,K,X)};
iZ.prototype.AF=function(u,g,K,X){this.El=g.El;var w=u.add.lnk2?u.add.lnk2:[],D,q,C=new dS(0,0,u.m,u.n),a=u.g[u.z[0]],x=null;
D=a.buffer;q=a.rect;if(this.n_())x=u.KS(u.z[0]-1);var H=dJ.mt(this.YL),$=[w,u.g1,u,K];if(g.El==null){this.SF.k(H,D,q,C,x,$);
if(jO.names[this.YL]){if(X.a(hW.Dd)&&this.Uq)this.SF.k(this.Uq);var r=R.st.getData(u),c=f.wB(r[0].ee);
this.SF.RQ(c)}}else{var U=!1,a=u.g[this.El.j];if(a.ov()){var O=a.nE(u);D=O.buffer;q=O.rect;var A=a.add.SoLd.filterFX.v.filterFXList.v;
if(A[this.El.index]){var m=A[this.El.index].v;this.SF.k(this.YL=="blendOptions"?m.blendOptions.v:m.Fltr.v,D,q,C,x,$);
this.SF.RQ(f.wB(D));U=!0}}if(!U){this.SF.k(H,D,q,C,x,$);this.SF.RQ(f.wB(D))}}if(!this.n_())this.p$()};
iZ.prototype.tD=function(u){var g=new eG(h.E.l,!0);u.YL=this.YL;u.El=this.El;g.data=u;g.b=dJ.names[this.YL]||this.El?R.DQ:R.sM;
g.UG=!0;this.c(g)};iZ.prototype.rc=function(u,g){if(!this.SF.Gh()){}else{this.body.style.padding="0";
this.SF.rc(u,g)}};iZ.aco=function(u){if(u==null)return!1;var g=u.mM();if(g==null||!(g.data instanceof Array)||g.data.length!=u.z.length)return!1;
for(var P=0;P<g.data.length;P++){var K=g.data[P];if(K.j<0&&u.g1[-1-K.j])return!0;if(K.j==null||u.g[K.j]==null||u.g[K.j].oF!=K.lK)return!1;
if(u.z.indexOf(K.j)==-1)return!1}return!0};function j0(){fL.call(this,[11,0],"camera");this.data=null;
this.uv=new j4(1,1);this.aem=[];var u=b.V("div","form hbar");this.body.appendChild(u);this.axF=new e8(null,[]);
this.Ly=new e8([21,0],[[21,2],[21,1]]);u.appendChild(this.Ly.e);this.p2=new e8(null,[]);this.p2.f(h.E.o,this.adh,this);
u.appendChild(this.p2.e);this.yF=new dM([11,0],!1,null,!0);this.yF.f("click",this.a1p,this);u.appendChild(this.yF.e);
this._S=new g5("");u.appendChild(this._S.e);this.stream=null;this.iK=b.V("video","");this.iK.setAttribute("autoplay","true");
this.body.appendChild(this.iK);this.auU=this.aw5.bind(this);this.a7w=this.apS.bind(this);this.adI=this.au7.bind(this);
this.f("closebtn",this.a5O,this)}j0.prototype=new fL;j0.prototype.N=function(){fL.prototype.N.call(this);
this.Ly.N();this.yF.N();this.rc(this.QM,this.xQ)};j0.prototype.KS=function(){var u=this.iK.videoWidth,g=this.iK.videoHeight,K=b.V("canvas","");
K.width=u;K.height=g;var X=K.getContext("2d");X.drawImage(this.iK,0,0,u,g);var w=X.getImageData(0,0,u,g);
return{ZE:new dS(0,0,u,g),data:w.data.buffer}};j0.prototype.a1p=function(u){if(this.Ly.C()==0)this.ap5();
else this.adv()};j0.prototype.adv=function(){var u=this.KS(),g={buffer:new Uint8Array(u.data),rect:u.ZE},K=new eG(h.E.l,!0);
K.UG=!0;K.b=R.QA;K.data={d:l.Em,xl:g};this.c(K);alert(fc.get([21,4]))};j0.prototype.ap5=function(){var u=this.KS(),g=eH.hq("camera",[u]),K=new eG(h.E.Y,!0);
K.data={d:h.s._1,UJ:g};this.c(K);alert(fc.get([21,5]))};j0.prototype.AF=function(u,g,K){navigator.mediaDevices.enumerateDevices().then(this.as7.bind(this))};
j0.prototype.as7=function(u){var g=this.aem=[],K=[];for(var P=0;P<u.length;P++)if(u[P].kind=="videoinput"){g.push(u[P]);
K.push("Camera "+g.length)}this.p2.UT(K);this.p2.k(0);this.adh()};j0.prototype.adh=function(u){this.a5O();
var g={video:{deviceId:this.aem[this.p2.C()].deviceId,width:{ideal:8e3},height:{ideal:8e3}}};if(navigator.mediaDevices.getUserMedia)navigator.mediaDevices.getUserMedia(g).then(this.auU).catch(this.a7w);
else navigator.webkitGetUserMedia(g,this.auU,this.a7w)};j0.prototype.aw5=function(u){this.stream=u;this.iK.srcObject=u;
this.iK.addEventListener("loadedmetadata",this.adI,!1)};j0.prototype.au7=function(u){this.iK.play();
this.rc(this.QM,this.xQ)};j0.prototype.hM=function(u,g){return new j4(0,0)};j0.prototype.rc=function(u,g){var K=this.iK.videoWidth,X=this.iK.videoHeight;
this._S.k(K+" x "+X+" px");this._S.e.setAttribute("style","position:absolute;  left:14px; bottom:10px; z-index:1;");
this.uv.fP(K,X);this.QM=u;this.xQ=g;var w=u-28,D=g-28-30,q=this.uv.x/this.uv.y;if(w/D>q)w=D*q;else D=w/q;
this.iK.setAttribute("style","display: block; width: "+Math.round(w)+"px; height:"+Math.round(D)+"px;")};
j0.prototype.apS=function(u){console.log("error",u);alert(fc.get([21,6]));this.close()};j0.prototype.a5O=function(u){if(this.stream!=null){var g=this.stream.getTracks();
for(var P=0;P<g.length;P++)g[P].stop();this.stream=null}};function fV(){fL.call(this,[7,8],"crange");
this.FQ=null;this.LX={CU:73,_x:4.45,U:4};this.J4={CU:73,_x:4.45,U:4};this.body.style.width="20em";this.CF=new e8([0,5],["Sampled Colors",[19,6,0],[19,6,1],[19,6,2]]);
this.CF.f(h.E.o,this.ahw,this);this.body.appendChild(this.CF.e);this.np=b.V("div","form");this.body.appendChild(this.np);
var u=this.afF=2,g=this.el=[new fj([12,92],0,200),new k6([12,36],[[18,0],"\uFF0B","-"]),new fj([12,92],0,100,"%"),new bX("Min",0,255),new bX("Max",0,255)];
g[0].k(40);g[u].k(40);for(var P=0;P<g.length;P++){g[P].f(h.E.o,this.Fc,this);g[P].parent=this}this.I=b.V("canvas");
this.body.appendChild(this.I);this.y_=b.KY(this,this.body)}fV.prototype=new fL;fV.prototype.yL=function(u,g){return u!=null};
fV.prototype.HI=function(){return!0};fV.prototype.Sn=function(){return!0};fV.prototype.ahw=function(u){var g=this.CF.C(),K=this.el,X=this.np,w=0,D=K.length,q=this.afF;
if(g==0)D=q;else{w=q;K[w+1].k([0,100,190][g-1]);K[w+1].Tm(g!=1);K[w+2].k([60,150,255][g-1]);K[w+2].Tm(g!=3)}b.Lh(X);
for(var P=w;P<D;P++){X.appendChild(K[P].e)}this.Fc()};fV.prototype.N=function(){fL.prototype.N.call(this);
this.y_.N();this.CF.N();for(var P=0;P<this.el.length;P++)this.el[P].N()};fV.prototype.R4=function(u,g,K,X,w){var D=u.t.wQ(w.x,w.y);
this.ars(D.x,D.y)};fV.prototype.ars=function(u,g){var K=Math.min,X=Math.max,w=this.FQ,D=X(0,K(w.m-1,Math.floor(u))),q=X(0,K(w.n-1,Math.floor(g))),C=w.KS(),a=(q*w.m+D)*4,x=C[a],H=C[a+1],$=C[a+2],r=f.iu(x,H,$),c=this.el[1].C(),U=this.LX,O=this.J4;
if(c==0){this.LX=JSON.parse(JSON.stringify(r));this.J4=r}else if(c==1){U.CU=K(U.CU,r.CU);U._x=K(U._x,r._x);
U.U=K(U.U,r.U);O.CU=X(O.CU,r.CU);O._x=X(O._x,r._x);O.U=X(O.U,r.U)}else if(c==2){var A=(U.CU+O.CU)/2,m=(U._x+O._x)/2,i=(U.U+O.U)/2;
if(r.CU<A)U.CU=X(U.CU,r.CU+10);else O.CU=K(O.CU,r.CU-10);if(r._x<m)U._x=X(U._x,r._x+1);else O._x=K(O._x,r._x-1);
if(r.U<i)U.U=X(U.U,r.U+1);else O.U=K(O.U,r.U-1)}this.Fc()};fV.prototype.ZL=function(u){var g=this.CF.C(),K=this.el,X={__name:"Color Range",classID:"ClrR",colorModel:{t:"long",v:0}};
if(g==0){var w=this.LX,D=this.J4;X.Mnm={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:w.CU},A:{t:"doub",v:w._x},B:{t:"doub",v:w.U}}};
X.Mxm={t:"Objc",v:{classID:"LbCl",Lmnc:{t:"doub",v:D.CU},A:{t:"doub",v:D._x},B:{t:"doub",v:D.U}}};X.Fzns={t:"long",v:K[0].C()}}else{g--;
var q=["shadows","midtones","highlights"][g];X.Clrs={t:"enum",v:{Clrs:["Shdw","Mdtn","Hghl"][g]}};if(0<g)X[q+"LowerLimit"]={t:"long",v:K[3].C()};
if(g<2)X[q+"UpperLimit"]={t:"long",v:K[4].C()};X[q+"Fuzziness"]={t:"long",v:K[2].C()}}this.close();var C=new eG(h.E.qf,!0);
C.data={$T:"colorRange",NA:X};this.c(C)};fV.prototype.AF=function(u,g){this.FQ=u;this.ars(0,0);this.ahw()};
fV.prototype.Fc=function(){var u=this.FQ,g=this.CF.C(),K=this.LX,X=this.J4,w=this.el,D=w[0].C()/200,q=!1;
if(g>0){K=w[3].C();X=w[4].C();if(K>=X)K=X-1;q=!0;D=w[2].C()/100}var C=R.uO.HV(u,K,X,D,q),a=C.rect,x=C.channel,H=this.I,$=H.getContext("2d"),r=Math.floor(230*b.Z()),c=Math.floor(r*(a.n/a.m));
H.width=r;H.height=c;b.DG(H,r,c);var U=f.L(x.length*4);f.D4(U,4294967295);for(var P=0;P<3;P++)f.K1(x,U,P);
var O=R.S.qp([U,a],new eV(r/a.m,0,0,c/a.n,0,0)),A=O.rect,m=new ImageData(new Uint8ClampedArray(O.buffer.buffer),A.m,A.n);
$.putImageData(m,0,0)};function gD(){fL.call(this,[12,76,1],"createshape");this.x1=null;var u=b.V("div","form");
u.setAttribute("style","width:20em");this.body.appendChild(u);this.Iv=new bX([12,41],0,0,null,0,!1,!0);
u.appendChild(this.Iv.e);b.d_(u);this.VU=new bX([12,42],0,0,null,0,!1,!0);u.appendChild(this.VU.e);b.d_(u);
this.Ie=new cG([19,5,3]);u.appendChild(this.Ie.e);this.Iv.k(100);this.VU.k(100);this.y_=b.KY(this,u)}gD.prototype=new fL;
gD.prototype.ZL=function(u){this.x1.ary(this.x1.afj,this.Iv.C(),this.VU.C(),this.Ie.C());this.close()};
gD.prototype.N=function(){if(this.x1)this.Cj=fc.get([5,3])+": "+fc.get(this.x1.aiD);fL.prototype.N.call(this);
this.y_.N();this.Iv.N();this.VU.N();this.Ie.N()};gD.prototype.AF=function(u,g){this.x1=g;this.N();this.Iv.Jm()};
function du(){fL.call(this,[11,1],"colorpicker");this.k_=null;this._p=null;this.px=null;this.jm=!1;this.KZ=!1;
var u=b.V("div","flexrow"),D,q;this.body.appendChild(u);this.QD=new fJ(256,!0);this.QD.f(h.E.o,this.Xq,this);
u.appendChild(this.QD.e);var g=b.V("div","form");g.setAttribute("style","width:14.5em; margin-left:1em;");
u.appendChild(g);this.agW=b.V("div","full");g.appendChild(this.agW);this.a6F=b.V("div","full");g.appendChild(this.a6F);
var K=b.V("div","flexrow");g.appendChild(K);var X=b.V("div"),w=b.V("div");K.appendChild(X);K.appendChild(w);
D=["R","G","B"];q=X;this.IG=[];for(var P=0;P<3;P++){var C=new bX(D[P]+":",0,255,null,0,!1,!0);this.IG.push(C);
C.f(h.E.o,this.acS,this);q.appendChild(C.e)}D=["H","S","B"];q=w;this.BQ=[];for(var P=0;P<3;P++){var a=0,x=360,H="\xB0";
if(P!=0){x=100;H="%"}var C=new bX(D[P]+":",a,x,H,0,!1,!0);this.BQ.push(C);C.f(h.E.o,this.abl,this);q.appendChild(C.e)}this.VU=new fu("Hex",null,6);
this.VU.f(h.E.o,this.rA,this);g.appendChild(this.VU.e);this.bJ=b.V("input","fitem");this.bJ.setAttribute("type","color");
this.bJ.setAttribute("style","width:50px");this.bJ.addEventListener("change",this.rA.bind(this),!1);
g.appendChild(this.bJ);this.FI=new e1(9);this.FI.f(h.E.o,this.rA,this);g.appendChild(this.FI.e);this.y_=b.KY(this,g);
this.f("closebtn",this.II,this);this.LL=!1}du.prototype=new fL;du.prototype.HI=function(){return!0};
du.prototype.hM=function(u,g){return new j4(Math.max(0,Math.min(150,(u-484)/2)),Math.max(0,Math.min(150,(g-316)/2)))};
du.prototype.rc=function(u,g){this.QD.rc(Math.min(256,u-226),g)};du.prototype.N=function(u,g){fL.prototype.N.call(this);
this.y_.N()};du.prototype.Xq=function(u){this._p=this.QD.C();this.update()};du.prototype.R4=function(u,g,K,X,w){this.LL=!0;
this.aek(u,w)};du.prototype.ai=function(u,g,K,X,w){if(!this.LL)return;this.aek(u,w)};du.prototype.RB=function(u,g,K,X,w){this.LL=!1};
du.prototype.aek=function(u,g){var K=R.U2.RG(u,g,1),X=K&255,w=K>>8&255,D=K>>16&255;this._p={w:D/255,A:w/255,U:X/255};
this.update()};du.prototype.acS=function(u){var g=this.IG,K=this.JT(parseInt(g[0].C())),X=this.JT(parseInt(g[1].C())),w=this.JT(parseInt(g[2].C()));
this._p={w:K/255,A:X/255,U:w/255};this.update()};du.prototype.abl=function(u){var g=this.BQ,K=this.LH(parseInt(g[0].C())/360),X=this.LH(parseInt(g[1].C())/100),w=this.LH(parseInt(g[2].C())/100);
this._p=f.iF(K,X,w);this.update()};du.prototype.rA=function(u){var g;if(u.currentTarget==this.FI)g=this.FI.C();
else{g=u.currentTarget==this.VU?this.VU.C():this.bJ.value;if(g.charAt(0)=="#")g=g.slice(1);if(g.length==3)g=g[0]+g[0]+g[1]+g[1]+g[2]+g[2];
g=f.JK(g)}this._p={w:(g>>16&255)/255,A:(g>>8&255)/255,U:(g&255)/255};this.update()};du.prototype.Ii=function(u){var g=u.w,K=u.A,X=u.U;
return Math.round(g*255)<<16|Math.round(K*255)<<8|Math.round(X*255)};du.prototype.ZL=function(u){this.a5E();
var g=this.Ii(this._p);this.px(g);this.close();this.KZ=!1;this._p=null};du.prototype.II=function(u){this.a5E();
if(this.jm)this.px(this.Ii(this.k_));this.KZ=!1;this._p=null};du.prototype.a5E=function(u){var g=new eG(h.E.Y,!0);
g.data={d:h.s.anK};this.c(g)};du.prototype.xY=function(u,g){var K=aW.MP(u,g);if(K!=null)this.FI.k(K);
if(g!=hO.YJ)return;if(this._p!=null){this._p={w:(K>>16&255)/255,A:(K>>8&255)/255,U:(K>>0&255)/255};this.update()}};
du.prototype.AF=function(u,g){var K=g.QF,X={w:(K>>16&255)/255,A:(K>>8&255)/255,U:(K>>0&255)/255};if(this._p==null){var w=new eG(h.E.Y,!0);
w.data={d:h.s.Tx,SD:"crosshair",push:!0};this.c(w);this.LL=!1;this.px=g.ob;this.jm=!1;this.KZ=g.QT;this.k_=JSON.parse(JSON.stringify(X));
this.a6F.setAttribute("style","height:3em;background-color:#"+f.ae(K)+";")}this._p=X;this.update()};
du.prototype.update=function(){var u=this._p,g=this.Ii(u),K=this.IG;K[0].k(Math.round(u.w*255));K[1].k(Math.round(u.A*255));
K[2].k(Math.round(u.U*255));this.VU.k(f.ae(g));this.bJ.value="#"+f.ae(g);this.agW.setAttribute("style","height:3em;background-color:#"+f.ae(g)+";");
var X=f.UD(u.w,u.A,u.U);K=this.BQ;K[0].k(Math.round(X.xQ*360));K[1].k(Math.round(X.C9*100));K[2].k(Math.round(X.jp*100));
this.QD.k(u);if(this.KZ){this.px(this.Ii(this._p));this.jm=!0}};du.prototype.JT=function(u){return Math.max(0,Math.min(255,u))};
du.prototype.LH=function(u){return Math.max(0,Math.min(1,u))};function g2(){fL.call(this,[11,2],"contoureditor");
this.aoQ=null;this.wD=null;this.response=null;this.NX=b.V("div","cell");this.body.appendChild(this.NX);
this.Op=b.V("div","cell padded");this.body.appendChild(this.Op);var u=b.V("div","bordered padded vmargin");
this.NX.appendChild(u);this.SF=new h9(null,null,!0);this.SF.f(h.E.o,this.nH,this);u.appendChild(this.SF.e);
this.y_=b.KY(this,this.Op);this.f("closebtn",this.oE,this)}g2.prototype=new fL;g2.prototype.ZL=function(){this.close()};
g2.prototype.N=function(){fL.prototype.N.call(this);this.y_.N();this.SF.N()};g2.prototype.nH=function(u){this.wD.Crv.v=this.SF.C();
this.response(this.wD)};g2.prototype.oE=function(u){this.response(this.aoQ)};g2.prototype.AF=function(u,g){this.aoQ=JSON.parse(JSON.stringify(g.Aj));
this.wD=g.Aj;this.response=g.response;this.SF.k(this.wD.Crv.v)};function hT(){fL.call(this,[11,3],"csize");
this.rm=0;this.ww=b.V("div","form");this.ww.setAttribute("style","width:22em; margin-bottom:1em;");this.body.appendChild(this.ww);
this.Rj=new fY(!0,!0,!0,!0,!0);this.Rj.asz(!1);this.ww.appendChild(this.Rj.e);this.rC=new k6("Align with",[[8,7],[12,6]]);
this.rC.f(h.E.o,this.aev,this);this.gM=new kl([12,23,2],41);this.ww.appendChild(this.gM.e);this.gM.k(4);
this.LN=new gK(!1);this.LN.auV(new j4(0,0));this.y_=b.KY(this,this.body)}hT.prototype=new fL;hT.prototype.yL=function(u,g){return u!=null};
hT.prototype.Sn=function(){return!0};hT.prototype.Kx=function(u){return[hW.jn,hW.hU,hW.t$,hW.t_].indexOf(u)!=-1};
hT.prototype.BF=function(u,g,K,X){this.gM.ach(X.mj())};hT.prototype.aev=function(){var u=[this.gM.e,this.LN.e];
this.ww.removeChild(u[this.rm]);this.rm=this.rC.C();this.ww.appendChild(u[this.rm])};hT.prototype.N=function(){fL.prototype.N.call(this);
this.Rj.N();this.rC.N();this.gM.N();this.LN.N();this.y_.N()};hT.prototype.ZL=function(u){var g=this.Rj.C(),K=g.x,X=g.y,w=new eG(h.E.qf,!0);
w.data=R.SO.aeB(K,X,this.gM.C());this.close();this.c(w)};hT.prototype.AF=function(u,g){this.Rj.k(new j4(u.m,u.n),u.wY);
this.Rj.Jm()};function f5(){fL.call(this,[11,4],"duplinto");this.CV=null;this.kP=null;this.qu=null;var u=b.V("div","form");
u.setAttribute("style","max-width:26em");this.body.appendChild(u);this.ZT=new e8([12,43],["abc","def"]);
this.ZT.f(h.E.o,this.HQ,this);u.appendChild(this.ZT.e);b.d_(u);this.KT=new e8([1,16,0],["abc","def"]);
this.KT.f(h.E.o,this.HQ,this);u.appendChild(this.KT.e);b.d_(u);this.IR=new fu([12,48],null,14);u.appendChild(this.IR.e);
this.y_=b.KY(this,u)}f5.prototype=new fL;f5.prototype.Sn=function(){return!0};f5.prototype.N=function(){fL.prototype.N.call(this);
this.y_.N();this.ZT.N();this.IR.N()};f5.prototype.HQ=function(u){if(u&&u.target==this.KT)return;var g=this.ZT.C(),K=this.kP[g],X=this.CV,w=K!=null&&K.add.artd!=null;
for(var P=0;P<X.z.length;P++)if(X.g[X.z[P]].add.artb)w=!1;this.IR.Tm(g==this.kP.length);this.KT.Tm(w);
if(w){var D=K.root.children,q=[],C=this.qu=[];for(var P=0;P<D.length;P++){var a=D[P].j;if(a.add.artb)q.push(a.getName());
C.push(D[P].index)}this.KT.UT(q);this.KT.k(0)}else this.qu=null};f5.prototype.AF=function(u,g,K){this.CV=u;
this.kP=K;this.IR.k(u.z.length==0?"Layer":u.g[u.z[0]].getName());var X=[];for(var P=0;P<K.length;P++){var w=K[P].name;
X.push(w.length<30?w:w.slice(0,27)+"...")}X.push([11,7]);this.ZT.UT(X);this.ZT.k(K.indexOf(u));this.HQ(null)};
f5.prototype.ZL=function(u){var g=this.ZT.C();if(g==this.kP.length){var K=new f0(this.IR.C()+".psd"),X=this.CV.m,w=this.CV.n,D=this.CV.kE();
if(D!=-1){var q=this.CV.g[D].T0();X=q.m;w=q.n}K.m=X;K.n=w;K.buffer=f.L(K.m*K.n*4);var C=K.Wk();C.Q9("Background");
K.$O([C]);var a=new eG(h.E.Y,!0);a.UG=!0;a.data={d:h.s._1,UJ:K};this.c(a)}var x=this.CV.gp(null,this.CV!=this.kP[g]),a=new eG(h.E.l,!0);
a.data={d:l.Xr,g:x,Wx:this.CV,eG:this.kP[g]};if(this.qu)a.data.TS=this.qu[this.KT.C()];a.b=R.QA;a.UG=!0;
this.c(a);this.close()};function dP(){fL.call(this,[1,9],"eassets");this.nC=null;this.As=null;var u=b.V("div","form");
u.setAttribute("style","width:32em");this.body.appendChild(u);this.Yo=b.V("span");u.appendChild(this.Yo);
b.d_(u);this.xG=[new cG("Only layers / folders, whose name starts with \"-e-\""),new cG("Remove parts outside the canvas"),new cG("Trim transparent parts")];
for(var P=0;P<3;P++){var g=this.xG[P];g.k(!0);g.f(h.E.o,this.RO,this);u.appendChild(g.e);b.d_(u)}this.jr=new fK([12,14,0],["1x","2x","3x","4x"]);
this.jr.k([!0,!1,!1,!1]);u.appendChild(this.jr.e);b._r(u);this.lu=["PNG","JPG","SVG","TIFF","TGA"];this.Uy=new e8([12,50],this.lu);
this.Uy.f(h.E.o,this.ae1,this);u.appendChild(this.Uy.e);this.as=new cm;u.appendChild(this.as.e);this.y_=new dM([1,9],!0,null,!0);
this.y_.f("click",this.ZL,this);u.appendChild(this.y_.e);this.f("closebtn",this.bo,this)}dP.prototype=new fL;
dP.prototype.ae1=function(u){this.as.a03(this.lu[this.Uy.C()],!1,!1,!1,this.As.j0()!=null)};dP.prototype.bo=function(u){this.As=null};
dP.prototype.N=function(){fL.prototype.N.call(this);this.Uy.N();this.jr.N();this.y_.N();this.as.N()};
dP.prototype.AF=function(u,g,K){this.As=u;this.RO()};dP.prototype.RO=function(u){var g=this.ak5(),K="- - - "+g.length+" exportable layers";
this.Yo.textContent=K;this.ae1(null)};dP.prototype.ak5=function(){var u=this.xG[0].C(),g=[],K=this.As;
for(var P=0;P<K.g.length;P++){var X=K.g[P],w=X.getName();if(!u&&!X.xp()&&!X.rect.fg()||w.startsWith("-e"))g.push(P)}return g};
dP.prototype.xY=function(u,g){this.nC=u};dP.prototype.ZL=function(u){var g=this.As,K=[this.lu[this.Uy.C()]],X=[this.as.C()],w=this.jr.C(),D={},q={},C=this.ak5();
if(C.length==0){alert("No layers to export.");return}var a=[this.xG[1].C(),this.xG[2].C()];for(var P=0;
P<C.length;P++){var x=C[P],H=g.g[x],$=H.getName();if(q[$]!=null){q[$]++;$+=" "+q[$]}else q[$]=1;var r=H.AG();
H.H4(!0);for(var c=0;c<w.length;c++){if(!w[c])continue;var U=c+1,O=R.NP.a2Z(g,K,U,this.nC,x,X,a);for(var A=0;
A<K.length;A++){var m=K[A],i=$.slice($.startsWith("-e-")?3:0)+(U==1?"":"@"+U+"x")+"."+m.toLowerCase();
if(O[A])D[i]=new Uint8Array(O[A])}}H.H4(r)}var e=UZIP.encode(D),E=new eG(h.E.Y,!0);E.data={d:h.s.IJ,data:e,name:"assets.zip"};
this.c(E)};function bP(){fL.call(this,"Export Color Lookup Tables","exlut");this.nC=null;this.As=null;
var u=b.V("div","form");u.setAttribute("style","width:20em");this.body.appendChild(u);this.xG=[new bX("Grid Points",1,256),new k6([12,50],[".CUBE"])];
var g=[16,0];for(var P=0;P<this.xG.length;P++){var K=this.xG[P];K.k(g[P]);K.parent=this;K.f(h.E.o,this.RO,this);
u.appendChild(K.e);b.d_(u)}this.y_=b.KY(this,u);this.f("closebtn",this.bo,this)}bP.prototype=new fL;
bP.prototype.yL=function(u,g){if(Math.min(u.m,u.n)<16){alert("The document must be at least 16 x 16 pixels.",3200);
return!1}if(u.g.length<2){alert("There must be a background layer and some adjustment layers.",3200);
return!1}return!0};bP.prototype.bo=function(u){this.As=null};bP.prototype.xY=function(u,g){this.nC=u};
bP.prototype.AF=function(u,g,K){this.As=u};bP.prototype.ZL=function(){var u=this.As,g=this.xG[0].C(),K=[],X=new dS(0,0,u.m,u.n),w=f.L(g*g*4),D=w.slice(0),q=new dS(u.m-g>>>1,u.n-g>>>1,g,g),C=u.g[0],a=C.buffer,x=C.rect;
C.rect=q;C.buffer=w;for(var H=0;H<g;H++){this.ana(g,H,w);C.O(q);u.O(q);var $=u.KS();f.bV($,X,D,q);for(var r=0;
r<g;r++)for(var c=0;c<g;c++){var U=r*g+c<<2;K.push(D[U]/255,D[U+1]/255,D[U+2]/255)}}var O=bs.at4(K,g,u.name);
gP.save(O,u.name.split(".")[0]+".CUBE");C.buffer=a;C.rect=x;C.O();u.O()};bP.prototype.ana=function(u,g,K){var X=255/(u-1),w=Math.round(g*X);
for(var D=0;D<u;D++)for(var q=0;q<u;q++){var C=D*u+q<<2;K[C]=Math.round(q*X);K[C+1]=Math.round(D*X);
K[C+2]=w;K[C+3]=255}};bP.prototype.N=function(){fL.prototype.N.call(this);for(var P=0;P<this.xG.length;
P++)this.xG[P].N();this.y_.N()};function hu(){fL.call(this,[1,14],"finfo");this.x7=null;this.FD=null;
this.vo=null;this.ww=b.V("div","form scrollable label12");this.ww.setAttribute("style","width:35em;  height:38em;  margin-bottom:8px");
this.body.appendChild(this.ww);var u=b.V("div","form");this.body.appendChild(u);this.EW=new e8(null,["Hello"]);
u.appendChild(this.EW.e);this.aaZ=new dM("Add Parameter",!1,null,!0);u.appendChild(this.aaZ.e);this.aaZ.f("click",this.TM,this);
this.OE=new dM("=== S A V E ===",!1,null,!0);u.appendChild(this.OE.e);this.OE.f("click",this.Tb,this);
this.asb=""}hu.prototype=new fL;hu.prototype.hM=function(u,g){return u<450||g<450?new j4(0,0):new j4(150,100)};
hu.prototype.TM=function(u){if(this.vo.length==0)return;var g=this.vo[this.EW.C()],K=this.I5();K[g]=kf.zA[g][0];
this.k4(K);this.FD[g].e.scrollIntoView();this.FD[g].Jm()};hu.prototype.s9=function(u){var g=this.I5();
delete g[u.currentTarget.ahK];this.k4(g)};hu.prototype.Tb=function(u){var g=this.I5(),K=this.x7,X=!0;
for(var w in K)if(JSON.stringify(K[w])!=JSON.stringify(g[w]))X=!1;for(var w in g)if(JSON.stringify(K[w])!=JSON.stringify(g[w]))X=!1;
if(X)return;var D=new eG(h.E.l,!0);D.b=R.QA;D.data={d:l.H3,yb:g};this.c(D);this.x7=g;this.k4(g)};hu.apC=function(u){function g(w){var D=w.toLowerCase();
return w==D}var K=u.split(":").pop();for(var X=1;X<K.length-1;X++){if(K[X]==K[X].toUpperCase()&&(g(K[X+1])||g(K[X-1]))){K=K.slice(0,X)+" "+K.slice(X);
X++}}return K};hu.prototype.AF=function(u,g){this.x7=u.jv;this.k4(u.jv)};hu.prototype.k4=function(u){var g=this.ww,w=0;
b.Lh(g);var K=this.FD={},X=["tiff","exif","exif:GPS"],D=this.vo=[],q=[];for(var C in kf.zA){var a=hu.apC(C),x=0,H=15,$=null;
if(u[C]==null){if(kf.zA[C].length!=1||C=="photoshop:Credit"||C=="photoshop:Source"){D.push(C);q.push(a)}continue}for(var P=0;
P<X.length;P++)if(C.startsWith(X[P]))x=P;if(x!=w){b._r(g);w=x}if(C=="tiff:ImageDescription"||C=="dc:Keywords"){H=18.5;
$=3}var r=new fu(a,null,H,$);K[C]=r;var c=u[C];if(c instanceof Array)c=c[1]==0?"---":c[0]+"/"+c[1];var U=new dM("\u2716",null,fc.get([5,4]));
g.appendChild(U.e);U.f("click",this.s9,this);U.ahK=C;r.k(c);g.appendChild(r.e);b.d_(g);if(C=="exif:GPSLongitude"&&u["exif:GPSLatitude"]){this.asb=hu.asV(u["exif:GPSLatitude"])+","+hu.asV(u["exif:GPSLongitude"]);
var O=new dM("Show on map",!1,null,!0);g.appendChild(O.e);b.d_(g);O.f("click",this.ak9,this)}}this.EW.UT(q);
this.EW.k(0)};hu.prototype.I5=function(){var u=this.FD,g=kf.zA,K={};for(var X in g){var w=g[X][0],D=typeof w;
if(w==null||u[X]==null)continue;var q=u[X].C(),C="The value of \""+hu.apC(X)+"\" must ";if(D=="number"){q=parseFloat(q);
if(isNaN(q)){alert(C+"be a number.");q=w}}else if(w instanceof Array&&w.length==2){if(q.indexOf("/")==-1){alert(C+"be a fraction.");
q=w.slice(0)}else{q=q.split("/").map(parseFloat);if(isNaN(q[0])||isNaN(q[1])){q=w.slice(0)}}}K[X]=q}return K};
hu.asV=function(u){var g=u.length,K=u.slice(0,g-1).split(",").map(parseFloat),X=u.slice(g-1),w=K[0]+K[1]/60+K[2]/3600;
if(X!="N"&&X!="E")w=-w;return w};hu.prototype.ak9=function(u){window.open("https://maps.google.com?q="+this.asb,"Map")};
function aQ(){fL.call(this,[11,5],"gradienteditor");this.k_=null;this._p=null;this.ln=null;this.px=null;
this.jm=!1;this.KZ=!1;this.JF=null;this.vB=null;this.jH=-1;this.bS=-1;this.q1=0;this.y9=this.AJ.bind(this);
this.RZ=this.Ao.bind(this);this.I=b.V("canvas");this.CG=this.I.getContext("2d");this.I.setAttribute("style","display:block");
this.L8=null;b.mo(this.I);b.hh(this.I,this.V0.bind(this));this.oj=b.V("div","form");this.P0=b.V("div");
this.iv=b.V("div","form");this.yQ=b.V("div");this.$w=new e8([12,44],[[15,10,0],[24,6]]);this.$w.f(h.E.o,this.MY,this);
this.body.appendChild(this.$w.e);b._r(this.body);var u=this.oj;this.Gy=new bX([19,3,3],0,100,"%");this.Gy.f(h.E.o,this.MY,this);
this.Gy.parent=this;u.appendChild(this.Gy.e);b.d_(u);this.mz=new g5([12,0]);u.appendChild(this.mz.e);
this.Ra=b.V("div","bordered padded noalign");u.appendChild(this.Ra);this.Wg=new bX([12,0],0,100,"%");
this.Wg.parent=this;this.Wg.f(h.E.o,this.MY,this);this.Ra.appendChild(this.Wg.e);this.zs=new bX([12,40],0,100,"%");
this.zs.parent=this;this.zs.f(h.E.o,this.MY,this);this.Ra.appendChild(this.zs.e);this.Wi=new dM([5,4],!1,null,!0);
this.Wi.f("click",this.apA,this);this.Ra.appendChild(this.Wi.e);u.appendChild(this.P0);this.as$=new g5([13,0]);
u.appendChild(this.as$.e);this.Nn=b.V("div","bordered padded noalign");u.appendChild(this.Nn);this._h=new e8([12,44],[[12,45],[12,46],[12,47]]);
this._h.f(h.E.o,this.MY,this);this.Nn.appendChild(this._h.e);this.W9=new jR(!0);this.W9.parent=this;
this.W9.f(h.E.o,this.MY,this);this.Nn.appendChild(this.W9.e);this.Cq=new bX([12,40],0,100,"%");this.Cq.parent=this;
this.Cq.f(h.E.o,this.MY,this);this.Nn.appendChild(this.Cq.e);this._c=new dM([5,4],!1,null,!0);this._c.f("click",this.arh,this);
this.Nn.appendChild(this._c.e);var u=this.iv;this.to=new bX("Roughness",0,100,"%");this.to.f(h.E.o,this.MY,this);
this.to.parent=this;u.appendChild(this.to.e);u.appendChild(this.yQ);this.g3=new dM([25,1,2],!1,null,!0);
this.g3.f("click",this.MY,this);u.appendChild(this.g3.e);this.y_=b.KY(this);this.f("closebtn",this.II,this)}aQ.prototype=new fL;
aQ.prototype.II=function(u){if(this.jm)this.px(this.k_)};aQ.prototype.N=function(){fL.prototype.N.call(this);
this.y_.N();this.Gy.N();this.mz.N();this.as$.N();this.Wi.N();this._c.N();this.Wg.N();this.zs.N();this._h.N();
this.Cq.N();this.g3.N()};aQ.prototype.xY=function(u,g){this.ln=u};aQ.prototype.AF=function(u,g){this._p=JSON.parse(JSON.stringify(g.X));
this.k_=JSON.parse(JSON.stringify(g.X));this.JF=this.vB=null;this.px=g.ob;this.jm=!1;this.KZ=g.QT;this.P2();
this.Qg()};aQ.prototype.ZL=function(u){var g=this._p;this.px(g);this.close()};aQ.prototype.Kx=function(u){return u==hW.cG||u==hW.jA};
aQ.prototype.BF=function(u,g,K,X){if(X.a(hW.cG)||X.a(hW.jA)){if(this.vB)this.apA();if(this.JF)this.arh()}};
aQ.prototype.apA=function(u){var g=this._p.Trns.v;if(this.vB==null||g.length==1)return;g.splice(g.indexOf(this.vB),1);
this.vB=null;this.P2();this.Qg()};aQ.prototype.arh=function(u){var g=this._p.Clrs.v;if(this.JF==null||g.length==1)return;
g.splice(g.indexOf(this.JF),1);this.JF=null;this.P2();this.Qg()};aQ.prototype.P2=function(){var u=this.I,g=this.CG,K=b.Z();
u.width=Math.floor(410*K);u.height=Math.floor(70*K);b.DG(u,u.width,u.height);u.style.marginTop="8px";
this.L8=new dS(0,0,Math.floor(380*K),Math.floor(32*K));this.L8.x=Math.floor((u.width-this.L8.m)/2);this.L8.y=Math.floor((u.height-this.L8.n)/2);
var X=this.L8,w=X.m,D=X.n,q=X.x,C=X.y,a=new dS(0,0,w,D),x=g.getImageData(0,0,w,D),H=new Uint8Array(x.data.buffer);
f.er(H,w,D,8);var $=f.L(w*D*4);f.X.oi(this._p,$,a,[1/w,0,0,1/D],w/2,D/2,!1,0,this.ln.FK,this.ln.ui);
f.i.L_("norm",$,X,H,X,X,1);g.clearRect(0,0,u.width,u.height);g.putImageData(x,q,C);var r=this._p;if(r.Clrs){var c=r.Trns.v,U=r.Clrs.v,O=f.X.QB(U,this.ln.FK,this.ln.ui),A=Math.round(6*b.Z()),m=Math.round(14*b.Z()),i=this.vB?this.vB.v:null,e=this.JF?this.JF.v:null;
for(var P=0;P<c.length;P++){var S=c[P].v,E=Math.round(255-255*S.Opct.v.val/100);if((S==i||c[P-1]&&c[P-1].v==i||P==this.bS)&&P!=0){g.fillStyle="#000000";
g.fillRect(q-3+w*(c[P-1].v.Lctn.v+(S.Lctn.v-c[P-1].v.Lctn.v)*S.Mdpn.v/100)/4096,C-6-2,6,6)}if(S==i){g.fillStyle="#ffffff";
g.fillRect(q-A+w*(S.Lctn.v/4096)-2,C-2-m-2,2*A+4,m+4)}g.fillStyle="rgb("+E+","+E+","+E+")";g.fillRect(q-A+w*(S.Lctn.v/4096),C-2-m,2*A,m)}for(var P=0;
P<U.length;P++){var Z=U[P].v,N=O[P];if((Z==e||U[P-1]&&U[P-1].v==e||P==this.jH)&&P!=0){g.fillStyle="#000000";
g.fillRect(q-3+w*(U[P-1].v.Lctn.v+(Z.Lctn.v-U[P-1].v.Lctn.v)*Z.Mdpn.v/100)/4096,C+D+2,6,6)}if(Z==e){g.fillStyle="#ffffff";
g.fillRect(q-A+w*(Z.Lctn.v/4096)-2,C+D+2-2,2*A+4,m+4)}g.fillStyle="rgb("+Math.round(N.w)+", "+Math.round(N.A)+","+Math.round(N.U)+")";
g.fillRect(q-A+w*(Z.Lctn.v/4096),C+D+2,2*A,m)}}if(this.KZ){this.px(this._p);this.jm=!0}};aQ.prototype.Qg=function(){var u=this._p,g=u.Clrs?0:1;
this.$w.k(g);if(b.tV(this.oj))this.body.removeChild(this.oj);if(b.tV(this.iv))this.body.removeChild(this.iv);
(g==0?this.P0:this.yQ).appendChild(this.I);if(g==0){this.body.appendChild(this.oj);this.Gy.k(Math.round(100*u.Intr.v/4096));
var K=u.Trns.v,X=u.Clrs.v,w=this.vB!=null,D=this.bS!=-1;this.Wg.Tm(w);this.zs.Tm(w||D);this.Wi.Tm(w);
if(w){this.Ra.setAttribute("style","");var q=this.vB.v;this.zs.k(Math.round(100*q.Lctn.v/4096));this.Wg.k(q.Opct.v.val)}if(D)this.zs.k(K[this.bS].v.Mdpn.v);
var w=this.JF!=null,D=this.jH!=-1;this._h.Tm(w);this.W9.Tm(w);this.Cq.Tm(w||D);this._c.Tm(w);if(w){this.Nn.setAttribute("style","");
var C=this.JF.v;this.Cq.k(Math.round(100*C.Lctn.v/4096));var a=C.Type.v.Clry;this._h.k(["FrgC","BckC","UsrS"].indexOf(a));
if(a=="FrgC")this.W9.tQ(this.ln.FK);if(a=="BckC")this.W9.tQ(this.ln.ui);if(a=="UsrS")this.W9.k(C.Clr.v)}if(D)this.Cq.k(X[this.jH].v.Mdpn.v)}else{this.body.appendChild(this.iv);
this.to.k(Math.round(100*u.Smth.v/4096))}this.body.appendChild(this.y_.e)};aQ.prototype.MY=function(u){var g=this._p,K=g.Clrs?0:1;
if(u.target==this.$w){var X=K==0?JSON.parse(k8.v2.ahG).v:dJ.mt("grdm").Grad.v;this._p=X;this.Qg();this.P2();
return}if(K==0){g.Intr.v=Math.round(4096*this.Gy.C()/100);var w=g.Trns.v,D=g.Clrs.v;if(this.vB!=null){var q=this.vB.v;
q.Lctn.v=Math.round(4096*(this.zs.C()/100));q.Opct.v.val=this.Wg.C()}if(this.JF!=null){var C=this.JF.v;
C.Lctn.v=Math.round(4096*(this.Cq.C()/100));if(u.target==this.W9)this._h.k(2);var a=this._h.C();C.Type.v.Clry=["FrgC","BckC","UsrS"][a];
if(a==2)C.Clr={t:"Objc",v:this.W9.C()};else if(C.Clr)delete C.Clr}if(this.bS!=-1)w[this.bS].v.Mdpn.v=this.zs.C();
if(this.jH!=-1)D[this.jH].v.Mdpn.v=this.Cq.C()}else{g.Smth.v=Math.round(4096*this.to.C()/100);if(u.target==this.g3)g.RndS.v=Math.floor(Math.random()*4294967295)}this.P2()};
aQ.prototype.V0=function(u){var g=b.Y2(u,this.I),K=this.L8,X=(g.x*b.Z()-K.x)/K.m,w=(g.y*b.Z()-K.y)/K.n,D=this._p.Trns.v,q=this._p.Clrs.v,C=null,a=null,x=-1,H=-1;
if(w<1)for(var P=0;P<D.length;P++){var $=D[P].v;if(Math.abs($.Lctn.v/4096-X)<.02)C=D[P];if(P>0)if(Math.abs((D[P-1].v.Lctn.v+($.Lctn.v-D[P-1].v.Lctn.v)*$.Mdpn.v/100)/4096-X)<.01)x=P}if(w>0)for(var P=0;
P<q.length;P++){var r=q[P].v;if(Math.abs(r.Lctn.v/4096-X)<.02)a=q[P];if(P>0)if(Math.abs((q[P-1].v.Lctn.v+(r.Lctn.v-q[P-1].v.Lctn.v)*r.Mdpn.v/100)/4096-X)<.01)H=P}if(a==null&&C==null&&x==-1&&H==-1){if(w<0){var $={t:"Objc",v:{classID:"TrnS",Opct:{t:"UntF",v:{type:"#Prc",val:100}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
$.v.Lctn.v=Math.round(X*4096);D.push($);D.sort(this.DA);C=$}if(w>1){var q=this._p.Clrs.v,c=f.X.QB(q,this.ln.FK,this.ln.ui),U=f.X.kk(this._p,c,X),r={t:"Objc",v:{classID:"Clrt",Clr:{t:"Objc",v:f.X.Gp({w:U&255,A:U>>8&255,U:U>>16&255})},Type:{t:"enum",v:{Clry:"UsrS"}},Lctn:{t:"long",v:0},Mdpn:{t:"long",v:50}}};
r.v.Lctn.v=Math.round(X*4096);q.push(r);q.sort(this.DA);a=r}}if(a!=null)H=-1;if(C!=null)x=-1;if(a!=null||C!=null||x>-1||H>-1){this.vB=C;
this.JF=a;this.bS=x;this.jH=H;this.Qg();this.P2();b.t9(window,this.y9);b.Uo(window,this.RZ)}};aQ.prototype.AJ=function(u){var g=b.Y2(u,this.I),K=this.L8,X=(g.x*b.Z()-K.x)/K.m,w=(g.y*b.Z()-K.y)/K.n;
X=Math.max(0,Math.min(1,X));var D=this._p.Trns.v,q=this._p.Clrs.v;if(this.vB!=null){var C=this.vB.v;
C.Lctn.v=Math.round(4096*X);var a=D.indexOf(this.vB);if(a!=-1&&w<-1&&D.length>1)D.splice(a,1);if(a==-1&&w>-1)D.push(this.vB);
D.sort(this.DA)}if(this.JF!=null){var x=this.JF.v;x.Lctn.v=Math.round(4096*X);var H=q.indexOf(this.JF);
if(H!=-1&&w>2&&q.length>1)q.splice(H,1);if(H==-1&&w<2)q.push(this.JF);q.sort(this.DA)}if(this.bS>-1){var C=D[this.bS].v;
C.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(X*4096-D[this.bS-1].v.Lctn.v)/(C.Lctn.v-D[this.bS-1].v.Lctn.v))))}if(this.jH>-1){var x=q[this.jH].v;
x.Mdpn.v=Math.max(5,Math.min(95,Math.round(100*(X*4096-q[this.jH-1].v.Lctn.v)/(x.Lctn.v-q[this.jH-1].v.Lctn.v))))}if(this.vB!=null||this.JF!=null||this.bS>-1||this.jH>-1){this.Qg();
this.P2()}};aQ.prototype.Ao=function(u){b._I(window,this.y9);b.$u(window,this.RZ);if(Date.now()-this.q1<300){if(this.jH!=-1||this.bS!=-1){var g=(this.jH!=-1?this._p.Clrs.v[this.jH]:this._p.Trns.v[this.bS]).v;
g.Mdpn.v=50;this.Qg();this.P2()}else if(this.JF!=null)this.W9.DS()}this.q1=Date.now()};aQ.prototype.DA=function(u,g){return u.v.Lctn.v-g.v.Lctn.v};
function e7(){fL.call(this,[11,10],"isize");this.ww=b.V("div","form");this.ww.setAttribute("style","width:20em");
this.body.appendChild(this.ww);this.Rj=new fY(!0,!0,null,null,!0);this.ww.appendChild(this.Rj.e);this.cC=new cG([12,25,3]);
this.cC.k(!0);this.ww.appendChild(this.cC.e);this.cC.f(h.E.o,this.aru,this);this.pI=new e8([12,14,1],[[12,14,2],[12,14,3],[12,14,4]]);
this.pI.k(1);this.ww.appendChild(this.pI.e);this.y_=b.KY(this,this.body)}e7.prototype=new fL;e7.prototype.yL=function(u,g){return u!=null};
e7.prototype.Sn=function(){return!0};e7.prototype.aru=function(u){var g=this.cC.C(),K=this.Rj,X=this.pI;
if(g)X.gx();else X.ik();if(g)K.a8j();else K.ajR()};e7.prototype.N=function(){fL.prototype.N.call(this);
this.y_.N();this.pI.N();this.Rj.N()};e7.prototype.ZL=function(u){this.close();var g=this.Rj.C(),K=g.x,X=g.y,w=this.pI.C();
if(!this.cC.C())w=null;var D=new eG(h.E.qf,!0);D.data=R.SO.aou(K,X,this.Rj.h6(),w);this.c(D)};e7.prototype.AF=function(u,g){this.Rj.k(new j4(u.m,u.n),u.wY);
this.Rj.Jm()};function iT(){fL.call(this,"Import RAW","importraw");var u=b.V("div","flexrow"),g=b.V("div");
g.setAttribute("style","margin-bottom: 1em");this.body.appendChild(u);this.body.appendChild(g);var K=b.V("div","form");
K.setAttribute("style","width:18em");u.appendChild(K);var X=b.V("div","form");X.setAttribute("style","width:15em");
u.appendChild(X);this.x1=null;this.Ca=null;this.Mm=null;this.Yp=null;this.a4N=[];var w=[];for(var P=0;
P<iT.vy.length;P++)w.push(iT.vy[P]+" Bits");var D=this.w7=[new fY(!0,null,null,!0),new bX([12,72],1,8),new cG("Last one is Transparency"),new k6([12,34],w),new k6("Byte Order",["12-34","34-12"]),new e8("Guesses",[])];
for(var P=0;P<D.length;P++){var q=D[P];q.parent=this;q.f(h.E.o,P==5?this.anb:this.HQ,this);var C=P==0?K:P==5?g:X;
C.appendChild(q.e)}this.I=b.V("canvas");this.CG=this.I.getContext("2d");this.body.appendChild(this.I);
this.y_=b.KY(this,this.body)}iT.prototype=new fL;iT.prototype.N=function(){fL.prototype.N.call(this);
var u=this.w7;this.y_.N();for(var P=0;P<u.length;P++)u[P].N()};iT.prototype.ZL=function(u){this.close();
var g=this.w7[0].C(),K=eH.hq(this.Ca,[{data:this.Mm,ZE:new dS(0,0,g.x,g.y)}]);if(this.Yp)K.g1=this.Yp;
var X=new eG(h.E.Y,!0);X.data={d:!0?h.s._1:h.s.es,UJ:K};this.c(X)};iT.vy=[8,16];iT.prototype.AF=function(u,g){this.x1=new Uint8Array(g.kt);
this.Ca=g.$V;var K=this.x1.length,X=[1,3,4],w=0,D=0,q=1,C=1,a=this.a4N=[];for(var x=0;x<3;x++){for(var H=0;
H<2;H++){var $=iT.vy[H],r=X[x],c=r*$,U=Math.round(K*8/c);if(U!=K*8/c)continue;for(var O=0;O<=4e3;O++)for(var A=0;
A<=4e3;A++)if(O*A==U){var m=0;if(O==A)m+=64;if(Math.round(O/100)==O/100&&Math.round(A/100)==A/100)m+=32;
if(Math.round(O/10)==O/10&&Math.round(A/10)==A/10)m+=16;if(Math.round(O/2)==O/2&&Math.round(A/2)==A/2)m+=8;
a.push([O,A,r,$,m])}}}var i=function(Z,N){if(N[4]!=Z[4])return N[4]-Z[4];var J=Math.max(Z[0],Z[1])/Math.min(Z[0],Z[1]),y=Math.max(N[0],N[1])/Math.min(N[0],N[1]);
if(J!=y)return J-y;return N[0]-Z[0]};a.sort(i);var e=this.w7,S=[];for(var P=0;P<a.length;P++){var E=a[P];
S.push(E[0]+" x "+E[1]+", "+E[2]+"ch, "+E[3]+"-bit")}e[5].UT(S);e[5].k(0);this.anb(null)};iT.prototype.anb=function(u){var g=this.w7,K=this.a4N[this.w7[5].C()];
g[0].k(new j4(K[0],K[1]),72);g[1].k(K[2]);g[3].k(iT.vy.indexOf(K[3]));this.HQ()};iT.prototype.HQ=function(u){var g=this.w7,K=g[0].C(),X=K.x,w=K.y,D=iT.vy[g[3].C()],q=this.x1;
if(D==16&&g[4].C()==1){q=q.slice(0);for(var P=0;P<q.length;P+=2){var C=q[P];q[P]=q[P+1];q[P+1]=C}}var a=this.Mm=this.Tu(q,X,w,g[1].C(),D,g[2].C()),x=this.I,H=this.CG,$=[a,new dS(0,0,X,w)];
f.mm($);for(var P=0;P<$.length;P+=2)if($[P+1].n<300){a=$[P];X=$[P+1].m;w=$[P+1].n;break}x.width=X;x.height=w;
b.DG(x,X,w);var r=new ImageData(new Uint8ClampedArray(a.buffer),X,w);H.putImageData(r,0,0)};iT.prototype.Tu=function(u,g,K,X,w,D){this.Yp=null;
var q=[],C=g*K;for(var a=0;a<X;a++){var x=f.L(C);q.push(x);if(w==8)for(var P=0;P<C;P++)x[P]=u[P*X+a];
else if(w==16)for(var P=0;P<C;P++)x[P]=Math.round((u[(P*X+a)*2]<<8|u[(P*X+a)*2+1])*(255/65535))}var H=f.L(C*4);
new Uint32Array(H.buffer).fill(4278190080);if(D){f.K1(q.pop(),H,3);X--}if(X==0){}else if(X==1)f.qM(q[0],H);
else{f.K1(q[0],H,0);f.K1(q[1],H,1);if(X>2){f.K1(q[2],H,2);if(X>3){this.Yp=[];for(var P=3;P<X;P++){var $=new l.I2;
$.name="Alpha "+(P-2);$.rect=new dS(0,0,g,K);$.channel=q[P];this.Yp.push($)}}}}return H};function cv(u,g,K){i6.call(this);
this.e=b.V("div","");this.nG=u;this.sY=null;this.$H=g==null?!1:g;this.PR=null;this.d8=K;this.Vr=[];this.z3=[];
this.bM=[];this.uf=[];this.kz=0;this.sY=this.a48(cv.uf[u]);this.Nf();this.Dv=null;this.aqF;this.adu}cv.prototype=new i6;
cv.prototype.R4=function(u,g,K,X,w){this.Dv=w;this.aqF=JSON.parse(JSON.stringify(this.PR));if(this.sY.lagl)this.adu=this.sY.lagl.C()[0]};
cv.prototype.ai=function(u,g,K,X,w){var D=this.Dv,q=this.nG,C=this.aqF;if(D==null)return;var a=(w.x-D.x)/u.t.P,x=(w.y-D.y)/u.t.P;
if(q=="GrFl"){var H=JSON.parse(JSON.stringify(C.Ofst.v));H.Hrzn.v.val+=a*.5;H.Vrtc.v.val+=x*.5;this.sY.Ofst.k(H,!0)}if(q=="patternFill"){var H=JSON.parse(JSON.stringify(C.phase.v));
H.Hrzn.v+=a;H.Vrtc.v+=x;this.sY.phase.k(H,!0)}if(q=="DrSh"||q=="IrSh"||q=="ChFX"){var $=C.Dstn.v.val,r=this.adu*Math.PI/180,c=-Math.cos(r)*$+a,U=Math.sin(r)*$+x;
this.sY.Dstn.k(Math.sqrt(c*c+U*U),!0);this.sY.lagl.k([Math.atan2(U,-c)*180/Math.PI],!0)}};cv.prototype.RB=function(u,g,K,X,w){this.Dv=null};
cv.prototype.aqB=function(){for(var P=0;P<this.uf.length;P++){b._n(this.uf[P],"selected");if(this.bM[P]instanceof cG)this.bM[P].k(!1)}};
cv.prototype.aqM=function(u){var g=this.a9y.bind(this);for(var P=0;P<this.bM.length;P++){var K=b.V("div","listitem");
this.uf.push(K);if(P>0)K.textContent="\u2003";K.appendChild(this.bM[P].e);if(k8.a2e.indexOf(this.nG)!=-1){var X=new dM("+");
X.Vn();X.e.style.float="right";K.appendChild(X.e);var w=new dM("\u2B0D");w.Vn();w.e.style.float="right";
w.e.style["margin-right"]="2px";K.appendChild(w.e)}K.addEventListener("click",g,!1);u.appendChild(K)}};
cv.eP=function(u,g){var K=g.getBoundingClientRect();return(u.clientY-K.top)/K.height};cv.prototype.a9y=function(u){var g=u.target.tagName.toLowerCase();
if(g=="input"){return}if(g=="button"){var K=new eG(h.E.l,!0),X=u.target.textContent=="+",w=X?0:cv.eP(u,u.target)<.5?-1:1;
if(X)K.data={d:"st_dupsingle",j:this.parent.data.j,cZ:this.d8};else K.data={d:"st_movsingle",j:this.parent.data.j,cZ:this.d8,a9x:w};
K.b=R.vz;K.UG=!0;this.c(K);K=new eG("redrawall",!0);K.data={a9x:w};this.c(K);return}b.oE(u);this.qF();
this.kz=this.uf.indexOf(u.currentTarget);this.c(new eG("showme"))};cv.prototype.qF=function(){if(this.sY.enab&&this.sY.enab.C()==!1)this.tD({ly:"enab",h:!0})};
cv.prototype.a7W=function(){var u=this.uf[this.kz];if(u)b.AD(u,"selected");return this.z3[this.kz]};
cv.prototype.a48=function(u){var g={};for(var P=0;P<u.length;P++){var K=u[P],X=null;if(K=="----")X={e:b.V("hr")};
if(K=="\n")X={e:b.V("br")};if(K=="blOptions")X=new g5([14,10]);if(K=="brst")X=new fK([12,72],["R","G","B"]);
if(K=="knko")X=new e8("Knockout",[[13,1,0],"Shallow","Deep"]);if(K=="enab")X=new cG(k8.names[k8.order.indexOf(this.nG)]);
if(K=="lrMd"||K=="Md")X=new e8([12,19,0],b0.ET,!1,b0.CX);if(K=="Opct")X=new cV([12,0],0,100,"%");if(K=="iOpa")X=new cV([12,26],0,100,"%");
if(K=="blIf")X=new b$;if(K=="ShdN")X=new cV([12,68],0,100,"%");if(K=="lagl"||K=="Angl")X=new bn([12,15],this.nG=="ebbl");
if(K=="uglg")X=new cG([12,27]);if(K=="Dstn")X=new cV([12,28],0,200,"px");if(K=="Ckmt")X=new cV([12,29],0,100,"%");
if(K=="blur")X=new cV([12,14,0],0,200,"px");if(K=="TrnS"||K=="MpgS")X=new bz([12,21]);if(K=="Nose")X=new cV([12,30],0,100,"%");
if(K=="layerConceals")X=new cG([12,31]);if(K=="AntA"||K=="antialiasGloss")X=new cG([12,25,1]);if(K=="GlwT")X=new e8([12,32],k8.pe.names);
if(K=="glwS")X=new e8([12,70],k8.pe.ads);if(K=="Inpr")X=new cV([12,12],1,100,"%");if(K=="bvlS")X=new e8([12,22],k8.bU.style);
if(K=="bvlT")X=new e8([12,32],k8.bU.adU);if(K=="bvlD")X=new e8(null,k8.bU.dir);if(K=="srgR")X=new cV([12,34],0,1e3,"%");
if(K=="Sftn")X=new cV([12,35],0,20,"px");if(K=="Lald")X=g.lagl;if(K=="hglM"||K=="sdwM")X=new e8([12,36],b0.ET,!1,b0.CX);
if(K=="hglC"||K=="sdwC")X=new jR;if(K=="hglO"||K=="sdwO")X=new cV([12,0],0,100,"%");if(K=="Invr"||K=="InvT")X=new cG([4,11]);
if(K=="Sz")X=new cV([12,14,0],1,200,"px");if(K=="Styl")X=new e8([12,40],k8.stroke.names);if(K=="PntT")X=new e8([12,66],k8.stroke.aij);
if(K=="Clr")X=new jR(!0);if(K=="Grad"){X=new hJ(!0,[12,37],!0);X.k(JSON.parse(k8.v2.aqw).v)}if(K=="Rvrs")X=new cG([12,23,0]);
if(K=="Dthr")X=new cG([12,23,3]);if(K=="Type")X=new e8([12,22],k8.X.names.slice(0,this.nG=="FrFX"?6:5));
if(K=="Ptrn")X=new jT([12,62]);if(K=="Scl")X=new cV([12,38],5,500,"%",0,!0);if(K=="Algn")X=new cG([12,39]);
if(K=="Ofst")X=new gK(!0);if(K=="phase")X=new gK(!1);if(K=="useShape")X=new cG([12,21]);if(K=="useTexture")X=new cG([12,67]);
if(K=="textureDepth")X=new cV([12,34],-300,300,"%");var w=K=="----"||K=="\n"?K+P:K;if(X!=null)g[w]=X}return g};
cv.prototype.auG=function(u){var g=this.z3[this.kz];for(var P=0;P<u.length;P++){var K=this.sY[u[P]];
if(K&&g.contains(K.e))g.removeChild(K.e)}};cv.prototype.aoC=function(u){var g=this.z3[this.kz];for(var P=0;
P<u.length;P++){var K=this.sY[u[P]];if(K&&!g.contains(K.e))g.appendChild(K.e)}};cv.prototype.xY=function(u,g){if(this.sY==null)return;
var K=g==hO.Jr;if(this.sY.Grad){this.sY.Grad.AT(u.FK,u.ui);if(K||g==hO.YJ||g==hO.WQ)this.sY.Grad.QC(u.N3)}if(this.sY.Ptrn){if(K||g==hO.WO)this.sY.Ptrn.QC(u.u7)}if(this.sY.TrnS){if(K||g==hO.h9)this.sY.TrnS.QC(u.UH)}if(this.sY.MpgS){if(K||g==hO.h9)this.sY.MpgS.QC(u.UH)}};
cv.prototype.N=function(){for(var P=0;P<this.Vr.length;P++)this.Vr[P].N();for(var u in this.sY)if(this.sY[u]instanceof i6)this.sY[u].N()};
cv.prototype.Nf=function(){for(var u in this.sY){var g=this.sY[u];g.parent=this;if(g instanceof i6)g.f(h.E.o,this.ao_,this);
if(this.z3.length==0||u=="useShape"||u=="useTexture"){var K=new g5(g.adf()),X=b.V("div","bordered padded");
if(this.$H==!1){X.appendChild(K.e);X.appendChild(b.V("hr",""))}this.Vr.push(K);this.z3.push(X);this.bM.push(g)}else this.z3[this.z3.length-1].appendChild(g.e)}};
cv.prototype.update=function(u,g){if(this.sY==null)return;this.PR=JSON.parse(JSON.stringify(g));for(var K in g){if("Opct iOpa hglO sdwO Dstn Ckmt blur Nose Scl Sz Inpr srgR Sftn textureDepth ShdN".split(" ").indexOf(K)!=-1)this.sY[K].k(g[K].v.val);
if("enab brst knko Clr hglC sdwC uglg Grad TrnS MpgS Rvrs Dthr Algn Invr InvT Ptrn layerConceals useShape useTexture Ofst phase blIf".split(" ").indexOf(K)!=-1){this.sY[K].k(g[K].v,u)}if(["Md","hglM","sdwM"].indexOf(K)!=-1)this.sY[K].k(b0.nG.indexOf(g[K].v.BlnM));
if(K=="lrMd"){var X=(g.xp?[[15,10,27]]:[]).concat(b0.ET),w=(g.xp?[1]:[]).concat(b0.CX);this.sY[K].UT(X,w);
this.sY[K].k(g[K].v)}if(K=="Angl")this.sY[K].k([g[K].v.val]);if(K=="lagl"){var D=g.uglg&&g.uglg.v?u.pm():g.lagl.v.val;
this.sY[K].k([D])}if(K=="Lald"){var D=g.uglg&&g.uglg.v?u.lb():g.Lald.v.val;this.sY[K].k([null,D])}if(K=="Type")this.sY[K].k(k8.X.types.indexOf(g.Type.v.GrdT));
if(K=="Styl")this.sY[K].k(k8.stroke.types.indexOf(g.Styl.v.FStl));if(K=="PntT"){var q=k8.stroke.oC.indexOf(g.PntT.v.FrFl);
this.sY[K].k(q);if(!this.$H){this.auG(k8.rS.concat(k8.DK.concat(k8.lf)));this.aoC([k8.rS,k8.DK,k8.lf][q])}}if(K=="GlwT")this.sY[K].k(k8.pe.types.indexOf(g.GlwT.v.BETE));
if(K=="glwS")this.sY[K].k(k8.pe.abo.indexOf(g.glwS.v.IGSr));if(K=="bvlS")this.sY[K].k(k8.bU.types.indexOf(g.bvlS.v.BESl));
if(K=="bvlT")this.sY[K].k(k8.bU.ag2.indexOf(g.bvlT.v.bvlT));if(K=="bvlD")this.sY[K].k(["In","Out"].indexOf(g.bvlD.v.BESs))}};
cv.prototype.ao_=function(u){for(var g in this.sY){if(this.sY[g]!=u.target)continue;var K=null,X=!1;
if("Opct iOpa hglO Nose Scl sdwO Inpr srgR textureDepth ShdN".split(" ").indexOf(g)!=-1)K={type:"#Prc",val:u.target.C()};
if(["Dstn","Ckmt","blur","Sz","Sftn"].indexOf(g)!=-1)K={type:"#Pxl",val:u.target.C()};if(["Angl","lagl"].indexOf(g)!=-1)K={type:"#Ang",val:u.target.C()[0]};
if("enab brst knko Clr hglC sdwC Grad TrnS MpgS Rvrs Dthr Algn Invr InvT Ptrn layerConceals lrMd useShape useTexture AntA antialiasGloss Ofst phase blIf".split(" ").indexOf(g)!=-1)K=u.target.C();
if(["Md","hglM","sdwM"].indexOf(g)!=-1)K={BlnM:b0.nG[u.target.C()]};if(g=="uglg"){K=u.target.C();X=!0}if(g=="PntT"){K={FrFl:k8.stroke.oC[u.target.C()]};
X=!0}if(g=="Lald")K={type:"#Ang",val:u.target.C()[1]};if(g=="Type")K={GrdT:k8.X.types[u.target.C()]};
if(g=="Styl")K={FStl:k8.stroke.types[u.target.C()]};if(g=="GlwT")K={BETE:k8.pe.types[u.target.C()]};
if(g=="glwS")K={IGSr:k8.pe.abo[u.target.C()]};if(g=="bvlS")K={BESl:k8.bU.types[u.target.C()]};if(g=="bvlT")K={bvlT:k8.bU.ag2[u.target.C()]};
if(g=="bvlD")K={BESs:["In","Out"][u.target.C()]};this.tD({ly:g,h:K});if(X){if(this.$H)this.update(null,this.PR);
else{var w=this.parent,D=w.UJ,q=this.d8,C=D.g[w.data.j].add.lmfx[k8.pg[q[0]]].v[q[1]].v;this.update(D,C)}}}};
cv.prototype.tD=function(u){if(this.PR&&this.PR[u.ly])this.PR[u.ly].v=u.h;if(this.$H){this.c(new eG(h.E.o))}else{u.d="changeprop";
u.j=this.parent.data.j;u.Mw=this.d8;var g=new eG(h.E.l,!0);g.data=u;g.b=R.vz;g.UG=!0;this.c(g);this.c(new eG("afterchange",!0))}};
cv.prototype.C=function(){return JSON.parse(JSON.stringify(this.PR))};cv.uf={bops:"blOptions lrMd Opct ---- iOpa brst ---- blIf".split(" "),DrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose layerConceals".split(" "),IrSh:"enab Md Clr Opct lagl uglg Dstn Ckmt blur TrnS Nose".split(" "),OrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","Ckmt","blur","TrnS","Inpr","ShdN"],IrGl:["enab","Md","Opct","Nose","\n","Clr","Grad","----","GlwT","glwS","Ckmt","blur","TrnS","Inpr","ShdN"],ebbl:["enab","bvlS","bvlT","bvlD","srgR","blur","Sftn","----","lagl","Lald","uglg","TrnS","\n","hglM","hglC","hglO","sdwM","sdwC","sdwO","useShape","MpgS","Inpr","useTexture","Ptrn","Scl","textureDepth","InvT","Algn","phase"],SoFi:["enab","Md","Opct"].concat(k8.rS),GrFl:["enab","Md","Opct"].concat(k8.DK),patternFill:["enab","Md","Opct"].concat(k8.lf),ChFX:"enab Md Clr Opct lagl Dstn blur MpgS Invr".split(" "),FrFX:["enab","Sz","Styl","\n","Md","Opct","PntT","\n"].concat(k8.rS.concat(k8.DK.concat(k8.lf)))};
function fe(){fL.call(this,[11,6],"layerstyle");this.arJ=-1;this.data={};this.UJ=null;this.nC=null;this.Eq=[];
this.SE=[];b.AD(this.body,"flexrow");this.NX=b.V("div","bordered");this.NX.setAttribute("style","min-width:13em;");
this.body.appendChild(this.NX);this.R7=b.V("div","");this.R7.setAttribute("style","width:25em; padding-left: 1em;");
this.body.appendChild(this.R7);this.Op=b.V("div","form");this.Op.setAttribute("style","padding-left: 1em; width:7em;");
this.body.appendChild(this.Op);this.y_=b.KY(this,this.Op);this.nw=new dM([12,87],!0,null,!0);this.nw.f("click",this.agC,this);
this.Op.appendChild(this.nw.e);this.LF=new eE;this.LF.parent=this;this.LF.f(h.E.o,this.anG,this);this.Op.appendChild(this.LF.e);
this.f("closebtn",this.II,this);this.f("redrawall",this.a8f,this)}fe.prototype=new fL;fe.prototype.Sn=function(){return!0};
fe.prototype.HI=function(){return!0};fe.prototype.R4=function(u,g,K,X,w){var D=this.mw();if(D)D.R4(u,g,K,X,w)};
fe.prototype.ai=function(u,g,K,X,w){var D=this.mw();if(D)D.ai(u,g,K,X,w)};fe.prototype.RB=function(u,g,K,X,w){var D=this.mw();
if(D)D.RB(u,g,K,X,w)};fe.prototype.mw=function(u){if(u==null)u=this.data.index;return u==null?null:u==0?this.Eq[0]:this.SE[u[0]][u[1]]};
fe.prototype.anG=function(u){var g=this.LF.C();this.tD({d:"setstl",h:g.lF});this.a8f(null)};fe.prototype.agC=function(u){var g=this.UJ,K=this.data.j;
if(K==null)K=g.z[0];var X=this.UJ.g[K],w=bW.afp(X),D=new eG(h.E.Y,!0);D.data={d:h.s.zS,oy:"add",M3:hO.vO,J$:[JSON.parse(JSON.stringify(w))]};
this.c(D)};fe.prototype.a5z=function(u){this.data.index=u.currentTarget.d8;this.SM(u.currentTarget.d8)};
fe.prototype.a8f=function(u){this.AF(this.UJ,this.data)};fe.prototype.SM=function(u,g){b.Lh(this.R7);
for(var P=0;P<this.Eq.length;P++)this.Eq[P].aqB();var K=this.mw(u);this.R7.appendChild(K.a7W());if(g)K.qF();
var X=this.UJ;if(X){var w=X.g[this.data.j];this.Eq[0].update(X,R.hn.sb(X,w));var D=w.add.lmfx;if(D==null)return;
for(var P=0;P<k8.order.length;P++){var q=D[k8.pg[P]].v;for(var C=0;C<q.length;C++)this.SE[P][C].update(X,q[C].v)}}if(g)K.qF()};
fe.prototype.N=function(){fL.prototype.N.call(this);this.nw.N();this.LF.N();this.y_.N();for(var P=0;
P<this.Eq.length;P++)this.Eq[P].N()};fe.prototype.AF=function(u,g){var K=g.j==null;this.data.j=g.j;this.data.index=g.index;
g=this.data;this.UJ=u;if(K)g.j=u.z.length==0?u.g.length-1:u.z[0];b.Lh(this.NX);var X=u.g[g.j].add.lmfx;
this.br();this.Eq=[new cv("bops",!1,0)];this.SE=[];for(var P=0;P<k8.order.length;P++){this.SE.push([]);
var w=X==null?[]:X[k8.pg[P]].v;for(var D=0;D<w.length;D++){var q=new cv(k8.order[P],!1,[P,D]);this.Eq.push(q);
this.SE[P].push(q)}if(w.length==0){var q=new cv(k8.order[P],!1,[P,0]);this.Eq.push(q);this.SE[P].push(q)}}this.N();
this.avH(this.nC,hO.Jr);for(var P=0;P<this.Eq.length;P++){this.Eq[P].parent=this;this.Eq[P].aqM(this.NX);
this.Eq[P].f("showme",this.a5z,this)}if(g.index==null||g.index==0||!K&&X[k8.pg[g.index[0]]].v.length==0){this.SM(0)}else this.SM(g.index,K);
this.f("afterchange",this.br,this)};fe.prototype.br=function(u){var g=this.UJ,K=this.data.j;if(K==null)K=g.z[0];
var X=this.UJ.g[K],w=bW.afp(X);this.LF.k(w,g.add.Patt?g.add.Patt:[],g.pm(),g.lb())};fe.prototype.xY=function(u,g){this.nC=u;
this.avH(u,g);if(g==hO.vO||g==hO.Jr){this.LF.QC([u.qw,u.u7])}if(g==hO.X4){}};fe.prototype.avH=function(u,g){for(var P=0;
P<this.Eq.length;P++)this.Eq[P].xY(u,g)};fe.prototype.II=function(u){this.tD({d:"cancel"})};fe.prototype.ZL=function(u){this.tD({d:"confirm"});
this.close()};fe.prototype.tD=function(u){u.j=this.data.j;var g=new eG(h.E.l,!0);g.data=u;g.b=R.vz;g.UG=!0;
this.c(g);this.br()};fe.zw=function(u){var g=[{name:[14,10],nf:!0}];for(var P=0;P<k8.names.length;P++)g.push({name:k8.names[P]});
if(u){g[g.length-1].nf=!0;g.push({name:"Scale Effects",K:function(K){return{K:K!=null&&K.z.length!=0&&K.g[K.z[0]].uU()}}});
g.push({name:["VAR0 VAR1",[12,49],[9,1]],K:function(K){return{K:K!=null&&K.z.length!=0&&K.g[K.z[0]].add.lmfx!=null}}})}return g};
fe.c_=function(u){var g=[{T:h.E.Y,M:{d:h.s.KP,Pu:"layerstyle"}}];for(var P=0;P<k8.names.length;P++)g.push({T:h.E.Y,M:{d:h.s.KP,Pu:"layerstyle",index:[P,0]}});
if(u){g.push({T:h.E.Y,M:{d:h.s.KP,Pu:"scaleeffects",gY:100,Nv:{T:h.E.l,b:R.vz,M:{d:"scaleeffects"}}}});
var K={classID:"Mk",null:bd.Af("Lyr"),Usng:{t:"obj ",v:[{t:"prop",v:{classID:"Prpr",keyID:"Lefx"}},{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]}};
g.push({T:h.E.qf,M:{$T:"make",NA:K}})}return g};fe.awO=function(u){var g=[];if(u)g.push({name:[6,48,0,0],L2:!0},{name:[6,48,0,1],L2:!0},{name:[6,48,0,2],L2:!0,nf:!0});
for(var K in jO.names)g.push({name:jO.names[K],nf:jO.aq_.indexOf(K)!=-1,L2:_[K]!=null});return g};fe.Fe=function(u){var g=[];
if(u){g.push({T:h.E.l,b:R.Zl,M:{d:"newfill",rM:0}});for(var P=1;P<3;P++)g.push({T:h.E.qf,M:R.kN.cH(P)})}for(var K in jO.names){var X=dJ.mt(K);
if(X==null)X={};for(var w in jO.LC)if(jO.LC[w]==K)X.classID=w;var D={$T:"make",NA:{classID:"Mk",null:bd.Af("AdjL"),Usng:{t:"Objc",v:{classID:"AdjL",Type:{t:"Objc",v:X}}}}};
g.push({T:h.E.qf,M:D})}return g};function gE(){fL.call(this,"Merge Channels","mergechannels");this.De=null;
var u=b.V("div","form");this.body.appendChild(u);this.w7=[];for(var P=0;P<3;P++){var g=new e8(jO.Kh[P],[]);
this.w7.push(g);u.appendChild(g.e);b.d_(u)}this.y_=b.KY(this,u)}gE.prototype=new fL;gE.prototype.N=function(){fL.prototype.N.call(this);
this.y_.N();for(var P=0;P<3;P++)this.w7[P].N()};gE.prototype.AF=function(u,g,K,X){this.De=K;var w=[];
for(var P=0;P<K.length;P++)w.push(K[P].name);for(var P=0;P<3;P++){var D=this.w7[P];D.UT(w);D.k(Math.min(P,K.length-1))}};
gE.prototype.ZL=function(u){var g=this.De,K=g[0],X=new eG(h.E.qf,!0);X.data=f0.Kq(K.m,K.n,K.wY,"Merged Document","Wht",!1);
this.c(X);var w=[];for(var P=0;P<3;P++)w.push(g[this.w7[P].C()].KS());var K=g[g.length-1],D=K.g[0],q=D.buffer;
for(var P=0;P<q.length;P+=4){q[P]=w[0][P];q[P+1]=w[1][P];q[P+2]=w[2][P]}D.O();K.O();this.close()};function il(){fL.call(this,[1,10],"script");
var u=b.V("div","form");u.setAttribute("style","width:44em");this.body.appendChild(u);this.nC=null;this.OG=[];
this.ZW=[];this.alG;var g=this.OE=new dM([1,2],!1,null,!0);g.f("click",this.Tb,this);u.appendChild(g.e);
var K=new dM("JS Reference",!1,null,!0);K.f("click",this.a6r,this);u.appendChild(K.e);u.appendChild(new g5("Demos:").e);
this.a4U=[];var X=il.e$;for(var P=0;P<X.length;P++){var w=new dM(X[P].K2,!1,null,!0);this.a4U.push(w);
u.appendChild(w.e);w.f("click",this.aw4,this)}this.Gl=b.V("textarea");b.H5(this.Gl);this.Gl.setAttribute("rows",16);
this.Gl.setAttribute("style","display:block;tab-size:4; font-family:monospace;width:100%;");u.appendChild(this.Gl);
var D=new dM("Run",!0,null,!0);D.f("click",this.ZL,this);u.appendChild(D.e);this.YD=b.V("div");u.appendChild(this.YD)}il.prototype=new fL;
il.prototype.N=function(){this.OE.N()};il.prototype.Tb=function(){var u=this.alG;if(u==null)u="script.jsx";
var g=new eG(h.E.Y,!0);g.data={d:h.s.KP,Pu:"namewindow",gY:u.slice(0,u.length-4),r5:this.abF.bind(this)};
this.c(g)};il.prototype.abF=function(u){var g=this.Gl.value,K=k.o0(g),X=new eG(h.E.Y,!0);X.data={d:h.s.Xs,kt:K.buffer,r_:u+".jsx",aeE:!0};
this.c(X)};il.prototype.afX=function(u){var P=this.OG.indexOf(u.target),g=this.alG=this.ZW[P],K=this.nC.dH.rF[g],X=new Uint8Array(K),w=k.KO(X,0,X.length);
this.Gl.value=w};il.prototype.AF=function(u,g,K){this.Gl.value=il.e$[0].Oa;this.aan()};il.prototype.aan=function(){var u=this.nC.dH,g=this.YD;
b.Lh(g);this.OG=[];this.ZW=[];g.textContent="Saved scripts: ";for(var K in u.rF){if(K.endsWith(".jsx")){var X=new dM(K,!1,null,!0);
this.OG.push(X);this.ZW.push(K);X.f("click",this.afX,this);g.appendChild(X.e)}}};il.prototype.xY=function(u,g){this.nC=u;
if(g==hO.z6)this.aan()};il.prototype.a6r=function(u){var g=new eG(h.E.Y,!0);g.data={d:h.s.cF,link:"https://www.adobe.com/content/dam/acom/en/devnet/photoshop/pdfs/photoshop-cc-javascript-ref-2019.pdf"};
this.c(g)};il.prototype.ZL=function(u){var g=new eG(h.E.Y,!0);g.data={d:h.s.Tw,h1:this.Gl.value};this.c(g)};
il.prototype.aw4=function(u){var g=this.a4U.indexOf(u.currentTarget);this.Gl.value=il.e$[g].Oa};il.e$=[{K2:"Hello",Oa:"\nalert(\"Hello Photopea!\");\n"},{K2:"Process Layers",Oa:"\nvar lays = app.activeDocument.layers;\n\nfor(var i=0; i<lays.length; i++)\n{\n"+"\t//lays[i].visible = false;\n"+"\t//lays[i].opacity = 50;\n"+"\tlays[i].name = \"My Layer \"+i;\n}"},{K2:"Clone Layers",Oa:"\nvar orig = app.activeDocument.activeLayer;\n"+"var cnt = 12;\n"+"var angle = Math.floor(360 / cnt);\n"+"\n"+"for(var i=1; i<cnt; i++)\n"+"{\n"+"\tvar nlay = orig.duplicate();\n"+"\t//nlay.translate(30*i, 20*i);\n"+"\tnlay.rotate(angle * i, AnchorPosition.BOTTOMCENTER);\n"+"}"}];
function gs(){fL.call(this,[11,7],"newproject");this.data=null;this.De=null;var u=b.V("div","flexrow");
this.np=u;this.body.appendChild(u);var g=b.V("div","form");this.ww=g;u.appendChild(g);this.IR=new fu([12,48],null,10);
g.appendChild(this.IR.e);b.d_(g);this.Rj=new fY(!0,null,null,null,!0);this.Rj.k(new j4(1280,720),72);
this.Rj.f(h.E.o,this.jb,this);g.appendChild(this.Rj.e);this.FB=new aH;this.FB.parent=this;g.appendChild(this.FB.e);
this.U8=new dM("\u02C5",null,[0,14],!0);this.U8.f("click",this.wc,this);g.appendChild(this.U8.e);var K=this.aqf=b.V("span");
g.appendChild(K);K.style.display="none";this.a2K=new e8([13,6],["sRGB","Adobe RGB","ProPhoto RGB","Display P3"]);
K.appendChild(this.a2K.e);this.zY=new cG([1,16,1]);K.appendChild(this.zY.e);this.y_=new dM([12,49],!0,null,!0);
this.y_.f("click",this.ZL,this);g.appendChild(this.y_.e);var X=gs.x1,w=[];for(var P=0;P<X.length;P++)w.push(X[P].name);
this.u0=new k6(null,w);this.u0.f(h.E.o,this.aoL,this);g.appendChild(this.u0.e);this.u0.e.style["margin-top"]="1em";
this._Y=new fB(!0);this._Y.f(h.E.o,this.a5f,this);g.appendChild(this._Y.e);this.aoL();this.Mk=new dN;
this.Mk.parent=this;this.Mk.e.setAttribute("style","margin-left:1em");this.Mk.f("tempready",this.asd,this)}gs.prototype=new fL;
gs.prototype.wc=function(u){var g=this.aqf,K=g.style.display!="none";g.style.display=K?"none":"";this.U8.Db(K?"\u02C5":"\u02C4");
this.rc(this.QM,this.xQ)};gs.prototype.xY=function(u,g){this.Mk.xY(u)};gs.prototype.hM=function(u,g){return new j4(Math.max(0,Math.min(70,(u-690)/2)),u>g?Math.max(0,Math.min(50,(g-400)/2)):0)};
gs.prototype.rc=function(u,g){this.QM=u;this.xQ=g;this.ww.setAttribute("style","width:"+Math.min(u-24,338)+"px");
this._Y.e.style.height=g-248-(this.aqf.style.display=="none"?0:28)+"px";var K=this.Mk.e,X=K.parentNode;
if(u<500){if(X!=null)this.np.removeChild(K)}else{if(X==null)this.np.appendChild(K);this.Mk.rc(u-378,g-28)}};
gs.prototype.jb=function(){this.Mk.k(this.Rj.C())};gs.prototype.a5f=function(u){var g=this._Y.C()[0],K=gs.x1[this.u0.C()].qy[g],X=K[4];
if(X==0)X=72;var w=K[1],D=K[2],q=["px","%","mm","in"].indexOf(K[3]),C=[1,1,25.4/X,1/X][q];w/=C;D/=C;
this.Rj.k(new j4(Math.round(w),Math.round(D)),X);this.Rj.acB(q);this.jb()};gs.prototype.aoL=function(u){var g=gs.x1[this.u0.C()].qy,K=[],X=[],w=Math.round(106*b.Z()),D=Math.round(106*b.Z()),q=0;
for(var P=0;P<g.length;P++)q=Math.max(q,g[P][1],g[P][2]);for(var P=0;P<g.length;P++){var C=g[P],a=C[1]+" x "+C[2]+" "+C[3];
if(C[3]=="in")a=(C[1]*25.4).toFixed(0)+" x "+(C[2]*25.4).toFixed(0)+" mm";if(C[3]=="mm")a=(C[1]/25.4).toFixed(1)+" x "+(C[2]/25.4).toFixed(1)+" in";
if(C[4])a=a+" @ "+C[4]+" ppi";X.push(a);K.push(gs.Ja(C,w,D,q))}this._Y._m(K,X,w,D)};gs.Ja=function(u,g,K,X){var w=b.V("canvas",""),D=w.getContext("2d");
w.width=g;w.height=K;var q=Math.round(g/8),C=Math.floor(11*b.Z()),a=u[1],x=u[2];D.fillStyle="#000000";
D.font=Math.round(C*.9)+"px \"Open Sans\", Sans-Serif";var H=a+" x "+x+" "+u[3],$=D.measureText(H);D.fillText(H,Math.round((g-$.width)/2),K-Math.round(q/2));
if(u[0]!=null){D.font="bold "+C+"px \"Open Sans\", Sans-Serif";var H=u[0],$=D.measureText(H);D.fillText(H,Math.round((g-$.width)/2),K-Math.round(q/2)-Math.round(C*1.3))}K-=Math.round(2.5*C);
var r=Math.min((g-q)/a,(K-q)/x);r*=.5+.5*(Math.max(a,x)/X);var c=(g-a*r)/2,U=(K-x*r)/2;D.strokeRect(Math.round(c)+.5,Math.round(U)+.5,Math.round(a*r),Math.round(x*r));
return w.toDataURL()};gs.prototype.N=function(){fL.prototype.N.call(this);this.Rj.N();this.IR.N();this.FB.N();
this.y_.N();this.IR.k(fc.get([11,7]));this.u0.N();this.zY.N();this.U8.N();this.Mk.N()};gs.prototype.ZL=function(u){var g=this.Rj.C(),K=g.x,X=g.y;
this.close();var w=this.FB.C(),D=["sRGB IEC61966-2.1","Adobe RGB (1998)","ProPhoto RGB","image P3"][this.a2K.C()],q=new eG(h.E.qf,!0);
q.data=f0.Kq(K,X,this.Rj.h6(),this.IR.C(),["Wht","Blck","Trns","Clr"][w[0]],this.zY.C(),w[1],D);this.c(q);
this.adD()};gs.prototype.asd=function(u){var g=u.data.UJ;g.wY=this.Rj.h6();var K=new eG(h.E.Y,!0);K.data={d:h.s._1,UJ:g};
this.c(K);this.close();this.adD()};gs.prototype.adD=function(){var u=this.De[this.De.length-1],g=this.data.axE;
if(g)gA.h4(function(){var K=new XMLHttpRequest,X="https://www.googleapis.com/drive/v3/files?"+gA.tn();
K.open("POST",X,!0);K.setRequestHeader("Content-Type","application/json");K.addEventListener("load",function(w){var D=JSON.parse(w.target.response);
u.ge={file:D,iA:"psd"};alert(u.name+" created in Google Drive")});K.send(JSON.stringify({name:u.name,a9h:[g]}))})};
gs.prototype.AF=function(u,g,K,X){this.De=K;if(u!=null&&u.q!=null){var w=new dS(0,0,u.m,u.n).I3(u.q.rect);
this.Rj.k(new j4(w.m,w.n))}this.data=g;this.jb();if(b.mA())gP.acJ(this.akQ.bind(this))};gs.prototype.akQ=function(u){if(u=="granted")gP.qW(this,this.avq.bind(this))};
gs.prototype.avq=function(u,g){this.Rj.k(new j4(g.m,g.n))};gs.x1=[{name:"Social",qy:[["FB Page Cover",1640,664,"px",0],["FB Shared Image",1200,630,"px",0],["FB Event Image",1920,1080,"px",0],["FB Group Header",1640,856,"px",0],["Instagram",1080,1080,"px",0],["Insta Story",1080,1920,"px",0],["Youtube Profile",800,800,"px",0],["Youtube Cover",2560,1440,"px",0],["Twitter Profile",400,400,"px",0],["Twitter Header",1500,500,"px",0]]},{name:[12,88,4],qy:[["A3",297,420,"mm",300],["A4",210,297,"mm",300],["A5",148,210,"mm",300],["B3",353,500,"mm",300],["B4",250,353,"mm",300],["B5",176,250,"mm",300],["Letter",8.5,11,"in",300],["Ledger",11,17,"in",300],["Business Card",3.5,2,"in",300]]},{name:[12,88,0],qy:[["Wallet",2,3,"in",300],["Enprint",3.5,5,"in",300],[null,5,7,"in",300],[null,8,12,"in",300],[null,12,18,"in",300],[null,16,24,"in",300],[null,20,30,"in",300],[null,24,36,"in",300]]},{name:[12,88,1],qy:[["VGA",640,480,"px",0],["XGA",1024,768,"px",0],["HD",1280,720,"px",0],[null,1366,768,"px",0],[null,1600,900,"px",0],["Full HD",1920,1080,"px",0],["2K",2048,1080,"px",0],["UHD",3840,2160,"px",0],["4K",4096,2160,"px",0]]},{name:[12,88,2],qy:[["iPhone 4",640,900,"px",326],["iPhone 5",640,1136,"px",326],["iPhone 6 7 8",750,1334,"px",326],["iPhone 6+ 7+ 8+",1080,1920,"px",401],["iPhone X",1125,2436,"px",458],["Samsung A5",720,1280,"px",0],["Samsung S5",1080,1920,"px",0],["Samsung S6",1440,2560,"px",0],["Samsung S8+",1440,2560,"px",0],["Google Pixel",1080,1920,"px",0],["iPad Mini 4",1536,2048,"px",0],["iPad Air 2",1536,2048,"px",0],["iPad Pro 9.7\"",1536,2048,"px",0],["iPad Pro 10.5\"",1668,2224,"px",0],["iPad Pro 12.9\"",2048,2732,"px",0]]},{name:[12,88,3],qy:[["Small Square",200,200,"px",0],["Square",250,250,"px",0],["Medium Rect",300,250,"px",0],["Large Rect",336,280,"px",0],["Mobile Leaderboard",320,50,"px",0],["Large Mobile",320,100,"px",0],["Banner",468,60,"px",0],["Leaderboard",728,90,"px",0],["Large Leaderboard",970,90,"px",0],["Billboard",970,250,"px",0],["Vertical Rect",240,400,"px",0],["Skyscraper",120,600,"px",0],["Wide Skyscraper",160,600,"px",0],["Half Page",300,600,"px",0],["Portrait",300,1050,"px",0]]},{name:"2\u1D3A",qy:[[null,16,16,"px",0],[null,32,32,"px",0],[null,64,64,"px",0],[null,128,128,"px",0],[null,256,256,"px",0],[null,512,512,"px",0],[null,1024,1024,"px",0],[null,2048,2048,"px",0],[null,4096,4096,"px",0]]}];
function fT(u,g,K){fL.call(this,g,"sel_"+u);this.d=u;var X=b.V("div","form");this.body.appendChild(X);
this.IR=new bX(g,0,255,null,0,!1,!0);X.appendChild(this.IR.e);this.IR.k(1);var w=b.V("span");w.textContent=K;
X.appendChild(w);b.d_(X);this.aq3=new cG("Apply at canvas bounds");if(u!="border")X.appendChild(this.aq3.e);
this.y_=b.KY(this,X)}fT.prototype=new fL;fT.prototype.yL=function(u,g){if(u==null)return;if(u.q==null)alert("No selection!");
return u.q!=null};fT.prototype.ZL=function(u){var g=new eG(h.E.qf,!0);g.data=R.uO.ahs(this.d,this.IR.C(),this.aq3.C());
g.UG=!0;this.c(g);this.close()};fT.prototype.N=function(){fL.prototype.N.call(this);this.y_.N();if(this.IR)this.IR.N()};
fT.prototype.AF=function(u,g){};function dv(u,g,K,X,w,D){fL.call(this,K,g);this.a1d=D;this.KZ=w;this.x1=null;
this.ww=b.V("div","form");this.body.appendChild(this.ww);this.IR=u==0?new fu(K,null,10):u==1?new cV(K,0,500,X,1):new fu(K,null,24,5);
this.IR.f(h.E.o,this.jG,this);this.ww.appendChild(this.IR.e);this.y_=b.KY(this,this.ww);this.f("closebtn",this.II,this)}dv.prototype=new fL;
dv.prototype.hM=function(u,g){return new j4(Math.max(0,Math.min(150,(u-250)/2)),Math.max(0,Math.min(150,(g-120)/2)))};
dv.prototype.Sn=function(){return this.a1d};dv.prototype.jG=function(u){var g=this.IR.C();if(this.KZ)this.yV(g)};
dv.prototype.II=function(u){if(this.KZ)this.yV("cancel")};dv.prototype.ZL=function(u){if(this.KZ)this.yV("confirm");
else this.yV(this.IR.C());this.close()};dv.prototype.yV=function(u){if(this.x1.r5)this.x1.r5(u);else if(this.x1.Nv){var g=this.x1.Nv,K=new eG(g.T,!0);
K.b=g.b;K.data=g.M;K.data.h=u;K.UG=!0;this.c(K)}};dv.prototype.N=function(){fL.prototype.N.call(this);
this.y_.N();if(this.IR)this.IR.N()};dv.prototype.AF=function(u,g){this.x1=g;this.IR.k(g.gY);this.IR.Jm();
this.jG(null)};function gG(){fL.call(this,[1,5],"open_from_url");this.yU=null;var u=b.V("div","form");
this.body.appendChild(u);this.Tk=new fu("URL",null,22);u.appendChild(this.Tk.e);b.d_(u);this.Vt=new k6([21,0],[[21,2],[21,1]]);
u.appendChild(this.Vt.e);this.y_=b.KY(this,u)}gG.prototype=new fL;gG.prototype.N=function(){fL.prototype.N.call(this);
this.y_.N();this.Vt.N()};gG.prototype.AF=function(u,g,K){this.Tk.Jm();this.yU=null;if(u&&K.indexOf(u)!=-1)this.yU=K.indexOf(u)};
gG.prototype.ZL=function(u){var g=new eG(h.E.Y,!0),K=this.Tk.C();g.data={d:h.s.Xc,M3:{url:K,K8:!0,yU:this.Vt.C()==1?this.yU:null}};
this.c(g);this.close()};function ax(){fL.call(this,[12,79],"preferences");this.nC=null;var u=b.V("div","form");
this.body.appendChild(u);this.uf=[new cG([8,2]),new cG([8,4]),new e8([12,80,3],[[12,93,3],[12,80,4]]),new cV([12,80,5],1,100,null,2),new e8(null,f.Xx.TD),new e8([12,80,6],f.Xx.TD),new cG("Remind me to save")];
for(var P=0;P<this.uf.length;P++){var g=this.uf[P];u.appendChild(g.e);if(P!=3)b.d_(u);g.f(h.E.o,this.z8,this)}}ax.prototype=new fL;
ax.prototype.N=function(){fL.prototype.N.call(this);for(var P=0;P<this.uf.length;P++)this.uf[P].N()};
ax.prototype.AF=function(u,g,K){};ax.prototype.xY=function(u,g){this.nC=u;this.uf[0].k(u.Pk.m_);this.uf[1].k(u.Pk.Dl);
this.uf[2].k(u.Pk.Mv);this.uf[3].k(u.Pk.ot);this.uf[4].k(u.Pk.eF);this.uf[5].k(u.Pk.TQ);this.uf[6].k(u.HL==1)};
ax.prototype.z8=function(u){var g=this.uf;if(u.target==g[6])this.nC.HL=1-this.nC.HL;var K=JSON.parse(JSON.stringify(this.nC.Pk));
K.m_=g[0].C();K.Dl=g[1].C();K.Mv=g[2].C();K.ot=g[3].C();K.eF=g[4].C();K.TQ=g[5].C();if(K.eF!=4)K.ot=Math.round(K.ot);
var X=new eG(h.E.Y,!0);X.data={d:h.s.zS,M3:hO.ne,a5:K};this.c(X)};function bF(){fL.call(this,[11,8],"saveforweb");
this.a44="";this.f("closebtn",function(){this.Dw.qn()},this);this.gP=new j4(512,512);this.UJ=null;this.hN=null;
this.a52=null;this.nC=null;b.AD(this.body,"flexrow");var u=b.V("div"),g=b.V("div");this.body.appendChild(u);
this.body.appendChild(g);this.Nn=b.V("div","imgcont");u.appendChild(this.Nn);this.Dw=new fE;this.Dw.rc(this.gP.x,this.gP.y);
this.f0=b.V("span");u.appendChild(this.f0);this.ww=b.V("div","form cell");this.ww.setAttribute("style","width:15em; padding-left:1em;");
g.appendChild(this.ww);this.wZ=new e8([12,50],eH._O());this.ww.appendChild(this.wZ.e);this.wZ.f(h.E.o,this.RO,this);
this.$B=new fu([12,48],".www",7.7);this.ww.appendChild(this.$B.e);this.Rj=new fY(!0,!0,!1,!0);this.Rj.f(h.E.o,this.RO,this);
this.ww.appendChild(this.Rj.e);this.as=new cm;this.as.f(h.E.o,this.RO,this);this.ww.appendChild(this.as.e);
this.mn=new dM([1,2],!0,null,!0);this.mn.f("click",this.ZL,this);this.ww.appendChild(this.mn.e)}bF.prototype=new fL;
bF.prototype.yL=function(u,g){return u!=null};bF.prototype.N=function(){fL.prototype.N.call(this);this.Rj.N();
this.wZ.N();this.as.N();this.mn.N()};bF.prototype.ZL=function(u){var g=this.$B.C().trim(),K=eH._O()[this.wZ.C()],X=K=="JPG"||K=="PNG"||K=="GIF",w=eH.IB(K),D="."+K.toLowerCase(),q=this.hN,C=g+D,a=this.UJ,x=a.BD,H=this.as.C();
if(a.j0())H.pop();if(x.length!=0&&X&&H.pop()){var $="<!DOCTYPE html>\n<html>\n<style>div {position:absolute;}</style>\n<head></head>\n<body>\n",r=[],c={},U=new dS(0,0,a.m,a.n),O=a.KS();
for(var P=0;P<x.length;P++)r.push(R.gC.tK(x,P));r.reverse();var A=f.rect.xI([0,0,a.m,a.n],r);for(var P=0;
P<A.length;P++){var m=A[P],i=new dS(m[0],m[1],m[2]-m[0],m[3]-m[1]),e=m.length==5?x[m[4]].v:null,S=f.L(i.$()*4);
f.bV(O,U,S,i);var E="img/img"+(P+1)+D;c[E]=new Uint8Array(w.si([[S.buffer,0]],i.m,i.n,H));$+="<div style=\"background-image:url('"+E+"'); left:"+i.x+"px; top:"+i.y+"px; width:"+i.m+"px; height:"+i.n+"px\">";
if(e&&e.url.v!="")$+="\n\t<a href=\""+e.url.v+"\" target=\""+e.null.v+"\" style=\"display:block;width:100%;height:100%;\"></a>\n";
$+="</div>\n"}$+="</body>\n</html>\n";var Z=f.L(Math.round($.length*1.5)),N=k.i5($,Z,0);c["index.html"]=Z.slice(0,N);
q=UZIP.encode(c);C=g+".zip"}else if(a.add.artd&&a.add.artd.Cnt.v>1&&X&&H.pop()){var c={},U=new dS(0,0,a.m,a.n),O=a.KS(),J=a.root.children;
for(var P=0;P<J.length;P++){var y=J[P].j;if(y.add.artb==null||!y.AG())continue;var o=y.T0(),B=f.L(o.$()*4);
f.bV(O,U,B,o);c[y.getName()+D]=new Uint8Array(w.si([[B.buffer,0]],o.m,o.n,H))}q=UZIP.encode(c);C=g+".zip"}if(a.jJ){var t=new XMLHttpRequest;
t.open("GET","/papi/img/update.php?act=1&id="+a.jJ+"&rnd="+Math.random());t.send()}var W=new eG(h.E.Y,!0);
W.data={d:h.s.IJ,data:q,name:C};this.c(W);this.Dw.qn();this.close()};bF.prototype.AF=function(u,g){if(g.e7!=null)this.wZ.k(g.e7);
this.UJ=u;var K=this.UJ.name,X=K.lastIndexOf("."),K=X==-1?K:K.slice(0,X);this.$B.k(K);var w=u.m+","+u.n;
if(w!=this.a44){this.a44=w;this.Rj.k(new j4(u.m,u.n),u.wY)}this.as.asx();if(g.aww){this.Rj.acB(3);this.as.T3.PDF[2].Av.k(!0)}this.RO(null,!0)};
bF.prototype.hM=function(u,g){return new j4(Math.max(0,Math.min(150,(u-770)/2)),Math.max(0,Math.min(150,(g-590)/2)))};
bF.prototype.rc=function(u,g){this.QM=u;this.xQ=g;this.gP.x=Math.min(512,u-26-214);this.gP.y=Math.min(512,g-45);
if(this.UJ==null)return;var K=this.Rj.C(),u=K.x,g=K.y,X=eH._O()[this.wZ.C()],w=eH.IB(X),$="<span style=\"width:",r="display:inline-block; text-align:right;\">";
if(w.eE){var D=u,q=g,C;if(X=="PDF"||w.J3){D=this.gP.x;q=this.gP.y}else{D=Math.min(u+20,this.gP.x);q=Math.min(g+20,this.gP.y)}this.Nn.firstChild.setAttribute("style","display:block; width:"+D+"px; height:"+q+"px;")}else{if(w.J3){D=this.gP.x;
q=this.gP.y}else{var a=this.a52,x=a[0].ZE,D=x.m,q=x.n;this.Dw.rc(Math.max(50,Math.min(D/b.Z(),this.gP.x)),Math.max(50,Math.min(q/b.Z(),this.gP.y)))}}var H=this.hN.byteLength,c=X+":"+$+64+"px;"+r+bF.pc(H)+"</span>";
if(this.gP.x>200)c+=$+90+"px; opacity:"+.5+";"+r+H.toLocaleString()+" B</span>";this.f0.innerHTML=c};
bF.pc=function(u){var g=u.toString(2),K=0;while(K+10<g.length)K+=10;var X=(u/Math.pow(2,K)).toFixed(1);
if(X.endsWith(".0"))X=X.slice(0,-2);var w="B KB MB GB TB PB".split(" ")[Math.floor(K/10)];return X+" "+w};
bF.prototype.xY=function(u,g){this.nC=u};bF.prototype.RO=function(u,g){var K=this.UJ,X=this.Rj.C(),w=X.x,D=X.y,q=this.wZ.C(),C=eH._O()[q],A="";
this.$B.akP("."+C.toLowerCase());var a=eH.H_(K)[0].length,x=["GIF","PNG","WEBP"].indexOf(C)!=-1&&a>1;
if(x&&g&&(a>4&&w*D>1024*1024||w*D*a>800*800*50)){var H=1;while(Math.max(w>>>H,D>>>H)>800)H++;var $=window.confirm("Your animation is large ("+w+" x "+D+" px). Press \"OK\" to scale it to "+(100>>>H)+"%. Press \"Cancel\" to keep the size.");
if($){this.Rj.k(new j4(w>>>H,D>>>H),null,!0);w=w>>>H;D=D>>>H}}var r=K.add.artd,c=r!=null&&r.Cnt.v>1,U=K.j0();
this.as.a03(C,x,K.BD.length!=0,c,U!=null);var O=this.as.C();this.hN=eH.rs(K,C,w,D,O,this.nC);if(this.hN==null){this.UJ=null;
return}b.Lh(this.Nn);this.Dw.qn();var m=eH.IB(C);if(m.J3){this.Nn.innerHTML="<div></div>";A+="width:0px"}else if(m.eE){var i=w,e=D,S;
if(C=="PDF"){S=URL.createObjectURL(new Blob([this.hN],{type:"application/pdf"}))}else{S=URL.createObjectURL(new Blob([this.hN],{type:"image/svg+xml"}))}this.Nn.innerHTML="<iframe src=\""+S+"\"></iframe>"}else{var E=this.a52=m.Tu(this.hN),Z=E[0],N=Z.ZE,i=N.m,e=N.n;
if(Z.nx){var J=ICC.R(Z.nx.buffer),y=17,o=ICC.U.sampleLUT(J,y);for(var P=0;P<E.length;P++){var B=new Uint8Array(E[P].data);
ICC.U.applyLUT(o,y,B,B)}}this.Dw.k(E,E.length>1?O[O.length-3]:0);this.Nn.appendChild(this.Dw.e);A="background: rgba(0,0,0,0);"}this.Nn.setAttribute("style","display:block; background-size:"+16/b.Z()+"px;"+A);
this.rc(this.QM,this.xQ)};function g6(){fL.call(this,[11,13],"shortcuts");var u=this.np=b.V("div","scrollable");
u.setAttribute("style","min-width:700px; max-height:500px; padding:1.5em");this.body.appendChild(u);
this.a5G()}g6.prototype=new fL;g6.prototype.N=function(){fL.prototype.N.call(this);this.a5G()};g6.prototype.a5G=function(){var u="<div style=\"line-height:1.4em; column-count:3; column-gap:3em; column-rule-width:1px;\" class=\"\">",g="",K=hW,X=K.A5,w=K.jl,D=K.Dd;
g+="<h2 style=\"margin-top:0;\">Main Menu</h2>";g+=u;g+=this.N0([[0,0],"---",[1,0],[X,K.qk],[1,2],[X,K.Fj],[1,3],[w,X,K.Fj],[1,8],[D,w,X,K.Fj],[0,1],"---",[2,0],[w,X,K.QN],[2,1],[X,K.QN],[5,0],[X,K.O3],[5,1],[X,K.JR],[5,2],[X,K.E6],[2,2],"Delete",[2,3],[D,K.jA],[10,16],[D,X,K.gJ],[12,79],[X,K.ex],[3],"---",[4,1],[X,K.CU],[4,2],[X,K.Qs],[4,5],[X,K.Pw],[4,11],[X,K.ym],[0,3],"---",[6,13],[w,X,K.ny],[6,49,0],[X,K.VQ],[6,6,0],[D,X,K.u_],[6,9],[X,K.u_],[6,10],[X,K.E],[0,5],"---",[7,0],[X,K.s],[7,1],[X,K.iO],[7,2],[w,X,K.ym],[0,7],"---",[8,0],[X,K.RD],[8,1],[X,K.gZ],[8,3],[X,K.vZ],[8,2],[X,K.$U],[8,4],[X,K.ev],[11,13],"?"]);
g+="</div>";g+="<h2 style=\"margin-top:1.5em;\">Navigation</h2>";g+=u;g+=this.N0(["Vertical scroll","Wheel","Horizontal scroll",[X,"Wheel"],"Zooming",[D,"Wheel"]]);
g+="</div>";g+="<h2 style=\"margin-top:1.5em;\">Quick tools (press to enable, release to disable)</h2>";
g+=u;g+=this.N0([[10,11],[X],[10,7],"Space",[10,17],[X,K.hE]]);g+="</div>";g+="<h2 style=\"margin-top:1.5em;\">Tools</h2>";
g+=u;var q=g6.W,C=[];for(var P=0;P<q.length;P+=3)if(q[P+1])C.push(q[P],q[P+1]);C=C.concat([[24,16],"---",[22,7,1],"D",[22,7,0],"X",[6,6,1],"Q","Decrease Brush Size","[","Increase Brush Size","]","Decrease Hardness","{","Increase Hardness","}",[12,86],[X,K.m$]]);
g+=this.N0(C);g+="</div>";this.np.innerHTML=g};g6.prototype.N0=function(u){var g="",K=!0;for(var P=0;
P<u.length;P+=2){var X=u[P],w=hW.Fy(u[P+1]);if(w==null){K=!1;continue}var D=b.Mt(fc.get(X));if(w=="---"){if(!K)g+="<br/>";
g+="<div style=\"font-weight:bold; border-bottom: 1px solid;\">"+D+"</div>"}else g+="<div>"+D+" <span style=\"float:right; font-weight:bold;\">"+w+"</span> </div>";
K=!1}return g};g6.W=[[10,11],"V",0,[10,50],"V",70,[10,15],"M",1,[10,4],"M",2,[10,9],"L",5,[10,14],"L",6,[10,10],"L",7,[10,44],"W",3,[10,37],"W",8,[10,12],"W",9,[10,2],"C",10,[10,39],"C",11,[10,40],"C",12,[10,41],"C",13,[10,5],"I",14,[10,36],"I",16,[10,24],"J",18,[10,25],"J",19,[10,26],"J",20,[10,43],"J",22,[10,0],"B",23,[10,38],"B",24,[10,42],"B",25,[10,1],"S",27,[10,3],"E",31,[10,45],"E",32,[10,6],"G",34,[10,13],"G",35,[10,18],null,36,[10,19],null,37,[10,20],null,38,[10,21],"O",39,[10,22],"O",40,[10,23],"O",41,[10,8],"T",47,[10,29],"P",42,[10,30],"P",43,[10,27],"A",51,[10,28],"A",52,[10,32],"U",54,[10,33],"U",55,[10,35],"U",57,[10,34],"U",56,[10,31],"U",58,[10,7],"H",59,[10,17],"Z",61];
function cH(){fL.call(this,[8,11,1],"soptions");this.iJ=null;var u=b.V("div","form");u.style.width="20em";
this.body.appendChild(u);this.O5={Nm:[12,48],url:"URL",null:[12,71]};this.uf={};for(var g in this.O5){var K=new fu(this.O5[g],null,15);
this.uf[g]=K;u.appendChild(K.e)}this.y_=b.KY(this,u)}cH.prototype=new fL;cH.prototype.AF=function(u,g,K){var X=g.h;
this.iJ=JSON.stringify(X);for(var w in this.O5){if(X[w])this.uf[w].k(X[w].v)}};cH.prototype.ZL=function(u){var g=JSON.parse(this.iJ);
for(var K in this.O5){var X=this.uf[K].C();g[K]={t:"TEXT",v:X}}var w=new eG(h.E.l,!0);w.b=R.m8;w.data=g;
w.UG=!0;this.c(w);this.close()};cH.prototype.N=function(){fL.prototype.N.call(this);this.y_.N()};function gF(){fL.call(this,[2,3],"fill");
this.nC=null;this.FQ=null;var u=b.V("div","form padded");u.style.width="22em";this.body.appendChild(u);
this.YZ="FrgC BckC Clr Blck Gry Wht contentAware Ptrn".split(" ");this.a2=new e8([2,3],[[12,45],[12,46],[12,47],[13,1,10],[13,1,7],[13,1,8],[6,48,0,3],[12,62]],null,[3,3,2]);
this.a2.f(h.E.o,this.aei,this);u.appendChild(this.a2.e);this.Nn=b.V("span");u.appendChild(this.Nn);this.rf=new jR;
this.rf.parent=this;this.rf.tQ(0);this.oY=new jT;this.oY.parent=this;this.AB=new e8([12,19,0],b0.ET,!1,b0.CX);
u.appendChild(this.AB.e);this.$R=new cV([12,0],0,100,"%",0,!1);this.$R.k(100);u.appendChild(this.$R.e);
this.CN=new cG([13,5]);this.CN.k(!1);u.appendChild(this.CN.e);this.y_=b.KY(this,this.body)}gF.prototype=new fL;
gF.prototype.yL=function(u,g){return u!=null};gF.prototype.Sn=function(){return!0};gF.prototype.aei=function(){var u=this.a2.C(),g=this.rf.e,K=this.oY.e,X=this.Nn;
if(u==2)X.appendChild(g);else if(X.contains(g))X.removeChild(g);if(u==7)X.appendChild(K);else if(X.contains(K))X.removeChild(K)};
gF.prototype.N=function(){fL.prototype.N.call(this);this.a2.N();this.AB.N();this.$R.N();this.y_.N()};
gF.prototype.ZL=function(u){if(!this.FQ.KL())return;var g=new eG(h.E.qf,!0),K=this.a2.C();g.data=R.Xo.cH(this.YZ[K],b0.t8[this.AB.C()],this.$R.C()/100,this.rf.C(),this.CN.C(),this.oY.C());
this.close();this.c(g)};gF.prototype.AF=function(u,g){this.FQ=u};gF.prototype.xY=function(u,g){this.nC=u;
if(g==hO.Jr||g==hO.WO){this.oY.QC(u.u7);this.oY.k({classID:"Ptrn",Nm:{v:"orangeslices",t:"TEXT"},Idnt:{v:"c7acb22a-47a6-11de-919a-bf574370eaaf",t:"TEXT"}})}};
function iQ(){fL.call(this,[14,9],"stroke");this.nC=null;this.ww=b.V("div","form");this.ww.setAttribute("style","width:24em");
this.body.appendChild(this.ww);this.T2=new cv("FrFX",!0);this.T2.parent=this;var u=["Sz","Styl","Md","Opct"].concat(k8.rS);
for(var P=0;P<u.length;P++){var g=this.T2.sY[u[P]].e;this.ww.appendChild(g)}this.Mr=!1;this.y_=b.KY(this,this.body)}iQ.prototype=new fL;
iQ.prototype.yL=function(u,g){return u!=null};iQ.prototype.Sn=function(){return!0};iQ.prototype.N=function(){fL.prototype.N.call(this);
this.y_.N();this.T2.N()};iQ.prototype.ZL=function(u){var g=new eG(h.E.l,!0);g.b=R.Es;g.data={d:"stroke",a5W:this.T2.C()};
this.close();this.c(g)};iQ.prototype.AF=function(u,g){if(!this.Mr){var K=k8.QO[k8.order.indexOf("FrFX")];
K=JSON.parse(K);this.T2.update(u,K);this.Mr=!0}var K=this.T2.C(),X=this.nC.FK;K.Clr.v=f.X.Gp({w:X>>16&255,A:X>>8&255,U:X&255});
this.T2.update(u,K)};iQ.prototype.xY=function(u,g){this.nC=u};function bO(){fL.call(this,[11,9],"textwarp");
this.uf=new jc;this.uf.f(h.E.o,this.p$,this);this.uf.parent=this;this.ww=b.V("div","form");this.ww.setAttribute("style","width:20em");
this.body.appendChild(this.ww);this.ww.appendChild(this.uf.N_.e);this.ww.appendChild(this.uf.nR.e);this.ww.appendChild(this.uf.Ai.e);
this.ww.appendChild(this.uf.hi.e);this.ww.appendChild(this.uf.wg.e);this.y_=b.KY(this,this.ww);this.f("closebtn",this.II,this)}bO.prototype=new fL;
bO.prototype.Sn=function(){return!0};bO.prototype.N=function(){fL.prototype.N.call(this);this.y_.N();
this.uf.N()};bO.prototype.p$=function(u){var g=this.uf.C();this.yV({d:"warp",zv:g})};bO.prototype.yV=function(u){var g=new eG(h.E.l,!0);
g.b=R.$d;g.data=u;g.UG=!0;this.c(g)};bO.prototype.II=function(u){this.yV({d:"warpCancel"})};bO.prototype.ZL=function(u){this.yV({d:"warpConfirm"});
this.close()};bO.prototype.AF=function(u,g){var K=u.g[u.z[0]];this.uf.k(K.add.TySh.YU)};function kd(){fL.call(this,[11,12,0],"trim");
var u=this.ww=b.V("div","form");this.ww.setAttribute("style","width:22em");this.body.appendChild(this.ww);
var g=new g5("Color To Trim:");u.appendChild(g.e);this.CF=new fK(null,["Top Left Pixel Color","Bottom Right Pixel Color",[13,1,9]],null,null,!0);
this.CF.k([!0]);this.ww.appendChild(this.CF.e);var g=new g5("Sides:");u.appendChild(g.e);this.Ug=new fK(null,["Top","Left","Bottom","Right"]);
this.Ug.k([!0,!0,!0,!0]);this.ww.appendChild(this.Ug.e);this.y_=b.KY(this,this.body)}kd.prototype=new fL;
kd.prototype.yL=function(u,g){return u!=null};kd.prototype.Sn=function(){return!0};kd.prototype.N=function(){fL.prototype.N.call(this);
this.CF.N();this.Ug.N();this.y_.N()};kd.prototype.ZL=function(u){var g=this.CF.C().indexOf(!0),K=this.Ug.C(),X=new eG(h.E.qf,!0);
X.data=R.SO.or(g,K);this.close();this.c(X)};function aj(){fL.call(this,"Raw Photopea","rawpea");this.Mm=null;
this.C0=null;this.pU=null;this.xJ=0;this.a9=null;this.nn=null;this.acg=500;this.ar3=500;this.a2t=0;this.f("closebtn",this.b2,this);
b.AD(this.body,"flexrow");var u=b.V("div"),g=b.V("div"),X="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
g.setAttribute("style","padding-left: 1em");this.body.appendChild(u);this.body.appendChild(g);this.I=b.V("canvas");
u.appendChild(this.I);this.I0=new cM(225);this.I0.WY(4);g.appendChild(this.I0.e);this.ww=b.V("div");
this.ww.setAttribute("style","width:18em;");g.appendChild(this.ww);this.ao8=new g5("Hi",!0);this.ww.appendChild(this.ao8.e);
this.X8=[new fj("Temperature",2e3,13e3),new fj("Tint",-150,150),new fj([4,3],-4,4,null,!0),new fj([12,3,0],-100,100)];
for(var P=0;P<this.X8.length;P++){var K=this.X8[P];K.k(0);K.f(h.E.o,this.Fc,this);this.ww.appendChild(K.e);
if(P==1)this.ww.appendChild(b.V("hr"))}this.y_=new dM([1,0],!0,null,!0);this.y_.f("click",this.ZL,this);
this.ww.appendChild(this.y_.e);this.GD=new dM(X+" JPG",!0,null,!0);this.GD.f("click",this.akc,this);
this.ww.appendChild(this.GD.e);this.GD.e.style.marginTop="6px"}aj.prototype=new fL;aj.prototype.hM=function(){return new j4(0,0)};
aj.prototype.rc=function(u,g){this.acg=u-274;this.ar3=g-32;if(this.Mm)this.agR()};aj.prototype.N=function(){fL.prototype.N.call(this);
this.y_.N();for(var P=0;P<this.X8.length;P++)this.X8[P].N()};aj.prototype.akc=function(u){var g=this.Mm,K=this.C0,X=f.L(g.width*g.height*4);
f.D4(X,4294967295);f.raw.O1(K,X,g,this.xZ());var w=eH.IB("JPG").si([[X.buffer]],K.Am,K.Yn,[85]),D=new eG(h.E.Y,!0);
D.data={d:h.s.IJ,data:w,name:"photo.jpg"};this.c(D)};aj.prototype.ZL=function(u){var g=this.Mm,K=this.C0,X=f.L(g.width*g.height*4);
f.D4(X,4294967295);f.raw.O1(K,X,g,this.xZ());var w=kf.nK(g),g={ZE:new dS(0,0,K.Am,K.Yn),data:X.buffer,jv:w},D=eH.hq("Raw Photo",[g]),q=new eG(h.E.Y,!0);
q.data={d:h.s._1,UJ:D};this.c(q);this.b2();this.close()};aj.prototype.b2=function(){this.Mm=null;this.C0=null;
this.a9=null;this.nn=null};aj.prototype.AF=function(u,g,K,X){this.Mm=g.Wf;this.C0=f.raw.a5$(this.Mm);
var w=this.C0;this.ao8.k(w.Am+" x "+w.Yn+", "+(w.Am*w.Yn/1e6).toFixed(1)+" MPx");var D=f.raw.a5X(g.Wf);
this.pU=a3.kn(D);this.X8[0].k(this.pU.lt);this.X8[1].k(this.pU._w);for(var P=2;P<this.X8.length;P++)this.X8[P].k(0);
this.agR()};aj.prototype.xY=function(u,g){this.I0.tQ(hn.bg[u.Ki]["--text-color"])};aj.prototype.agR=function(){var u=this.C0,g=u.Am,K=u.Yn,X=1;
while(g/X>this.acg*b.Z()||K/X>this.ar3*b.Z())X++;if(this.a2t==X&&this.a9)return;this.a2t=X;var w=Math.floor(g/X),D=Math.floor(K/X);
this.a9={Fg:new Float32Array(w*D*3),Am:w,Yn:D};var q=this.I.getContext("2d");this.nn=f.L(w*D*4);f.D4(this.nn,4294967295);
var C=1/(X*X);for(var a=0;a<D;a++)for(var x=0;x<w;x++){var H=0,$=0,r=0,c=(x+1)*X,U=(a+1)*X;for(var O=a*X;
O<U;O++)for(var A=x*X;A<c;A++){var m=(O*g+A)*3;H+=this.C0.Fg[m];$+=this.C0.Fg[m+1];r+=this.C0.Fg[m+2]}var i=(a*w+x)*3;
this.a9.Fg[i]=H*C;this.a9.Fg[i+1]=$*C;this.a9.Fg[i+2]=r*C}this.Fc()};aj.prototype.Fc=function(){var u=this.Mm,g=this.a9.Am,K=this.a9.Yn,X=g*K,w=this.I,D=w.getContext("2d");
w.width=g;w.height=K;b.DG(w,g,K);f.raw.O1(this.a9,this.nn,u,this.xZ());D.putImageData(new ImageData(new Uint8ClampedArray(this.nn.buffer),g,K),0,0);
var q=f.wB(this.nn);for(var P=0;P<4;P++)for(var C=1;C<256;C++)if(q[P][C]==0)q[P][C]=q[P][C-1];for(var P=0;
P<4;P++)for(var C=1;C<256;C++)if(q[P][C]==0)q[P][C]=q[P][C-1];this.I0.k(q)};aj.prototype.xZ=function(){var u=[];
for(var P=0;P<this.X8.length;P++)u.push(this.X8[P].C());return u};function eu(u){fL.call(this,u?[11,11,0]:[11,11,1],u?"vbitmap":"rcolors");
this.x1=null;this.Sv=null;this.$r=null;this.oc=null;this.Rk=null;this.a6l=null;this.As=null;this.w7="";
this.WT=u;this.sF=this.P2.bind(this);this.Aq=!1;this.body.style.padding="0";this.ww=b.V("div","form hbar padded");
this.body.appendChild(this.ww);var g=this.K$={cnum:new bX([12,82],2,50,null),nois:new cG([12,81]),mode:new e8(null,["Cartoon","Photo"]),segm:new cG("Segmentize"),poly:new cG("Polygon"),merg:new cG("Merge colors"),polE:new bX("Roughness",2,30,null),dthr:new cG([12,23,3]),ok:b.KY(this,null,!1)},D=16;
for(var K in g){var X=g[K];X.parent=this;if(K!="ok")X.f(h.E.o,this.P2,this)}var w=this.yP=b.V("div","flexrow");
this.body.appendChild(w);this.wb=new fE;this.wb.f("viewchange",this.GY,this);this.Ky=new fE;this.I=b.V("canvas");
this.I.setAttribute("style","margin:0 0 0 1px; padding:0; cursor:grab;");this.CG=this.I.getContext("2d");
var q=f.L(16*16*4);f.er(q,D,D,8);this.gG=f.scale.n5(q,D,D);this.wb.abr(this.I);this.wb.qI(this.Ky);this.Ky.qI(this.wb);
w.appendChild(this.wb.e);if(u)w.appendChild(this.I);else w.appendChild(this.Ky.e)}eu.prototype=new fL;
eu.prototype.hM=function(){return new j4(0,0)};eu.prototype.Sn=function(){return!0};eu.prototype.rc=function(u,g){this.QM=u;
this.xQ=g;g=g-44;if(u<600)g-=29;if(this.x1==null)return;var K=this.x1.ZE,X=hl.aa6(u,g,K.m,K.n);if(X==1)g-=3;
if(X==0){u=Math.floor(u/2);b.AD(this.yP,"flexrow")}else{g=Math.floor(g/2);b._n(this.yP,"flexrow")}b.Bw(this.I,u,g);
this.wb.rc(u,g);if(this.WT)this.GY();else this.Ky.rc(u,g)};eu.prototype.BF=function(u,g,K,X){this.wb.BF(X)};
eu.prototype.N=function(){fL.prototype.N.call(this);for(var u in this.K$)this.K$[u].N()};eu.prototype.AF=function(u,g){this.As=u;
this.Rk=null;var K=u.g[u.z[0]],X=f.ec.jh(K.buffer.buffer,K.rect.m,K.rect.n).awB,w=X/((K.rect.m-2)*(K.rect.n-2)),D=this.K$;
D.cnum.k(20);D.nois.k(w<.75);D.mode.k(w<.75?1:0);D.segm.k(!1);D.poly.k(!1);D.merg.k(!0);D.polE.k(1);
D.dthr.k(!1);var q=K.rect.clone();q.x=q.y=0;this.x1={ZE:q,data:K.buffer.buffer.slice(0)};this.Sv=null;
this.rc(this.QM,this.xQ);this.wb.k([this.x1]);this.wb.sS();this.Aq=!0;setTimeout(this.sF,20)};eu.prototype.P2=function(){var u=!0,g=Date.now(),K=this.x1,X=this.K$,w=X.cnum.C(),D=X.nois.C(),q=X.mode.C(),C=X.segm.C(),a=X.poly.C(),x=X.merg.C(),H=X.polE.C(),y=null;
if(q==0)C=a=!1;var $=X.dthr.C(),r=["cnum","nois","mode"];if(q==1){r.push("segm");if(this.WT){r.push("poly");
if(a)r.push("polE")}}if(this.WT)r.push("merg");else r.push("dthr");r.push("ok");b.Lh(this.ww);for(var P=0;
P<r.length;P++)this.ww.appendChild(X[r[P]].e);if(u)console.log("---------------------------------------");
var c=D||C,U=D+","+C;if(c&&(this.Sv==null||this.w7!=U)){this.w7=U;var O=new Uint8Array(K.data),A=K.ZE.m,m=K.ZE.n;
if(D){if(this.Rk==null){this.Rk=O.slice(0);f.yv.Sl(this.Rk,this.Rk,A,m,15,f.yv.h_,[35]);if(u){console.log("denoise",Date.now()-g);
g=Date.now()}}O=this.Rk.slice(0)}else O=O.slice(0);if(C){var i=f.ec.NB(O,A,m,40,10),e=i.ex,S=new Uint8Array(e*4);
for(var P=0;P<e;P++){var E=P*4,Z=P*6,N=1/i.Zg[Z+5];S[E]=i.Zg[Z]*N;S[E+1]=i.Zg[Z+1]*N;S[E+2]=i.Zg[Z+2]*N}for(var P=0;
P<O.length;P+=4){var J=i.eb[P>>>2]*4;O[P]=S[J];O[P+1]=S[J+1];O[P+2]=S[J+2]}if(u){console.log("segm",Date.now()-g);
g=Date.now()}}this.Sv={ZE:K.ZE.clone(),data:O.buffer}}if(c)K=this.Sv;var O=new Uint8Array(K.data),A=K.ZE.m,m=K.ZE.n;
for(var P=0;P<O.length;P+=4){if(O[P+3]<10)O[P]=O[P+1]=O[P+2]=O[P+3]=0}if(q==0){y=f.ec.aus(O,A,m,w,c?.1:2e-4);
if(u){console.log("quantize",Date.now()-g);g=Date.now()}}if(q!=0||y&&y.RJ.length<2){y=hq.a1A(O.buffer,w,A,m)}if(this.WT){var o=y.eb.slice(0);
for(var P=0;P<o.length;P++)o[P]++;var B=new Uint8Array((A+2)*(m+2));f.x5(o,new dS(1,1,A,m),B,new dS(0,0,A+2,m+2));
if(!a){var t=Math.round((A+2)*(m+2)/1e4),W=eo.O$(B.slice(0),A+2,m+2,Math.min(12,t)),F=eo.f$(W);if(u){console.log("trace smooth",Date.now()-g);
g=Date.now()}}else{var F=f.p.Pb(B,A+2,m+2,H,u)}var G=F.length,L=new eV(1,0,0,1,-1,-1);for(var P=0;P<G;
P++)f.p.D(F[P].path.v,L,F[P].path.v);this.oc=F;this.$r=y;for(var P=0;P<G;P++){var Q=F[P];for(var T=P+1;
T<G;T++){var j=F[T];if(j.parent==P&&y.RJ[j.color-1].est.q[3]<.05){var p=j.path.F.slice(1);p.reverse();
p=["M"].concat(p);var M=[],W=j.path.v.length;for(var n=0;n<W;n+=2){M[n]=j.path.v[W-2-n];M[n+1]=j.path.v[W-2-n+1]}f.p.concat(Q.path,{v:M,F:p})}}}if(u){console.log("finding holes",Date.now()-g);
g=Date.now()}for(var P=0;P<F.length;P++){var d=F[P];if(d.parent!=-1){var V=F[d.parent];d.parent=V;if(V.Hs==null)V.Hs=[];
V.Hs.push(d)}d.depth=d.parent==-1?0:d.parent.depth+1}if(x){function z(dr,gj){var cB={},b1=0,ic=0;for(var P=0;
P<dr.length;P++){var Y=dr[P].color,n="c"+Y;if(Y==gj)throw Y;if(cB[n]==null)cB[n]=0;cB[n]++;if(cB[n]>b1){b1=cB[n];
ic=Y}}return ic}var I=[],v=[],gj=-1,jA=!0;for(var P=0;P<F.length;P++)if(F[P].parent==-1)v.push(F[P]);
while(v.length!=0){var Y=z(v,gj);gj=Y;for(var P=0;P<v.length;P++)if(v[P].color==Y){var jv=v[P];I.push(jv);
v.splice(P,1);P--;if(jv.Hs)for(var T=0;T<jv.Hs.length;T++){v.push(jv.Hs[T]);if(jv.Hs[T].color!=Y)jA=!1}}}if(jA)F=I;
else{var iR=[];for(var cj=0;cj<500;cj++){var j8=[],W=iR[cj-1];iR.push(j8);for(var P=0;P<F.length;P++){var d=F[P],V=d.parent;
if(cj==0&&V==-1||cj!=0&&W.indexOf(V)!=-1){j8.push(d);F.splice(P,1);P--}}j8.sort(function(dr,cB){return dr.color-cB.color});
if(F.length==0)break}for(var P=0;P<iR.length;P++)F=F.concat(iR[P])}}else{var I=[],as=[];while(F.length!=0){as.push(F.shift());
while(as.length!=0){var gW=as.pop();I.push(gW);if(gW.Hs)for(var P=0;P<gW.Hs.length;P++){var d=gW.Hs[P];
F.splice(F.indexOf(d),1);as.push(d)}}}F=I}this.oc=F;for(var P=0;P<F.length;P++){var Q=F[P],af=y.RJ[Q.color-1].est.q;
if(af[3]<=.05){F.splice(P,1);P--;continue}}for(var P=1;P<F.length;P++){var at=F[P-1],Q=F[P];if(at.color==Q.color&&(x||at.parent==Q.parent&&at.depth>=2)){f.p.concat(at.path,Q.path);
F.splice(P,1);P--;continue}}if(u){console.log("reordering layers",Date.now()-g,G,F.length);g=Date.now()}this.GY()}else{var jd=new Uint32Array(A*m),fM=A*m;
if($){var hS=[];for(var P=0;P<y.RJ.length;P++)hS.push(y.RJ[P].est.rgba);var J=f.L(A*m);UPNG.encode.dither(new Uint8Array(K.data),A,m,hS,new Uint8Array(jd.buffer),J)}else{for(var P=0;
P<fM;P++){var Y=y.RJ[y.eb[P]];jd[P]=Y.est.rgba}}this.a6l=new Uint8Array(jd.buffer);this.Ky.k([{ZE:K.ZE,data:jd.buffer}]);
if(this.Aq){this.Ky.sS();this.Aq=!1}}};eu.prototype.GY=function(u){if(this.oc==null)return;var g=this.x1.ZE.m,K=this.x1.ZE.n,X=this.oc,w=this.$r.RJ,D=this.I,q=this.CG,C=this.wb.lI();
q.setTransform(1,0,0,1,0,0);q.clearRect(0,0,D.width,D.height);q.translate(D.width/2,D.height/2);q.scale(C.P,C.P);
q.translate(C.u.x/C.P-g/2,C.u.y/C.P-K/2);q.scale(1/C.P,1/C.P);q.fillStyle=this.gG;q.fillRect(0,0,g*C.P,K*C.P);
q.scale(C.P,C.P);var a=[];for(var P=0;P<w.length;P++){var x=w[P].est.q;a.push({w:Math.round(255*x[0]),A:Math.round(255*x[1]),U:Math.round(255*x[2]),_x:Math.round(255*x[3])})}for(var P=0;
P<X.length;P++){var H=X[P],x=a[H.color-1];if(x._x==0)continue;q.fillStyle="rgba("+x.w+","+x.A+","+x.U+","+x._x/255+")";
q.beginPath();Typr.U.pathToContext({crds:H.path.v,cmds:H.path.F},q);q.fill()}};eu.prototype.ZL=function(u){var g=this.As,K=g.z[0],X=g.g[K],w=new eG(h.E.l,!0);
w.UG=!0;w.b=R.QA;if(this.WT){var D=this.oc,q=D.length==1,C=g.g.slice(0,K);if(!q)C.push(g.z1());for(var P=0;
P<D.length;P++){var a=D[P],x=this.$r.RJ[a.color-1].est.q;f.p.D(a.path.v,new eV(1,0,0,1,X.rect.x,X.rect.y),a.path.v);
var H=g.Wk();H.Q9("Path "+P);C.push(H);H.opacity=Math.round(x[3]*255);H.R3|=16;H.add.SoCo={classID:"null",Clr:{t:"Objc",v:f.X.Gp({w:255*x[0],A:255*x[1],U:255*x[2]})}};
H.add.vmsk=new l.tU;H.add.vstk=JSON.parse(JSON.stringify(k8.Sq.default));H.add.vmsk._=f.p.Ic(a.path,!1);
H.add.vogk=[];H.LP();H.th(g)}var $=C[C.length-1];if(!q){var H=g.Wk();H.Q9(X.getName());H.add.lsct=g4.DM;
H.wS="pass";H.R3=24;C.push(H);$=H}var r=X.add.lmfx;if(r)$.add.lmfx=JSON.parse(JSON.stringify(r));for(var P=K+1;
P<g.g.length;P++)C.push(g.g[P]);w.data={d:l.Cv,j1:C,V5:[K+D.length+(q?-1:1)],Uz:[11,11,0]}}else{var C=g.g.slice(0),H=g.Wk();
H.Q9(X.getName());C.splice(g.z[0]+1,0,H);H.rect=X.rect.clone();H.buffer=this.a6l;H.O();w.data={d:l.Cv,j1:C,V5:[g.z[0]+1],Uz:[11,11,1]}}this.c(w);
this.close()};function hl(u){fL.call(this,[[7,11],[7,13]][u],["redge","magiccut"][u]);this.CF=u;this.x1={};
this.vD=null;this.Jo=null;this.As=null;this.Z5=null;this.d4=null;this.body.style.padding="0";this.j2=[];
this.kw=-1;this.ww=b.V("div","form hbar padded");this.body.appendChild(this.ww);this.CT=new iw;this.CT.parent=this;
this.CT.f(h.E.o,this.Hb,this);this.ww.appendChild(this.CT.e);var g=u==0?["#ffffff","#888888","#000000"]:["#00dd00","#888888","#ff0000"];
g=g.concat("tools/hand","zoomIn","zoomOut");var K=u==0?[[12,45],"Unknown",[12,46]]:[[12,45],"Erase",[12,46]];
this.K0=new it(null,g,K,28);this.K0.f(h.E.o,this.BF,this);this.ww.appendChild(this.K0.e);this.D_=new bX([7,9],0,50,null);
this.D_.parent=this;this.D_.f(h.E.o,[this.adr,this.P2][u],this);this.ww.appendChild(this.D_.e);var X=this.a8P=new dM([2,2],!1,null,!0);
X.f("click",this.b2,this);this.ww.appendChild(X.e);var w=this.Du=b.V("span","form");this.ww.appendChild(w);
var D=this.ag3=new dM([12,90],!1,null,!0);D.f("click",function(a){alert(u==0?fc.get([15,7,1]):"Mark the object with Green, background with Red. Two colors should never touch.",5e3)},this);
w.appendChild(D.e);var q=new dM("Tutorial",!1,null,!0);q.f("click",this.aq6,this);w.appendChild(q.e);
this.Ck=new it([12,46],["checker","#ffffff","#000000"]);this.Ck.f(h.E.o,this.asP,this);w.appendChild(this.Ck.e);
this.Dz=new e8(null,[[6,13],[6,2],[17,2]]);w.appendChild(this.Dz.e);this.y_=b.KY(this,w,!1);var C=this.yP=b.V("div","flexrow");
this.body.appendChild(C);this.DP=new fE(!0);this.gR=new fE;this.DP.qI(this.gR);this.gR.qI(this.DP);this.DP.f("mousedown",this.o1,this);
this.DP.f("mousemove",this.XS,this);this.DP.f("mouseup",this.ws,this);this.DP.f("zoom",this.Hb,this);
this.gR.f("zoom",this.Hb,this);C.appendChild(this.DP.e);C.appendChild(this.gR.e)}hl.prototype=new fL;
hl.prototype.yL=function(u,g){var K=u!=null&&!u.g[u.z[0]].rect.fg();if(!K)alert("The layer is empty.");
return K};hl.prototype.hM=function(){return new j4(0,0)};hl.prototype.Sn=function(){return!0};hl.prototype.rc=function(u,g){this.QM=u;
this.xQ=g;g=g-12-33;if(u<900){this.Du.setAttribute("style","display:block;  text-align:right;");g-=29}else{this.Du.setAttribute("style","position:absolute;  right:0px")}this.Ck.Db(u<440?null:[12,46]);
this.D_.Db(u<470?null:[7,9]);var K=this.x1.rect;if(K){var X=hl.aa6(u,g,K.m,K.n);if(X==0){u=Math.floor(u/2);
b.AD(this.yP,"flexrow")}else{g=Math.floor(g/2);b._n(this.yP,"flexrow")}this.DP.rc(u,g);this.gR.rc(u,g)}};
hl.aa6=function(u,g,K,X){var w=u/2,D=g/2,q=Math.min(w/K,g/X),C=Math.min(u/K,D/X);return q>C?0:1};hl.prototype.N=function(){fL.prototype.N.call(this);
this.CT.N();this.D_.N();this.y_.N();this.Ck.N();this.Dz.N();this.a8P.N();this.ag3.N()};hl.prototype.aq6=function(u){window.open("//www.photopea.com/"+["learn/refine-edge","tuts/magic-cut-remove-image-background-online"][this.CF],"_blank")};
hl.prototype.xY=function(u,g){this.Jo=u;if(g==hO.ei||g==hO.Jr){this.CT.QC(u.d3);this.CT.k(cO.Nt(),u.d3.Ft,u.d3.oY)}};
hl.prototype.BF=function(u,g,K,X){var w=this.K0.C();if(X==null){this.DP.BF(fE.a3D(w-3));return}this.Z5=X;
var D=R.Xo.HP(this.CT.C(),X);if(D!=null){this.CT.k(D);this.Hb()}else if(X.a(hW.A5)&&X.a(hW.QN)){var q=this.j2,C=0;
if(X.a(hW.jl)){if(this.kw+1<q.length)C=1}else if(this.kw>0)C=-1;if(C!=0){this.kw+=C;var a=this.kw,x=this.x1;
if(C==1)f.bV(q[a][2],q[a][0],x.NV,x.rect);else f.bV(q[a+1][1],q[a+1][0],x.NV,x.rect);x.YC=x.rect;this.P2()}}else if(w<3)this.DP.BF(X)};
hl.prototype.Zu=function(u){var g=this.x1,K=this.j2,X=f.L(u.$()*4);f.bV(g.YO,g.rect,X,u);g.YO=null;var w=f.L(u.$()*4);
f.bV(g.NV,g.rect,w,u);this.kw++;K[this.kw]=[u.clone(),X,w];while(K.length>this.kw+1)K.pop();while(K.length>50){K=K.slice(1);
this.kw--}};hl.prototype.Hb=function(){var u=this.Jo,g=aM.n7(this.CT.C(),u.d3.Ft,this.DP.lI().P);this.DP.tW(g)};
hl.prototype.o1=function(u){var g=this.Jo,K=this.x1,X=this.Z5,w=this.CT.C(),D=this.DP.ip(),q=[16777215,8421504,0][this.K0.C()];
this.vD=new aM(w,g.d3.Ft,g.d3.oY,{Wg:1,cz:!0},q,g.ui,K.rect);K.YO=K.NV.slice(0);if(X!=null&&X.a(hW.jl)&&this.d4){this.vD.moveTo(this.d4.x,this.d4.y);
this.vD.lineTo(D.x,D.y)}else this.vD.moveTo(D.x,D.y);this.axv()};hl.prototype.XS=function(u){var g=this.x1,K=this.DP.ip();
this.vD.lineTo(K.x,K.y);this.axv()};hl.prototype.ws=function(u){this.d4=this.DP.ip();this.Zu(this.vD.qv());
this.P2()};hl.prototype.axv=function(){var u=this.x1,g=this.vD,K=g.KC();if(K.fg())return;u.YC=K;f.i.L_("norm",g.k8(),g.WA(),u.NV,u.rect,K,1);
this.a77()};hl.prototype.b2=function(u){var g=this.x1;g.YO=g.NV.slice(0);g.YC=g.rect;f.D4(g.NV,[4278190080,4292730333][this.CF]);
this.Zu(g.rect);this.P2()};hl.prototype.AF=function(u,g){this.As=u;var K=u.g[u.z[0]],X=K.rect.clone(),w=X.m,D=X.n;
this.D_.k(this.CF==0?3:w*D<3e6?3:0);this.K0.k(u.q==null?0:1);this.D_.ik();if(this.CF==0&&u.q!=null||this.CF==1)this.D_.gx();
var q=this.CF,C=f.L(X.$()),a=new Float32Array(X.$());if(q==0&&u.q){f.x5(u.q.channel,u.q.rect,C,X);var x=f.L(X.$());
for(var H=0;H<D;H++)for(var $=0;$<w;$++){var P=H*w+$,r=C[P];if($>0&&C[P-1]!=r||$<w-1&&C[P+1]!=r||H>0&&C[P-w]!=r||H<D-1&&C[P+w]!=r)x[P]=255}f.style.D1(x,a,w,D)}else a.fill(1e9);
X.x=X.y=0;this.x1={rect:X,Fg:K.buffer,OZ:C,g6:a,Vi:f.L(X.$()*4),oS:f.L(X.$()*4),NV:f.L(X.$()*4),YO:null,eM:null,YC:X,a53:{}};
if(q==0)this.adr();else{this.x1.a53=R.tv.anX(u);var c=this.x1.NV;f.D4(c,4287137928);var U=f.O4.getSelection(K.buffer,w,D),O=Math.round(w/60),A=Math.round(.7*D);
for(var H=0;H<D;H++)for(var $=0;$<w;$++){var m=(H*w+$)*4,i=U[m>>>2];i=i>128?255:128;if(H<O||H<A&&($<O||$>w-1-O))i=0;
c[m]=c[m+1]=c[m+2]=i}this.P2()}this.j2=[1];this.kw=0;var e=this.CT.C();e.Brsh.v.Dmtr.v.val=Math.round(X.m/(q==0?10:20));
this.CT.k(e);this.Hb();this.rc(this.QM,this.xQ);this.DP.sS()};hl.prototype.adr=function(){var u=this.x1,g=u.rect.$(),K=this.D_.C(),X=u.OZ.slice(0);
for(var P=0;P<g;P++)if(u.g6[P]<K)X[P]=128;f.D4(u.NV,4294967295);f.K1(X,u.NV,0);f.K1(X,u.NV,1);f.K1(X,u.NV,2);
u.YC=u.rect;this.P2()};hl.prototype.P2=function(){var u=this.x1,w,C,a=0,x=0,H=0;this.a77();var g=u.rect,K=g.m,X=g.n,D=f.L(g.$()),q=u.Fg;
f.hk(u.NV,D,0);for(var P=0;P<D.length;P++){if(q[(P<<2)+3]!=255)continue;var $=D[P];if($==0)a++;else if($==255)x++;
else H++}if(a*x*H!=0){if(this.CF==0)C=f.Gi.Gi(g,q,D);else{var r=this.K0.C();for(var c=1;c<X;c++)for(var U=1;
U<K;U++){var P=c*K+U,O=D[P],A=D[P-1];if(O==0&&A==255||O==255&&A==0){w="The Red and Green should never touch! Erase it with Grey.";
break}}var m=Date.now(),i=this.x1.a53;f.me(D,i.fs);R.tv.D8(i,!0);var e=Math.ceil(this.D_.C()/2);if(e==0){C=q.slice(0);
f.K1(i.q,C,3)}else{var S=i.q.slice(0),E=i.q.slice(0);for(var Z=0;Z<e;Z++){for(var c=1;c<X-1;c++)for(var U=1;
U<K-1;U++){var P=c*g.m+U,N=S[P];if(S[P-K]!=N||S[P-1]!=N||S[P+1]!=N||S[P+K]!=N)E[P]=128;else E[P]=N}var J=S;
S=E;E=J}C=f.Gi.Gi(g,q,S,20,!1)}}}else{C=q.slice(0);f.K1(D,C,3)}for(var P=3;P<C.length;P+=4)if(C[P]>q[P])C[P]=q[P];
if(g.$z(u.rect))u.eM=C;else f.bV(C,g,u.eM,u.rect);this.asP();if(w)alert(w,4e3)};hl.prototype.a77=function(u){var g=this.x1,K=g.YC;
f.bV(g.Fg,g.rect,g.Vi,g.rect,K,!0);var X=g.NV;if(this.CF==1){var w=new Uint32Array(256);w[0]=4278190335;
w[255]=4278255360;var D=g.rect.$();X=X.slice(0);var q=new Uint32Array(X.buffer);for(var P=0;P<D;P+=2){q[P]=w[q[P]&255];
q[P+1]=w[q[P+1]&255]}}f.i.L_("norm",X,g.rect,g.Vi,g.rect,K,.3);this.DP.k([{ZE:g.rect,data:g.Vi.buffer}])};
hl.prototype.asP=function(u){var g=this.x1;f.D4(g.oS,[0,4294967295,4278190080][this.Ck.C()]);f.i.L_("norm",g.eM,g.rect,g.oS,g.rect,g.rect,1);
this.gR.k([{ZE:g.rect,data:g.oS.buffer}])};hl.prototype.ZL=function(u){var g=this.As,K=this.x1,X=this.Dz.C(),w=g.g[g.z[0]],D=new eG(h.E.l,!0);
D.UG=!0;var q=w.rect.clone();if(X==0&&w.AG()||X!=0&&!w.AG()){D.b=R.QA;D.data={d:l.Lf,j:g.z[0]};this.c(D)}if(g.q!=null){D.b=R.C1;
D.data={d:"fromAction",yK:R.uO.IX()};this.c(D)}if(X==0){var C=g.g.slice(0),a=g.Wk();a.Q9(w.getName());
C.splice(g.z[0]+1,0,a);a.rect=q;a.buffer=K.eM;a.O();D.b=R.QA;D.data={d:l.Cv,j1:C,V5:[g.z[0]+1],Uz:[7,11]};
this.c(D)}if(X==1){var x=w.Zv();D.b=R.QA;D.data={d:l.wa,at_:!0};this.c(D);var H=w.Zv();H.channel=f.L(q.$());
H.rect=q;H.color=0;H.vl=!0;f.hk(K.eM,H.channel,3);if(x){var $=H.X7(x);H.rect=$.rect;H.channel=$.channel;
H.color=$.color}H.b3();w.th()}if(X==2){var r={rect:q,channel:f.L(q.$())};f.hk(K.eM,r.channel,3);D.b=R.C1;
D.data={d:"setsel",q:r,Uz:this.Cj};this.c(D)}this.close()};function c5(){fL.call(this,[1,13],"locstor");
this.nC=null;this.RV=[];var u=this.body,g=b.V("p");g.textContent="These files are loaded every time you start Photopea.";
u.appendChild(g);this.abR=0;this.gz=b.V("span");u.appendChild(this.gz);this.gz.setAttribute("style","display:inline-block;  width:12em;  font-weight:bold;");
var K=b.V("span","form");u.appendChild(K);this.s9=new dM([5,4],!1,null,!0);this.s9.f("click",this.tM,this);
K.appendChild(this.s9.e);this.atP=new dM("Get all as ZIP",!1,null,!0);this.atP.f("click",this.Tb,this);
K.appendChild(this.atP.e);this.Cp=new fB(!0);this.Cp.parent=this;this.Cp.WY(1);u.appendChild(this.Cp.e);
this.Cp.e.setAttribute("style","width: 40em; height: 25em")}c5.prototype=new fL;c5.prototype.N=function(){fL.prototype.N.call(this);
this.gz.textContent=fc.get([13,2])+": "+bF.pc(this.abR);this.s9.N()};c5.prototype.xY=function(u,g){this.nC=u;
if(g==hO.z6)this.AF()};c5.prototype.AF=function(u,g){var K=this.nC.dH.rF,a=0;this.RV=[];for(var X in K)this.RV.push(X);
this.RV.sort(function(H,$){H=H.split(".");$=$.split(".");return H[1]==$[1]?H[0]<$[0]?-1:1:H[1]<$[1]?-1:1});
var w=Math.floor(100*b.Z()),D=Math.floor(16*b.Z()),q=[],C=[];for(var P=0;P<this.RV.length;P++){var X=this.RV[P],x=c5.Ja(X,K[X],w,D);
q.push(x);C.push(X);a+=K[X].byteLength}this.Cp._m(q,C,w,D);this.abR=a;this.N()};c5.prototype.tM=function(u){var g=this.Cp.C();
if(g.length==0){alert("Select a file first.");return}this.Cp.k([]);var K=this.nC.dH.rF;for(var P=0;P<g.length;
P++)delete K[this.RV[g[P]]];var X=new eG(h.E.Y,!0);X.data={d:h.s.zS,M3:hO.z6};this.c(X)};c5.prototype.Tb=function(u){var g=this.nC.dH.rF,K={};
for(var X in g)K[X]=new Uint8Array(g[X]);var w=UZIP.encode(K);gP.save(w,"resources.zip")};c5.Ja=function(u,g,K,X){var w=b.V("canvas"),C=0;
w.width=K;w.height=X;var D=w.getContext("2d"),q=u.split(".").pop().toLowerCase();for(var P=0;P<q.length;
P++)C+=q.charCodeAt(P)*613<<8*P;D.fillStyle="#"+f.ae(C&16777215);D.fillRect(0,0,20,X);var a=Math.floor(14*b.Z());
D.fillStyle="#000000";D.font="bold "+a+"px sans-serif";var x=(X-a)/2,H=bF.pc(g.byteLength),$=D.measureText(H);
D.fillText(H,K-12-$.width,X-x);return w.toDataURL()};function kb(){fL.call(this,[1,15],"pmanager");this.nC=null;
this.WI=new e8([12,44],[[9,3],[12,37],[12,62],[11,6],[12,77],[12,21]]);this.WI.f(h.E.o,this.AF,this);
this.body.appendChild(this.WI.e);var u=b.V("div","flexrow");this.body.appendChild(u);var g=this.ap_=b.V("div");
u.appendChild(g);var K=b.V("div","form");u.appendChild(K);K.setAttribute("style","width:140px; margin-left:12px");
this.aqL=[hO.ei,hO.WQ,hO.WO,hO.vO,hO.X4,hO.h9];this.OG=[new iw,new hJ,new jT,new eE,new hG,new bz];for(var P=0;
P<this.OG.length;P++)this.OG[P].parent=this;this.ue=[];for(var P=0;P<4;P++){var X=new dM("Hello",!0,null,!0);
X.f("click",this.mc,this);this.ue.push(X);K.appendChild(X.e)}this.AF()}kb.prototype=new fL;kb.prototype.Kx=function(u){return u==hW.cG||u==hW.jA};
kb.prototype.mc=function(u){var P=this.ue.indexOf(u.target);this.OG[this.WI.C()].RR(P)};kb.prototype.N=function(){fL.prototype.N.call(this);
this.WI.N();for(var P=0;P<this.OG.length;P++)this.OG[P].N();var u=this.ue,g=this.WI.C(),K=hO.$$[this.aqL[g]],X=K[0].toUpperCase();
u[0].Db([[23,6],"."+X]);u[1].Db(["VAR0 ."+X,[1,8]]);u[2].Db([6,37]);u[3].Db([5,4])};kb.prototype.xY=function(u,g){this.nC=u;
this.AF()};kb.prototype.AF=function(u,g){if(!b.tV(this.e))return;this.N();b.Lh(this.ap_);this.ap_.appendChild(this.OG[this.WI.C()].h2);
var K=this.OG,X=this.nC;if(X==null)return;K[0].QC(X.d3);K[1].AT(X.FK,X.ui);K[1].QC(X.N3);K[2].QC(X.u7);
K[3].QC([X.qw,X.u7]);K[4].QC(X.uV);K[5].QC(X.UH)};function ai(u,g,K){fL.call(this,g,"cwindow");this.a5P=new j4(K[0],K[1]-33);
this.ww=b.V("div","form");this.ww.setAttribute("style","width:"+(K[2]-K[0])+"px; height:"+(K[3]-K[1])+"px");
this.body.appendChild(this.ww)}ai.prototype=new fL;ai.prototype.hM=function(u,g){return this.a5P.clone()};
function is(){fL.call(this,["PSD VAR0",[25,0]],"templates");this.aez=null;this.RS=null;this.Or=0;this.lJ=null;
this.body.setAttribute("style","padding:0");this.mK=new dM("Add Templates",null,null,!0);this.body.appendChild(this.mK.e);
this.mK.f("click",this.a7K,this);this.mK.e.setAttribute("style","position:absolute; margin-top: -28px;  margin-left:150px");
this.asm=new dM("New Template",null,null,!0);this.asm.f("click",this.an9,this);this.apw=new dM("Upload Current Document as a Template",null,null,!0);
this.apw.f("click",this.ast,this);this.Eh=b.V("iframe","scrollable");this.Eh.setAttribute("style","border:none; margin:0; padding:0;");
this.ra=b.V("div","form scrollable padded");this.SF=b.V("div","form scrollable padded label12");var u=[],g=is.Jy;
this.Yu=[];for(var K in g){var X=parseInt(K.slice(1)),w=X%10==0?"":"\u2800\u2800- ";u.push(w+g[K]);this.Yu.push(X)}this.TA=[new fu("Name",null,30),new fu("Description",null,30,4),new fu("File"," www.Photopea.com#i...",17),new fu("Thumbnail URL","* Use Imgur.com etc.",17),new e8("Category",u),new dM("<< Back",null,null,!0),new dM("Save",null,null,!0),new g5("Publish your PSD: File - Publish Online - PSD. Use that URL as \"File\"."),new g5("Get a Thumbnail URL: File - Publish Online - JPG. At Imgur.com, right-click your image and choose \"Copy Image Address\".")];
for(var P=0;P<this.TA.length;P++){var D=this.TA[P];this.SF.appendChild(D.e);D.parent=this;if(P!=5)b.d_(this.SF);
if(D instanceof dM)D.f("click",this.abz,this)}this.body.appendChild(this.Eh)}is.prototype=new fL;is.prototype.hM=function(u,g){return new j4(0,0)};
is.prototype.rc=function(u,g){this.QM=u;this.xQ=g;this.FQ=null;g=g-4;u=u;var K=this.ra;K.style.width=u-12+"px";
K.style.height=g-12+"px";var K=this.SF;K.style.width=u-12+"px";K.style.height=g-12+"px";var K=this.Eh;
K.style.width=u+"px";K.style.height=g+"px";this.eZ()};is.prototype.N=function(){fL.prototype.N.call(this)};
is.prototype.AF=function(u,g,K,X){this.FQ=u;this.a7K(null,!1)};is.prototype.a7K=function(u,g){var K=g!=null?g:b.tV(this.Eh);
if(K){if(!cX.cO()){alert("You need to log in first!");return}var X=cX.Dj();this.RS=X.tpl?X.tpl.list:[];
this.eZ()}else{this.Eh.setAttribute("src","");this.Eh.setAttribute("src","templates")}this.body.removeChild(this.body.children[this.body.children.length-1]);
this.body.appendChild(K?this.ra:this.Eh);this.mK.Db(K?"All Templates":"Add Templates")};is.prototype.eZ=function(){var u=this.RS,D=450;
if(u==null)return;var g=this.ra;b.Lh(g);var K=b.V("h1");g.appendChild(K);K.textContent="Share your PSD templates with the world!";
var X=b.V("ul");g.appendChild(X);var w=b.V("li");X.appendChild(w);w.textContent="By publishing your templates, you agree to let others use them for all kinds of purposes, even commercially.";
var w=b.V("li");X.appendChild(w);w.textContent="Users won't be able to download a PSD, they can only export a JPG or a PNG after editing.";
g.appendChild(this.asm.e);g.appendChild(this.apw.e);b.d_(g);D=(this.QM-20)/Math.max(1,Math.floor(this.QM/D))-42;
var q="display:inline-block; width:"+D+"px; height:140px;  overflow:hidden; background-color:rgba(255,255,255,0.2);  margin:10px 20px 0px 0; line-height:1.5em; padding:10px;";
for(var P=u.length-1;P>=0;P--){var C=u[P],a=b.V("div");g.appendChild(a);a.setAttribute("style",q);var x=b.V("img");
a.appendChild(x);x.setAttribute("src",C.thmb);x.setAttribute("style","float:left; height:10em; width:10em;  object-fit: contain; margin-right: 1em; margin-bottom:1em;");
var H=b.V("h3");a.appendChild(H);H.textContent=C.name;H.setAttribute("style","margin:0 0 10px 0");var $=b.V("p");
a.appendChild($);$.textContent=C.desc;$.setAttribute("style","height:76px;  overflow:hidden; margin-bottom: 6px;");
for(var r=0;r<2;r++){var c=new dM(r==0?"Edit":"Delete",null,null,!0);c.anf=P;c.OJ=r==0;c.f("click",this.am5,this);
a.appendChild(c.e)}}};is.prototype.ast=function(u){if(this.FQ==null){alert("No document opened.");return}var g=confirm("Your document will be uploaded to Photopea.com and a preview to Imgur.com. Proceed?");
if(!g)return;var K=new eG(h.E.Y,!0);K.data={d:h.s.b8,e7:"psd",BZ:this.aaF.bind(this)};this.c(K)};is.prototype.aaF=function(u){this.aez=u;
var g=new eG(h.E.Y,!0);g.data={d:h.s.b8,e7:"jpg",BZ:this.afG.bind(this),a5x:1400};this.c(g)};is.prototype.afG=function(u){this.lJ={catg:0,desc:"",file:this.aez.split("#i").pop(),name:this.FQ.name.split(".")[0],thmb:u,utme:""};
this.OJ()};is.prototype.an9=function(u){this.lJ={catg:0,desc:"",file:"",name:"",thmb:"",utme:""};this.OJ()};
is.prototype.am5=function(u){this.Or=u.target.anf;if(!u.target.OJ){if(!window.confirm("Are you sure you want to delete your template?"))return;
this.RS.splice(this.Or,1);this.Tb();this.eZ();return}this.OJ()};is.prototype.OJ=function(){this.body.removeChild(this.ra);
this.body.appendChild(this.SF);var u=["name","desc","file","thmb"],g=this.lJ?this.lJ:this.RS[this.Or];
for(var P=0;P<4;P++){var K=g[u[P]];if(K!=""&&P==2)K="https://photopea.com#i"+K;this.TA[P].k(K)}this.TA[4].k(this.Yu.indexOf(g.catg))};
is.prototype.abz=function(u){if(this.TA.indexOf(u.target)==6){var g=this.TA[3].C().trim(),K=g.startsWith("http")&&(g.endsWith(".jpeg")||g.endsWith(".jpg")||g.endsWith(".png")||g.endsWith(".gif"));
if(!K){alert("Thumbnail URL is incorrect.");return}var X=new XMLHttpRequest,w=(g);
X.open("GET",w);X.responseType="arraybuffer";X.onload=this.ao6.bind(this);X.send()}else this.b2()};is.prototype.ao6=function(u){var g=u.target.response,K=g.byteLength;
if(K>2e5&&eH.jN(g)!="gif"){alert("Thumbnail is too large ("+bF.pc(K)+"). Make it under 200 kB.");return}var X=["name","desc","file","thmb"],w=this.lJ?this.lJ:this.RS[this.Or];
for(var P=0;P<4;P++){var D=this.TA[P].C().trim();if(D.length==0){alert("One of values is empty.");return}if(P==2){var q=D.split("#i");
if(q.length!=2||q[1].length!=8){alert("File ID is incorrect.");return}D=q.pop()}w[X[P]]=D}w.catg=this.Yu[this.TA[4].C()];
if(w.utme.length==0)w.utme=""+Math.round(Date.now()/1e3);if(this.lJ)this.RS.push(this.lJ);this.Tb();
this.b2()};is.prototype.b2=function(){this.lJ=null;this.body.removeChild(this.SF);this.body.appendChild(this.ra);
this.eZ()};is.prototype.Tb=function(){var u=cX.Dj();if(this.RS.length==0)delete u.tpl;else u.tpl={list:JSON.parse(JSON.stringify(this.RS))};
cX.zj(u,function(){alert("Saved.")})};is.Jy={c0:"Mockups",c1:"Mobile & Web",c2:"Prints",c3:"Product",c10:"Social Media",c11:"Youtube",c12:"Instagram",c13:"Facebook",c14:"Memes",c15:"Signs",c16:"Animations",c20:"Print",c21:"Cards",c22:"Invitations",c23:"Brochures",c24:"Resumes",c25:"Diploma / Certificate",c30:"Mobile",c40:"Websites",c50:"Presentations",c60:"Other"};
function ct(){fL.call(this,"Make Selection","makesel");this.nC=null;var u=b.V("div","form");this.body.appendChild(u);
this.JB=new cG([12,25,1]);this.JB.k(!0);u.appendChild(this.JB.e);b.d_(u);this.V3=new gI(!0);u.appendChild(this.V3.e);
this.y_=b.KY(this,this.body)}ct.prototype=new fL;ct.prototype.N=function(){fL.prototype.N.call(this);
this.V3.N();this.JB.N();this.y_.N()};ct.prototype.ZL=function(u){var g=new eG(h.E.l,!0);g.b=R.C1;g.data={d:"frompath",ZX:[null,0,this.V3.C(),!this.JB.C()]};
this.close();this.c(g)};function ht(){fL.call(this,["VAR0 PSD/PSB",[1,2]],"savepsb");this.FQ=null;this.v2=null;
this.Zx=null;var u=this.ad6=b.V("div","form");u.setAttribute("style","width:20em");this.body.appendChild(u);
this.kL=new k6([12,50],["PSD","PSB"]);this.kL.f(h.E.o,this.RO,this);u.appendChild(this.kL.e);b._r(u);
var g=new g5("Minify the file");u.appendChild(g.e);b.d_(u);var K=["Blank preview image","ZIP for pixel data","Remove Smart Object pixels","Put the file into ZIP"];
this.ck=[];for(var P=0;P<K.length;P++){var X=new cG(K[P]);this.ck.push(X);u.appendChild(X.e);X.f(h.E.o,this.RO,this)}b._r(u);
this.Pp=new g5("aa.psd");this.cb=new g5("10 kB");u.appendChild(this.cb.e);this.a4y=new g5("1000 B");
u.appendChild(this.a4y.e);this.y_=new dM([1,2],!0,null,!0);this.y_.f("click",this.ZL,this);u.appendChild(this.y_.e);
this.zl=new dM(["VAR0 (Google Drive)",[1,2]],!0,null,!0);this.zl.f("click",this.ZL,this);u.appendChild(this.zl.e);
this.f("closebtn",this.II,this)}ht.prototype=new fL;ht.prototype.AF=function(u,g,K,X){var w=b.tV(this.zl.e),D=u.ge!=null&&u.ge.iA=="psd";
if(D&&!w)this.ad6.appendChild(this.zl.e);if(!D&&w)this.ad6.removeChild(this.zl.e);for(var P=0;P<this.ck.length;
P++)this.ck[P].k(!1);this.FQ=u;this.RO()};ht.prototype.ZL=function(u){if(u.target==this.y_)gP.save(this.v2,this.Zx);
else{if(this.ck[3].C()){alert("You should not save a ZIP as a PSD to Google Drive.");return}hw.ajv(this.FQ,this.v2)}};
ht.prototype.II=function(){this.FQ=null;this.v2=null};ht.prototype.RO=function(){var u=this.FQ,g=[!1,!1,!1,!1];
for(var P=0;P<3;P++)g[P]=this.ck[P].C();var K=this.ck[3].C(),X=g[3]=this.kL.C()==1,w=u.name.slice(0,u.name.length-3),D=this.v2=eH.IB("PSD").si(u,0,0,g),eJ=this.Zx=w+"ps"+(X?"b":"d");
if(K){var q={};q[eJ]=new Uint8Array(D);D=this.v2=UZIP.encode(q);eJ=this.Zx=w+"zip"}this.Pp.k(eJ);this.cb.k(bF.pc(D.byteLength));
this.cb.e.style["font-size"]="2em";this.a4y.k(" \u2001 "+D.byteLength+" B");this.y_.Db(fc.get([1,2])+" \""+eJ+"\"")};
ht.prototype.N=function(){fL.prototype.N.call(this);this.y_.N();this.zl.N()};function ka(){fL.call(this,"Confirm","confirm");
this.r5=null;var u=b.V("div","form");this.body.appendChild(u);this.IR=b.V("div");this.IR.textContent="Hello";
u.appendChild(this.IR);this.y_=b.KY(this,u);u.appendChild(this.y_.e)}ka.prototype=new fL;ka.prototype.ZL=function(u){this.r5();
this.close()};ka.prototype.AF=function(u,g){this.IR.textContent=g.h;this.r5=g.r5;this.y_.e.focus()};
ka.prototype.hM=function(u,g){return new j4(Math.max(0,(u-500)/2),Math.max(0,Math.min(60,(g-100)/2)))};
ka.prototype.rc=function(u,g){this.IR.style.width=u-30+"px"};function fv(){fL.call(this,[1,16,2],"newartb");
this.CF=0;this.hI=null;var u=b.V("div","form");u.style.width="260px";this.body.appendChild(u);this.Cp=new fY;
u.appendChild(this.Cp.e);this.y_=b.KY(this,u)}fv.prototype=new fL;fv.prototype.yL=function(u,g){return u!=null};
fv.prototype.ZL=function(u){var g=this.Cp.C();this.hI.m=g.x;this.hI.n=g.y;var K=new eG(h.E.l,!0);K.b=R.ZQ;
K.data={a1v:this.hI,Yw:this.CF};this.c(K);this.close()};fv.prototype.N=function(){fL.prototype.N.call(this);
this.Cp.N();this.y_.N()};fv.prototype.AF=function(u,g){this.CF=g.Yw;var K=new dS(0,0,u.m,u.n);if(u.z.length!=0){var X=u.g[u.z[0]];
if(X.add.artb){K=X.T0();K.x+=K.m+100}if(g.Yw==1)K=R.S.WA(u)}this.hI=K;this.Cp.k(new j4(K.m,K.n))};function a0(){fL.call(this,"Storage","storwindow");
this.body.setAttribute("style","padding:0");this.YE=null;this.f("closebtn",this.eD,this);this.f("canclose",this.eD,this)}a0.prototype=new fL;
a0.prototype.xY=function(u,g){if(this.YE)this.YE.xY(u,g)};a0.prototype.hM=function(u,g){return new j4(Math.max(0,Math.min(150,(u-980)/2)),Math.max(0,Math.min(150,(g-590)/2)))};
a0.prototype.rc=function(u,g){this.QM=u;this.xQ=g;u=Math.min(u,980);g=Math.min(g,590);if(this.YE)this.YE.rc(u,g)};
a0.prototype.N=function(){fL.prototype.N.call(this);if(this.YE)this.YE.N()};a0.prototype.AF=function(u,g,K,X){this.Cj=g.Yw==0?"Open from Storage":"Save to Storage";
this.N();if(this.YE==null){this.YE=new aN;this.YE.parent=this;this.body.appendChild(this.YE.e);this.N();
this.rc(this.QM,this.xQ)}Storage.WY(g.Yw,u?u.name:"");aN.cS(this.YE)};a0.prototype.eD=function(u){Storage.WY(0);
aN.e6();if(u.type=="canclose")this.close()};function gR(){fL.call(this,"Variables","varsdats");var u=this.ww=b.V("div","form");
u.setAttribute("style","width:300px");this.body.appendChild(u);this.FQ=null;this.iV=0;this.Sy=new k6(null,["Variables","Data Sets"]);
this.Sy.f(h.E.o,this.a7U,this);this.bG=new gR.no;this.lU=new gR.qU;this.lU.f("activate",this.m9,this);
this.IY=new g5([1,8]);var g=this.Da=b.V("div");g.appendChild(this.lU.ad7.e);g.appendChild(this.IY.e);
this.AW=new dM("PNGs",!1,null,!0);this.AW.f("click",this.aea,this);g.appendChild(this.AW.e);this.a2N=new dM("JPGs",!1,null,!0);
this.a2N.f("click",this.aea,this);g.appendChild(this.a2N.e);this.y_=b.KY(this,g)}gR.prototype=new fL;
gR.prototype.a7U=function(u){var g=this.Sy.C(),K=this.ww;b.Lh(K);K.appendChild(this.Sy.e);K.appendChild(g==0?this.bG.e:this.lU.e);
K.appendChild(this.Da)};gR.prototype.ZL=function(u){var g=new eG(h.E.l,!0);g.b=R.QA;g.data={d:l.Nb,h:JSON.stringify([this.bG.C(),this.lU.C()])};
this.c(g);this.close()};gR.prototype.N=function(){fL.prototype.N.call(this);this.y_.N();this.IY.N()};
gR.prototype.AF=function(u,g){this.FQ=u;this.bG.AF(u,g);this.lU.AF(u,g);this.Sy.k(0);this.a7U();this.iV=0};
gR.prototype.aea=function(u){var g=this.bG.C(),K=this.lU.C();if(g.length==0){alert("There are no variables.");
return}if(K.length==0){alert("There are no data sets.");return}var X=eH.atX(this.FQ,g,K,this.lU.Ez,u.target==this.AW?"PNG":"JPG",this);
if(X!=null)gP.save(X,"images.zip")};gR.prototype.m9=function(u){var g=this.lU.z,K=this.bG.C(),X=this.lU.C();
if(K.length==0){alert("There are no variables.");return}if(X.length==0){alert("There are no data sets.");
return}this.aeL();this.iV+=eH.yu(this.FQ,this,K,X,this.lU.Ez,g)};gR.prototype.aeL=function(){var u=new eG(h.E.l,!0);
u.b=R.QV;u.data={d:"h_stepbck"};while(this.iV>0){this.c(u);this.iV--}};gR.qU=function(){i6.call(this);
this.ns=null;this.ib=[];this.z=0;var u=this.e=b.V("div","form");this.YD=b.V("div","scrollable");this.YD.setAttribute("style","overflow:scroll;  height:234px;");
u.appendChild(this.YD);this.Ez={};this.Mb=0;var g=this.a3m=b.V("input");this.a3m.setAttribute("type","file");
this.a3m.addEventListener("change",this.ajJ.bind(this),!1);this.a1h=this.a6V.bind(this);this.ZU=new dM("Import a CSV file",null,null,!0);
u.appendChild(this.ZU.e);this.ZU.addEventListener("click",function(K){gR.qU.c5=0;g.removeAttribute("multiple");
g.click()});this.ad7=new dM("Source images",null,null,!0);this.ad7.addEventListener("click",function(K){gR.qU.c5=1;
g.setAttribute("multiple","");g.click()})};gR.qU.prototype=new i6;gR.qU.c5=0;gR.qU.prototype.ajJ=function(u){var g=u.target.files;
this.Mb=g.length;this.Ez={};for(var P=0;P<g.length;P++){var K=g[P],X=new FileReader;X.onload=this.a1h;
X.$B=K.name;X.readAsArrayBuffer(K)}};gR.qU.prototype.a6V=function(u){var g=this.Ez[u.target.$B]=new Uint8Array(u.target.result);
this.Mb--;if(this.Mb!=0)return;if(gR.qU.c5==0){this.ns=k4.h7(k.KO(g));this.Fc()}else console.log(this.Ez)};
gR.qU.prototype.AF=function(u,g){var K=this.ns=JSON.parse(JSON.stringify(u.h8));this.Fc()};gR.qU.prototype.C=function(){return this.ns};
gR.qU.prototype.Fc=function(){var u=this.aL.bind(this),g=this.ns,X="max-width: 100px; overflow:hidden; white-space: nowrap; border: 1px solid; padding:0px 5px;";
this.ib=[];var K=b.V("table");K.setAttribute("style","border-collapse: collapse;");for(var P=0;P<g.length;
P++){var w=b.V("tr"),D=g[P],q=P==0?"th":"td";K.appendChild(w);var C=b.V(q);w.appendChild(C);C.setAttribute("style",X+"cursor:pointer;");
if(P!=0)C.textContent="\u2713";this.ib.push(C);C.addEventListener("click",u,!1);for(var a=0;a<D.length;
a++){var C=b.V(q);C.textContent=D[a];w.appendChild(C);C.setAttribute("style",X);C.setAttribute("title",D[a])}}b.Lh(this.YD);
this.YD.appendChild(K)};gR.qU.prototype.aL=function(u){this.z=this.ib.indexOf(u.currentTarget);this.c(new eG("activate"))};
gR.no=function(){i6.call(this);var u=this.e=b.V("div","form marged");this.G7=null;this.qm=[];this.ZW=[];
this.Sz=null;this.He=new e8([0,3],[]);this.He.f(h.E.o,this.a4Q,this);u.appendChild(this.He.e);this.Ry=[];
var g=["Visibility","Text Content","Pixel Content"];for(var P=0;P<g.length;P++){b._r(u);var K=new cG(g[P]);
K.f(h.E.o,this.HQ,this);u.appendChild(K.e);b.d_(u);var X=new fu("Variable Name");X.f(h.E.o,this.HQ,this);
u.appendChild(X.e);this.Ry.push(K,X)}};gR.no.prototype=new i6;gR.no.prototype.HQ=function(u){var g=this.He.C(),K=this.Sz[g],X=this.qm[g],w=this.G7["l"+K],D=this.Ry;
if(w==null)this.G7["l"+K]=w=[];while(w.length!=0)w.pop();for(var P=0;P<3;P++){var q=D[2*P+1].C();if(!D[2*P].C())continue;
var C={varName:q,trait:["visibility","textcontent","fileref"][P]};w.push(C);if(P==2){C.align="center";
C.clip="false";C.placementMethod="fit";C.valign="middle"}}if(w.length==0)delete this.G7["l"+K];this.AF()};
gR.no.prototype.a4Q=function(u){var g=this.He.C(),K=this.Sz[g],X=this.qm[g],w=this.G7["l"+K],D=this.Ry;
if(w==null)w=[];for(var P=0;P<3;P++){var q=P==0||P==1&&X==0||P==2&&X==1;D[2*P].Tm(q);D[2*P].k(!1);D[2*P+1].Tm(q);
D[2*P+1].k("")}for(var P=0;P<w.length;P++){var C=w[P],a=C.trait,x=["visibility","textcontent","fileref"].indexOf(a);
D[x*2].k(!0);D[x*2+1].k(C.varName)}};gR.no.prototype.AF=function(u,g){if(u){var K=JSON.parse(JSON.stringify(u.dI)),X=this.G7={};
for(var P=0;P<K.length;P++){var w=K[P],D=w.docRef;D="l"+D.slice(4,D.length-2);if(X[D]==null)X[D]=[];
X[D].push(w)}this.Sz=[];this.qm=[];this.ZW=[];for(var P=u.g.length-1;P>=0;P--){var q=u.g[P],D=q.add.lyid;
if(q.getName()=="</Layer group>")continue;this.Sz.push(D);this.qm.push(q.add.TySh?0:1);this.ZW.push(q.getName())}}var C=[],a=this.ZW;
for(var P=0;P<a.length;P++){C.push(a[P]+(this.G7["l"+this.Sz[P]]?" *":""))}var x=this.He.C();this.He.UT(C);
this.He.k(x);this.a4Q()};gR.no.prototype.C=function(){var u=this.G7,g=[];for(var K in u){var X=u[K];
for(var w=0;w<X.length;w++){X[w].docRef="id('"+K.slice(1)+"')";g.push(X[w])}}return g};function cA(u,g,K,X){i6.call(this);
this.name=u;this.akN=K;this.aC=X;this.SA=b.V("div","");this.SA.setAttribute("draggable","true");this.Iw=b.V("div","pbody");
this.Qy=new dM("",!1,"");this.Qy.parent=this;this.a2F=b.V("span","cross");this.M8=b.V("span","label");
var w=this.a7b.bind(this);this.SA.addEventListener("mousedown",this.aqK.bind(this),!1);this.SA.addEventListener("contextmenu",w,!1);
this.Qy.e.addEventListener("contextmenu",w,!1);this.a2F.addEventListener("mousedown",this.bo.bind(this),!1);
this.SA.appendChild(this.M8);if(g)this.SA.appendChild(this.a2F);this.pB=!1;this.lM=new aT([{name:[1,12,0]}]);
this.lM.f("select",this.bo,this);this.M8.textContent=u}cA.prototype=new i6;cA.prototype.MB=function(){return null};
cA.prototype.N=function(){var u=fc.get(this.name),g=this.QM==0?22:Math.round(2+this.QM/50),K=u.length>g;
this.M8.textContent=K?u.slice(0,g-2):u;if(K)for(var X=0;X<2;X++){var w=b.V("span");w.textContent=u.charAt(g-2+X);
w.setAttribute("style","opacity:"+(.6-X*.4));this.M8.appendChild(w)}var D=u.split(" "),q=D.length==2?D[0].substring(0,2)+D[1][0]:u.substring(0,3);
if(q.charCodeAt(0)>=11776)q=q.substring(0,1);var C=this.akN;if(C==null)this.Qy.Db(q,u);else{var a;if(C.startsWith("---"))a="<img src=\""+PIMG[C.slice(3)]+"\" class=\"autoscale gsicon\" style=\"margin:2px 4px;\"/>";
else if(C.startsWith("==="))a="<img src=\""+C.slice(3)+"\" class=\"autoscale gsicon\" style=\"margin:2px 4px;\"/>";
else if(C.indexOf("\"")==-1)a="<img src=\""+C+"\" alt=\""+u+"\" height=\"18\" width=\"18\" loading=\"lazy\" style=\"margin:1px 3px;\" />";
this.Qy.Db(a,u)}};cA.prototype.enable=function(){this.Iw.setAttribute("class","pbody")};cA.prototype.disable=function(){this.Iw.setAttribute("class","pbody disabled")};
cA.prototype.xY=function(u,g){};cA.prototype.AF=function(u,g,K){};cA.prototype.ZS=function(u){};cA.prototype.rc=function(u,g){};
cA.prototype.Wl=function(u){this.name=u;this.N()};cA.prototype.t2=function(){};cA.prototype.aqK=function(u){if(u.button==0)this.c(new eG("select",!1))};
cA.prototype.a7b=function(u){b.oE(u);if(this.aC!=null&&isNaN(this.aC))return;var g=b.Y2(u,document.body),K=this.lM;
K.update(null);K.N();K.parent=this;var X=new eG(h.E.Y,!0);X.data={d:h.s.dC,qD:K,x:g.x+1,y:g.y+1};this.c(X)};
cA.prototype.Et=function(){this.bo({})};cA.prototype.bo=function(u){if(u.stopPropagation)u.stopPropagation();
if(this.aC!=null&&!isNaN(this.aC)){var g=new eG(h.E.Y,!0);g.data={d:h.s.WB,qD:this.lM};this.c(g);g.data={d:h.s.zS,M3:hO.ul,h:parseFloat(this.aC),oy:"del"};
this.c(g)}else if(this.amn())this.c(new eG(h.E.VM,!1))};cA.prototype.amn=function(u){return!0};cA.prototype.R4=function(u,g,K,X,w){};
cA.prototype.ai=function(u,g,K,X,w){};cA.prototype.RB=function(u,g,K,X,w){};cA.ZG=function(u,g,K){if(u.childElementCount!=0)return;
var X=u.textContent;this.mD=this.an0.bind(this);this.afx=this.arG.bind(this);this.gQ=g;this.ake=K;this.QG=u;
this.a45=X;var w=b.V("input","");w.setAttribute("type","text");w.setAttribute("size","10");w.setAttribute("value",X);
b.Lh(u);u.appendChild(w);w.select();w.focus();b.H5(u);u.addEventListener("keyup",this.mD,!1);document.body.addEventListener("mousedown",this.afx,!1)};
cA.ZG.prototype.an0=function(u){var g=hW.zN,K=g(u.code,hW.R0);if(g(u.code,hW.m0)||K)this.aaM(K)};cA.ZG.prototype.arG=function(u){var g=u.target;
if(g.tagName&&g.tagName.toLowerCase()=="input")return;this.aaM(!0)};cA.ZG.prototype.aaM=function(u){var g=this.QG,K=g.firstChild.value;
g.removeEventListener("keyup",this.mD);document.body.removeEventListener("mousedown",this.afx);if(this.ake||u&&K!=""&&K!=this.a45){this.gQ(K)}else{b.Lh(g);
g.textContent=this.a45}};cA.vZ={QV:"0",ac6:"1",QA:"2",a7f:"3",aes:"4",Ua:"5",CSS:"6",ei:"7",atg:"8",a8k:"9",alT:"10",ahS:"11",a92:"12",YJ:"13",hJ:"14",anT:"15",a15:"16",Vp:"17",atr:"18",acw:"19",a9G:"20",vO:"21",aep:"22"};
function j6(){cA.call(this,[9,9],!1,"---panels/actions",cA.vZ.ahS);this.nC=null;this.uq=[0,0];this.QJ=b.V("div","padded scrollable");
this.QJ.setAttribute("style","width:260px;  height:260px");this.Iw.appendChild(this.QJ);this.f(h.E.o,this.jG,this);
this.Da=b.V("div","lpfoot");this.Iw.appendChild(this.Da);this.OG=[];var u="<svg  class=\"miniscale gsicon\" viewBox=\"0 0 15 15\" width=\"15\" height=\"15\" fill=\"black\">",g="</svg>",K=u+"<path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" />"+g,X=u+"<path d=\"M0,0 L15,7.5 L0,15 Z\" />"+g;
this.aj3=u+"<circle cx=\"7.5\" cy=\"7.5\" r=\"7.5\" />"+g;this.a09=u+"<path d=\"M1,1 L14,1 L14,14 L1,14 Z\" />"+g;
var w=[this.aj3,X,"lrs/folder","lrs/newlayer","lrs/bin",K],D=[[15,8,0],[5,8],[15,8,1],[15,8,2],[5,4],[1,2]];
for(var P=0;P<w.length;P++){var q=w[P];if(1<P&&P!=w.length-1)q="<img src=\""+PIMG[w[P]]+"\" class=\"miniscale gsicon\" />";
var C=new dM(q,!1,D[P]);C.f("click",this.a2U,this);this.Da.appendChild(C.e);this.OG.push(C)}}j6.prototype=new cA("");
j6.prototype.N=function(){cA.prototype.N.call(this);for(var P=0;P<this.OG.length;P++)this.OG[P].N()};
j6.prototype.a2U=function(u){var P=this.OG.indexOf(u.currentTarget),g=this.uq,K=this.nC,X=K.oI;if(P==0){var w,D=K.jx;
if(X.length==0){alert("Create an Action Set first.");return}if(g.length<2){alert("Select a target action first.");
return}if(D==null){w=this.a09;D=this.uq}else{w=this.aj3;D=null}this.OG[0].Db(w);K.jx=D}else if(P==1)this.abB();
else if(P==2||P==3){var q={Uz:"Action Set "+X.length,Aj:[],exp:!0};if(P==2||X.length==0){g=[X.length];
X.push(q)}if(P==3){var C=X[g[0]].Aj;g=[g[0],C.length];C.push({Uz:"Action "+C.length,color:0,Aj:[],a0m:!1,shift:!1,exp:!0,Mw:C.length})}this.uq=g;
this.Fc()}else if(P==4){var a;if(g.length==1)a=X;else if(g.length==2)a=X[g[0]].Aj;else a=X[g[0]].Aj[g[1]].Aj;
var x=g.length-1;a.splice(g[x],1);if(a.length==0)g.pop();else while(g[x]>=a.length)g[x]--;if(g.length==0)g.push(0);
this.Fc()}else if(P==5){if(X.length==0){alert("No Actions Present.");return}var H=new eG(h.E.Y,!0);H.data={d:h.s.XH,a6h:hO.l,cZ:g[0]};
this.c(H)}};j6.prototype.jG=function(u){var g=this.nC.oI,K=u.data.d,X=u.data.HJ;if(K=="sel")this.uq=X;
if(K=="fold"){if(X.length==1)g[X[0]].exp=!g[X[0]].exp;else g[X[0]].Aj[X[1]].exp=!g[X[0]].Aj[X[1]].exp}if(K=="enab"){var w=g[X[0]].Aj[X[1]].Aj[X[2]];
w.K=!w.K}if(K=="nchange"){if(X.length==1)g[X[0]].Uz=u.data.Ea;else g[X[0]].Aj[X[1]].Uz=u.data.Ea}this.Fc()};
j6.prototype.xY=function(u,g){this.nC=u;if(g==hO.l||g==hO.Jr)this.Fc()};j6.prototype.Fc=function(){if(this.nC==null)return;
b.Lh(this.QJ);var u=this.nC.oI;if(u.length==0)return;var g=JSON.stringify(this.uq);for(var P=0;P<u.length;
P++){var K=u[P],X=new j6.Zr([P],g,K.exp,K.Uz.split("=").pop());X.parent=this;this.QJ.appendChild(X.e);
if(!K.exp)continue;for(var w=0;w<K.Aj.length;w++){var D=K.Aj[w],X=new j6.Zr([P,w],g,D.exp,D.Uz.split("=").pop());
X.parent=this;this.QJ.appendChild(X.e);if(!D.exp)continue;for(var q=0;q<D.Aj.length;q++){var C=D.Aj[q],X=new j6.Zr([P,w,q],g,null,fc.get(bd.aaI(C)),C.K);
X.parent=this;this.QJ.appendChild(X.e)}}}};j6.prototype.abB=function(){var u=this.nC.oI,g=this.uq;if(u.length==0){alert("No Actions Present");
return}if(g.length==1){alert("Select an Action first");return}if(this.nC.jx!=null){alert("You can not apply actions while recording actions");
return}if(g.length==1)g.push(0);var K=u[g[0]],X=K.Aj[g[1]],w=new eG(h.E.Y,!0);w.data={d:h.s.mC,ZX:[X.Uz,K.Uz]};
this.c(w)};j6.Zr=function(u,g,K,X,w){i6.call(this);this.HJ=u;var D=this.HJ.length-1;this.e=b.V("div","layeritem"+(JSON.stringify(u)==g?" selected":""));
this.KK=b.V("div","head");this.e.appendChild(this.KK);this.KK.setAttribute("style","height:24px");this.q9=b.V("div","headL");
this.KK.appendChild(this.q9);if(D!=0){var q=b.V("div");q.style.width=D*20+"px";this.q9.appendChild(q)}if(K!=null){var C=this.a4K=b.V("div",K?"open":"closed");
this.q9.appendChild(C)}else{var a=this.a5a=b.V("div","cmark");a.setAttribute("style","background-size:12px 12px; opacity:"+(w?1:.3));
this.q9.appendChild(a)}if(D==0){var x=b.V("div","folder");this.q9.appendChild(x)}var H=this.M8=b.V("div","label");
H.textContent=X;this.q9.appendChild(H);this.e.addEventListener("mouseup",this.m9.bind(this),!1)};j6.Zr.prototype=new i6;
j6.Zr.prototype.m9=function(u){if(u.detail==1&&u.target.tagName.toLowerCase()!="input"){var g="sel";
if(u.target==this.a4K)g="fold";if(u.target==this.a5a)g="enab";var K=new eG(h.E.o,!0);K.data={d:g,HJ:this.HJ};
this.c(K)}else if(this.HJ.length<3)var X=new cA.ZG(this.M8,this.gQ.bind(this))};j6.Zr.prototype.gQ=function(u){var g=new eG(h.E.o,!0);
g.data={d:"nchange",Ea:u,HJ:this.HJ};this.c(g)};function jM(){cA.call(this,[3],!1,"---lrs/adj",cA.vZ.atr);
this.Iw.setAttribute("style","text-align:center;  padding:6px; min-width:220px");this.OG=[];var P=0;
for(var u in jO.names){var g=new dM("<img src=\""+PIMG["adj/"+u]+"\" class=\"autoscale gsicon\" style=\"margin:4px 4px;\"/>",!1,jO.names[u]);
g.f("click",this.alM,this);this.OG.push(g);this.Iw.appendChild(g.e);if(P==4||P==10)b.d_(this.Iw);P++}}jM.prototype=new cA("");
jM.prototype.N=function(){cA.prototype.N.call(this);for(var P=0;P<this.OG.length;P++)this.OG[P].N()};
jM.prototype.alM=function(u){var g=this.OG.indexOf(u.target),K=fe.Fe()[g],X=new eG(K.T,!0);X.data=K.M;
this.c(X)};function gQ(){cA.call(this,[12,22],!1,null,cA.vZ.vO);this.QJ=b.V("div","padded");this.Iw.appendChild(this.QJ);
this.LF=new eE(null,17.7,10);this.LF.parent=this;this.LF.f(h.E.o,this.yg,this);this.QJ.appendChild(this.LF.h2)}gQ.prototype=new cA("");
gQ.prototype.yg=function(u){var g=this.LF.C(),K=new eG(h.E.l,!0);K.data={d:"setstl",h:g.lF};K.b=R.vz;
this.c(K);K.data={d:"confirm"};this.c(K)};gQ.prototype.xY=function(u,g){if(g==hO.vO||g==hO.Jr){this.LF.QC([u.qw,u.u7])}};
var fd=function(){function u(){cA.call(this,[9,3],!1,"---panels/brush",cA.vZ.ei);this.WM=null;this.nC=null}u.prototype=new cA("");
u.prototype.RU=function(){var X=b.V("div","");this.Iw.appendChild(X);this.NX=b.V("div","bordered cell");
this.NX.setAttribute("style","width:10em; height:28.5em;");X.appendChild(this.NX);this.uf=[];this.vT=null;
this.pA=[];var w=this.ait.bind(this);this.Eq=[new g("basic"),new g("useTipDynamics"),new g("useScatter"),new g("useColorDynamics"),new g("usePaintDynamics")];
for(var P=0;P<this.Eq.length;P++){var D=b.V("div","listitem"),q=this.Eq[P],a=null;q.parent=this;q.f("brushchange",this.aiS,this);
var C=q.OT;if(P==0){this.vT=new g5(C);D.appendChild(this.vT.e)}else{a=new cG(C,!1);a.f(h.E.o,this.agu,this);
D.appendChild(a.e)}this.pA.push(a);this.NX.appendChild(D);this.uf.push(D);D.addEventListener("click",w,!1)}this.R7=b.V("div","cell padded");
X.appendChild(this.R7);this.setItem(0);this.I=b.V("canvas");this.I.height=10;X.appendChild(this.I);this.CG=this.I.getContext("2d");
this.P2()};u.prototype.rc=function(X,w){if(this.QM==X)return;this.QM=X;this.xQ=w;this.P2()};u.prototype.t2=function(){if(!b.tV(this.Iw))return;
if(this.NX){this.P2();return}this.RU();this.N();this.xY(this.nC,hO.Jr)};u.prototype.N=function(){cA.prototype.N.call(this);
if(this.NX==null)return;this.vT.N();for(var P=1;P<this.pA.length;P++)this.pA[P].N();for(var P=0;P<this.Eq.length;
P++)this.Eq[P].N()};u.prototype.aiS=function(X){var w=this.Eq.indexOf(X.currentTarget),D=JSON.parse(JSON.stringify(this.Eq[w].WM)),q=new eG(h.E.Y,!0);
q.data={d:h.s.zS,M3:hO.xD,WM:D};this.c(q)};u.prototype.agu=function(X){this.a6i(this.pA.indexOf(X.currentTarget),X.currentTarget.dc())};
u.prototype.ait=function(X){var P=this.uf.indexOf(X.currentTarget);if(X.target.tagName.toLowerCase()=="input")return;
if(this.pA[P]&&!this.pA[P].dc()){this.pA[P].Vn();this.a6i(P,!0)}this.setItem(P)};u.prototype.a6i=function(X,w){this.Eq[X].a63(w)};
u.prototype.setItem=function(X){for(var P=0;P<this.Eq.length;P++)this.uf[P].setAttribute("class","listitem");
if(this.R7.firstChild)this.R7.removeChild(this.R7.firstChild);this.uf[X].setAttribute("class","listitem selected");
this.R7.appendChild(this.Eq[X].e)};u.prototype.xY=function(X,w){this.nC=X;if(this.NX==null)return;for(var P=0;
P<this.Eq.length;P++)this.Eq[P].xY(X,w);if(w==hO.xD||w==hO.Jr){this.WM=X.d3.T1;this.P2()}if(w==hO.YJ)this.P2()};
u.prototype.P2=function(){if(this.WM)this.enable();else{this.disable();return}if(!b.tV(this.Iw))return;
var X=this.nC;for(var P=0;P<this.Eq.length;P++){this.Eq[P].k(this.WM);if(this.pA[P])this.pA[P].k(this.Eq[P].dc())}var w=JSON.parse(JSON.stringify(this.WM));
w.Brsh.v.Dmtr.v.val=Math.min(w.Brsh.v.Dmtr.v.val,50);b.Bw(this.I,this.QM,80);var D=new dS(0,0,this.I.width,this.I.height),q=this.nC.d3,C=new aM(w,q?q.Ft:null,q?q.oY:null,{Wg:1},X.FK,X.ui,D,null,0),a=D.n/2,x=D.m-a*2;
C.moveTo(a,a);for(var P=0;P<=x;P+=10)C.lineTo(a+P,a+20*Math.sin(2*Math.PI*P/x));C.finish();var H=this.CG.createImageData(D.m,D.n);
f.bV(C.k8(),C.WA(),H.data,D);this.CG.putImageData(H,0,0)};function g(X){i6.call(this);this.e=b.V("div");
this.WM=null;var w=["basic","useTipDynamics","useScatter","useColorDynamics","usePaintDynamics"].indexOf(X);
this.OT=[[15,0],[15,1],[15,2],[15,3],"Transfer"][w];this.CF=X;this.sY={};this.aln=null;var D=["--br Brsh.Dmtr Brsh.Angl Brsh.Rndn Brsh.Hrdn Brsh.Spcn".split(" "),"szVr.jitter minimumDiameter angleDynamics.jitter angleDynamics.bVTy roundnessDynamics.jitter minimumRoundness".split(" "),["scatterDynamics.jitter","Cnt","countDynamics.jitter"],["clVr.jitter","H","Strt","Brgh"],["opVr.jitter","prVr.jitter"]][w];
for(var P=0;P<D.length;P++){var q=D[P],C;if(q=="--br"){C=new iw;this.e.appendChild(C.h2.firstChild)}else if(q=="Brsh.Dmtr")C=new fj([12,14,0],1,1e3," px",0,!0);
else if(q=="Brsh.Angl")C=new fj([12,15],0,359," \xB0");else if(q=="Brsh.Rndn")C=new fj([12,16],0,100," %");
else if(q=="Brsh.Hrdn")C=new fj([12,17],0,100," %");else if(q=="Brsh.Spcn")C=new fj([12,18],1,300," %");
else if(q=="szVr.jitter")C=new fj([15,4,0],0,100,"%");else if(q=="minimumDiameter")C=new fj([15,4,1],0,100,"%");
else if(q=="angleDynamics.jitter")C=new fj([15,4,2],0,100,"%");else if(q=="angleDynamics.bVTy")C=new e8("Control",["Off","Direction"]);
else if(q=="roundnessDynamics.jitter")C=new fj([15,4,3],0,100,"%");else if(q=="minimumRoundness")C=new fj([15,4,4],1,100,"%");
else if(q=="scatterDynamics.jitter")C=new fj([15,5,0],0,1e3," %");else if(q=="Cnt")C=new fj([15,5,1],1,20);
else if(q=="countDynamics.jitter")C=new fj([15,5,2],0,100," %");else if(q=="clVr.jitter")C=new fj([15,6,0],0,100," %");
else if(q=="H")C=new fj([15,6,1],0,100," %");else if(q=="Strt")C=new fj([15,6,2],0,100," %");else if(q=="Brgh")C=new fj([15,6,3],0,100," %");
else if(q=="opVr.jitter")C=new fj("Opacity Jitter",0,100," %");else if(q=="prVr.jitter")C=new fj("Flow Jitter",0,100," %");
else throw q;this.sY[q]=C;C.parent=this;C.f(h.E.o,this.HQ,this)}}g.prototype=new i6;g.prototype.a80=function(){this.c(new eG("brushchange"))};
g.prototype.k=function(X){this.WM=JSON.parse(JSON.stringify(X));this.e.setAttribute("class",this.dc()?"":"disabled");
this.P2()};g.prototype.N=function(){for(var X in this.sY)this.sY[X].N()};g.prototype.dc=function(){return!0};
g.prototype.xY=function(X,w){if(w==hO.ei||w==hO.Jr){var D=this.sY["--br"];if(D)D.QC(X.d3)}};g.prototype.HQ=function(X){var w=X.target,D=this.sY,q;
for(var C in D)if(D[C]==w)q=C;if(q=="--br"){var a=new eG(h.E.Y,!0);a.data={d:h.s.zS,M3:hO.xD,WM:w.C()};
this.c(a)}else{var x=K(this.WM,q),H=w.C();if(x){if(q.endsWith("bVTy"))x.v=H==0?0:6;else if(q=="Cnt")x.v=H;
else x.v.val=H;this.a80()}}};g.prototype.P2=function(){var X=this.WM,w=X.Brsh.v.classID,D=this.sY,q=w!=this.aln;
this.aln=w;if(q){b.Lh(this.e);for(var C in D){if(w!="computedBrush"&&w!="sampledBrush"&&C=="Brsh.Rndn")continue;
if(w!="computedBrush"&&C=="Brsh.Hrdn")continue;var a=D[C],x=a.e;if(C=="--br"){x=a.M$.e;x.style.width="auto"}this.e.appendChild(x)}}for(var C in D){if(C=="--br")continue;
var H=K(X,C),$;if(H){if(C.endsWith("bVTy"))$=H.v==0?0:1;else if(C=="Cnt")$=H.v;else $=H.v.val;D[C].k($)}}};
g.prototype.dc=function(){var X=this.CF;return X=="basic"?!0:this.WM[X].v};g.prototype.a63=function(X){var w=this.CF;
if(w=="basic")return;this.WM[w].v=X;cO.JT.ae8(this.WM);this.a80()};function K(X,w){var D=w.split(".");
X=X[D[0]];for(var P=1;P<D.length;P++){if(X==null)return X;X=X.v[D[P]]}return X}return u}();function cr(){cA.call(this,[9,0],!1,"---panels/history",cA.vZ.QV);
this.Iw.setAttribute("style","min-width:200px;");this.Og=b.V("div","hpbody scrollable");this.Og.style.height="160px";
this.Iw.appendChild(this.Og);this.at1=-1;this.fR=[];this.wq="";this.xs=new aT([{name:"Clear History"}],[{T:h.E.l,b:R.QV,M:{d:"h_clear"}}])}cr.prototype=new cA("");
cr.prototype.MB=function(){return this.xs};cr.prototype.AF=function(u){if(u==null){b.Lh(this.Og);this.wq="";
return}b.Lh(this.Og);var g=0;for(var P=0;P<u.history.length;P++)if(P<=u.YQ&&!u.history[P].Eg)g=P;for(var P=0;
P<u.history.length;P++){var K=u.history[P];if(K.Eg)continue;var X=new e4(K,P,g);X.parent=this;this.Og.appendChild(X.e);
this.fR.push(X)}if(u.YQ==u.history.length-1)this.t2()};cr.prototype.t2=function(){this.Og.scrollTop=this.Og.scrollHeight};
cr.prototype.N=function(){cA.prototype.N.call(this);for(var P=0;P<this.fR.length;P++)this.fR[P].N()};
function e4(u,P,g){i6.call(this);this.index=P;this.e=b.V("div",P==g?"listitem selected":"listitem");
this.$B=u.name;this.N();if(P>g)this.e.style.opacity=.4;this.e.addEventListener("click",this.R4.bind(this),!1)}e4.prototype=new i6;
e4.prototype.N=function(){this.e.textContent=fc.get(this.$B)};e4.prototype.R4=function(u){if(this.index==this.parent.at1)return;
this.tD({d:"h_itemchange",index:this.index})};e4.prototype.tD=function(u){var g=new eG(h.E.l,!0);g.data=u;
g.b=R.QV;this.c(g)};function aL(){cA.call(this,[9,10],!1,"---panels/histogram",cA.vZ.aes);var u=b.V("div","padded");
this.Iw.appendChild(u);this.I0=new cM(256,!0);u.appendChild(this.I0.e);this.FQ=null}aL.prototype=new cA("");
aL.prototype.AF=function(u){this.FQ=u;this.Fc()};aL.prototype.Fc=function(){var u=this.FQ;if(!b.tV(this.Iw))return;
if(u==null||u.z.length==0){this.I0.k(f.wB(f.L(4)));return}var g=u.KS(),K=new dS(0,0,u.m,u.n),X=K.$();
if(u.q){var w=u.q.rect,D=f.L(w.$()*4);f.bV(g,K,D,w);f.CY(u.q.channel,D);g=D;K=w;var q=u.q.channel;X=0;
for(var P=0;P<q.length;P++)X+=q[P];X=Math.round(X/255)}var C=f.wB(g);C[0][255]+=3*(X-C[5]);for(var P=1;
P<4;P++)C[P][255]+=X-C[5];this.I0.k(C,X)};aL.prototype.xY=function(u,g){this.I0.tQ(hn.bg[u.Ki]["--text-color"])};
aL.prototype.N=function(){cA.prototype.N.call(this);this.I0.N()};aL.prototype.t2=function(){this.Fc()};
function aW(){cA.call(this,[9,8],!1,"---adj/clrL",cA.vZ.ac6);this.QJ=b.V("div","padded");this.Iw.appendChild(this.QJ);
this.pn=new e1(10);this.QJ.appendChild(this.pn.e);this.X1=new fF;this.X1.parent=this;this.QJ.appendChild(this.X1.h2);
this.X1.h2.style.marginTop="6px";this.pn.f(h.E.o,this.auq,this);this.X1.f(h.E.o,this.auq,this)}aW.prototype=new cA("");
aW.prototype.auq=function(u){var g;if(u.target==this.pn)g=this.pn.C();else{var K=this.X1.C();g=Math.round(K.w)<<16|Math.round(K.A)<<8|Math.round(K.U)}var X=new eG(h.E.Y,!0);
X.data={d:h.s.zS,M3:hO.YJ,KR:0,h:g};this.c(X)};aW.MP=function(u,g){var K=g==hO.Jr,X=u.Bl,w=u.kd,D=w.strokeStyleContent.v,q=null;
if((g==hO.dV||K)&&X.lB==1){q=f.X.Ld(X.Gu.Clr.v);q=q.w<<16|q.A<<8|q.U}if((g==hO.bb||K)&&w.strokeEnabled.v&&D.classID=="solidColorLayer"){q=f.X.Ld(D.Clr.v);
q=q.w<<16|q.A<<8|q.U}if(g==hO.YJ||K)q=u.FK;return q};aW.prototype.xY=function(u,g){var K=u.FK,X=g==hO.Jr,w=aW.MP(u,g);
if(w!=null){this.pn.k(w);this.X1.k({w:w>>>16&255,A:w>>>8&255,U:w>>>0&255,Sm:"Color #"+f.ae(w)})}if(g==hO.Hy||X){var D=u.a1z;
this.X1.QC(D)}};function gZ(){cA.call(this,[12,72],!1,"---adj/mixr",cA.vZ.a15);this.xM=null;this.i3=null;
this.Og=b.V("div","lpbody scrollable");this.Og.style.marginTop="4px";this.Da=b.V("div","lpfoot");this.Iw.appendChild(this.Og);
this.Iw.appendChild(this.Da);this.Zb=[];this.f("click",this.u1,this);this.mk=[];gZ.ID([[17,2],"Save Selection as Channel",[5,3],[5,4]],this.mk,this.Da,this.Ln.bind(this),this.aw.bind(this));
this.xs=new aT([{name:"Merge Channels",L2:!0}],[{T:h.E.Y,M:{d:h.s.KP,Pu:"mergechannels"}}])}gZ.prototype=new cA("");
gZ.prototype.MB=function(){return this.xs};gZ.ID=function(u,g,K,X,w){for(var P=0;P<u.length;P++){var D=new dM("W",!1,u[P]);
g.push(D);b.hh(D.e,X);K.appendChild(D.e);var q=D.e;q.addEventListener("drop",w,!1);q.addEventListener("dragover",function(C){C.preventDefault()},!1);
q.addEventListener("dragenter",b.oE,!1)}};gZ.fM=function(u,g){for(var P=0;P<u.length;P++)if(u[P].e==g.currentTarget)return P};
gZ.prototype.Ln=function(u){var g=gZ.fM(this.mk,u);if(g==0)this.c(er.Ut(!0,null,u));else{g--;var K=new eG(h.E.qf,!0),X={classID:"null"};
if(g==0)X.null={t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]};else if(g==1)X.Nw={t:"Objc",v:{classID:"Chnl",ClrI:{t:"enum",v:{MskI:"SlcA"}},Opct:{t:"long",v:50}}};
else X.null=bd.Af("Chnl",!0);K.data={$T:["duplicate","make","delete"][g],NA:X};this.c(K)}};gZ.prototype.aw=function(u){var g=gZ.fM(this.mk,u);
if(g==2){var K=new eG(h.E.qf,!0),X={classID:"null"};X.null=bd.Af("Chnl",!0);K.data={$T:"duplicate",NA:X};
this.c(K)}else this.Ln(u)};gZ.prototype.Vb=function(P){var u=this.Zb,g=u[P];if(g==null){var K=b.V("canvas");
g=K.getContext("2d");u.push(g)}return g};gZ.prototype.u1=function(u){var g=this.xM.slice(0),K=u.data.Mw,X=g[0]+g[1]+g[2],w=this.i3;
if(-5<K&&K<0){var D=-K-1;if(u.data.xx){if(D==0)g=X==3?[0,0,0]:[1,1,1];else{if(g[D-1]==0)g[D-1]=1;else if(!0)g[D-1]=0}}else{if(D==0)g=[1,1,1];
else{g=[0,0,0];g[D-1]=1}w.qT=[]}var q=new eG(h.E.l,!0);q.b=R.JN;q.data={d:"setcls",PK:g};this.c(q);return}if(-1<K){var C=w.g[K],a=C.oF==1?C.Zv():C.nE(w).B;
if(u.data.xx)a.dd=!a.dd;else{for(var P=0;P<w.g1.length;P++)w.g1[P].dd=!1;w.qT=[]}}else{var x=-K-5,a=w.g1[x];
if(u.data.xx)a.dd=!a.dd;else{for(var P=0;P<w.g1.length;P++)w.g1[P].dd=!1;a.dd=!0;w.qT=[x]}}w.cK=w.vH=!0};
gZ.prototype.t2=function(){this.RO()};gZ.prototype.AF=function(u){this.i3=u;this.RO()};gZ.prototype.RO=function(){var u=this.i3,g=this.Og,c=4;
b.Lh(g);if(u==null||!b.tV(g))return;var K=u.m,X=u.n,w=new dS(0,0,K,X),D=this.xM=u.t.PK.slice(0),q=D[0]+D[1]+D[2],C=Math.round(34*b.Z()),a=C;
if(K>X)a=Math.round(a*X/K);else C=Math.round(C*K/X);var x=["RGB"].concat(jO.Kh);for(var P=0;P<4;P++){var H=this.Vb(P);
f.uI.yx(H,C,a,w,u.KS(),w,!1,P==0?null:P-1);var $=P==0?q==3:D[P-1]==1,r=new er(-1-P,!0,!0,H,x[P],$,$);
r.parent=this;g.appendChild(r.e);b.FH(H.canvas)}for(var P=0;P<u.z.length;P++){var U=u.g[u.z[P]],O=U.oF;
if(O!=1&&O!=3)continue;var A=O==1?U.Zv():U.nE(u).B,H=this.Vb(c+P);c++;f.uI.aB(H,C,a,w,A);var r=new er(u.z[P],!0,!0,H,U.getName()+(O==1?"":" Filter")+" Mask",!0,A.dd);
r.parent=this;g.appendChild(r.e);b.FH(H.canvas)}for(var P=0;P<u.g1.length;P++){var A=u.g1[P],H=this.Vb(c+P);
f.uI.aB(H,C,a,w,A);var r=new er(-5-P,!0,A.name=="Quick Mask",H,A.name,u.qT.indexOf(P)!=-1,A.dd,R.QA,{d:l.Tz,KR:"rnm",Mw:P});
r.parent=this;g.appendChild(r.e);b.FH(H.canvas)}};gZ.prototype.rc=function(u,g){this.Og.style.height=g-9-26-4+"px";
this.Og.style.width=u+"px"};gZ.prototype.N=function(){cA.prototype.N.call(this);this.RO();gZ.fh(this.mk,["lrs/makesel","lrs/mask","lrs/newlayer","lrs/bin"])};
gZ.fh=function(u,g){var g=k6.N1(g,null,"miniscale");for(var P=0;P<u.length;P++)u[P].Db(g[P])};function er(u,g,K,X,w,D,q,C,a){i6.call(this);
this.e=b.V("div","layeritem");this.avC=u;this.aqE=g;this.CG=X;this.al$=C;this.a9d=a;this.KK=b.V("div",D?"head selected":"head");
this.KK.setAttribute("style","height: "+40+"px");var x=b.V("div","headL"),H=b.V("div","headR"),$=15;
this.e.appendChild(this.KK);this.KK.appendChild(x);this.KK.appendChild(H);this.ZI=b.V("div","eye");if(1<b.Z()&&b.Z()<1.5)$=$/b.Z();
this.ZI.setAttribute("style","background-size: "+$+"px "+$+"px;");this.ZI.style.opacity=q?1:.2;if(g)x.appendChild(this.ZI);
this.Yl=b.V("div","thumb");if(X)this.Yl.appendChild(X.canvas);x.appendChild(this.Yl);this.LD=b.V("div","label");
if(K)this.LD.style.fontStyle="italic";this.LD.textContent=fc.get(w);x.appendChild(this.LD);var r=this.KK;
r.setAttribute("draggable","true");r.addEventListener("dragstart",function(c){c.dataTransfer.setData("Text","")},!1);
b.hh(this.KK,this.a8U.bind(this));if(!K)this.KK.addEventListener("mouseup",this.aoY.bind(this),!1)}er.prototype=new i6;
er.prototype.gQ=function(u){var g=new eG(h.E.l,!0);g.b=this.al$;g.data=this.a9d;g.data.name=u;this.c(g)};
er.prototype.a8U=function(u){var g=u.ctrlKey||u.metaKey,K=this.avC;if(g&&u.target==this.CG.canvas){this.c(er.Ut(this.aqE,K,u))}else{var X=new eG("click",!0);
X.data={Mw:K,xx:u.target==this.ZI,NJ:g};this.c(X)}};er.prototype.aoY=function(u){if(u.detail==2&&u.target==this.LD){var g=new cA.ZG(this.LD,this.gQ.bind(this))}};
er.Ut=function(u,g,K){var X=0;if(K.shiftKey)X++;if(K.altKey)X+=2;var w=new eG(h.E.l,!0);w.b=R.C1;if(u){if(-5<g&&g<0){w=new eG(h.E.qf,!0);
w.data=R.uO.yI(X,["RGB","Rd","Grn","Bl"][-1-g])}else w.data={d:"fromchannel",ZX:[g,0,X]}}else w.data={d:"frompath",ZX:[g,0,X]};
return w};function a5(){cA.call(this,[8,9],!1,"---panels/paths",cA.vZ.Vp);this.xM=null;this.i3=null;
this.Og=b.V("div","lpbody scrollable");this.Og.style.marginTop="4px";this.Da=b.V("div","lpfoot");this.Iw.appendChild(this.Og);
this.Iw.appendChild(this.Da);this.Iw.addEventListener("click",this.alw.bind(this),!1);this.Zb=[];this.f("click",this.u1,this);
this.mk=[];gZ.ID(["Fill Path","Stroke Path with Brush",[17,2],"Selection to Path",[5,3],[5,4]],this.mk,this.Da,this.Ln.bind(this),this.aw.bind(this))}a5.prototype=new cA("");
a5.prototype.Ln=function(u,g){var K=gZ.fM(this.mk,u),X;if(K<2){X=new eG(h.E.qf,!0);X.data=R.jV.tN(K)}else if(K==2)X=er.Ut(!1,null,u);
else if(K==3){X=new eG(h.E.qf,!0);X.data={$T:"make",NA:{classID:"null",null:{t:"obj ",v:[{t:"Clss",v:{classID:"Path"}}]},From:{t:"obj ",v:[{t:"prop",v:{classID:"csel",keyID:"fsel"}}]},Tlrn:{t:"UntF",v:{type:"#Pxl",val:2}}}}}else if(K>3){var X=new eG(h.E.l,!0);
X.b=R.AP;X.data={d:"pathedit",KR:["new","del"][K-4],a3I:g}}this.c(X)};a5.prototype.aw=function(u){this.Ln(u,!0)};
a5.prototype.Vb=function(P){var u=this.Zb,g=u[P];if(g==null){var K=b.V("canvas");g=K.getContext("2d");
u.push(g)}return g};a5.prototype.alw=function(u){if(u.target==this.Og){var g=this.i3;g.qe=[];g.J9=[];
g.vH=!0;g.cK=!0}};a5.prototype.u1=function(u){var g=u.data.Mw,K=this.i3,X=u.data.NJ,w=0,D,q;if(g<0){w=-1-g;
D=K.qe;q=K.J9}else{var C=K.f$()[0];for(var P=0;P<C.length;P++){var a=C[P].Mw;if(a==g)break;if(a>=0)w++}D=K.J9;
q=K.qe}if(X){var x=D.indexOf(w);if(x==-1)D.push(w);else D.splice(x,1)}else{while(D.length!=0)D.pop();
while(q.length!=0)q.pop();D.push(w)}K.vH=!0;K.cK=!0};a5.prototype.t2=function(){this.RO()};a5.prototype.AF=function(u){this.i3=u;
this.RO()};a5.prototype.RO=function(){var u=this.i3,g=this.Og;b.Lh(g);if(u==null||!b.tV(g))return;var K=u.m,X=u.n,w=new dS(0,0,K,X),D=this.xM=u.t.PK.slice(0),q=D[0]+D[1]+D[2],C=Math.round(34*b.Z()),a=C;
if(K>X)a=Math.round(a*X/K);else C=Math.round(C*K/X);var x=u.f$(),H=x[0];for(var P=0;P<H.length;P++){var $=H[P],r=this.Vb(P);
f.uI.a4M(r,C,a,w,$.add.vmsk);var c=new er($.Mw,!1,$.Mw>=0,r,$.name,x[1].indexOf(P)!=-1,!1,R.AP,{d:"pathedit",KR:"rnm",Mw:$.Mw});
c.parent=this;g.appendChild(c.e);b.FH(r.canvas)}};a5.prototype.rc=function(u,g){this.Og.style.height=g-9-26-4+"px";
this.Og.style.width=u+"px"};a5.prototype.N=function(){cA.prototype.N.call(this);this.RO();gZ.fh(this.mk,"-\u2B24 -\u25EF lrs/makesel lrs/makepath lrs/newlayer lrs/bin".split(" "))};
function bT(u){cA.call(this,[9,u?4:5],!1,"---panels/"+(u?"character":"paragraph"),u?cA.vZ.a8k:cA.vZ.alT);
this.Iw.setAttribute("style","min-width:240px;");this.att=u;this.I7=null;this.nC=null}bT.prototype=new cA("");
bT.prototype.RU=function(){this.I7=new gJ;var u=this.I7,g=this.Iw;u.parent=this;if(this.att){var K=b.V("div","marged");
g.appendChild(K);K.appendChild(u.ay.e);g.appendChild(b.V("hr"));var X=b.V("div","marged");g.appendChild(X);
X.appendChild(u.Ap.e);X.appendChild(u.W3.e);var w=b.V("div","marged");g.appendChild(w);w.appendChild(u.Z2.e);
w.appendChild(u.BA.e);g.appendChild(b.V("hr"));var D=b.V("div","marged");g.appendChild(D);D.appendChild(u.Cm.e);
D.appendChild(u.JD.e);var q=b.V("div","marged");g.appendChild(q);q.appendChild(u.D6.e);q.appendChild(u.Wd.e);
q.appendChild(u.eL.e);g.appendChild(b.V("hr"));var C=b.V("div","marged");g.appendChild(C);C.appendChild(u.XB.e);
C.appendChild(u.BG.e);C.appendChild(u.YI.e);C.appendChild(u.PE.e);C.appendChild(u.Sr.e);C.appendChild(u.rW.e);
C.appendChild(u.RH.e);C.appendChild(u.B$.e)}else{var K=b.V("div","marged");g.appendChild(K);K.appendChild(u.Xk.e);
K.appendChild(u.Qm.e);K.appendChild(u.oq.e);K.appendChild(u.a0b.e);K.appendChild(u.axo.e);K.appendChild(u.apk.e);
K.appendChild(u.aqJ.e);g.appendChild(b.V("hr"));var X=b.V("div","marged");g.appendChild(X);X.appendChild(u.Zi.e);
X.appendChild(u.Nw.e);X.appendChild(u.HW.e);g.appendChild(b.V("hr"));var w=b.V("div","marged");g.appendChild(w);
w.appendChild(u.uD.e);w.appendChild(u.dX.e);w.appendChild(u.oa.e);w.appendChild(u.lX.e)}};bT.prototype.t2=function(){if(!b.tV(this.Iw))return;
if(this.I7==null){this.RU();var u=this.nC;if(u)this.I7.k(u.vF,u.aX,u.jy);this.I7.N()}};bT.prototype.N=function(){cA.prototype.N.call(this);
if(this.I7)this.I7.N()};bT.prototype.xY=function(u,g){this.nC=u;if(g!=hO.Jr&&g!=hO.pH&&g!=hO.em&&g!=hO.Hm)return;
if(this.I7)this.I7.k(u.vF,u.aX,u.jy)};function iY(){cA.call(this,[9,13],!1,"---panels/glyphs",cA.vZ.acw);
this.I7=new gJ;this.I7.parent=this;this.nC=null;this.a9O=null;this.a3W=null;this.nN=null;this.asM=null;
this.hZ=Math.round(290*b.Z());this.fZ=45;this.acX=4;this.an8=this.Fc.bind(this);this.aet=0;this.fS=new e8(null,["Hi","Hello"]);
this.fS.f(h.E.o,this.Fc,this);var u=this.kv=new dM("-",null,null,!0);u.f("click",this.a5N,this);var g=this.ak0=new dM("+",null,null,!0);
g.f("click",this.a5N,this);this.M$=new fB(!1);this.M$.f(h.E.o,this.gI,this);this.M$.e.style.height=250+"px";
var K=this.kp=b.V("div","form padded");this.Iw.appendChild(K);K.appendChild(this.I7.ay.e);b.d_(K);K.appendChild(this.fS.e);
K.appendChild(u.e);K.appendChild(g.e);this.Iw.appendChild(this.M$.e)}iY.prototype=new cA("");iY.prototype.rc=function(u,g){if(this.QM==u)return;
this.QM=u;this.hZ=Math.floor((u-13)*b.Z());this.kp.setAttribute("style","width:"+this.hZ/b.Z()+"px;");
this.M$.e.style.height=g-73+"px";this.Fc()};iY.prototype.gI=function(u){var g=this.a7s(),K=Math.round(this.hZ/g);
g/=b.Z();var X=this.M$.C()[0]*K*this.acX,w=this.M$.am_();X+=Math.floor(w.y/g)*K;X+=Math.floor(w.x/g);
var D=this.nN[this.fS.C()];if(X>=D.length)return;var q=D[X],C=this.asM[q],a=new eG(h.E.l,!0);a.b=R.$d;
if(C.rv.length==0)a.data={d:"insertGlyph",h:X+1};else a.data={d:"insertText",h:String.fromCodePoint(C.rv[0])};
this.c(a)};iY.prototype.a5N=function(u){var g=1.2;if(u.target==this.kv){if(this.fZ>20)this.fZ/=g}else{if(this.fZ<100)this.fZ*=g}this.Fc()};
iY.prototype.t2=function(){this.xY(this.nC)};iY.prototype.xY=function(u,g){this.nC=u;if(!b.tV(this.Iw))return;
this.I7.k(u.vF,u.aX,u.jy);var K=u.vF,X=K.QX.Font,a=0;if(X==null)return;var w=K._L[X].Name;if(this.a9O==w)return;
var X=u.aX.VD(w);if(X==null)return;var D=X.maxp.numGlyphs,q=this.asM=new Array(D);for(var P=0;P<D;P++)q[P]={rv:[]};
var C=Date.now(),x=new Uint8Array(1048575);for(var P=0;P<1048575;P++){var H=Typr.U.codeToGlyph(X,P);
if(H!=0&&H<D){x[P]=1;if(q[H].rv.length==0)a++;q[H].rv.push(P)}}var $=iY.Jy,r=[];for(var P=0;P<$.length;
P++)r.push([]);for(var H=1;H<D;H++){r[0].push(H);var c=q[H].rv[0];if(c==null){continue}for(var U=1;U<$.length;
U++){var O=$[U].Ow;for(var P=0;P<O.length;P+=2)if(O[P]<=c&&c<=O[P+1]){r[U].push(H);break}}}this.nN=r;
var A=[];for(var P=0;P<$.length;P++)A.push($[P].K2+" ("+r[P].length+")");var m=this.fS.C();this.fS.UT(A);
this.fS.k(m);this.a9O=w;this.a3W=X;this.Fc()};iY.prototype.a7s=function(u){var g=Math.floor(this.hZ/this.fZ);
return Math.floor(this.hZ/g)};iY.prototype.Fc=function(u){if(!b.tV(this.Iw)||this.nN==null)return;var g=this.nN[this.fS.C()],K=g.length,X=this.a3W,w=Typr.U,D=this.a7s(),q=D,C=q*.8,a=q*.8/X.head.unitsPerEm,x=[],H=Math.floor(this.hZ/D),$=Math.ceil(K/H),r=this.acX,c=Date.now();
for(var U=0;U<$;U+=r){var O=b.V("canvas"),A=O.getContext("2d");O.width=D*H;O.height=q*r;A.strokeStyle="rgba(0,0,0,0.3)";
A.fillStyle="white";A.fillRect(0,0,H*D,q*r);for(var m=0;m<r;m++){for(var i=0;i<H;i++){var P=g[(U+m)*H+i];
if(P==null)break;var e=w.glyphToPath(X,P),S=f.p.pj(e.crds);if(!S.fg()){A.fillStyle="#252525";A.beginPath();
var E=i*D+(D-S.m*a)*.5-S.x*a,Z=m*q+C;A.translate(E,Z);A.scale(a,-a);w.pathToContext(e,A);A.scale(1/a,-1/a);
A.translate(-E,-Z);A.fill()}}}A.beginPath();for(var i=0;i<H;i++){var N=i*D+D+.5;A.moveTo(N,0);A.lineTo(N,q*r)}for(var m=0;
m<r;m++){var J=m*q+q+.5;A.moveTo(0,J);A.lineTo(H*D,J)}A.stroke();x.push(O)}this.M$._m(x,null,D*H,q*r)};
iY.Jy=[{K2:"All Glyphs"},{K2:"Basic Latin, Latin 1",Ow:[0,127,128,143]},{K2:"Latin Extended-A",Ow:[256,383]},{K2:"Latin Extended-B",Ow:[384,591]},{K2:"Punctuations",Ow:[33,35,37,39,42,42,44,44,46,47,58,59,63,63,64,64,92,92,161,161,167,167,182,183,191,191,894,894,903,903,1370,1375,1417,1417,8192,8303,11776,11903]},{K2:"Greek",Ow:[880,1023]},{K2:"Cyrillic",Ow:[1024,1279]},{K2:"Hebrew",Ow:[1424,1535]},{K2:"Arabic",Ow:[1536,1791]},{K2:"Emoji",Ow:[9728,10095,127744,129535]}];
function cD(){cA.call(this,[13,0],!1,null,cA.vZ.YJ);this.QH=0;this.a5L=0;this.nC=null;var u=b.V("div","flexrow padded");
this.Iw.appendChild(u);var g=b.V("div");u.appendChild(g);this.cd=[];for(var P=0;P<2;P++){var K=new jR;
this.cd.push(K);K.f("click",this.abx,this);g.appendChild(K.e)}this.QD=new fJ(192);this.QD.f(h.E.o,this.Xq,this);
this.qt=new f$;this.qt.parent=this;u.appendChild(this.QD.e)}cD.prototype=new cA("");cD.prototype.abx=function(u){var g=u.currentTarget,K=this.cd.indexOf(g);
if(K==this.QH){this.qt.DS(K)}else{this.QH=K;this.Fc()}};cD.prototype.Xq=function(u){var g=this.QD.C();
this.QD.k(g);var K=Math.round(g.w*255)<<16|Math.round(g.A*255)<<8|Math.round(g.U*255),X=new eG(h.E.Y,!0);
X.data={d:h.s.zS,M3:hO.YJ,KR:this.QH,h:K};this.c(X);this.a5L=Date.now()};cD.prototype.Fc=function(){var u=this.nC,g=this.QH,K=[u.FK,u.ui];
for(var P=0;P<2;P++){var X=this.cd[P],w=X.e.style;X.tQ(K[P]);if(P==g)w.filter="drop-shadow(0 0 1px #000000)"}var D=K[g];
if(Date.now()-this.a5L>100)this.QD.k({w:(D>>>16)/255,A:(D>>>8&255)/255,U:(D&255)/255})};cD.prototype.xY=function(u,g){this.nC=u;
if(g==hO.Jr||g==hO.YJ){this.qt.a2G(u.FK,u.ui);this.Fc()}};cD.prototype.t2=function(){this.Fc()};function gt(){cA.call(this,"CSS",!1,"---panels/css",cA.vZ.CSS);
this.FQ=null;var u=b.V("div","padded");this.Iw.appendChild(u);this.Gl=b.V("textarea");b.H5(this.Gl);
u.appendChild(this.Gl)}gt.prototype=new cA("");gt.prototype.rc=function(u,g){if(this.QM==u)return;this.QM=u;
this.Gl.setAttribute("style","display:block;tab-size:4;  margin:0; font-family:monospace; width:"+(u-10)+"px; height:"+(g-10)+"px")};
gt.prototype.AF=function(u){this.FQ=u;this.Fc()};gt.prototype.xY=function(u,g){if(g==hO.em)this.Fc()};
gt.prototype.Fc=function(){var u=this.FQ;if(u==null||u.z.length==0)return;if(!b.tV(this.Iw))return;var g=u.g[u.z[0]],K=CSS.auQ(g,u);
if(K.length!=0)this.Gl.value=K.join(";\n")+";";else this.Gl.value=""};gt.prototype.t2=function(){this.Fc()};
function jj(){cA.call(this,[9,6],!1,"---panels/info",cA.vZ.a7f);this.Iw.setAttribute("style","min-width:240px;");
this.FQ=null;this.nC=null;var u=b.V("div","marged row");this.Iw.appendChild(u);var g=b.V("div","cell");
g.setAttribute("style","width:10em");u.appendChild(g);var K=b.V("div","cell");K.setAttribute("style","width:10em");
u.appendChild(K);this.a6I=[];for(var P=0;P<4;P++){var X=new g5("");this.a6I.push(X);g.appendChild(X.e);
b.d_(g)}this.Iw.appendChild(b.V("hr",""));var w=b.V("div","marged row");this.Iw.appendChild(w);var g=b.V("div","cell");
g.setAttribute("style","width:10em");var K=b.V("div","cell");K.setAttribute("style","width:10em");w.appendChild(g);
w.appendChild(K);this.P1=new g5("");g.appendChild(this.P1.e);b.d_(g);this.wo=new g5("");g.appendChild(this.wo.e);
this.Iv=new g5("");K.appendChild(this.Iv.e);b.d_(K);this.VU=new g5("");K.appendChild(this.VU.e);this.P1.k("X: 100 px");
this.wo.k("Y: 100 px");this.Iv.k("W: 0");this.VU.k("H: 0")}jj.prototype=new cA("");jj.prototype.ai=function(u,g,K,X,w){if(!b.tV(this.Iw)||u==null)return;
var D=u.t.wQ(w.x,w.y),q=new j4(Math.floor(D.x),Math.floor(D.y));if(!w.HT){var C=0,a=0,x=0,H=0,$=this.a6I;
if(!w.HT&&!u.aio()&&new dS(0,0,u.m-1,u.n-1).TB(q)){var r=u.KS(),P=u.m*q.y+q.x<<2;C=r[P+0];a=r[P+1];x=r[P+2];
H=r[P+3]}$[0].k("R: "+C);$[1].k("G: "+a);$[2].k("B: "+x);$[3].k("A: "+H)}this.P1.k("X: "+f.Xx.FZ(q.x,u.wY,K,u.m));
this.wo.k("Y: "+f.Xx.FZ(q.y,u.wY,K,u.n));this.hY()};jj.prototype.hY=function(){var u=this.FQ,g=this.nC,K=0,X=0;
if(u&&g){if(u.t.T9){K=u.t.T9.m;X=u.t.T9.n}else if(u.q){K=u.q.rect.m;X=u.q.rect.n}K=f.Xx.FZ(Math.abs(K),u.wY,g,u.m);
X=f.Xx.FZ(Math.abs(X),u.wY,g,u.n)}this.Iv.k(fc.get([12,41]).charAt(0)+": "+K);this.VU.k(fc.get([12,42]).charAt(0)+": "+X)};
jj.prototype.N=function(){cA.prototype.N.call(this);this.hY()};jj.prototype.AF=function(u,g,K){this.FQ=u;
this.nC=K;this.hY()};function gL(){cA.call(this,[9,1],!1,"---panels/layers",cA.vZ.QA);this.vL=null;this.Ny=[];
this.UJ=null;this.kP=null;this.KK=b.V("div","lphead");this.Og=b.V("div","lpbody scrollable");this.Og.addEventListener("scroll",this.a6O.bind(this),!1);
this.Da=b.V("div","lpfoot");this.WZ=new cG([0,6]);this.WZ.f(h.E.o,this.XJ,this);this.KK.appendChild(this.WZ.e);
this.s7=b.V("span","disabled");this.s7.setAttribute("style","display:inline-block; height:26px");this.KK.appendChild(this.s7);
this.bd=new e8(null,["Kind",[12,48]],!1,[]);this.bd.f(h.E.o,this.XJ,this);var u=this.rT=[new fK(null,["<img src=\""+PIMG.pix_layer+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["lrs/adj"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["tools/htype"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.shape_layer+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.so_layer+"\" class=\"miniscale gsicon\" />"],!0,[[12,76,2],[3,0],[12,44],[12,77],[6,7,1]]),new fu(null,null,8)];
u[0].f(h.E.o,this.XJ,this);u[1].f("input",this.XJ,this);this.abD();this.iB=new e8(null,b0.ET,!1,b0.CX);
this.iB.f(h.E.o,this.am$,this);this.KK.appendChild(this.iB.e);this.Tj=new bX([12,0],0,100,"%",0);this.Tj.f(h.E.o,this.akZ,this);
this.Tj.parent=this;this.KK.appendChild(this.Tj.e);this.ps=new fK([6,57,2],["<img src=\""+PIMG.trsp3+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["tools/brush"]+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG.pos+"\" class=\"miniscale gsicon\" />","<img src=\""+PIMG["lrs/lock"]+"\" class=\"miniscale gsicon\" />"],!0,["Transparency",[12,76,2],[12,40],[7,0]]);
this.ps.f(h.E.o,this.avV,this);this.KK.appendChild(this.ps.e);this.JX=new bX([12,26],0,100,"%",0);this.JX.f(h.E.o,this.alN,this);
this.JX.parent=this;this.KK.appendChild(this.JX.e);this.mk=[];this.ID();this.Iw.appendChild(this.KK);
this.Iw.appendChild(this.Og);this.Og.addEventListener("dragover",function(w){w.preventDefault()},!1);
this.Og.addEventListener("dragenter",b.oE,!1);this.Og.addEventListener("drop",this.abg.bind(this),!1);
this.Iw.appendChild(this.Da);this.Iw.addEventListener("contextmenu",b.oE,!1);var g=fe.zw(!0),K=fe.c_(!0);
this.a0D=new aT(g,K);var g=[{name:[14,10]},{name:[14,11],nf:!0},{name:[6,0]},{name:[11,4]},{name:[5,4],nf:!0},{name:[6,7,0]},{name:"New Smart Obj. via Copy",K:function(w){return{K:w.g[w.z[0]].add.SoLd!=null}},nf:!0},{name:[6,8],K:gL.aeX},{name:[6,34],K:function(w){var D=w.g[w.z[0]];
return{K:D.add.lmfx!=null&&!D.xp()}}},{name:[6,40],nf:!0,K:function(w){var D=w.g[w.z[0]];return{K:D.add.TySh!=null}}},{name:"",nf:!0,K:function(w){var D=w.g[w.z[0]],q=D.add.TySh,C=q?q.Fd:null;
return{K:q!=null&&C.Curve==null,Vj:fc.get(q&&fS._k(C)==0?[16,3,1]:[16,3,0])}}},gL.a0A(!1),{name:[11,6],nf:!0,sub:[{name:[5,1],K:function(w){var D=w.g[w.z[0]];
return{K:D.add.lmfx!=null}}},{name:[5,2]},{name:[2,2],K:function(w){var D=w.g[w.z[0]];return{K:D.add.lmfx!=null}}}]},{name:[6,12,0],K:function(w){var D=w==null?0:w.z.length;
return{K:D!=0&&(D!=1||w.z[0]!=0),Vj:fc.get(D>1||D==1&&w.g[w.z[0]].xp()?[6,12,0]:[6,10])}}},{name:[6,12,1],nf:!0},{name:[13,0],sub:function(){var w=[[13,1,0],[13,1,1],[13,1,2],[13,1,3],[13,1,4],[13,1,5],[13,1,6],[13,1,7]],D=[];
for(var P=0;P<w.length;P++)D.push({name:w[P]});return D}()}],K=[{T:h.E.Y,M:{d:h.s.KP,Pu:"layerstyle"}},{T:h.E.l,b:R.C1,M:{d:"fromlayer",ZX:[null,0,0]}},{T:h.E.l,b:R.QA,M:{d:l.bm}},{T:h.E.Y,M:{d:h.s.KP,Pu:"duplinto"}},{T:h.E.l,b:R.QA,M:{d:l.B4}},{T:h.E.qf,M:{$T:"newPlacedLayer"}},{T:h.E.l,b:R.QA,M:{d:l.Bm}},{T:h.E.qf,M:{$T:"rasterizeLayer",NA:{classID:"rasterizeLayer",null:bd.Af("Lyr",!0)}}},{T:h.E.l,b:R.QA,M:{d:l.Hd}},{T:h.E.l,b:R.QA,M:{d:l.ajt}},{T:h.E.l,b:R.$d,M:{d:"switchPntPrgr"}},{T:h.E.l,b:R.QA,M:{d:l.pV}},{sub:[{T:h.E.l,b:R.vz,M:{d:"st_copy"}},{T:h.E.l,b:R.vz,M:{d:"st_paste"}},{T:h.E.l,b:R.vz,M:{d:"st_clear"}}]},{T:h.E.qf,M:{$T:"mergeLayersNew",NA:{__name:"Merge Layers",classID:"Mrg2"}}},{T:h.E.qf,M:{$T:"flattenImage"}},{sub:function(){var w=[];
for(var P=0;P<8;P++)w.push({T:h.E.l,b:R.QA,M:{d:l.LS,ann:P}});return w}()}];this.R7=new aT(g,K);var g=[{name:[6,45],K:function(w){var D=w.g[w.z[0]];
return{K:D.nE(w).B==null}}},{name:[6,47]}],K=[{T:h.E.l,b:R.QA,M:{d:l.mI}},{T:h.E.l,b:R.QA,M:{d:l.Dr}}];
this.a8u=new aT(g,K);var g=[{name:"enab/disab",K:function(w){return{Vj:fc.get(w.g[w.z[0]].Zv().isEnabled?[6,15]:[6,14])}}},{name:[6,22]},{name:[5,8],K:function(w){return{K:w.KL(!1,!0)}}}],K=[{T:h.E.l,b:R.QA,M:{d:l.vq}},{T:h.E.l,b:R.QA,M:{d:l.Bs}},{T:h.E.l,b:R.QA,M:{d:l.yM}}];
this.apQ=new aT(g,K);var g=[{name:"enab/disab",K:function(w){return{Vj:fc.get(w.g[w.z[0]].nE(w).B.isEnabled?[6,42]:[6,41])}}},{name:[6,46]}],K=[{T:h.E.l,b:R.QA,M:{d:l.eC}},{T:h.E.l,b:R.QA,M:{d:l.lc}}];
this.a9E=new aT(g,K);var g=[{name:"enab/disab",K:function(w){return{Vj:fc.get(w.g[w.z[0]].add.vmsk.isEnabled?[6,17]:[6,16])}}},{name:[6,24]},{name:[6,8]}],K=[{T:h.E.l,b:R.QA,M:{d:l.r7}},{T:h.E.l,b:R.QA,M:{d:l.NQ}},{T:h.E.l,b:R.QA,M:{d:l.bH}}];
this.afS=new aT(g,K);this.apl=new aT(fe.awO(!0),fe.Fe(!0));this.a2n=new aT(fe.zw(),fe.c_());this.f("rclick",this.agJ,this);
var X=function(w,D,P){return{Qw:this.uB[P]==1}}.bind(this);this.a5v=new aT([{name:[0,6],K:X},{name:[14,10],K:X},{name:[6,57,2],K:X,nf:!0},{name:"Long-tap as a right click",K:X}]);
this.a5v.f("select",this.aip,this);this.uB=[0,1,1,0];this.aip()}gL.prototype=new cA("");gL.prototype.a6O=function(u){var g=this.Og.scrollTop-600;
for(var P=0;P<this.Ny.length;P++){var K=this.Ny[P],X=K.VZ;if(g<K.VZ)K.avu();if(K.VZ>g+2e3)break}};gL.prototype.MB=function(){return this.a5v};
gL.prototype.aip=function(u){var g=this.uB;if(u){var K=u.target.l3(),P=K[0];console.log(K);g[P]=1-g[P]}var X=[[this.WZ,{e:this.s7}],[this.iB,this.Tj],[this.ps,this.JX]];
for(var P=0;P<3;P++)for(var w=0;w<X[P].length;w++)X[P][w].e.style.display=g[P]==1?"inline-block":"none";
this.rc(this.QM,this.xQ)};gL.prototype.asu=function(){if(this.WZ.C()){var u=this.bd.C(),g=this.rT[u].C();
if(u==0)return g.indexOf(!0)!=-1;if(u==1)return g!=""}return!1};gL.a0A=function(u){var g=function(X){var w=X!=null&&X.z.length!=0&&X.g[X.z[0]].tG;
return{Qw:w,K:X!=null&&X.jw(X.z[0]),M:{T:h.E.qf,M:{$T:w?"ungroup":"groupEvent",NA:{classID:w?"Ungr":"GrpL",null:bd.Af("Lyr",!0)}}}}},K={name:[6,6,0],nf:!0,K:g};
if(u)K.l9=[hW.Dd,hW.A5,hW.u_];return K};gL.aeX=function(u,g){if(u)for(var P=0;P<u.z.length;P++){var K=u.g[u.z[P]];
if(K.add.TySh||K.add.SoLd||K.add.SoCo||K.add.GdFl||K.add.PtFl)return{K:!0}}return{K:!1}};gL.prototype.abg=function(u){b.oE(u);
var g=u.dataTransfer.getData("Text"),K=1,X=0;if(g==""){b.fv(u,this,this.kP.indexOf(this.UJ),X+(K>.5?0:1))}else if(g!="--panel"){var g=JSON.parse(g),w=g.rM;
if(w=="l")this.tD({d:l.cR,source:g.cZ,target:X,GX:K})}};gL.prototype.agJ=function(u){var g=this.UJ,K=u.data,w;
if(g.z.indexOf(K.j)==-1){var X={d:l.pY,j:u.target.QG.index,Ep:K.oF};this.tD(X)}if(g.z.indexOf(K.j)==-1)return;
if(K.oF==1){w=this.apQ}else if(K.oF==2){w=this.afS}else if(K.oF==3){w=this.a9E}else if(K.oF==4){w=this.a8u}else if(K.oF==5){w=this.a0D}else{w=this.R7}w.N();
w.update(g);w.parent=this;var D=new eG(h.E.Y,!0);D.data={d:h.s.dC,qD:w,x:K.wC.x+1,y:K.wC.y+1};this.c(D)};
gL.prototype.N=function(){cA.prototype.N.call(this);this.iB.N();this.Tj.N();this.ps.N();this.JX.N();
if(this.UJ)this.AF(this.UJ);var u="lrs/link lrs/fx lrs/adj lrs/mask lrs/folder lrs/newlayer lrs/bin".split(" ");
for(var P=0;P<this.mk.length;P++){var g=this.mk[P];g.Db(b.xz(u[P],null,"miniscale"));if(P==1||P==2){g.e.style.position="relative";
var K=b.V("img","gsicon");K.setAttribute("src",PIMG["tools/corner"]);K.setAttribute("style","position:absolute; right:0;  bottom:0; width:100%;  height:100%;");
g.e.appendChild(K)}}};gL.prototype.AF=function(u,g){if(u&&!u.X5)return;if(u==null)b.AD(this.Iw,"disabled");
else b._n(this.Iw,"disabled");this.UJ=u;this.kP=g;if(this.vL!=null){b.Lh(this.Og);this.vL=null;this.Ny=[]}if(u==null)return;
var K=!1;for(var P=0;P<u.g1.length;P++)if(u.g1[P].dd)K=!0;this.vL=new f_(u.root,this,u,{QF:0,ml:!1},{amI:K,as8:this.asu()},this.Ny,0,new dS(0,0,u.m,u.n));
if(u.z.length==0||u.g[u.z[0]]==null)b.AD(this.KK,"disabled");else{b._n(this.KK,"disabled");if(u.z.length==1&&u.xE){var X=u.z[0];
for(var P=0;P<this.Ny.length;P++){var w=this.Ny[P];if(w.QG.index==X&&w.KK.scrollIntoView)w.KK.scrollIntoView({block:"nearest"})}}var D=u.g[u.z[0]];
if(D.xp()){this.iB.UT([[15,10,27]].concat(b0.ET),[1].concat(b0.CX));var q=b0.t8.indexOf(D.wS);this.iB.k(q+1)}else{this.iB.UT(b0.ET,b0.CX);
var q=b0.t8.indexOf(D.wS);this.iB.k(q)}this.Tj.k(Math.round(100*D.opacity/255));this.ps.k([D.Kf(0),D.Kf(1),D.Kf(2),D.Kf(31)]);
var C=u.Yt();this.iB.Tm(!C);this.JX.Tm(!C);this.Tj.Tm(!C);this.ps.Tm(!(C&&!D.Kf(31)));this.JX.k(Math.round(100*(D.add.iOpa!=null?D.add.iOpa/255:1)))}this.a6O(null)};
gL.prototype.rc=function(u,g){this.QM=u;this.xQ=g;var K=this.KK.getBoundingClientRect().height;if(55<K&&K<56)K=60.2;
var X=g-(K+33);this.Og.style.height=X+"px";this.Og.style.width=u+"px"};gL.prototype.am$=function(u){this.tD({d:l.WG,a5:this.iB.C()})};
gL.prototype.akZ=function(u){this.tD({d:l.f2,a5:Math.round(255*this.Tj.C()/100)})};gL.prototype.avV=function(u){this.tD({d:l.gB,a5:[this.ps.C(),[0,1,2,31]]})};
gL.prototype.alN=function(u){this.tD({d:l.HR,a5:Math.round(255*this.JX.C()/100)})};gL.prototype.XJ=function(u){if(u.target==this.bd)this.abD();
var g=this.WZ.C();if(g)b._n(this.s7,"disabled");else b.AD(this.s7,"disabled");this.N();this.UJ.X5=!0;
this.AF(this.UJ);this.UJ.X5=!1};gL.prototype.abD=function(){b.Lh(this.s7);this.s7.appendChild(this.bd.e);
this.s7.appendChild(this.rT[this.bd.C()].e)};gL.prototype.a2X=function(u){this.aaG(u,this.apl)};gL.prototype.avB=function(u){this.aaG(u,this.a2n)};
gL.prototype.aaG=function(u,g){var K=u.currentTarget;if(b.tV(g.e))return;u.stopPropagation();var X=K.getBoundingClientRect();
g.N();g.update(this.UJ);g.parent=this;var w=new eG(h.E.Y,!0);w.data={d:h.s.dC,qD:g,x:X.left,y:X.top,agv:!0};
this.c(w)};gL.prototype.aaS=function(u){this.tD({d:l.a0E})};gL.prototype.a06=function(u){this.tD({d:this.UJ.z.length>1?l.Nc:l.nk})};
gL.prototype.amq=function(u){this.tD({d:l.Vq})};gL.prototype.alW=function(u){var g=this.UJ;if(g.z.length==0)return;
var K=g.g[g.z[0]],X=K.oF;this.tD({d:X<=0?K.vC?l.NQ:l.B4:X==3?l.lc:l.Bs})};gL.prototype.akr=function(u){this.tD({d:l.CO})};
gL.prototype.tD=function(u){var g=new eG(h.E.l,!0);g.data=u;g.b=R.QA;this.c(g)};gL.prototype.ID=function(){var u=[[6,54,0],[11,6],[6,1],[6,21],[6,20],[6,13],[5,4]],g=[this.akr,this.avB,this.a2X,this.aaS,this.a06,this.amq,this.alW],K=this.a6R.bind(this);
for(var P=0;P<u.length;P++){var X=new dM("W",!1,u[P]);this.mk.push(X);b.hh(X.e,g[P].bind(this));this.Da.appendChild(X.e);
if(P>=u.length-3){var w=X.e;w.addEventListener("drop",K,!1);w.addEventListener("dragover",function(D){D.preventDefault()},!1);
w.addEventListener("dragenter",b.oE,!1)}}};gL.prototype.a6R=function(u){b.oE(u);var g=0,K=this.mk;while(K[g].e!=u.currentTarget)g++;
K[g].Cl();var X=u.dataTransfer.getData("Text");if(X=="")return;var X=JSON.parse(X);if(X.rM=="l"){var w={d:[l.Nc,l.bm,l.B4][g-4]};
if(this.UJ.z.indexOf(X.cZ)==-1)w.j=X.cZ;this.tD(w)}if(g!=6)return;if(X.rM=="sm"||X.rM=="s"){var D=new eG(h.E.l,!0);
D.b=R.vz;D.data={d:X.rM=="sm"?"st_clear":"st_delsingle",j:X.cZ,cZ:X.S5};this.c(D)}if(X.rM=="fm"||X.rM=="f"){this.tD({d:X.rM=="fm"?l.Dr:l.Jx,src:X.cZ,S5:X.S5})}if(X.rM=="m"||X.rM=="vm"){this.tD({d:X.rM=="m"?l.Bs:l.NQ,j:X.cZ})}};
function f_(u,g,K,X,w,D,q,C){i6.call(this);this.parent=g;this.VZ=q;this.QG=u;D.push(this);this.As=K;
this.oe=X;var a=g.Og,x=u.j,H=K.z.indexOf(u.index)!=-1,U=null;this.KK=b.V("div",H?"head selected":"head");
if(x.add.artb!=null){b.AD(this.KK,"artb");C=x.T0()}var $=this.aoU=x.xp()?26:Math.floor(10+x.a6o/b.Z()),r="height: "+$+"px;";
if(H&&w.amI)r+="background-color:rgba(255,50,50,0.4);";this.KK.setAttribute("style",r);this.a07=C;var c=this.avk=this.ao3.bind(this),O=w.as8&&!this.a3i();
if(!O){if(u.depth!=0){a.appendChild(this.KK);q+=$}if(x.uU()||x.ov())if(x.vh()){U=this.a5V=b.V("div","lpineck");
a.appendChild(U);if(x.uU()){U.addEventListener("contextmenu",c,!1);var A=new gL._v(fc.get([12,1]),"sm","layerstyle",u.depth,0,null);
q+=21;A.parent=this;U.appendChild(A.e);var m=x.add.lmfx,i=m.masterFXSwitch.v;A.H4(i);for(var P=0;P<k8.order.length;
P++){var e=m[k8.pg[P]].v;if(e.length==0)continue;for(var S=0;S<e.length;S++){var A=new gL._v(fc.get(k8.names[P]),"s","layerstyle",u.depth,1,[P,S]);
q+=21;A.H4(i&&e[S].v.enab.v);A.parent=this;U.appendChild(A.e)}}}if(x.ov()){var A=new gL._v(fc.get([12,55]),"fm",null,u.depth,0,-1,x.nE(K).B?this.Iq:null);
A.parent=this;U.appendChild(A.e);this.ag7=A.e;this.ag7.addEventListener("contextmenu",c,!1);var m=x.add.SoLd.filterFX.v,E=m.filterFXList.v,i=m.enab.v;
A.H4(i);for(var P=E.length-1;P>=0;P--){var Z=E[P].v,N=dJ.o8(Z);if(jO.Yz[N])N=jO.Yz[N];var J=Z.Nm.v;if(dJ.names[N])J=fc.get(dJ.names[N]);
if(jO.names[N])J=fc.get(jO.names[N]);var y="afw_"+N,A=new gL._v(J,"f",y,u.depth,1,P);A.H4(i&&Z.enab.v);
A.parent=this;U.appendChild(A.e)}}}}var o=[0,16711680,16748544,16763904,4513024,22015,11141375,7829367],B=x.add.lclr==null?0:o[x.add.lclr];
if(B==0)B=X.QF;this.adi=B;if(x.xp()&&(x.add.lsct==g4.DM||w.as8)){var t={QF:B,ml:X.ml||x.Kf(31)};for(var P=u.children.length-1;
P>=0;P--){var W=new f_(u.children[P],g,K,t,w,D,q,C);q=W.a4d}}this.a4d=q}f_.prototype=new i6;f_.prototype.avu=function(){if(this.Js)return;
var u=this.QG,g=u.j,K=this.As,X=this.oe,$=!0,t=!1;u.Ja(K,this.a07,!0);var w=b.V("div","headL"),D=b.V("div","headR");
this.KK.appendChild(w);this.KK.appendChild(D);var q=this.KK;q.setAttribute("draggable","true");q.addEventListener("dragstart",this.tt.bind(this),!1);
q.addEventListener("drop",this.pX.bind(this),!1);q.addEventListener("dragover",this.pJ.bind(this),!1);
q.addEventListener("dragenter",b.oE,!1);q.addEventListener("dragleave",this.hK.bind(this),!1);var C=[],a=[null,null,null,null],x=g.AG(),H=u;
while(H.parent){H=H.parent;x=x&&H.j.AG()}if(g.tG){for(var P=u.index-1;P>=0;P--){var r=K.g[P];if(!r.tG){$=r.AG();
break}}}var c=g.AG()?x&&$?2:1:0;this.Js=b.V("div");var U=b.V("div",c==0?"sqr":"eye");this.Js.appendChild(U);
U.style.opacity=[.12,.33,1][c];var O=b.V("div","space");this.LD=b.V("div","label");this.LD.setAttribute("style","max-width:calc(100% - "+(96+u.depth*20)+"px); margin-top:"+(this.aoU-19)/2+"px;");
this.LD.textContent=g.getName();this.UL=b.V("div","lock");this.as5=b.V("div","lrfx");this.pd=b.V("div","arfx");
var A=this.avk,m=this.axj.bind(this);this.KK.addEventListener("click",m,!1);this.KK.addEventListener("contextmenu",A,!1);
var i=this.adi,e=[i>>16,i>>8&255,i&255];for(var P=0;P<3;P++){e[P]=Math.round(.5*e[P]+.5*220)}this.Js.setAttribute("style","background-color:rgba("+e.join(",")+","+(i==0?0:1)+");");
var S=this.ahk.bind(this);this.Js.addEventListener("mousedown",S,!1);this.Js.addEventListener("mouseover",S,!1);
this.pd.addEventListener("click",this.a7A.bind(this),!1);C[0]=this.Js;C[1]=O;C[10]=this.LD;if(g.xp()){var E=b.V("div","arrow"),Z=b.V("div","folder");
this.m1(Z);E.addEventListener("click",this.ahr.bind(this),!1);C[2]=E;C[3]=Z;E.setAttribute("class",g.add.lsct==g4.DM?"open":"closed")}else{this.Yl=b.V("div","thumb");
C[5]=this.Yl;f_.rX(this.Yl,g.oU);this.m1(this.Yl);if(jO.get(g.add))b.AD(g.oU.canvas,"gsicon")}var N=g.Zv();
if(N){this.H6=b.V("div","chain");this.Xz=b.V("div","thumb");f_.rX(this.Xz,g.PL,!0);this.H6.style.opacity=N.Bo?1:0;
this.H6.addEventListener("click",this.af1.bind(this),!1)}var J=g.HS()&&g.add.vmsk;if(g.add.vmsk&&!J){this.M4=b.V("div","chain");
this.Qc=b.V("div","thumb");f_.rX(this.Qc,g.hW,!0);this.M4.style.opacity=g.add.vmsk.Bo?1:0;this.M4.addEventListener("click",this.al5.bind(this),!1)}if(g.ov()&&g.nE(K).B){this.Iq=b.V("div","thumb");
f_.rX(this.Iq,g.sQ,!1);this.m1(this.Iq);this.Iq.addEventListener("click",m,!1);this.Iq.addEventListener("contextmenu",A,!1)}if(u.index==K.z[0]){var y=g.oF,o;
if(y<=0)o=this.Yl;else if(y==1)o=this.Xz;else if(y==3)o=this.Iq;if(o)o.setAttribute("class","thumb active");
if(g.vC&&this.Qc)this.Qc.setAttribute("class","thumb active")}O.setAttribute("style","width:"+Math.max(0,u.depth-1)*18+"px");
var B=g.add.lspf!=null&&g.add.lspf!=0||X.ml;this.UL.style.opacity=g.Kf(31)?1:.5;C[4]=g.tG?b.V("div","clipp"):null;
C[6]=N?this.H6:null;C[7]=N?this.Xz:null;C[8]=g.add.vmsk&&!J?this.M4:null;C[9]=g.add.vmsk&&!J?this.Qc:null;
var W=g.lz,F=K.z;if(W!=0)for(var P=0;P<F.length;P++)if(K.g[F[P]].lz==W){t=!0;break}if(t){a[0]=b.V("div",g.rJ?"link":"linkX");
a[0].addEventListener("click",this.acu.bind(this),!1)}a[1]=B?this.UL:null;a[2]=g.uU()?this.as5:null;
a[3]=g.uU()||g.ov()?this.pd:null;this.pd.setAttribute("class",g.vh()?"arfx open  gsicon":"arfx closed  gsicon");
var G=C;for(var P=0;P<G.length;P++)if(G[P])w.appendChild(G[P]);G=a;for(var P=0;P<G.length;P++)if(G[P])D.appendChild(G[P])};
f_.rX=function(u,g,K){var X=g.canvas;b.FH(X);if(K)u.setAttribute("draggable","true");u.appendChild(X);
X.setAttribute("style",X.getAttribute("style")+"; pointer-events:none")};f_.prototype.m1=function(u){b.hh(u,function(g){if(this.parent.uB[3]==0)return;
b.xk(g);b.Uo(document.body,function(){clearTimeout(this.ajp)}.bind(this));this.ajp=setTimeout(function(){var K=new eG("rclick",!0);
K.data={j:this.QG.index,oF:this.oF(g),wC:b.Y2(g,document.body)};this.c(K)}.bind(this),600)}.bind(this))};
f_.eP=function(u,g){var K=g.getBoundingClientRect();return(u.clientY-K.top)/K.height};f_.prototype.tt=function(u){u.stopPropagation();
var g=u.target==this.Xz?"m":u.target==this.Qc?"vm":"l";u.dataTransfer.setData("Text",JSON.stringify({rM:g,cZ:this.QG.index}))};
f_.prototype.hK=function(u){b.oE(u);this.QU()};f_.prototype.pX=function(u){b.oE(u);this.QU();var g=u.dataTransfer.getData("Text"),K=this.parent.UJ,X=f_.eP(u,this.KK),w=this.QG.index;
if(X>.8){var D=!0,q=K.root.WX(w);while(q.parent!=null){var C=q.parent,a=C.children;if(a.indexOf(q)!=0)D=!1;
q=q.parent}if(D){w=0;X=1}}if(g==""){b.fv(u,this,this.parent.kP.indexOf(K),w+(X>.5?0:1))}else if(g!="--panel"){var g=JSON.parse(g),x=g.rM;
if(x=="l")this.tD({d:l.cR,source:g.cZ,target:w,GX:X});else if(x=="m"||x=="vm")this.tD({d:x=="m"?l.avl:l.vR,src:g.cZ,WR:w});
else f_.agE(u,g,this)}};f_.agE=function(u,g,K,X){var w=g.rM,D=K.QG.index,q=g.cZ;if(w=="s"||w=="sm")K.tD({d:l.um,src:q,WR:D,S5:g.S5});
if(w=="f"||w=="fm")K.tD({d:l.a6j,src:q,WR:D,S5:g.S5,Rl:X==null?0:X})};f_.prototype.pJ=function(u){b.oE(u);
var g=f_.eP(u,this.KK),K=this.QG.j.xp()&&.5<g&&g<.8;this.QU();var X="inset 0 "+(K?0:g>.5?-3:3)+"px "+(K?"5px black":"0 rgba(0,0,0,0.5)");
this.KK.style.boxShadow=X};f_.prototype.QU=function(u){this.KK.style.boxShadow=""};f_.aqp=-1;f_.a1=!1;
f_.a0C=function(u){f_.a1=!1;document.body.removeEventListener("mouseup",f_.a0C)};f_.prototype.ahk=function(u){if(u.button!=0)return;
if(u.type=="mousedown"){f_.a1=!0;document.body.addEventListener("mouseup",f_.a0C,!1)}if(u.type=="mouseover"&&(!f_.a1||f_.aqp==this.QG.index))return;
b.oE(u);this.tD({d:l.Lf,j:this.QG.index});f_.aqp=this.QG.index};f_.prototype.ahr=function(u){b.oE(u);
this.tD({d:l.alX,j:this.QG.index})};f_.prototype.af1=function(u){this.tD({d:l.y$,j:this.QG.index})};
f_.prototype.al5=function(u){this.tD({d:l.A7,j:this.QG.index})};f_.aN=0;f_.prototype.gQ=function(u){this.tD({d:l.I1,j:this.QG.index,name:u})};
f_.prototype.a7A=function(u){this.tD({d:l.ar6,j:this.QG.index})};f_.prototype.acu=function(u){this.tD({d:l.MK,j:this.QG.index})};
f_.prototype.ao3=function(u){if(u.button!=2&&!b.afs(u))return;var g=this.oF(u);if(g!=3&&u.currentTarget==this.ag7)g=4;
if(u.target==this.as5||u.currentTarget==this.a5V)g=5;var K=new eG("rclick",!0);K.data={j:this.QG.index,oF:g,wC:b.Y2(u,document.body)};
this.c(K)};f_.prototype.oF=function(u){var g=u.target,K=g;return K==this.Qc?2:K==this.Xz?1:K==this.Yl?0:K==this.Iq?3:-1};
f_.prototype.axj=function(u){var g=u.target,r;if(g==this.Js.firstChild||g==this.pd||g==this.H6||g==this.M4||g.tagName&&g.tagName.toLowerCase()=="input")return;
var K=this.oF(u),X=this.parent.UJ,w=this.QG.index,D=X.g[w];if(g==this.UL){this.tD({d:l.gB,j:w,a5:[[!1,!1,!1,!1,!1],[0,1,2,3,31]]});
return}if(g==this.LD){var q=f_.aN;f_.aN=Date.now();if(Date.now()-q<300){this.KK.setAttribute("draggable","false");
var C=new cA.ZG(this.LD,this.gQ.bind(this))}else this.tD({d:l.pY,j:w,Ep:K,im:!0});return}if(u.button==0&&u.detail==2){if(g==this.LD)return;
var a=new eG(h.E.l,!0),x=new eG(h.E.Y,!0),H=new eG(h.E.qf,!0);if(K==0&&D.add.SoCo){var $=f.X.Ld(D.add.SoCo.Clr.v);
x.data={d:h.s.KP,Pu:"colorpicker",QF:$.w<<16|$.A<<8|$.U,ob:function(O){var A=f.X.Gp({U:O&255,A:O>>>8&255,w:O>>16&255});
A={classID:"null",Clr:{t:"Objc",v:A}};var m=new eG(h.E.l,!0);m.b=R.QA;m.data={d:l.ia,t7:[w],FX:!0,h:{lB:1,Gu:A}};
this.c(m)}.bind(this),QT:!0}}else if(K==0&&(jO.get(D.add)||D.add.SoCo||D.add.GdFl||D.add.PtFl))x.data={d:h.s.QI,Pu:cA.vZ.Ua};
else if(K!=0&&K!=-1)x.data={d:h.s.QI,Pu:cA.vZ.Ua};else if(K==0&&D.add.SoLd)H.data={$T:"placedLayerEditContents",NA:{classID:"placedLayerEditContents"}};
else if(K==0&&D.add.TySh){a.b=R.$d;a.data={d:"editCurr",QQ:w}}else x.data={d:h.s.KP,Pu:"layerstyle",j:w};
this.c(H.data?H:x.data?x:a);return}if(u.button!=0)return;if(K==1||K==3){var c=K==3?D.nE(X).B:D.Zv();
r=c.dd?X.t.PK.join("")=="111"?1:2:0}var U={d:l.pY,j:w,Ep:K,a82:r,im:!0};this.tD(U)};f_.prototype.tD=function(u){var g=new eG(h.E.l,!0);
g.data=u;g.b=R.QA;this.c(g)};f_.prototype.a3i=function(){var u=this.QG.j,g=u.add,K=this.parent.bd.C(),X=this.parent.rT[K].C();
if(K==0){if(X[0]&&g.SoLd==null&&g.TySh==null&&u.UR())return!0;if(X[1]&&jO.get(g)!=null)return!0;if(X[2]&&g.TySh!=null)return!0;
if(X[3]&&g.vstk!=null)return!0;if(X[4]&&g.SoLd!=null)return!0;return!1}if(K==1)return u.getName().toLowerCase().indexOf(X.toLowerCase())!=-1};
gL._v=function(u,g,K,X,w,D,q){i6.call(this);this.ase=g;this.on=K;this.index=D;this.e=b.V("div","styleitem");
this.KK=b.V("div","head");this.a25=null;if(g=="f"){var C=this.a25=b.V("div","headR");C.textContent="\u2699";
this.KK.appendChild(C)}this.Js=b.V("div","eye gsicon");this.LD=b.V("div","label");this.e.appendChild(this.KK);
this.KK.appendChild(this.Js);if(q){this.Xz=q;this.KK.appendChild(this.Xz);this.KK.setAttribute("style","height: "+(q.firstChild.height/b.Z()+10)+"px")}this.LD.innerHTML=u;
this.e.setAttribute("style","margin-left: "+(24+X*16+w*22)+"px");this.KK.appendChild(this.LD);this.Js.addEventListener("click",this.aq9.bind(this),!1);
var a=this.e;a.setAttribute("draggable","true");a.addEventListener("dragstart",this.tt.bind(this),!1);
if(!0){a.addEventListener("drop",this.pX.bind(this),!1);a.addEventListener("dragover",this.pJ.bind(this),!1);
a.addEventListener("dragenter",b.oE,!1);a.addEventListener("dragleave",this.hK.bind(this),!1)}this.e.addEventListener("click",this.RB.bind(this),!1)};
gL._v.prototype=new i6;gL._v.prototype.tt=function(u){u.stopPropagation();u.dataTransfer.setData("Text",JSON.stringify({rM:this.ase,cZ:this.parent.QG.index,S5:this.index}))};
gL._v.prototype.hK=function(u){b.oE(u);this.QU()};gL._v.prototype.pX=function(u){b.oE(u);this.QU();var g=u.dataTransfer.getData("Text");
if(g=="")return;var g=JSON.parse(g);f_.agE(u,g,this.parent,this.index+(f_.eP(u,this.KK)>.5?0:1))};gL._v.prototype.pJ=function(u){b.oE(u);
var g=f_.eP(u,this.KK)>.5;this.QU();var K="border-"+(g?"bottom":"top");this.KK.style[K]="0.2em solid rgba(0,0,0,0.5)"};
gL._v.prototype.QU=function(u){this.KK.style.border="none"};gL._v.prototype.H4=function(u){this.Js.style.opacity=u?1:.2};
gL._v.prototype.RB=function(u){if(u.target==this.Js)return;var g=this.parent.QG.index;if(u.detail!=1&&this.on!=null){var g=this.parent.QG.index,K=new eG(h.E.Y,!0);
if(this.on.indexOf("afw_")==0){var X=this.on.slice(4),w=_[X]||dJ.W[X],D=u.target==this.a25;if(!D&&!w)return;
K.data=R.$j.a4S(D?"blendOptions":X,{j:g,index:this.index})}else K.data={d:h.s.KP,Pu:this.on,j:g,index:this.index};
this.c(K)}else{if(u.target.getAttribute("class")!="thumb")this.parent.tD({d:l.pY,j:g,Ep:0})}};gL._v.prototype.aq9=function(u){var g={fm:l.g5,f:l.NH,sm:l.lY,s:l.X9}[this.ase];
this.parent.tD({d:g,j:this.parent.QG.index,index:this.index})};function gg(){cA.call(this,"Guide Guy",!1,"---panels/guideguy",cA.vZ.anT);
this.FQ=null;this._q=[];var u=b.V("div","form padded");this.Iw.appendChild(u);u.setAttribute("style","width:200px");
this.Iw.appendChild(u);var g=b.V("canvas"),K=g.getContext("2d");g.width=g.height=160;var X=[32,0,16,160,0,32,160,16,0,112,160,16],w="Margin Left,Margin Top,Margin Right,Margin Bottom,Column Count,Row Count,Column Width,Row Height,Column Gap,Row Gap".split(","),D=[0,0,0,0,0,0,0,0,0,0];
for(var P=0;P<10;P++){K.clearRect(0,0,160,160);K.setTransform(1,0,0,1,80,80);K.rotate((P&3)*Math.PI/2);
K.translate(-80,-80);K.fillStyle="rgba(0,0,0,0.3)";if(P<4){for(var q=0;q<12;q+=4){K.fillStyle=q==0?"#000000":"rgba(0,0,0,0.3)";
K.fillRect(X[q],X[q+1],X[q+2],X[q+3])}}else if(P<6){var C=8*6;K.fillRect(0,0,C,160);K.fillRect(8*7,0,C,160);
K.fillStyle="#000000";K.fillRect(8*14,0,C,160)}else if(P<8){K.fillRect(0,0,16,160);K.fillRect(160-16,0,16,160);
K.fillRect(32,0,160-64,160);K.fillStyle="#000000";K.fillRect(32,80-8,160-64,8*1)}else{K.fillRect(0,0,8*7,160);
K.fillRect(8*13,0,160,160);K.fillStyle="#000000";K.fillRect(8*7,80-8,8*6,8*1)}var a="<img src=\""+g.toDataURL()+"\" class=\"autoscale gsicon\" /> ",x=new bX(a,0,200,P==4||P==5?null:"px",P==4||P==5?0:1,null,null,4,w[P]);
x.parent=this;x.f(h.E.o,this.al9,this);x.k(D[P]);x.N();this._q.push(x);u.appendChild(x.e)}var H=[[11,14],[11,15,0]];
this.OG=[];for(var P=0;P<H.length;P++){var $=new dM(H[P],!0,null,!0);this.OG.push($);$.f("click",this.mc,this);
u.appendChild($.e)}for(var P=0;P<6;P++){K.setTransform(1,0,0,1,80,80);K.rotate(Math.floor(P/3)*Math.PI/2);
K.translate(-80,-80);K.clearRect(0,0,160,160);K.fillStyle="rgba(0,0,0,0.3)";K.fillRect(0,0,160,160);
K.clearRect(16,16,128,128);K.fillStyle="#000000";var r=P%3;K.fillRect([0,9,18][r]*8,0,16,160);var a="<img src=\""+g.toDataURL()+"\" class=\"autoscale gsicon\" /> ",$=new dM(a,!1,null,!1);
this.OG.push($);$.f("click",this.mc,this);u.appendChild($.e)}}gg.prototype=new cA("");gg.prototype.N=function(){cA.prototype.N.call(this);
for(var P=0;P<this.OG.length;P++)this.OG[P].N()};gg.prototype.al9=function(u){var g=this._q,K=g.indexOf(u.target),X=Math.floor(K/2),w=K&1,D=[];
for(var P=0;P<4;P++)D.push(g[2*P+w].C());var q=-1;if(X==2&&D[2]!=0&&D[3]!=0&&D[4]!=0)q=4;if(X==3&&D[3]!=0&&D[2]!=0&&D[4]!=0)q=4;
if(X==4&&D[4]!=0&&D[2]!=0&&D[3]!=0)q=3;if(q!=-1)g[2*q+w].k(0)};gg.prototype.mc=function(u){var g=this.FQ,K=this.OG.indexOf(u.target),X=[[],[]];
if(g==null)return;var w=g.q?g.q.rect:new dS(0,0,g.m,g.n),D=w.m,q=w.n;if(K==0){var C=[[],[]];for(var P=0;
P<this._q.length;P++)C[P&1].push(this._q[P].C());var a=[gg.af$(C[0],w.x,w.x+D),gg.af$(C[1],w.y,w.y+q)];
X=gg.a0G(a);R.NP.qE(X,g.xv())}else if(K==1){}else{K-=2;var x=Math.floor(K/3),a=[[],[]];a[x].push([w.x,w.x+D/2,w.x+D,w.y,w.y+q/2,w.y+q][K]);
X=gg.a0G(a);R.NP.qE(X,g.xv())}this.aqq(X)};gg.a0G=function(u){var g=[],K=[];for(var X=0;X<2;X++)for(var P=0;
P<u[X].length;P++){g.push([X,u[X][P]]);K.push(-1)}return[g,K]};gg.prototype.au1=function(u){var g=this.a9e.indexOf(u.target)};
gg.prototype.aqq=function(u){var g=new eG(h.E.l,!0);g.b=R.Hx;g.data={d:"gids",rK:u};this.c(g)};gg.af$=function(u,g,K){var X=[],w=u[2],D=u[3],q=u[4],C=0;
if(w==0)C++;if(D==0)C++;if(q==0)C++;if(C>1&&w==0&&D==0){if(u[0]!=0)X.push(g+u[0]);if(u[1]!=0)X.push(K-u[1]);
return X}var a=K-g-u[0]-u[1];if(w==0){if(q==0){w=Math.floor(a/D);q=(a-w*D)/(w-1)}else{w=1;while(D*w+q*(w-1)+D+q<=a)w++}}else if(w!=0&&D!=0){if(w*D>a)w=Math.floor(a/D);
q=(a-w*D)/(w-1)}X.push(g+u[0],K-u[1]);var D=(a-q*(w-1))/w;for(var P=1;P<w;P++){if(q==0)X.push(g+u[0]+P*D);
else X.push(g+u[0]+P*D+(P-1)*q,g+u[0]+P*D+P*q)}return X};gg.prototype.AF=function(u){this.FQ=u};function cc(){cA.call(this,[9,2],!1,"---panels/properties",cA.vZ.Ua);
this.aaP=null;this.As=null;this.nC=null;this.ady=-1;this.QJ=null}cc.prototype=new cA("");cc.prototype.rc=function(u,g){this.QM=u;
this.xQ=g;u=u-16;g=g-12;var K=this.QJ;if(K){K.style.width=u+"px";K.style.height=g+"px";for(var P=0;P<3;
P++)this.wi[P].rc(u-12,g)}};cc.prototype.RU=function(){this.QJ=b.V("div","padded scrollable");this.Iw.appendChild(this.QJ);
var u=b.V("span");this.QJ.appendChild(u);this.uR=[new dM([0,3]),new dM([12,73]),new dM([12,91,0])];for(var P=0;
P<this.uR.length;P++){var g=this.uR[P];g.f("click",this.avU,this);u.appendChild(g.e);if(P==2)g.e.style.marginRight="0"}this.QJ.appendChild(b.V("hr"));
this.KM=new cc.fo;this.KM.parent=this;this.rp=new cc.dF;this.rp.parent=this;this.j5=new cc.yc;this.j5.parent=this;
this.wi=[this.KM,this.rp,this.j5];this.QJ.appendChild(this.KM.e);this.rc(this.QM,this.xQ)};cc.prototype.avU=function(u){var P=this.uR.indexOf(u.currentTarget);
this.B8(P);this.awo(P==1?this.rp.IV:-1)};cc.prototype.B8=function(u){for(var P=0;P<3;P++){this.uR[P].Cl();
var g=this.wi[P].e;if(g.parentNode==this.QJ&&P!=u)this.QJ.removeChild(g);if(g.parentNode!=this.QJ&&P==u)this.QJ.appendChild(g)}this.uR[u].Vn()};
cc.prototype.awo=function(u){var g=this.As.z[0],K=this.As.g[g],X=u+1;if(u==1&&K.vC)return;var w=new eG(h.E.l,!0);
w.b=R.QA;if(u!=1&&K.vC){w.data={d:l.pY,j:g,Ep:2};this.c(w)}w.data={d:l.pY,j:g,Ep:X};this.c(w)};cc.prototype.N=function(){cA.prototype.N.call(this);
if(this.QJ==null)return;this.AF(this.As);for(var P=0;P<3;P++){this.uR[P].N();this.wi[P].N()}};cc.prototype.t2=function(){if(!b.tV(this.Iw))return;
if(this.QJ==null){this.RU();this.xY(this.nC,hO.Jr);this.AF(this.aaP);this.N()}};cc.prototype.AF=function(u){this.aaP=u;
if(this.QJ==null)return;this.KM.AF(u);this.rp.AF(u);this.j5.AF(u);if(u==null||u.z.length==0||u.g[u.z[0]]==null){b.AD(this.Iw,"disabled");
this.As=null;return}else b._n(this.Iw,"disabled");var g=u.z[0],K=u.g[g],X=u.f$(),w=X[0],D=X[1];if(D.length!=0){var q=w[D[0]],C=q.add.vogk,a=!1;
if(C)for(var P=0;P<C.length;P++){var x=C[P].v;if(!f.b1.N4(x))continue;a=!0;g=q.Mw}}g+=","+a;if(u!=this.As||this.ady!=g){this.As=u;
this.ady=g;if(a)this.B8(2);else if(K.oF<1&&!K.vC||jO.get(K.add))this.B8(0);else this.B8(1)}this.uR[1].Tm(this.rp.IV!=-1);
this.uR[2].Tm(a)};cc.prototype.xY=function(u,g){this.nC=u;if(this.KM)this.KM.xY(u,g);if(this.j5)this.j5.xY(u,g)};
cc.fo=function(){i6.call(this);this.e=b.V("div","form");this.ad$=new g5("Hello");this.en=new dM([1,12,2],null,null,!0);
this.en.e.style.a9j="right";this.en.f("click",this.xu,this);this.e.appendChild(this.ad$.e);this.e.appendChild(this.en.e);
this.cU=null;this.zG=null;this.As=null;this.nC=null;this.aaD=-1;this.afI=null;this.kW=null;this.CT=new e_(0,!0,!0);
this.CT.parent=this;this.CT.f(h.E.o,this.aca,this);this.e.appendChild(this.CT.e);this.FP=new jR(!0);
this.FP.parent=this;this.FP.f(h.E.o,this.aox,this);this.ag=b.V("div","marged hiline");this.ag.appendChild(this.FP.e);
this.Qp=new cv("GrFl",!0);this.Qp.parent=this;this.Qp.f(h.E.o,this.awm,this);this.LA=b.V("div","marged hiline");
var u="Grad Rvrs Type Algn Angl Dthr Scl Ofst".split(" ");for(var P=0;P<u.length;P++){var g=this.Qp.sY[u[P]].e;
this.LA.appendChild(g)}this.mL=new cv("patternFill",!0);this.mL.parent=this;this.mL.f(h.E.o,this.aad,this);
this.fk=b.V("div","marged hiline");var u=["Ptrn","Angl","Scl","Algn","phase"];for(var P=0;P<u.length;
P++){var g=this.mL.sY[u[P]].e;this.fk.appendChild(g)}this.X2={};for(var K in jO.names){if(_[K]==null)continue;
this.X2[K]=new _[K];this.X2[K].f(h.E.o,this.ap3,this);this.X2[K].parent=this}var X=this.agM=b.V("div","marged hiline");
this.yi=new e_(0,!0);X.appendChild(this.yi.e);this.yi.f(h.E.o,this.ZC,this);this.afb=null;this.Ue=new aH;
this.Ue.parent=this;this.Ue.f(h.E.o,this.ZC,this);X.appendChild(this.Ue.e)};cc.fo.prototype=new i6;cc.fo.prototype.aca=function(u){var g=this.CT.C(),K=this.kW,X=new dS(g[0],g[1],g[2],g[3]);
if(X.$z(K))return;this.kW=X;var w=new eG(h.E.l,!0);if(K.m==X.m&&K.n==X.n){w.b=R.Hx;w.data={d:"trsl",gu:X.x-K.x,ri:X.y-K.y}}else{w.b=R.fr;
w.data={d:"scl",Uz:[2,4],h:new j4(X.m/K.m,X.n/K.n),$P:0}}this.c(w)};cc.fo.prototype.rc=function(u,g){var K=this.X2;
for(var X in K)K[X].rc(u,g)};cc.fo.prototype.xu=function(u){var g=this.As,K=g.g[g.z[0]],X=jO.get(K.add);
this.zG.k(dJ.mt(X));this.ap3()};cc.fo.prototype.N=function(){for(var u in this.X2)this.X2[u].N();this.Qp.N();
this.mL.N();this.Ue.N();this.yi.N();this.en.N();this.CT.N()};cc.fo.prototype.ZC=function(u){var g=new eG(h.E.l,!0),K=this.yi.C(),X=this.afb;
if(u.target==this.yi&&K[2]==X[2]&&K[3]==X[3]){g.b=R.Hx;g.data={d:"trsl",gu:K[0]-X[0],ri:K[1]-X[1]}}else{var w=l.PN(new dS(K[0],K[1],K[2],K[3])),D=this.Ue.atF();
D.artboardRect={t:"Objc",v:w};g.b=R.QA;g.data={d:l.fK,sd:D}}this.c(g)};cc.fo.prototype.aox=function(u){var g=this.As,K=g.z[0];
if(g.g[K].add.SoCo==null)return;var X=JSON.parse(JSON.stringify(g.g[K].add.SoCo));X.Clr.v=this.FP.C();
this.CA({lB:1,Gu:X})};cc.fo.prototype.awm=function(u){var g=this.As,K=g.z[0];if(g.g[K].add.GdFl==null)return;
this.CA({lB:2,Gu:this.Qp.C()})};cc.fo.prototype.aad=function(u){this.CA({lB:3,Gu:this.mL.C()})};cc.fo.prototype.CA=function(u){this.aue(R.QA,{d:l.ia,t7:[this.As.z[0]],FX:!0,h:u})};
cc.fo.prototype.ap3=function(u){this.aue(R.sM,{d:"edit_layer",h:this.zG.C()})};cc.fo.prototype.aue=function(u,g){var K=new eG(h.E.l,!0);
K.b=u;K.data=g;this.c(K)};cc.fo.prototype.AF=function(u,g){var K=fc.get([0,3]),X=!1,w=!1,D=null;this.As=u;
if(u&&u.g.length>0&&u.z.length!=0&&u.g[u.z[0]]){var q=u.g[u.z[0]],C=jO.get(q.add);if(C!=null&&this.X2[C]!=null){D=this.X2[C].e;
this.zG=this.X2[C];this.X2[C].k(JSON.parse(JSON.stringify(q.add[C])));if(u.z[0]!=this.aaD){var a=u.KS(u.z[0]-1);
this.afI=f.wB(a)}this.X2[C].RQ(this.afI);K=fc.get(jO.names[C]);X=!0}if(C==null&&q.add.artb==null){var x=this.kW=f.p.Cf(R.S.WA(u));
w=!x.fg();this.CT.k([x.x,x.y,x.m,x.n],[u.wY,u.m,this.nC.Pk.TQ])}if(q.add.SoCo){D=this.ag;this.FP.k(q.add.SoCo.Clr.v);
K=fc.get([6,48,0,0])}if(q.add.GdFl){D=this.LA;this.Qp.update(u,q.add.GdFl);K=fc.get([6,48,0,1])}if(q.add.PtFl){D=this.fk;
this.mL.update(u,q.add.PtFl);K=fc.get([6,48,0,2])}if(q.add.artb){var H=q.add.artb,$=q.T0();D=this.agM;
this.Ue.a8c(H);var r=this.afb=[$.x,$.y,$.m,$.n];this.yi.k(r,[u.wY,u.m,this.nC.Pk.TQ]);K=fc.get([1,16,0])}this.aaD=u.z[0]}if(D!=this.cU){if(this.cU)this.e.removeChild(this.cU);
if(D!=null)this.e.appendChild(D);this.cU=D}this.ad$.k(K);this.en.e.style.display=X?"":"none";this.CT.e.style.display=w?"":"none"};
cc.fo.prototype.xY=function(u,g){this.nC=u;this.Qp.xY(u,g);this.mL.xY(u,g);if(g==hO.ne)this.AF(this.As,u);
for(var K in this.X2)this.X2[K].xY(u,g)};cc.dF=function(){i6.call(this);this.e=b.V("div","form");this.As=null;
this.IV=0;var u=b.V("span","fitem");this.e.appendChild(u);this.uR=[new dM([6,2]),new dM([6,3]),new dM([6,50])];
for(var P=0;P<this.uR.length;P++){var g=this.uR[P];g.f("click",this.ab6,this);u.appendChild(g.e)}this.AM=new fj([12,74],0,255);
this.AM.f(h.E.o,this.HQ,this);this.e.appendChild(this.AM.e);this.ZN=new fj([7,6],0,500,"px",2,!0);this.ZN.f(h.E.o,this.HQ,this);
this.e.appendChild(this.ZN.e);this.Sa=new dM([4,11],null,null,!0);this.Sa.f("click",this.a0W,this)};
cc.dF.prototype=new i6;cc.dF.prototype.a0W=function(){var u=new eG(h.E.l,!0);u.b=R.sM;u.data={d:"start",W1:"nvrt"};
this.c(u)};cc.dF.prototype.HQ=function(u){var g=this.AM.C(),K=this.ZN.C(),X=new eG(h.E.l,!0);X.b=R.QA;
X.data={d:l.GH,Yq:this.As.z[0],iJ:{nZ:this.IV,AM:g,ZN:K}};this.c(X)};cc.dF.prototype.N=function(){for(var P=0;
P<this.uR.length;P++)this.uR[P].N();this.AM.N();this.ZN.N();this.Sa.N()};cc.dF.prototype.AF=function(u){this.As=u;
this.RO()};cc.dF.prototype.ab6=function(u){this.RO(this.uR.indexOf(u.currentTarget));this.parent.awo(this.IV)};
cc.dF.prototype.RO=function(u){var g=this.As,K=this.uR;for(var P=0;P<3;P++){var X=K[P];X.Cl();X.ik()}if(g==null||g.g.length==0||g.z.length==0||g.g[g.z[0]]==null)return;
var w=-1,D=g.g[g.z[0]];if(D.ov()&&D.nE(g).B!=null){K[2].gx();w=2}if(D.add.vmsk){K[1].gx();w=1}if(D.Zv()){K[0].gx();
w=0}if(u!=null)w=u;else if(D.vC)w=1;else if(D.oF==3)w=2;else if(D.oF==1)w=0;this.IV=w;if(w==-1){this.AM.ik();
this.ZN.ik();return}var q=D.dy(w);this.AM.gx();this.ZN.gx();this.AM.k(q.AM);this.ZN.k(q.ZN);K[w].Vn();
var C=this.Sa.e;if(w==0)this.e.appendChild(C);else if(C.parentNode==this.e)this.e.removeChild(C)};cc.yc=function(){i6.call(this);
this.e=b.V("div","form");this.FQ=null;this.nC=null;this.pn=-1;this.CT=new e_(0,!1);this.ac=new fj([12,15],-180,180,"\xB0",2);
this.vM=new e_(1,!0);this.Rp=new fj([12,94,0],0,100,null,2);this.KF=new fj([12,78],3,30);this.CT.f(h.E.o,this.il,this);
this.ac.f(h.E.o,this.il,this);this.vM.f(h.E.o,this.il,this);this.Rp.f(h.E.o,this.il,this);this.KF.f(h.E.o,this.il,this)};
cc.yc.prototype=new i6;cc.yc.prototype.N=function(){this.CT.N();this.ac.N();this.vM.N();this.Rp.N();
this.KF.N()};cc.yc.prototype.il=function(u){var g=this.FQ,K=f.b1.xZ(g),X=u.target.C(),w=[this.CT,this.ac,this.vM,this.Rp,this.KF].indexOf(u.target);
if(w==0){var D=[];D[0]=X[0];D[1]=X[1];D[2]=D[0]+X[2];D[3]=D[1]+X[3];X=D}if(w==1)X=X*Math.PI/180;var q={0:1,1:2,2:3,3:3,4:4}[w];
K[q]=X;var C=new eG(h.E.l,!0);C.b=R.QA;C.data={d:l.q5,h:K};this.c(C)};cc.yc.prototype.AF=function(u){var g=this.e;
this.FQ=u;if(u==null)return;var K=this.nC,X=[u.wY,u.m,K.Pk.TQ],w=f.b1.xZ(u),D=w[0],q=w[1];if(q==null)return;
var C=D!=this.pn;this.pn=D;if(C)b.Lh(g);if(C)g.appendChild(this.CT.e);if(C)g.appendChild(this.ac.e);
this.CT.k([q[0],q[1],q[2]-q[0],q[3]-q[1]],X);this.ac.k(w[2]*180/Math.PI);if(D==2){if(C)g.appendChild(this.vM.e);
var a=w[3];this.vM.k(a,X)}if(D==7||D==8){if(C)g.appendChild(this.Rp.e);this.Rp.k(w[3])}if(D==8){if(C)g.appendChild(this.KF.e);
this.KF.k(w[4])}};cc.yc.prototype.xY=function(u,g){this.nC=u;this.AF(this.FQ)};function ed(u){cA.call(this,u.name,!0);
this.UJ=u;this.Jo=null;this.re=document.createElement("canvas");this.dN=this.re.getContext("2d");this.Ir=document.createElement("canvas");
this.Aj=this.Ir.getContext("2d");var g=16,K=f.L(16*16*4);f.er(K,g,g,8);this.gG=f.scale.n5(K,g,g);this.P$=new hc(this.Iw);
this.P$.parent=this;this.A0=0;this.aws="";this.cX=4}ed.prototype=new cA;ed.prototype.amn=function(){if(this.UJ.oG())return window.confirm(fc.get([22,6,3])+" "+this.UJ.name+". "+fc.get([22,6,4]));
return!0};ed.prototype.xY=function(u,g){this.Jo=u};ed.prototype.AF=function(u){this.t2();this.Fc()};
ed.prototype.rc=function(u,g){if(u<=0||g<=0)return;this.QM=u;this.xQ=g;var K=this.UJ,X=b.Z();K.t.Aj.m=Math.floor(u*X);
K.t.Aj.n=Math.floor(g*X);b.Bw(this.Ir,u,g);b.Bw(this.re,u,g);b.Bw(s.jW(),u,g);if(K.t.P==0)K.t.P=R.Pd.a9A(K.m,K.n,u*X,g*X);
this.Fc()};ed.prototype.t2=function(){var u=this.Iw.firstChild;if(!s.xA&&u==s.jW()||s.xA&&u==this.Ir)this.Iw.removeChild(u);
var g=s.xA?s.jW():this.Ir;if(!b.tV(g))this.Iw.appendChild(g)};ed.prototype.Fc=function(){if(s.xA!=this.cX){this.A0=0;
this.aws=""}this.cX=s.xA;if(this.Jo==null)return;if(s.xA)this.a9a();else this.sF();var u=this.UJ;this.A0=u.t.P;
this.aws=JSON.stringify(u.t.PK)};ed.prototype.a9a=function(){if(s.xA&&ed.qH==null){var u=ed.qH=[],g=[0,2,8,32,128];
for(var P=0;P<5;P++)u[P]=[new ed.yo(!1,g[P],!1),new ed.yo(!0,g[P],!1)];u.push([new ed.yo(!1,0,!0),new ed.yo(!0,0,!0)])}var K=this.UJ,$,U=0,E,Z;
if(K.zH==null)return;var X=K.t,w=X.Aj.m,D=X.Aj.n,q=s.CG;this.Aj.clearRect(0,0,w,D);var C=this.avx(K);
if(X.XL==null)X.XL=new s.bs(w,D);if(C)X.XL.set(this.Ir);else{s.c9(X.XL);s.nW(1)}var a=X.h5(0,0),x=new eV;
x.scale(w,D);x.concat(X.bD(!0));x.scale(1/K.m,1/K.n);var H=[x._x,x.U,0,x.nA,x.kR,0,x.OR,x.ic,1];if(ed.a6_==null)ed.a6_=new Float32Array(4*1024);
var r=[0,0,0,0],c=ed.a6_;if(K.add.artd){c.fill(0);r=ed.g8(K);var O=K.m,A=K.n,S=0;for(var P=0;P<K.g.length;
P++){var m=K.g[P],i=m.add.artb;if(i==null||!m.AG())continue;var e=m.T0();c[U]=e.x/O;c[U+1]=e.y/A;c[U+2]=e.m/O;
c[U+3]=e.n/A;U+=4;if(U==c.length)break}if(U>2*4)S++;if(U>8*4)S++;if(U>32*4)S++;$=ed.qH[S+1];c=new Float32Array(c.buffer,0,[2,8,32,128][S]*4)}else $=ed.qH[K.Wr?5:0];
var N=K.aiQ();if(N==null)$=$[0];else{$=$[1];Z=N[K.add.fcmy==1?6:4];E=N[2]}s.by(w,D);s.nW(0);s.by(w,D);
$.$M();$.un(X.XL.nI,K.zH.nI,new Float32Array(H),new Float32Array([w/8,D/8,a.x/w,a.y/D]),K.m,K.n,1/K.t.P,w,D,new Float32Array(r),c,new Float32Array(f.R$.ur(f.R$.DN(X.PK))),Z,E);
q.drawArrays(q.TRIANGLES,0,6)};ed.g8=function(u){return[0,0,0,0]};ed.anr=function(u){var g=f.X.Ld(u.v),K=[g.w/255,g.A/255,g.U/255,1];
for(var P=0;P<4;P++)K[P]=Math.min(1,K[P]);return K};ed.N$=function(u,g){var K=u[2]*255;if(s.xA)K=g?0:Math.max(1,K);
return"rgba("+u[0]*255+","+u[1]*255+","+K+","+u[3]+")"};ed.Zz=function(u){if(s.xA)for(var P=0;P<u.length;
P+=4){if(u[P+2]==0)u[P+2]=3}};ed.prototype.sF=function(){var u=this.UJ;if(u.buffer==null)return;var g=u.t,K=g.Aj,X=K.m,w=K.n,D=new dS(0,0,u.m,u.n);
this.dN.clearRect(0,0,X,w);this.Aj.clearRect(0,0,X,w);var q=g.bD(!0),C=q.clone();C.CD();if(u.add.artd==null){this.Aj.save();
var a=C.HB(new j4(0,0));C.translate(-a.x,-a.y);this.Aj.translate(Math.round(a.x),Math.round(a.y));this.Aj.fillStyle=this.gG;
if(u.Wr)this.Aj.fillRect(-5e3,-5e3,2e4,2e4);else{this.Uw(f.p.JS(D),C,this.Aj);this.Aj.fill()}this.Aj.restore()}else{this.Aj.fillStyle=ed.N$(ed.g8(u));
this.Aj.fillRect(0,0,X,w);this.Aj.save();this.Aj.setTransform(C._x,C.U,C.nA,C.kR,C.OR,C.ic);var x=u.root.children;
for(var P=0;P<x.length;P++){var H=x[P].j;if(H.add.artb==null||!H.AG())continue;var $=H.T0(),r=H.o6();
if(r!=0)continue;this.Aj.fillStyle=this.gG;this.Aj.save();this.Aj.scale(1/g.P,1/g.P);this.Aj.fillRect(g.P*$.x,g.P*$.y,$.m*g.P,$.n*g.P);
this.Aj.restore()}this.Aj.restore()}if(g.Fl.length!=K.$()){g.Fl=f.L(K.$());g.Dm=f.L(K.$()*4)}g.Dm.fill(0);
f.scale.pM(u.buffer,D,q,g.Dm,K,u.Wr);var c=u.aiQ();if(c)ICC.U.applyLUT(c[u.add.fcmy==1?5:3],c[2],g.Dm,g.Dm);
if(g.PK[0]+g.PK[1]+g.PK[2]!=3)f.R$.FL(g.Dm,g.Dm,f.R$.DN(g.PK));this.dN.putImageData(new ImageData(new Uint8ClampedArray(g.Dm.buffer),K.m,K.n),0,0);
this.Aj.drawImage(this.re,0,0);this.Aj.getImageData(0,0,1,1);this.avx(u)};ed.prototype.avx=function(u){var g=u.t,K=g.PK[0]+g.PK[1]+g.PK[2],X=!1,w=[];
for(var P=0;P<u.z.length;P++){var D=u.g[u.z[P]];if(D==null)continue;var q=D.oF;if(q!=1&&q!=3)continue;
var C=q==1?D.Zv():D.nE(u).B;if(C.dd)w.push(C)}for(var P=0;P<u.g1.length;P++)if(u.g1[P].dd)w.push(u.g1[P]);
for(var P=0;P<w.length;P++){var C=w[P];this.aoF(C,g,w.length==1&&K==0?2:1,C.color,C.QF);X=!0}var a=this.Jo;
X=this.aoh(u,this.Aj,g)||X;if(u.q&&a.yO&&a.Pk.bA){this.aoF(u.q,g,0,0,null);X=!0}return X};ed.prototype.aoF=function(u,g,K,X,w){var D=0,r,c;
if(w)D=Math.round(w.U)<<16|Math.round(w.A)<<8|Math.round(w.w);var q=g.bD(!0),C=g.Aj,a=new dS(0,0,g.UJ.m,g.UJ.n);
if(g.Fl.length!=C.$()){g.Fl=f.L(C.$());g.Dm=f.L(C.$()*4)}g.Fl.fill(X);g.Dm.fill(0);var x=u.channel,H=u.rect;
f.scale.D(x,H,q,g.Fl,C);if(K==0)f.q.avK(g.Fl,g.Dm,C,C);else f.q.aeP(g.Fl,g.Dm,C,C,K,D);ed.Zz(g.Dm);var $=new ImageData(new Uint8ClampedArray(g.Dm.buffer),C.m,C.n);
this.dN.putImageData($,0,0);this.Aj.save();if(K==0){r=C.clone();r.wu(-1,-1);c=new eV}else{r=new dS(0,0,a.m,a.n);
c=q.clone();c.CD()}this.Uw(f.p.JS(r),c,this.Aj);this.Aj.clip();this.Aj.drawImage(this.re,0,0);this.Aj.restore()};
ed.prototype.aoh=function(u,g,K){var X=u.H.fe!=null||u.H.vn!=null||u.H.Ba!=null||u.H.B3.length!=0||u.H.kj.length!=0,w=this.Jo,D=w.Pk,q=hn.bg[w.Ki],C=Math.round(12*b.Z()),a=C/u.t.P,x=K.bD(!0);
x.CD();g.save();g.setTransform(x._x,x.U,x.nA,x.kR,x.OR,x.ic);if(u.add.artd){var H=ed.g8(u)[0];H=H<.5?H+.5:H-.5;
H=""+Math.round(H*255).toString(16);while(H.length<2)H="0"+H;g.fillStyle="#"+H+H+H;g.font=a+"px sans-serif";
for(var P=0;P<u.g.length;P++){var $=u.g[P];if($.add.artb==null||!$.AG())continue;var r=$.T0();g.fillText($.getName(),r.x+2,r.y-a*.7);
X=!0}}function c(jn){return jn==1||jn==2||jn==4||jn==5}var U=ed.N$([.1,.5,1,1]),O=ed.N$([1,1,1,1]);if(w.yO&&D.Ml){g.fillStyle=g.strokeStyle=U;
g.lineWidth=1.5/K.P;var A=u.f$(),m=A[0],i=A[1];for(var e=0;e<i.length;e++){var $=m[i[e]],E=$.add.vmsk,Z=E._,N=f.p.Cs(Z);
this.Uw(N,null,g);g.stroke();X=!0;var J=3*b.Z()/K.P,y=Z.length-3;for(var P=0;P<E.WS.length;P++){var o=f.J.fn(Z,E.WS[P]);
if(o==null)continue;var B=o.x,t=o.y;g.beginPath();var W=P==0;if(E.JU)W=!W;if(W){g.moveTo(B-J,t-J);g.lineTo(B+J,t+J);
g.moveTo(B-J,t+J);g.lineTo(B+J,t-J);g.stroke()}else{g.arc(B,t,J*1,0,2*Math.PI);g.fill()}X=!0}if(u.z.length!=1)continue;
var F=-1;for(var P=0;P<Z.length;P++){if(Z[P].type>5)continue;if(Z[P].type==0||Z[P].type==3){if(Z[P].yk!=-1)F++;
continue}if(E.z.indexOf(F)!=-1){var B=Z[P].G.x,t=Z[P].G.y;g.fillRect(B-J*.8,t-J*.8,2*J*.8,2*J*.8)}if(E.s4.indexOf(P)!=-1){var G=Z[P],L=[G.G];
g.beginPath();g.moveTo(G.Rw.x,G.Rw.y);g.lineTo(G.G.x,G.G.y);g.lineTo(G.CL.x,G.CL.y);var Q=Z[P-1],T=Z[P+1];
if(Q&&c(Q.type)&&E.s4.indexOf(P-1)==-1){g.moveTo(Q.G.x,Q.G.y);g.lineTo(Q.CL.x,Q.CL.y);L.push(Q.CL)}if(T&&c(T.type)&&E.s4.indexOf(P+1)==-1){g.moveTo(T.G.x,T.G.y);
g.lineTo(T.Rw.x,T.Rw.y);L.push(T.Rw)}g.stroke();if(!G.G.$z(G.Rw))L.push(G.Rw);if(!G.G.$z(G.CL))L.push(G.CL);
for(var j=0;j<L.length;j++){var o=L[j],B=o.x,t=o.y;if(j==0&&(G.type==2||G.type==5))g.fillRect(B-1.2*J,t-1.2*J,2.4*J,2.4*J);
else{g.beginPath();g.arc(B,t,J*1.2,0,2*Math.PI);g.fill();if(j!=0)g.fillStyle=O;g.beginPath();g.arc(B,t,J*.8,0,2*Math.PI);
g.fill();g.fillStyle=U}}}X=!0}}}g.lineWidth=1/K.P;if(u.H.dx){g.fillStyle=g.strokeStyle=U;var T={v:[],F:[]},p=ed.auI;
if(p==null){p=ed.auI={v:[1,0],F:["M"]};for(var P=1;P<30;P++){var M=Math.PI*2*P/30;p.v.push(Math.cos(M),Math.sin(M));
p.F.push("L")}p.F.push("Z","M","L","M","L");p.v.push(-.5,0,.5,0,0,-.5,0,.5)}for(var P=0;P<u.H.dx.length;
P++){var Q=R.x0.awL(u.H.dx[P],K),n=new eV(Q[0],0,0,Q[0],Q[1],Q[2]);f.p.concat(T,p,n)}this.Uw(T,null,g);
g.stroke();X=!0}var d=new eV(1,0,0,1,.5/K.P,.5/K.P);if(u.Wr){g.fillStyle=g.strokeStyle=U;var T={v:[0,0,u.m,0,u.m,u.n,0,u.n],F:["M","L","L","L","Z"]};
this.Uw(T,d,g);g.stroke();X=!0}g.fillStyle=g.strokeStyle=ed.N$([0,0,0,1],!0);if(u.H.fe){this.Uw(u.H.fe,null,g);
g.fill()}if(u.H.vn){this.Uw(u.H.vn,d,g);g.stroke()}for(var V in u.H.e1)if(u.H.e1[V].vn){this.Uw(u.H.e1[V].vn,null,g);
g.stroke();X=!0}g.beginPath();var J=(4*b.Z()+.5)/K.P,z=u.H.hR;for(var P=0;P<z.length;P+=2){X=!0;var B=z[P],t=z[P+1];
g.rect(B-J,t-J,2*J,2*J)}g.stroke();var z=u.H.a1D;g.beginPath();var J=4*b.Z()/K.P;for(var P=0;P<z.length;
P+=2){X=!0;var B=z[P],t=z[P+1];g.moveTo(B+J,t);g.arc(B,t,J,0,2*Math.PI)}g.fill();var z=u.H.HC;g.fillStyle=ed.N$([1,1,1,1]);
g.beginPath();var J=6*b.Z()/K.P;for(var P=0;P<z.length;P+=2){X=!0;var B=z[P],t=z[P+1];g.moveTo(B+J,t);
g.arc(B,t,J,0,2*Math.PI)}g.fill();var J=4*b.Z()/K.P;for(var P=0;P<z.length;P+=2){X=!0;var B=z[P],t=z[P+1];
g.fillStyle=ed.N$(u.H.Vk.indexOf(P>>>1)!=-1?[0,.6,1,1]:[.7,.7,.7,1]);g.beginPath();g.moveTo(B+J,t);g.arc(B,t,J,0,2*Math.PI);
g.fill()}if(u.H.B3.length!=0){for(var P=0;P<u.H.B3.length;P++){var I=u.H.B3[P],v=I[1];g.putImageData(new ImageData(new Uint8ClampedArray(I[0].buffer),v.m,v.n),v.x,v.y)}}var gj=.5/K.P;
g.lineWidth=1/K.P;if(u.H.g6){X=!0;var jA=u.H.g6,Y=jA.co,N={F:[],v:[]};for(var P=0;P<jA.ep.length;P++)f.p.concat(N,f.p.JS(jA.ep[P]));
N.v=N.v.concat(Y);for(var P=0;P<Y.length;P+=4){N.F.push("M","L")}for(var P=0;P<N.v.length;P++){N.v[P]+=gj}g.strokeStyle=ed.N$([.9,.2,.2,1]);
this.Uw(N,null,g);g.stroke();var jv=b.Z(),iR=2/K.P;g.font=a*.9+"px sans-serif";for(var P=0;P<Y.length;
P+=4){var B=Y[P],t=Y[P+1],cj=Y[P+2],j8=Y[P+3],as=Math.sqrt((j8-t)*(j8-t)+(cj-B)*(cj-B));as=f.Xx.FZ(as,u.wY,w,t==j8?u.m:u.n);
var gW=new j4((B+cj)/2,(t+j8)/2);g.fillStyle=ed.N$([.9,.2,.2,1]);var af=g.measureText(as).width;g.fillRect(gW.x-af/2-iR*jv,gW.y-3.5*iR*jv,af+2*iR*jv,7*iR*jv);
g.fillStyle=ed.N$([1,1,1,1]);g.save();g.translate(gW.x-af/2,gW.y+2*iR*jv);g.scale(.1,.1);g.font=a*9+"px sans-serif";
g.fillText(as,0,0);g.restore()}}if(w.yO){if(D.Dl){var at=f.Xx.KJ(D.ot,u.wY,u.m,D.eF),jd=at;if(D.eF==4)jd*=u.n/u.m;
this.er(u,g,at,jd,1,D.Mv);X=!0}if(D.v$&&u.t.P>7){this.er(u,g,1,1,.5,D.Mv);X=!0}if(D.m_){var fM=u.xv(),hS=u.kE(),dr=Math.max(u.t.Aj.m,u.t.Aj.n)/u.t.P;
dr=Math.max(Math.max(u.m,u.n)*2,dr);g.beginPath();g.strokeStyle=ed.N$([0,1,1,1]);for(var P=0;P<fM[0].length;
P++){var cB=fM[0][P],b1=fM[1][P];if(b1!=-1&&b1!=hS)continue;var ic=K.h5(cB[1],cB[1]),dV=K.wQ(Math.floor(ic.x)+.5,Math.floor(ic.y)+.5);
if(cB[0]==0){var eS=dV.x;g.moveTo(eS,-dr);g.lineTo(eS,dr)}else{var a2=dV.x;g.moveTo(-dr,a2);g.lineTo(dr,a2)}X=!0}g.stroke()}var d3=u.BD;
if(D.BD&&d3.length!=0){g.font=a*.8+"px sans-serif";var cE=[],eP=[];for(var P=0;P<d3.length;P++){var jm=R.gC.tK(d3,P);
cE.push(jm);if(u.di.indexOf(P)!=-1)eP.push(jm)}cE.reverse();var bD=Date.now();cE=f.rect.xI([0,0,u.m,u.n],cE);
for(var j=0;j<2;j++)for(var P=0;P<cE.length;P++){var f1=cE[P],F=f1[4],ft=F!=null?d3[F]:null;if(ft&&j==0||ft==null&&j==1)continue;
var B=Math.round(f1[0]),t=Math.round(f1[1]),cj=Math.round(f1[2]),j8=Math.round(f1[3]);g.strokeStyle=g.fillStyle=ed.N$(ft?[0,.7,.7,1]:[.8,.8,.8,1]);
g.strokeRect(B+gj,t+gj,cj-B,j8-t);var ie=P+1,b2=g.measureText(ie),af=b2.width;g.fillRect(B,t,af+a/2,a);
g.fillStyle=ed.N$([1,1,1,1]);g.fillText(ie,B+a/4,t+a*.8)}var iR=2/u.t.P,dh=2*iR;for(var P=0;P<eP.length;
P++){var f1=eP[P],B=Math.round(f1[0]),t=Math.round(f1[1]),cj=Math.round(f1[2]),j8=Math.round(f1[3]);
g.strokeStyle=g.fillStyle=ed.N$([1,.6,0,1]);g.strokeRect(B+gj,t+gj,cj-B,j8-t);var aY=[B,t,cj,t,cj,j8,B,j8];
for(var eF=0;eF<aY.length;eF+=2){var eS=aY[eF],a2=aY[eF+1],de=aY[eF+2&7],i5=aY[eF+3&7];g.fillRect(eS-iR,a2-iR,dh,dh);
g.fillRect(Math.round((eS+de)/2)-iR,Math.round((a2+i5)/2)-iR,dh,dh)}}X=!0}var eA=u.add.Anno;if(eA&&eA.length!=0)for(var P=0;
P<eA.length;P++){var c4=eA[P],jC=c4[2],eS=c4[0]-gj,a2=c4[1]-gj,dh=30/K.rP,hd=.4*dh,iG=.6*dh;g.beginPath();
g.moveTo(eS,a2+iG);g.lineTo(eS,a2);g.lineTo(eS+dh,a2);g.lineTo(eS+dh,a2+dh);g.lineTo(eS+hd,a2+dh);g.closePath();
g.lineTo(eS+hd,a2+iG);g.lineTo(eS+hd,a2+dh);if(P==u.t.l_){g.lineWidth*=5;g.strokeStyle=ed.N$([0,0,0,.5]);
g.stroke();g.lineWidth/=5}g.fillStyle=ed.N$([jC.w/255,jC.A/255,jC.U/255,1]);g.fill();g.strokeStyle=ed.N$([0,0,0,1]);
g.stroke()}}g.strokeStyle=ed.N$([1,0,0,1]);if(u.H.Ba){this.Uw(u.H.Ba,d,g);g.stroke()}g.restore();if(w.OB){if(u.t.qg==null||u.t.qg.width!=u.t.Aj.m||u.t.tH.height!=u.t.Aj.n){u.t.qg=g.createImageData(u.t.Aj.m,f.Xx.Wo);
u.t.tH=g.createImageData(f.Xx.Wo,u.t.Aj.n)}var q=hn.bg[w.Ki],cC=0,cL=0,dw=u.m,eY=u.n;if(u.kE()!=-1){var r=u.g[u.kE()].T0();
cC=r.x;cL=r.y;dw=r.m;eY=r.n}cC*=K.P;cL*=K.P;var K=u.t,cf=[1,u.wY,u.wY/2.54,u.wY/25.4,dw/100][D.TQ],d7=K.P*u.m/2,hs=K.P*u.n/2,hz=[K.P*cf,new j4(K.u.x+(cC+d7*cf-d7),K.u.y+(cL+hs*cf-hs))];
if(D.TQ==4)cf*=eY/dw;var bx=[K.P*cf,new j4(K.u.x+(cC+d7*cf-d7),K.u.y+(cL+hs*cf-hs))],dO=this.P$.Kj;f.Xx.ahP(K,q["--text-color"],q["--bg-input"],Math.floor(dO.x),Math.floor(dO.y),hz,bx);
var hN=fE.abb(K.P,ed.N$([1,1,1,1]));ed.Zz(u.t.tH.data);ed.Zz(u.t.qg.data);g.putImageData(u.t.tH,0,0);
g.putImageData(u.t.qg,0,0);g.putImageData(hN,0,u.t.Aj.n-hN.height)}if(u.H.kj.length!=0){for(var P=0;
P<u.H.kj.length;P++){var I=u.H.kj[P],v=I[1];g.putImageData(new ImageData(new Uint8ClampedArray(I[0].buffer),v.m,v.n),v.x,v.y)}}return X||w.OB};
ed.prototype.er=function(u,g,K,X,w,D){while(K*u.t.P<4){K*=2;X*=2}var q=u.m,C=u.n,a=.5/u.t.P;g.strokeStyle=ed.N$([.5,.5,.5,w],!0);
g.save();g.rect(0,0,q,C);g.clip();g.beginPath();for(var x=0;x<=q;x+=K){g.moveTo(x+a,0);g.lineTo(x+a,C)}if(D==0){for(var H=0;
H<=C;H+=X){g.moveTo(0,H+a);g.lineTo(q,H+a)}}else{X*=Math.sqrt(4/3);var $=X*Math.floor(q/X),r=q*(X/(2*K));
for(var H=-$;H<=C+$;H+=X){g.moveTo(0,H);g.lineTo(q,H-r);g.moveTo(0,H);g.lineTo(q,H+r)}}g.stroke();g.restore()};
ed.prototype.Uw=function(u,g,K){K.beginPath();var X=f.p.clone(u);if(g)f.p.D(X.v,g,X.v);Typr.U.pathToContext({cmds:X.F,crds:X.v},K)};
ed.yo=function(u,g,K){s.yS.call(this);var X=g!=0,w=K?"true":"in01(sCoord)",D="\t\t\tprecision mediump float;\t\t\t\t\t\tuniform sampler2D source;\t\t\tuniform sampler2D target;\t\t\t"+(u?"uniform sampler2D lut;  uniform float N;  "+s.yl.XF:"")+"\t\t\tuniform vec3 contSizeZoom;\t\t\tuniform vec2 cnvSize;\t\t\tuniform mat4 ctrn; \t\t\t"+(X?"uniform vec4 bgClr;  uniform vec4 ars["+g+"]; ":"")+"\t\t\t\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\t/* This approximates the error function, needed for the gaussian integral */ \t\t\tvec4 erf(vec4 x) { \t\t\t  vec4 s = sign(x), a = abs(x);\t\t\t  x = 1.0 + (0.278393 + (0.230389 + 0.078108 * (a * a)) * a) * a;\t\t\t  x *= x;  \t\t\t  return s - s / (x * x); \t\t\t} \t\t\t/* Return the mask for the shadow of a box from lower to upper */  \t\t\tfloat boxShadow(vec2 lower, vec2 upper, vec2 point, float sigma) { \t\t\t  vec4 query = vec4(point - lower, point-upper); \t\t\t  vec4 integral = 0.5 + 0.5 * erf(query * (sqrt(0.5) / sigma)); \t\t\t  return (integral.z - integral.x) * (integral.w - integral.y); \t\t\t} \t\t\t\t\t\tvec4 simpleBlend(vec4 src, vec4 tgt) {\t\t\t\tfloat na = src.w + tgt.w*(1.0-src.w);\t\t\t\t/* avoid division by zero */ \t\t\t\treturn na==0.0 ? vec4(0,0,0,0) : vec4( (src.xyz*src.w + tgt.w*tgt.xyz*(1.0-src.w))*(1.0/na), na);\t\t\t} \t\t\t\t\t\t"+s.yl.q0+"\t\t\t\t\t\tvoid main(void) {\t\t\t\tvec4 src = texture2D(source, tCoord); \t\t\t\tvec4 tgt = texture2D(target, sCoord"+(K?"-floor(sCoord)":"")+"); \t\t\t\t"+(u?"tgt.rgb = mapLut(tgt, lut, N).rgb; ":"")+"\t\t\t\ttgt = ctrn * tgt; "+(X?"\t\t\t\t\tbool inr = false; vec4 BG = bgClr; \t\t\t\t\tfor(int i=0; i<"+g+"; i++) { \t\t\t\t\t\tvec4 ar = ars[i]; \t\t\t\t\t\tvec2 nsc = sCoord - ar.xy; \t\t\t\t\t\tif( ar.z!=0.0 && in01(nsc/ar.zw) ){\t\t\t\t\t\tinr=true; BG=mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1); }\t\t\t\t\t}\t\t\t\t":"\t\t\t\t\tfloat shdw = 0.3*boxShadow(vec2(0,0),contSizeZoom.xy, sCoord*contSizeZoom.xy+vec2(0.0,-6.0*contSizeZoom.z) , 10.0*contSizeZoom.z);\t\t\t\t\tvec4 grid = mod(floor(gCoord.x) + floor(gCoord.y), 2.0)==1.0 ? vec4(0.784,0.784,0.784,1) : vec4(1,1,1,1);\t\t\t\t\tvec4 BG = "+w+" ? grid : vec4(0.0,0.0,0.0,shdw); \t\t\t\t")+"\t\t\t\tvec4 outc = "+w+" ?  simpleBlend(tgt,BG) :  BG ;  \t\t\t\tif(src.b == 0.0 && src.a >0.5) gl_FragColor = mix(outc, vec4(vec3(1,1,1)-outc.rgb,1.0), src.w); \t\t\t\telse             gl_FragColor = simpleBlend(src,outc); \t\t\t\t\t\t\t}",q="\t\t\tattribute vec2 verPos;\t\t\tvarying vec2 tCoord;\t\t\tvarying vec2 sCoord;\t\t\tvarying vec2 gCoord;\t\t\t\t\t\tuniform mat3 tmat;\t\t\tuniform vec4 gsize;\t\t\tvoid main(void) {\t\t\t\ttCoord = verPos;\t\t\t\tsCoord = (tmat*vec3(verPos,1.0)).xy;\t\t\t\tgCoord = (verPos-gsize.zw) * gsize.xy ; \t\t\t\tgl_Position = vec4(vec2(-1.0, 1.0) + 2.0*vec2(verPos.x,-verPos.y), 0.0, 1.0);\t\t\t}";
this.Nf(D,q)};ed.yo.prototype=new s.yS;ed.yo.prototype.un=function(u,g,K,X,w,D,q,C,a,x,H,$,r,c){this.cf("tmat gsize source target lut N contSizeZoom cnvSize bgClr ars ctrn".split(" "));
var U=s.CG,O=this.Pw;U.uniformMatrix3fv(O.tmat,!1,K);U.uniform4fv(O.gsize,X);U.uniform3f(O.contSizeZoom,w,D,q);
U.uniform2f(O.cnvSize,C,a);U.uniformMatrix4fv(O.ctrn,!1,$);if(this.apE){U.uniform4fv(O.ars,H);U.uniform4fv(O.bgClr,x)}U.uniform1i(O.source,0);
U.uniform1i(O.target,1);U.activeTexture(U.TEXTURE0);U.bindTexture(U.TEXTURE_2D,u);U.activeTexture(U.TEXTURE1);
U.bindTexture(U.TEXTURE_2D,g);if(r){U.uniform1f(O.N,c);U.uniform1i(O.lut,2);U.activeTexture(U.TEXTURE2);
U.bindTexture(U.TEXTURE_2D,r.nI);var A=U.LINEAR;U.texParameteri(U.TEXTURE_2D,U.TEXTURE_MIN_FILTER,A);
U.texParameteri(U.TEXTURE_2D,U.TEXTURE_MAG_FILTER,A)}U.activeTexture(U.TEXTURE0)};function aO(){cA.call(this,[9,7],!1,"---panels/layercomps",cA.vZ.atg);
this.Iw.setAttribute("style","min-width:240px;");this.As=null;this.cT=-1;this.Ny=[];this.Og=b.V("div","scrollable");
this.Og.style.height="160px";this.Iw.appendChild(this.Og);this.Da=b.V("div","lpfoot");this.Iw.appendChild(this.Da);
this.OG=[];var u=["<svg  class=\"miniscale gsicon\" viewBox=\"0 0 15 15\" width=\"15\" height=\"15\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>","reload","lrs/newlayer","lrs/bin"],g=["Layer Comps to Files",[5,10],[5,3],[5,4]];
for(var P=0;P<u.length;P++){var K=u[P];if(P>0)K="<img src=\""+PIMG[u[P]]+"\" class=\"miniscale gsicon\" />";
var X=new dM(K,!1,g[P]);X.f("click",this.am7,this);this.Da.appendChild(X.e);this.OG.push(X)}}aO.prototype=new cA("");
aO.prototype.rc=function(u,g){this.Iw.setAttribute("style","width:"+(u-2)+"px;");this.Og.style.height=g-28+"px"};
aO.prototype.tD=function(u){var g=new eG(h.E.l,!0);g.data=u;g.b=R.d$;this.c(g)};aO.auR="var opts = new ExportOptionsSaveForWeb(); opts.format = SaveDocumentType.PNG; opts.PNG8 = false; opts.quality = 100; var doc = app.activeDocument;var lc = doc.layerComps;  if(lc.length==0) alert(\"No layer comps.\"); else { \tvar stat = doc.historyStates.length - 1;\t\tfor(var i=0; i<lc.length; i++) {\t\tlc[i].apply();\t\tpngFile = new File(lc[i].name+\".png\");\t\tapp.activeDocument.exportDocument(pngFile, ExportType.SAVEFORWEB, opts);\t}\t\tdoc.activeHistoryState = doc.historyStates[stat];}";
aO.prototype.am7=function(u){var P=this.OG.indexOf(u.currentTarget)-1;if(P==-1){var g=new eG(h.E.Y,!0);
g.data={d:h.s.Tw,h1:aO.auR};this.c(g);return}if(P!=1)if(this.cT==-1)return;this.tD({d:["updLC","addLC","delLC"][P],Mw:this.cT});
if(P==2)this.cT=-1};aO.prototype.N=function(){cA.prototype.N.call(this);for(var P=0;P<this.OG.length;
P++)this.OG[P].N()};aO.prototype.AF=function(u){if(u==null)b.AD(this.Iw,"disabled");else b._n(this.Iw,"disabled");
this.As=u;b.Lh(this.Og);if(u==null)return;var g=u.Yf.lastAppliedComp?u.Yf.lastAppliedComp.v:0,K=u.Yf.list.v.slice(0);
K.unshift({v:{Nm:{v:"Last Document State"},compID:{v:0},capturedInfo:{v:0}}});for(var P=0;P<K.length;
P++){var X=K[P].v,w=new gY(X.Nm.v,X.compID.v,X.capturedInfo.v,g,this.cT);w.f("activate",this.m9,this);
w.parent=this;this.Og.appendChild(w.e);this.Ny.push(w)}};aO.prototype.m9=function(u){this.cT=u.currentTarget.Mw;
this.AF(this.As)};function gY(u,P,g,K,X){i6.call(this);this.Mw=P;this.e=b.V("div","head listitem"+(P==X?" selected":""));
var w=P==K,D=new dM(w?"\u2713":"\u2014");if(w)D.Vn();this.e.appendChild(D.e);D.f("click",this.DH,this);
var q=this.M8=b.V("span");q.textContent=u;this.e.appendChild(q);this.OG=[];if(P!=0){this.e.addEventListener("mouseup",this.m9.bind(this),!1);
this.afc=b.V("span","headR");this.e.appendChild(this.afc);var C=["lrs/eye","pos","lrs/fx"],a=["Visibility","Position","Appearance"];
for(var x=0;x<C.length;x++){var H=new dM("<img src=\""+PIMG[C[x]]+"\" class=\"autoscale gsicon\" />",!1,a[x]);
if((g>>x&1)==0)H.e.setAttribute("style","opacity:0.3");H.f("click",this.ao9,this);this.afc.appendChild(H.e);
this.OG.push(H)}}}gY.prototype=new i6;gY.prototype.m9=function(u){if(u.target!=this.M8&&u.target!=this.e)return;
if(u.detail==1)this.c(new eG("activate",!1));else{var g=new cA.ZG(this.M8,this.gQ.bind(this))}};gY.prototype.ao9=function(u){var P=this.OG.indexOf(u.currentTarget);
this.tD({d:"editLC",a3A:P,Mw:this.Mw})};gY.prototype.gQ=function(u){this.tD({d:"editLC",Ea:u,Mw:this.Mw})};
gY.prototype.DH=function(u){this.tD({d:"setLC",Mw:this.Mw})};gY.prototype.tD=function(u){var g=new eG(h.E.l,!0);
g.data=u;g.b=R.d$;this.c(g)};function iA(){cA.call(this,[9,11],!1,"---panels/navigator",cA.vZ.a92);var u=b.V("div","padded");
u.setAttribute("style","min-width:15em");this.Iw.appendChild(u);var g=b.V("div");u.appendChild(g);g.setAttribute("style","cursor:grab;");
this.I=b.V("canvas");this.I.width=100;g.appendChild(this.I);b.mo(this.I);b.hh(this.I,this.SS.bind(this));
this.dt=new cV(null,2,6400,"%",null,!0);this.dt.f(h.E.o,this.ajL,this);u.appendChild(this.dt.e);this.adE=this.hy.bind(this);
this.akS=this.iz.bind(this);this.FQ=null}iA.prototype=new cA("");iA.prototype.rc=function(u,g){this.Fc()};
iA.prototype.ajL=function(u){var g=this.dt.C(),K=this.FQ,X=g/100;if(.8<X&&X<1.2)X=1;else if(1.8<X)X=Math.round(X);
var w=new eG(h.E.l,!0);w.b=R.d0;w.data={d:"zoom",P:X};this.c(w)};iA.prototype.SS=function(u){if(this.FQ==null)return;
b.t9(window,this.adE);b.Uo(window,this.akS)};iA.prototype.hy=function(u){var g=b.Y2(u,this.I),K=this.FQ,X=this.I.width,w=this.I.height,D=(g.x*b.Z()-X/2)/X,q=(g.y*b.Z()-w/2)/w,C=b.Z()*K.t.P,a=Math.round(-K.t.P*K.m*D),x=Math.round(-K.t.P*K.n*q);
R.Rr.t1(K,a,x)};iA.prototype.iz=function(u){b._I(window,this.adE);b.$u(window,this.akS)};iA.prototype.AF=function(u){if(u==null&&this.FQ!=null)this.I.width=100;
this.FQ=u;this.Fc()};iA.prototype.Fc=function(){var u=this.FQ,X=0;if(u==null||u.t.P==0)return;var g=u.t;
if(!b.tV(this.Iw))return;this.dt.k(g.P*100);var K=300*b.Z(),w=[u.KS(),new dS(0,0,u.m,u.n)];f.mm(w);while(Math.max(w[X+1].m,w[X+1].n)>K){X+=2}var D=w[X],q=w[X+1],C=q.m,a=q.n,x=this.I;
x.width=C;x.height=a;b.DG(x,C,a);var H=x.getContext("2d"),$=H.createImageData(C,a);f.me(D,$.data);H.putImageData($,0,0);
var r=g.Aj,c=g.wQ(r.x,r.y),U=g.wQ(r.x+r.m,r.y+r.n),O=C/u.m;H.scale(O,O);H.lineWidth=4/O;H.strokeStyle="#ff0000";
H.strokeRect(c.x,c.y,U.x-c.x,U.y-c.y)};iA.prototype.xY=function(u,g){};iA.prototype.t2=function(){this.Fc()};
function ib(u,g){if(u==null){cA.call(this);return}cA.call(this,u.name,!1,u.icon,g);var K=this.sK=b.V("iframe");
K.setAttribute("src",u.url);K.setAttribute("style","width:"+u.width+"px; height:"+u.height+"px");this.Iw.appendChild(K)}ib.prototype=new cA("");
ib.prototype.ZS=function(u){if(b.tV(this.sK))this.sK.contentWindow.postMessage(u,"*")};ib.prototype.rc=function(u,g){this.sK.setAttribute("style","width:"+u+"px; height:"+g+"px")};
function ah(){cA.call(this,[9,12],!1,"---panels/tpreset",cA.vZ.hJ);this.nC=null;this.dp=new gT(R.ei);
this.dp.parent=this;var u=b.V("div","padded");u.setAttribute("style","width:20em");this.Iw.appendChild(u);
u.appendChild(this.dp.h2)}ah.prototype=new cA("");ah.prototype.t2=function(){this.dp.QC(this.nC.b$)};
ah.prototype.xY=function(u,g){this.nC=u;if(g==hO.Jr||g==hO.hJ)this.dp.QC(u.b$)};ah.prototype.rc=function(u,g){this.dp.anL(this.nC.Wp)};
ah.prototype.N=function(){cA.prototype.N.call(this);this.dp.N()};var bE=function(){var u=[],g=null,K=null,X=null,w=[[100,180,255],[100,255,100],[255,200,100],[200,100,255],[255,100,200]];
function D(){cA.call(this,"Memory",!1,null,cA.vZ.a9G);var r=b.V("div","padded");this.Iw.appendChild(r);
K=new dM(["<< VAR0",[0,13,2]],!1,null,!0);K.addEventListener("click",function(c){u.pop();C()});r.appendChild(K.e);
g=b.V("div","scrollable");g.setAttribute("style","width:20em;  height:26em; margin-top:8px;");r.appendChild(g)}D.prototype=new cA("");
D.prototype.AF=function(r,c,U){X=c;this.t2()};D.prototype.t2=function(){K.Tm(!1);if(!b.tV(g))return;
var r={r_:"Total:",vj:[]};for(var P=0;P<X.length;P++)r.vj.push(x(X[P]));$(r);u=[r];C()};D.prototype.N=function(){cA.prototype.N.call(this);
K.N()};function q(r){var c=r.currentTarget,P=0;while((c=c.previousSibling)!=null)P++;u.push(u[u.length-1].vj[P-1]);
C()}function C(){K.Tm(u.length>1);var r=u[u.length-1];b.Lh(g);a(r,g,0);r.vj.sort(function(c,U){return U.ce[0]-c.ce[0]});
for(var P=0;P<r.vj.length;P++)a(r.vj[P],g,1)}function a(r,c,U){var O=bF.pc,A=U!=0&&r.vj,m="margin-left:"+U*10+"px; margin-bottom:8px; padding:3px 5px;";
if(A)m+="cursor:pointer;";if(r.rM!=null)m+="background-color:rgba("+w[r.rM].join(",")+",0.2);";var i=b.V("div");
c.appendChild(i);i.setAttribute("style",m);i.innerHTML=b.Mt(r.r_)+"<br />"+"RAM: <b>"+O(r.ce[0])+"</b>\u2001GPU: <b>"+O(r.ce[1])+"</b>";
if(A)i.addEventListener("click",q,!1)}function x(r){var c={r_:r.name,vj:[],rM:0},U=s.xA?1:0,O=1-U,A={r_:"Final Image",ce:[r.m*r.n*4,U*r.m*r.n*4],rM:2};
c.vj.push(A);for(var P=0;P<r.g.length;P++){var m=H(r.g[P]);if(m.vj.length!=0)c.vj.push(m)}var i=r.add.lnk2;
if(i)for(var P=0;P<i.length;P++){var m=i[P],e={r_:m.$V,vj:[],rM:4},S=0;e.vj.push({r_:"Raw file",ce:[m.raw.length,0]});
if(m.Z4)for(var E=0;E<m.Z4.length;E+=2)S+=m.Z4[E].length;if(S!=0)e.vj.push({r_:"Decoded pixels",ce:[S,0]});
$(e);c.vj.push(e)}$(c);return c}function H(r){var c={r_:r.getName(),vj:[],rM:1},U=s.xA?1:0,O=1-U,A=r.rect.$();
if(A!=0)c.vj.push({r_:"Layer pixels",ce:[A*4,U*A*4]});if(r.add.lmfx&&r.gJ.qw.type){var m=r.gJ.qw.type,E=0;
for(var i in m){var e=0;for(var S=0;S<m[i].length;S++)if(i=="ebbl"){if(m[i][S].FG)e+=m[i][S].FG._a.$();
if(m[i][S].Ej)e+=m[i][S].Ej._a.$();if(m[i][S].Bd)e+=m[i][S].Bd._a.$();if(m[i][S].hr)e+=m[i][S].hr._a.$()}else e+=m[i][S]._a.$();
if(e!=0)c.vj.push({r_:fc.get(k8.names[k8.order.indexOf(i)]),ce:[O*e*4,U*e*4],rM:3})}if(r.gJ.Vi)E+=A;
if(r.gJ.oS)E+=A;if(r.gJ.Lz)E+=A;if(r.gJ.Lz)E+=A;if(r.gJ.$Y)E+=A;if(r.gJ.v_)E+=A;var Z=r.gJ.Pi?r.gJ.Pi.length:0;
if(E+Z!=0)c.vj.push({r_:"Additional Blending Data",ce:[O*E*4+Z,U*E*4]})}var N=r.Zv(),J=N?N.rect.$():0;
if(J!=0){c.vj.push({r_:"Raster Mask",ce:[J,0]})}var N=r.add.vmsk,J=N&&N.ad?N.ad.rect.$():0;if(J!=0){c.vj.push({r_:"Vector Mask",ce:[J,0]})}$(c);
return c}function $(r){r.ce=[0,0];for(var P=0;P<r.vj.length;P++){r.ce[0]+=r.vj[P].ce[0];r.ce[1]+=r.vj[P].ce[1]}}return D}();
function c6(){cA.call(this,[9,14],!1,"---panels/notes",cA.vZ.aep);this.Iw.setAttribute("style","min-width:240px;");
var u=b.V("div","padded");this.Iw.appendChild(u);this._f=new fu("Author");u.appendChild(this._f.e);this.Gl=b.V("textarea");
b.H5(this.Gl);u.appendChild(this.Gl);var g=new dM("<<",null,null,!0);u.appendChild(g.e);this.amu=g;var K=new dM(">>",null,null,!0);
u.appendChild(K.e);g.f("click",this.M2,this);K.f("click",this.M2,this);var X=this.a1i=new g5("");u.appendChild(X.e)}c6.prototype=new cA("");
c6.prototype.M2=function(u){var g=u.target==this.amu?-1:1,K=this.FQ,X=K.add.Anno,w=X.length,D=K.t.l_;
K.t.l_=(D+g+w)%w;K.vH=!0;this.Fc()};c6.prototype.Fc=function(){var u=this.FQ;if(u==null)return;var g=u.add.Anno;
if(g==null||g.length==0)return;var K=u.t.l_,X=g[K];this.Gl.value=X[4];this.a1i.k(K+1+" / "+g.length);
this._f.k(X[3])};c6.prototype.rc=function(u,g){if(this.QM==u)return;this.QM=u;g=Math.min(g,200);this.Gl.setAttribute("style","display:block;tab-size:4;  margin:0; font-family:monospace; width:"+(u-10)+"px; height:"+(g-66)+"px")};
c6.prototype.AF=function(u,g,K){this.FQ=u;this.Fc()};function gh(){i6.call(this);this.b=0;this.Tt=null;
this.e=b.V("div","toolconf");this.dp=null;this.GW=null;this.body=new b.V("div","body")}gh.prototype=new i6;
gh.prototype.aho=function(u,g){this.b=u;this.Tt=g;if(R.VE[u]){var K=this.dp=new gT(u);this.e.appendChild(K.e);
K.parent=this}else{this.GW=b.V("div");this.e.appendChild(this.GW)}this.e.appendChild(this.body);this.N()};
gh.prototype.aby=function(u,g){};gh.prototype.acH=function(u){};gh.prototype.xY=function(u,g){if(g==hO.Jr||g==hO.hJ)if(this.dp)this.dp.QC(u.b$)};
gh.prototype.n1=function(u){};gh.prototype.N=function(){if(this.dp)this.dp.N();else this.GW.innerHTML=b.xz(this.Tt,null,"toolicon");
this.CQ()};gh.prototype.CQ=function(){};function cp(){gh.call(this);this.Ue=new aH;this.Ue.f(h.E.o,this.ZC,this);
this.body.appendChild(this.Ue.e)}cp.prototype=new gh;cp.prototype.CQ=function(){this.Ue.N()};cp.prototype.ZC=function(u){var g=new eG(h.E.Y,!0);
g.data={d:h.s.b4,b:this.b,M3:this.Ue.atF()};this.c(g)};cp.prototype.n1=function(u){this.Ue.a8c(u.YW)};
function dy(u){gh.call(this);if(u==null)return;this.nC=null;this._q={};if(u.indexOf("brush")!=-1&&u.indexOf("prsr")==-1)u.push("prsr");
for(var P=0;P<u.length;P++){var g=u[P],K=null;if(g=="brush"){K=new iw}if(g=="bmode"){K=new e8([12,19,0],b0.ET,!1,b0.CX)}if(g=="bmode0"){K=new e8([12,19,0],b0.ET.slice(23),!1)}if(g=="emode"){K=new e8([12,36],[[9,3],[10,38]])}if(g=="opacity"){K=new bX([12,0],0,100,"%");
K.k(100)}if(g=="flow"){K=new bX([12,63],0,100,"%");K.k(100)}if(g=="smth"){K=new bX([19,3,0],0,100,"%");
K.k(0)}if(g=="samp"){K=new e8([12,36],[[12,25,4],[12,25,5],[12,46]])}if(g=="wconf"){K=new iU;K.k([40,!0,!0])}if(g=="sall"){K=new cG([12,25,2])}if(g=="strn"){K=new bX([12,64],1,100,"%");
K.k(50)}if(g=="smode"){K=new e8([12,36],[[19,7,0],[19,7,1]]);K.k(1)}if(g=="pdetail"){K=new cG([12,65]);
K.Vn()}if(g=="rng"){K=new e8([12,12],[[19,6,0],[19,6,1],[19,6,2]]);K.k(1)}if(g=="expo"){K=new bX([12,5],0,100,"%");
K.k(50)}if(g=="algnd"){K=new cG([12,75]);K.k(!1)}if(g=="sfrom"){K=new e8([12,70],[[17,1],[17,3],[17,0]])}if(g=="alt"){K=new fK(null,["Alt"],!0,["Select Source"])}if(g=="qsmode"){K=new k6([12,36],["<img src=\""+PIMG["set/front"]+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"],[[5,3],[18,1],[18,2]])}if(g=="redge"){K=new dM([7,11],!1,null,!0)}if(g=="setop"){K=new gI}if(g=="patch"){K=new k6(null,[[12,70],[12,71]])}if(g=="prsr"){K=new fK(null,["<img src=\""+PIMG.prsO+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.prsS+"\" class=\"autoscale gsicon\" />"],!0,[[15,9,0],[15,9,1]]);
K.k([!1,!1])}K.parent=this;this.body.appendChild(K.e);this._q[g]=K;if(g=="brush")K.f(h.E.o,this.a3M,this);
else if(g=="redge")K.f("click",this.zZ,this);else K.f(h.E.o,this.jO,this)}}dy.prototype=new gh;dy.prototype.aby=function(u,g){u=u[1];
var K=this._q;if(u.Md)K.bmode.k(b0.nG.indexOf(u.Md.v.BlnM));if(u.Opct)K.opacity.k(u.Opct.v);if(u.flow)K.flow.k(u.flow.v);
if(u.Brsh)K.brush.k(u,g.d3.Ft,g.d3.oY);if(u.FrgC){var X=f.X.Ld(u.FrgC.v),w=new eG(h.E.Y,!0);w.data={d:h.s.zS,M3:hO.YJ,KR:0,h:X.w<<16|X.A<<8|X.U};
this.c(w)}this.a3M();this.jO()};dy.prototype.acH=function(){if(R.VE[this.b]==null)return null;var u=this._q,g=JSON.parse(JSON.stringify(u.brush.C()));
g.classID=R.VE[this.b][1][0];if(u.bmode)g.Md={t:"enum",v:{BlnM:b0.nG[u.bmode.C()]}};if(u.opacity)g.Opct={t:"long",v:u.opacity.C()};
if(u.flow)g.flow={t:"long",v:u.flow.C()};var K=this.nC.FK;K={w:K>>>16,A:K>>>8&255,U:K&255};g.FrgC={t:"Objc",v:f.X.Gp(K)};
return["Brush Preset "+g.Brsh.v.Dmtr.v.val,g]};dy.prototype.zZ=function(){var u=new eG(h.E.Y,!0);u.data={d:h.s.KP,Pu:"redge"};
this.c(u)};dy.prototype.CQ=function(){for(var u in this._q)this._q[u].N()};dy.prototype.n1=function(u){if(u.aj0=="showBrushOpts"){this._q.brush.abZ(u.wC.x,u.wC.y)}for(var g in u.ap){var K=u.ap[g];
if(g!="qsmode")K*=100;if(this._q[g])this._q[g].k(K)}};dy.prototype.xY=function(u,g){gh.prototype.xY.call(this,u,g);
this.nC=u;var K=this._q.brush;if(K==null)return;if(g==hO.Jr||g==hO.ei)K.QC(u.d3);if(g==hO.xD){K.k(u.d3.T1,u.d3.Ft,u.d3.oY)}};
dy.prototype.a3M=function(){var u=new eG(h.E.Y,!0);u.data={d:h.s.zS,M3:hO.xD,WM:this._q.brush.C()};this.c(u)};
dy.prototype.jO=function(){var u=new eG(h.E.Y,!0);u.data={d:h.s.b4,b:this.b};for(var g in this._q){if(g=="brush"||g=="redge")continue;
var K=this._q[g].C();if(["opacity","flow","smth","strn","expo"].indexOf(g)!=-1)u.data[g]=K/100;else if(g=="bmode")u.data.bmode=b0.t8[K];
else if(g=="bmode0")u.data.bmode=b0.t8[23+K];else u.data[g]=K}this.c(u)};function eb(u,g){gh.call(this);
if(u)return;this._q={};for(var P=0;P<g.length;P++){var K=g[P],X=null;if(K=="binop")X=new gI;if(K=="feat"){X=new bX([7,6],0,100,"px");
X.k(0)}if(K=="redge")X=new dM([7,11],!1,null,!0);if(K=="wconf")X=new iU;if(K=="cstr")X=new au;if(K=="anta"){X=new cG([12,25,1]);
X.k(!0)}if(K=="sall")X=new cG([12,25,2]);if(K=="redge")X.f("click",this.zZ,this);else X.f(h.E.o,this.jO,this);
X.parent=this;this.body.appendChild(X.e);this._q[K]=X}}eb.prototype=new gh;eb.prototype.n1=function(u){if(u.fc!=null)this._q.binop.k(u.fc);
else if(u.Xm){for(var g in u.Xm)if(this._q[g])this._q[g].k(u.Xm[g])}else{var K=eb.pf;if(K==null){var X=dm.alk(!0);
K=eb.pf=new aT(X.items,X.CR)}K.N();K.parent=this;K.update(u.VF,u.Jo);var w=new eG(h.E.Y,!0);w.data={d:h.s.dC,qD:K,x:u.y5.Tn+2,y:u.y5.GC+1};
this.c(w)}};eb.prototype.CQ=function(){for(var u in this._q)this._q[u].N()};eb.prototype.zZ=function(){var u=new eG(h.E.Y,!0);
u.data={d:h.s.KP,Pu:"redge"};this.c(u)};eb.prototype.jO=function(){var u=new eG(h.E.Y,!0);u.data={d:h.s.b4,b:this.b,Xm:{}};
for(var g in this._q)u.data.Xm[g]=this._q[g].C();this.c(u)};function kg(){dy.call(this,["brush","strn"])}kg.prototype=new dy;
function eh(){dy.call(this,"brush bmode opacity flow smth prsr".split(" "))}eh.prototype=new dy;function gv(){dy.call(this,["brush","bmode0","samp","wconf"])}gv.prototype=new dy;
function g7(){dy.call(this,["brush"])}g7.prototype=new dy;function e3(){dy.call(this,["brush","bmode","opacity","smth","prsr"])}e3.prototype=new dy;
function f6(){dy.call(this,["brush","rng","expo"])}f6.prototype=new dy;function jK(){dy.call(this,"brush bmode opacity algnd sfrom alt".split(" "))}jK.prototype=new dy;
function ds(u){gh.call(this);if(u==null)return;var g=b.V("span","fitem");this.body.appendChild(g);var K=[[17,0],[17,1],[11,12,0],[17,2]];
this.uR=[];for(var P=0;P<K.length;P++){var X=new dM(K[P],!1,null,!0);this.uR.push(X);X.f("click",this.am4,this);
if(!u||P==1)g.appendChild(X.e)}this.e9=new au;this.e9.f(h.E.o,this.art,this);if(!u)this.body.appendChild(this.e9.e);
this.dQ=new dM([15,7,6],!1,null,!0);this.dQ.f("click",this.am4,this);if(!u)this.body.appendChild(this.dQ.e);
this.ti=new cG([15,7,10]);this.ti.f(h.E.o,this.art,this);if(!u)this.body.appendChild(this.ti.e);this.E0=new eZ;
this.E0.f("click",this.Kp,this)}ds.prototype=new gh;ds.prototype.CQ=function(){this.E0.N();for(var P=0;
P<this.uR.length;P++)this.uR[P].N();this.e9.N();this.ti.N();this.dQ.N()};ds.prototype.n1=function(u){var g=this.E0.e;
if(u.c4)this.body.appendChild(g);else if(this.body.contains(g))this.body.removeChild(g);if(u.e9)this.e9.k(u.e9)};
ds.prototype.Kp=function(u){var g={d:h.s.b4,b:this.b,RM:this.E0.C()?"commit":"cancel"},K=new eG(h.E.Y,!0);
K.data=g;this.c(K)};ds.prototype.am4=function(u){u.target.e.blur();var g={d:h.s.b4,b:this.b,RM:"cropby",avo:this.uR.indexOf(u.target)};
if(u.target==this.dQ)g.RM="straighten";var K=new eG(h.E.Y,!0);K.data=g;this.c(K)};ds.prototype.art=function(u){var g={d:h.s.b4,b:this.b,RM:"config",Wa:{oR:this.e9.C(),Tg:this.ti.C()},atw:u.target==this.e9},K=new eG(h.E.Y,!0);
K.data=g;this.c(K)};function jN(){ds.call(this,!1)}jN.prototype=new ds;function dD(){ds.call(this,!0)}dD.prototype=new ds;
function ao(){dy.call(this,["brush","rng","expo"])}ao.prototype=new dy;function fI(){dy.call(this,"brush emode opacity flow smth prsr".split(" "))}fI.prototype=new dy;
function iJ(){dy.call(this,["brush","samp","wconf"])}iJ.prototype=new dy;function a9(){eb.call(this,!1,["binop","feat","anta","redge","cstr"])}a9.prototype=new eb(!0);
function gB(){gh.call(this);var u=this._q=[new e8([12,20,0],["1x1","3x3","5x5","11x11","31x31"]),new e8([12,70],[[17,1],[17,3],[17,0]]),new cG([12,20,1]),new cG([8,0])];
u[1].k(2);u[2].k(!0);for(var P=0;P<u.length;P++){var g=u[P];g.f(h.E.o,this.jO,this);this.body.appendChild(g.e)}}gB.prototype=new gh;
gB.prototype.jO=function(u){var g=this._q,K=[];for(var P=0;P<g.length;P++)K[P]=g[P].C();var X=new eG(h.E.Y,!0);
X.data={d:h.s.b4,b:this.b,Xm:K};this.c(X)};gB.prototype.CQ=function(){for(var P=0;P<this._q.length;P++)this._q[P].N()};
function bS(){gh.call(this);this.R2=new hJ(!1);this.R2.parent=this;this.R2.f(h.E.o,this.HQ,this);this.body.appendChild(this.R2.e);
this.R2.k(JSON.parse(k8.v2.afw).v);this.Er=new e8(null,k8.X.names.slice(0,5));this.Er.f(h.E.o,this.HQ,this);
this.body.appendChild(this.Er.e);this.t3=new e8([12,19,0],b0.ET,null,b0.CX);this.t3.f(h.E.o,this.HQ,this);
this.body.appendChild(this.t3.e);this.mz=new bX([12,0],0,100,"%");this.mz.parent=this;this.mz.f(h.E.o,this.HQ,this);
this.body.appendChild(this.mz.e);this.mz.k(100);this.IN=new cG([12,23,0]);this.IN.f(h.E.o,this.HQ,this);
this.body.appendChild(this.IN.e);this.uM=new cG([12,23,3]);this.uM.f(h.E.o,this.HQ,this);this.body.appendChild(this.uM.e)}bS.prototype=new gh;
bS.prototype.CQ=function(){this.Er.N();this.t3.N();this.mz.N();this.IN.N();this.uM.N()};bS.prototype.xY=function(u,g){gh.prototype.xY.call(this,u,g);
var K=g==hO.YJ;this.R2.AT(u.FK,u.ui);if(K||g==hO.WQ||g==hO.Jr)this.R2.QC(u.N3)};bS.prototype.HQ=function(){var u=new eG(h.E.Y,!0);
u.data={d:h.s.b4,b:this.b};u.data.M3={X:this.R2.C(),lF:k8.X.types[this.Er.C()],JU:this.IN.dc(),avv:this.uM.dc(),aop:b0.t8[this.t3.C()],Wg:this.mz.C()/100};
this.c(u)};function js(){gh.call(this)}js.prototype=new gh;function iX(){gh.call(this);var u=b.V("span","fitem");
this.body.appendChild(u);this.bn=[new bX([12,15],-180,180,"\xB0"),new dM([1,12,2],null,null,!0)];for(var P=0;
P<this.bn.length;P++){var g=this.bn[P];g.parent=this;u.appendChild(g.e);g.f(P==1?"click":h.E.o,this.jG,this)}}iX.prototype=new gh;
iX.prototype.CQ=function(){for(var P=0;P<this.bn.length;P++)this.bn[P].N()};iX.prototype.n1=function(u){this.bn[0].k(u.IT*180/Math.PI)};
iX.prototype.jG=function(u){var g=this.bn.indexOf(u.target),K=new eG(h.E.Y,!0);K.data={d:h.s.b4,b:this.b,IT:g==1?0:u.target.C()*Math.PI/180};
this.c(K)};function kj(){dy.call(this,["brush","algnd","sfrom","alt"])}kj.prototype=new dy;function ij(){gh.call(this);
this.Ch=new gJ;this.Ch.parent=this;this.body.appendChild(this.Ch.ay.e);this.body.appendChild(this.Ch.Ap.e);
this.body.appendChild(this.Ch.Wd.e);this.body.appendChild(this.Ch.eL.e);var u=b.V("span","fitem");this.body.appendChild(u);
u.appendChild(this.Ch.Xk.e);u.appendChild(this.Ch.Qm.e);u.appendChild(this.Ch.oq.e);this.Se=new e8("Aa",[[22,5,0],[12,95,0],[12,95,1],[12,95,2],[12,95,3]]);
this.Se.f(h.E.o,this.Kp,this);this.body.appendChild(this.Se.e);this.h3=new dM([11,9],!1,null,!0);this.h3.f("click",this.a4W,this);
this.body.appendChild(this.h3.e);this.E0=new eZ;this.E0.f("click",this.Kp,this)}ij.prototype=new gh;
ij.prototype.CQ=function(){this.E0.N();this.Ch.N();this.h3.N()};ij.prototype.a4W=function(u){var g={d:h.s.b4,b:this.b,RM:"showwarp"},K=new eG(h.E.Y,!0);
K.data=g;this.c(K)};ij.prototype.n1=function(u){if(u.RM=="showactive")this.body.appendChild(this.E0.e);
if(u.RM=="hideactive")this.body.removeChild(this.E0.e);if(u.RM=="changeAA")this.Se.k(u.a5)};ij.prototype.xY=function(u,g){gh.prototype.xY.call(this,u,g);
if(g!=hO.Jr&&g!=hO.pH&&g!=hO.em&&g!=hO.Hm)return;this.Ch.k(u.vF,u.aX,u.jy)};ij.prototype.Kp=function(u){var g={d:h.s.b4,b:this.b,RM:this.E0.C()?"commit":"cancel"};
if(u.target==this.Se){g.RM="changeAA";g.a5=this.Se.C()}var K=new eG(h.E.Y,!0);K.data=g;this.c(K)};function dT(){eb.call(this,!1,["binop","feat","anta","redge"])}dT.prototype=new eb(!0);
function cU(){gh.call(this);var u=[],K="<svg  class=\"autoscale gsicon\" viewBox=\"0 0 14 18\" width=\"14\" height=\"18\" fill=\"black\"><path d=\"M14,6 L10,6 L10,0 L4,0 L4,6 L0,6 L7,13 L14,6 L14,6 Z M0,14 L0,16 L14,16 L14,14 Z\" /></svg>";
this.P3=new cG([12,85]);this.P3.f(h.E.o,this.jO,this);u.push(this.P3.e);this.J8=new cG([20,1]);this.J8.f(h.E.o,this.jO,this);
u.push(this.J8.e);this.At=new cG([12,83]);this.At.f(h.E.o,this.jO,this);u.push(this.At.e);var g=b.V("span","fitem");
u.push(g);this.a1o=new e8("Scale for exported files",["1x","2x","3x","4x"],!0);g.appendChild(this.a1o.e);
this.BL=new dM(K+" PNG",!1,"Save selected layers as PNG",!0);g.appendChild(this.BL.e);this.BL.f("click",this.XT,this);
this.aq2=new dM(K+" SVG",!1,"Save selected layers as SVG",!0);g.appendChild(this.aq2.e);this.aq2.f("click",this.XT,this);
var X=b.V("span","fitem");u.push(X);var w=b.V("span","fitem");u.push(w);this.OG=[];for(var P=0;P<8;P++){var D=P==3||P==7?[20,4,6]:[20,4,P<3?P:P-1],q=new dM("Hi",!1,D);
(P<4?X:w).appendChild(q.e);q.f("click",this.XT,this);this.OG.push(q)}for(var P=0;P<u.length;P++)this.body.appendChild(u[P]);
this.avb=u}cU.prototype=new gh;cU.prototype.n1=function(u){var g=u.YW,K=u.apz;this.P3.k(g.$C);this.J8.k(g.Jp);
this.At.k(g.g6);if(K){b.Lh(this.body);for(var P=0;P<K.length;P++)if(K[P]==1&&this.avb[P])this.body.appendChild(this.avb[P])}};
cU.prototype.XT=function(u){var g=this.OG.indexOf(u.target),K;if(g==-1){K=new eG(h.E.Y,!0);K.data={d:h.s.b4,b:this.b,KR:u.target==this.BL?"getPNG":"getSVG",$W:this.a1o.C()+1}}else{K=new eG(h.E.l,!0);
K.b=R.Hx;K.data={d:"algn",h:g}}this.c(K)};cU.prototype.jO=function(u){var g=new eG(h.E.Y,!0);g.data={d:h.s.b4,b:this.b,KR:"prms",$C:this.P3.dc(),Jp:this.J8.dc(),g6:this.At.dc()};
this.c(g)};cU.prototype.CQ=function(){this.P3.N();this.J8.N();this.At.N();var u="h0 h1 h2 hG v0 v1 v2 vG".split(" ");
for(var P=0;P<8;P++){this.OG[P].Db(b.xz("align/"+u[P],null,"autoscale"))}};function jB(){eb.call(this,!1,["binop","feat","redge","wconf","sall"])}jB.prototype=new eb(!0);
function hh(){dy.call(this,["setop","patch"])}hh.prototype=new dy;function hF(){dy.call(this,["setop"])}hF.prototype=new dy;
function gO(){dy.call(this,["bmode","opacity","wconf","sall"])}gO.prototype=new dy;function e9(){eb.call(this,!1,["binop","feat","anta","redge"])}e9.prototype=new eb(!0);
function fG(){eb.call(this,!1,["binop","feat","anta","redge"])}fG.prototype=new eb(!0);function jJ(){eb.call(this,!1,["binop","feat","redge","cstr"])}jJ.prototype=new eb(!0);
function j3(){gh.call(this);this.nC=null;this.oe=null;this.Nk=[new fu("X",null,3.2,null,!0),new fu("Y",null,3.2,null,!0),new fu("W",null,3.2,null,!0),new fu("H",null,3.2,null,!0),new fu([12,15],"\xB0",3.7,null,!0),new fu(["VAR0 1",[12,80,0]],null,3.5,null,!0),new fu(["VAR0 2",[12,80,0]],null,3.5,null,!0),new dM([15,7,6],!1,null,!0),new dM([2,2],!1,null,!0)];
for(var P=0;P<this.Nk.length;P++){var u=this.Nk[P];this.body.appendChild(u.e);if(P>6)u.f("click",this.E4,this)}this.Ge=0}j3.prototype=new gh;
j3.prototype.E4=function(u){var g=this.Nk.indexOf(u.target)==7,K=new eG(h.E.l,!0);if(g){if(this.Ge==0)return;
K.b=R.fr;K.data={d:"rot",Uz:[2,5],h:-this.Ge}}else{K.b=R.I6;for(var P=0;P<6;P++)this.Nk[P].k(null)}this.c(K)};
j3.prototype.n1=function(u){function g(C,a,x){var H=Math.sqrt(Math.pow(a.x-C.x,2)+Math.pow(a.y-C.y,2)),$=Math.sqrt(Math.pow(a.x-x.x,2)+Math.pow(a.y-x.y,2)),r=Math.sqrt(Math.pow(x.x-C.x,2)+Math.pow(x.y-C.y,2));
return Math.acos(($*$+H*H-r*r)/(2*$*H))}if(u==null)return;this.oe=u;var K=u.a9m,X=u.fO,w=X.x-K.x,D=X.y-K.y;
this.Ge=-Math.atan2(D,w);if(u.yR)this.Ge=g(X,K,u.yR);var q=this.Nk;q[0].k(this.sB(u,K.x));q[1].k(this.sB(u,K.y));
q[2].k(this.sB(u,w));q[3].k(this.sB(u,D));q[4].k((this.Ge*180/Math.PI).toFixed(2));q[5].k(this.sB(u,j4.uh(K,X)));
if(u.yR){q[6].k(this.sB(u,j4.uh(K,u.yR)))}else q[6].k("")};j3.prototype.sB=function(u,g){var K=f.Xx.FZ(g,u.wY,this.nC,u.a7D,!1);
return parseFloat(K).toFixed(2)};j3.prototype.xY=function(u,g){this.nC=u;this.n1(this.oe)};j3.prototype.CQ=function(){var u=this.Nk;
for(var P=0;P<u.length;P++)u[P].N();b.WW(u[2],u[3])};function fA(){dy.call(this,["brush","strn","pdetail"])}fA.prototype=new dy;
function bR(){dy.call(this,["brush","sfrom"]);this.a0g=[];var u=[[7,12]];for(var P=0;P<u.length;P++){var g=new dM(u[P],!1,null,!0);
this.a0g.push(g);g.parent=this;this.body.appendChild(g.e);g.f("click",this.a2v,this)}}bR.prototype=new dy;
bR.prototype.a2v=function(u){var g=this.a0g.indexOf(u.currentTarget),K=new eG(h.E.qf,!0);K.data=R.Xo.cH("contentAware");
this.c(K)};function hv(){dy.call(this,["brush","strn"])}hv.prototype=new dy;function ja(){dy.call(this,["brush","flow","smode"])}ja.prototype=new dy;
function iD(){gh.call(this);this.CD=!1;var u=b.V("span","fitem");this.body.appendChild(u);this.jM=new k6(null,["<img src=\""+PIMG.zoomIn+"\" class=\"autoscale gsicon\" />","<img src=\""+PIMG.zoomOut+"\" class=\"autoscale gsicon\" />"]);
u.appendChild(this.jM.e);this.jM.f(h.E.o,this.jO,this);this.vi=new dM([20,2]);this.body.appendChild(this.vi.e);
this.vi.f("click",this.aj6,this);this.iE=new dM([20,3]);this.body.appendChild(this.iE.e);this.iE.f("click",this.aj6,this)}iD.prototype=new gh;
iD.prototype.CQ=function(){this.vi.N();this.iE.N()};iD.prototype.jO=function(){var u={d:h.s.b4,b:this.b,bZ:this.jM.C()==0},g=new eG(h.E.Y,!0);
g.data=u;this.c(g)};iD.prototype.n1=function(u){if(this.CD!=u.CD)this.jM.k(1-this.jM.C());this.CD=u.CD};
iD.prototype.aj6=function(u){var g=new eG(h.E.l,!0);g.b=R.d0;g.data={d:"adapt",h:u.target==this.vi?"pixel":"fitscr"};
this.c(g)};function kh(u,g){gh.call(this);if(u==null)return;this.w7=u;this.K$={};this.a8W=g;for(var P=0;
P<u.length;P++){var K=u[P],X=null;if(K=="tmode"){X=new e8(null,[[12,76,1],[12,76,0],[12,76,2]]);X.k(0);
if(g)X.ajT(2)}if(K=="make"){X=new k6("Make",[[17,2],[12,76,1]],null,!0)}if(K=="anta"){X=new cG([12,25,1]);
X.k(!0)}if(K=="binop"){X=new e8(null,[[6,13],[18,1],[18,2],[18,3],[18,4]])}if(K=="pshape")X=new e8(null,[[12,93,0],[12,93,1],[12,93,4],[12,93,2]]);
if(K=="shape")X=new hG([12,76,1]);if(K=="crad"){X=new bX([12,94,0],0,50,"px");X.k(0)}if(K=="cstr"){X=new au}if(K=="irad"){X=new bX([12,94,1],0,100,"%");
X.k(40)}if(K=="length"){X=new bX([12,80,0],4,40);X.k(4)}if(K=="sides"){X=new bX([12,78],3,30);X.k(5)}if(K=="width"){X=new bX([12,41],1,100,"px");
X.k(5)}if(K=="tolr"){X=new bX([12,24],0,100);X.k(5)}if(K=="fstyle"){X=new jo([12,26])}if(K=="sstyle"){X=new i7}if(K=="psnap"){X=new cG([8,10])}if(K=="crnr"){X=new dM("\u2312",!1,[12,94,0],!0)}if(K=="aopts"){X=new f7;
X.k([!1,!1,50,60,0])}X.parent=this;this.body.appendChild(X.e);this.K$[K]=X;X.f(K=="crnr"?"click":h.E.o,this.jO,this)}}kh.prototype=new gh;
kh.prototype.n1=function(u){if(u.fc!=null)this.K$.binop.k(u.fc);else if(u.KR=="vals")for(var g in u.agP)this.K$[g].k(u.agP[g]);
else{var K=kh.pf;if(K==null)K=kh.pf=new aT([{name:"Remove Anchor Point",K:function(w){var D=w?w.f$():null;
return{K:w&&D[1].length!=0&&D[0][D[1][0]].add.vmsk.s4.length!=0}}},{name:"Remove Path",K:function(w){var D=w?w.f$():null;
return{K:w&&D[1].length!=0&&D[0][D[1][0]].add.vmsk.z.length!=0}},nf:!0},{name:"Make Selection"},{name:[2,3]},{name:[14,9]}],[{T:h.E.l,b:R.Td,M:{d:"remove",g9:!0}},{T:h.E.l,b:R.AP,M:{d:"remove"}},{T:h.E.Y,M:{d:h.s.KP,Pu:"makesel"}},{T:h.E.qf,M:R.jV.tN(0)},{T:h.E.qf,M:R.jV.tN(1)}]);
K.parent=this;K.update(u.VF,u.Jo);var X=new eG(h.E.Y,!0);X.data={d:h.s.dC,qD:K,x:u.y5.Tn+2,y:u.y5.GC+1};
this.c(X)}};kh.prototype.abw=function(P){return null};kh.prototype.CQ=function(){for(var u in this.K$){this.K$[u].N()}};
kh.prototype.jO=function(u){var g=new eG(h.E.Y,!0),K=this.K$;if(u.target==K.crnr){g=new eG(h.E.l,!0);
g.b=R.Td;g.data={d:"crnr"}}else if(u.target==K.make){var P=u.target.C();console.log(P);if(P==0)g.data={d:h.s.KP,Pu:"makesel"};
else{g=new eG(h.E.l,!0);g.b=R.Zl;g.data={d:"newfill",rM:0}}}else if(u.target==K.fstyle){g.data={d:h.s.zS,M3:hO.dV,h:K.fstyle.C()}}else if(u.target==K.sstyle){g.data={d:h.s.zS,M3:hO.bb,h:K.sstyle.C()}}else if(u.target==K.tmode){g.data={d:h.s.zS,M3:hO.iU,h:K.tmode.C()}}else{if(K.pshape)this.m4();
g.data={d:h.s.b4,b:this.b};for(var X in K)g.data[X]=K[X].C()}this.c(g)};kh.prototype.m4=function(){var u=this.K$,g=u.tmode.C(),K=u.pshape?this.abw(u.pshape.C()):this.w7,X;
if(g==0)X=["anta","make"];if(g==1)X=["anta","fstyle","sstyle"];if(g==2)X=["make","binop","fstyle","sstyle"];
var w=u.binop;if(w){var D=w.C();if(g==0){w.a5J(0)}else{w.ajT(0);if(D==0){w.k(1);this.jO({target:w})}}}b.Lh(this.body);
for(var P=0;P<K.length;P++){var q=K[P];if(X.indexOf(q)!=-1)continue;this.body.appendChild(u[q].e)}};
kh.prototype.xY=function(u,g){gh.prototype.xY.call(this,u,g);var K=this.K$.fstyle,X=this.K$.sstyle,w=this.K$.tmode;
if(K)K.xY(u,g);if(X)X.xY(u,g);if(g==hO.Jr||g==hO.X4)if(u.uV.length!=0&&this.K$.shape){this.K$.shape.QC(u.uV)}if(g==hO.Jr||g==hO.dV)if(K)K.k(null,u.Bl,u.aaH);
if(g==hO.Jr||g==hO.bb)if(X)X.k(null,u.kd,u.abE);if(g==hO.Jr||g==hO.iU){var D=u._B;if(this.a8W&&D==2)D=0;
if(w){w.k(D);this.m4()}}};function e0(){kh.call(this,["tmode","make","fstyle","sstyle","binop"],!0)}e0.prototype=new kh;
function hV(){kh.call(this,"tmode make anta fstyle sstyle binop".split(" "))}hV.prototype=new kh;function cb(){kh.call(this,["fstyle","sstyle"]);
this.a6b=null;this.ais=null;this.a2D=null;this.bz=new e8([12,76,0],[[18,1],[18,2],[18,3],[18,4],[18,5]],!1,[4]);
this.H7=new dM("\u25BC");this.H7.Vn();this.$N=new dM("\u25B2");this.$N.Vn();this.cY=[this.bz,this.H7,this.$N];
for(var P=0;P<this.cY.length;P++){var u=this.cY[P];this.body.appendChild(u.e);u.parent=this;u.f(P==0?h.E.o:"click",this.yg,this)}}cb.prototype=new kh;
cb.prototype.n1=function(u){if(u.RM=="main"){var g=this.cY,K=u.Ze;if(K){this.ais=K.clone();this.a2D=JSON.stringify(u.b1);
var X=K.z.slice(0),w=X.length;for(var P=0;P<X.length;P++)X[P]++;X.sort(function(a,x){return a-x});g[0].gx();
g[1].Tm(w!=0);g[2].Tm(w!=0);g[0].Db(w==0?"No Paths":w==1?"Path "+X[0]:"Paths "+X.slice(0,3).join(",")+(w>3?"..":""));
if(w!=0){var D=K.z[0],q=f.J.Ei(K._,D),C=K._[q];this.bz.k([3,0,1,2][C.yk])}}else for(var P=0;P<g.length;
P++)g[P].ik()}else kh.prototype.n1.call(this,u)};cb.prototype.CQ=function(){kh.prototype.CQ.call(this);
this.bz.N()};cb.prototype.yg=function(u){if(u.target==this.bz||u.target==this.H7||u.target==this.$N){var g={},K=this.ais,X=K._,w=K.z,D=f.J.nM(X),q=JSON.parse(this.a2D);
w.sort(function(m,i){return m-i});if(u.target==this.bz){var C=this.bz.C();if(C<4)for(var P=0;P<w.length;
P++)X[f.J.Ei(X,w[P])].yk=[1,2,3,0][C];else{if(D<=1)return;K._=f.J.Jv(X);K.z=K._.length==2?[]:[0];K.s4=[];
q=[f.b1.Ph()]}}else{var a=u.target==this.H7?-1:1,x=[];for(var P=0;P<D;P++){var H=f.J.Ei(X,P),$=H+1+X[H].length;
x.push(X.slice(H,$))}var r=w.slice(0);for(var P=0;P<w.length;P++)r[P]=Math.max(P,Math.min(D-1-(w.length-1-P),r[P]+a));
if(w.join(",")==r.join(","))return;for(var P=0;P<w.length;P++){var c=a==-1?P:w.length-1-P,H=w[c],$=r[c];
if(H!=$){var U=x[H];x[H]=x[$];x[$]=U}}var O=X.slice(0,2);for(var P=0;P<x.length;P++)O=O.concat(x[P]);
K._=O;K.z=r}g.Ze=K;g.b1=q;var A=new eG(h.E.Y,!0);A.data={d:h.s.b4,b:this.b,ZX:g};this.c(A)}};function gb(){kh.call(this,["fstyle","sstyle","crnr","psnap"])}gb.prototype=new kh;
function dB(){kh.call(this,"tmode make anta fstyle sstyle binop cstr crad".split(" "))}dB.prototype=new kh;
function d4(){kh.call(this,"tmode make anta fstyle sstyle binop cstr".split(" "))}d4.prototype=new kh;
function ii(){kh.call(this,"tmode make anta fstyle sstyle binop pshape sides irad crad width aopts length".split(" "));
this.K$.aopts.k([!1,!0,50,60,0])}ii.prototype=new kh;ii.prototype.abw=function(P){var u=[["sides","crad"],["sides","irad","crad"],["width","aopts"],["length"]];
return"tmode make fstyle sstyle binop pshape".split(" ").concat(u[P])};function fQ(){kh.call(this,"tmode make anta fstyle sstyle binop width aopts".split(" "))}fQ.prototype=new kh;
function ag(){kh.call(this,"tmode make anta fstyle sstyle binop cstr shape".split(" "))}ag.prototype=new kh;
function e2(){eb.call(this,!1,["binop","feat","redge"])}e2.prototype=new eb(!0);function ih(){dy.call(this,["brush","qsmode","redge"])}ih.prototype=new dy;
function jQ(){gh.call(this);var u=this.aaf=new dM([8,11,3],null,null,!0);u.f("click",this.yg,this);this.body.appendChild(u.e)}jQ.prototype=new gh;
jQ.prototype.yg=function(u){var g=new eG(h.E.qf,!0);g.data={$T:"make",NA:{__name:"Make",classID:"Mk",null:{t:"obj ",v:[{t:"Clss",v:{classID:"slice"}}]},Usng:{t:"type",v:{classID:"Gd"}}}};
this.c(g)};jQ.prototype.CQ=function(u){this.aaf.N()};function h4(){gh.call(this);var u=this.a4H=[new dM("\u25BC",null,null,!0),new dM("\u25B2",null,null,!0),new dM([5,4],null,null,!0)];
for(var P=0;P<3;P++){var g=u[P];this.body.appendChild(g.e);g.f("click",this.yg,this)}}h4.prototype=new gh;
h4.prototype.yg=function(u){var g=this.a4H.indexOf(u.target),K=new eG(h.E.l,!0);K.b=R.m8;K.data={d:g==2?"delete":"reorder",dir:g==0?-1:1};
this.c(K)};h4.prototype.N=function(){gh.prototype.N.call(this);for(var P=0;P<3;P++)this.a4H[P].N()};
function by(u,g){gh.call(this);if(window.Typr==null||u)return;this.avz=g;this.t6=null;this.aoR=b.V("span","");
this.a5s=b.V("span","");var K=1;this.hB={$P:new kl(null,24),P1:new bX("X",0,0,"px",0,!1,!0,4),wo:new bX("Y",0,0,"px",0,!1,!0,4),Iv:new bX("W",0,0,["%","px"],2,!1,!0,5),oh:new dM("<img src=\""+PIMG["lrs/link"]+"\" class=\"autoscale gsicon\" />",null,[12,51],null),VU:new bX("H",0,0,["%","px"],2,!1,!0,5),a9g:new bX("\u2221",0,0,"\xB0",K,!1,!0),aen:new bX("\u25B1 H",-85,85,"\xB0",K,!1,!0),a71:new bX("\u25B1 V",-85,85,"\xB0",K,!1,!0),pI:new e8(null,[[12,14,2],[12,14,3],"Bicubic Sharper"])};
this.hB.pI.k(1);this.hB.oh.k(!0);for(var X in this.hB){var w=this.hB[X];if(g&&(w==this.hB.a9g||w==this.hB.aen||w==this.hB.a71||w==this.hB.pI)){}else this.aoR.appendChild(w.e);
var D=w==this.hB.oh?"click":h.E.o;w.f(D,this.a3U,this)}this.Y4=new jc(!0,!0,!0);this.Y4.f(h.E.o,this.a9v,this);
this.Y4.parent=this;var q=this.a5s,C=this.Y4;q.appendChild(C.N_.e);q.appendChild(C.nR.e);q.appendChild(C.Ai.e);
q.appendChild(C.hi.e);q.appendChild(C.wg.e);this.h3=new dM([11,9]);this.h3.f("click",this.aaw,this);
this.E0=new eZ;this.E0.f("click",this.Kp,this)}by.prototype=new gh;by.prototype.n1=function(u){if(u.y5){var g=by,K=this.pf;
if(K==null)K=this.pf=new aT(g.a8I(),g.asc(this.b));K.N();K.parent=this;K.update(u.VF,u.Jo);var X=new eG(h.E.Y,!0);
X.data={d:h.s.dC,qD:K,x:u.y5.Tn+2,y:u.y5.GC+1};this.c(X);return}b.Lh(this.body);this.t6=u;if(u.hB){var w=u.hB.mf,D=u.hB.Oi.clone(),q=Math.atan2(-D.U,D._x),C=new eV;
C.rotate(-q);D.concat(C);var a=this.hB;a.$P.k(u.hB.kq);a.P1.k(u.hB.ze.x);a.wo.k(u.hB.ze.y);a.Iv.k(D._x*(a.Iv.iN()=="%"?100:w.m));
a.VU.k(D.kR*(a.VU.iN()=="%"?100:w.n));a.a9g.k(-q*180/Math.PI);a.aen.k(0*180/Math.PI);a.a71.k(Math.atan(D.nA)*180/Math.PI);
this.body.appendChild(this.aoR);this.h3.Cl()}if(u.lo){this.Y4.k(u.lo);this.body.appendChild(this.a5s);
this.h3.Vn()}this.body.appendChild(this.E0.e);if(u.abJ&&!this.avz)this.body.appendChild(this.h3.e)};
by.prototype.a3U=function(u){var g=this.hB,K=this.t6.hB.mf;if(u.target==g.oh)g.oh.k(!g.oh.C());if(g.oh.dc()){var X=g.VU,w=g.Iv,D=K.n,q=K.m;
if(u.target==g.Iv){X=g.Iv;w=g.VU;D=K.m;q=K.n}var C=X.C()/(X.iN()=="%"?100:D);C*=w.iN()=="%"?100:q;w.k(C)}var a=[];
for(var x in g)if(g[x]!=g.oh&&g[x]!=g.$P){var C=g[x].C();if((g[x]==g.Iv||g[x]==g.VU)&&C==0){C=.1;g[x].k(C)}if(g[x]==g.Iv&&g[x].iN()=="px")C/=K.m/100;
if(g[x]==g.VU&&g[x].iN()=="px")C/=K.n/100;a.push(C)}var H=new j4(a[0],a[1]);if(u.target==g.$P){this.nb({RM:"ctyp",kq:g.$P.C()})}else if(u.target==g.P1||u.target==g.wo){this.nb({RM:"cen",ze:H})}else{var $=this.t6.hB.Oi.clone(),r=$.clone(),c=Math.atan2(-$.U,$._x);
r.translate(-H.x,-H.y);r.rotate(-c);var U=new eV(r._x,r.U,r.nA,r.kR,0,0);U.CD();r.concat(U);r.concat(new eV(a[2]/100,Math.tan(a[5]*Math.PI/180),Math.tan(a[6]*Math.PI/180),a[3]/100,0,0));
r.rotate(-a[4]*Math.PI/180);r.translate(H.x,H.y);this.t6.hB.Oi=r;this.nb({RM:"trn",hB:r,eg:this.hB.pI.C()})}};
by.prototype.a9v=function(u){this.nb({RM:"wrp",lo:this.Y4.C()})};by.prototype.aaw=function(u){this.nb({RM:"switchWarp"})};
by.prototype.Kp=function(u){this.nb({RM:this.E0.C()?"commit":"cancel"})};by.prototype.nb=function(u){u.d=h.s.b4;
u.b=this.b;var g=new eG(h.E.Y,!0);g.data=u;this.c(g)};by.prototype.CQ=function(){var u=this.hB;for(var g in u)u[g].N();
b.WW(u.Iv,u.VU);this.E0.N();this.Y4.N();this.h3.N()};by.a8I=function(){return[{name:[5,9],l9:"Shift+Alt+Ctrl + T",nf:!0},{name:[12,38]},{name:[2,5]},{name:[24,4]},{name:[2,9]},{name:[11,9],K:function(u){if(u==null||u.z.length!=1)return{K:!1};
var g=u.g[u.z[0]];return{K:g.add.TySh==null&&!g.xp()}},nf:!0},{name:["VAR0 90\xB0 \u21BB",[2,5]]},{name:["VAR0 90\xB0 \u21BA",[2,5]]},{name:["VAR0 180\xB0",[2,5]]},{name:[[2,6],[22,4,2]]},{name:[[2,6],[22,4,3]]}]};
by.asc=function(u){if(u==null)u=R.fr;return[{T:h.E.l,b:u,M:{d:"again"}},{T:h.E.Y,M:{d:h.s.LK,b:u,YW:{Yw:3}}},{T:h.E.Y,M:{d:h.s.LK,b:u,YW:{Yw:4}}},{T:h.E.Y,M:{d:h.s.LK,b:u,YW:{Yw:2}}},{T:h.E.Y,M:{d:h.s.LK,b:u,YW:{Yw:1}}},{T:h.E.Y,M:{d:h.s.LK,b:u,YW:{Yw:-1}}},{T:h.E.l,b:u,M:{d:"rot",Uz:[2,5],h:-Math.PI/2}},{T:h.E.l,b:u,M:{d:"rot",Uz:[2,5],h:-3*Math.PI/2}},{T:h.E.l,b:u,M:{d:"rot",Uz:[2,5],h:Math.PI}},{T:h.E.l,b:u,M:{d:"scl",Uz:[[2,6],[22,4,2]],h:new j4(-1,1)}},{T:h.E.l,b:u,M:{d:"scl",Uz:[[2,6],[22,4,3]],h:new j4(1,-1)}}]};
function b7(){by.call(this)}b7.prototype=new by(!0);function i9(){by.call(this)}i9.prototype=new by(!0);
function iI(){by.call(this,!1,!0)}iI.prototype=new by(!0);function en(){gh.call(this);var u=this.w7=[new e8([12,36],["Rigid",[15,10,0],[24,4]]),new e8([12,74],[[19,8,0],[19,8,1],[19,8,2]]),new bX([7,4],0,100,"px"),new cG("Show Mesh"),new dM("\u25BC",null,null,!0),new dM("\u25B2",null,null,!0)];
for(var P=0;P<u.length;P++){var g=u[P];g.parent=this;this.body.appendChild(g.e);g.f(P<4?h.E.o:"click",this.a0Q,this)}this.E0=new eZ;
this.E0.f("click",this.Kp,this);this.body.appendChild(this.E0.e)}en.prototype=new gh;en.prototype.CQ=function(){var u=this.w7;
for(var P=0;P<4;P++)u[P].N();this.E0.N()};en.prototype.n1=function(u){var u=u.M3;for(var P=0;P<4;P++)this.w7[P].k(u[P])};
en.prototype.a0Q=function(u){var g=[];for(var P=0;P<4;P++)g[P]=this.w7[P].C();var K=this.w7.indexOf(u.target);
if(K<4)this.nb({RM:"prm",M3:g});else this.nb({RM:"moveDepth",anY:K==5})};en.prototype.Kp=function(u){this.nb({RM:this.E0.C()?"commit":"cancel"})};
en.prototype.nb=function(u){u.d=h.s.b4;u.b=this.b;var g=new eG(h.E.Y,!0);g.data=u;this.c(g)};function ci(){i6.call(this);
this.e=b.V("div","cmanager");window.alert=function(X,w){this.aeF(X,w);console.log("Alert: "+X)}.bind(this);
window.onblur=function(X){var w=this;w.Gz()}.bind(this);this.QM=0;this.xQ=0;this.TR=[];this.kX={};this.WP=b.V("div","alertcont");
this.e.appendChild(this.WP);this.agz=b.V("div","alertcont");this.e.appendChild(this.agz);this.CI=b.V("div","alertcont");
this.aqQ=0;this.dS=-1;this.ab4=null;this.el=null;var u=this.atV=b.V("div","alertpanel");u.setAttribute("style","padding:0.7em 1em 0.1em 1em;");
this.CI.appendChild(u);var g=this.NG=b.V("input");g.setAttribute("type","text");b.H5(g);g.setAttribute("style","background-color:white; color:black; font-size:1.2em; width:100%;  margin:0;");
g.addEventListener("input",this.ap0.bind(this),!1);g.addEventListener("keydown",this.atB.bind(this),!1);
u.appendChild(g);var K=this.aks=b.V("div","contextpanel scrollable");K.setAttribute("style","text-align:left; box-shadow:none; margin:0.5em 0 1em 0;color:#888;");
K.addEventListener("click",this.aaX.bind(this),!1);u.appendChild(K);b.hh(document.body,this.am2.bind(this))}ci.prototype=new i6;
ci.prototype.T_=function(){if(b.tV(this.CI))this.e.removeChild(this.CI)};ci.prototype.aeV=function(u,g){var K=this.ab4=[],X=g.a9u;
for(var P=0;P<dm.data.length;P++){var w=dm.data[P],D=[fc.get(w.name)],q=[P];ci.afg(w.items,D,q,K,u,g,X==null?null:X[P]==null?0:X[P])}var C=g6.W;
for(var P=0;P<C.length;P+=3){if(g.oM&&g.oM.indexOf(C[P+2])==-1)continue;K.push([["Tools",fc.get(C[P])],[-1,C[P+2]],C[P+1]])}this.e.appendChild(this.CI);
var a=this.NG;a.focus();a.select();this.Fc()};ci.prototype.ap0=function(u){this.dS=-1;this.Fc()};ci.prototype.Fc=function(){var u=this.NG.value.toLowerCase().trim().replace(/  +/g," "),g=this.ab4,K=[],X=[],w=u.split(" ");
if(u!="")for(var P=0;P<g.length;P++){var D=g[P][0],q=[],C=0;for(var a=0;a<D.length;a++)q[a]=-1;for(var x=0;
x<w.length;x++)for(var a=0;a<D.length;a++){var H=D[a].toLowerCase().indexOf(w[x]);if(H!=-1){q[a]=[H,H+w[x].length];
C++;break}}if(C==w.length){K.push(g[P]);X.push(q)}}var $=[],r=this.aks;b.Lh(r);for(var P=0;P<K.length;
P++){var c=K[P],U=c[0],H=X[P],O="enab",m="";if(P==this.dS)O+=" active";var A=b.V("div",O);$.push(A);
r.appendChild(A);for(var a=0;a<U.length;a++){var i=H[a],e=w[a],S=U[a];if(i!=-1)S=S.slice(0,i[0])+"<span style=\"color:black\">"+S.slice(i[0],i[1])+"</span>"+S.slice(i[1]);
m+=S;if(a<U.length-1)m+=" \uFE65 "}if(c[2]&&(typeof c[2]!="string"||c[2].length==1))m+=" <span style=\"border:1px solid; margin-left:16px; padding:1px 5px; border-radius:5px; background-color:#f4f4f4;\">"+hW.Fy(c[2])+"</span>";
A.innerHTML=m}this.el=[K,$]};ci.prototype.atB=function(u){var g=hW.zN,K=u.code;if(g(K,hW.m0))this.T_();
var X=g(K,hW.t$),w=g(K,hW.t_),D=g(K,hW.R0);if(X||w){this.dS=Math.max(0,Math.min(this.el[0].length-1,this.dS+(X?-1:1)));
this.Fc()}if(D&&this.dS!=-1)this.amg(this.dS)};ci.afg=function(u,g,K,X,w,D,q){if(typeof q=="number"){if(q==0)return;
if(q==1)q=null}for(var P=0;P<u.length;P++){if(q!=null&&(q[P]==0||q[P]==null))continue;var C=u[P],a=g.slice(0),x=K.slice(0),H=fc.get(C.name);
if(C.K){var $=C.K(w,D,P);if($.Vj)H=$.Vj;if($.K==!1)continue}a.push(H);x.push(P);if(C.sub)ci.afg(C.sub,a,x,X,w,D,q?q[P]:null);
else X.push([a,x,C.l9])}};ci.prototype.aaX=function(u){var g=u.target;if(g.tagName.toLowerCase()=="span")g=g.parentNode;
var K=this.el[1].indexOf(g);if(K!=-1)this.amg(K)};ci.prototype.amg=function(u){var g=this.el[0][u][1];
if(g[0]==-1){var K=new eG(h.E.Y,!0);K.data={d:h.s.LK,b:g[1]};this.c(K)}else{var X=dm.data[g[0]].CR[g[1]];
for(var P=2;P<g.length;P++)X=X.sub[g[P]];var w=new eG(X.T,!0);w.b=X.b;w.data=X.M;this.c(w)}this.T_()};
ci.prototype.rc=function(u,g){this.QM=u;this.xQ=g;this.aks.style["max-height"]=g-120+"px"};ci.prototype.ajx=function(u){var g=b.V("div","alertpanel");
g.textContent=fc.get(u);this.WP.appendChild(g);this.kX[JSON.stringify(u)]=g};ci.prototype.acY=function(u){var g=this.kX[JSON.stringify(u)];
this.WP.removeChild(g);delete this.kX[JSON.stringify(u)]};ci.prototype.aeF=function(u,g){var K=this.agz;
for(var P=0;P<K.children.length;P++)if(K.children[P].textContent==u)return;var X=b.V("div","alertpanel tpanel");
X.textContent=u;X.setAttribute("style","opacity:0.5; transform:scale(0.9)\t");K.appendChild(X);if(g==null)g=1500;
var w=g,D=Math.max(Date.now()+w,this.aqQ+w);setTimeout(function(){X.setAttribute("style","transform:scale(1); opacity:1;")},10);
setTimeout(function(){K.setAttribute("style","margin-top: -3.6em; transform: translateY(3.6em);")},D-Date.now()-30);
setTimeout(function(){K.removeChild(K.firstChild);K.setAttribute("style","transition: transform 0.7s;  margin-top: 1em;  transform: translateY(0em);")},D-Date.now());
this.aqQ=D};ci.prototype.am2=function(u){var g=this.TR;for(var P=g.length-1;P>=0;P--){var K=g[P],X=u.target;
while(X!=null){if(X==K.e){this.Gz(K);return}X=X.parentNode}}this.Gz();var w=u.target;while(w!=this.CI&&w!=document.body)w=w.parentNode;
if(w!=this.CI)this.T_()};ci.prototype.Gz=function(u){var g=this.TR;for(var P=0;P<g.length;P++){if(u&&u.alo(g[P]))continue;
var K=g[P].e;K.style.height="auto";b._n(K,"scrollable");this.e.removeChild(K);g.splice(P,1);P--}};ci.prototype.atj=function(u){this.Gz(u.qD);
var g=u.qD,K=g.e;if(this.TR.indexOf(g)!=-1)return;this.TR.push(g);this.e.appendChild(g.e);var X=this.QM,w=this.xQ,D=u.x,q=u.y,C=this.e.getBoundingClientRect(),a=g instanceof aT,x=-1,H=w-2;
if(a||u.wj){var $=g.sf(),r=g.a0Z();if(a)$=Math.min($,200);var c=X-$-2,U=w-r-2;if(q<U)x=2;else if(D<c)x=1;
else if(0<q-r-2)x=0;else x=3;if(u.agv)x=0;if(u.apT)x=2;if(x==2){D=Math.min(D,c)}else if(x==1){q=Math.min(q,U)}else if(x==0){q=q-r-2;
D=Math.min(D,c);H=u.y}else if(x==3){D=D-$-2;q=Math.min(q,U)}}q=Math.max(2,q);var top=Math.round(q-C.y+this.e.offsetTop);
K.style.position="absolute";K.style["z-index"]=10;if(q+g.a0Z()>H){K.style.height=H-q+"px";b.AD(K,"scrollable");
if(x==3)D-=10}K.style.left=Math.round(D)+"px";K.style.top=top+"px"};ci.prototype.agl=function(u){var g=u.qD,K=this.TR.indexOf(g);
if(K==-1)return;this.TR.splice(K,1);var X=g.e;this.e.removeChild(g.e)};ci.prototype.Re=function(){var u=this.TR;
return u.length==0?null:u[u.length-1]};ci.prototype.auf=function(){this.agl({qD:this.Re()})};function dc(){i6.call(this);
this.e=b.V("div","confbar")}dc.prototype=new i6;dc.prototype.abG=function(u){u.parent=this;b.Lh(this.e);
this.e.appendChild(u.e)};function gP(u){i6.call(this);gP.wx=u;this.nC=null;this.wI=b.V("input","");this.wI.setAttribute("type","file");
this.wI.setAttribute("multiple","");this.wI.addEventListener("change",function(g){this.JC(g.target.files,null,this.Kt,null);
this.Kt=null}.bind(this),!1);document.body.appendChild(this.wI);this.wI.setAttribute("style","display:none");
this.acv=[];this.iR=!1;this.a8R=[];this.TJ=!1;this.am0={};this.Kt=null}gP.prototype=new i6;gP.wx=null;
gP.zT=function(u){try{var g={};g[u.type]=u;navigator.clipboard.write([new ClipboardItem(g)])}catch(fc){console.error(fc,fc.message)}};
gP.qW=function(u,g){navigator.clipboard.read().then(function(K){for(var P=0;P<K.length;P++){try{var X=K[P],w={},D=0,q=0;
for(var C=0;C<X.types.length;C++){var a=X.types[C];D++;X.getType(a).then(function(x){var H=a;new Response(x).arrayBuffer().then(function($){w[this.rM]=$;
q++;if(q==D)gP.a7q(w,u,g)}.bind({rM:this.rM}))}.bind({rM:a}))}}catch(fc){console.error(fc,fc.message)}}}).catch(function(K){alert("Clipboard error: ("+K.message+")")})};
gP.acJ=function(u){navigator.permissions.query({name:"clipboard-read"}).then(function(g){u(g.state)})};
gP.a7q=function(u,g,K){var X=["text/plain","image/png","text/html","text/plain"];for(var w in u)console.log(w,w.startsWith("text")?k.KO(new Uint8Array(u[w])).slice(0,100)+"...":u[w]);
for(var D=0;D<X.length;D++){var q=X[D],C=u[q];if(C==null)continue;if(q=="image/png"){gP.wx({name:"image.png"},C,g,K);
return}if(q=="text/plain"){var a=k.KO(new Uint8Array(C));if(D==0)if(!a.startsWith("<!--")&&!a.startsWith("<svg"))continue;
var x=new eG(h.E.Y,!0);x.data={d:h.s.a1q,h:a};g.c(x);return}if(q=="text/html"){var a=k.KO(new Uint8Array(C)),H=a.indexOf("src=\"");
if(H!=-1&&a.slice(H+5,H+9)!="http"){var $=H+10;while(a[$]!="\"")$++;var r=a.slice(H+5,$);gP.wx({name:"chart.png"},eH.M9(r).buffer,g,K);
return}}}};gP.prototype.$K=function(u){if(u==null)u=[23,5];var g=JSON.stringify(u),K=this.am0;if(K[g]==null)K[g]=0;
if(K[g]==0){var X=new eG(h.E.Y,!0);X.data={d:h.s.fE,Yo:u};this.c(X)}K[g]++};gP.prototype.pR=function(u){if(u==null)u=[23,5];
var g=JSON.stringify(u),K=this.am0;if(K[g]==null)K[g]=0;K[g]--;if(K[g]==0){var X=new eG(h.E.Y,!0);X.data={d:h.s.Rf,Yo:u};
this.c(X)}};gP.prototype.asZ=function(u,g){this.Kt=u;var K=window.showOpenFilePicker;if(K&&window.self==window.top){var X=this;
K({multiple:!0}).then(function(q){var C=[];function a(x){C.push(x);if(C.length==q.length){X.JC(C,null,X.Kt,null,q);
X.Kt=null}else q[C.length].getFile().then(a)}q[C.length].getFile().then(a)});return}var w=this.wI;if(g)w.setAttribute("accept",g);
else w.removeAttribute("accept");var D=document.createEvent("MouseEvents");D.initMouseEvent("click",!0,!0,document.defaultView,1,0,0,0,0,!1,!1,!1,!1,0,null);
w.dispatchEvent(D)};gP.prototype.w4=function(u){if(u.url.indexOf("photopea.com#i")!=-1||u.url.indexOf("photopea.com/#i")!=-1){this.zt(u.url.split("#i").pop());
return}this.acv.push(u);this.avp()};gP.prototype.avp=function(){var u=this.acv;if(u.length==0||this.iR)return;
this.iR=!0;var g=u.shift();this.$K();if(g.oy==null)g.oy={};var K=new XMLHttpRequest;K.uZ=g;var X=g.url;
if(g.K8&&!X.startsWith("data:image"))X=(X);K.open("GET",X);if(g.dU)for(var w in g.dU)K.setRequestHeader(w,g.dU[w]);
K.responseType="arraybuffer";K.onload=this.a7z.bind(this);K.send()};gP.prototype.JC=function(u,g,K,X,w){for(var P=0;
P<u.length;P++){this.$K();var D=u[P],q=new FileReader;q.uZ=D;q.uZ.yU=K;q.uZ.PM=X;q.aiC=g;if(w)q.uZ.cp=w[P];
q.onload=this.a7z.bind(this);q.onerror=function(C){this.pR()}.bind(this);this.a8R.push([q,D])}this.wI.value=null;
this.aeW()};gP.prototype.aeW=function(){var u=this.a8R;if(u.length==0||this.TJ)return;this.TJ=!0;var g=u.shift();
g[0].readAsArrayBuffer(g[1])};gP.prototype.a3l=function(u,g,K){this.$K("Saving ...");this.nC=g;setTimeout(K.bind({CV:u,caller:this}),50)};
gP.Hh=function(u){var g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",K=new Uint8Array(u),X=K.length,w=X%3,D=X-w,q=[],C=0,a=0,x=0;
for(var P=0;P<D;P+=3){C=K[P];a=K[P+1];x=K[P+2];q.push(g[C>>2]+g[(C&3)<<4|a>>4]+g[(a&15)<<2|x>>6]+g[x&63])}if(w==1){C=K[D];
q.push(g[C>>2]+g[(C&3)<<4]+"==")}if(w==2){C=K[D];a=K[D+1];q.push(g[C>>2]+g[(C&3)<<4|a>>4]+g[(a&15)<<2]+"=")}var H=q.join("");
return H};gP.a16=function(u,g){var K="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",X=new Uint8Array(64),C=0,a=0,x=0,$=0;
for(var P=0;P<64;P++)X[P]=K.charCodeAt(P);var w=new Uint8Array(u),D=g%3,q=g-D,H=new Uint8Array(Math.floor(g/3)*4+(D==0?0:4));
for(var P=0;P<q;P+=3){C=w[P];a=w[P+1];x=w[P+2];H[$]=X[C>>>2];H[$+1]=X[(C&3)<<4|a>>>4];H[$+2]=X[(a&15)<<2|x>>>6];
H[$+3]=X[x&63];$+=4}if(D==1){C=w[q];H[$]=X[C>>2];H[$+1]=X[(C&3)<<4];H[$+2]=61;H[$+3]=61}if(D==2){C=w[q];
a=w[q+1];H[$]=X[C>>2];H[$+1]=X[(C&3)<<4|a>>4];H[$+2]=X[(a&15)<<2];H[$+3]=61}return H};gP.prototype.a7z=function(u){var g,K=u.target.uZ;
if(u.target instanceof XMLHttpRequest)g=u.target.response;else g=u.target.result;gP.wx(K,g,this,u.target.aiC);
this.pR();if(u.target instanceof XMLHttpRequest){this.iR=!1;this.avp()}else{this.TJ=!1;this.aeW()}};
gP.af7=function(u,g){var K=new XMLHttpRequest;K.open("POST","https://api.imgur.com/3/image",!0);K.BZ=g;
K.setRequestHeader("Authorization","Client-ID 3ad80d2d9969219");K.setRequestHeader("Content-type","application/x-www-form-urlencoded");
K.setRequestHeader("Accept","application/json");K.addEventListener("load",gP.a8g);K.send("type=base64&image="+encodeURIComponent(gP.Hh(u)));
alert("Saving to Imgur ...",4e3)};gP.a8g=function(u){var g=JSON.parse(u.target.response);if(g.success){if(u.target.BZ)u.target.BZ(g.data.link);
else window.open(g.data.link,"Imgur")}};gP.prototype.zt=function(u,g){this.$K();var K=new XMLHttpRequest;
K.responseType="arraybuffer";K.open("GET","https://f000.backblazeb2.com/file/psdshared/"+u);K.onload=this.a1M.bind(this);
K.send();gP.aeD=Date.now();gP.aoi=u;gP.ah8=g?u:null};gP.prototype.a1M=function(u){var g=new Uint8Array(u.target.response);
console.log(g.length,Date.now()-gP.aeD);for(var P=0;P<g.length;P++)g[P]=255-g[P];g=pako.inflateRaw(g);
var K=JSON.parse(k.KO(g,0,2e3));gP.wx({name:K.name,jJ:gP.ah8},g.slice(2e3).buffer,this);this.pR();var X=new XMLHttpRequest;
X.open("GET","/papi/img/update.php?act=0&id="+gP.aoi+"&rnd="+Math.random());X.send()};gP.prototype.a4C=function(u,g,K){if(!(u instanceof ArrayBuffer))throw"e";
u=new Uint8Array(u);var X=new Uint8Array(u.length+2e3),$="";for(var P=0;P<2e3;P++)X[P]=32;k.i5(JSON.stringify({name:g}),X,0);
X.set(u,2e3);u=X;u=pako.deflateRaw(u);for(var P=0;P<u.length;P++)u[P]=255-u[P];u=u.buffer;var w=u.byteLength,D=bF.pc(w),q=~~(609e5/2),C=~~(209e5/2);
if(w>q){confirm("Your file is "+D+". Our limit is "+bF.pc(q)+". Delete some layers and try again.");
return}if(w>C){var a=confirm("Your file is quite large ("+D+"). Opening it will take a lot of time. Do you still want to proceed?");
if(!a)return}var x=sha1(u),H=[];for(var P=0;P<20;P++){var r=parseInt(x.slice(P*2,P*2+2),16);H.push(r);
$+=String.fromCharCode(r)}var c=btoa($).replace(/\+/g,"-").replace(/\//g,"_").slice(0,8);if(gP.as_(c)){console.log("file already exists");
if(K)K("https://www.photopea.com#i"+c);else window.open("https://www.photopea.com#i"+c);return}this.$K("Publishing ...");
var U=new XMLHttpRequest;U.oe=[u,x,c,K];U.open("GET","/papi/img/publish.php?rnd="+Math.random()+"&id="+c+"&size="+w);
U.onload=this.a39.bind(this);U.send()};gP.as_=function(u){try{var g=new XMLHttpRequest;g.open("HEAD","https://f000.backblazeb2.com/file/psdshared/"+u,!1);
g.send();if(g.status==200)return!0}catch(fc){return!1}return!1};gP.prototype.a39=function(u){console.log(u.target.response);
var g=JSON.parse(u.target.response),K=u.target.oe,X=new XMLHttpRequest;X.open("POST",g.uploadUrl);X.setRequestHeader("Authorization",g.authorizationToken);
X.setRequestHeader("X-Bz-File-Name",K[2]);X.setRequestHeader("Content-Type","b2/x-auto");X.setRequestHeader("X-Bz-Content-Sha1",K[1]);
X.send(new Blob([K[0]]));X.onload=this.a2h.bind({Rz:this,oe:K})};gP.prototype.a2h=function(u){this.Rz.pR("Publishing ...");
if(this.oe[3])this.oe[3]("https://www.photopea.com#i"+this.oe[2]);else window.open("https://www.photopea.com#i"+this.oe[2]);
var g=new XMLHttpRequest;g.open("GET","/papi/img/update.php?act=2&id="+this.oe[2]+"&fileId="+JSON.parse(u.target.response).fileId+"&rnd="+Math.random());
g.send()};gP.save=function(u,g){var K=new Uint8Array(u),X=document.createElement("a");if(typeof X.download=="string"){var w=new Blob([K]),D=window.URL.createObjectURL(w);
X.href=D;X.download=g;document.body.appendChild(X);X.click();document.body.removeChild(X)}else{var q="data:application/octet-stream;base64,"+gP.Hh(u);
window.open(q)}};function jx(){this.size=16;this.data=f.L(16)}jx.prototype._s=function(u,g){if(u+g<=this.size)return;
var K=this.size;while(u+g>this.size)this.size*=2;var X=f.L(this.size);for(var P=0;P<K;P++)X[P]=this.data[P];
this.data=X};var hw={};hw.mq=function(u,g,K){var X=g.split(":"),w=X[0],D=null;if(X.length==2){if(w=="jpg")D=[Math.round(100*parseFloat(X[1]))];
if(w=="webp")D=[Math.round(100*parseFloat(X[1])),100,0,!1,!1];if(w=="psd")D=[!0,!0];if(w=="svg")D=X[1].split(",").map(function(C){return C=="true"})}var q=eH.rs(u,w.toUpperCase(),null,null,D,K);
return q};hw.anZ=function(u,g,K){var X=u.KS(),w=g[0];return hw.mq(u,w,K)};hw.agp=function(){var u=this.CV,g=this.caller,K=u.oy.YY,X=K.formats,w,D;
u.KS();var q=Date.now();if(K.version==1){var C=[],a=0,H=0;for(var P=0;P<X.length;P++){var x=hw.mq(u,X[P],g.nC);
C.push(x);a+=x.byteLength}w=new Uint8Array(2e3+a);var $="{ \"source\": "+JSON.stringify(u.FN)+", \"versions\": [\n";
for(var P=0;P<X.length;P++){var r=new Uint8Array(C[P]);$+="\t{\"format\": \""+X[P].split(":")[0]+"\", \"start\": "+H+", \"size\": "+r.length+" }"+(P+1<X.length?", ":"")+"\n";
w.set(r,2e3+H);H+=C[P].byteLength}$+="] }";var c=k.i5($,w,0);for(var P=c;P<2e3;P++)w[P]=32;D="application/octet-stream"}else{var U=new jx,O=0,A="",m=encodeURIComponent;
A="p="+m("{ \"source\": "+JSON.stringify(u.FN)+", \"versions\": [");k.Xp(U,O,A);O+=A.length;for(var P=0;
P<X.length;P++){A=m(" {\"format\": \""+X[P].split(":")[0]+"\", \"data\": \"");k.Xp(U,O,A);O+=A.length;
var x=hw.mq(u,X[P],g.nC),i=gP.a16(x,x.byteLength),c=i.length;U._s(O,c);for(var e=0;e<c;e++){U._s(O,3);
var S=i[e];if(S==43){U.data[O]=37;U.data[O+1]=50;U.data[O+2]=66;O+=3}else if(S==47){U.data[O]=37;U.data[O+1]=50;
U.data[O+2]=70;O+=3}else if(S==61){U.data[O]=37;U.data[O+1]=51;U.data[O+2]=68;O+=3}else{U.data[O]=S;
O++}}A=m("\" }"+(P+1<X.length?", ":""));k.Xp(U,O,A);O+=A.length}A=m("] }");k.Xp(U,O,A);O+=A.length;w=U.data.slice(0,O);
D="application/x-www-form-urlencoded"}var E=new XMLHttpRequest;E.open("POST",K.url,!0);if(D)E.setRequestHeader("Content-Type",D);
E.addEventListener("load",hw.amp.bind(this));E.send(new Blob([w.buffer]))};hw.amp=function(u){this.caller.pR("Saving ...");
var g=u.target.response;if(g.charAt(0)=="{"){g=JSON.parse(g);if(g.newSource)this.CV.FN=g.newSource;if(g.message)alert(g.message,2e3);
if(g.script){var K=new eG(h.E.Y,!0);K.data={d:h.s.Tw,h1:g.script};this.caller.c(K)}}else alert("Saved. Response: "+g,1500)};
hw.ag5=function(u){var g=u.Xd,K=g[1].split(".").pop(),X=hw.mq(u,K),w=Storage.uj(g[0]);w.a0s(g[1],X)};
hw.ajv=function(u,g){var K=u.ge.iA;if(g==null)g=hw.mq(u,K);gA.h4(function(){var X=new XMLHttpRequest,w="https://www.googleapis.com/upload/drive/v3/files/"+u.ge.file.id+"?uploadType=media"+"&"+gA.tn();
X.open("PATCH",w,!0);X.addEventListener("load",function(D){var q=JSON.parse(D.target.response);alert(q.name+" updated")});
X.send(g);alert("Saving \""+u.ge.file.name+"\" to Google Drive ...")})};hw.wx=function(u,g,K,X){if(window.location.href.indexOf("photopea.com")==-1||window.top!=window.self)hw.anJ(u,g,K,X);
else{try{hw.anJ(u,g,K,X)}catch(fc){if(fc=="low_ram"){}else{var w="Error. Please, send your file to support@photopea.com and we will solve it.";
if(eH.jN(g)=="eps")w="We support only basic EPS files. Convert your file into PDF (with an online converter) and open the PDF in Photopea.";
alert(w,1e4)}}}};hw.anJ=function(u,g,K,X){var w;if(u.name){var D=u.name.lastIndexOf(".");w=D==-1?D:u.name.slice(0,D)}else{if(u.url.substring(0,5)=="data:"||u.url.indexOf("googleapis")!=-1)w="image";
else w=u.url.substring(u.url.lastIndexOf("/")+1).split(".")[0];w=w.slice(0,50)}var q=u.name?u.name:u.url,C=new Uint8Array(g),a=eH.jN(g),x=window.ga;
if(Math.random()<.25&&x&&a!=null&&eH.IB(a))x("send","event","Formats",a);if(a==null)a=k.u6(C,0,4);if(q&&q.toLowerCase().endsWith(".raw")){var H=new eG(h.E.Y,!0);
H.data={d:h.s.KP,Pu:"importraw",kt:g,$V:q.split("/").pop()};K.c(H);return}else if(a=="json"){var $="";
for(var P=0;P<C.length;P++)$+=String.fromCharCode(C[P]);$=decodeURIComponent(escape($));alert("Unknown JSON file opened. See the content in the console.",5e3);
console.log(JSON.parse($));return}if(a=="html"){var $=k.KO(C,0,C.length),r=new DOMParser,c=r.parseFromString($,"text/html"),U=c.getElementsByTagName("meta");
for(var P=0;P<U.length;P++){var O=U[P],A=O.getAttribute("property"),m=O.getAttribute("content"),i=null;
if(A=="og:image")i=m;if(A==null&&m&&m.startsWith("0;url=/imgres?")){var e=m.slice(14).split("&");for(var S=0;
S<e.length;S++)if(e[S].startsWith("imgurl"))i=decodeURIComponent(e[S].slice(7))}if(i==null)continue;
var H=new eG(h.E.Y,!0);H.data={d:h.s.Xc,M3:{url:i,K8:!0,yU:u.yU}};K.c(H)}return}if(eH.IB(a)){var E,Z,N=eH.IB(a);
if(u.yU!=null&&"jpg png gif pdf svg psd".split(" ").indexOf(a)!=-1){var H=new eG(h.E.Y,!0);H.data={d:h.s.es,target:u.yU,QQ:u.PM,UJ:g,OT:w};
K.c(H);return}var J=[w,N,a,u,K,X,g];if(N.eE){E=new f0(w+(a=="psd"?"":"-"+a)+".psd");N.Tu(g,E,hw.OM,J)}else{Z=N.Tu(g,null,hw.OM,J,K)}if(N.cv!=!0)hw.OM(E,Z,J);
else K.$K();return}var y=new eG(h.E.Y,!0);y.data={d:h.s.Xs,kt:g,r_:u.name};var B=u instanceof File&&u.adl!=!0,H=new eG(h.E.Y,!0);
H.data={d:h.s.zS,oy:"add",M3:null,J$:null,a5m:u.adl};if(a=="zip"){var t=Date.now(),W=UZIP.parse(g),F="xml rels plist iwa db ds_store txt rtf".split(" ");
for(var G in W){var L=!1;for(var P=0;P<F.length;P++)if(G.toLowerCase().endsWith("."+F[P]))L=!0;if(G.startsWith("__MACOSX/")||W[G].length==0)L=!0;
if(L)continue;var Q=G.split("/").pop();hw.wx({name:Q},W[G].buffer,K,X)}}else if(a=="jsx"||q&&q.toLowerCase().endsWith(".jsx")){var $=k.KO(new Uint8Array(g));
H.data={d:h.s.Tw,h1:$};K.c(H)}else if(a=="otf"){if(B)K.c(y);var T=Typr.parse(g);H.data.M3=hO.em;for(var P=0;
P<T.length;P++){H.data.J$=T[P];K.c(H)}}else if(a=="asl"){if(B)K.c(y);var T=jk.h7(g);H.data.M3=hO.WO;
H.data.J$=T._0;K.c(H);H.data.M3=hO.vO;H.data.J$=T.Ui;K.c(H)}else if(a=="tpl"){if(B)K.c(y);var T=eN.h7(g);
H.data.M3=hO.ei;H.data.J$={Ft:T.Ft,oY:T.oY,list:[]};K.c(H);if(T.at2.length!=0){H.data.M3=hO.X4;H.data.J$=T.at2;
K.c(H)}if(T.Ui.length!=0){H.data.M3=hO.vO;H.data.J$=T.Ui;K.c(H)}H.data.M3=hO.hJ;H.data.J$=T.list;K.c(H)}else{var j="";
for(var p in hO.$$)if(hO.$$[p][0]==a)j=p;if(j!=""){if(B)K.c(y);H.data.J$=hO.$$[j][2].h7(g,q);H.data.M3=j;
K.c(H)}else alert("Unknown file format: "+JSON.stringify(a))}};hw.OM=function(u,g,K){var X=K[0],w=K[1],D=K[2],q=K[3],C=K[4],a=K[5],x=K[6];
if(w.cv)C.pR();if(!w.eE){if(g.length==0)return;if(g[0].t33421||g[0].t50706){f.raw.normalize(g[0],x);
console.log(g[0]);var H=new eG(h.E.Y,!0);H.data={d:h.s.KP,Pu:"rawpea",Wf:g[0]};C.c(H);return}if(a){a(new Uint8Array(g[0].data),g[0].ZE);
return}u=eH.hq(X,g)}u.jJ=q.jJ;u.Ar=D;u.oy=q.oy;u.FN=q.url;u.Ke=q.Ke;u.ge=q.ge;u.cp=q.cp;u.Xd=q.Xd;if(u.ge)u.ge.iA=D;
if(u.g.length!=0){var H=new eG(h.E.Y,!0);H.data={d:q.yU==null?h.s._1:h.s.es,target:q.yU,QQ:q.PM,UJ:u};
C.c(H)}};function ji(u){i6.call(this);this.FW=ji.FW++;this.IQ=u;this.a3L=this.a5C.bind(this);this.a1Z=this.a7Y.bind(this);
this.aky=this.z5.bind(this);this.av3=this.abP.bind(this);this.a6g=this.a5d.bind(this);this.au2=this.aul.bind(this);
this.qa=0;this.at7=0;this.a3o=0;this.e=b.V("div","panelblock");this.Po=b.V("div","block");this.tz=b.V("div","collapsed");
this.e.appendChild(this.Po);this.pB=-1;this.IF=!0;this.Km=b.V("div","panelhead");this.Po.appendChild(this.Km);
this.PG(this.Km);this.uS=new dM("\u2261");this.uS.e.setAttribute("style","position:absolute; right:0;");
this.uS.f("click",this.amT,this);this.Og=b.V("div","body");this.Po.appendChild(this.Og);this.uf=[];this.sE=null;
this.UX=null}ji.FW=0;ji.prototype=new i6;ji.prototype.amT=function(u){var g=this.uf[this.pB].MB(),K=u.currentTarget.e.getBoundingClientRect();
g.N();g.update();g.parent=this;var X=new eG(h.E.Y,!0);X.data={d:h.s.dC,qD:g,x:K.left,y:K.top+K.height+2};
this.c(X)};ji.prototype.ZP=function(u){var g=this.Po,K=this.Km,X=this.Og;if(b.tV(K))g.removeChild(K);
if(b.tV(X))g.removeChild(X);if(u==0)g.appendChild(K);g.appendChild(X);this.a3o=u};ji.oE=function(u){u.stopPropagation();
u.preventDefault()};ji.prototype.a5C=function(u){var g=u.dataTransfer.types;if(g[1]!=null&&g[1]!=this.FW+"")return;
ji.oE(u);var eJ=u.currentTarget;if(u.target==eJ)b.AD(eJ,"highlight")};ji.prototype.a7Y=function(u){ji.oE(u);
var eJ=u.currentTarget;if(u.target==eJ)b._n(eJ,"highlight")};ji.prototype.PG=function(u){u.addEventListener("dragenter",this.a3L,!1);
u.addEventListener("dragleave",this.a1Z,!1);u.addEventListener("dragover",ji.oE,!1);u.addEventListener("drop",this.aky,!1);
u.addEventListener("dragstart",function(g){g.dataTransfer.setData("Text","--panel");g.dataTransfer.setData(this.FW+"","")}.bind(this),!1)};
ji.prototype.z5=function(u){this.a1Z(u);var g=null,eJ=u.currentTarget,K=this.aeg(eJ);if(eJ==this.Og&&this.pB!=-1)g=this.pB;
else if(eJ==this.Km)g=null;else if(K!=-1)g=K;var X=u.dataTransfer.getData("Text");if(X==""||X.startsWith("http"))b.fv(u,this,g);
else if(X=="--panel"){var w=b.Y2(u,eJ),D=this.uf,q=D.slice(0),P=this.pB,C=K==-1?D.length:w.x<eJ.getBoundingClientRect().width/2?K:K+1;
if(P==C||P+1==C||eJ==this.Og)return;var a=P<C?C-1:C,x=D[P];D.splice(P,1);D.splice(a,0,x);b.Lh(this.Km);
for(var H=0;H<D.length;H++)this.Km.appendChild(D[H].SA);this.r6(a);var $=[];for(var P=0;P<D.length;P++)$[P]=q.indexOf(D[P]);
var r=new eG("shuffleItems",!1);r.data={ajU:$};this.c(r)}else if(g!=null&&this instanceof eQ){var r=new eG(h.E.Y,!0);
r.data={d:h.s.auN,asn:g};this.c(r)}};ji.prototype.Cn=function(){return null};ji.prototype.anV=function(){if(this.Cn()){this.Km.style.padding="0px";
this.UX=this.Cn();this.Og.appendChild(this.UX);this.S8.Tm(!1);var u=new eG(h.E.Y,!0);u.data={d:h.s.Qe,h:1};
this.c(u)}};ji.prototype.a2_=function(){if(this.UX){this.Km.style.padding="";this.Og.removeChild(this.UX);
this.UX=null;this.S8.Tm(!0);var u=new eG(h.E.Y,!0);u.data={d:h.s.Qe,h:0};this.c(u)}};ji.prototype.aeg=function(u){var g=this.uf;
for(var P=0;P<g.length;P++)if(g[P].SA==u)return P;return-1};ji.prototype.yy=function(){for(var P=0;P<this.uf.length;
P++)this.uf[P].Qy.Cl()};ji.prototype.bu=function(){return this.pB};ji.prototype.Lb=function(){if(this.IF)return;
this.IF=!0;this.e.removeChild(this.tz);this.e.appendChild(this.Po)};ji.prototype.collapse=function(){if(!this.IF)return;
this.IF=!1;this.e.appendChild(this.tz);this.e.removeChild(this.Po)};ji.prototype.a4p=function(){return 28+this.Og.getBoundingClientRect().height};
ji.prototype.rc=function(u,g){this.Km.style.maxWidth=u+"px";var K=0;if(this.a3o==0){K=this.Km.getBoundingClientRect().height;
K=Math.max(K,28)}if(this.pB!=-1)this.uf[this.pB].rc(u,g-K);return g-K};ji.prototype.xY=function(u,g){if(this.pB!=-1)this.uf[this.pB].xY(u,g)};
ji.prototype.AF=function(u,g,K){this.uf[this.pB].AF(u,g,K)};ji.prototype.tf=function(u){this.a2_();if(this.uf.indexOf(u)!=-1){this.r6(this.uf.indexOf(u));
return}u.parent=this;this.uf.push(u);this.Km.appendChild(u.SA);u.SA.addEventListener("mouseover",this.av3,!1);
this.PG(u.SA);this.tz.appendChild(u.Qy.e);u.Qy.f("click",this.ami,this);u.f("select",this.a9n,this);
u.f(h.E.VM,this.a4X,this);this.r6(this.uf.length-1)};ji.prototype.abP=function(u){if(u.buttons==0)return;
var g=u.currentTarget,K=g,P=0;while((K=K.previousSibling)!=null)P++;this.at7=P;g.addEventListener("mouseout",this.a6g,!1);
this.qa=setTimeout(this.au2,700)};ji.prototype.a5d=function(u){var g=u.currentTarget,K=g,P=0;while((K=K.previousSibling)!=null)P++;
g.removeEventListener("mouseout",this.a6g);clearTimeout(this.qa)};ji.prototype.aul=function(u){this.c(new eG(h.E.a8n,!1))};
ji.prototype.a8w=function(u){return this.at7};ji.prototype.VS=function(P){var u=new eG(h.E.VM,!1);u.data={aR:P};
this.c(u);var g=this.uf[P];this.uf.splice(P,1);this.Km.removeChild(g.SA);this.tz.removeChild(g.Qy.e);
g.SA.setAttribute("class","");g.Qy.removeEventListener("click",this.ami,this);g.Qy.Cl();g.removeEventListener("activate",this.a9n);
g.removeEventListener(h.E.VM,this.a4X);var K=this.pB;if(P<K)K--;else if(P==K&&P==this.uf.length)K--;
this.r6(K);if(this.uf.length==0)this.anV()};ji.prototype.a9c=function(){return this.uf.length};ji.prototype.Et=function(){if(this.uf.length!=0)this.uf[this.pB].Et()};
ji.prototype.r6=function(u,g){if(g==null)g=!0;for(var P=0;P<this.uf.length;P++)this.uf[P].SA.setAttribute("class","");
if(this.sE)this.Og.removeChild(this.sE);this.sE=null;this.pB=u;if(u==-1)return;var K=this.uf[this.pB];
this.sE=K.Iw;this.Og.appendChild(K.Iw);K.SA.setAttribute("class","active");if(!this.IF){this.c(new eG("showFloat"));
this.uf[u].Qy.Vn()}if(g)this.c(new eG(h.E.o,!1));K.t2();var X=this.uS.e;if(X.parentNode)this.Km.removeChild(X);
if(K.MB())this.Km.appendChild(X);var w=new eG(h.E.Y,!0);w.data={d:h.s.jR};this.c(w)};ji.prototype.a9n=function(u){if(this.IQ&&!this.IQ.axt())return;
var P=this.uf.indexOf(u.currentTarget);this.r6(P)};ji.prototype.a4X=function(u){if(this.IQ&&!this.IQ.axt())return;
var P=this.uf.indexOf(u.currentTarget);this.VS(P)};ji.prototype.ami=function(u){var g=this.uf.indexOf(u.currentTarget.parent);
if(this.uf[g].Qy.dc())this.c(new eG("hideFloat"));else this.r6(g)};ji.prototype.a7o=function(u){this.c(u)};
function eQ(u){ji.call(this,u);this.QM=0;this.xQ=0;b.Uo(this.Km,this.am3.bind(this));this.S1=0;this.a8E=this.awW.bind(this);
this.PG(this.Og);this._E=["default;"];this.S8=new b.sP(this.Og);this.V1=new aN(!0);this.V1.parent=this;
this.MX=this.V1.e;aN.cS(this.V1)}eQ.prototype=new ji;eQ.prototype.am3=function(u){if(u.target!=this.Km)return;
var g=this.S1;this.S1=Date.now();if(Date.now()-g>300)return;var K=new eG(h.E.Y,!0);K.data={d:h.s.KP,Pu:"newproject"};
this.c(K)};eQ.prototype.tW=function(u,g){if(g)this._E.push(u);else{var K=this._E.length-1;if(this._E[K]==u)return;
this._E[K]=u}this.kQ()};eQ.prototype.ark=function(){this._E.pop();this.kQ()};eQ.prototype.kQ=function(){var u=this._E[this._E.length-1];
this.S8.AF(u,this.j9)};eQ.prototype.xY=function(u,g){ji.prototype.xY.call(this,u,g);this.V1.xY(u,g);
if(!u.NS){}};eQ.prototype.N=function(){ji.prototype.N.call(this);this.V1.N()};eQ.prototype.AF=function(u,g){for(var P=0;
P<g.length;P++){var K=g[P];this.uf[P].Wl(K.name+(K.oG()?" *":""))}ji.prototype.AF.call(this,u,g)};eQ.prototype.Cn=function(){return this.MX};
eQ.prototype.rc=function(u,g){if(this.uf.length==0)g+=28;g-=2;this.QM=u;this.xQ=g;g=ji.prototype.rc.call(this,u,g);
this.j9="height:"+g+"px; width:"+u+"px; overflow:hidden; position:relative;";this.kQ();this.V1.rc(u,g)};
eQ.prototype.tf=function(u){ji.prototype.tf.call(this,u);u.SA.addEventListener("click",this.a8E,!1)};
eQ.prototype.VS=function(P){var u=this.uf[P];b.$u(u.SA,this.a8E);ji.prototype.VS.call(this,P)};eQ.prototype.awW=function(u){var g=this.S1;
this.S1=Date.now();if(Date.now()-g>300)return;var K=this.aeg(u.currentTarget),X=this.uf[K].UJ.name,w=new eG(h.E.Y,!0),D={T:h.E.l,b:R.QA,M:{d:l.BC}};
w.data={d:h.s.KP,Pu:"namewindow",gY:X.slice(0,X.length-4),Nv:D};this.c(w)};function h8(u){i6.call(this);
if(u)return;hn.aqb(1);this.e=b.V("div","flexrow app");this.bp=b.V("div");this.e.appendChild(this.bp);
setTimeout(function(){var K=window.hideCap;if(K)K()},25e3);this.Pv=new hW;window.addEventListener("blur",function(K){this.Pv.reset()}.bind(this),!1);
window.addEventListener("resize",this.OD.bind(this),!1);var g=this.bp;this.tc=new h0;this.tc.parent=this;
g.appendChild(this.tc.e);this.IP=new ci;this.IP.parent=this;g.appendChild(this.IP.e);this.MU=new aK(!0);
this.MU.parent=this;g.appendChild(this.MU.e);this.f(h.E.Y,this.S9,this);this.Sf=this.eS.bind(this);window.requestAnimationFrame(this.Sf)}h8.prototype=new i6;
h8.prototype.eS=function(u){this.mF();window.requestAnimationFrame(this.Sf)};h8.prototype.N=function(){};
h8.prototype.OD=function(u){var g=window.innerWidth,K=window.innerHeight;this.rc(g,K)};h8.prototype.rc=function(u,g){this.IP.rc(u,g);
this.tc.rc(u,g)};h8.prototype.S9=function(u){var g=u.data.d;if(g==h.s.dC)this.IP.atj(u.data);if(g==h.s.WB)this.IP.agl(u.data);
if(g==h.s.fE)this.IP.ajx(u.data.Yo);if(g==h.s.Rf)this.IP.acY(u.data.Yo);if(g==h.s.et)this.IP.Gz()};function ei(){h8.call(this);
this.Kj={x:0,y:0,HT:!1};this.xP=!1;this.DY=!1;this.vW=null;this.aa_=0;this.auL=!1;this.w$=0;window.onmessage=function(A){if(Storage.ajz(A.source))return;
if(A.data instanceof ArrayBuffer){var m=eH.jN(A.data),i=eH.IB(m);gP.wx({url:"file"},A.data,this);if(i==null)this.Ed()}else if(A.data instanceof Object||A.data.startsWith("{")||A.data.startsWith("amp-")||A.data.startsWith("0=goog")||A.data.startsWith("3PCoo")){}else if(A.data.startsWith("--ot ")){this.tc.Re().close();
this.TZ.zt(A.data.split(" ").pop(),!0)}else{var e=new eG(h.E.Y,!0);e.data={d:h.s.Tw,h1:A.data};this.c(e);
this.Ed()}}.bind(this);window.onunload=window.onbeforeunload=function(A){for(var P=0;P<this.BE.length;
P++)if(this.BE[P].oG())return this.BE[P].name}.bind(this);window.setInterval(function(){var A=this.MA();
if(A==null)return;var m=(Date.now()-A.Lq)/6e4;if(this.Li.HL==1&&A.YQ!=A.BB&&m>60){var i="You haven't saved your work ("+A.name+") for "+Math.round(m)+" minutes. Would you like to save it now? "+"You can disable this message in Edit > Preferences.",e=new eG(h.E.Y);
e.data={d:h.s.KP,Pu:"confirm"};e.data.h=i;e.data.r5=function(){var e=new eG(h.E.Y);e.data={d:h.s.Jl};
this.c(e)}.bind(this);this.c(e)}}.bind(this),30*60*1e3);var u=this,C="",a="";if(window.indexedDB&&(!a6.MT()||document.hasStorageAccess==null)){var g={_s:window.indexedDB.open("pp",1)};
g._s.onupgradeneeded=function(A){var m=A.target.result,i=m.createObjectStore("rsrc",{keyPath:"k"})};
g._s.onsuccess=function(A){var m=u.Li.dH.mN=A.target.result,i=m.transaction(["rsrc"],"readwrite").objectStore("rsrc"),e=i.get("fs0");
e.onsuccess=function(A){if(A.target.result){var S=u.Li.dH.rF=A.target.result.fset;for(var E in S){if(!E.endsWith(".jsx"))gP.wx({url:E,adl:!0},S[E],u)}}}}}var K=["rwx~#.-(;.]6EF","rx'|#1,6><@87f?NO"],X=b.md[dn.Ef][dn.Rv];
for(var P=0;P<K.length;P++){var w=b.Zw(K[P]);if(X.indexOf(w)!=-1){var D=b.md[dn.Ef][dn.Og],q=b.Zw("M|H:15=3/iQ6EEKQ{\\PTbV/Y[`kjxx\"}vOz( %0b1=?HcMFZH zy#Wby9Sti'~uu3{}&428H-Cm7Ji{X[^w=Xbjhldc3kz{MC K[");
b.Lh(D);D[dn.a1m]=q;return}}this.W={aiN:[{b:R.d0,_R:!1,l9:[hW.apL,hW.hE]},{b:R.JN,_R:!1,l9:[hW.hE]},{b:R.m8,_R:!0,l9:[hW.A5],f7:[R.Y3]},{b:R.Y3,_R:!0,l9:[hW.A5],f7:[R.m8]},{b:R.Td,_R:!0,l9:[hW.A5],f7:[R.AP,R.kg,R.$l]},{b:R.AP,_R:!0,l9:[hW.A5],f7:[R.Td,R.Zl,R.vk,R.iC,R.se,R.fC]},{b:R.Hx,_R:!0,l9:[hW.A5]}],sC:[[{b:new R.NP,YV:cU},{b:new R.x0,YV:cp}],[{b:new R.Pn,YV:jJ},{b:new R.RE,YV:a9}],[{b:new R.Fn,YV:dT},{b:new R.O_,YV:e9},{b:new R.NZ,YV:fG}],[{b:new R.li,YV:jB},{b:new R.tv,YV:ih},{b:new R.kG,YV:e2}],[{b:new R.axa,YV:jN},{b:new R.axs,YV:dD},{b:new R.gC,YV:jQ},{b:new R.b5,YV:h4}],[{b:new R.U2,YV:gB},{b:new R.bR,YV:j3}],[{b:new R.Wv,YV:bR},{b:new R.EJ,YV:kj},{b:new R.aj,YV:hh},{b:new R.aq7,YV:hF},{b:new R.jX,YV:g7}],[{b:new R.OL,YV:eh},{b:new R.W0,YV:e3},{b:new R.VJ,YV:gv}],[{b:new R.Su,YV:jK}],[{b:new R.J2,YV:fI},{b:new R.ph,YV:iJ}],[{b:new R.xR,YV:bS},{b:new R.uJ,YV:gO}],[{b:new R.at,YV:kg},{b:new R.xf,YV:fA},{b:new R.CC,YV:hv}],[{b:new R.Ad,YV:ao},{b:new R.x$,YV:f6},{b:new R.O8,YV:ja}],[{b:new R.bE,YV:ij},{b:new R.afR,YV:ij}],[{b:new R.qQ(0),YV:e0},{b:new R._N,YV:hV},{b:new R.qQ(1),YV:e0}],[{b:new R.aQ,YV:cb},{b:new R.Hv,YV:gb}],[{b:new R.Rect,YV:dB},{b:new R.tj,YV:d4},{b:new R.L7,YV:fQ},{b:new R.YX,YV:ii},{b:new R.M5,YV:ag}],[{b:new R.Rr,YV:js},{b:new R.OC,YV:iX}],[{b:new R.Pd,YV:iD}]],Qk:[],keys:[hW.E6,hW.Qs,hW.CU,hW.pD,hW.JR,hW.ym,hW.VQ,hW.G8,hW.Fj,hW.E,hW.u_,null,hW.qk,hW.gJ,hW.eo,hW.s,hW.Pw,hW.y7,hW.QN],PO:[{b:new R.adz,YV:b7},{b:new R.a2a,YV:i9},{b:new R.atC,YV:iI},{b:new R.U2(!0),YV:gB},{b:new R.wX,YV:en}],S6:[{b:new R.aD},{b:new R.History},{b:new R.ha},{b:new R.hn},{b:new R.st},{b:new R.$j}],map:{},DO:null,L$:null,s1:null};
for(var P=0;P<this.W.sC.length;P++){var x=this.W.sC[P];if(x=="---")continue;var H=this.W.keys[P];for(var $=0;
$<x.length;$++){this.W.map[x[$].b.id]=x[$];x[$].iH=P;x[$].al3=$;var r=fc.get(x[$].b.name);a+="<li>"+x[$].b.id+": "+r+"</li>";
C+="\t"+JSON.stringify(x[$].b.name)+", "+(H?"\""+H.K2+"\"":"null")+", "+x[$].b.id+", // "+r+"\n"}this.W.Qk[P]=0}for(var P=0;
P<this.W.PO.length;P++)this.W.map[this.W.PO[P].b.id]=this.W.PO[P];for(var P=0;P<this.W.S6.length;P++)this.W.map[this.W.S6[P].b.id]=this.W.S6[P];
this.Li={ala:!1,Wp:null,Rg:0,d3:{oY:[],Ft:[],list:[],T1:null},b$:[],aft:[],N3:[],UH:[],u7:[],a1z:[],arI:[],aew:[],uV:[jr.mt()],qw:[],oI:[],jx:null,_B:0,Bl:{lB:1,Gu:JSON.parse(JSON.stringify(k8.DL[0]))},kd:JSON.parse(JSON.stringify(k8.Sq.default)),aaH:[null].concat(k8.DL),abE:[null].concat(k8.DL),aX:new i2(function(A){var m=new eG(h.E.Y,!0);
m.data={d:h.s.Xc,M3:{url:"rsrc/fonts/"+A}};this.c(m)}.bind(this)),vF:{_L:[],QX:null,Sh:null},font:null,jy:[],FK:16711680,ui:0,OB:!1,yO:!0,Pk:{m_:!0,Dl:!1,bA:!0,Ml:!0,v$:!0,BD:!0,ot:20,eF:0,Mv:0,TQ:0},l5:!0,Cw:[!0,!0,!1,!0,!0],Eq:[0,1,2,3,5,6,7,9,10,16,17,100],Ki:1,xh:!0,Vv:{},NS:!0,aqW:!1,compact:!1,HL:1,MX:!0,iP:null,dH:{av7:!1,alj:!1,rF:{},mN:null},acO:0,ago:null,xl:null,arA:null,We:null};
this.a9z={mf:new dS,kb:new j4};this.Li.vF=fS.akI();this.Rh=new dm;this.dG=new dc;this.Z8=new al(this.W,!0);
this.vc=new jU;this.bq=new eQ(this);this.Mx=b.V("div");this.gv=!1;this.Fm=this.apK.bind(this);b.AD(this.bq.e,"mainblock");
this.MU.parent=this.Rh.parent=this.dG.parent=this.Z8.parent=this.vc.parent=this.bq.parent=this;this.bq.f(h.E.o,this.z9,this);
this.bq.f(h.E.VM,this.als,this);this.bq.f("shuffleItems",this.a6L,this);this.bq.f(h.E.a8n,this.asU,this);
this.f("mouse",this.auP,this);this.f(h.E.l,this.RR,this);this.f(h.E.qf,this.aqi,this);document.body.addEventListener("keydown",this.Io.bind(this),!1);
window.addEventListener("keyup",this.mD.bind(this),!1);window.addEventListener("paste",this.aik.bind(this),!1);
window.addEventListener("copy",this.akh.bind(this),!1);window.addEventListener("wheel",function(A){if(A.ctrlKey)A.preventDefault()},{passive:!1});
window.addEventListener("beforeinstallprompt",function(A){if(window.innerWidth>400)A.preventDefault();
this.Li.iP=A}.bind(this));if(window.location.href.indexOf("photopea.com")!=-1&&"serviceWorker"in navigator){navigator.serviceWorker.register("sw.js",{scope:"./"}).then(function(A){if(A.aax){console.log("Service worker installing")}else if(A.a7J){console.log("Service worker installed")}else if(A.active){console.log("Service worker active")}}).catch(function(A){console.log("Registration failed with "+A)})}this.U6=0;
this.BE=[];this.TZ=new gP(hw.wx);this.TZ.parent=this;var c=this.bp,U=this.Ob=b.V("div");U.appendChild(this.Rh.e);
U.appendChild(this.dG.e);this.MU.a3$(U);var O=this.anW=b.V("div","flexrow");c.appendChild(O);O.appendChild(this.Z8.e);
O.appendChild(this.bq.e);O.appendChild(this.vc.e);this.TZ.w4({url:"rsrc/basic/basic.zip"});this.NC(R.Hx);
cX.Nf(this.al7.bind(this))}ei.prototype=new h8(!0);ei.prototype.Ed=function(u){var g=new eG(h.E.Y);g.data={d:h.s.iT,M3:u?u:"done"};
this.c(g)};ei.prototype.al7=function(){b.md[dn.fL](this.aiB.bind(this),Math.pow(Math.PI,8)+b.md[dn.ath][dn.ajn]()*1e4);
var u=cX.Dj();if(u!=null&&u.globals!=null)this.qc(u.globals);else{this.auL=!0;var g=navigator.languages;
if(g&&g.length!=0){var K=g[0];fc.AZ(K,this.Fm)}}if(!this.ka()){var X=b.a7T();if(X==0)this.aqW=!0;if(X==2)this.Li.NS=!1;
if(X!=1&&Math.random()<.002)b.ac0()}if(!a6.MT()||!this.Li.NS){this.agG();this.BM()}else{var w=b.Vh(b.md[dn.Jt]);
w[dn.GP](dn.Fo,this.a10.bind(this));w[dn.oO](b.LB("61="),b.LB("_MYOqDLGJa;A:6"));w[dn._i]()}this.xP=!0;
this.Ed()};ei.prototype.a10=function(u){var g=JSON.parse(u.target[dn.px]),K=b.md[dn.ya][dn.a1R]()/1e3,X=b.md[dn.Ef][dn.Rv],w=!1;
for(var D in g)if(D.indexOf(".")!=-1&&X.indexOf(D)!=-1&&parseInt(g[D])>K)w=!0;if(w)this.Li.NS=!1;this.agG();
this.BM()};ei.prototype.BM=function(u){this.DY=!0;if(!this.Li.MX)this.bq.MX=null;else if(this.BE.length==0)this.bq.anV();
this.fF(hO.Jr);this.N();this.OD();this.vc.AF(this.MA(),this.BE,this.Li)};ei.prototype.qc=function(u){var g=this.Li;
if(u.fcolor!=null)g.FK=u.fcolor;if(u.bcolor!=null)g.ui=u.bcolor;if(u.rulers!=null)g.OB=u.rulers;if(u.extras!=null)g.yO=u.extras;
if(u.favFam!=null)g.jy=u.favFam;if(u.font!=null)g.vF._L[0].Name=u.font;if(u.panels!=null)g.Eq=u.panels;
if(u.as!=null)g.HL=u.as;if(u.eparams){var K=u.eparams,X=g.Pk;if(K.guides!=null)X.m_=K.guides;if(K.grid!=null)X.Dl=K.grid;
if(K.gsize!=null)X.ot=K.gsize;if(K.gunits!=null)X.eF=K.gunits;if(K.gtype!=null)X.Mv=K.gtype;if(K.runits!=null)X.TQ=K.runits;
if(K.sels!=null)X.bA=K.sels;if(K.paths!=null)X.Ml=K.paths;if(K.pgrid!=null)X.v$=K.pgrid;if(K.slices!=null)X.BD=K.slices}if(u.lang!=null)fc.AZ(u.lang,this.Fm);
if(u.theme!=null)g.Ki=u.theme;if(u.topt||g.XA){var w=u.topt?u.topt:{},D=g.XA?g.XA:{};for(var q in this.W.map){if(q>=100)continue;
var C="t"+q;if(w[C]||D[C])this.W.map[q].b.P7(w[C],D[C],this)}}};ei.prototype.agG=function(){if(this.Li.ala)return;
this.Li.ala=!0;var u=null,g=window.location.href,K=g.indexOf("="),X=g.indexOf("#");if(K!=-1)u=g.substring(g.indexOf("?")+1,K);
if(X!=-1&&X!=g.length-1){u="p";K=X}if(X!=-1&&g[X+1]=="i"){this.TZ.zt(g.slice(X+2))}else if(X!=-1&&g[X+1]=="t"){this.TZ.zt(g.slice(X+2).split("").reverse().join(""),!0)}else if(u=="p"||u=="state"){var w=g.substring(K+1,g.length);
w=JSON.parse(decodeURI(w));if(u=="p"){if(w.script)ec.ai9(this);if(w.server)this.vW=w.server;if(w.resources)for(var P=0;
P<w.resources.length;P++)this.TZ.w4({url:w.resources[P]});if(w.files)for(var P=0;P<w.files.length;P++)this.TZ.w4({url:w.files[P],oy:{YY:w.server,aiY:w.script}});
var D=w.environment;if(D==null)D={};if(D.plugins!=null)this.vc.a5T(D.plugins);if(D.localsave!=null)this.Li.xh=D.localsave;
if(D.customIO!=null)this.Li.Vv=D.customIO;if(D.vmode!=null){var q=D.vmode;if(q==1)this.Li.compact=!0;
if(q==2)this.ZP(1)}if(D.intro!=null)this.Li.MX=D.intro;if(D.menus!=null)this.Li.a9u=D.menus;if(D.tmnu!=null)this.Li.XA=D.tmnu;
if(D.panels!=null)this.Li.Eq=D.panels;if(D.showtools!=null){var C=D.showtools,a=C.indexOf(this.Li.Wp);
this.Li.oM=C;if(a==-1)this.NC(C[0])}if(D.phrases!=null)fc.alv(D.phrases);if(D.autosave!=null){this.Li.HL=0;
window.setInterval(function(){var $=new eG(h.E.Y);$.data={d:h.s.Jl};this.c($)}.bind(this),D.autosave*1e3)}if(D.icons!=null){for(var x in D.icons)if(D.icons[x].indexOf("\"")==-1){PIMG[x]=D.icons[x];
PIMG["__"+x]=!0}}this.qc(D);if(w.files==null&&w.script){dX.mp(w.script,this);this.Ed()}}else if(u=="state"){var H=this.TZ;
if(w.action=="create"){var $=new eG(h.E.Y);$.data={d:h.s.KP,Pu:"newproject",axE:w.folderId};this.c($)}if(w.action=="open"){for(var P=0;
P<w.ids.length;P++)gA.h4(function(){var c="https://www.googleapis.com/drive/v3/files/"+this.auz,U=new XMLHttpRequest;
U.open("GET",c);U.setRequestHeader("Authorization",gA.Mu());U.send();U.onload=function(O){var A=JSON.parse(O.target.response);
H.w4({url:c+"?alt=media",name:A.name,ge:{file:A,iA:""},dU:{Authorization:gA.Mu()}})}}.bind({auz:w.ids[P]}));
alert("Loading files from Google Drive ...")}}}else{var r=window.launchQueue;if(r){var H=this.TZ;r.setConsumer(function(c){var U=c.files;
console.log(U);for(var P=0;P<U.length;P++){var O=U[P];O.getFile().then(function(A){H.JC([A],null,null,null,[O])})}})}}};
ei.prototype.N=function(){var u=document.getElementById("cap"),g=window.innerWidth<500;if(u){var K=u.getElementsByTagName("h1")[0],D=0,C=0,a=0;
K.textContent=g?"Photopea":fc.get([0,17,0]);var X=u.getElementsByTagName("p"),w=b.Mt(fc.get([0,17,1])),q=["PSD","XCF","Sketch","XD","CDR"];
for(var P=0;P<q.length;P++)w=w.replace(q[P],"<b>"+q[P]+"</b>");if(!g)w+=" (<b>Adobe Photoshop</b>, <b>GIMP</b>, <b>Sketch App</b>,  <b>Adobe XD</b>, <b>CorelDRAW</b>).";
X[0].innerHTML=w;w=fc.get([0,17,2])+" "+fc.get([0,17,3]);for(var P=0;P<w.length;P++){var x=w[P];if(x=="<")C++;
if(x==">")a++}if(!g&&C*a==9){var H=["//github.com/photopea/photopea/issues","//www.facebook.com/photopea/","//blog.photopea.com/introduction.html"];
for(var P=0;P<3;P++){var $=w.indexOf("<",D),r=w.indexOf(">",D),c=w.slice(0,$)+"<a href=\""+H[P]+"\" target=\"_blank\">"+w.slice($+1,r)+"</a>";
D=c.length;w=c+w.slice(r+1)}X[1].innerHTML=w}else X[1].innerHTML=fc.get([0,17,2])}var U=document.getElementById("sponsors");
if(U)U.textContent=fc.get([0,17,4]);this.MU.N();this.Rh.N();this.vc.N();this.Z8.N();this.tc.N();this.bq.N();
for(var O in this.W.map)if(this.W.map[O].ln)this.W.map[O].ln.N()};ei.prototype.ka=function(){return b.md[dn.yD][dn.Nr].indexOf("")!=-1};
ei.prototype.rc=function(u,g){u=Math.floor(u);g=Math.floor(g);var K=b.LB("WUMK&AM"),X=dn.nG,w=b.md[dn.Ef],D=Math.max(u,window.screen.width),q=Math.max(g,window.screen.height),H=0;
if(this.$F==null)this.$F=Math.min(D,q)<500||D<750?0:D<1600?1:2;var C=this.$F,a=!this.DY||this.ka()||!this.Li.NS||cX.FS()||C==0;
if(!a&&a6.MT()){if(this.akF==null)this.akF=Math.random()<.5;a=this.akF}if(a){if(C!=0&&b.md[K]&&this.DY)b.md[K]()}else{if(C==0)g-=60;
else u-=C==1?180:320}h8.prototype.rc.call(this,u,g);if(a&&this.gv){this.e[dn.oo](this.Mx);b.Lh(this.Mx);
this.gv=!1}if(!a&&!this.gv){var x=function(c){if(Math.random()<.002){cX.event(a6.KX()?"gota_0":"gota_1")}this.abf(u,g);
var U=C==0?w[dn.Og]:this.e;U.appendChild(this.Mx);this.Mx[dn.U0](X,b.LB("_MMJLNDfKCAg")+(C==0?10:10)+b.LB("_d$ebOS?I:==Ba-+# }$M"));
this.Mx[X][b.LB("_MMJLND&<:E")]=(C==0?0:19)+b.LB("_d");this.Mx[X][b.LB("i5WJHX")]=C==0?0:1}.bind(this);
a6.adq(x);this.gv=!0}if(b.tV(this.Rh.e))H+=31;if(b.tV(this.dG.e))H+=32;this.MU.aw3=this.Li.NS&&this.DY;
this.MU.rc(u,H);var $=g-H,r=b.LB("_d");this.Mx[X][dn.a2b]=(C==0?100>>>1:g-11)+r;this.Mx[X][dn.Ux]=(C==0?u:6*Math.pow(10,2))+r;
this.Z8.rc(u,$);this.vc.rc(u,$);this.bq.rc(u-this.Z8.sf()-this.vc.sf(),$)};ei.prototype.abf=function(u,g){var K=function(){var X=new eG(h.E.Y);
X.data={d:h.s.KP,Pu:"account"};this.c(X)}.bind(this);a6.abL(u,g,this.Mx,K,this.$F)};ei.prototype.akh=function(u){console.log("systemCopy")};
ei.prototype.aik=function(u){if(b.mA())return;console.log("systemPaste");if(!u.clipboardData)return;
var g=u.target.tagName.toLowerCase(),K=u.clipboardData.items;if(K==null)return;var X=this.asE.bind(this);
for(var P=0;P<K.length;P++){var w=K[P],D=w.getAsFile();if(w.type.indexOf("text")!=-1){w.getAsString(this.ax8.bind(this))}if(w.type.indexOf("image")!=-1){if(D.size==this.Li.acO)return;
this.Li.acO=D.size;if(D){D.name="image.png";this.TZ.JC([D],X)}}}};ei.prototype.ax8=function(u){if(u.startsWith("http")){if(u==this.Li.amx)return;
this.Li.amx=u;var g=new eG(h.E.Y,!0);g.data={d:h.s.Xc,M3:{url:u,K8:!0}};this.c(g)}};ei.prototype.asE=function(u,g){var K={buffer:u,rect:g},X=this.Li;
if(b.mA()){var w=this.a9z,D=w.mf;if(D.m==g.m&&D.n==g.n){K.rect=D;K.kb=w.kb}}else{if(X.xl){var q=new eG(h.E.l,!0);
q.b=R.QV;q.data={d:"h_stepbck"};this.c(q)}}X.xl=K;var q=new eG(h.E.Y,!0);q.data={d:h.s.Va,a6x:!0};this.c(q)};
ei.prototype.amU=function(){if(this.tc.Re()!=null)alert(fc.get([15,7,8]));else alert("Escape or Confirm the current action (in the top menu).")};
ei.prototype.RR=function(u){var g=this.MA();if(g==null){alert(fc.get([15,7,7]));return}var K=u.b==R.JN||u.b==R.d0;
if(this.tc.Sn()&&u.UG!=!0&&!K){this.amU();return}var X=this.W,w=this.Li.Wp,D=u.b;if(D==R.$d&&w==R.E3)D=R.E3;
if(w!=D&&X.map[w].b.Sn()&&!K&&!(w==R.wd&&D==R.DQ)){console.log("disabling",w);X.map[w].b.disable(g,this,this.Li,this.Pv)}var q=this.W.map[D].b;
q.RR(u.data,this,g,this.Pv,this.Li)};ei.prototype.aqi=function(u){var g=this.Li;if(u.data.wL!=!0)bd.abX({$T:u.data.$T,NA:u.data.NA},this,g,this.MA());
var K=g.jx,X=g.oI;if(K==null)return;var w={a6s:!1,dZ:"Step",avf:0,K:!0,exp:!1,$T:u.data.$T};if(K[2]==null)K[2]=X[K[0]].Aj[K[1]].Aj.length-1;
if(u.data.NA)w.NA=u.data.NA;X[K[0]].Aj[K[1]].Aj.splice(K[2]+1,0,w);K[2]++;this.fF(hO.l)};ei.prototype.S9=function(u){if(this.aqW){u.data=0;
return u.type}h8.prototype.S9.call(this,u);var g=u.data.d;if(g==h.s.mC)bd.aqS(this.MA(),this.Li.oI,u.data.ZX[0],u.data.ZX[1],this);
if(g==h.s.auN){this.a79(u.data.asn)}if(g==h.s.a4G){this.N();this.OD()}if(g==h.s.jR)this.OD();if(g==h.s.afT)if(this.Li.iP){this.Li.iP.prompt();
this.Li.iP=null}if(g==h.s.Tx)this.bq.tW(u.data.SD,u.data.push);if(g==h.s.anK)this.bq.ark();if(g==h.s.ahq)this.z9(null,u.data.dir);
if(g==h.s.AU)this.bq.VS(this.BE.indexOf(u.data.CV));if(g==h.s.Qe){if(u.data.G6&&document.fullscreenEnabled){if(document.fullscreenElement)document.exitFullscreen();
else document.body.requestFullscreen()}if(u.data.h!=null)this.ZP(u.data.h)}if(g==h.s.alC){if(u.data.HT)this.Pv.YT(u.data.a02);
else this.Pv.YN(u.data.a02);this.BF(u.data.HT?"down":"up")}if(g==h.s.L6){var K=this.MA(),X=K.KS().slice(0),w=K.g[K.z[0]],D=new dS(0,0,K.m,K.n),q=f0.AO()+"-d71c-11e5-b1ae-a548a96e5f9f",C=new eG(h.E.Y,!0);
if(u.data.M3==0){var a={name:K.name.split(".")[0],id:q,e4:[X,D]};C.data={d:h.s.zS,oy:"add",M3:hO.WO,J$:[a]};
this.c(C)}if(u.data.M3==1){var x=f.L(D.$()*4);f.D4(x,4294967295);f.i.L_("norm",X,D,x,D,D,1);var H=f.L(D.$());
f.uT(x,H);f.CD(H);var $=f.LE(H,D);if($.fg())$=D;var r=f.L($.$());f.x5(H,D,r,$);var c=f.L($.$()*4);f.K1(r,c,3);
var U={mf:$,id:q,e4:[c,$]},O=cO.Nt(q),A=O.Brsh.v;A.Dmtr.v.val=$.m;A.Spcn.v.val=10;C.data={d:h.s.zS,oy:"add",M3:hO.ei,J$:{list:[{t:"Objc",v:O}],Ft:[U],oY:[]}};
this.c(C);C.data={d:h.s.zS,M3:hO.xD,WM:O};this.c(C)}if(u.data.M3==2){var m=K.f$(),i=m[0][m[1][0]],e={VW:w.getName(),JJ:q,_:i.add.vmsk.clone()._},S=f.J.Xh(e._),E=new eV(S.m,0,0,S.n,S.x,S.y);
E.CD();f.J.Cg(e._,E);S.x=S.y=0;e.Au=S.clone();C.data={d:h.s.zS,oy:"add",M3:hO.X4,J$:[e]};this.c(C)}}if(g==h.s.Xc)this.TZ.w4(u.data.M3);
if(g==h.s.kc){var Z=u.data.awQ;if(Z!=!0&&this.eR("open"))return;this.TZ.asZ(Z?this.bq.bu():null,u.data.aqO)}if(g==h.s.XH){var N=u.data.a6h,J=u.data.eb,y=this.wy(N);
if(J){var B=N==hO.ei,t=[];for(var P=0;P<J.length;P++)t.push((B?y.list:y)[J[P]]);y=B?{oY:y.oY,Ft:y.Ft,list:t}:t}if(N==hO.vO){var D=new f0;
for(var P=0;P<y.length;P++){var W=y[P].lF.Lefx;if(W)bW.an5(W,D,this.Li.u7)}y={_0:D.add.Patt?D.add.Patt:[],Ui:y}}if(N==hO.hJ){var F=this.Li.d3;
y={Ft:[],oY:[],list:y};console.log(y)}if(N==hO.l)y=y[u.data.cZ];var G=hO.$$[N],X=G[2].P8(y);gP.save(X,G[1]+"."+G[0])}if(g==h.s.Xs){var L=this.Li.dH,Q=u.data.aeE;
if(L.mN&&!L.av7&&!Q){L.alj=window.confirm("Load \""+u.data.r_+"\" also next time you use the editor?\nManage it in Edit - Local Storage.");
L.av7=!0}if((L.alj||Q)&&L.mN){L.rF[u.data.r_]=u.data.kt;var C=new eG(h.E.Y);C.data={d:h.s.zS,M3:hO.z6};
this.c(C)}}if(g==h.s.agU){var K=this.MA(),p="<!DOCTYPE HTML>";if(K==null)return;var T=eH.sk(K.KS().buffer,K.m,K.n),j=window.open();
p+="<head><script>setTimeout(function() {window.print();}, 10);</script></head>";p+="<body><img src=\""+T+"\" /></body>";
p+="</html>";j.document.write(p)}if(g==h.s.b8){if(this.eR("publishOnline"))return;var M=u.data.e7!="psd",K=this.MA();
if(K==null)return;if(!M&&K.jJ)return;var n="Your picture will be published at "+(M?"Imgur":"Photopea")+".com under a public URL (known only to you). Proceed?";
if(!M)n+=" We guarantee 6 months of storage (or more, if your file is opened often).";var d=u.data.BZ?!0:confirm(n);
if(d){if(!M){var C=new eG(h.E.l,!0);C.b=R.QA;C.data={d:l.Dy};this.c(C);var V=new dS(0,0,K.m,K.n);for(var P=0;
P<K.g.length;P++){var w=K.g[P];if(w.rect.fg()||w.xp()||w.Zv()||w.y8()||w.HS()||w.add.TySh||w.add.vmsk||w.add.SoLd)continue;
var z=V.I3(w.rect);if(!z.$z(w.rect)&&!z.fg()){var I=f.L(z.$()*4);f.bV(w.buffer,w.rect,I,z);w.buffer=I;
w.rect=z}if(!f.AE(w.buffer,w.rect.m,w.rect.n))continue;var v=w.AG(),gj=w.opacity,jA=w.wS,Y=w.tG;w.H4(!0);
w.opacity=255;w.wS="norm";K.z=[P];C.data={d:l.Ll,e7:"jpg"};this.c(C);var jv=K.g[P];w.H4(v);jv.H4(v);
w.opacity=jv.opacity=gj;w.wS=jv.wS=jA,w.tG=jv.tG=Y}}if(K.k6){K.Z9()}var iR=K.m,cj=K.n,j8=u.data.a5x,as;
if(j8)while(Math.max(iR,cj)>j8){iR=iR>>>1;cj=cj>>>1}console.log(iR,cj);if(u.data.e7=="psd")as=eH.rs(K,"psd",0,0,[!0,!0,!0]);
else if(u.data.e7=="png")as=eH.rs(K,"png",iR,cj);else{var gW=eH.rs(K,"png",iR,cj),af=eH.rs(K,"jpg",iR,cj);
as=gW.byteLength<af.byteLength?gW:af}if(M)gP.af7(as,u.data.BZ);else this.TZ.a4C(as,K.name,u.data.BZ)}}if(g==h.s.Jl){var K=this.MA(),at=!1;
if(K==null)return;if(K.k6){K.Z9()}if(u.data.Yy){if(!this.j_(K,u.data.Yy))return;var X=hw.anZ(K,u.data.Yy,this.Li);
this.Ed(X);at=!0}else if(K.Ke){if(this.BE.indexOf(K.Ke.Wx)!=-1){var X=new Uint8Array(eH.IB("PSD").si(K,null,null,[!0,!1])),C=new eG(h.E.l,!0);
C.data={d:l.HM,UJ:K.Ke.Wx,data:X,id:K.Ke.akb,$V:K.name};C.b=R.QA;this.c(C);alert("Smart Object updated")}at=!0}else if(this.eR("save")){at=!0}else if(K.ge){hw.ajv(K);
at=!0}else if(K.Xd){hw.ag5(K);at=!0}else if(K.oy&&K.oy.YY){if(!this.j_(K,K.oy.YY.formats))return;this.TZ.a3l(K,this.Li,hw.agp);
at=!0}else if(K.cp&&"psd jpg png gif webp svg bmp".split(" ").indexOf(K.Ar)!=-1){this.a2Y();return}if(at){K.BB=K.YQ;
K.Lq=Date.now();K.cK=!0}else{var C=new eG(h.E.Y,!0);C.data={d:h.s.so};this.c(C)}}if(g==h.s.so){if(!this.Li.xh){alert("function is disabled");
return}if(this.eR("saveAsPSD"))return;var K=this.MA();if(K==null||K.jJ)return;if(!this.j_(K))return;
var C=new eG(h.E.l,!0);C.data={d:l.Dy};C.b=R.QA;this.c(C);if(K.g.length>8e3&&!confirm("Your document has "+K.g.length+" layers."+" Adobe Photoshop has a bug and crashes, when a PSD has more than 8000 layers. Do you want to proceed?"))return;
var jd={jp:[]};K.root.auS([],jd);var fM=jd.jp;if(fM.length>11&&!confirm("One layer is nested "+(fM.length-1)+" times."+" Adobe Photoshop crashes, when a layer in a PSD is nested more than 10 times. Do you want to proceed?\n\nLongest nesting: "+fM.join(" \uD83E\uDC1A ")+"."))return;
var hS=window.showSaveFilePicker;if(window.parent!=window)hS=null;if(hS&&!u.data.a7d){var dr={suggestedName:K.name,types:[{description:"PSD Files",accept:{"image/psd":[".psd"]}}]};
hS(dr).then(function(u){K.cp=u;K.name=u.name;K.vH=!0;K.Ar="psd";this.a2Y()}.bind(this));return}var cB=window.ga,b1=b.Zw("%y&~I&:,8A[xEKI@VXs^YVhZb7pukvu% ").split(",");
if(K.u8()&&cB)cB(b1[0],b1[1],b1[2],K.Ar+":"+b.Zw(cX.FS()?"\"'|('61":"w'| "));if(K.k6){K.Z9()}if(u.data.a7d){var X=K.Ar=="psd"?eH.IB("PSD").si(K):hw.mq(K,K.Ar,this.Li);
this.akD(X,K,this)}else{var X=eH.IB("PSD").si(K);gP.save(X,K.name);K.BB=K.YQ;K.Lq=Date.now();K.cK=!0}}if(g==h.s.cF)window.open(u.data.link,"_blank");
if(g==h.s.agK){if(this.tc.Sn()){this.amU();return}var K=this.MA(),w=K.g[K.z[0]],ic=K.zQ(w.add.SoLd.Idnt.v);
for(var P=0;P<this.BE.length;P++){var dV=this.BE[P].Ke;if(dV!=null&&dV.akb==ic.z0&&dV.Wx==K){this.bq.r6(P);
return}}gP.wx({name:ic.$V,Ke:{akb:w.add.SoLd.Idnt.v,Wx:K}},ic.raw.buffer,this)}if(g==h.s.apq){console.log(u.data);
gP.wx({name:u.data.Xd[1].split("/").pop(),Xd:u.data.Xd},u.data.ee,this)}if(g==h.s.ahm){var K=this.MA();
K.Xd=u.data.Xd;K.name=K.Xd[1].split("/").pop();var C=new eG(h.E.Y);C.data={d:h.s.Jl};this.c(C)}if(g==h.s.VO){this.a1C()}if(g==h.s.AQ){this.aje(u.data.LT,u.data.XR,u.data.vE)}if(g==h.s.Va){this.a90(u.data.a6x,u.data.T4,u.data.vE)}if(g==h.s.a1q){var eS=u.data.h;
if(eS.startsWith("vcb;")){var a2=JSON.parse(eS.slice(4));a2[0]=jr.Cb(a2[0]);var C=new eG(h.E.l,!0);C.b=R.AP;
C.data={d:"append",Uz:"Paste Paths",a5h:a2};this.c(C)}else if(eS.startsWith("lrs;")){var d3=eS.split(";"),cE=this.BE[parseInt(d3[1])];
if(cE==null)return;var eP=this.MA(),jm=cE.z;cE.z=JSON.parse(d3[2]);var bD=cE.gp(null,cE!=eP),C=new eG(h.E.l,!0);
C.data={d:l.Xr,g:bD,Wx:cE,eG:eP};C.b=R.QA;this.c(C);cE.z=jm}else if(eS.startsWith("<!--")||eS.startsWith("<svg")){var f1=k.o0(eS),ft=eH.IB("svg"),D=new f0("image.psd");
ft.Tu(f1.buffer,D);if(this.BE.length!=0){var ie=D.g;if(ie.length==3&&ie[0].getName()=="</Layer group>"&&ie[2].xp())ie=[ie[1]];
var C=new eG(h.E.l,!0);C.b=R.QA;C.data={d:l.Xr,g:ie,Wx:D,eG:this.MA()};this.c(C)}else this.apZ(D)}}if(g==h.s.Tw){dX.mp(u.data.h1,this)}if(g==h.s.iT){if(window.parent!=window)window.parent.postMessage(u.data.M3,"*");
this.vc.ZS(u.data.M3)}if(g==h.s.QI){var b2=parseFloat(u.data.Pu);if(this.Li.Eq.indexOf(b2)==-1){var C=new eG(h.E.Y,!0);
C.data={d:h.s.zS,M3:hO.ul,h:b2,oy:"add"};this.c(C)}this.vc.aub(u.data.Pu)}if(g==h.s.o2){this.IP.aeV(this.MA(),this.Li)}if(g==h.s.KP){var dh="open_from_url openFromURL camera takePic templates showTemplates newproject new eassets exportLayers".split(" ");
for(var P=0;P<dh.length;P+=2)if(u.data.Pu==dh[P]&&this.eR(dh[P+1]))return;if(!this.Li.xh&&u.data.window=="saveforweb"){alert("function is disabled");
return}this.tc.a4B(u.data.Pu,this.MA(),u.data,this.BE,this.Pv)}if(g==h.s.IJ)gP.save(u.data.data,u.data.name);
if(g==h.s._1){if(!this.tc.Sn()||u.UG)this.apZ(u.data.UJ)}if(g==h.s.es){this.bq.r6(u.data.target);var C=new eG(h.E.l,!0);
C.data={d:l.ahh,UJ:u.data.UJ,OT:u.data.OT,QQ:u.data.QQ};C.b=R.QA;this.c(C);this.NC(R.fr)}if(g==h.s.afU){s.xA=!s.xA;
if(this.BE.length>0)this.MA().O()}if(g==h.s.a2k){var aY=cX.Dj();if(aY!=null&&aY.globals!=null)this.qc(aY.globals);
this.BM()}if(g==h.s.OY){this.TZ.JC(u.data.data,null,u.data.yU,u.data.PM,u.data.a1u)}if(g==h.s.LK){var eF=this.mG();
if(!this.tc.Re()!=null)this.NC(u.data.b,u.data.YW);var de=this.mG();if(de!=eF&&u.data.aam)de.R4(this.MA(),this,this.Li,this.Pv,this.Kj)}if(g==h.s.SQ){if(this.W.DO)this.NC(this.W.DO)}if(g==h.s.b4){var i5=this.W.map[u.data.b].b,K=this.MA();
i5.Z7(u.data,this,K,this.Pv,this.Li);if(K)K.X5=!0;this.ao$()}if(g==h.s.SI){var eA=this.W.map[u.data.b];
this.aqZ(eA);eA.ln.n1(u.data)}if(g==h.s.zS){var K=this.MA(),c4=u.data.M3,jC=u.data.J$,hd=this.Li;if(u.data.oy=="set"){var de=R.nJ(jC);
if(hd.Wp!=de)this.NC(de);this.W.map[de].ln.aby(jC,hd)}if(u.data.oy=="add"){var G=hO.$$[c4];if(c4==hO.ul){hd.Eq.push(u.data.h);
hd.Eq.sort(function(iO,ck){return iO-ck})}else if(G==null){if(jC)hd.aX.a2w(jC,u.data.a5m)}else{var iG=this.wy(c4);
if(c4==hO.ei){iG.Ft=iG.Ft.concat(jC.Ft);iG.oY=iG.oY.concat(jC.oY);iG=iG.list;jC=jC.list}if(c4==hO.vO&&K){for(var P=0;
P<jC.length;P++){var W=jC[P].lF.Lefx;if(W)bW.a7i(W,K,hd.u7)}}if(c4==hO.hJ&&jC==null){var D=this.W.map[hd.Wp].ln.acH();
if(D==null)return;jC=[D]}for(var P=0;P<jC.length;P++)iG.push(jC[P]);if(c4==hO.X4){var cC={};for(var P=0;
P<iG.length;P++){var cL=iG[P].VW;while(cC[cL]!=null)cL=iG[P].VW=cL+"X";cC[cL]=!0}}if(u.data.a5m!=!0)if(iG.length!=jC.length||c4==hO.Hy||c4==hO.vO||c4==hO.l)alert(fc.get(G[3])+" "+fc.get([23,1])+".")}}if(u.data.oy=="del"){if(c4==hO.ul){hd.Eq.splice(hd.Eq.indexOf(u.data.h),1)}else{var G=hO.$$[c4],J=u.data.eb,iG=this.wy(c4);
if(c4==hO.ei)iG=iG.list;for(var P=0;P<J.length;P++)iG[J[P]]=null;for(var P=0;P<iG.length;P++)if(iG[P]==null){iG.splice(P,1);
P--}alert(fc.get(G[3])+" deleted.")}}if(u.data.oy=="rnm"){var G=hO.$$[c4],iG=this.wy(c4);if(c4==hO.ei)iG=iG.list;
if(iG[u.data.eb[0]]==null)return;G[2].Wl(iG[u.data.eb[0]],u.data.h)}if(c4==hO.dV){var dw=u.data.h;hd.Bl=dw;
hd.aaH[dw.lB]=dw.Gu}if(c4==hO.bb){var dw=u.data.h;hd.kd=JSON.parse(JSON.stringify(dw));var eY=dw.strokeEnabled.v,cf=dw.strokeStyleContent.v,d7=eY?{lB:1+k8.Sq.lv.indexOf(cf.classID),Gu:cf}:{lB:0};
hd.abE[d7.lB]=d7.Gu}if(c4==hO.iU){hd._B=u.data.h}if(c4==hO.pH){hd.vF=u.data.vF}if(c4==hO.xD){var I=JSON.parse(JSON.stringify(u.data.WM)),hs=I.useBrushSize;
if(hs&&hs.v){I.Brsh.v.Dmtr.v.val=hd.d3.T1.Brsh.v.Dmtr.v.val;hs.v=!1}hd.d3.T1=I}if(c4==hO.Hm){hd.jy=u.data.a5}if(c4==hO.YJ){var hz,dO="Clrs";
if(u.data.KR<2){var hN=u.data.h,jn=u.data.KR==0,iP=f.X.Gp({w:hN>>>16,A:hN>>>8&255,U:hN&255});if(jn)hd.FK=hN;
else hd.ui=hN;dO=jn?"FrgC":"BckC";hz={$T:"set",NA:{__name:"Set",classID:"setd",T:{t:"Objc",v:iP}}}}if(u.data.KR==2){var io=hd.FK;
hd.FK=hd.ui;hd.ui=io;hz={$T:"exchange",NA:{__name:"Exchange",classID:"Exch"}}}if(u.data.KR==3){hd.FK=0;
hd.ui=16777215;if(K!=null&&K.z.length!=0&&K.g[K.z[0]].oF==1){var io=hd.FK;hd.FK=hd.ui;hd.ui=io}hz={$T:"reset",NA:{__name:"Reset",classID:"Rset"}}}if(hz){hz.NA.null={t:"obj ",v:[{t:"prop",v:{classID:"Clr",keyID:dO}}]};
var eA=this.mG();eA.Rz=this;eA.track(hz)}}if(c4==hO.vX){hd.OB=!hd.OB;this.OD()}if(c4==hO.D9){hd.yO=!hd.yO;
this.OD()}var jD=hd.Pk;if(c4==hO.vY){jD.bA=!jD.bA;this.OD()}if(c4==hO.Vp){jD.Ml=!jD.Ml;this.OD()}if(c4==hO.Yc){jD.m_=!jD.m_;
this.OD()}if(c4==hO.pk){jD.Dl=!jD.Dl;this.OD()}if(c4==hO.ZR){jD.v$=!jD.v$;this.OD()}if(c4==hO.wH){jD.BD=!jD.BD;
this.OD()}if(c4==hO.ne){hd.Pk=u.data.a5;this.OD()}if(c4==hO.akM){hd.l5=!hd.l5;this.OD()}if(c4==hO.Bv){hd.Cw[u.data.EP]=!hd.Cw[u.data.EP];
this.OD()}if(c4==hO.a0){fc.RL(u.data.lang,this.Fm)}if(c4==hO.wv){hd.Ki=u.data.Ki;this.N()}if(c4==hO.z6&&hd.dH.mN){var dg=hd.dH.mN.transaction(["rsrc"],"readwrite").objectStore("rsrc"),j1=dg.put({k:"fs0",fset:hd.dH.rF});
j1.onerror=function(u){console.log(u);alert("Storing failed. Browser says: "+u.target.error.message,7e3)}}this.fF(c4)}};
ei.prototype.a2Y=function(){var u=new eG(h.E.Y,!0);u.data={d:h.s.fE,Yo:"Saving ..."};this.c(u);setTimeout(function(){var u=new eG(h.E.Y,!0);
u.data={d:h.s.so,a7d:!0};this.c(u)}.bind(this),20)};ei.prototype.akD=function(u,g){g.cp.createWritable().then(function(K){K.write(u);
return K}).then(function(K){return K.close()}).then(function(K){g.BB=g.YQ;g.Lq=Date.now();g.cK=!0;var X=new eG(h.E.Y,!0);
X.data={d:h.s.Rf,Yo:"Saving ..."};this.c(X)}.bind(this)).catch(function(K){var X=new eG(h.E.Y,!0);X.data={d:h.s.Rf,Yo:"Saving ..."};
this.c(X)}.bind(this))};ei.prototype.apK=function(){this.N();this.OD()};ei.prototype.eR=function(u){var g=this.Li.Vv[u];
if(g){var K=new eG(h.E.Y,!0);K.data={d:h.s.Tw,h1:g};this.c(K)}return g!=null};ei.prototype.j_=function(u,g){var K=!0,q=15;
if(g){K=!1;for(var P=0;P<g.length;P++)if(g[P].startsWith(b.LB("__M")))K=!0}var X=u.u8()||u.Ke&&u.Ke.Wx.u8();
if(this.ka())X=!1;var w=new b.md[dn.ya],D=(w[b.Zw("xy,b-66:")]()&1)*60+w[b.LB("VQ]3LNRN<G")]();if(X&&!cX.FS()&&D>q&&K){var C=b.md[b.Zw("}$z{2*35")][b.Zw("y'|!")],a=b.LB("C[hMHT\\GFB6GJ.44>+.(2sq koomg\\beyj;PGS?Ad+sL>6Cpp^7w!|\"mwuhkguVQ[iII`SN=9Q>:5?B$2, \"w-~oi!ddjhfn|}ePIKOK9DM0>*48;--\"/tx{us+");
a+="\n\n"+b.LB("6Q]eD_-L<A:C8G&%\"+.$'/4ouu qb\\sf\\WQRKSA=U430/:7II:''1&lqy\"")+(-D+120)+b.LB("nYRTXTBMd");
if(C.indexOf(b.Zw("\"|'/-1)(W0?@"))==-1)a=fc.get([0,11+6,3+2]);b.md._cwY(a);return!1}return!0};ei.prototype.wy=function(u){var g=this.Li,K=[hO.ei,hO.WQ,hO.h9,hO.WO,hO.X4,hO.vO,hO.Hy,hO.l,hO.hJ,hO.vb],X=[g.d3,g.N3,g.UH,g.u7,g.uV,g.qw,g.a1z,g.oI,g.b$,g.aft];
return X[K.indexOf(u)]};ei.prototype.a1C=function(){var u=this.aje(),g=this.MA();if(g==null||g.z.length==0)return;
var K=g.g[g.z[0]],X=new eG(h.E.l);if(u==1){X.b=R.AP;X.data={d:"remove",Uz:"Cut Paths"}}else{X=new eG(h.E.qf);
X.data={$T:"delete"}}this.c(X)};ei.prototype.aje=function(u,g,K){if(u==null)u=!1;var X=this.Li;console.log("doCopy",u,g);
var w=this.MA();if(w==null||w.z.length==0)return;var D=w.g[g==null?w.z[0]:g],q=w.f$(),C=q[0],a=q[1],x=C[a[0]];
if(!u&&x!=null&&x.add.vmsk.z.length!=0){var H=R.jV.Vu(x.add.vmsk,x.add.vogk);if(b.mA()){H[0]=jr.a0U(H[0]);
var $="vcb;"+JSON.stringify(H);gP.zT(new Blob([$],{type:"text/plain"}))}else X.We=H;return 1}else if(w.q==null){if(b.mA()){var $="lrs;"+this.BE.indexOf(w)+";"+JSON.stringify(w.z);
gP.zT(new Blob([$],{type:"text/plain"}))}}else{var r,c;if(u){var U=new dS(0,0,w.m,w.n);c=U.I3(w.q.rect);
r=f.L(c.$()*4);f.bV(w.KS(),U,r,c);f.ea(w.q.channel,w.q.rect,r,c)}else if(w.qT.length!=0){c=w.q.rect.clone();
r=f.L(c.$()*4);var O=w.g1[w.qT[0]],A=O.WC(c);f.qM(A,r);f.K1(w.q.channel,r,3)}else{var m=D.nP(w,w.q);
if(m==null){alert("Copied area is empty");return}r=m.ee;c=m.rect}var i=w.t.PK,e=i[0]+i[1]+i[2];if(e==1){var S=i.indexOf(1);
for(var P=0;P<r.length;P+=4)r[P]=r[P+1]=r[P+2]=r[P+S]}var E=new j4(w.m,w.n);if(b.mA()&&K!=!0){var Z=eH.IB("PNG").aiO(r.buffer,c.m,c.n);
gP.zT(new Blob([new Uint8Array(Z)],{type:"image/png"}));this.a9z={mf:c,kb:E}}else X.xl={buffer:r,rect:c,kb:E};
X.ago=c.clone();X.We=null}};ei.prototype.a90=function(u,g,K){if(g)this.acd=!0;console.log("doPaste");
var X=this.Li,w=X.xl,a;if(this.BE.length==0){if(!u&&b.mA()){gP.qW(this,null);return}if(w){var D=eH.hq("image.psd",[{data:w.buffer.buffer,ZE:w.rect}]),q=new eG(h.E.Y);
q.data={d:h.s._1,UJ:D};this.c(q)}return}var D=this.MA(),C=D.g[D.z.length==0?D.g.length-1:D.z[0]];if(X.We){var x=D.f$(!0),H=x[0],$=x[1];
a=H[$[0]]}var q=new eG(h.E.l,!0);if(X.We!=null&&a!=null){q.b=R.AP;q.data={d:"append",Uz:"Paste Paths",a5h:X.We}}else if(!u&&b.mA()&&K!=!0){gP.qW(this,this.asE.bind(this));
return}else{if(w==null)return;if(D.KL(!1)&&(D.t.PK.join("")!="111"||D.qT.length!=0||C.oF>0||C.rect.fg())){q.b=R.ei;
q.data={d:"draw",aa2:!0,Uz:[5,2]}}else{q.b=R.QA;q.data={d:l.Em,T4:this.acd};this.acd=!1}q.data.xl=w}this.c(q)};
ei.prototype.agq=function(){for(var P=0;P<this.BE.length;P++){var u=this.BE[P];if(!dR.ahE(u,this.Li.aX,this))continue;
if(u.Ey)dR.a9r(u,this.Li.aX,this);var g=u.add.lnk2;if(g)for(var K=0;K<g.length;K++){var X=g[K];if(X.Ey)R.aD.yX(u,X.z0,X.Z4[1],X.Z4[1],this.Li.aX)}if(u.a4L)continue;
u.a4L=!0;if(u.oy&&u.oy.aiY)dX.mp(u.oy.aiY,this);this.Ed();var w=new eG(h.E.l);w.b=R.DQ;w.data={d:"start",YL:"GEfc"};
var D=new eG(h.E.Y);D.data={d:h.s.QI,Pu:cA.vZ.Ua}}};ei.prototype.fF=function(u){var g=this.Li,K=g.Wp,q=!1;
if(u==hO.xD){if(this.W.map[K].ln)this.W.map[K].ln.xY(g,u)}else for(var X in this.W.map)if(this.W.map[X].ln)this.W.map[X].ln.xY(g,u);
if(u==hO.em){if(K!=R.$d)this.W.map[R.$d].b.xY(g,u);this.agq()}this.bq.xY(g,u);this.Z8.xY(g,u);this.tc.xY(g,u);
this.mG().xY(g,u);this.vc.xY(g,u);this.Rh.xY(g,u);if(u==hO.wv||u==hO.Jr){hn.aqb(g.Ki);this.update(!0)}var w=g.vF,D=w.QX.Font;
if(u==hO.pH&&D!=null&&w._L[D].Name!=g.font){g.font=w._L[D].Name;q=!0}if([hO.ul,hO.Hm,hO.YJ,hO.vX,hO.D9,hO.ne,hO.Yc,hO.pk,hO.vY,hO.Vp,hO.ZR,hO.wH,hO.a0,hO.wv].indexOf(u)!=-1||q)this.ao$()};
ei.prototype.ao$=function(){if(!this.xP)return;var u={},g=this.W.map;for(var K in g){var X=g[K].b;if(X.p9&&X.p9()!=null)u["t"+K]=X.p9()}var w=this.Li,D=w.Pk,q={fcolor:w.FK,bcolor:w.ui,rulers:w.OB,extras:w.yO,favFam:w.jy,panels:w.Eq,eparams:{guides:D.m_,grid:D.Dl,sels:D.bA,paths:D.Ml,pgrid:D.v$,slices:D.BD,gsize:D.ot,gunits:D.eF,gtype:D.Mv,runits:D.TQ},lang:fc.GN(),theme:w.Ki,as:w.HL,topt:u};
if(w.font!=null)q.font=w.font;var C=cX.Dj();if(C==null)C={};C.globals=q;cX.zj(C)};ei.prototype.uA=function(u){var g=this.Pv,K=this.Kj,X=this.Li.Wp,w=this.W.map[X].b,D=null,q=!1;
for(var P=0;P<this.W.aiN.length;P++){var C=this.W.aiN[P],a=!0;for(var x=0;x<C.l9.length;x++){var H=C.l9[x];
if(!g.a(H))a=!1}if(a&&(!C._R||!w.Sn())&&(C.f7==null||C.f7.indexOf(X)!=-1)){D=C.b;q=C._R;break}}if((!K.HT||X==R.l0||u)&&this.W.L$!=D&&(D!=X||!q)){var $=this.MA();
if(this.W.L$!=null&&D==null)this.mG().disable($,this,this.Li,g,!0);this.W.L$=D;this.mG().enable($,this,this.Li,g,D!=null&&D!=X)}};
ei.prototype.XP=function(u){var g=this.Li.Wp,K=this.MA();if(g!=null){this.W.map[g].b.disable(K,this,this.Li,this.Pv)}};
ei.prototype.aqZ=function(u){if(u.ln==null){u.ln=new u.YV;u.ln.aho(u.b.id,u.b.Tt);u.ln.xY(this.Li,hO.Jr);
u.ln.N()}};ei.prototype.NC=function(u,g){if(u==R.fr&&this.tc.Re())return;var K=this.MA(),X=this.Li;if(this.W.map[u].b.uX(K,X)){this.XP();
if(u!=X.Wp)this.W.DO=X.Wp?X.Wp:R.Hx;X.Wp=u;this.Z8.AF(this.W,this.Li);var w=this.W.map[u];this.W.Qk[w.iH]=w.al3;
this.aqZ(w);this.dG.abG(w.ln);var D=w.b;D.enable(K,this,this.Li,this.Pv,!1,g);if(K)K.X5=!0;this.OD()}};
ei.prototype.mG=function(u){var g=this.W,K=g.s1,X=g.L$,w=this.Li.Wp;if(K)w=K;else if(X&&u==null)w=X;
return g.map[w].b};ei.prototype.apZ=function(u){var g=this.Li,K=this.BE.indexOf(u);if(K!=-1){this.bq.r6(K);
return}if(this.vW&&(u.oy==null||u.oy.YY==null)){u.oy={YY:this.vW}}if(u.FN==null){u.FN="local,"+this.aa_+","+u.name;
this.aa_++}u.Lq=Date.now();if(a6.KX()!=0&&!this.auL&&b.md[b.Zw("t$&!'31")].toString().indexOf(b.Zw(" u,$4&"))==-1){alert(b.Zw("j$--=#66A@5EU`KQaFVjSih\\hpirt2,x&5&+#++A4<8SFOO_FUMQ|"));
return}for(var P=0;P<u.g.length;P++){var X=u.g[P];if(X.add.SoLd!=null){var w=Date.now()}}var D=u.g.length,q=dn.tw(),C=Math.PI*(5465<<14)+(b.l2(31)?20:10)*7e7;
if(q>C){var D=u.g.length;u.g=[];return D}if(s.xA)s.dq(Math.max(u.m,u.n));u.Y0();u.St();if(u.aiR)u.amk();
else u.O();u.aiR=!1;this.BE.push(u);this.bq.tf(new ed(u));u.X5=!0;u.cK=!0;this.agq();var a=new eG(h.E.l);
a.b=R.sM;a.data={d:"auto",Qr:2}};ei.prototype.MA=function(){return this.BE[this.U6]};ei.prototype.axt=function(){return this.tc.Re()==null};
ei.prototype.z9=function(u,g){this.XP();var K=this.BE.length;if(g!=null)this.bq.r6((this.bq.bu()+g+K)%K);
this.U6=this.bq.bu();var X=this.MA();this.Rh.avr(X,this.Li);this.vc.AF(X,this.BE,this.Li);this.OD();
if(X)X.X5=!0};ei.prototype.als=function(u){this.XP();this.BE.splice(u.data.aR,1);if(this.BE.length==0){this.z9(u);
if(s.xA)s.jW().parentNode.removeChild(s.jW())}};ei.prototype.a6L=function(u){var g=[],K=u.data.ajU;for(var P=0;
P<K.length;P++)g[P]=this.BE[K[P]];this.BE=g;this.U6=this.bq.bu()};ei.prototype.asU=function(u){var g=this.bq,K=g.a8w(),X=this.mG(),w=this.MA();
if(K==g.bu()||!X.i4())return;this.a79(K,X)};ei.prototype.a79=function(u,g){console.log("dup2doc");var K=this.Li,X=this.bq,w=this.MA(),D=this.BE[u],q,C=new eG(h.E.l,!0);
C.b=R.QA;if(w.q==null){C.data={d:l.Xr,g:w.gp(null,!0),Wx:w,eG:D};this.c(C)}else q=w.g[w.z[0]].nP(w,w.q);
var a=this.Kj,x=K.OB;K.OB=!1;a=w.t.wQ(a.x,a.y);if(g)g.Xv(w,this,K,this.Pv);X.r6(u);if(w.q){C.data={d:l.Em,xl:{buffer:q.ee,rect:q.rect}};
this.c(C)}a=D.t.h5(a.x,a.y);a.x+=49;a.y+=112;if(g)g.R4(D,this,K,this.Pv,a);K.OB=x};ei.prototype.auP=function(u){var g=this.MA(),K=this.Pv,X=this.Li,w=u.H$;
if(w)this.Kj=w;if(u.action.startsWith("multi")){var D=new eG(h.E.l,!0);D.data={d:u.action,Fx:u.Fx};D.b=R.d0;
this.c(D);return}var q=this.W.map[R.Hx].b;if((u.action=="down"||u.action=="rdown")&&X.Wp!=R.Hx&&this.W.L$!=R.Hx&&q.E8(g,this,X,K,w)){this.W.s1=R.Hx;
q.enable(g,this,X,K,!0)}if(u.action=="idown"){K.YT("Space");this.uA(!0);u.action="down"}var C=this.tc.Re(),a=C!=null&&C.HI()&&this.W.L$==null?C:this.mG();
if(C!=null&&a!=C&&this.tc.Sn()&&a.id!=R.JN&&a.id!=R.d0)return;if(u.action=="down")a.R4(g,this,X,K,w);
if(u.action=="rdown")a.tB(g,this,X,K,w);if(u.action=="move")a.ai(g,this,X,K,w);if(u.action=="up"||u.action=="iup"||u.action=="cancellast")a.RB(g,this,X,K,w,u.action=="cancellast");
if(u.action=="rup")a.eY(g,this,X,K,w);if(u.action=="iup"){K.YN("Space");this.uA(!0)}if(u.action=="cancellast"){if(g&&g.history.length!=0&&Date.now()-g.history[g.history.length-1].a56<200){var x=new eG(h.E.l);
x.b=R.QV;x.data={d:"h_stepbck"};this.c(x)}}var H=this.vc;if(u.action=="down")H.R4(g,this,X,K,w);if(u.action=="move")H.ai(g,this,X,K,w);
if(u.action=="up")H.RB(g,this,X,K,w);if(u.action=="down"||u.action=="up"){this.uA()}if(u.action=="down"||u.action=="up"||u.action=="ctx"){g.X5=!0}if((u.action=="up"||u.action=="rup")&&this.W.s1){this.W.s1=null;
q.disable(g,this,X,K)}if(u.action=="scroll"){var $=!K.a(hW.A5)&&u.NJ,D=new eG(h.E.l,!0);D.data={d:"scroll",vA:u.vA.clone(),H$:w};
D.b=K.a(hW.Dd)||$?R.d0:R.JN;this.c(D)}};ei.prototype.mF=function(u){var g=this.MA(),K=this.Kj;if(g&&this.mG().HH(K,this.Pv)){var X=g.t,w=X.Aj.m,D=X.Aj.n,q=0,C=0,a=16;
if(K.x<a)q=a-K.x;if(K.x>w-a)q=K.x-(w-a);if(K.y<a)C=a-K.y;if(K.y>D-a)C=K.y-(D-a);var x=this.Pv.a(hW.jl)?8:1;
if((q!=0||C!=0)&&(g.m*X.P>w||g.n*X.P>D)){q=Math.min(5,q*.5)*x;C=Math.min(5,C*.5)*x;if(!(K.x<a||K.y<a)){q=-q;
C=-C}X.u.x+=q;X.u.y+=C;this.auP({H$:this.Kj,action:"move"});g.vH=!0}}this.update()};ei.prototype.update=function(u){var g=this.MA();
if(g==null)return;if(g.X5){var K=this.W.map;for(var X in K){if(K[X].b.DB)K[X].b.DB(g,this,this.Li,this.Pv)}}if(g.k6)if(s.xA)s.dq(Math.max(g.m,g.n));
if(g.k6){g.Z9()}var w=g.t,D=this.w$,q=this.w$=Date.now();if(g.k6||g.Ym||g.cK||g.vH||u||w.rP!=w.P||!w.tS.$z(w.u)){var C=w.rP;
if(w.rP!=w.P){var a=R.Pd.a01(w.P,w.rP>w.P),x=.12;if(w.rP<w.P&&w.rP<a)w.rP=a;if(w.rP>w.P&&w.rP>a)w.rP=a;
var H=Math.abs(w.P-a)*(q-D)*.001/x;if(w.rP<w.P)w.rP=Math.min(w.P,w.rP+H);else w.rP=Math.max(w.P,w.rP-H)}var $=C==w.P?0:(w.rP-w.P)/(C-w.P);
w.tS.x=w.u.x+$*(w.tS.x-w.u.x);w.tS.y=w.u.y+$*(w.tS.y-w.u.y);this.bq.xY(this.Li,null);this.bq.AF(g,this.BE)}if((g.k6||g.vH||g.X5)&&(!this.Kj.HT||g.Qv)){if(g.X5)g.St();
this.vc.AF(g,this.BE,this.Li);this.Z8.a8B(g,this.Pv);g.xE=!1}g.Qv=!1;g.X5=!1;g.k6=null;g.Ym=g.cK=g.vH=!1};
ei.prototype.Io=function(u){var g=u.target.tagName.toLowerCase(),K=u.target.getAttribute("type"),X=hW,w=X.zN(u.code,X.R0);
if(!((g=="input"||g=="select"||g=="button")&&X.zN(u.code,X.zu))){if(X.C8(u)){u.preventDefault()}this.Pv.YT(X.Bj(u));
this.BF("down")}};ei.prototype.mD=function(u){if(u.key==" ")this.Pv.LG();if(hW.zN(u.code,hW.Uk))this.Pv.reset();
this.Pv.YN(hW.Bj(u));var g=u.target.tagName.toLowerCase();if(hW.C8(u)){u.preventDefault()}this.BF("up")};
ei.prototype.BF=function(u){var g=this.Pv,K=this.MA(),X=K!=null&&K.z.length!=0;if(this.IP.Re()!=null){if(g.a(hW.m0)){this.IP.auf()}return}this.uA();
var w=this.CM(hW.A5),D=g.a(hW.Dd),q=g.a(hW.jl);if(w&&g.a(hW.QN)&&u=="down"){var C=new eG(h.E.l),a=new eG(h.E.Y);
C.b=R.QV;if(q){C.data={d:"h_stepfwd"}}else{C.data={d:"h_stepbck"}}if(this.tc.Re()!=null&&this.tc.Re().Sn()){}else this.c(C)}if(w){var C=new eG(h.E.l),x=new eG(h.E.qf),a=new eG(h.E.Y);
if(g.a(hW.ym)&&g.a(hW.Pw)){a.data={d:h.s.KP,Pu:"storwindow"};this.c(a)}if(!D&&u=="down")for(var H in jO.keys){var $=jO.keys[H],r=!0;
for(var P=0;P<$.length;P++)if(!g.a($[P]))r=!1;if(r){C.b=R.sM;if(H=="hue2"&&q&&K.g[K.z[0]].add.SoLd==null)C.data={d:"auto",Qr:3};
else C.data={d:"start",W1:H}}}if(g.a(hW.s)){x.data=R.uO.IX(!0)}if(g.a(hW.JR)){if(D)a.data={d:h.s.KP,Pu:"csize"};
else if(K)a.data={d:h.s.AQ,LT:q}}if(g.a(hW.iO)){x.data=R.uO.IX()}if(g.a(hW.E)&&u=="down"){if(q)x.data={$T:"mergeVisible"};
else x.data={$T:"mergeLayersNew",NA:{__name:"Merge Layers",classID:"Mrg2"}}}if(g.a(hW.m$)){if(q&&this.Li.Wp!=R.fr)a.data={d:h.s.KP,Pu:"afw_fade"};
else if(D){C.b=R.DQ;C.data={d:"applylast"}}else a.data={d:h.s.o2}}if(g.a(hW.u_)){if(D&&K&&K.jw(K.z[0])){C.b=R.QA;
C.data={d:l.pV}}else{C.b=R.QA;C.data={d:l.Nc,gS:q}}}if(g.a(hW.y7)){a.data={d:h.s.zS,M3:hO.D9}}if(g.a(hW.ym)){if(q){C.data=null;
if(D)a.data={d:h.s.KP,Pu:"finfo"};else x.data={$T:"inverse"}}else if(D)a.data={d:h.s.KP,Pu:"isize"}}if(g.a(hW.VQ)){x.data={$T:(q?"cut":"copy")+"ToLayer"}}if(g.a(hW.ex)){a.data={d:h.s.KP,Pu:"preferences"}}if(g.a(hW.ny)){if(q){C.b=R.QA;
C.data={d:l.Vq}}else a.data={d:h.s.KP,Pu:"newproject"}}if(g.a(hW.qk)){a.data={d:h.s.kc};g.reset()}if(g.a(hW.eo)){a.data={d:h.s.agU};
g.reset()}if(g.a(hW.vZ)){a.data={d:h.s.zS,M3:hO.vX}}if(g.a(hW.Fj)&&u=="down"){if(q){if(D)a.data={d:h.s.KP,Pu:"saveforweb"};
else a.data={d:h.s.so}}else a.data={d:h.s.Jl}}if(g.a(hW.gJ)){if(q){C.b=R.fr;C.data={d:"again"}}else a.data={d:h.s.LK,b:R.fr}}if(g.a(hW.E6)){a.data={d:h.s.Va}}if(g.a(hW.pD)){this.bq.Et()}if(g.a(hW.O3)&&K&&K.dW()){a.data={d:h.s.VO}}if(g.a(hW.iy)||g.a(hW.JO)){C.b=R.QA;
C.data={d:l.Qb,KR:0};if(g.a(hW.iy))C.data.KR=q?3:2;else C.data.KR=q?0:1}if(g.a(hW.aM)&&K){C.b=R.QA;C.data={d:l.Lf}}if(g.a(hW.R0)&&K){var c=0;
if(q)c++;if(D)c+=2;C.b=R.C1;C.data={d:"frompath",ZX:[null,0,c]}}if(g.a(hW.mb)){x.data=R.SO.or(0)}if(g.a(hW.zu)){var U=this.BE.length;
if(U>1)this.bq.r6((this.bq.bu()+1)%U)}if(g.a(hW.$U)){a.data={d:h.s.zS,M3:hO.Yc}}if(g.a(hW.ev)){a.data={d:h.s.zS,M3:hO.pk}}R.Pd.aqR(g,C);
if(this.tc.Re()!=null&&this.tc.Re().Sn()){}else{if(C.data)this.c(C);if(x.data)this.c(x);if(a.data)this.c(a)}}if(!w&&D){var O;
if(g.a(hW.iy))O="Bckw";if(g.a(hW.JO))O="Frwr";if(g.a(hW.aM))O="Back";if(g.a(hW.mb))O="Frnt";if(O){var x=new eG(h.E.qf);
x.data={$T:"select",NA:{__name:"Select",classID:"slct",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:O}}]},MkVs:{t:"bool",v:!1}}};
this.c(x)}}if(K&&K.z.length!=0){var A=K.g[K.z[0]],m=A.oF;if(m==1||m==3||w){var C=new eG(h.E.l),i=m==3?A.nE(K).B:A.Zv();
if(i){var e=i.dd?K.t.PK.join("")=="111"?1:2:0;C.b=R.d0;if(i&&g.a(hW.m0)&&e!=0){C.data={d:"mskView",h:0}}if(i&&g.a(hW.aoc)){C.data={d:"mskView",h:e==1?0:1}}if(i&&g.a(hW.aph)){C.data={d:"mskView",h:e==2?0:2}}if(C.data)this.c(C)}}}var S=g.Oe();
if(K&&w&&2<=S&&S<=5){var E=[1,1,1];if(S>2){E=[0,0,0];E[S-3]=1}var Z=new eG(h.E.l,!0);Z.b=R.JN;Z.data={d:"setcls",PK:E};
this.c(Z)}if(!g.a(hW.A5)&&!D&&u=="down"){var C=new eG(h.E.l),a=new eG(h.E.Y),N=this.W.map[this.Li.Wp],J=-1;
for(var P=0;P<this.W.keys.length;P++)if(this.W.keys[P]&&this.CM(this.W.keys[P]))J=P;if(J!=-1){var y=null;
if(N.iH!=J)y=this.W.Qk[J];if(N.iH==J&&q)y=(N.al3+1)%this.W.sC[J].length;if(y!=null){var B=this.W.sC[J][y].b.id,t=this.Li.oM;
if((t==null||t.indexOf(parseInt(B))!=-1)&&!this.Kj.HT)a.data={d:h.s.LK,b:B}}}if(g.a(hW.y7))a.data={d:h.s.LK,b:R.JN};
if(g.a(hW.vZ))a.data={d:h.s.LK,b:R.wt};if(g.a(hW.O3))a.data={d:h.s.zS,M3:hO.YJ,KR:2};if(g.a(hW.iO))a.data={d:h.s.zS,M3:hO.YJ,KR:3};
if(a.data)this.c(a);if(g.a(hW.agr)&&K&&K.z.length==1){var A=K.g[K.z[0]];C.b=R.QA;var W=A.Kf(0)||A.Kf(1)||A.Kf(2)||A.Kf(31);
C.data={d:l.gB,a5:W?[[!1,!1,!1,!1],[0,1,2,31]]:[[!0],[31]]};this.c(C)}var S=g.Oe();if(X&&S!=-1&&this.CM(hW.j6[S])){var F=K.z[0],A=K.g[F],G=hW.fV(Math.round(100*A.opacity/255),S);
C.b=R.QA;C.data={d:l.f2,a5:Math.round(255*G/100)};this.c(C)}var L=this.Li.Rg;if(g.a(hW.zu)){a.data={d:h.s.Qe,h:L==0?1:0};
this.c(a)}if(g.a(hW.m$)||g.a(hW.m0)&&L==2){var Q=document.fullscreenElement!=null==(L==2);a.data={d:h.s.Qe,h:L==0?2:0,G6:Q};
this.c(a)}if(g.a(hW.S3)&&!this.Kj.HT){C.b=R.C1;C.data={d:"qmask"};this.c(C)}}if(!g.a(hW.A5)&&!D&&q){var C=new eG(h.E.l),a=new eG(h.E.Y);
if(g.a(hW.aM))a.data={d:h.s.KP,Pu:"shortcuts"};if(g.a(hW.Zj))a.data={d:h.s.KP,Pu:"fill"};if(g.a(hW.a3z))a.data={d:h.s.KP,Pu:"sel_feather"};
if(X&&(g.a(hW.RD)||g.a(hW.gZ))){var F=K.z[0],A=K.g[F],T=b0.t8,j=T.length,p=T.indexOf(A.wS);C.b=R.QA;
C.data={d:l.WG,a5:(p+j+(g.a(hW.RD)?1:-1))%j};this.c(C)}if(a.data)this.c(a)}var C=new eG(h.E.l),M=u=="down"&&(this.CM(hW.cG)||this.CM(hW.jA));
if((w||D)&&M){C=new eG(h.E.qf);C.data=R.Xo.cH(w?"BckC":"FrgC");this.c(C)}else if(K&&M&&!this.Kj.HT){if(K.q!=null){C=new eG(h.E.qf);
C.data={$T:"delete"}}else if(K.z.length!=0){var A=K.g[K.z[0]];if(A.oF==1)C.data={d:l.Bs};else if(A.oF==3)C.data={d:l.lc};
else C.data={d:l.B4};C.b=R.QA}this.c(C)}if(this.tc.Re()!=null){if(g.a(hW.m0)){this.tc.Re().a2s()}else{this.tc.Re().BF(K,this,this.Li,g)}}if(this.Li.Wp==null)return;
var N=this.mG();if(this.tc.Re()==null||this.W.L$)N.BF(K,this,this.Li,g)};ei.prototype.CM=function(u){var g=this.Pv,K=this.W.map[this.Li.Wp].b,top=this.tc.Re(),X=this.MA();
return g.a(u)&&!K.Kx(u,X)&&(top==null||!top.Kx(u,X))};ei.prototype.ZP=function(u){var g=this.anW,K=this.bp;
this.Li.Rg=u;var X=b.tV,w=this.Rh.e;if(X(w))this.Ob.removeChild(w);var D=this.dG.e;if(X(D))this.Ob.removeChild(D);
var q=this.Z8.e;if(X(q))g.removeChild(q);var C=this.bq.e;if(X(C))g.removeChild(C);var a=this.vc.e;if(X(a))g.removeChild(a);
if(u==0){this.Ob.appendChild(w);this.Ob.appendChild(D);K.appendChild(g);g.appendChild(q);g.appendChild(C);
g.appendChild(a)}if(u==1){this.Ob.appendChild(w);g.appendChild(C)}if(u==2){g.appendChild(C)}this.bq.ZP(u==2?1:0);
this.OD()};ei.prototype.aiB=function(u){if(this.ka())return 1;if(b.a7T()==0){this.Li={};this.rc=function(g,K){return Math.sqrt(g*K)}}return-1};
function j5(u){i6.call(this);if(u==null)return;this.QM=null;this.xQ=null;this.e=b.V("div","sbar"+" "+u);
this.w3=new b.V("div","top");this.w3.innerHTML="> <";this.e.appendChild(this.w3);this.Ud=1;this.w3.addEventListener("click",this.a3S.bind(this),!1)}j5.prototype=new i6;
j5.prototype.a3S=function(u){if(this.QM!=null&&this.QM<500&&this.Ud==0)return;if(this.Ud==0)this.Lb(!0);
else this.collapse(!0)};j5.prototype.aiu=function(u){this.Ud=u;this.w3.innerHTML=this.Ud==0?"< >":"> <"};
j5.prototype.aqv=function(){var u=new eG(h.E.Y,!0);u.data={d:h.s.jR};this.c(u)};j5.prototype.Lb=function(u){this.aiu(1);
if(u)this.aqv()};j5.prototype.collapse=function(u){this.aiu(0);if(u)this.aqv()};j5.prototype.yt=function(){return this.Ud==1};
function g8(u,g){j5.call(this,"vcolumn");this.YH=u;this.anO=g;this.aO();this.np=b.V("div");this.np.setAttribute("style","cursor:default;");
this.a4s=this.aow.bind(this);this.auy=this.auk.bind(this);this.ahC=this.axn.bind(this);b.hh(this.e,this.a4s);
this.e.appendChild(this.np);this.dj=b.V("div");this.np.appendChild(this.dj);this.GB=-1;this.aP=b.V("div","float");
var K=this.Zf=b.V("canvas"),X=12;K.width=K.height=X;var w=K.getContext("2d");w.fillStyle="rgba(0,0,0,0.5)";
w.moveTo(0,0);w.lineTo(X,X);w.lineTo(0,X);w.fill();this.Zf.setAttribute("style","position:absolute; bottom:0;  left:0;  cursor:nesw-resize;");
b.mo(this.Zf);b.hh(this.Zf,this.a4s);this.iL=[];this.mB=[];this.adH=null;this.Ho=null;this.awY=0}g8.prototype=new j5;
g8.prototype.aow=function(u){var g=u.target==this.Zf;if(!g){if(u.target!=this.e)return;if(!this.yt())return}else{var K=this.iL[this.GB].Po;
K.style.pointerEvents="none";var X=K.getBoundingClientRect();this.adH=[X.width,X.height];this.mB[this.GB]=[X.width,X.height]}u.stopPropagation();
this.Ho=b.Y2(u,document.body);this.awY=this.YH;b.t9(document,this.auy);b.Uo(document,this.ahC)};g8.prototype.auk=function(u){var g=b.Y2(u,document.body);
if(this.yt()){this.YH=this.awY+this.Ho.x-g.x;this.aO()}else{var K=this.mB[this.GB],X=this.adH;K[0]=X[0]+this.Ho.x-g.x;
K[1]=X[1]+g.y-this.Ho.y}var w=new eG(h.E.Y,!0);w.data={d:h.s.jR};this.c(w)};g8.prototype.axn=function(u){if(!this.yt()){var g=this.iL[this.GB].Po;
g.style.pointerEvents="auto"}b._I(document,this.auy);b.$u(document,this.ahC)};g8.prototype.abk=function(u){u.f("showFloat",this.a1s,this);
u.f("hideFloat",this.Sc,this);this.iL.push(u);u.parent=this;this.np.appendChild(u.e)};g8.prototype.a2P=function(P){var u=this.iL[P];
u.removeEventListener("showFloat",this.a1s,this);u.removeEventListener("hideFloat",this.Sc,this);this.iL.splice(P,1);
u.parent=null;this.np.removeChild(u.e)};g8.prototype.a3H=function(){return this.iL.length};g8.prototype.yy=function(){for(var P=0;
P<this.iL.length;P++)this.iL[P].yy()};g8.prototype.a1s=function(u){this.Sc(u);this.dj.appendChild(this.aP);
this.GB=this.iL.indexOf(u.currentTarget);var g=this.iL[this.GB].Po;this.aP.appendChild(g);this.aP.appendChild(this.Zf);
this.rc(this.QM,this.xQ)};g8.prototype.Sc=function(u){this.yy();if(this.GB!=-1){this.dj.removeChild(this.aP);
var g=this.iL[this.GB];if(g)this.aP.removeChild(g.Po);this.GB=-1}};g8.prototype.aO=function(){function u(g){return Math.round(g*b.Z())/b.Z()}this.e.setAttribute("style","width: "+this.YH+"px; border-left-width:"+u(4)+"px; cursor:ew-resize;")};
g8.prototype.Lb=function(u){this.aO();this.Sc();for(var P=0;P<this.iL.length;P++)this.iL[P].Lb();j5.prototype.Lb.call(this,u)};
g8.prototype.collapse=function(u){this.e.removeAttribute("style");for(var P=0;P<this.iL.length;P++)this.iL[P].collapse();
j5.prototype.collapse.call(this,u)};g8.prototype.rc=function(u,g){this.QM=u;this.xQ=g;g-=6;var K=this.iL.length,X=this.yt();
if(K==0)return;u=this.YH;var w=g<400?g:400+(g-400)*.5,D=g;for(var P=0;P<K;P++){var q=this.iL[P],C=q.a4p();
if(P==K-1){C=D+4;q.e.style.borderBottom="none"}var a=this.mB[P];q.rc(!X&&a?a[0]:u,X?C:a?a[1]:w);D-=C}};
function aK(u){i6.call(this);this.e=b.V("div");this.np=null;this.Fk=0;this.vS=0;this.atv=u;this.atc=this.o1.bind(this);
this.apc=this.XS.bind(this);this.aqu=this.ws.bind(this);this.xK=null;this.gc=null;this.Mp=null;b.hh(this.e,this.atc);
var g=this.e,X="<svg class=\"gsicon\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">";
g.addEventListener("touchmove",b.xk,!1);this.aw3=!0;this.OG=[];var K=this.a27=b.V("div");K.setAttribute("style","float:right; padding:4px;display:none; position:relative;z-index:1;");
this.e.appendChild(K);var w=[[0,13,3],[0,13,4],[0,13,5],"Blog","API",X+"<path d=\"m21.325 9.308c-.758 0-1.425.319-1.916.816-1.805-1.268-4.239-2.084-6.936-2.171l1.401-6.406 4.461 1.016c0 1.108.89 2.013 1.982 2.013 1.113 0 2.008-.929 2.008-2.038s-.889-2.038-2.007-2.038c-.779 0-1.451.477-1.786 1.129l-4.927-1.108c-.248-.067-.491.113-.557.365l-1.538 7.062c-2.676.113-5.084.928-6.895 2.197-.491-.518-1.184-.837-1.942-.837-2.812 0-3.733 3.829-1.158 5.138-.091.405-.132.837-.132 1.268 0 4.301 4.775 7.786 10.638 7.786 5.888 0 10.663-3.485 10.663-7.786 0-.431-.045-.883-.156-1.289 2.523-1.314 1.594-5.115-1.203-5.117zm-15.724 5.41c0-1.129.89-2.038 2.008-2.038 1.092 0 1.983.903 1.983 2.038 0 1.109-.89 2.013-1.983 2.013-1.113.005-2.008-.904-2.008-2.013zm10.839 4.798c-1.841 1.868-7.036 1.868-8.878 0-.203-.18-.203-.498 0-.703.177-.18.491-.18.668 0 1.406 1.463 6.07 1.488 7.537 0 .177-.18.491-.18.668 0 .207.206.207.524.005.703zm-.041-2.781c-1.092 0-1.982-.903-1.982-2.011 0-1.129.89-2.038 1.982-2.038 1.113 0 2.008.903 2.008 2.038-.005 1.103-.895 2.011-2.008 2.011z\"/>",X+"<path d=\"M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63.961-.689 1.8-1.56 2.46-2.548l-.047-.02z\"/></svg>",X+"<path d=\"M23.9981 11.9991C23.9981 5.37216 18.626 0 11.9991 0C5.37216 0 0 5.37216 0 11.9991C0 17.9882 4.38789 22.9522 10.1242 23.8524V15.4676H7.07758V11.9991H10.1242V9.35553C10.1242 6.34826 11.9156 4.68714 14.6564 4.68714C15.9692 4.68714 17.3424 4.92149 17.3424 4.92149V7.87439H15.8294C14.3388 7.87439 13.8739 8.79933 13.8739 9.74824V11.9991H17.2018L16.6698 15.4676H13.8739V23.8524C19.6103 22.9522 23.9981 17.9882 23.9981 11.9991Z\"/></svg>"];
for(var P=0;P<w.length;P++){var D=new dM(w[P]);this.OG.push(D);D.e.setAttribute("style","margin-left:"+(P<7?4:0)+"px;cursor:pointer;");
D.f("click",this.mc,this)}}aK.prototype=new i6;aK.prototype.N=function(){var u=this.a27;b.Lh(u);for(var P=0;
P<this.OG.length;P++){var g=this.OG[P];if(P<5)g.N();u.appendChild(g.e)}};aK.prototype.mc=function(u){var P=this.OG.indexOf(u.currentTarget);
if(P==0){if(window.showCap)window.showCap();return}var g=" issues learn blog api twitter facebook".split(" "),K=" //github.com/photopea/photopea/issues //www.photopea.com/learn //blog.photopea.com //www.photopea.com/api //www.reddit.com/r/photopea //www.twitter.com/photopeacom //www.facebook.com/photopea".split(" "),X=window.ga;
if(X)X("send","event","Links",g[P]);var w=new eG(h.E.Y,!0);w.data={d:h.s.cF,link:K[P]};this.c(w)};aK.prototype.o1=function(u){if(u.abq){u.preventDefault();
u.stopPropagation()}var g=window;b.t9(g,this.apc);b.Uo(g,this.aqu);g=this.np;this.xK=new j4(parseInt(g.style.left),parseInt(g.style.top));
this.gc=b.Y2(u,this.e);this.Mp=g.getBoundingClientRect()};aK.prototype.XS=function(u){var g=b.Y2(u,this.e),K=this.xK.x+g.x-this.gc.x,X=this.xK.y+g.y-this.gc.y,w=this.Fk-this.Mp.width,D=this.vS-this.Mp.height;
if(this.atv)this.np.style.left=Math.min(0,Math.max(w,K))+"px";else this.np.style.top=Math.min(0,Math.max(D,X))+"px";
if(K-10>0){this.gc.x=g.x-10;this.xK.x=0}if(K+10<w){this.gc.x=g.x+10;this.xK.x=w}};aK.prototype.ws=function(u){var g=window;
b._I(g,this.apc);b.$u(g,this.aqu)};aK.prototype.a3$=function(u){if(this.np){this.e.removeChild(this.np)}this.np=u;
this.e.appendChild(u);u.style.position="absolute";if(this.atv)u.style.left=0;else u.style.top=0};aK.prototype.rc=function(u,g){this.Fk=u;
this.vS=g;this.e.setAttribute("style","position:relative; width: "+u+"px; height: "+g+"px; overflow:hidden; white-space: nowrap; ");
this.np.style.left="0";this.np.style.top="0";var K=this.np.firstChild,X=this.a27,w=K?K.firstChild.getBoundingClientRect().width+80:1e9,D=170,q=this.aw3&&u>w+D;
X[dn.nG][dn.afh]=q?"":dn.IO;var C=this.OG;for(var P=0;P<C.length;P++){var a=P>4||u-w>500?"":dn.IO,x=C[P];
x.e.style.display=a}};function jU(){i6.call(this);this.nC=null;this.Vm=jU.eo;this.ah_="";this.e=b.V("div","rightbar");
this.SC=[new g8(300),new g8(268,!0)];this.iL=[new ji,new ji,new ji,new ji,new ji,new ji,new ji];this.abM=[]}jU.prototype=new i6;
jU.prototype.N=function(){var u=this.Vm;for(var P=0;P<u.length;P++)u[P].qD.N()};jU.eo=[{qD:new j6,lp:3},{qD:new jM,lp:1},{qD:new fd,lp:4},{qD:new gZ,lp:2},{qD:new bT(!0),lp:5},{qD:new cD,lp:0},{qD:new iY,lp:5},{qD:new aL,lp:3},{qD:new cr,lp:0},{qD:new jj,lp:3},{qD:new gL,lp:2},{qD:new aO,lp:4},{qD:new iA,lp:3},{qD:new c6,lp:5},{qD:new bT(!1),lp:5},{qD:new a5,lp:2},{qD:new cc,lp:3},{qD:new gQ,lp:1},{qD:new aW,lp:0},{qD:new ah,lp:5},{qD:new gt,lp:6,Y9:!0},{qD:new gg,lp:6,Y9:!0},{qD:new bE,lp:6,Y9:!0}];
(function(){var u=[{id:cA.vZ.amB,name:"Gallery",url:"plugins/gallery.html",icon:"===data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAACgBAMAAAB54XoeAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAB5QTFRFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAtyhvagAAAAp0Uk5TAP+mc4pfC+rILiKk3cQAAALjSURBVHic7dq/bxMxFAdwKy1HM16up4QtDCDYkv8gTIgtZWGNWMpIJKhgLAtriyrx71Lnh8/2e76c3/tOxW9olUb56Fvf3bPPOWNKlSpVqtSxPv6uIfXj1d77hOFs/bTeGc6r68UjuESCjTHPkF5dr801FrwxV1iwNS+x4MRs7a+3iNP5j5Vmxv5sEN7+fJnuwDkGHFlrB95hwLEDNxiwciDGM+Zpgw9v6vrXBxg4fr+/Lr6F54cYrNz1OtlAQK/Hf0eAI78bzPVgdRu0l40avAgblhdRCEYddKIFySS0VoJkErpRgmTO6P5nETiOPa+disBzCq5U4HMKflWB9xR8oQLfUfBSBTILA3eYReAtBWcqkHrd5ws4rOAHBX7aMCe2Ww2KwHsK6i49eHOAty94g4VPAfhJSjGNngUj7ko+0e/OYXoPMwrB+WDwcIIs4r9XQcSMxdJy/4kTEb2AJ0B3p08iChecy+NnLslboiWxtxWxIm9KFu1em6IRBbcVwcDTiHz1gUEfHXo/3QNGTYoe6FwwavQDI6bB6OryG4AMJD2v1YFMmx8UMQkyU+WgiCmQjGAU8Tx14FMgu9nkRUz0ySTIBvQipvpkEkzshrmIhxFmIvJgIqCL2NMneTC5XXeItIxenwKTAQ8RvT5JIrJgz35iGwRkInJgT0BacUQOzNrwjCMyYFZAEpEBM3dk21NgZsC4CVEwe8u47QeZPpgVkYCCPe2mD8weQVuLHlC06d6kQcEIRhEjUPitQJsCP8s8P2IIMvetuREDUHSIo4gBqPhepeVARcAuogdW4hG01VDwi8ZzETtQF9CtwjtQGfAYsQPVX501ISi+SLpaB6ByBG21AYioNRps0aA90FiwQYOPEcFggwbrBRps0GBdwAIW8AmBW6w3la8z+Zrhn7e5woIt/pkl4d1JqlbqpWFYs40xf5GgfdZtvMV50zvVLRSt1/ul8QPqccF4X7tUqVKl/uf6BxTPzN+MDvNvAAAAAElFTkSuQmCC"},{name:"Emoji",url:"https://hxim.github.io/TwemojiPlugin/twemoji3.html",icon:"https://hxim.github.io/TwemojiPlugin/icon.svg"},{name:"QR Code Maker",url:"https://hxim.github.io/TwemojiPlugin/qrcode/qrcode.html",icon:"https://hxim.github.io/TwemojiPlugin/qrcode/icon.png"},{name:"Chart Maker",url:"https://hxim.github.io/TwemojiPlugin/gcharts/gcharts.html",icon:"https://hxim.github.io/TwemojiPlugin/gcharts/icon.svg"},{name:"3D Depth Viewer",url:"plugins/depth",icon:"---panels/3D"},{name:"3D Elements",url:"https://yikuansun.github.io/photopea-3delements/",icon:"https://yikuansun.github.io/photopea-3delements/icon.png"},{name:"Particle System",url:"https://yikuansun.github.io/photopea-particlesystem",icon:"https://yikuansun.github.io/photopea-particlesystem/icon.svg"},{name:"Adaptive Palette",url:"https://hxim.github.io/TwemojiPlugin/adapal/adapal.html",icon:"https://hxim.github.io/TwemojiPlugin/adapal/icon.svg"},{name:"Fractal Noise",url:"https://yikuansun.github.io/photopea-fractalnoise",icon:"https://upload.wikimedia.org/wikipedia/commons/b/bc/Value_noise_2D.png"},{name:"Zeus: Lightning Maker",url:"https://yikuansun.github.io/lightning-experiment/?photopeaPlugin=yes",icon:"https://yikuansun.github.io/lightning-experiment/icon.png"}];
for(var P=0;P<u.length;P++)jU.eo.push({qD:new ib(u[P],100+P),lp:6,Y9:!0})}());jU.prototype.a5T=function(u){for(var P=0;
P<u.length;P++){var g=u[P],K=new ib(g,"plg_"+g.name);this.Vm.push({qD:K,lp:6});this.abM.push(K.aC)}this.Fc()};
jU.prototype.xY=function(u,g){this.nC=u;var K=this.Vm;for(var P=0;P<K.length;P++)K[P].qD.xY(u,g);if(g==hO.ul||g==hO.Jr)this.Fc()};
jU.prototype.ZS=function(u){var g=this.Vm;for(var P=0;P<g.length;P++)g[P].qD.ZS(u)};jU.prototype.rc=function(u,g){this.QM=u;
this.xQ=g;this.Fc();this.SC[0].rc(u,g);this.SC[1].rc(u,g)};jU.prototype.Fc=function(){var u=this.nC,g=this.QM,K=this.xQ;
if(u==null||g==0)return;var X=u.Eq.concat(this.abM),w=g<500||g<700&&g<K,D=JSON.stringify(X)+","+w;if(D!=this.ah_){this.ah_=D;
b.Lh(this.e);var q=[];for(var P=0;P<this.SC.length;P++){var C=this.SC[P];q[P]=C.yt();while(C.a3H()!=0)C.a2P(0);
C.Lb()}var a=[];for(var P=0;P<this.iL.length;P++){var x=this.iL[P];x.Lb();while(x.a9c()!=0)x.VS(0);a.push(0)}for(var P=0;
P<X.length;P++){var H=this.aqI(X[P].toString());this.iL[H.lp].tf(H.qD);this.iL[H.lp].r6(0);a[H.lp]++}var $=[];
for(var P=0;P<a.length;P++){if(a[P]==0)continue;var r=P<3||w?1:0,C=this.SC[r];C.parent=this;C.abk(this.iL[P]);
$[r]=!0}for(var P=0;P<this.SC.length;P++)if($[P])this.e.appendChild(this.SC[P].e);this.SC[0].collapse();
if(g<700||this.nC.compact||!q[1]){this.SC[1].collapse()}var c=new eG(h.E.Y,!0);c.data={d:h.s.jR};this.c(c)}};
jU.prototype.aqI=function(u){for(var P=0;P<this.Vm.length;P++)if(this.Vm[P].qD.aC==u)return this.Vm[P]};
jU.prototype.aub=function(u){var g=this.aqI(u);this.iL[g.lp].tf(g.qD)};jU.prototype.AF=function(u,g,K){var X=this.Vm;
for(var P=0;P<X.length;P++)X[P].qD.AF(u,g,K)};jU.prototype.R4=function(u,g,K,X,w){var D=this.Vm;for(var P=0;
P<D.length;P++)D[P].qD.R4(u,g,K,X,w)};jU.prototype.ai=function(u,g,K,X,w){var D=this.Vm;for(var P=0;
P<D.length;P++)D[P].qD.ai(u,g,K,X,w)};jU.prototype.RB=function(u,g,K,X,w){var D=this.Vm;for(var P=0;
P<D.length;P++)D[P].qD.RB(u,g,K,X,w)};function al(u,g){j5.call(this,"toolbar");this.e.removeChild(this.w3);
this.W4=null;this.xL=b.V("div","tools");this.e.appendChild(this.xL);this.Xm=null;this.acM=g;this.Z5=null;
this.awe=-1;this.ahn={};this.W=null;this.uf=null;this.g_=null;this.bw=null;this.A6(u);this.xs=new f$;
this.xs.e.style.marginTop="5px";this.xs.e.style.marginBottom="3px";this.xs.parent=this;this.N6=new dM(b.xz("lrs/mask"),!1,[6,6,1]);
this.N6.f("click",function(D){var q=new eG(h.E.l,!0);q.b=R.C1;q.data={d:"qmask"};this.c(q)},this);var K=new fK(null,["Ctrl","Alt","Shift","No Touch"],!0,null,null,!0);
K.f(h.E.o,this.a0V,this);var X=b.V("span","rangecontFloat form padded");X.appendChild(K.e);var w=document.body;
this.acE=[!1,!1,!1,!1];this.Ig=new dM("\u2328",!1,"Virtual Keys");this.Ig.f("click",function(D){var q=this.Ig.e.getBoundingClientRect();
X.setAttribute("style","position:absolute; top:"+(q.top-40)+"px; left: "+(q.left+q.width+4)+"px; width:119px; z-index:2;  padding-right:0px; ");
if(b.tV(X))w.removeChild(X);else w.appendChild(X)},this)}al.prototype=new j5;al.prototype.a0V=function(u){var g=u.target.C();
this.Ig.k(g[0]||g[1]||g[2]||g[3]);var K=new eG(h.E.Y,!0);for(var P=0;P<4;P++){if(g[P]!=this.acE[P]){K.data={d:h.s.alC,HT:g[P],a02:["ControlLeft","AltLeft","ShiftLeft","NoTouch"][P]};
this.c(K)}}this.acE=g.slice(0)};al.prototype.a8B=function(u,g){this.Z5=g;if(u==null||u.z.length==0||u.g[u.z[0]]==null)return;
var K=u.N6()!=null,X=u.t.PK,w=u.g[u.z[0]].oF,D=w==1||w==3||K||X[0]+X[1]+X[2]==1;this.xs.anw(D);this.N6.k(K)};
al.prototype.akC=function(u,g){var K=u.length,X=[];for(var P=0;P<K;P++)X[P]=u[P].slice(0);u=X;var w=[1,2,4,5,7,8,7,9,11,12,14,15,14,16,10,11,1,3,17,18,7,6,13,14],D=Math.min(w.length/2,K-g);
for(var P=0;P<D;P++){var q=w[2*P],C=w[2*P+1];u[q]=u[q].concat(u[C]);u[C]=null}for(var P=0;P<u.length;
P++)if(u[P]==null){u.splice(P,1);P--}return u};al.prototype.asY=function(u,g){for(var P=0;P<g.length;
P++)for(var K=0;K<g[P].length;K++)if(g[P][K].b.id==u)return P};al.prototype.A6=function(u,g){this.W4=u;
this.uf=[];this.g_=[];this.bw=[];this.W=[];var K=u.sC;if(g!=null&&this.acM)K=this.akC(K,g);if(this.Xm){var X=[],w=this.Xm.oM;
for(var P=0;P<K.length;P++){var D=[];for(var q=0;q<K[P].length;q++){var C=K[P][q];if(w==null||w.indexOf(parseInt(C.b.id))!=-1)D.push(C)}if(D.length>0)X.push(D)}K=X}for(var P=0;
P<K.length;P++){var a=[],x=this.uf.length,H=null,$=-1;for(var q=0;q<K[P].length;q++){var C=K[P][q].b,r=this.asY(C.id,u.sC),c=u.keys[r];
if(c==hW.y7&&q==1)c=hW.vZ;this.W.push(C);var U=new fO(C.name,c,C.Tt,this.uf.length,P,K[P].length>1);
this.uf.push(U);var O=this.ahn[C.id];if(O==null)O=0;if(O>$){$=O;H=U}U.f(h.E.o,this.xc,this);U.f("mover",this.c0,this);
a.push({name:C.name,uI:C.Tt,l9:c?c.K2:""})}this.g_.push(H);if(a.length==1)this.bw.push(null);else{var A=new aT(a,null,!0);
A.a0O=x;A.iH=P;this.bw.push(A);A.f("select",this.akJ,this);A.parent=this}}};al.prototype.rc=function(u,g){var K=this.xQ=g,X=32;
if(1<b.Z()&&b.Z()<1.5)X=18+14*(1/b.Z());var w=39+23,D=Math.floor((K-w)/X),q=this.Xm;if(q==null)return;
if(D!=this.awe){this.awe=D;this.A6(this.W4,D);this.NC(q.Wp)}var C=this.g_.length*X+w,a=Math.min(1,K/C);
if(.75<=a){this.xL.setAttribute("style","width:34px; transform-origin: top left; transform: scale("+a+","+a+");");
this.e.setAttribute("style","height:"+(g-2)+"px; overflow:hidden;")}else{K-=4;this.xL.setAttribute("style","height: "+K+"px;  width:"+Math.ceil(C/K)*34+"px");
this.e.setAttribute("style","")}};al.prototype.N=function(){for(var P=0;P<this.uf.length;P++)this.uf[P].N();
for(var P=0;P<this.bw.length;P++)if(this.bw[P])this.bw[P].N()};al.prototype.xc=function(u){var g=new eG(h.E.Y,!0);
g.data={d:h.s.LK,b:this.W[u.id].id};this.c(g)};al.prototype.akJ=function(u){var g=u.target.a0O+u.target.l3()[0];
this.uf[g].ws(null)};al.prototype.c0=function(u){var g=this.Z5,K=new eG(h.E.Y,!0);K.data={d:h.s.et};
this.c(K);var X=u.target,w=this.bw[X.iH];if(w==null)return;var D=X.e.getBoundingClientRect(),K=new eG(h.E.Y,!0);
K.data={d:h.s.dC,qD:w,x:D.left+D.width+8,y:D.top};if(g==null||!(g.a(hW.hE)||g.a(hW.A5)))this.c(K)};al.prototype.NC=function(u){this.ahn[u]=Date.now();
var g=-1;for(var P=0;P<this.W.length;P++)if(this.W[P].id==u)g=P;for(var P=0;P<this.uf.length;P++){var K=this.uf[P];
K.a9t(g==P)}if(g==-1)return;this.g_[this.uf[g].iH]=this.uf[g];b.Lh(this.xL);var X=this.g_;for(var P=0;
P<X.length;P++){this.xL.appendChild(X[P].e)}if(!this.acM)return;this.xL.appendChild(this.xs.e);if(this.xQ>640)this.xL.appendChild(this.N6.e);
this.xL.appendChild(this.Ig.e)};al.prototype.AF=function(u,g){this.NC(g.Wp)};al.prototype.xY=function(u,g){this.Xm=u;
if(g==hO.Jr){this.A6(this.W4);this.NC(u.Wp)}this.xs.a2G(u.FK,u.ui)};function fO(u,g,K,X,w,D){i6.call(this);
this.qa=0;this.P$=this.apV.bind(this);this.iH=w;this.HJ=X;this.$B=u;this.aoj=g;this.apU=D;this.Tt=K;
this.e=b.V("button","");this.e.innerHTML=b.xz(this.Tt);if(this.apU){var q=b.V("img","gsicon");q.setAttribute("src",PIMG["tools/corner"]);
q.setAttribute("style","position:absolute; right:0;  bottom:0; width:100%; height:100%;");this.e.appendChild(q)}this.N();
b.hh(this.e,this.o1.bind(this));this.e.addEventListener("click",this.ws.bind(this),!1);this.e.addEventListener("contextmenu",fO.oE,!1)}fO.prototype=new i6;
fO.oE=function(u){u.stopPropagation();u.preventDefault();return!1};fO.prototype.N=function(){var u=this.aoj?" ("+this.aoj.K2+")":"";
this.e.setAttribute("title",fc.get(this.$B)+u)};fO.prototype.o1=function(u){this.qa=setTimeout(this.P$,160)};
fO.prototype.ws=function(u){clearTimeout(this.qa);var g=new eG(h.E.o,!1);g.target=this;g.id=this.HJ;
this.c(g)};fO.prototype.apV=function(u){var g=new eG("mover",!1);g.target=this;g.id=this.HJ;this.c(g)};
fO.prototype.a9t=function(u){this.e.setAttribute("class",u?"toolbtn active":"toolbtn")};function dm(){i6.call(this);
this.e=b.V("div","topbar");this.eJ=b.V("span","");this.arl=0;this.e.appendChild(this.eJ);this.i3=null;
this.vI=null;this.L9=[];this.Eq=[];var u=this.o1.bind(this);for(var P=0;P<dm.data.length;P++){var g=b.V("button");
this.L9.push(g);this.eJ.appendChild(g);g.addEventListener("mouseover",u,!1);b.hh(g,u)}this.Qx=new dM([0,13,0],!1,null,!0);
this.Qx.f("click",this.D7,this);this.e.appendChild(this.Qx.e);this.aF=new dM(b.xz("tools/zoom",null,"autoscale"),!1,[12,86]);
this.aF.f("click",this.D7,this);this.e.appendChild(this.aF.e);this.mQ=new dM("<svg class=\"gsicon\" version=\"1.1\"  width=\"20\" height=\"20\" viewBox=\"8 8 20 20\"><path d=\"m 10,16 2,0 0,-4 4,0 0,-2 L 10,10 l 0,6 0,0 z\"></path><path d=\"m 20,10 0,2 4,0 0,4 2,0 L 26,10 l -6,0 0,0 z\"></path><path d=\"m 24,24 -4,0 0,2 L 26,26 l 0,-6 -2,0 0,4 0,0 z\"></path><path d=\"M 12,20 10,20 10,26 l 6,0 0,-2 -4,0 0,-4 0,0 z\"></path></svg>",!1,"Fullscreen");
this.mQ.f("click",this.D7,this);this.e.appendChild(this.mQ.e)}dm.prototype=new i6;dm.prototype.aqP=function(){if(this.Eq.length!=0)return;
for(var P=0;P<dm.data.length;P++){var u=dm.data[P],g=new aT(u.items,u.CR);g.parent=this;this.Eq.push(g)}this.N()};
dm.prototype.N=function(){this.Qx.N();this.aF.N();this.mQ.N();for(var P=0;P<this.L9.length;P++)this.L9[P].textContent=fc.get(dm.data[P].name);
this.a8z();for(var P=0;P<this.Eq.length;P++)this.Eq[P].N()};dm.prototype.D7=function(u){var g=new eG(h.E.Y,!0);
if(u.target==this.Qx)g.data={d:h.s.KP,Pu:"account"};else if(u.target==this.aF)g.data={d:h.s.o2};else g.data={d:h.s.Qe,G6:!0};
this.c(g)};dm.prototype.avr=function(u,g){this.i3=u;this.vI=g};dm.prototype.xY=function(u,g){this.vI=u;
if(g==hO.Jr){var K=u.a9u;b.Lh(this.eJ);for(var P=0;P<this.L9.length;P++){if(K==null||K[P]==1||K[P]instanceof Array)this.eJ.appendChild(this.L9[P]);
if(K!=null&&K[P]instanceof Array){this.aqP();this.Eq[P].asG(K[P])}}this.e.removeChild(this.Qx.e);this.e.removeChild(this.aF.e);
this.e.removeChild(this.mQ.e);if(u.NS)this.e.appendChild(this.Qx.e);this.e.appendChild(this.aF.e);this.e.appendChild(this.mQ.e)}this.a8z()};
dm.prototype.a8z=function(u,g){var K=this.Qx,X=12255232;if(cX.Ri())X=cX.FS()?43520:16755200;K.e.setAttribute("style","color:#ffffff; background-color:#"+f.ae(X))};
dm.prototype.o1=function(u){this.aqP();var P=this.L9.indexOf(u.currentTarget),g=this.Eq[P];if(u.type=="mouseover"&&!b.tV(this.Eq[this.arl].e))return;
if(b.tV(g.e))return;u.abq=!0;this.arl=P;for(var P=0;P<dm.data.length;P++)this.Eq[P].update(this.i3,this.vI);
var K=u.target.getBoundingClientRect(),X=new eG(h.E.Y,!0);X.data={d:h.s.dC,qD:g,x:K.left,y:K.top+K.height+2,apT:!0};
this.c(X)};dm.alk=function(u){var g=hW,K=g.A5,X=g.jl,w=g.Dd,D={name:[0,5],items:[{name:[7,0],l9:[K,g.s]},{name:[7,1],l9:[K,g.iO],K:function(C){return{K:C!=null&&C.q!=null}}},{name:[7,2],l9:[X,K,g.ym],K:function(C){return{K:C!=null&&C.q!=null}},nf:!0},{name:[7,8],L2:!0},{name:[7,13],L2:!0,K:function(C){return{K:C!=null&&C.z.length!=0&&!C.g[C.z[0]].rect.fg()}},nf:!0},{name:[7,11],L2:!0,K:function(C){return{K:C!=null&&C.z.length!=0&&!C.g[C.z[0]].rect.fg()}}},{name:[7,3],nf:!0,sub:[{name:[7,9],L2:!0,K:function(C){return{K:C!=null&&C.q!=null}}},{name:[19,3,0],L2:!0,K:function(C){return{K:C!=null&&C.q!=null}}},{name:[7,4],L2:!0,K:function(C){return{K:C!=null&&C.q!=null}}},{name:[7,5],L2:!0,K:function(C){return{K:C!=null&&C.q!=null}}},{name:[7,6],L2:!0,K:function(C){return{K:C!=null&&C.q!=null}},l9:"Shift+F6"}]},{name:[7,10],K:function(C){return{K:C!=null&&C.q!=null}},nf:!0},{name:[6,6,1],K:function(C){return{K:C!=null,Qw:C!=null&&C.N6()!=null}},l9:[g.S3],nf:!0},{name:["VAR0 VAR1",[1,2],[17,2]]}],CR:[{T:h.E.qf,M:R.uO.IX(!0)},{T:h.E.qf,M:R.uO.IX()},{T:h.E.qf,M:{$T:"inverse"}},{T:h.E.Y,M:{d:h.s.KP,Pu:"crange"}},{T:h.E.Y,M:{d:h.s.KP,Pu:"magiccut"}},{T:h.E.Y,M:{d:h.s.KP,Pu:"redge"}},{sub:[{T:h.E.Y,M:{d:h.s.KP,Pu:"sel_border"}},{T:h.E.Y,M:{d:h.s.KP,Pu:"sel_smoothness"}},{T:h.E.Y,M:{d:h.s.KP,Pu:"sel_expand"}},{T:h.E.Y,M:{d:h.s.KP,Pu:"sel_contract"}},{T:h.E.Y,M:{d:h.s.KP,Pu:"sel_feather"}}]},{T:h.E.Y,M:{d:h.s.LK,b:R.Gw}},{T:h.E.l,b:R.C1,M:{d:"qmask"}},{T:h.E.qf,M:{$T:"duplicate",NA:{classID:"null",null:{t:"obj ",v:[{t:"prop",v:{classID:"Chnl",keyID:"fsel"}}]}}}}]};
if(u){var q=D.items.length-1;D.items.splice(q-2,0,{name:[6,49],l9:[K,g.VQ],nf:!0});D.CR.splice(q-2,0,{T:h.E.qf,M:{$T:"copyToLayer"}});
D.items.splice(q-1,0,{name:[10,16],l9:[w,K,g.gJ]});D.CR.splice(q-1,0,{T:h.E.Y,M:{d:h.s.LK,b:R.fr}})}return D};
dm.data=function(){var u=hW,g=u.A5,K=u.jl,X=u.Dd,w=function(H){return{K:H!=null&&H.z.length!=0}},D=function(H){return{K:H!=null&&H.z.length!=0&&H.g[H.z[0]].add.SoLd!=null}},q=[],C=[],a="none maxx avrg medn minn rang stdv summ vari".split(" "),x=[[22,5,0],[24,17,2],[24,3,0],[24,7,3],[24,17,3],[12,12],"Standard Deviation","Summation","Variance"];
for(var P=0;P<a.length;P++){q.push({name:x[P],K:function(H,$){if(H==null||H.z.length!=1)return{K:!1};
var r=H.g[H.z[0]].add.SoLd;if(r==null)return{K:!1};return{K:!0,Qw:r.Impr.v.classID==this.arU}}.bind({arU:a[P]})});
C.push({T:h.E.l,b:R.QA,M:{d:l.uw,a5:a[P]}})}return[{name:[0,0],items:[{name:[5,3],l9:[X,g,u.ny],title:[11,7],L2:!0},{name:[1,0],l9:[g,u.qk],L2:!0},{name:[1,11],L2:!0,K:function(H,$){return{K:H!=null}}},{name:["VAR0 VAR1",[1,0],[0,14]],nf:!0,sub:[{name:"From Storage",L2:!0},{name:[1,5],L2:!0},{name:[11,0],L2:!0},{name:["PSD VAR0",[25,0]],L2:!0}]},{name:[1,1],nf:!0,sub:[{name:"PNG",l9:"Imgur.com",K:function(H,$){return{K:H!=null&&$.xh}}},{name:"JPG",l9:"Imgur.com",K:function(H,$){return{K:H!=null&&$.xh}}},{name:"PSD",l9:"Photopea.com",K:function(H,$){return{K:H!=null&&$.xh&&!H.jJ}}}]},{name:"Save ...",l9:[g,u.Fj],K:function(H,$){var r=fc.get([1,2]),c=!0;
if(H){if(H.Ke)r+=" ("+fc.get([6,7,1])+")";if(H.ge)r+=" (Google Drive)";if(H.Xd)r+=" ("+Storage.list[H.Xd[0]][0]+")";
c="psd jpg png gif webp svg bmp".split(" ").indexOf(H.Ar)!=-1}return{K:H!=null&&(H.Xd!=null||H.cp!=null&&c||H.Ke!=null||H.oy!=null&&H.oy.YY!=null||H.ge!=null||$.Vv.save!=null),Vj:r}}},{name:[1,3],K:function(H,$){return{K:H!=null&&!H.jJ&&$.xh}}},{name:["VAR0 VAR1",[1,2],[0,14]],sub:[{name:"PSD to Storage",K:function(H,$){return{K:H!=null&&!H.jJ&&$.xh}}},{name:["VAR0 PSD/PSB",[1,2]],L2:!0,K:function(H,$){return{K:H!=null&&!H.jJ&&$.xh}}}]},{name:[1,8],sub:function(){var H=eH._O(0),$=[];
for(var P=0;P<H.length;P++)$.push({name:H[P],l9:"."+H[P].toLowerCase()});$.push({name:[0,14],sub:function(){var H=eH._O(1),$=[];
for(var P=0;P<H.length;P++)$.push({name:H[P],l9:"."+H[P].toLowerCase()});return $}()});return $}()},{name:[1,4],L2:!0,K:function(H,$){return{K:H!=null}},nf:!0},{name:[1,9],L2:!0,K:function(H,$){return{K:H!=null}}},{name:"Export Color Lookup",L2:!0,K:function(H,$){return{K:H!=null}},nf:!0},{name:[1,14],L2:!0,K:function(H,$){return{K:H!=null}},nf:!0},{name:[1,10]}],CR:[{T:h.E.Y,M:{d:h.s.KP,Pu:"newproject"}},{T:h.E.Y,M:{d:h.s.kc}},{T:h.E.Y,M:{d:h.s.kc,awQ:!0}},{sub:[{T:h.E.Y,M:{d:h.s.KP,Pu:"storwindow",Yw:0}},{T:h.E.Y,M:{d:h.s.KP,Pu:"open_from_url"}},{T:h.E.Y,M:{d:h.s.KP,Pu:"camera"}},{T:h.E.Y,M:{d:h.s.KP,Pu:"templates"}}]},{sub:[{T:h.E.Y,M:{d:h.s.b8,e7:"png"}},{T:h.E.Y,M:{d:h.s.b8,e7:"jpg"}},{T:h.E.Y,M:{d:h.s.b8,e7:"psd"}}]},{T:h.E.Y,M:{d:h.s.Jl}},{T:h.E.Y,M:{d:h.s.so}},{sub:[{T:h.E.Y,M:{d:h.s.KP,Pu:"storwindow",Yw:1}},{T:h.E.Y,M:{d:h.s.KP,Pu:"savepsb"}}]},{sub:function(){var H=eH._O(0),$=[];
for(var P=0;P<H.length;P++)$.push({T:h.E.Y,M:{d:h.s.KP,Pu:"saveforweb",e7:P}});$.push({sub:function(){var r=eH._O(0).length,H=eH._O(1),$=[];
for(var P=0;P<H.length;P++)$.push({T:h.E.Y,M:{d:h.s.KP,Pu:"saveforweb",e7:r+P}});return $}()});return $}()},{T:h.E.Y,M:{d:h.s.KP,Pu:"saveforweb",e7:4,aww:!0}},{T:h.E.Y,M:{d:h.s.KP,Pu:"eassets"}},{T:h.E.Y,M:{d:h.s.KP,Pu:"exlut"}},{T:h.E.Y,M:{d:h.s.KP,Pu:"finfo"}},{T:h.E.Y,M:{d:h.s.KP,Pu:"script"}}]},{name:[0,1],items:[{name:[2,8]},{name:[2,0],l9:[K,g,u.QN]},{name:[2,1],l9:[g,u.QN],nf:!0},{name:[2,11],l9:[K,g,u.m$],nf:!0,L2:!0,K:function(H,$){return{K:iZ.aco(H)&&$.Wp!=R.fr}}},{name:[5,0],l9:[g,u.O3],K:function(H){return{K:H!=null&&H.dW()}}},{name:[5,1],l9:[g,u.JR],K:function(H){return{K:H!=null}}},{name:[5,7],l9:[K,g,u.JR],K:function(H){return{K:H!=null&&H.dW()}}},{name:[5,2],l9:[g,u.E6],K:function(H,$){return{K:b.mA()||$.xl!=null||$.We!=null||$.amx!=null}}},{name:[2,2],K:function(H){return{K:H!=null&&H.q!=null}},l9:"Delete",nf:!0},{name:[2,3],K:function(H){return{K:H!=null}},L2:!0,l9:[K,u.Zj]},{name:[14,9],K:function(H){return{K:H!=null}},L2:!0,nf:!0},{name:[10,48],K:function(H){return{K:H!=null&&H.KL(!1)}}},{name:[10,46],K:function(H){return{K:R.wX.a70(H)}}},{name:[10,16],l9:[X,g,u.gJ]},{name:[2,4],sub:by.a8I()},{name:[2,10,1]},{name:[2,10,0],nf:!0},{name:[12,87],sub:[{name:[12,62],K:function(H){return{K:H!=null}}},{name:[9,3],K:function(H){return{K:H!=null}}},{name:[10,31],K:function(H){return{K:H!=null&&H.f$()[1].length!=0}}}]},{name:[1,15],L2:!0},{name:[12,79],L2:!0,l9:[g,u.ex]},{name:[1,13],L2:!0}],CR:[{T:h.E.l,b:R.QV,M:{d:"h_undoredo"}},{T:h.E.l,b:R.QV,M:{d:"h_stepfwd"}},{T:h.E.l,b:R.QV,M:{d:"h_stepbck"}},{T:h.E.Y,M:{d:h.s.KP,Pu:"afw_fade"}},{T:h.E.Y,M:{d:h.s.VO}},{T:h.E.Y,M:{d:h.s.AQ}},{T:h.E.Y,M:{d:h.s.AQ,LT:!0}},{T:h.E.Y,M:{d:h.s.Va}},{T:h.E.qf,M:{$T:"delete"}},{T:h.E.Y,M:{d:h.s.KP,Pu:"fill"}},{T:h.E.Y,M:{d:h.s.KP,Pu:"stroke"}},{T:h.E.Y,M:{d:h.s.LK,b:R.i2}},{T:h.E.l,b:R.DQ,M:{d:"start",YL:"rigidTransform"}},{T:h.E.Y,M:{d:h.s.LK,b:R.fr}},{sub:by.asc()},{T:h.E.qf,M:{$T:"align",NA:{classID:"null",null:{t:"obj ",v:[{t:"Enmr",v:{classID:"Lyr",typeID:"Ordn",enum:"Trgt"}}]},Usng:{t:"enum",v:{ADSt:"ADSContent"}},alignToCanvas:{t:"bool",v:!1},Aply:{t:"enum",v:{projection:"Auto"}},vignette:{t:"bool",v:!1},radialDistort:{t:"bool",v:!1}}}},{T:h.E.l,b:R.QA,M:{d:l.anc}},{sub:[{T:h.E.Y,M:{d:h.s.L6,M3:0}},{T:h.E.Y,M:{d:h.s.L6,M3:1}},{T:h.E.Y,M:{d:h.s.L6,M3:2}}]},{T:h.E.Y,M:{d:h.s.KP,Pu:"pmanager"}},{T:h.E.Y,M:{d:h.s.KP,Pu:"preferences"}},{T:h.E.Y,M:{d:h.s.KP,Pu:"locstor"}}]},{name:[0,2],items:[{name:[12,36],K:function(H){return{K:H!=null}},nf:!0,sub:[{name:"RGB",K:function(H){if(H==null)return{K:!1};
return{Qw:H.add.fcmy==null,K:!0}}},{name:"CMYK",K:function(H){if(H==null)return{K:!1};return{Qw:H.add.fcmy!=null,K:!0}}}]},{name:[3],nf:!0,sub:function(){var H=[];
for(var $ in jO.names){H.push({name:jO.names[$],L2:_[$]!=null,l9:jO.keys[$],nf:jO.aq_.indexOf($)!=-1});
if($=="selc"){H.push({name:["VAR0/VAR1",[19,6,0],[19,6,2]],L2:!0,nf:!0});H.push({name:[19,7,0],l9:[g,K,u.Pw],K:function($){return{K:$!=null&&$.KL(!1)}}});
H.push({name:[4,18],L2:!0,K:function($){return{K:$!=null&&$.KL(!1)}}})}}return H}()},{name:[4,16,0],K:function(H){return{K:H!=null&&H.KL(!1)}}},{name:[4,16,1],K:function(H){return{K:H!=null&&H.KL(!1)}}},{name:[4,16,2],K:function(H){return{K:H!=null&&H.KL(!1)}},nf:!0},{name:[11,11,1],K:function(H){return{K:H!=null&&H.KL(!1)}}},{name:[11,11,0],K:function(H){return{K:H!=null&&H.KL(!1)}},nf:!0},{name:[11,3],L2:!0,l9:[X,g,u.JR]},{name:[11,10],L2:!0,l9:[X,g,u.ym]},{name:[2,4],sub:[{name:["VAR0 90\xB0 \u21BB",[2,5]]},{name:["VAR0 90\xB0 \u21BA",[2,5]]},{name:["VAR0 180\xB0",[2,5]]},{name:[[2,6],[22,4,2]]},{name:[[2,6],[22,4,3]]}]},{name:[11,12,1],K:function(H){return{K:H!=null&&H.q!=null}}},{name:[11,12,0],K:function(H){return{K:H!=null}},l9:[g,u.mb],L2:!0},{name:[11,12,2],K:function(H){return{K:H!=null}},nf:!0},{name:[2,12],K:function(H){return{K:H!=null&&H.KL(!1)}},L2:!0,nf:!0},{name:"Variables",K:function(H){return H!=null},L2:!0}],CR:[{sub:[{T:h.E.l,b:R.Hx,M:{d:"fcmy",h:0}},{T:h.E.l,b:R.Hx,M:{d:"fcmy",h:1}}]},{sub:function(){var H=[];
for(var $ in jO.names){H.push({T:h.E.l,b:R.sM,M:{d:"start",W1:$}});if($=="selc"){H.push({T:h.E.l,b:R.DQ,M:{d:"start",YL:"adaptCorrect"}});
H.push({T:h.E.qf,M:{$T:"desaturate"}});H.push({T:h.E.l,b:R.sM,M:{d:"start",W1:"matc"}})}}return H}()},{T:h.E.qf,M:{$T:"levels",NA:{classID:"Lvls",Auto:{t:"bool",v:!0}}}},{T:h.E.qf,M:{$T:"levels",NA:{classID:"Lvls",AuCo:{t:"bool",v:!0}}}},{T:h.E.qf,M:{$T:"levels",NA:{classID:"Lvls",autoBlackWhite:{t:"bool",v:!0},autoNeutrals:{t:"bool",v:!0}}}},{T:h.E.Y,M:{d:h.s.KP,Pu:"rcolors"}},{T:h.E.Y,M:{d:h.s.KP,Pu:"vbitmap"}},{T:h.E.Y,M:{d:h.s.KP,Pu:"csize"}},{T:h.E.Y,M:{d:h.s.KP,Pu:"isize"}},{sub:[{T:h.E.qf,M:R.S.__(!0,90)},{T:h.E.qf,M:R.S.__(!0,-90)},{T:h.E.qf,M:R.S.__(!0,-180)},{T:h.E.qf,M:R.S.__(!1,"Hrzn")},{T:h.E.qf,M:R.S.__(!1,"Vrtc")}]},{T:h.E.l,b:R.XQ,M:{d:"cropbysel",anN:0}},{T:h.E.Y,M:{d:h.s.KP,Pu:"trim"}},{T:h.E.qf,M:{$T:"revealAll",NA:{classID:"RvlA"}}},{T:h.E.l,b:R.sM,M:{d:"start",W1:"aply"}},{T:h.E.Y,M:{d:h.s.KP,Pu:"varsdats"}}]},{name:[0,3],items:[{name:[5,3],sub:[{name:[0,3],l9:[K,g,u.ny]},{name:[0,4]},{name:[1,16,0],L2:!0},{name:[1,16,3],L2:!0,nf:!0},{name:[6,49,0],l9:[g,u.VQ]},{name:[6,49,1],l9:[K,g,u.VQ],K:function(H){return{K:H!=null&&H.q!=null&&H.KL(!1)}}}]},{name:[6,0],K:w,l9:[g,u.VQ]},{name:[11,4],K:w},{name:[5,4],K:w,nf:!0},{name:[11,6],nf:!0,K:w,sub:fe.zw(!0)},{name:[6,48,1],sub:[{name:[6,48,0,0]},{name:[6,48,0,1]},{name:[6,48,0,2]}]},{name:[6,1],nf:!0,sub:fe.awO()},{name:[6,2],sub:[{name:[6,4],K:function(H){return{K:H!=null&&H.z.length!=0&&H.g[H.z[0]].Zv()==null}}},{name:[6,5,0],K:function(H){return{K:H!=null&&H.z.length!=0&&H.g[H.z[0]].Zv()==null}}},{name:[6,5,1],K:function(H){return{K:H!=null&&H.z.length!=0&&H.g[H.z[0]].Zv()==null&&H.q!=null}}},{name:[6,5,2],K:function(H){return{K:H!=null&&H.z.length!=0&&H.g[H.z[0]].Zv()==null&&H.q!=null}}},{name:[6,5,3],K:function(H){return{K:H!=null&&H.z.length!=0&&H.g[H.z[0]].Zv()==null}},nf:!0},{name:[5,4],K:function(H){return{K:H!=null&&H.z.length!=0&&H.g[H.z[0]].Zv()!=null}}},{name:[5,8],K:function(H){return{K:H!=null&&H.z.length!=0&&H.g[H.z[0]].Zv()!=null&&H.KL(!1,!0)}}},{name:["VAR0/VAR1",[5,5],[5,6]],K:function(H){return{K:H!=null&&H.z.length!=0&&H.g[H.z[0]].Zv()!=null}}}]},{name:[6,3],sub:[{name:[6,4],K:function(H){return{K:H!=null&&H.z.length!=0&&H.g[H.z[0]].add.vmsk==null}}},{name:[6,5,0],K:function(H){return{K:H!=null&&H.z.length!=0&&H.g[H.z[0]].add.vmsk==null}}},{name:"Current Path",K:function(H){return{K:H!=null&&H.z.length!=0&&H.g[H.z[0]].add.vmsk==null}},nf:!0},{name:[5,4],K:function(H){return{K:H!=null&&H.z.length!=0&&H.g[H.z[0]].add.vmsk!=null}}},{name:["VAR0/VAR1",[5,5],[5,6]],K:function(H){return{K:H!=null&&H.z.length!=0&&H.g[H.z[0]].add.vmsk!=null}}}]},gL.a0A(!0),{name:[6,7,1],nf:!0,sub:[{name:[6,7,0]},{name:[6,36,4],K:D,sub:q},{name:[1,0],K:D,nf:!0},{name:"Turn into JPG"}]},{name:[6,8],K:gL.aeX},{name:[6,34],nf:!0,K:function(H){if(H==null||H.z.length==0)return{K:!1};
var $=H.g[H.z[0]];return{K:$.add.lmfx!=null&&!$.xp()}}},{name:[6,9],nf:!0,l9:[g,u.u_]},{name:[6,55],nf:!0,sub:[{name:[6,56,0],l9:[K,g,u.JO]},{name:[6,56,1],l9:[g,u.JO]},{name:[6,56,2],l9:[g,u.iy]},{name:[6,56,3],l9:[K,g,u.iy]}]},{name:[6,58],nf:!0,sub:[{name:["Make Frames"]},{name:["Unmake Frames"]},{name:[18,5]}]},{name:[6,12,0],l9:[g,u.E],K:function(H){var $=H==null?0:H.z.length;
return{K:$!=0&&($!=1||H.z[0]!=0),Vj:fc.get($>1||$==1&&H.g[H.z[0]].xp()?[6,12,0]:[6,10])}}},{name:[6,12,1]},{name:"Defringe"}],CR:[{sub:[{T:h.E.l,b:R.QA,M:{d:l.Vq}},{T:h.E.l,b:R.QA,M:{d:l.nk}},{T:h.E.Y,M:{d:h.s.KP,Pu:"newartb",Yw:0}},{T:h.E.Y,M:{d:h.s.KP,Pu:"newartb",Yw:1}},{T:h.E.qf,M:{$T:"copyToLayer"}},{T:h.E.qf,M:{$T:"cutToLayer"}}]},{T:h.E.l,b:R.QA,M:{d:l.bm}},{T:h.E.Y,M:{d:h.s.KP,Pu:"duplinto"}},{T:h.E.l,b:R.QA,M:{d:l.B4}},{sub:fe.c_(!0)},{sub:[{T:h.E.l,b:R.Zl,M:{d:"newfill",rM:0}},{T:h.E.qf,M:R.kN.cH(1)},{T:h.E.qf,M:R.kN.cH(2)}]},{sub:fe.Fe()},{sub:[{T:h.E.l,b:R.QA,M:{d:l.wa,Yw:"RvlA"}},{T:h.E.l,b:R.QA,M:{d:l.wa,Yw:"HdAl"}},{T:h.E.l,b:R.QA,M:{d:l.wa,Yw:"RvlS"}},{T:h.E.l,b:R.QA,M:{d:l.wa,Yw:"HdSl"}},{T:h.E.l,b:R.QA,M:{d:l.wa,Yw:"Trns"}},{T:h.E.l,b:R.QA,M:{d:l.Bs}},{T:h.E.l,b:R.QA,M:{d:l.yM}},{T:h.E.l,b:R.QA,M:{d:l.vq}}]},{sub:[{T:h.E.l,b:R.QA,M:{d:l.cP,amj:!1}},{T:h.E.l,b:R.QA,M:{d:l.cP,amj:!0}},{T:h.E.l,b:R.QA,M:{d:l.cP,aib:!0}},{T:h.E.l,b:R.QA,M:{d:l.NQ}},{T:h.E.l,b:R.QA,M:{d:l.r7}}]},{T:h.E.l,b:R.QA,M:{d:l.pV}},{sub:[{T:h.E.qf,M:{$T:"newPlacedLayer"}},{sub:C},{T:h.E.qf,M:{$T:"placedLayerEditContents",NA:{classID:"placedLayerEditContents"}}},{T:h.E.l,b:R.QA,M:{d:l.abA}}]},{T:h.E.qf,M:{$T:"rasterizeLayer",NA:{classID:"rasterizeLayer",null:bd.Af("Lyr",!0)}}},{T:h.E.l,b:R.QA,M:{d:l.Hd}},{T:h.E.l,b:R.QA,M:{d:l.Nc}},{sub:[{T:h.E.l,b:R.QA,M:{d:l.Qb,KR:0}},{T:h.E.l,b:R.QA,M:{d:l.Qb,KR:1}},{T:h.E.l,b:R.QA,M:{d:l.Qb,KR:2}},{T:h.E.l,b:R.QA,M:{d:l.Qb,KR:3}}]},{sub:[{T:h.E.l,b:R.QA,M:{d:l._t,KR:"makeframes"}},{T:h.E.l,b:R.QA,M:{d:l._t,KR:"unmakeframes"}},{T:h.E.l,b:R.QA,M:{d:l._t,KR:"merge"}}]},{T:h.E.qf,M:{$T:"mergeLayersNew",NA:{__name:"Merge Layers",classID:"Mrg2"}}},{T:h.E.qf,M:{$T:"flattenImage"}},{T:h.E.l,b:R.DQ,M:{d:"start",YL:"defr"}}]},dm.alk(!1),function(){var H={name:[0,6],items:[{name:[24,18,4],l9:[X,g,u.m$],nf:!0}],CR:[{T:h.E.l,b:R.DQ,M:{d:"applylast"}}]};
for(var P=0;P<dJ.Jy.length;P++){var $=dJ.Jy[P];if($.Gu!=null){H.items.push({name:dJ.names[$.Gu],L2:!0,nf:$.nf});
H.CR.push({T:h.E.l,b:R.DQ,M:{d:"start",YL:$.Gu}});continue}var r={name:$.Sm,sub:[]};H.items.push(r);
var c={sub:[]};H.CR.push(c);for(var U=0;U<$.rG.length;U++){var O={name:dJ.names[$.rG[U]],L2:dJ.mt($.rG[U])!=null};
r.sub.push(O);var A={T:h.E.l,b:R.DQ,M:{d:"start",YL:$.rG[U]}};c.sub.push(A)}}return H}(),{name:[0,7],items:[{name:[8,0],l9:[g,u.RD]},{name:[8,1],l9:[g,u.gZ]},{name:[20,3],l9:[g,u.cj]},{name:[20,2],l9:[g,u.ih]},{name:"Pattern Preview",K:function(H,$){return{Qw:H!=null&&H.Wr}},nf:!0},{name:"Screen Mode",nf:!0,sub:[{name:"Fullscreen",K:function(H,$){return{Qw:document.fullscreenElement!=null}},nf:!0},{name:"Standard",K:function(H,$){return{Qw:$.Rg==0}}},{name:"Menu Bar and Canvas",K:function(H,$){return{Qw:$.Rg==1}}}]},{name:[8,13],l9:[g,u.y7],K:function(H,$){return{Qw:$.yO}}},{name:[8,12],nf:!0,sub:[{name:[17,2],K:function(H,$){return{K:$.yO,Qw:$.Pk.bA}}},{name:[8,9],K:function(H,$){return{K:$.yO,Qw:$.Pk.Ml}}},{name:[8,2],K:function(H,$){return{K:$.yO,Qw:$.Pk.m_}},l9:[g,u.$U]},{name:[8,4],K:function(H,$){return{K:$.yO,Qw:$.Pk.Dl}},l9:[g,u.ev]},{name:[8,8],K:function(H,$){return{K:$.yO,Qw:$.Pk.v$}}},{name:[8,11,0],K:function(H,$){return{K:$.yO,Qw:$.Pk.BD}}}]},{name:[8,3],K:function(H,$){return{Qw:$.OB}},l9:[g,u.vZ],nf:!0},{name:[8,5],K:function(H,$){return{Qw:$.l5}}},{name:[8,6],nf:!0,sub:[{name:[8,2],K:function(H,$){return{Qw:$.Cw[0]}}},{name:[8,4],K:function(H,$){return{Qw:$.Cw[1]}}},{name:[9,1],K:function(H,$){return{Qw:$.Cw[2]}}},{name:[8,11,0],K:function(H,$){return{Qw:$.Cw[3]}}},{name:[8,7],K:function(H,$){return{Qw:$.Cw[4]}}}]},{name:[11,15,2],K:function(H,$){return{K:H!=null,Qw:H!=null&&H.Qz}}},{name:[11,15,0],K:function(H,$){return{K:H!=null}}},{name:[11,14],K:function(H,$){return{K:H!=null}},L2:!0},{name:[11,15,1],K:function(H,$){return{K:H!=null&&H.z.length!=0}},nf:!0},{name:[8,11,2],K:function(H,$){return{K:H!=null&&H.BD.length!=0}}}],CR:[{T:h.E.l,b:R.d0,M:{d:"zoom",bZ:!0}},{T:h.E.l,b:R.d0,M:{d:"zoom",bZ:!1}},{T:h.E.l,b:R.d0,M:{d:"adapt",h:"fitscr"}},{T:h.E.l,b:R.d0,M:{d:"adapt",h:"pixel"}},{T:h.E.l,b:R.Hx,M:{d:"pview"}},{sub:[{T:h.E.Y,M:{d:h.s.Qe,G6:!0}},{T:h.E.Y,M:{d:h.s.Qe,h:0}},{T:h.E.Y,M:{d:h.s.Qe,h:1}},{T:h.E.Y,M:{d:h.s.Qe,h:2}}]},{T:h.E.Y,M:{d:h.s.zS,M3:hO.D9}},{sub:[{T:h.E.Y,M:{d:h.s.zS,M3:hO.vY}},{T:h.E.Y,M:{d:h.s.zS,M3:hO.Vp}},{T:h.E.Y,M:{d:h.s.zS,M3:hO.Yc}},{T:h.E.Y,M:{d:h.s.zS,M3:hO.pk}},{T:h.E.Y,M:{d:h.s.zS,M3:hO.ZR}},{T:h.E.Y,M:{d:h.s.zS,M3:hO.wH}}]},{T:h.E.Y,M:{d:h.s.zS,M3:hO.vX}},{T:h.E.Y,M:{d:h.s.zS,M3:hO.akM}},{sub:[{T:h.E.Y,M:{d:h.s.zS,M3:hO.Bv,EP:0}},{T:h.E.Y,M:{d:h.s.zS,M3:hO.Bv,EP:1}},{T:h.E.Y,M:{d:h.s.zS,M3:hO.Bv,EP:2}},{T:h.E.Y,M:{d:h.s.zS,M3:hO.Bv,EP:3}},{T:h.E.Y,M:{d:h.s.zS,M3:hO.Bv,EP:4}}]},{T:h.E.l,b:R.Hx,M:{d:"lockguides"}},{T:h.E.l,b:R.Hx,M:{d:"gids",rK:[[],[]]}},{T:h.E.Y,M:{d:h.s.KP,Pu:"addguides"}},{T:h.E.l,b:R.Hx,M:{d:"gidsFromLayer"}},{T:h.E.l,b:R.m8,M:{d:"deleteAll"}}]},function(){var H={name:[0,8],items:[{name:[0,14],nf:!0,sub:[]}],CR:[{sub:[]}]};
for(var P=0;P<jU.eo.length;P++){var $=jU.eo[P],r=function(){var c=$.qD.aC;return function(U,O){return{Qw:O.Eq.indexOf(parseInt(c))!=-1}}}();
($.Y9?H.items[0].sub:H.items).push({name:$.qD.name,K:r});($.Y9?H.CR[0].sub:H.CR).push({T:h.E.Y,M:{d:h.s.QI,Pu:$.qD.aC}})}return H}(),function(){var H={name:[0,14],items:[],CR:[]},$={name:[0,9],sub:[]};
H.items.push($);var r={sub:[]};H.CR.push(r);var c=fc.a8G();for(var P=0;P<c.length;P++){var U=c[P],O=U.code,A=fc.a66(O);
$.sub.push({name:U.name,l9:O,K:function(m,i){return{Qw:this.l9==fc.GN()}}});r.sub.push({T:h.E.Y,M:{d:h.s.zS,M3:hO.a0,lang:A}})}$.sub.push({name:[0,12]});
r.sub.push({T:h.E.Y,M:{d:h.s.cF,link:"https://www.photopea.com/translate/"}});var $={name:[0,15],sub:[]};
H.items.push($);var r={sub:[]};H.CR.push(r);for(var P=0;P<hn.bg.length;P++){$.sub.push({name:hn.bg[P].name,K:function(m,i){return{Qw:this.name==hn.bg[i.Ki].name}}});
r.sub.push({T:h.E.Y,M:{d:h.s.zS,M3:hO.wv,Ki:P}})}H.items.push({name:[0,17,6],K:function(m,i){return{K:i.iP!=null}}});
H.CR.push({T:h.E.Y,M:{d:h.s.afT}});H.items.push({name:[11,13]});H.CR.push({T:h.E.Y,M:{d:h.s.KP,Pu:"shortcuts"}});
H.items.push({name:[0,16],K:function(m){return{Qw:s.xA,K:s.lE}},nf:!0});H.CR.push({T:h.E.Y,M:{d:h.s.afU}});
H.items.push({name:"",K:function(m,i){return i.NS?{Vj:"About Photopea",K:!0}:{Vj:"",K:!1}}});H.CR.push({T:h.E.Y,M:{d:h.s.KP,Pu:"aboutpp"}});
return H}()]}();function h0(){i6.call(this);this.e=b.V("div","");this.Fk=0;this.vS=0;this.nC=null;this.lp=b.V("div","");
this.lp.setAttribute("style","width:200em; height:100em; position:absolute;");this.UU=[];this.TC=[];
this.Mr={}}h0.prototype=new i6;h0.prototype.RU=function(u){var g=Date.now(),K=[];if(u=="-")K=[new dA,new jL,new hu,new gE,new bF,new cH,new gs,new gG,new il,new j0,new ax,new g6,new du,new aQ,new g2,new fe,new hT,new e7,new kd,new iT,new f5,new bO,new fV,new aj,new gF,new iQ,new eu(!1),new eu(!0),new hl(0),new hl(1),new dP,new bP,new gD,new c5,new kb,new is,new ct,new ht,new gX,new ka,new fv,new a0,new gR,new fT("border",[7,9],"px"),new fT("smoothness",[19,3,0],"px"),new fT("expand",[7,4],"px"),new fT("contract",[7,5],"px"),new fT("feather",[7,6],"px"),new dv(0,"namewindow",[12,48]),new dv(2,"billto","Bill To"),new dv(1,"cornerradius",[12,94,0],"px",!0,!0),new dv(1,"scaleeffects","Scale Effects","%",!0),new dv(1,"doczoom","Zoom","%",!0),new dv(1,"setFPS","Set FPS","fps",!1)];
else K=[new iZ(u.slice(4))];this.auw(K);this.Mr[u]=!0};h0.prototype.auw=function(u){var g=this.nC;for(var P=0;
P<u.length;P++){var K=u[P];K.parent=this;this.TC.push(K);this.KG(K);K.N();if(g)K.xY(g,hO.Jr);K.f(h.E.VM,this.EZ,this)}};
h0.prototype.rc=function(u,g){this.Fk=u;this.vS=g;for(var P=0;P<this.TC.length;P++)this.KG(this.TC[P])};
h0.prototype.N=function(){for(var P=0;P<this.TC.length;P++)this.TC[P].N()};h0.prototype.Re=function(){return this.UU.length==0?null:this.UU[this.UU.length-1]};
h0.prototype.Sn=function(){for(var P=0;P<this.UU.length;P++)if(this.UU[P].Sn())return!0;return!1};h0.prototype.a4B=function(u,g,K,X,w){var D=u.startsWith("afw_"),q=null;
if(!D&&!this.Mr["-"])this.RU("-");if(D&&!this.Mr[u])this.RU(u);if(typeof u=="object"){q=u;if(!q.a57(h.E.VM,this.EZ))q.f(h.E.VM,this.EZ,this);
q.parent=this}else for(var P=0;P<this.TC.length;P++)if(this.TC[P].id==u)q=this.TC[P];if(this.Sn()&&q.Sn()){alert("Finish the current action first");
return}if(!q.yL(g))return;if(this.UU.indexOf(q)!=-1){if(u=="colorpicker")q.AF(g,K,X,w);return}var C=this.UU.length-1;
if(C>=0)b.AD(this.UU[C].e,"wdisabled");this.e.appendChild(q.e);this.UU.push(q);this.KG(q);q.AF(g,K,X,w)};
h0.prototype.KG=function(u){var g=this.Fk,K=this.vS,X=u.hM(g,K),w;if(X!=null){w=X}else{X=new j4(0,0);
w=u.ag_();if(w==null){var D=this.UU.indexOf(u)+1;if(g<450||K<450)w=new j4(0,0);else w=new j4(D*150,D*150)}}u.e.style.left=w.x+"px";
u.e.style.top=this.e.offsetTop+w.y+"px";u.rc(this.Fk-X.x*2,this.vS-X.y*2-34)};h0.prototype.xY=function(u,g){this.nC=u;
for(var P=0;P<this.TC.length;P++)this.TC[P].xY(u,g)};h0.prototype.EZ=function(u){var g=this.UU.pop();
this.e.removeChild(g.e);var K=this.UU.length-1;if(K>=0)b._n(this.UU[K].e,"wdisabled");if(this.lp.parentNode==this.e)this.e.removeChild(this.lp)};
window.onload=function(){document.body.appendChild(new ei().e)}}())
